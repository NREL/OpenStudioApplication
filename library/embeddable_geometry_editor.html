<!DOCTYPE html>
<html>
    <head>
        <meta charset=utf-8>
        <title>geometry-editor</title>
        <style>
            @import url(https://fonts.googleapis.com/css?family=Roboto);@import url(https://fonts.googleapis.com/css?family=Roboto);@import url(https://fonts.googleapis.com/css?family=Roboto);body,html{color:#bbc3c7;font-size:16px;font-family:Roboto,sans-serif;height:100vh;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;margin:0}body h1,body h2,body h3,body h4,html h1,html h2,html h3,html h4{font-weight:100}body a,html a{color:#008500}body a:hover,html a:hover{cursor:pointer}body{overflow:hidden}#toolbar{background-color:#2b3134;border-bottom:1px solid #525d64}main{background-color:#24292c}main #navigation{background-color:#2b3134;border-right:1px solid #525d64}.disabled-component{position:relative}.disabled-component>:first-child:before{position:absolute;content:"";left:0;right:0;top:0;bottom:0;background:rgba(36,41,44,.6);z-index:100}main #images .konvajs-content{z-index:1}main #images,main #map-container{position:absolute;top:0;bottom:0}#toolbar{top:0;height:5rem}#layout-main,#toolbar{position:fixed;left:0;right:0}#layout-main{top:5rem;bottom:30%}#layout-main>*{position:absolute;top:0;bottom:0}#layout-main #layout-navigation{left:0;width:17.5rem}#layout-main main{left:17.5rem;right:0}#layout-library{position:fixed;bottom:0;left:0;right:0;top:70%}.tool_select polygon{cursor:pointer}#grid svg *,.tool_drag #svg-grid path,.tool_drag #svg-grid polygon,.tool_drag #svg-grid rect{pointer-events:none}#grid svg ellipse:not(.origin){fill:#839199;stroke:#839199}#grid svg ellipse:not(.origin).highlight{stroke:red;fill:red}#grid svg ellipse.origin{stroke:#839199}#grid svg line.horizontal,#grid svg line.vertical{stroke:red;opacity:.25}#grid svg line.highlight{stroke:#ff0;z-index:10}#grid svg path,#grid svg polygon,#grid svg rect{fill-opacity:.9;z-index:3;pointer-events:all;stroke:#839199}#grid svg path.current,#grid svg polygon.current,#grid svg rect.current{stroke:#a70000;stroke-width:2px}#grid svg path.guideLine,#grid svg path.previousStory,#grid svg polygon.guideLine,#grid svg polygon.previousStory,#grid svg rect.guideLine,#grid svg rect.previousStory{fill-opacity:.3;z-index:-1}#grid svg path.previousStory,#grid svg polygon.previousStory,#grid svg rect.previousStory{stroke-dasharray:10;stroke:#000;stroke-width:2}#grid svg rect.view{fill-opacity:0}#grid svg .axis line{stroke-opacity:.3;shape-rendering:crispEdges;stroke:#3b4348}.input-checkbox,.input-number,.input-select,.input-text{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex}.input-checkbox label,.input-number label,.input-select label,.input-text label{font-size:.625rem;margin:0 .25rem 0 0;text-transform:uppercase}.input-number input,.input-text input{background-color:#2b3134;border:0;border-radius:.35rem;color:#bbc3c7;height:2rem;padding:0 .75rem;-webkit-appearance:none}.input-text input{width:15rem}.input-number input{width:2.5rem}.input-select{position:relative}.input-select select{background-color:#2b3134;border:0;color:#bbc3c7;-ms-flex-positive:2;flex-grow:2;height:2rem;padding:0 1.75rem 0 .75rem;-webkit-appearance:none}.input-select svg{pointer-events:none;position:absolute;right:.5rem;top:calc(50% - 3px)}.input-select svg path{fill:#525d64}button{background-color:#2b3134;border:1px solid #525d64;border-radius:.35rem;cursor:pointer;color:#bbc3c7;height:2rem;outline:none;padding:0 .75rem}.overlay{background-color:#24292c;height:100vh;left:0;opacity:.5;position:absolute;top:0;width:100%;z-index:3}.modal{background-color:#3b4348;border:1px solid #525d64;border-radius:1rem;left:50%;min-height:10rem;position:fixed;top:50%;transform:translate(-50%,-50%);width:25rem;z-index:4}.modal header{padding:.5rem;text-align:center;background-color:#2b3134;border-radius:.9rem .9rem 0 0}.modal header h2{display:inline;font-size:.7rem;text-transform:uppercase}.modal header svg.close{cursor:pointer;height:1.25rem;position:absolute;top:.5rem;right:.5rem;width:1.5rem}.modal header svg.close path{fill:#bbc3c7}.modal header svg.close:hover path{fill:#008500}.modal form{padding:1rem}.modal form label{color:#839199}.modal footer{background-color:#2b3134;border-radius:0 0 .9rem .9rem;padding:.5rem;text-align:right}.modal footer button:last-child{border-color:#008500}.tabs{border-bottom:1px solid #24292c;border-top:1px solid #24292c;display:-ms-flexbox;display:flex;height:1.75rem;font-size:.625rem}.tabs span{border-right:1px solid #24292c;cursor:pointer;display:inline-block;padding:.5rem;text-transform:uppercase}.tabs .active{background-color:#525d64}.tool_select polygon[data-v-782d1b60]{cursor:pointer}.tool_eraser[data-v-782d1b60],.tool_polygon[data-v-782d1b60],.tool_rectangle[data-v-782d1b60]{cursor:crosshair}.tool_drag[data-v-782d1b60]{cursor:move}#alert-text[data-v-782d1b60]{position:absolute;top:1rem;left:0;right:0;text-align:center;z-index:3}#alert-text p[data-v-782d1b60]{color:#fff;padding:2px 4px;margin:10px;border:2px solid #24292c;display:inline-block}#alert-text.success p[data-v-782d1b60]{background:#008500}#alert-text.error p[data-v-782d1b60]{background:#a70000}#navigation[data-v-7b01355c]{background-color:#343b40;border-right:1px solid #24292c;font-size:.75rem}#navigation #selections[data-v-7b01355c]{display:-ms-flexbox;display:flex;padding:.25rem;-ms-flex-pack:justify;justify-content:space-between}#navigation #selections input[type=file][data-v-7b01355c]{position:absolute;visibility:hidden}#navigation #breadcrumbs>button[data-v-7b01355c],#navigation #selections>button[data-v-7b01355c]{display:-ms-flexbox;display:flex;line-height:1rem}#navigation #breadcrumbs>button svg[data-v-7b01355c],#navigation #selections>button svg[data-v-7b01355c]{height:1rem;margin:0 .25rem 0 -.1rem;width:1rem}#navigation #breadcrumbs>button svg path[data-v-7b01355c],#navigation #selections>button svg path[data-v-7b01355c]{fill:#bbc3c7}#navigation #breadcrumbs[data-v-7b01355c],#navigation #story-list>div[data-v-7b01355c],#navigation #subselection-list>div[data-v-7b01355c]{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}#navigation #list[data-v-7b01355c]{height:100%;display:-ms-flexbox;display:flex}#navigation #list #story-list[data-v-7b01355c]{border-right:1px solid #24292c;width:6rem}#navigation #list #subselection-list[data-v-7b01355c]{-ms-flex-positive:2;flex-grow:2}#navigation #list #story-list[data-v-7b01355c],#navigation #list #subselection-list[data-v-7b01355c]{overflow:auto;height:calc(100% - 5rem)}#navigation #list #story-list>div[data-v-7b01355c],#navigation #list #subselection-list>div[data-v-7b01355c]{border-bottom:1px solid #24292c;cursor:pointer;height:2rem;padding:0 .5rem}#navigation #list #story-list>div span[data-v-7b01355c],#navigation #list #subselection-list>div span[data-v-7b01355c]{display:inline-block;height:1rem;width:1rem}#navigation #list #story-list>div.active[data-v-7b01355c],#navigation #list #subselection-list>div.active[data-v-7b01355c]{color:#008500}#navigation #list #story-list>div.active svg[data-v-7b01355c],#navigation #list #subselection-list>div.active svg[data-v-7b01355c]{cursor:pointer;height:1rem}#navigation #list #story-list>div.active svg path[data-v-7b01355c],#navigation #list #subselection-list>div.active svg path[data-v-7b01355c]{fill:#bbc3c7}#navigation #list #story-list>div.active svg:hover path[data-v-7b01355c],#navigation #list #subselection-list>div.active svg:hover path[data-v-7b01355c]{fill:#a70000}#navigation #breadcrumbs[data-v-7b01355c]{background-color:#343b40;border-bottom:1px solid #24292c;border-top:1px solid #24292c;height:2.5rem;-ms-flex-pack:start;justify-content:flex-start;padding:0 1rem}#navigation #breadcrumbs span[data-v-7b01355c]{margin-left:1rem;cursor:pointer}#navigation #breadcrumbs svg[data-v-7b01355c]{margin:0 .25rem;width:.5rem}#navigation #breadcrumbs svg path[data-v-7b01355c]{fill:#525d64}#grid button[data-v-6c2e0a12]{position:absolute;z-index:1000}#grid img[data-v-6c2e0a12]{position:absolute}#grid svg[data-v-6c2e0a12]{background-size:cover;background-repeat:no-repeat;height:100%;left:0;top:0;position:absolute;width:100%;z-index:2}body,html{color:#bbc3c7;font-size:16px;font-family:Roboto,sans-serif;height:100vh;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;margin:0}body h1,body h2,body h3,body h4,html h1,html h2,html h3,html h4{font-weight:100}body a,html a{color:#008500}body a:hover,html a:hover{cursor:pointer}body{overflow:hidden}#toolbar{background-color:#2b3134;border-bottom:1px solid #525d64}main{background-color:#24292c}main #navigation{background-color:#2b3134;border-right:1px solid #525d64}.disabled-component{position:relative}.disabled-component>:first-child:before{position:absolute;content:"";left:0;right:0;top:0;bottom:0;background:rgba(36,41,44,.6);z-index:100}main #images .konvajs-content{z-index:1}main #images,main #map-container{position:absolute;top:0;bottom:0}#toolbar{top:0;height:5rem}#layout-main,#toolbar{position:fixed;left:0;right:0}#layout-main{top:5rem;bottom:30%}#layout-main>*{position:absolute;top:0;bottom:0}#layout-main #layout-navigation{left:0;width:17.5rem}#layout-main main{left:17.5rem;right:0}#layout-library{position:fixed;bottom:0;left:0;right:0;top:70%}.tool_select polygon{cursor:pointer}#grid svg *,.tool_drag #svg-grid path,.tool_drag #svg-grid polygon,.tool_drag #svg-grid rect{pointer-events:none}#grid svg ellipse:not(.origin){fill:#839199;stroke:#839199}#grid svg ellipse:not(.origin).highlight{stroke:red;fill:red}#grid svg ellipse.origin{stroke:#839199}#grid svg line.horizontal,#grid svg line.vertical{stroke:red;opacity:.25}#grid svg line.highlight{stroke:#ff0;z-index:10}#grid svg path,#grid svg polygon,#grid svg rect{fill-opacity:.9;z-index:3;pointer-events:all;stroke:#839199}#grid svg path.current,#grid svg polygon.current,#grid svg rect.current{stroke:#a70000;stroke-width:2px}#grid svg path.guideLine,#grid svg path.previousStory,#grid svg polygon.guideLine,#grid svg polygon.previousStory,#grid svg rect.guideLine,#grid svg rect.previousStory{fill-opacity:.3;z-index:-1}#grid svg path.previousStory,#grid svg polygon.previousStory,#grid svg rect.previousStory{stroke-dasharray:10;stroke:#000;stroke-width:2}#grid svg rect.view{fill-opacity:0}#grid svg .axis line{stroke-opacity:.3;shape-rendering:crispEdges;stroke:#3b4348}.input-checkbox,.input-number,.input-select,.input-text{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex}.input-checkbox label,.input-number label,.input-select label,.input-text label{font-size:.625rem;margin:0 .25rem 0 0;text-transform:uppercase}.input-number input,.input-text input{background-color:#2b3134;border:0;border-radius:.35rem;color:#bbc3c7;height:2rem;padding:0 .75rem;-webkit-appearance:none}.input-text input{width:15rem}.input-number input{width:2.5rem}.input-select{position:relative}.input-select select{background-color:#2b3134;border:0;color:#bbc3c7;-ms-flex-positive:2;flex-grow:2;height:2rem;padding:0 1.75rem 0 .75rem;-webkit-appearance:none}.input-select svg{pointer-events:none;position:absolute;right:.5rem;top:calc(50% - 3px)}.input-select svg path{fill:#525d64}button{background-color:#2b3134;border:1px solid #525d64;border-radius:.35rem;cursor:pointer;color:#bbc3c7;height:2rem;outline:none;padding:0 .75rem}.overlay{background-color:#24292c;height:100vh;left:0;opacity:.5;position:absolute;top:0;width:100%;z-index:3}.modal{background-color:#3b4348;border:1px solid #525d64;border-radius:1rem;left:50%;min-height:10rem;position:fixed;top:50%;transform:translate(-50%,-50%);width:25rem;z-index:4}.modal header{padding:.5rem;text-align:center;background-color:#2b3134;border-radius:.9rem .9rem 0 0}.modal header h2{display:inline;font-size:.7rem;text-transform:uppercase}.modal header svg.close{cursor:pointer;height:1.25rem;position:absolute;top:.5rem;right:.5rem;width:1.5rem}.modal header svg.close path{fill:#bbc3c7}.modal header svg.close:hover path{fill:#008500}.modal form{padding:1rem}.modal form label{color:#839199}.modal footer{background-color:#2b3134;border-radius:0 0 .9rem .9rem;padding:.5rem;text-align:right}.modal footer button:last-child{border-color:#008500}.tabs{border-bottom:1px solid #24292c;border-top:1px solid #24292c;display:-ms-flexbox;display:flex;height:1.75rem;font-size:.625rem}.tabs span{border-right:1px solid #24292c;cursor:pointer;display:inline-block;padding:.5rem;text-transform:uppercase}.tabs .active{background-color:#525d64}#resize[data-v-1ee3ccf7]{position:relative;height:100%;width:100%}#resize>[data-v-1ee3ccf7]{width:100%;height:100%}#resize>#top-bar[data-v-1ee3ccf7]{position:absolute;height:6px;cursor:n-resize}#resize>#right-bar[data-v-1ee3ccf7]{position:absolute;cursor:n-resize;right:0;width:6px;cursor:e-resize}#resize .resize-bar[data-v-1ee3ccf7]{transition:background .5s linear}#resize .resize-bar[data-v-1ee3ccf7]:active,#resize .resize-bar[data-v-1ee3ccf7]:hover{background-color:#bbc3c7}body,html{color:#bbc3c7;font-size:16px;font-family:Roboto,sans-serif;height:100vh;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;margin:0}body h1,body h2,body h3,body h4,html h1,html h2,html h3,html h4{font-weight:100}body a,html a{color:#008500}body a:hover,html a:hover{cursor:pointer}body{overflow:hidden}#toolbar{background-color:#2b3134;border-bottom:1px solid #525d64}main{background-color:#24292c}main #navigation{background-color:#2b3134;border-right:1px solid #525d64}.disabled-component{position:relative}.disabled-component>:first-child:before{position:absolute;content:"";left:0;right:0;top:0;bottom:0;background:rgba(36,41,44,.6);z-index:100}main #images .konvajs-content{z-index:1}main #images,main #map-container{position:absolute;top:0;bottom:0}#toolbar{top:0;height:5rem}#layout-main,#toolbar{position:fixed;left:0;right:0}#layout-main{top:5rem;bottom:30%}#layout-main>*{position:absolute;top:0;bottom:0}#layout-main #layout-navigation{left:0;width:17.5rem}#layout-main main{left:17.5rem;right:0}#layout-library{position:fixed;bottom:0;left:0;right:0;top:70%}.tool_select polygon{cursor:pointer}#grid svg *,.tool_drag #svg-grid path,.tool_drag #svg-grid polygon,.tool_drag #svg-grid rect{pointer-events:none}#grid svg ellipse:not(.origin){fill:#839199;stroke:#839199}#grid svg ellipse:not(.origin).highlight{stroke:red;fill:red}#grid svg ellipse.origin{stroke:#839199}#grid svg line.horizontal,#grid svg line.vertical{stroke:red;opacity:.25}#grid svg line.highlight{stroke:#ff0;z-index:10}#grid svg path,#grid svg polygon,#grid svg rect{fill-opacity:.9;z-index:3;pointer-events:all;stroke:#839199}#grid svg path.current,#grid svg polygon.current,#grid svg rect.current{stroke:#a70000;stroke-width:2px}#grid svg path.guideLine,#grid svg path.previousStory,#grid svg polygon.guideLine,#grid svg polygon.previousStory,#grid svg rect.guideLine,#grid svg rect.previousStory{fill-opacity:.3;z-index:-1}#grid svg path.previousStory,#grid svg polygon.previousStory,#grid svg rect.previousStory{stroke-dasharray:10;stroke:#000;stroke-width:2}#grid svg rect.view{fill-opacity:0}#grid svg .axis line{stroke-opacity:.3;shape-rendering:crispEdges;stroke:#3b4348}.input-checkbox,.input-number,.input-select,.input-text{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex}.input-checkbox label,.input-number label,.input-select label,.input-text label{font-size:.625rem;margin:0 .25rem 0 0;text-transform:uppercase}.input-number input,.input-text input{background-color:#2b3134;border:0;border-radius:.35rem;color:#bbc3c7;height:2rem;padding:0 .75rem;-webkit-appearance:none}.input-text input{width:15rem}.input-number input{width:2.5rem}.input-select{position:relative}.input-select select{background-color:#2b3134;border:0;color:#bbc3c7;-ms-flex-positive:2;flex-grow:2;height:2rem;padding:0 1.75rem 0 .75rem;-webkit-appearance:none}.input-select svg{pointer-events:none;position:absolute;right:.5rem;top:calc(50% - 3px)}.input-select svg path{fill:#525d64}button{background-color:#2b3134;border:1px solid #525d64;border-radius:.35rem;cursor:pointer;color:#bbc3c7;height:2rem;outline:none;padding:0 .75rem}.overlay{background-color:#24292c;height:100vh;left:0;opacity:.5;position:absolute;top:0;width:100%;z-index:3}.modal{background-color:#3b4348;border:1px solid #525d64;border-radius:1rem;left:50%;min-height:10rem;position:fixed;top:50%;transform:translate(-50%,-50%);width:25rem;z-index:4}.modal header{padding:.5rem;text-align:center;background-color:#2b3134;border-radius:.9rem .9rem 0 0}.modal header h2{display:inline;font-size:.7rem;text-transform:uppercase}.modal header svg.close{cursor:pointer;height:1.25rem;position:absolute;top:.5rem;right:.5rem;width:1.5rem}.modal header svg.close path{fill:#bbc3c7}.modal header svg.close:hover path{fill:#008500}.modal form{padding:1rem}.modal form label{color:#839199}.modal footer{background-color:#2b3134;border-radius:0 0 .9rem .9rem;padding:.5rem;text-align:right}.modal footer button:last-child{border-color:#008500}.tabs{border-bottom:1px solid #24292c;border-top:1px solid #24292c;display:-ms-flexbox;display:flex;height:1.75rem;font-size:.625rem}.tabs span{border-right:1px solid #24292c;cursor:pointer;display:inline-block;padding:.5rem;text-transform:uppercase}.tabs .active{background-color:#525d64}svg#north_axis[data-v-d8d46712]{height:2.25rem;position:absolute;top:1rem;left:1rem;width:3rem;z-index:90}#canvas[data-v-d8d46712]{background:#fff;height:100%;width:100%}#map-container[data-v-2a0d4266]{position:relative;height:100%;width:100%}#map-container #map[data-v-2a0d4266]{height:100%;min-width:100%}#autocomplete[data-v-2a0d4266]{z-index:100;position:absolute;right:0;top:10px}#autocomplete>[data-v-2a0d4266]{float:left;margin-right:10px}#autocomplete input[data-v-2a0d4266]:focus{outline:none}#help-text[data-v-2a0d4266]{position:absolute;bottom:0;left:0;right:0;text-align:center;z-index:3}#help-text p[data-v-2a0d4266]{color:#24292c;background:#fff;padding:2px 4px;width:calc(100% - 110px);border:2px solid #24292c}#help-text button[data-v-2a0d4266],#help-text p[data-v-2a0d4266]{margin:10px;display:inline-block}#reticle[data-v-2a0d4266]{position:absolute;top:0;width:100%;height:100%;pointer-events:none}.content[data-v-64853c42]{margin:0 2rem 2rem;text-align:center}.content button[data-v-64853c42]{margin:1rem .5rem}.content input[type=file][data-v-64853c42]{display:none}.modal[data-v-64853c42]{width:30rem}#toolbar section[data-v-1dbce3e3]{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;height:2.5rem;padding:0 2.5rem}#toolbar section.settings[data-v-1dbce3e3]{background-color:#343b40;text-align:right}#toolbar section.settings .input-checkbox[data-v-1dbce3e3],#toolbar section.settings .input-number[data-v-1dbce3e3]{margin-right:1.5rem}#toolbar section.settings #import-export[data-v-1dbce3e3]{position:absolute;right:2.5rem}#toolbar section.settings #import-export #import[data-v-1dbce3e3]{border:1px solid #a70000}#toolbar section.settings #import-export #export[data-v-1dbce3e3]{margin-left:1rem;border:1px solid #008500}#toolbar section.settings input[type=file][data-v-1dbce3e3],#toolbar section.settings input[type=text][data-v-1dbce3e3]{position:absolute;visibility:hidden}#toolbar section.tools[data-v-1dbce3e3]{background-color:#525d64;-ms-flex-pack:end;justify-content:flex-end}#toolbar section.tools button[data-v-1dbce3e3]{margin:0 1rem 0 0}#toolbar section.tools button[data-v-1dbce3e3]:last-child{margin:0}#toolbar section.tools .active[data-v-1dbce3e3]{border:1px solid #008500}#toolbar section.tools>.undo-redo[data-v-1dbce3e3]{margin-right:auto}#inspector[data-v-37303d42]{background-color:#3b4348;border-left:1px solid #24292c;font-size:.85rem;width:18rem;position:absolute;right:0;z-index:2;top:0}#inspector .list[data-v-37303d42]{height:calc(100vh - 4.75rem);overflow:scroll}#inspector .list header[data-v-37303d42]{background-color:#2b3134}#inspector .list header>h3[data-v-37303d42]{display:inline-block;margin:1rem}#inspector .list .list-item[data-v-37303d42]{border-top:1px solid #525d64;padding:.5rem 1rem}#inspector .list .list-item h4[data-v-37303d42]{margin:.5rem 0}#inspector .list .list-item span[data-v-37303d42]{display:block;margin-bottom:.25rem}#inspector .list .list-item button[data-v-37303d42]{margin-top:.5rem}/*! Huebee v1.0.1
http://huebee.buzz
---------------------------------------------- */.huebee{position:absolute;z-index:1;transform:translateY(0);transition:opacity .15s,transform .15s}.huebee.is-hidden{opacity:0;transform:translateY(10px)}.huebee.is-static-open{position:relative;z-index:auto}.huebee__container{position:absolute;left:0;top:5px;padding:10px;background:#eee;border-radius:5px;box-shadow:0 5px 10px rgba(0,0,0,.3)}.huebee.is-static-open .huebee__container{position:relative;display:inline-block;left:auto;top:auto;box-shadow:none}.huebee__canvas{display:block;cursor:pointer}.huebee__cursor{width:15px;height:15px;position:absolute;left:0;top:0;box-sizing:content-box;border:3px solid #fff;border-radius:5px;pointer-events:none}.huebee__cursor.is-hidden{opacity:0}.huebee__close-button{display:block;position:absolute;width:24px;height:24px;top:-9px;right:-9px;border-radius:12px;background:#222}.huebee__close-button__x{stroke:#fff;stroke-width:3;stroke-linecap:round}.huebee__close-button:hover{background:#fff;cursor:pointer}.huebee__close-button:hover .huebee__close-button__x{stroke:#222}#library[data-v-e5aa45ba]{background-color:#24292c;overflow:auto}#library header[data-v-e5aa45ba]{display:-ms-flexbox;display:flex;padding:1rem 1.5rem}#library header .input-select[data-v-e5aa45ba]{margin-right:3rem;width:10rem}#library header .input-text[data-v-e5aa45ba]{margin-right:auto;width:10rem}#library table[data-v-e5aa45ba]{border-spacing:0;width:100%}#library table tbody tr td[data-v-e5aa45ba],#library table thead tr th[data-v-e5aa45ba]{text-align:left;padding:0 1rem;position:relative}#library table tbody tr td[data-v-e5aa45ba]:first-child,#library table thead tr th[data-v-e5aa45ba]:first-child{padding-left:2.5rem}#library table tbody tr td[data-v-e5aa45ba]:last-child,#library table thead tr th[data-v-e5aa45ba]:last-child{-ms-flex-positive:2;flex-grow:2}#library table thead th[data-v-e5aa45ba]{border-bottom:2px solid #525d64}#library table thead tr[data-v-e5aa45ba]{height:3rem}#library table thead tr svg[data-v-e5aa45ba]{height:1rem;width:1rem;fill:#525d64}#library table tbody tr[data-v-e5aa45ba]{height:2rem}#library table tbody tr[data-v-e5aa45ba]:nth-of-type(odd){background-color:#343b40}#library table tbody tr.current[data-v-e5aa45ba]{background:red}#library table tbody tr .input-select[data-v-e5aa45ba]{margin:.5rem 0}#library table tbody tr input[data-v-e5aa45ba]{background-color:transparent;border:none;color:#bbc3c7;font-size:1rem}#library table tbody tr td.destroy[data-v-e5aa45ba]{width:2rem}#library table tbody tr td.destroy svg[data-v-e5aa45ba]{cursor:pointer;height:1.25rem;fill:#bbc3c7}#library table tbody tr td.destroy svg[data-v-e5aa45ba]:hover{fill:#a70000}#library table tbody tr.error[data-v-e5aa45ba]{background:rgba(167,0,0,.5);position:relative}#library table tbody tr .tooltip-error[data-v-e5aa45ba]{bottom:3rem;background-color:#24292c;border:1px solid #a70000;color:#bbc3c7;left:3rem;border-radius:.25rem;padding:.5rem 1rem;position:absolute}#library table tbody tr .tooltip-error svg[data-v-e5aa45ba]{bottom:-.7rem;height:.75rem;left:.5rem;position:absolute;transform:rotate(90deg)}#library table tbody tr .tooltip-error svg path[data-v-e5aa45ba]{fill:#a70000}
/*# sourceMappingURL=app.8daf45544cc523071ba049fedc315a53.css.map*/
        </style>
    </head>

    <body>
        <div id=app></div>

    <script>
      window.startApp = function() {
        
	!function(e){function t(a){if(r[a])return r[a].exports;var n=r[a]={exports:{},id:a,loaded:!1};return e[a].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var a=window.webpackJsonp;window.webpackJsonp=function(o,c){for(var p,l,s=0,i=[];s<o.length;s++)l=o[s],n[l]&&i.push.apply(i,n[l]),n[l]=0;for(p in c)Object.prototype.hasOwnProperty.call(c,p)&&(e[p]=c[p]);for(a&&a(o,c);i.length;)i.shift().call(null,t);if(c[0])return r[0]=0,t(0)};var r={},n={0:0};t.e=function(e,a){if(0===n[e])return a.call(null,t);if(void 0!==n[e])n[e].push(a);else{n[e]=[a];var r=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.charset="utf-8",o.async=!0,o.src=t.p+"static/js/"+e+"."+{1:"a830fbadb19dc76789a6",2:"219bd24799dc4436aff8"}[e]+".js",r.appendChild(o)}},t.m=e,t.c=r,t.p="/"}([]);
//# sourceMappingURL=manifest.a06732b70e5ef006b788.js.map
	webpackJsonp([1,0],[,function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(55),r=o(i);e.default=r.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports=function(t,e,n,o){var i,r=t=t||{},a=typeof t.default;"object"!==a&&"function"!==a||(i=t,r=t.default);var s="function"==typeof r?r.options:r;if(e&&(s.render=e.render,s.staticRenderFns=e.staticRenderFns),n&&(s._scopeId=n),o){var u=s.computed||(s.computed={});Object.keys(o).forEach(function(t){var e=o[t];u[t]=function(){return e}})}return{esModule:i,exports:r,options:s}}},function(t,e,n){var o=n(46)("wks"),i=n(31),r=n(8).Symbol,a="function"==typeof r,s=t.exports=function(t){return o[t]||(o[t]=a&&r[t]||(a?r:i)("Symbol."+t))};s.store=o},function(t,e,n){/**
	 * vuex v2.3.0
	 * (c) 2017 Evan You
	 * @license MIT
	 */
!function(e,n){t.exports=n()}(this,function(){"use strict";function t(t){w&&(t._devtoolHook=w,w.emit("vuex:init",t),w.on("vuex:travel-to-state",function(e){t.replaceState(e)}),t.subscribe(function(t,e){w.emit("vuex:mutation",t,e)}))}function e(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function n(t){return null!==t&&"object"==typeof t}function o(t){return t&&"function"==typeof t.then}function i(t,e){if(!t)throw new Error("[vuex] "+e)}function r(t,e){if(t.update(e),e.modules)for(var n in e.modules){if(!t.getChild(n))return void console.warn("[vuex] trying to add a new module '"+n+"' on hot reloading, manual reload is needed");r(t.getChild(n),e.modules[n])}}function a(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;u(t,n,[],t._modules.root,!0),s(t,n,e)}function s(t,n,o){var i=t._vm;t.getters={};var r=t._wrappedGetters,a={};e(r,function(e,n){a[n]=function(){return e(t)},Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})});var s=M.config.silent;M.config.silent=!0,t._vm=new M({data:{$$state:n},computed:a}),M.config.silent=s,t.strict&&d(t),i&&(o&&t._withCommit(function(){i._data.$$state=null}),M.nextTick(function(){return i.$destroy()}))}function u(t,e,n,o,i){var r=!n.length,a=t._modules.getNamespace(n);if(o.namespaced&&(t._modulesNamespaceMap[a]=o),!r&&!i){var s=y(e,n.slice(0,-1)),p=n[n.length-1];t._withCommit(function(){M.set(s,p,o.state)})}var d=o.context=h(t,a,n);o.forEachMutation(function(e,n){var o=a+n;l(t,o,e,d)}),o.forEachAction(function(e,n){var o=a+n;c(t,o,e,d)}),o.forEachGetter(function(e,n){var o=a+n;f(t,o,e,d)}),o.forEachChild(function(o,r){u(t,e,n.concat(r),o,i)})}function h(t,e,n){var o=""===e,i={dispatch:o?t.dispatch:function(n,o,i){var r=v(n,o,i),a=r.payload,s=r.options,u=r.type;return s&&s.root||(u=e+u,t._actions[u])?t.dispatch(u,a):void console.error("[vuex] unknown local action type: "+r.type+", global type: "+u)},commit:o?t.commit:function(n,o,i){var r=v(n,o,i),a=r.payload,s=r.options,u=r.type;return s&&s.root||(u=e+u,t._mutations[u])?void t.commit(u,a,s):void console.error("[vuex] unknown local mutation type: "+r.type+", global type: "+u)}};return Object.defineProperties(i,{getters:{get:o?function(){return t.getters}:function(){return p(t,e)}},state:{get:function(){return y(t.state,n)}}}),i}function p(t,e){var n={},o=e.length;return Object.keys(t.getters).forEach(function(i){if(i.slice(0,o)===e){var r=i.slice(o);Object.defineProperty(n,r,{get:function(){return t.getters[i]},enumerable:!0})}}),n}function l(t,e,n,o){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(t){n(o.state,t)})}function c(t,e,n,i){var r=t._actions[e]||(t._actions[e]=[]);r.push(function(e,r){var a=n({dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},e,r);return o(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(e){throw t._devtoolHook.emit("vuex:error",e),e}):a})}function f(t,e,n,o){return t._wrappedGetters[e]?void console.error("[vuex] duplicate getter key: "+e):void(t._wrappedGetters[e]=function(t){return n(o.state,o.getters,t.state,t.getters)})}function d(t){t._vm.$watch(function(){return this._data.$$state},function(){i(t._committing,"Do not mutate vuex store state outside mutation handlers.")},{deep:!0,sync:!0})}function y(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function v(t,e,o){return n(t)&&t.type&&(o=e,e=t,t=t.type),i("string"==typeof t,"Expects string as the type, but found "+typeof t+"."),{type:t,payload:e,options:o}}function g(t){return M?void console.error("[vuex] already installed. Vue.use(Vuex) should be called only once."):(M=t,void x(M))}function m(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}})}function b(t){return function(e,n){return"string"!=typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function _(t,e,n){var o=t._modulesNamespaceMap[n];return o||console.error("[vuex] module namespace not found in "+e+"(): "+n),o}var x=function(t){function e(){var t=this.$options;t.store?this.$store=t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}var n=Number(t.version.split(".")[0]);if(n>=2){var o=t.config._lifecycleHooks.indexOf("init")>-1;t.mixin(o?{init:e}:{beforeCreate:e})}else{var i=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[e].concat(t.init):e,i.call(this,t)}}},w="undefined"!=typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,P=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},S={namespaced:{}};S.namespaced.get=function(){return!!this._rawModule.namespaced},P.prototype.addChild=function(t,e){this._children[t]=e},P.prototype.removeChild=function(t){delete this._children[t]},P.prototype.getChild=function(t){return this._children[t]},P.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},P.prototype.forEachChild=function(t){e(this._children,t)},P.prototype.forEachGetter=function(t){this._rawModule.getters&&e(this._rawModule.getters,t)},P.prototype.forEachAction=function(t){this._rawModule.actions&&e(this._rawModule.actions,t)},P.prototype.forEachMutation=function(t){this._rawModule.mutations&&e(this._rawModule.mutations,t)},Object.defineProperties(P.prototype,S);var C=function(t){var n=this;this.root=new P(t,!1),t.modules&&e(t.modules,function(t,e){n.register([e],t,!1)})};C.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},C.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(t,n){return e=e.getChild(n),t+(e.namespaced?n+"/":"")},"")},C.prototype.update=function(t){r(this.root,t)},C.prototype.register=function(t,n,o){var i=this;void 0===o&&(o=!0);var r=this.get(t.slice(0,-1)),a=new P(n,o);r.addChild(t[t.length-1],a),n.modules&&e(n.modules,function(e,n){i.register(t.concat(n),e,o)})},C.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];e.getChild(n).runtime&&e.removeChild(n)};var M,T=function(e){var n=this;void 0===e&&(e={}),i(M,"must call Vue.use(Vuex) before creating a store instance."),i("undefined"!=typeof Promise,"vuex requires a Promise polyfill in this browser.");var o=e.state;void 0===o&&(o={});var r=e.plugins;void 0===r&&(r=[]);var a=e.strict;void 0===a&&(a=!1),this._committing=!1,this._actions=Object.create(null),this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new C(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new M;var h=this,p=this,l=p.dispatch,c=p.commit;this.dispatch=function(t,e){return l.call(h,t,e)},this.commit=function(t,e,n){return c.call(h,t,e,n)},this.strict=a,u(this,o,[],this._modules.root),s(this,o),r.concat(t).forEach(function(t){return t(n)})},A={state:{}};A.state.get=function(){return this._vm._data.$$state},A.state.set=function(t){i(!1,"Use store.replaceState() to explicit replace store state.")},T.prototype.commit=function(t,e,n){var o=this,i=v(t,e,n),r=i.type,a=i.payload,s=i.options,u={type:r,payload:a},h=this._mutations[r];return h?(this._withCommit(function(){h.forEach(function(t){t(a)})}),this._subscribers.forEach(function(t){return t(u,o.state)}),void(s&&s.silent&&console.warn("[vuex] mutation type: "+r+". Silent option has been removed. Use the filter functionality in the vue-devtools"))):void console.error("[vuex] unknown mutation type: "+r)},T.prototype.dispatch=function(t,e){var n=v(t,e),o=n.type,i=n.payload,r=this._actions[o];return r?r.length>1?Promise.all(r.map(function(t){return t(i)})):r[0](i):void console.error("[vuex] unknown action type: "+o)},T.prototype.subscribe=function(t){var e=this._subscribers;return e.indexOf(t)<0&&e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}},T.prototype.watch=function(t,e,n){var o=this;return i("function"==typeof t,"store.watch only accepts a function."),this._watcherVM.$watch(function(){return t(o.state,o.getters)},e,n)},T.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},T.prototype.registerModule=function(t,e){"string"==typeof t&&(t=[t]),i(Array.isArray(t),"module path must be a string or an Array."),this._modules.register(t,e),u(this,this.state,t,this._modules.get(t)),s(this,this.state)},T.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),i(Array.isArray(t),"module path must be a string or an Array."),this._modules.unregister(t),this._withCommit(function(){var n=y(e.state,t.slice(0,-1));M.delete(n,t[t.length-1])}),a(this)},T.prototype.hotUpdate=function(t){this._modules.update(t),a(this,!0)},T.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(T.prototype,A),"undefined"!=typeof window&&window.Vue&&g(window.Vue);var E=b(function(t,e){var n={};return m(e).forEach(function(e){var o=e.key,i=e.val;n[o]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var o=_(this.$store,"mapState",t);if(!o)return;e=o.context.state,n=o.context.getters}return"function"==typeof i?i.call(this,e,n):e[i]},n[o].vuex=!0}),n}),I=b(function(t,e){var n={};return m(e).forEach(function(e){var o=e.key,i=e.val;i=t+i,n[o]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(!t||_(this.$store,"mapMutations",t))return this.$store.commit.apply(this.$store,[i].concat(e))}}),n}),L=b(function(t,e){var n={};return m(e).forEach(function(e){var o=e.key,i=e.val;i=t+i,n[o]=function(){if(!t||_(this.$store,"mapGetters",t))return i in this.$store.getters?this.$store.getters[i]:void console.error("[vuex] unknown getter: "+i)},n[o].vuex=!0}),n}),N=b(function(t,e){var n={};return m(e).forEach(function(e){var o=e.key,i=e.val;i=t+i,n[o]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(!t||_(this.$store,"mapActions",t))return this.$store.dispatch.apply(this.$store,[i].concat(e))}}),n}),O={Store:T,install:g,version:"2.3.0",mapState:E,mapMutations:I,mapGetters:L,mapActions:N};return O})},function(t,e,n){t.exports={default:n(121),__esModule:!0}},,function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var o=n(15),i=n(61),r=n(48),a=Object.defineProperty;e.f=n(11)?Object.defineProperty:function(t,e,n){if(o(t),e=r(e,!0),o(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},,function(t,e,n){t.exports=!n(17)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var o=n(62),i=n(40);t.exports=function(t){return o(i(t))}},function(t,e,n){t.exports={default:n(124),__esModule:!0}},function(t,e,n){var o=n(28);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var o=n(8),i=n(2),r=n(59),a=n(18),s="prototype",u=function(t,e,n){var h,p,l,c=t&u.F,f=t&u.G,d=t&u.S,y=t&u.P,v=t&u.B,g=t&u.W,m=f?i:i[e]||(i[e]={}),b=m[s],_=f?o:d?o[e]:(o[e]||{})[s];f&&(n=e);for(h in n)p=!c&&_&&void 0!==_[h],p&&h in m||(l=p?_[h]:n[h],m[h]=f&&"function"!=typeof _[h]?n[h]:v&&p?r(l,o):g&&_[h]==l?function(t){var e=function(e,n,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,o)}return t.apply(this,arguments)};return e[s]=t[s],e}(l):y&&"function"==typeof l?r(Function.call,l):l,y&&((m.virtual||(m.virtual={}))[h]=l,t&u.R&&b&&!b[h]&&a(b,h,l)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var o=n(9),i=n(22);t.exports=n(11)?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports={}},function(t,e,n){var o=n(66),i=n(41);t.exports=Object.keys||function(t){return o(t,i)}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(112),r=o(i);e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,r.default)(t)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t){return function(e,n){return Jh(t(e),n)}}function n(t,e){return[t,e]}function o(t,e,n){var o=(e-t)/Math.max(0,n),i=Math.floor(Math.log(o)/Math.LN10),r=o/Math.pow(10,i);return i>=0?(r>=vp?10:r>=gp?5:r>=mp?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(r>=vp?10:r>=gp?5:r>=mp?2:1)}function i(t,e,n){var o=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),r=o/i;return r>=vp?i*=10:r>=gp?i*=5:r>=mp&&(i*=2),e<t?-i:i}function r(t){return t.length}function a(t){return"translate("+(t+.5)+",0)"}function s(t){return"translate(0,"+(t+.5)+")"}function u(t){return function(e){return+t(e)}}function h(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function p(){return!this.__axis}function l(t,e){function n(n){var a=null==i?e.ticks?e.ticks.apply(e,o):e.domain():i,s=null==r?e.tickFormat?e.tickFormat.apply(e,o):Dp:r,g=Math.max(l,0)+f,m=e.range(),b=+m[0]+.5,_=+m[m.length-1]+.5,x=(e.bandwidth?h:u)(e.copy()),w=n.selection?n.selection():n,P=w.selectAll(".domain").data([null]),S=w.selectAll(".tick").data(a,e).order(),C=S.exit(),M=S.enter().append("g").attr("class","tick"),T=S.select("line"),A=S.select("text");P=P.merge(P.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),S=S.merge(M),T=T.merge(M.append("line").attr("stroke","#000").attr(y+"2",d*l)),A=A.merge(M.append("text").attr("fill","#000").attr(y,d*g).attr("dy",t===jp?"0em":t===Bp?"0.71em":"0.32em")),n!==w&&(P=P.transition(n),S=S.transition(n),T=T.transition(n),A=A.transition(n),C=C.transition(n).attr("opacity",Up).attr("transform",function(t){return isFinite(t=x(t))?v(t):this.getAttribute("transform")}),M.attr("opacity",Up).attr("transform",function(t){var e=this.parentNode.__axis;return v(e&&isFinite(e=e(t))?e:x(t))})),C.remove(),P.attr("d",t===Xp||t==Kp?"M"+d*c+","+b+"H0.5V"+_+"H"+d*c:"M"+b+","+d*c+"V0.5H"+_+"V"+d*c),S.attr("opacity",1).attr("transform",function(t){return v(x(t))}),T.attr(y+"2",d*l),A.attr(y,d*g).text(s),w.filter(p).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Kp?"start":t===Xp?"end":"middle"),w.each(function(){this.__axis=x})}var o=[],i=null,r=null,l=6,c=6,f=3,d=t===jp||t===Xp?-1:1,y=t===Xp||t===Kp?"x":"y",v=t===jp||t===Bp?a:s;return n.scale=function(t){return arguments.length?(e=t,n):e},n.ticks=function(){return o=Fp.call(arguments),n},n.tickArguments=function(t){return arguments.length?(o=null==t?[]:Fp.call(t),n):o.slice()},n.tickValues=function(t){return arguments.length?(i=null==t?null:Fp.call(t),n):i&&i.slice()},n.tickFormat=function(t){return arguments.length?(r=t,n):r},n.tickSize=function(t){return arguments.length?(l=c=+t,n):l},n.tickSizeInner=function(t){return arguments.length?(l=+t,n):l},n.tickSizeOuter=function(t){return arguments.length?(c=+t,n):c},n.tickPadding=function(t){return arguments.length?(f=+t,n):f},n}function c(t){return l(jp,t)}function f(t){return l(Kp,t)}function d(t){return l(Bp,t)}function y(t){return l(Xp,t)}function v(){for(var t,e=0,n=arguments.length,o={};e<n;++e){if(!(t=arguments[e]+"")||t in o)throw new Error("illegal type: "+t);o[t]=[]}return new g(o)}function g(t){this._=t}function m(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");if(o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function b(t,e){for(var n,o=0,i=t.length;o<i;++o)if((n=t[o]).name===e)return n.value}function _(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=Yp,t=t.slice(0,o).concat(t.slice(o+1));break}return null!=n&&t.push({name:e,value:n}),t}function x(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Gp&&e.documentElement.namespaceURI===Gp?e.createElement(t):e.createElementNS(n,t)}}function w(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function P(){return new S}function S(){this._="@"+(++qp).toString(36)}function C(t,e,n){return t=M(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function M(e,n,o){return function(i){var r=t.event;t.event=i;try{e.call(this,this.__data__,n,o)}finally{t.event=r}}}function T(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function A(t){return function(){var e=this.__on;if(e){for(var n,o=0,i=-1,r=e.length;o<r;++o)n=e[o],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function E(t,e,n){var o=Qp.hasOwnProperty(t.type)?C:M;return function(i,r,a){var s,u=this.__on,h=o(e,r,a);if(u)for(var p=0,l=u.length;p<l;++p)if((s=u[p]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=h,s.capture=n),void(s.value=e);this.addEventListener(t.type,h,n),s={type:t.type,name:t.name,value:e,listener:h,capture:n},u?u.push(s):this.__on=[s]}}function I(e,n,o,i){var r=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(o,i)}finally{t.event=r}}function L(){}function N(){return[]}function O(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function k(t,e,n,o,i,r){for(var a,s=0,u=e.length,h=r.length;s<h;++s)(a=e[s])?(a.__data__=r[s],o[s]=a):n[s]=new O(t,r[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function R(t,e,n,o,i,r,a){var s,u,h,p={},l=e.length,c=r.length,f=new Array(l);for(s=0;s<l;++s)(u=e[s])&&(f[s]=h=fl+a.call(u,u.__data__,s,e),h in p?i[s]=u:p[h]=u);for(s=0;s<c;++s)h=fl+a.call(t,r[s],s,r),(u=p[h])?(o[s]=u,u.__data__=r[s],p[h]=null):n[s]=new O(t,r[s]);for(s=0;s<l;++s)(u=e[s])&&p[f[s]]===u&&(i[s]=u)}function F(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function D(t){return function(){this.removeAttribute(t)}}function j(t){return function(){this.removeAttributeNS(t.space,t.local)}}function K(t,e){return function(){this.setAttribute(t,e)}}function B(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function X(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function U(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Y(t){return function(){this.style.removeProperty(t)}}function G(t,e,n){return function(){this.style.setProperty(t,e,n)}}function W(t,e,n){return function(){var o=e.apply(this,arguments);null==o?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function z(t,e){return t.style.getPropertyValue(e)||Ml(t).getComputedStyle(t,null).getPropertyValue(e)}function H(t){return function(){delete this[t]}}function q(t,e){return function(){this[t]=e}}function V(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function $(t){return t.trim().split(/^|\s+/)}function Z(t){return t.classList||new J(t)}function J(t){this._node=t,this._names=$(t.getAttribute("class")||"")}function Q(t,e){for(var n=Z(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function tt(t,e){for(var n=Z(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function et(t){return function(){Q(this,t)}}function nt(t){return function(){tt(this,t)}}function ot(t,e){return function(){(e.apply(this,arguments)?Q:tt)(this,t)}}function it(){this.textContent=""}function rt(t){return function(){this.textContent=t}}function at(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function st(){this.innerHTML=""}function ut(t){return function(){this.innerHTML=t}}function ht(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function pt(){this.nextSibling&&this.parentNode.appendChild(this)}function lt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ct(){return null}function ft(){var t=this.parentNode;t&&t.removeChild(this)}function dt(t,e,n){var o=Ml(t),i=o.CustomEvent;"function"==typeof i?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function yt(t,e){return function(){return dt(this,t,e)}}function vt(t,e){return function(){return dt(this,t,e.apply(this,arguments))}}function gt(t,e){this._groups=t,this._parents=e}function mt(){return new gt([[document.documentElement]],Kl)}function bt(){t.event.stopImmediatePropagation()}function _t(t,e){var n=t.document.documentElement,o=Bl(t).on("dragstart.drag",null);e&&(o.on("click.drag",Gl,!0),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function xt(t,e,n,o,i,r,a,s,u,h){this.target=t,this.type=e,this.subject=n,this.identifier=o,this.active=i,this.x=r,this.y=a,this.dx=s,this.dy=u,this._=h}function wt(){return!t.event.button}function Pt(){return this.parentNode}function St(e){return null==e?{x:t.event.x,y:t.event.y}:e}function Ct(){return"ontouchstart"in this}function Mt(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function Tt(){}function At(t){var e;return t=(t+"").trim().toLowerCase(),(e=tc.exec(t))?(e=parseInt(e[1],16),new Ot(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=ec.exec(t))?Et(parseInt(e[1],16)):(e=nc.exec(t))?new Ot(e[1],e[2],e[3],1):(e=oc.exec(t))?new Ot(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ic.exec(t))?It(e[1],e[2],e[3],e[4]):(e=rc.exec(t))?It(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ac.exec(t))?kt(e[1],e[2]/100,e[3]/100,1):(e=sc.exec(t))?kt(e[1],e[2]/100,e[3]/100,e[4]):uc.hasOwnProperty(t)?Et(uc[t]):"transparent"===t?new Ot(NaN,NaN,NaN,0):null}function Et(t){return new Ot(t>>16&255,t>>8&255,255&t,1)}function It(t,e,n,o){return o<=0&&(t=e=n=NaN),new Ot(t,e,n,o)}function Lt(t){return t instanceof Tt||(t=At(t)),t?(t=t.rgb(),new Ot(t.r,t.g,t.b,t.opacity)):new Ot}function Nt(t,e,n,o){return 1===arguments.length?Lt(t):new Ot(t,e,n,null==o?1:o)}function Ot(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}function kt(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Dt(t,e,n,o)}function Rt(t){if(t instanceof Dt)return new Dt(t.h,t.s,t.l,t.opacity);if(t instanceof Tt||(t=At(t)),!t)return new Dt;if(t instanceof Dt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),r=Math.max(e,n,o),a=NaN,s=r-i,u=(r+i)/2;return s?(a=e===r?(n-o)/s+6*(n<o):n===r?(o-e)/s+2:(e-n)/s+4,s/=u<.5?r+i:2-r-i,a*=60):s=u>0&&u<1?0:a,new Dt(a,s,u,t.opacity)}function Ft(t,e,n,o){return 1===arguments.length?Rt(t):new Dt(t,e,n,null==o?1:o)}function Dt(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}function jt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Kt(t){if(t instanceof Xt)return new Xt(t.l,t.a,t.b,t.opacity);if(t instanceof qt){var e=t.h*hc;return new Xt(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Ot||(t=Lt(t));var n=Wt(t.r),o=Wt(t.g),i=Wt(t.b),r=Ut((.4124564*n+.3575761*o+.1804375*i)/cc),a=Ut((.2126729*n+.7151522*o+.072175*i)/fc),s=Ut((.0193339*n+.119192*o+.9503041*i)/dc);return new Xt(116*a-16,500*(r-a),200*(a-s),t.opacity)}function Bt(t,e,n,o){return 1===arguments.length?Kt(t):new Xt(t,e,n,null==o?1:o)}function Xt(t,e,n,o){this.l=+t,this.a=+e,this.b=+n,this.opacity=+o}function Ut(t){return t>mc?Math.pow(t,1/3):t/gc+yc}function Yt(t){return t>vc?t*t*t:gc*(t-yc)}function Gt(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Wt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function zt(t){if(t instanceof qt)return new qt(t.h,t.c,t.l,t.opacity);t instanceof Xt||(t=Kt(t));var e=Math.atan2(t.b,t.a)*pc;return new qt(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ht(t,e,n,o){return 1===arguments.length?zt(t):new qt(t,e,n,null==o?1:o)}function qt(t,e,n,o){this.h=+t,this.c=+e,this.l=+n,this.opacity=+o}function Vt(t){if(t instanceof Zt)return new Zt(t.h,t.s,t.l,t.opacity);t instanceof Ot||(t=Lt(t));var e=t.r/255,n=t.g/255,o=t.b/255,i=(Mc*o+Sc*e-Cc*n)/(Mc+Sc-Cc),r=o-i,a=(Pc*(n-i)-xc*r)/wc,s=Math.sqrt(a*a+r*r)/(Pc*i*(1-i)),u=s?Math.atan2(a,r)*pc-120:NaN;return new Zt(u<0?u+360:u,s,i,t.opacity)}function $t(t,e,n,o){return 1===arguments.length?Vt(t):new Zt(t,e,n,null==o?1:o)}function Zt(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}function Jt(t,e,n,o,i){var r=t*t,a=r*t;return((1-3*t+3*r-a)*e+(4-6*r+3*a)*n+(1+3*t+3*r-3*a)*o+a*i)/6}function Qt(t,e){return function(n){return t+n*e}}function te(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function ee(t,e){var n=e-t;return n?Qt(t,n>180||n<-180?n-360*Math.round(n/360):n):Rc(isNaN(t)?e:t)}function ne(t){return 1===(t=+t)?oe:function(e,n){return n-e?te(e,n,t):Rc(isNaN(e)?n:e)}}function oe(t,e){var n=e-t;return n?Qt(t,n):Rc(isNaN(t)?e:t)}function ie(t){return function(e){var n,o,i=e.length,r=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)o=Nt(e[n]),r[n]=o.r||0,a[n]=o.g||0,s[n]=o.b||0;return r=t(r),a=t(a),s=t(s),o.opacity=1,function(t){return o.r=r(t),o.g=a(t),o.b=s(t),o+""}}}function re(t){return function(){return t}}function ae(t){return function(e){return t(e)+""}}function se(t){return"none"===t?Vc:(Tc||(Tc=document.createElement("DIV"),Ac=document.documentElement,Ec=document.defaultView),Tc.style.transform=t,t=Ec.getComputedStyle(Ac.appendChild(Tc),null).getPropertyValue("transform"),Ac.removeChild(Tc),t=t.slice(7,-1).split(","),$c(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function ue(t){return null==t?Vc:(Ic||(Ic=document.createElementNS("http://www.w3.org/2000/svg","g")),Ic.setAttribute("transform",t),(t=Ic.transform.baseVal.consolidate())?(t=t.matrix,$c(t.a,t.b,t.c,t.d,t.e,t.f)):Vc)}function he(t,e,n,o){function i(t){return t.length?t.pop()+" ":""}function r(t,o,i,r,a,s){if(t!==i||o!==r){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:Xc(t,i)},{i:u-2,x:Xc(o,r)})}else(i||r)&&a.push("translate("+i+e+r+n)}function a(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(i(n)+"rotate(",null,o)-2,x:Xc(t,e)})):e&&n.push(i(n)+"rotate("+e+o)}function s(t,e,n,r){t!==e?r.push({i:n.push(i(n)+"skewX(",null,o)-2,x:Xc(t,e)}):e&&n.push(i(n)+"skewX("+e+o)}function u(t,e,n,o,r,a){if(t!==n||e!==o){var s=r.push(i(r)+"scale(",null,",",null,")");a.push({i:s-4,x:Xc(t,n)},{i:s-2,x:Xc(e,o)})}else 1===n&&1===o||r.push(i(r)+"scale("+n+","+o+")")}return function(e,n){var o=[],i=[];return e=t(e),n=t(n),r(e.translateX,e.translateY,n.translateX,n.translateY,o,i),a(e.rotate,n.rotate,o,i),s(e.skewX,n.skewX,o,i),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,o,i),e=n=null,function(t){for(var e,n=-1,r=i.length;++n<r;)o[(e=i[n]).i]=e.x(t);return o.join("")}}}function pe(t){return((t=Math.exp(t))+1/t)/2}function le(t){return((t=Math.exp(t))-1/t)/2}function ce(t){return((t=Math.exp(2*t))-1)/(t+1)}function fe(t){return function(e,n){var o=t((e=Ft(e)).h,(n=Ft(n)).h),i=oe(e.s,n.s),r=oe(e.l,n.l),a=oe(e.opacity,n.opacity);return function(t){return e.h=o(t),e.s=i(t),e.l=r(t),e.opacity=a(t),e+""}}}function de(t,e){var n=oe((t=Bt(t)).l,(e=Bt(e)).l),o=oe(t.a,e.a),i=oe(t.b,e.b),r=oe(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=o(e),t.b=i(e),t.opacity=r(e),t+""}}function ye(t){return function(e,n){var o=t((e=Ht(e)).h,(n=Ht(n)).h),i=oe(e.c,n.c),r=oe(e.l,n.l),a=oe(e.opacity,n.opacity);return function(t){return e.h=o(t),e.c=i(t),e.l=r(t),e.opacity=a(t),e+""}}}function ve(t){return function e(n){function o(e,o){var i=t((e=$t(e)).h,(o=$t(o)).h),r=oe(e.s,o.s),a=oe(e.l,o.l),s=oe(e.opacity,o.opacity);return function(t){return e.h=i(t),e.s=r(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,o.gamma=e,o}(1)}function ge(){return gf||(_f(me),gf=bf.now()+mf)}function me(){gf=0}function be(){this._call=this._time=this._next=null}function _e(t,e,n){var o=new be;return o.restart(t,e,n),o}function xe(){ge(),++cf;for(var t,e=Lc;e;)(t=gf-e._time)>=0&&e._call.call(null,t),e=e._next;--cf}function we(){gf=(vf=bf.now())+mf,cf=ff=0;try{xe()}finally{cf=0,Se(),gf=0}}function Pe(){var t=bf.now(),e=t-vf;e>yf&&(mf-=e,vf=t)}function Se(){for(var t,e,n=Lc,o=1/0;n;)n._call?(o>n._time&&(o=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Lc=e);Nc=t,Ce(o)}function Ce(t){if(!cf){ff&&(ff=clearTimeout(ff));var e=t-gf;e>24?(t<1/0&&(ff=setTimeout(we,e)),df&&(df=clearInterval(df))):(df||(vf=gf,df=setInterval(Pe,yf)),cf=1,_f(we))}}function Me(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>Cf)throw new Error("too late");return n}function Te(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>Tf)throw new Error("too late");return n}function Ae(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}function Ee(t,e,n){function o(t){n.state=Mf,n.timer.restart(i,n.delay,n.time),n.delay<=t&&i(t-n.delay)}function i(o){var h,p,l,c;if(n.state!==Mf)return a();for(h in u)if(c=u[h],c.name===n.name){if(c.state===Af)return xf(i);c.state===Ef?(c.state=Lf,c.timer.stop(),c.on.call("interrupt",t,t.__data__,c.index,c.group),delete u[h]):+h<e&&(c.state=Lf,c.timer.stop(),delete u[h])}if(xf(function(){n.state===Af&&(n.state=Ef,n.timer.restart(r,n.delay,n.time),r(o))}),n.state=Tf,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Tf){for(n.state=Af,s=new Array(l=n.tween.length),h=0,p=-1;h<l;++h)(c=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(s[++p]=c);s.length=p+1}}function r(e){for(var o=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=If,1),i=-1,r=s.length;++i<r;)s[i].call(null,o);n.state===If&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=Lf,n.timer.stop(),delete u[e];for(var o in u)return;delete t.__transition}var s,u=t.__transition;u[e]=n,n.timer=_e(o,0,n.time)}function Ie(t,e){var n,o;return function(){var i=Te(this,t),r=i.tween;if(r!==n){o=n=r;for(var a=0,s=o.length;a<s;++a)if(o[a].name===e){o=o.slice(),o.splice(a,1);break}}i.tween=o}}function Le(t,e,n){var o,i;if("function"!=typeof n)throw new Error;return function(){var r=Te(this,t),a=r.tween;if(a!==o){i=(o=a).slice();for(var s={name:e,value:n},u=0,h=i.length;u<h;++u)if(i[u].name===e){i[u]=s;break}u===h&&i.push(s)}r.tween=i}}function Ne(t,e,n){var o=t._id;return t.each(function(){var t=Te(this,o);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Ae(t,o).value[e]}}function Oe(t){return function(){this.removeAttribute(t)}}function ke(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Re(t,e,n){var o,i;return function(){var r=this.getAttribute(t);return r===n?null:r===o?i:i=e(o=r,n)}}function Fe(t,e,n){var o,i;return function(){var r=this.getAttributeNS(t.space,t.local);return r===n?null:r===o?i:i=e(o=r,n)}}function De(t,e,n){var o,i,r;return function(){var a,s=n(this);return null==s?void this.removeAttribute(t):(a=this.getAttribute(t),a===s?null:a===o&&s===i?r:r=e(o=a,i=s))}}function je(t,e,n){var o,i,r;return function(){var a,s=n(this);return null==s?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),a===s?null:a===o&&s===i?r:r=e(o=a,i=s))}}function Ke(t,e){function n(){var n=this,o=e.apply(n,arguments);return o&&function(e){n.setAttributeNS(t.space,t.local,o(e))}}return n._value=e,
n}function Be(t,e){function n(){var n=this,o=e.apply(n,arguments);return o&&function(e){n.setAttribute(t,o(e))}}return n._value=e,n}function Xe(t,e){return function(){Me(this,t).delay=+e.apply(this,arguments)}}function Ue(t,e){return e=+e,function(){Me(this,t).delay=e}}function Ye(t,e){return function(){Te(this,t).duration=+e.apply(this,arguments)}}function Ge(t,e){return e=+e,function(){Te(this,t).duration=e}}function We(t,e){if("function"!=typeof e)throw new Error;return function(){Te(this,t).ease=e}}function ze(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function He(t,e,n){var o,i,r=ze(e)?Me:Te;return function(){var a=r(this,t),s=a.on;s!==o&&(i=(o=s).copy()).on(e,n),a.on=i}}function qe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Ve(t,e){var n,o,i;return function(){var r=z(this,t),a=(this.style.removeProperty(t),z(this,t));return r===a?null:r===n&&a===o?i:i=e(n=r,o=a)}}function $e(t){return function(){this.style.removeProperty(t)}}function Ze(t,e,n){var o,i;return function(){var r=z(this,t);return r===n?null:r===o?i:i=e(o=r,n)}}function Je(t,e,n){var o,i,r;return function(){var a=z(this,t),s=n(this);return null==s&&(this.style.removeProperty(t),s=z(this,t)),a===s?null:a===o&&s===i?r:r=e(o=a,i=s)}}function Qe(t,e,n){function o(){var o=this,i=e.apply(o,arguments);return i&&function(e){o.style.setProperty(t,i(e),n)}}return o._value=e,o}function tn(t){return function(){this.textContent=t}}function en(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function nn(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function on(t){return mt().transition(t)}function rn(){return++td}function an(t){return+t}function sn(t){return t*t}function un(t){return t*(2-t)}function hn(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function pn(t){return t*t*t}function ln(t){return--t*t*t+1}function cn(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function fn(t){return 1-Math.cos(t*sd)}function dn(t){return Math.sin(t*sd)}function yn(t){return(1-Math.cos(ad*t))/2}function vn(t){return Math.pow(2,10*t-10)}function gn(t){return 1-Math.pow(2,-10*t)}function mn(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function bn(t){return 1-Math.sqrt(1-t*t)}function _n(t){return Math.sqrt(1- --t*t)}function xn(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function wn(t){return 1-Pn(1-t)}function Pn(t){return(t=+t)<ud?gd*t*t:t<pd?gd*(t-=hd)*t+ld:t<fd?gd*(t-=cd)*t+dd:gd*(t-=yd)*t+vd}function Sn(t){return((t*=2)<=1?1-Pn(1-t):Pn(t-1)+1)/2}function Cn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Ad.time=ge(),Ad;return n}function Mn(){t.event.stopImmediatePropagation()}function Tn(t){return{type:t}}function An(){return!t.event.button}function En(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function In(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Ln(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Nn(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function On(){return Rn(Kd)}function kn(){return Rn(Bd)}function Rn(e){function n(t){var n=t.property("__brush",s).selectAll(".overlay").data([Tn("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ud.overlay).merge(n).each(function(){var t=In(this).extent;Bl(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([Tn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ud.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=t.selectAll(".handle").data(e.handles,function(t){return t.type});i.exit().remove(),i.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return Ud[t.type]}),t.each(o).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",a)}function o(){var t=Bl(this),e=In(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-c/2:e[0][0]-c/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-c/2:e[0][1]-c/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+c:c}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+c:c})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function i(t,e){return t.__brush.emitter||new r(t,e)}function r(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function a(){function n(){var t=il(S);!F||w||P||(Math.abs(t[0]-j[0])>Math.abs(t[1]-j[1])?P=!0:w=!0),j=t,x=!0,kd(),r()}function r(){var t;switch(b=j[0]-D[0],_=j[1]-D[1],M){case Fd:case Rd:T&&(b=Math.max(N-l,Math.min(k-y,b)),c=l+b,v=y+b),A&&(_=Math.max(O-f,Math.min(R-g,_)),d=f+_,m=g+_);break;case Dd:T<0?(b=Math.max(N-l,Math.min(k-l,b)),c=l+b,v=y):T>0&&(b=Math.max(N-y,Math.min(k-y,b)),c=l,v=y+b),A<0?(_=Math.max(O-f,Math.min(R-f,_)),d=f+_,m=g):A>0&&(_=Math.max(O-g,Math.min(R-g,_)),d=f,m=g+_);break;case jd:T&&(c=Math.max(N,Math.min(k,l-b*T)),v=Math.max(N,Math.min(k,y+b*T))),A&&(d=Math.max(O,Math.min(R,f-_*A)),m=Math.max(O,Math.min(R,g+_*A)))}v<c&&(T*=-1,t=l,l=y,y=t,t=c,c=v,v=t,C in Yd&&X.attr("cursor",Ud[C=Yd[C]])),m<d&&(A*=-1,t=f,f=g,g=t,t=d,d=m,m=t,C in Gd&&X.attr("cursor",Ud[C=Gd[C]])),E.selection&&(L=E.selection),w&&(c=L[0][0],v=L[1][0]),P&&(d=L[0][1],m=L[1][1]),L[0][0]===c&&L[0][1]===d&&L[1][0]===v&&L[1][1]===m||(E.selection=[[c,d],[v,m]],o.call(S),K.brush())}function a(){if(Mn(),t.event.touches){if(t.event.touches.length)return;u&&clearTimeout(u),u=setTimeout(function(){u=null},500),B.on("touchmove.brush touchend.brush touchcancel.brush",null)}else _t(t.event.view,x),U.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);B.attr("pointer-events","all"),X.attr("cursor",Ud.overlay),E.selection&&(L=E.selection),Ln(L)&&(E.selection=null,o.call(S)),K.end()}function s(){switch(t.event.keyCode){case 16:F=T&&A;break;case 18:M===Dd&&(T&&(y=v-b*T,l=c+b*T),A&&(g=m-_*A,f=d+_*A),M=jd,r());break;case 32:M!==Dd&&M!==jd||(T<0?y=v-b:T>0&&(l=c-b),A<0?g=m-_:A>0&&(f=d-_),M=Fd,X.attr("cursor",Ud.selection),r());break;default:return}kd()}function h(){switch(t.event.keyCode){case 16:F&&(w=P=F=!1,r());break;case 18:M===jd&&(T<0?y=v:T>0&&(l=c),A<0?g=m:A>0&&(f=d),M=Dd,r());break;case 32:M===Fd&&(t.event.altKey?(T&&(y=v-b*T,l=c+b*T),A&&(g=m-_*A,f=d+_*A),M=jd):(T<0?y=v:T>0&&(l=c),A<0?g=m:A>0&&(f=d),M=Dd),X.attr("cursor",Ud[C]),r());break;default:return}kd()}if(t.event.touches){if(t.event.changedTouches.length<t.event.touches.length)return kd()}else if(u)return;if(p.apply(this,arguments)){var l,c,f,d,y,v,g,m,b,_,x,w,P,S=this,C=t.event.target.__data__.type,M="selection"===(t.event.metaKey?C="overlay":C)?Rd:t.event.altKey?jd:Dd,T=e===Bd?null:Wd[C],A=e===Kd?null:zd[C],E=In(S),I=E.extent,L=E.selection,N=I[0][0],O=I[0][1],k=I[1][0],R=I[1][1],F=T&&A&&t.event.shiftKey,D=il(S),j=D,K=i(S,arguments).beforestart();"overlay"===C?E.selection=L=[[l=e===Bd?N:D[0],f=e===Kd?O:D[1]],[y=e===Bd?k:l,g=e===Kd?R:f]]:(l=L[0][0],f=L[0][1],y=L[1][0],g=L[1][1]),c=l,d=f,v=y,m=g;var B=Bl(S).attr("pointer-events","none"),X=B.selectAll(".overlay").attr("cursor",Ud[C]);if(t.event.touches)B.on("touchmove.brush",n,!0).on("touchend.brush touchcancel.brush",a,!0);else{var U=Bl(t.event.view).on("keydown.brush",s,!0).on("keyup.brush",h,!0).on("mousemove.brush",n,!0).on("mouseup.brush",a,!0);Wl(t.event.view)}Mn(),Of(S),o.call(S),K.start()}}function s(){var t=this.__brush||{selection:null};return t.extent=h.apply(this,arguments),t.dim=e,t}var u,h=En,p=An,l=v(n,"start","brush","end"),c=6;return n.move=function(t,n){t.selection?t.on("start.brush",function(){i(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){i(this,arguments).end()}).tween("brush",function(){function t(t){a.selection=1===t&&Ln(h)?null:p(t),o.call(r),s.brush()}var r=this,a=r.__brush,s=i(r,arguments),u=a.selection,h=e.input("function"==typeof n?n.apply(this,arguments):n,a.extent),p=zc(u,h);return u&&h?t:t(1)}):t.each(function(){var t=this,r=arguments,a=t.__brush,s=e.input("function"==typeof n?n.apply(t,r):n,a.extent),u=i(t,r).beforestart();Of(t),a.selection=null==s||Ln(s)?null:s,o.call(t),u.start().brush().end()})},r.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){I(new Od(n,t,e.output(this.state.selection)),l.apply,l,[t,this.that,this.args])}},n.extent=function(t){return arguments.length?(h="function"==typeof t?t:Nd([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),n):h},n.filter=function(t){return arguments.length?(p="function"==typeof t?t:Nd(!!t),n):p},n.handleSize=function(t){return arguments.length?(c=+t,n):c},n.on=function(){var t=l.on.apply(l,arguments);return t===l?n:t},n}function Fn(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function Dn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function jn(){return new Dn}function Kn(t){return t.source}function Bn(t){return t.target}function Xn(t){return t.radius}function Un(t){return t.startAngle}function Yn(t){return t.endAngle}function Gn(){}function Wn(t,e){var n=new Gn;if(t instanceof Gn)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var o,i=-1,r=t.length;if(null==e)for(;++i<r;)n.set(i,t[i]);else for(;++i<r;)n.set(e(o=t[i],i,t),o)}else if(t)for(var a in t)n.set(a,t[a]);return n}function zn(){return{}}function Hn(t,e,n){t[e]=n}function qn(){return Wn()}function Vn(t,e,n){t.set(e,n)}function $n(){}function Zn(t,e){var n=new $n;if(t instanceof $n)t.each(function(t){n.add(t)});else if(t){var o=-1,i=t.length;if(null==e)for(;++o<i;)n.add(t[o]);else for(;++o<i;)n.add(e(t[o],o,t))}return n}function Jn(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function Qn(t,e){var n=Jn(t);return function(o,i){return e(n(o),i,t)}}function to(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var o in t)o in e||n.push(e[o]=o)}),n}function eo(t,e,n,o){if(isNaN(e)||isNaN(n))return t;var i,r,a,s,u,h,p,l,c,f=t._root,d={data:o},y=t._x0,v=t._y0,g=t._x1,m=t._y1;if(!f)return t._root=d,t;for(;f.length;)if((h=e>=(r=(y+g)/2))?y=r:g=r,(p=n>=(a=(v+m)/2))?v=a:m=a,i=f,!(f=f[l=p<<1|h]))return i[l]=d,t;if(s=+t._x.call(null,f.data),u=+t._y.call(null,f.data),e===s&&n===u)return d.next=f,i?i[l]=d:t._root=d,t;do i=i?i[l]=new Array(4):t._root=new Array(4),(h=e>=(r=(y+g)/2))?y=r:g=r,(p=n>=(a=(v+m)/2))?v=a:m=a;while((l=p<<1|h)===(c=(u>=a)<<1|s>=r));return i[c]=f,i[l]=d,t}function no(t){var e,n,o,i,r=t.length,a=new Array(r),s=new Array(r),u=1/0,h=1/0,p=-(1/0),l=-(1/0);for(n=0;n<r;++n)isNaN(o=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=o,s[n]=i,o<u&&(u=o),o>p&&(p=o),i<h&&(h=i),i>l&&(l=i));for(p<u&&(u=this._x0,p=this._x1),l<h&&(h=this._y0,l=this._y1),this.cover(u,h).cover(p,l),n=0;n<r;++n)eo(this,a[n],s[n],t[n]);return this}function oo(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function io(t){return t[0]}function ro(t){return t[1]}function ao(t,e,n){var o=new so(null==e?io:e,null==n?ro:n,NaN,NaN,NaN,NaN);return null==t?o:o.addAll(t)}function so(t,e,n,o,i,r){this._x=t,this._y=e,this._x0=n,this._y0=o,this._x1=i,this._y1=r,this._root=void 0}function uo(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}function ho(t){return t.x+t.vx}function po(t){return t.y+t.vy}function lo(t){return t.index}function co(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function fo(t){return t.x}function yo(t){return t.y}function vo(t){return new go(t)}function go(t){if(!(e=rv.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",o=e[2]||">",i=e[3]||"-",r=e[4]||"",a=!!e[5],s=e[6]&&+e[6],u=!!e[7],h=e[8]&&+e[8].slice(1),p=e[9]||"";"n"===p?(u=!0,p="g"):iv[p]||(p=""),(a||"0"===n&&"="===o)&&(a=!0,n="0",o="="),this.fill=n,this.align=o,this.sign=i,this.symbol=r,this.zero=a,this.width=s,this.comma=u,this.precision=h,this.type=p}function mo(e){return av=hv(e),t.format=av.format,t.formatPrefix=av.formatPrefix,av}function bo(){this.reset()}function _o(t,e,n){var o=t.s=e+n,i=o-e,r=o-i;t.t=e-r+(n-i)}function xo(t){return t>1?0:t<-1?qv:Math.acos(t)}function wo(t){return t>1?Vv:t<-1?-Vv:Math.asin(t)}function Po(t){return(t=ug(t/2))*t}function So(){}function Co(t,e){t&&fg.hasOwnProperty(t.type)&&fg[t.type](t,e)}function Mo(t,e,n){var o,i=-1,r=t.length-n;for(e.lineStart();++i<r;)o=t[i],e.point(o[0],o[1],o[2]);e.lineEnd()}function To(t,e){var n=-1,o=t.length;for(e.polygonStart();++n<o;)Mo(t[n],e,1);e.polygonEnd()}function Ao(){gg.point=Io}function Eo(){Lo(dv,yv)}function Io(t,e){gg.point=Lo,dv=t,yv=e,t*=Qv,e*=Qv,vv=t,gv=og(e=e/2+$v),mv=ug(e)}function Lo(t,e){t*=Qv,e*=Qv,e=e/2+$v;var n=t-vv,o=n>=0?1:-1,i=o*n,r=og(e),a=ug(e),s=mv*a,u=gv*r+s*og(i),h=s*o*ug(i);yg.add(ng(h,u)),vv=t,gv=r,mv=a}function No(t){return[ng(t[1],t[0]),wo(t[2])]}function Oo(t){var e=t[0],n=t[1],o=og(n);return[o*og(e),o*ug(e),ug(n)]}function ko(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ro(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Fo(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Do(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function jo(t){var e=pg(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Ko(t,e){Tv.push(Av=[bv=t,xv=t]),e<_v&&(_v=e),e>wv&&(wv=e)}function Bo(t,e){var n=Oo([t*Qv,e*Qv]);if(Mv){var o=Ro(Mv,n),i=[o[1],-o[0],0],r=Ro(i,o);jo(r),r=No(r);var a,s=t-Pv,u=s>0?1:-1,h=r[0]*Jv*u,p=tg(s)>180;p^(u*Pv<h&&h<u*t)?(a=r[1]*Jv,a>wv&&(wv=a)):(h=(h+360)%360-180,p^(u*Pv<h&&h<u*t)?(a=-r[1]*Jv,a<_v&&(_v=a)):(e<_v&&(_v=e),e>wv&&(wv=e))),p?t<Pv?zo(bv,t)>zo(bv,xv)&&(xv=t):zo(t,xv)>zo(bv,xv)&&(bv=t):xv>=bv?(t<bv&&(bv=t),t>xv&&(xv=t)):t>Pv?zo(bv,t)>zo(bv,xv)&&(xv=t):zo(t,xv)>zo(bv,xv)&&(bv=t)}else Tv.push(Av=[bv=t,xv=t]);e<_v&&(_v=e),e>wv&&(wv=e),Mv=n,Pv=t}function Xo(){_g.point=Bo}function Uo(){Av[0]=bv,Av[1]=xv,_g.point=Ko,Mv=null}function Yo(t,e){if(Mv){var n=t-Pv;bg.add(tg(n)>180?n+(n>0?360:-360):n)}else Sv=t,Cv=e;gg.point(t,e),Bo(t,e)}function Go(){gg.lineStart()}function Wo(){Yo(Sv,Cv),gg.lineEnd(),tg(bg)>zv&&(bv=-(xv=180)),Av[0]=bv,Av[1]=xv,Mv=null}function zo(t,e){return(e-=t)<0?e+360:e}function Ho(t,e){return t[0]-e[0]}function qo(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function Vo(t,e){t*=Qv,e*=Qv;var n=og(e);$o(n*og(t),n*ug(t),ug(e))}function $o(t,e,n){++Ev,Lv+=(t-Lv)/Ev,Nv+=(e-Nv)/Ev,Ov+=(n-Ov)/Ev}function Zo(){wg.point=Jo}function Jo(t,e){t*=Qv,e*=Qv;var n=og(e);Uv=n*og(t),Yv=n*ug(t),Gv=ug(e),wg.point=Qo,$o(Uv,Yv,Gv)}function Qo(t,e){t*=Qv,e*=Qv;var n=og(e),o=n*og(t),i=n*ug(t),r=ug(e),a=ng(pg((a=Yv*r-Gv*i)*a+(a=Gv*o-Uv*r)*a+(a=Uv*i-Yv*o)*a),Uv*o+Yv*i+Gv*r);Iv+=a,kv+=a*(Uv+(Uv=o)),Rv+=a*(Yv+(Yv=i)),Fv+=a*(Gv+(Gv=r)),$o(Uv,Yv,Gv)}function ti(){wg.point=Vo}function ei(){wg.point=oi}function ni(){ii(Bv,Xv),wg.point=Vo}function oi(t,e){Bv=t,Xv=e,t*=Qv,e*=Qv,wg.point=ii;var n=og(e);Uv=n*og(t),Yv=n*ug(t),Gv=ug(e),$o(Uv,Yv,Gv)}function ii(t,e){t*=Qv,e*=Qv;var n=og(e),o=n*og(t),i=n*ug(t),r=ug(e),a=Yv*r-Gv*i,s=Gv*o-Uv*r,u=Uv*i-Yv*o,h=pg(a*a+s*s+u*u),p=wo(h),l=h&&-p/h;Dv+=l*a,jv+=l*s,Kv+=l*u,Iv+=p,kv+=p*(Uv+(Uv=o)),Rv+=p*(Yv+(Yv=i)),Fv+=p*(Gv+(Gv=r)),$o(Uv,Yv,Gv)}function ri(t,e){return[t>qv?t-Zv:t<-qv?t+Zv:t,e]}function ai(t,e,n){return(t%=Zv)?e||n?Cg(ui(t),hi(e,n)):ui(t):e||n?hi(e,n):ri}function si(t){return function(e,n){return e+=t,[e>qv?e-Zv:e<-qv?e+Zv:e,n]}}function ui(t){var e=si(t);return e.invert=si(-t),e}function hi(t,e){function n(t,e){var n=og(e),s=og(t)*n,u=ug(t)*n,h=ug(e),p=h*o+s*i;return[ng(u*r-p*a,s*o-h*i),wo(p*r+u*a)]}var o=og(t),i=ug(t),r=og(e),a=ug(e);return n.invert=function(t,e){var n=og(e),s=og(t)*n,u=ug(t)*n,h=ug(e),p=h*r-u*a;return[ng(u*r+h*a,s*o+p*i),wo(p*o-s*i)]},n}function pi(t,e,n,o,i,r){if(n){var a=og(e),s=ug(e),u=o*n;null==i?(i=e+o*Zv,r=e-u/2):(i=li(a,i),r=li(a,r),(o>0?i<r:i>r)&&(i+=o*Zv));for(var h,p=i;o>0?p>r:p<r;p-=u)h=No([a,-s*og(p),-s*ug(p)]),t.point(h[0],h[1])}}function li(t,e){e=Oo(e),e[0]-=t,jo(e);var n=xo(-e[1]);return((-e[2]<0?-n:n)+Zv-zv)%Zv}function ci(t,e,n,o){this.x=t,this.z=e,this.o=n,this.e=o,this.v=!1,this.n=this.p=null}function fi(t){if(e=t.length){for(var e,n,o=0,i=t[0];++o<e;)i.n=n=t[o],n.p=i,i=n;i.n=n=t[0],n.p=i}}function di(t,e,n,o){function i(i,r){return t<=i&&i<=n&&e<=r&&r<=o}function r(i,r,s,h){var p=0,l=0;if(null==i||(p=a(i,s))!==(l=a(r,s))||u(i,r)<0^s>0){do h.point(0===p||3===p?t:n,p>1?o:e);while((p=(p+s+4)%4)!==l)}else h.point(r[0],r[1])}function a(o,i){return tg(o[0]-t)<zv?i>0?0:3:tg(o[0]-n)<zv?i>0?2:1:tg(o[1]-e)<zv?i>0?1:0:i>0?3:2}function s(t,e){return u(t.x,e.x)}function u(t,e){var n=a(t,1),o=a(e,1);return n!==o?n-o:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){function u(t,e){i(t,e)&&M.point(t,e)}function h(){for(var e=0,n=0,i=v.length;n<i;++n)for(var r,a,s=v[n],u=1,h=s.length,p=s[0],l=p[0],c=p[1];u<h;++u)r=l,a=c,p=s[u],l=p[0],c=p[1],a<=o?c>o&&(l-r)*(o-a)>(c-a)*(t-r)&&++e:c<=o&&(l-r)*(o-a)<(c-a)*(t-r)&&--e;return e}function p(){M=T,y=[],v=[],C=!0}function l(){var t=h(),e=C&&t,n=(y=Ap(y)).length;(e||n)&&(a.polygonStart(),e&&(a.lineStart(),r(null,null,1,a),a.lineEnd()),n&&Ug(y,s,t,r,a),a.polygonEnd()),M=a,y=v=g=null}function c(){A.point=d,v&&v.push(g=[]),S=!0,P=!1,x=w=NaN}function f(){y&&(d(m,b),_&&P&&T.rejoin(),y.push(T.result())),A.point=u,P&&M.lineEnd()}function d(r,a){var s=i(r,a);if(v&&g.push([r,a]),S)m=r,b=a,_=s,S=!1,s&&(M.lineStart(),M.point(r,a));else if(s&&P)M.point(r,a);else{var u=[x=Math.max(Gg,Math.min(Yg,x)),w=Math.max(Gg,Math.min(Yg,w))],h=[r=Math.max(Gg,Math.min(Yg,r)),a=Math.max(Gg,Math.min(Yg,a))];Bg(u,h,t,e,n,o)?(P||(M.lineStart(),M.point(u[0],u[1])),M.point(h[0],h[1]),s||M.lineEnd(),C=!1):s&&(M.lineStart(),M.point(r,a),C=!1)}x=r,w=a,P=s}var y,v,g,m,b,_,x,w,P,S,C,M=a,T=Kg(),A={point:u,lineStart:c,lineEnd:f,polygonStart:p,polygonEnd:l};return A}}function yi(){Vg.point=gi,Vg.lineEnd=vi}function vi(){Vg.point=Vg.lineEnd=So}function gi(t,e){t*=Qv,e*=Qv,Mg=t,Tg=ug(e),Ag=og(e),Vg.point=mi}function mi(t,e){t*=Qv,e*=Qv;var n=ug(e),o=og(e),i=tg(t-Mg),r=og(i),a=ug(i),s=o*a,u=Ag*n-Tg*o*r,h=Tg*n+Ag*o*r;qg.add(ng(pg(s*s+u*u),h)),Mg=t,Tg=n,Ag=o}function bi(t,e){return!(!t||!em.hasOwnProperty(t.type))&&em[t.type](t,e)}function _i(t,e){return 0===Qg(t,e)}function xi(t,e){var n=Qg(t[0],t[1]),o=Qg(t[0],e),i=Qg(e,t[1]);return o+i<=n+zv}function wi(t,e){return!!Hg(t.map(Pi),Si(e))}function Pi(t){return t=t.map(Si),t.pop(),t}function Si(t){return[t[0]*Qv,t[1]*Qv]}function Ci(t,e,n){var o=yp(t,e-zv,n).concat(e);return function(t){return o.map(function(e){return[t,e]})}}function Mi(t,e,n){var o=yp(t,e-zv,n).concat(e);return function(t){return o.map(function(e){return[e,t]})}}function Ti(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return yp(ig(r/v)*v,i,v).map(c).concat(yp(ig(h/g)*g,u,g).map(f)).concat(yp(ig(o/d)*d,n,d).filter(function(t){return tg(t%v)>zv}).map(p)).concat(yp(ig(s/y)*y,a,y).filter(function(t){return tg(t%g)>zv}).map(l))}var n,o,i,r,a,s,u,h,p,l,c,f,d=10,y=d,v=90,g=360,m=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[c(r).concat(f(u).slice(1),c(i).reverse().slice(1),f(h).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.extentMajor(e).extentMinor(e):t.extentMinor()},t.extentMajor=function(e){return arguments.length?(r=+e[0][0],i=+e[1][0],h=+e[0][1],u=+e[1][1],r>i&&(e=r,r=i,i=e),h>u&&(e=h,h=u,u=e),t.precision(m)):[[r,h],[i,u]]},t.extentMinor=function(e){return arguments.length?(o=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],o>n&&(e=o,o=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(m)):[[o,s],[n,a]]},t.step=function(e){return arguments.length?t.stepMajor(e).stepMinor(e):t.stepMinor()},t.stepMajor=function(e){return arguments.length?(v=+e[0],g=+e[1],t):[v,g]},t.stepMinor=function(e){return arguments.length?(d=+e[0],y=+e[1],t):[d,y]},t.precision=function(e){return arguments.length?(m=+e,p=Ci(s,a,90),l=Mi(o,n,m),c=Ci(h,u,90),f=Mi(r,i,m),t):m},t.extentMajor([[-180,-90+zv],[180,90-zv]]).extentMinor([[-180,-80-zv],[180,80+zv]])}function Ai(){return Ti()()}function Ei(){sm.point=Ii}function Ii(t,e){sm.point=Li,Eg=Lg=t,Ig=Ng=e}function Li(t,e){am.add(Ng*t-Lg*e),Lg=t,Ng=e}function Ni(){Li(Eg,Ig)}function Oi(t,e){t<um&&(um=t),t>pm&&(pm=t),e<hm&&(hm=e),e>lm&&(lm=e)}function ki(t,e){fm+=t,dm+=e,++ym}function Ri(){wm.point=Fi}function Fi(t,e){wm.point=Di,ki(Rg=t,Fg=e)}function Di(t,e){var n=t-Rg,o=e-Fg,i=pg(n*n+o*o);vm+=i*(Rg+t)/2,gm+=i*(Fg+e)/2,mm+=i,ki(Rg=t,Fg=e)}function ji(){wm.point=ki}function Ki(){wm.point=Xi}function Bi(){Ui(Og,kg)}function Xi(t,e){wm.point=Ui,ki(Og=Rg=t,kg=Fg=e)}function Ui(t,e){var n=t-Rg,o=e-Fg,i=pg(n*n+o*o);vm+=i*(Rg+t)/2,gm+=i*(Fg+e)/2,mm+=i,i=Fg*t-Rg*e,bm+=i*(Rg+t),_m+=i*(Fg+e),xm+=3*i,ki(Rg=t,Fg=e)}function Yi(t){this._context=t}function Gi(t,e){Em.point=Wi,Sm=Mm=t,Cm=Tm=e}function Wi(t,e){Mm-=t,Tm-=e,Am.add(pg(Mm*Mm+Tm*Tm)),Mm=t,Tm=e}function zi(){this._string=[]}function Hi(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function qi(t){return t.length>1}function Vi(t,e){return((t=t.x)[0]<0?t[1]-Vv-zv:Vv-t[1])-((e=e.x)[0]<0?e[1]-Vv-zv:Vv-e[1])}function $i(t){var e,n=NaN,o=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(r,a){var s=r>0?qv:-qv,u=tg(r-n);tg(u-qv)<zv?(t.point(n,o=(o+a)/2>0?Vv:-Vv),t.point(i,o),t.lineEnd(),t.lineStart(),t.point(s,o),t.point(r,o),e=0):i!==s&&u>=qv&&(tg(n-i)<zv&&(n-=i*zv),tg(r-s)<zv&&(r-=s*zv),o=Zi(n,o,r,a),t.point(i,o),t.lineEnd(),t.lineStart(),t.point(s,o),e=0),t.point(n=r,o=a),i=s},lineEnd:function(){t.lineEnd(),n=o=NaN},clean:function(){return 2-e}}}function Zi(t,e,n,o){var i,r,a=ug(t-n);return tg(a)>zv?eg((ug(e)*(r=og(o))*ug(n)-ug(o)*(i=og(e))*ug(t))/(i*r*a)):(e+o)/2}function Ji(t,e,n,o){var i;if(null==t)i=n*Vv,o.point(-qv,i),o.point(0,i),o.point(qv,i),o.point(qv,0),o.point(qv,-i),o.point(0,-i),o.point(-qv,-i),o.point(-qv,0),o.point(-qv,i);else if(tg(t[0]-e[0])>zv){var r=t[0]<e[0]?qv:-qv;i=n*r/2,o.point(-r,i),o.point(0,i),o.point(r,i)}else o.point(e[0],e[1])}function Qi(t){return function(e){var n=new tr;for(var o in t)n[o]=t[o];return n.stream=e,n}}function tr(){}function er(t,e,n){var o=e[1][0]-e[0][0],i=e[1][1]-e[0][1],r=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),dg(n,t.stream(cm));var a=cm.result(),s=Math.min(o/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),u=+e[0][0]+(o-s*(a[1][0]+a[0][0]))/2,h=+e[0][1]+(i-s*(a[1][1]+a[0][1]))/2;return null!=r&&t.clipExtent(r),t.scale(150*s).translate([u,h])}function nr(t,e,n){return er(t,[[0,0],e],n)}function or(t){return Qi({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function ir(t,e){function n(o,i,r,a,s,u,h,p,l,c,f,d,y,v){var g=h-o,m=p-i,b=g*g+m*m;if(b>4*e&&y--){var _=a+c,x=s+f,w=u+d,P=pg(_*_+x*x+w*w),S=wo(w/=P),C=tg(tg(w)-1)<zv||tg(r-l)<zv?(r+l)/2:ng(x,_),M=t(C,S),T=M[0],A=M[1],E=T-o,I=A-i,L=m*E-g*I;(L*L/b>e||tg((g*E+m*I)/b-.5)>.3||a*c+s*f+u*d<Fm)&&(n(o,i,r,a,s,u,T,A,C,_/=P,x/=P,w,y,v),v.point(T,A),n(T,A,C,_,x,w,h,p,l,c,f,d,y,v))}}return function(e){function o(n,o){n=t(n,o),e.point(n[0],n[1])}function i(){g=NaN,w.point=r,e.lineStart()}function r(o,i){var r=Oo([o,i]),a=t(o,i);n(g,m,v,b,_,x,g=a[0],m=a[1],v=o,b=r[0],_=r[1],x=r[2],Rm,e),e.point(g,m)}function a(){w.point=o,e.lineEnd()}function s(){i(),w.point=u,w.lineEnd=h}function u(t,e){r(p=t,e),l=g,c=m,f=b,d=_,y=x,w.point=r}function h(){n(g,m,v,b,_,x,l,c,p,f,d,y,Rm,e),w.lineEnd=a,a()}var p,l,c,f,d,y,v,g,m,b,_,x,w={point:o,lineStart:i,lineEnd:a,polygonStart:function(){e.polygonStart(),w.lineStart=s},polygonEnd:function(){e.polygonEnd(),w.lineStart=i}};return w}}function rr(t){return ar(function(){return t})()}function ar(t){function e(t){return t=p(t[0]*Qv,t[1]*Qv),[t[0]*v+s,u-t[1]*v]}function n(t){return t=p.invert((t[0]-s)/v,(u-t[1])/v),t&&[t[0]*Jv,t[1]*Jv]}function o(t,e){return t=a(t,e),[t[0]*v+s,u-t[1]*v]}function i(){p=Cg(h=ai(x,w,P),a);var t=a(b,_);return s=g-t[0]*v,u=m+t[1]*v,r()}function r(){return d=y=null,e}var a,s,u,h,p,l,c,f,d,y,v=150,g=480,m=250,b=0,_=0,x=0,w=0,P=0,S=null,C=Nm,M=null,T=im,A=.5,E=Dm(o,A);return e.stream=function(t){return d&&y===t?d:d=jm(C(h,E(T(y=t))))},e.clipAngle=function(t){return arguments.length?(C=+t?Om(S=t*Qv,6*Qv):(S=null,Nm),r()):S*Jv},e.clipExtent=function(t){return arguments.length?(T=null==t?(M=l=c=f=null,im):di(M=+t[0][0],l=+t[0][1],c=+t[1][0],f=+t[1][1]),r()):null==M?null:[[M,l],[c,f]]},e.scale=function(t){return arguments.length?(v=+t,i()):v},e.translate=function(t){return arguments.length?(g=+t[0],m=+t[1],i()):[g,m]},e.center=function(t){return arguments.length?(b=t[0]%360*Qv,_=t[1]%360*Qv,i()):[b*Jv,_*Jv]},e.rotate=function(t){return arguments.length?(x=t[0]%360*Qv,w=t[1]%360*Qv,P=t.length>2?t[2]%360*Qv:0,i()):[x*Jv,w*Jv,P*Jv]},e.precision=function(t){return arguments.length?(E=Dm(o,A=t*t),r()):pg(A)},e.fitExtent=function(t,n){return er(e,t,n)},e.fitSize=function(t,n){return nr(e,t,n)},function(){return a=t.apply(this,arguments),e.invert=a.invert&&n,i()}}function sr(t){var e=0,n=qv/3,o=ar(t),i=o(e,n);return i.parallels=function(t){return arguments.length?o(e=t[0]*Qv,n=t[1]*Qv):[e*Jv,n*Jv]},i}function ur(t){function e(t,e){return[t*n,ug(e)/n]}var n=og(t);return e.invert=function(t,e){return[t/n,wo(e*n)]},e}function hr(t,e){function n(t,e){var n=pg(r-2*i*ug(e))/i;return[n*ug(t*=i),a-n*og(t)]}var o=ug(t),i=(o+ug(e))/2;if(tg(i)<zv)return ur(t);var r=1+o*(2*i-o),a=pg(r)/i;return n.invert=function(t,e){var n=a-e;return[ng(t,tg(n))/i*hg(n),wo((r-(t*t+n*n)*i*i)/(2*i))]},n}function pr(t){var e=t.length;return{point:function(n,o){for(var i=-1;++i<e;)t[i].point(n,o)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function lr(t){return function(e,n){var o=og(e),i=og(n),r=t(o*i);return[r*i*ug(e),r*ug(n)]}}function cr(t){return function(e,n){var o=pg(e*e+n*n),i=t(o),r=ug(i),a=og(i);return[ng(e*r,o*a),wo(o&&n*r/o)]}}function fr(t,e){return[t,ag(lg((Vv+e)/2))]}function dr(t){function e(){var e=qv*s(),a=r(Dg(r.rotate()).invert([0,0]));return h(null==p?[[a[0]-e,a[1]-e],[a[0]+e,a[1]+e]]:t===fr?[[Math.max(a[0]-e,p),n],[Math.min(a[0]+e,o),i]]:[[p,Math.max(a[1]-e,n)],[o,Math.min(a[1]+e,i)]])}var n,o,i,r=rr(t),a=r.center,s=r.scale,u=r.translate,h=r.clipExtent,p=null;return r.scale=function(t){return arguments.length?(s(t),e()):s()},r.translate=function(t){return arguments.length?(u(t),e()):u()},r.center=function(t){return arguments.length?(a(t),e()):a()},r.clipExtent=function(t){return arguments.length?(null==t?p=n=o=i=null:(p=+t[0][0],n=+t[0][1],o=+t[1][0],i=+t[1][1]),e()):null==p?null:[[p,n],[o,i]]},e()}function yr(t){return lg((Vv+t)/2)}function vr(t,e){function n(t,e){r>0?e<-Vv+zv&&(e=-Vv+zv):e>Vv-zv&&(e=Vv-zv);var n=r/sg(yr(e),i);return[n*ug(i*t),r-n*og(i*t)]}var o=og(t),i=t===e?ug(t):ag(o/og(e))/ag(yr(e)/yr(t)),r=o*sg(yr(t),i)/i;return i?(n.invert=function(t,e){var n=r-e,o=hg(i)*pg(t*t+n*n);return[ng(t,tg(n))/i*hg(n),2*eg(sg(r/o,1/i))-Vv]},n):fr}function gr(t,e){return[t,e]}function mr(t,e){function n(t,e){var n=r-e,o=i*t;return[n*ug(o),r-n*og(o)]}var o=og(t),i=t===e?ug(t):(o-og(e))/(e-t),r=o/i+t;return tg(i)<zv?gr:(n.invert=function(t,e){var n=r-e;return[ng(t,tg(n))/i*hg(n),r-hg(i)*pg(t*t+n*n)]},n)}function br(t,e){var n=og(e),o=og(t)*n;return[n*ug(t)/o,ug(e)/o]}function _r(t,e,n,o){return 1===t&&1===e&&0===n&&0===o?im:Qi({point:function(i,r){this.stream.point(i*t+n,r*e+o)}})}function xr(t,e){return[og(e)*ug(t),ug(e)]}function wr(t,e){var n=og(e),o=1+og(t)*n;return[n*ug(t)/o,ug(e)/o]}function Pr(t,e){return[ag(lg((Vv+e)/2)),-t]}function Sr(t,e){return t.parent===e.parent?1:2}function Cr(t){return t.reduce(Mr,0)/t.length}function Mr(t,e){return t+e.x}function Tr(t){return 1+t.reduce(Ar,0)}function Ar(t,e){return Math.max(t,e.y)}function Er(t){for(var e;e=t.children;)t=e[0];return t}function Ir(t){for(var e;e=t.children;)t=e[e.length-1];return t}function Lr(t){var e=0,n=t.children,o=n&&n.length;if(o)for(;--o>=0;)e+=n[o].value;else e=1;t.value=e}function Nr(t,e){if(t===e)return t;var n=t.ancestors(),o=e.ancestors(),i=null;for(t=n.pop(),e=o.pop();t===e;)i=t,t=n.pop(),e=o.pop();return i}function Or(t,e){var n,o,i,r,a,s=new jr(t),u=+t.value&&(s.value=t.value),h=[s];for(null==e&&(e=Rr);n=h.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),r=a-1;r>=0;--r)h.push(o=n.children[r]=new jr(i[r])),o.parent=n,o.depth=n.depth+1;return s.eachBefore(Dr)}function kr(){return Or(this).eachBefore(Fr)}function Rr(t){return t.children}function Fr(t){t.data=t.data.data}function Dr(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function jr(t){this.data=t,this.depth=this.height=0,this.parent=null}function Kr(t){for(var e,n,o=t.length;o;)n=Math.random()*o--|0,e=t[o],t[o]=t[n],t[n]=e;return t}function Br(t,e){var n,o;if(Yr(e,t))return[e];for(n=0;n<t.length;++n)if(Xr(e,t[n])&&Yr(zr(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(o=n+1;o<t.length;++o)if(Xr(zr(t[n],t[o]),e)&&Xr(zr(t[n],e),t[o])&&Xr(zr(t[o],e),t[n])&&Yr(Hr(t[n],t[o],e),t))return[t[n],t[o],e];throw new Error}function Xr(t,e){var n=t.r-e.r,o=e.x-t.x,i=e.y-t.y;return n<0||n*n<o*o+i*i}function Ur(t,e){var n=t.r-e.r+1e-6,o=e.x-t.x,i=e.y-t.y;return n>0&&n*n>o*o+i*i}function Yr(t,e){for(var n=0;n<e.length;++n)if(!Ur(t,e[n]))return!1;return!0}function Gr(t){switch(t.length){case 1:return Wr(t[0]);case 2:return zr(t[0],t[1]);case 3:return Hr(t[0],t[1],t[2])}}function Wr(t){return{x:t.x,y:t.y,r:t.r}}function zr(t,e){var n=t.x,o=t.y,i=t.r,r=e.x,a=e.y,s=e.r,u=r-n,h=a-o,p=s-i,l=Math.sqrt(u*u+h*h);return{x:(n+r+u/l*p)/2,y:(o+a+h/l*p)/2,r:(l+i+s)/2}}function Hr(t,e,n){var o=t.x,i=t.y,r=t.r,a=e.x,s=e.y,u=e.r,h=n.x,p=n.y,l=n.r,c=o-a,f=o-h,d=i-s,y=i-p,v=u-r,g=l-r,m=o*o+i*i-r*r,b=m-a*a-s*s+u*u,_=m-h*h-p*p+l*l,x=f*d-c*y,w=(d*_-y*b)/(2*x)-o,P=(y*v-d*g)/x,S=(f*b-c*_)/(2*x)-i,C=(c*g-f*v)/x,M=P*P+C*C-1,T=2*(r+w*P+S*C),A=w*w+S*S-r*r,E=-(M?(T+Math.sqrt(T*T-4*M*A))/(2*M):A/T);return{x:o+w+P*E,y:i+S+C*E,r:E}}function qr(t,e,n){var o=t.x,i=t.y,r=e.r+n.r,a=t.r+n.r,s=e.x-o,u=e.y-i,h=s*s+u*u;if(h){var p=.5+((a*=a)-(r*=r))/(2*h),l=Math.sqrt(Math.max(0,2*r*(a+h)-(a-=h)*a-r*r))/(2*h);n.x=o+p*s+l*u,n.y=i+p*u-l*s}else n.x=o+a,n.y=i}function Vr(t,e){var n=e.x-t.x,o=e.y-t.y,i=t.r+e.r;return i*i-1e-6>n*n+o*o}function $r(t){var e=t._,n=t.next._,o=e.r+n.r,i=(e.x*n.r+n.x*e.r)/o,r=(e.y*n.r+n.y*e.r)/o;return i*i+r*r}function Zr(t){this._=t,this.next=null,this.previous=null}function Jr(t){if(!(i=t.length))return 0;var e,n,o,i,r,a,s,u,h,p,l;if(e=t[0],e.x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;qr(n,e,o=t[2]),e=new Zr(e),n=new Zr(n),o=new Zr(o),e.next=o.previous=n,n.next=e.previous=o,o.next=n.previous=e;t:for(s=3;s<i;++s){qr(e._,n._,o=t[s]),o=new Zr(o),u=n.next,h=e.previous,p=n._.r,l=e._.r;do if(p<=l){if(Vr(u._,o._)){n=u,e.next=n,n.previous=e,--s;continue t}p+=u._.r,u=u.next}else{if(Vr(h._,o._)){e=h,e.next=n,n.previous=e,--s;continue t}l+=h._.r,h=h.previous}while(u!==h.next);for(o.previous=e,o.next=n,e.next=n.previous=n=o,r=$r(e);(o=o.next)!==n;)(a=$r(o))<r&&(e=o,
r=a);n=e.next}for(e=[n._],o=n;(o=o.next)!==n;)e.push(o._);for(o=db(e),s=0;s<i;++s)e=t[s],e.x-=o.x,e.y-=o.y;return o.r}function Qr(t){return null==t?null:ta(t)}function ta(t){if("function"!=typeof t)throw new Error;return t}function ea(){return 0}function na(t){return Math.sqrt(t.value)}function oa(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function ia(t,e){return function(n){if(o=n.children){var o,i,r,a=o.length,s=t(n)*e||0;if(s)for(i=0;i<a;++i)o[i].r+=s;if(r=Jr(o),s)for(i=0;i<a;++i)o[i].r-=s;n.r=r+s}}}function ra(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function aa(t){return t.id}function sa(t){return t.parentId}function ua(t,e){return t.parent===e.parent?1:2}function ha(t){var e=t.children;return e?e[0]:t.t}function pa(t){var e=t.children;return e?e[e.length-1]:t.t}function la(t,e,n){var o=n/(e.i-t.i);e.c-=o,e.s+=n,t.c+=o,e.z+=n,e.m+=n}function ca(t){for(var e,n=0,o=0,i=t.children,r=i.length;--r>=0;)e=i[r],e.z+=n,e.m+=n,n+=e.s+(o+=e.c)}function fa(t,e,n){return t.a.parent===e.parent?t.a:n}function da(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function ya(t){for(var e,n,o,i,r,a=new da(t,0),s=[a];e=s.pop();)if(o=e._.children)for(e.children=new Array(r=o.length),i=r-1;i>=0;--i)s.push(n=e.children[i]=new da(o[i],i)),n.parent=e;return(a.parent=new da(null,0)).children=[a],a}function va(t,e,n,o,i,r){for(var a,s,u,h,p,l,c,f,d,y,v,g=[],m=e.children,b=0,_=0,x=m.length,w=e.value;b<x;){u=i-n,h=r-o;do p=m[_++].value;while(!p&&_<x);for(l=c=p,y=Math.max(h/u,u/h)/(w*t),v=p*p*y,d=Math.max(c/v,v/l);_<x;++_){if(p+=s=m[_].value,s<l&&(l=s),s>c&&(c=s),v=p*p*y,f=Math.max(c/v,v/l),f>d){p-=s;break}d=f}g.push(a={value:p,dice:u<h,children:m.slice(b,_)}),a.dice?bb(a,n,o,i,w?o+=h*p/w:r):Mb(a,n,o,w?n+=u*p/w:i,r),w-=p,b=_}return g}function ga(t,e){return t[0]-e[0]||t[1]-e[1]}function ma(t){for(var e=t.length,n=[0,1],o=2,i=2;i<e;++i){for(;o>1&&Rb(t[n[o-2]],t[n[o-1]],t[i])<=0;)--o;n[o++]=i}return n.slice(0,o)}function ba(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function _a(t){if(!t._start)try{xa(t)}catch(e){if(t._tasks[t._ended+t._active-1])Pa(t,e);else if(!t._data)throw e}}function xa(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],o=n.length-1,i=n[o];n[o]=wa(t,e),--t._waiting,++t._active,n=i.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||Bb)}}function wa(t,e){return function(n,o){t._tasks[e]&&(--t._active,++t._ended,t._tasks[e]=null,null==t._error&&(null!=n?Pa(t,n):(t._data[e]=o,t._waiting?_a(t):Sa(t))))}}function Pa(t,e){var n,o=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;--o>=0;)if((n=t._tasks[o])&&(t._tasks[o]=null,n.abort))try{n.abort()}catch(t){}t._active=NaN,Sa(t)}function Sa(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function Ca(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new ba(t)}function Ma(t){return function(e,n){t(null==e?n:null)}}function Ta(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Aa(t,e){return function(n){return t(n.responseText,e)}}function Ea(t){function e(e){var r=e+"",a=n.get(r);if(!a){if(i!==a_)return i;n.set(r,a=o.push(e))}return t[(a-1)%t.length]}var n=Wn(),o=[],i=a_;return t=null==t?[]:r_.call(t),e.domain=function(t){if(!arguments.length)return o.slice();o=[],n=Wn();for(var i,r,a=-1,s=t.length;++a<s;)n.has(r=(i=t[a])+"")||n.set(r,o.push(i));return e},e.range=function(n){return arguments.length?(t=r_.call(n),e):t.slice()},e.unknown=function(t){return arguments.length?(i=t,e):i},e.copy=function(){return Ea().domain(o).range(t).unknown(i)},e}function Ia(){function t(){var t=i().length,o=a[1]<a[0],l=a[o-0],c=a[1-o];e=(c-l)/Math.max(1,t-u+2*h),s&&(e=Math.floor(e)),l+=(c-l-e*(t-u))*p,n=e*(1-u),s&&(l=Math.round(l),n=Math.round(n));var f=yp(t).map(function(t){return l+e*t});return r(o?f.reverse():f)}var e,n,o=Ea().unknown(void 0),i=o.domain,r=o.range,a=[0,1],s=!1,u=0,h=0,p=.5;return delete o.unknown,o.domain=function(e){return arguments.length?(i(e),t()):i()},o.range=function(e){return arguments.length?(a=[+e[0],+e[1]],t()):a.slice()},o.rangeRound=function(e){return a=[+e[0],+e[1]],s=!0,t()},o.bandwidth=function(){return n},o.step=function(){return e},o.round=function(e){return arguments.length?(s=!!e,t()):s},o.padding=function(e){return arguments.length?(u=h=Math.max(0,Math.min(1,e)),t()):u},o.paddingInner=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),t()):u},o.paddingOuter=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),t()):h},o.align=function(e){return arguments.length?(p=Math.max(0,Math.min(1,e)),t()):p},o.copy=function(){return Ia().domain(i()).range(a).round(s).paddingInner(u).paddingOuter(h).align(p)},t()}function La(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return La(e())},t}function Na(){return La(Ia().paddingInner(1))}function Oa(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:s_(e)}function ka(t){return function(e,n){var o=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:o(t)}}}function Ra(t){return function(e,n){var o=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:o(t)}}}function Fa(t,e,n,o){var i=t[0],r=t[1],a=e[0],s=e[1];return r<i?(i=n(r,i),a=o(s,a)):(i=n(i,r),a=o(a,s)),function(t){return a(i(t))}}function Da(t,e,n,o){var i=Math.min(t.length,e.length)-1,r=new Array(i),a=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)r[s]=n(t[s],t[s+1]),a[s]=o(e[s],e[s+1]);return function(e){var n=ep(t,e,1,i)-1;return a[n](r[n](e))}}function ja(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function Ka(t,e){function n(){return i=Math.min(s.length,u.length)>2?Da:Fa,r=a=null,o}function o(e){return(r||(r=i(s,u,p?ka(t):t,h)))(+e)}var i,r,a,s=h_,u=h_,h=zc,p=!1;return o.invert=function(t){return(a||(a=i(u,s,Oa,p?Ra(e):e)))(+t)},o.domain=function(t){return arguments.length?(s=i_.call(t,u_),n()):s.slice()},o.range=function(t){return arguments.length?(u=r_.call(t),n()):u.slice()},o.rangeRound=function(t){return u=r_.call(t),h=Hc,n()},o.clamp=function(t){return arguments.length?(p=!!t,n()):p},o.interpolate=function(t){return arguments.length?(h=t,n()):h},n()}function Ba(t){var e=t.domain;return t.ticks=function(t){var n=e();return bp(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return p_(e(),t,n)},t.nice=function(n){null==n&&(n=10);var i,r=e(),a=0,s=r.length-1,u=r[a],h=r[s];return h<u&&(i=u,u=h,h=i,i=a,a=s,s=i),i=o(u,h,n),i>0?(u=Math.floor(u/i)*i,h=Math.ceil(h/i)*i,i=o(u,h,n)):i<0&&(u=Math.ceil(u*i)/i,h=Math.floor(h*i)/i,i=o(u,h,n)),i>0?(r[a]=Math.floor(u/i)*i,r[s]=Math.ceil(h/i)*i,e(r)):i<0&&(r[a]=Math.ceil(u*i)/i,r[s]=Math.floor(h*i)/i,e(r)),t},t}function Xa(){var t=Ka(Oa,Xc);return t.copy=function(){return ja(t,Xa())},Ba(t)}function Ua(){function t(t){return+t}var e=[0,1];return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=i_.call(n,u_),t):e.slice()},t.copy=function(){return Ua().domain(e)},Ba(t)}function Ya(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:s_(e)}function Ga(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function Wa(t){return isFinite(t)?+("1e"+t):t<0?0:t}function za(t){return 10===t?Wa:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function Ha(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function qa(t){return function(e){return-t(-e)}}function Va(){function e(){return r=Ha(i),a=za(i),o()[0]<0&&(r=qa(r),a=qa(a)),n}var n=Ka(Ya,Ga).domain([1,10]),o=n.domain,i=10,r=Ha(10),a=za(10);return n.base=function(t){return arguments.length?(i=+t,e()):i},n.domain=function(t){return arguments.length?(o(t),e()):o()},n.ticks=function(t){var e,n=o(),s=n[0],u=n[n.length-1];(e=u<s)&&(c=s,s=u,u=c);var h,p,l,c=r(s),f=r(u),d=null==t?10:+t,y=[];if(!(i%1)&&f-c<d){if(c=Math.round(c)-1,f=Math.round(f)+1,s>0){for(;c<f;++c)for(p=1,h=a(c);p<i;++p)if(l=h*p,!(l<s)){if(l>u)break;y.push(l)}}else for(;c<f;++c)for(p=i-1,h=a(c);p>=1;--p)if(l=h*p,!(l<s)){if(l>u)break;y.push(l)}}else y=bp(c,f,Math.min(f-c,d)).map(a);return e?y.reverse():y},n.tickFormat=function(e,o){if(null==o&&(o=10===i?".0e":","),"function"!=typeof o&&(o=t.format(o)),e===1/0)return o;null==e&&(e=10);var s=Math.max(1,i*e/n.ticks().length);return function(t){var e=t/a(Math.round(r(t)));return e*i<i-.5&&(e*=i),e<=s?o(t):""}},n.nice=function(){return o(l_(o(),{floor:function(t){return a(Math.floor(r(t)))},ceil:function(t){return a(Math.ceil(r(t)))}}))},n.copy=function(){return ja(n,Va().base(i))},n}function $a(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function Za(){function t(t,e){return(e=$a(e,n)-(t=$a(t,n)))?function(o){return($a(o,n)-t)/e}:s_(e)}function e(t,e){return e=$a(e,n)-(t=$a(t,n)),function(o){return $a(t+e*o,1/n)}}var n=1,o=Ka(t,e),i=o.domain;return o.exponent=function(t){return arguments.length?(n=+t,i(i())):n},o.copy=function(){return ja(o,Za().exponent(n))},Ba(o)}function Ja(){return Za().exponent(.5)}function Qa(){function t(){var t=0,r=Math.max(1,o.length);for(i=new Array(r-1);++t<r;)i[t-1]=wp(n,t/r);return e}function e(t){if(!isNaN(t=+t))return o[ep(i,t)]}var n=[],o=[],i=[];return e.invertExtent=function(t){var e=o.indexOf(t);return e<0?[NaN,NaN]:[e>0?i[e-1]:n[0],e<i.length?i[e]:n[n.length-1]]},e.domain=function(e){if(!arguments.length)return n.slice();n=[];for(var o,i=0,r=e.length;i<r;++i)o=e[i],null==o||isNaN(o=+o)||n.push(o);return n.sort(Jh),t()},e.range=function(e){return arguments.length?(o=r_.call(e),t()):o.slice()},e.quantiles=function(){return i.slice()},e.copy=function(){return Qa().domain(n).range(o)},e}function ts(){function t(t){if(t<=t)return a[ep(r,t,0,i)]}function e(){var e=-1;for(r=new Array(i);++e<i;)r[e]=((e+1)*o-(e-i)*n)/(i+1);return t}var n=0,o=1,i=1,r=[.5],a=[0,1];return t.domain=function(t){return arguments.length?(n=+t[0],o=+t[1],e()):[n,o]},t.range=function(t){return arguments.length?(i=(a=r_.call(t)).length-1,e()):a.slice()},t.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,r[0]]:e>=i?[r[i-1],o]:[r[e-1],r[e]]},t.copy=function(){return ts().domain([n,o]).range(a)},Ba(t)}function es(){function t(t){if(t<=t)return n[ep(e,t,0,o)]}var e=[.5],n=[0,1],o=1;return t.domain=function(i){return arguments.length?(e=r_.call(i),o=Math.min(e.length,n.length-1),t):e.slice()},t.range=function(i){return arguments.length?(n=r_.call(i),o=Math.min(e.length,n.length-1),t):n.slice()},t.invertExtent=function(t){var o=n.indexOf(t);return[e[o-1],e[o]]},t.copy=function(){return es().domain(e).range(n)},t}function ns(t,e,n,o){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,o,r){var a=[];if(n=i.ceil(n),r=null==r?1:Math.floor(r),!(n<o&&r>0))return a;do a.push(new Date(+n));while(e(n,r),t(n),n<o);return a},i.filter=function(n){return ns(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,o){if(t>=t)if(o<0)for(;++o<=0;)for(;e(t,-1),!n(t););else for(;--o>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,o){return c_.setTime(+e),f_.setTime(+o),t(c_),t(f_),Math.floor(n(c_,f_))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(o?function(e){return o(e)%t===0}:function(e){return i.count(0,e)%t===0}):i:null}),i}function os(t){return ns(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*g_)/__})}function is(t){return ns(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/__})}function rs(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function as(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ss(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function us(t){function e(t,e){return function(n){var o,i,r,a=[],s=-1,u=0,h=t.length;for(n instanceof Date||(n=new Date(+n));++s<h;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=mx[o=t.charAt(++s)])?o=t.charAt(++s):i="e"===o?" ":"0",(r=e[o])&&(o=r(n,i)),a.push(o),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function n(t,e){return function(n){var i=ss(1900),r=o(i,t,n+="",0);if(r!=n.length)return null;if("p"in i&&(i.H=i.H%12+12*i.p),"W"in i||"U"in i){"w"in i||(i.w="W"in i?1:0);var a="Z"in i?as(ss(i.y)).getUTCDay():e(ss(i.y)).getDay();i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7}return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,as(i)):e(i)}}function o(t,e,n,o){for(var i,r,a=0,s=e.length,u=n.length;a<s;){if(o>=u)return-1;if(i=e.charCodeAt(a++),37===i){if(i=e.charAt(a++),r=U[i in mx?e.charAt(a++):i],!r||(o=r(t,n,o))<0)return-1}else if(i!=n.charCodeAt(o++))return-1}return o}function i(t,e,n){var o=I.exec(e.slice(n));return o?(t.p=L[o[0].toLowerCase()],n+o[0].length):-1}function r(t,e,n){var o=k.exec(e.slice(n));return o?(t.w=R[o[0].toLowerCase()],n+o[0].length):-1}function a(t,e,n){var o=N.exec(e.slice(n));return o?(t.w=O[o[0].toLowerCase()],n+o[0].length):-1}function s(t,e,n){var o=j.exec(e.slice(n));return o?(t.m=K[o[0].toLowerCase()],n+o[0].length):-1}function u(t,e,n){var o=F.exec(e.slice(n));return o?(t.m=D[o[0].toLowerCase()],n+o[0].length):-1}function h(t,e,n){return o(t,w,e,n)}function p(t,e,n){return o(t,P,e,n)}function l(t,e,n){return o(t,S,e,n)}function c(t){return T[t.getDay()]}function f(t){return M[t.getDay()]}function d(t){return E[t.getMonth()]}function y(t){return A[t.getMonth()]}function v(t){return C[+(t.getHours()>=12)]}function g(t){return T[t.getUTCDay()]}function m(t){return M[t.getUTCDay()]}function b(t){return E[t.getUTCMonth()]}function _(t){return A[t.getUTCMonth()]}function x(t){return C[+(t.getUTCHours()>=12)]}var w=t.dateTime,P=t.date,S=t.time,C=t.periods,M=t.days,T=t.shortDays,A=t.months,E=t.shortMonths,I=ls(C),L=cs(C),N=ls(M),O=cs(M),k=ls(T),R=cs(T),F=ls(A),D=cs(A),j=ls(E),K=cs(E),B={a:c,A:f,b:d,B:y,c:null,d:Ts,e:Ts,H:As,I:Es,j:Is,L:Ls,m:Ns,M:Os,p:v,S:ks,U:Rs,w:Fs,W:Ds,x:null,X:null,y:js,Y:Ks,Z:Bs,"%":eu},X={a:g,A:m,b:b,B:_,c:null,d:Xs,e:Xs,H:Us,I:Ys,j:Gs,L:Ws,m:zs,M:Hs,p:x,S:qs,U:Vs,w:$s,W:Zs,x:null,X:null,y:Js,Y:Qs,Z:tu,"%":eu},U={a:r,A:a,b:s,B:u,c:h,d:_s,e:_s,H:ws,I:ws,j:xs,L:Cs,m:bs,M:Ps,p:i,S:Ss,U:ds,w:fs,W:ys,x:p,X:l,y:gs,Y:vs,Z:ms,"%":Ms};return B.x=e(P,B),B.X=e(S,B),B.c=e(w,B),X.x=e(P,X),X.X=e(S,X),X.c=e(w,X),{format:function(t){var n=e(t+="",B);return n.toString=function(){return t},n},parse:function(t){var e=n(t+="",rs);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",X);return n.toString=function(){return t},n},utcParse:function(t){var e=n(t,as);return e.toString=function(){return t},e}}}function hs(t,e,n){var o=t<0?"-":"",i=(o?-t:t)+"",r=i.length;return o+(r<n?new Array(n-r+1).join(e)+i:i)}function ps(t){return t.replace(xx,"\\$&")}function ls(t){return new RegExp("^(?:"+t.map(ps).join("|")+")","i")}function cs(t){for(var e={},n=-1,o=t.length;++n<o;)e[t[n].toLowerCase()]=n;return e}function fs(t,e,n){var o=bx.exec(e.slice(n,n+1));return o?(t.w=+o[0],n+o[0].length):-1}function ds(t,e,n){var o=bx.exec(e.slice(n));return o?(t.U=+o[0],n+o[0].length):-1}function ys(t,e,n){var o=bx.exec(e.slice(n));return o?(t.W=+o[0],n+o[0].length):-1}function vs(t,e,n){var o=bx.exec(e.slice(n,n+4));return o?(t.y=+o[0],n+o[0].length):-1}function gs(t,e,n){var o=bx.exec(e.slice(n,n+2));return o?(t.y=+o[0]+(+o[0]>68?1900:2e3),n+o[0].length):-1}function ms(t,e,n){var o=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return o?(t.Z=o[1]?0:-(o[2]+(o[3]||"00")),n+o[0].length):-1}function bs(t,e,n){var o=bx.exec(e.slice(n,n+2));return o?(t.m=o[0]-1,n+o[0].length):-1}function _s(t,e,n){var o=bx.exec(e.slice(n,n+2));return o?(t.d=+o[0],n+o[0].length):-1}function xs(t,e,n){var o=bx.exec(e.slice(n,n+3));return o?(t.m=0,t.d=+o[0],n+o[0].length):-1}function ws(t,e,n){var o=bx.exec(e.slice(n,n+2));return o?(t.H=+o[0],n+o[0].length):-1}function Ps(t,e,n){var o=bx.exec(e.slice(n,n+2));return o?(t.M=+o[0],n+o[0].length):-1}function Ss(t,e,n){var o=bx.exec(e.slice(n,n+2));return o?(t.S=+o[0],n+o[0].length):-1}function Cs(t,e,n){var o=bx.exec(e.slice(n,n+3));return o?(t.L=+o[0],n+o[0].length):-1}function Ms(t,e,n){var o=_x.exec(e.slice(n,n+1));return o?n+o[0].length:-1}function Ts(t,e){return hs(t.getDate(),e,2)}function As(t,e){return hs(t.getHours(),e,2)}function Es(t,e){return hs(t.getHours()%12||12,e,2)}function Is(t,e){return hs(1+T_.count(W_(t),t),e,3)}function Ls(t,e){return hs(t.getMilliseconds(),e,3)}function Ns(t,e){return hs(t.getMonth()+1,e,2)}function Os(t,e){return hs(t.getMinutes(),e,2)}function ks(t,e){return hs(t.getSeconds(),e,2)}function Rs(t,e){return hs(E_.count(W_(t),t),e,2)}function Fs(t){return t.getDay()}function Ds(t,e){return hs(I_.count(W_(t),t),e,2)}function js(t,e){return hs(t.getFullYear()%100,e,2)}function Ks(t,e){return hs(t.getFullYear()%1e4,e,4)}function Bs(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+hs(e/60|0,"0",2)+hs(e%60,"0",2)}function Xs(t,e){return hs(t.getUTCDate(),e,2)}function Us(t,e){return hs(t.getUTCHours(),e,2)}function Ys(t,e){return hs(t.getUTCHours()%12||12,e,2)}function Gs(t,e){return hs(1+Z_.count(yx(t),t),e,3)}function Ws(t,e){return hs(t.getUTCMilliseconds(),e,3)}function zs(t,e){return hs(t.getUTCMonth()+1,e,2)}function Hs(t,e){return hs(t.getUTCMinutes(),e,2)}function qs(t,e){return hs(t.getUTCSeconds(),e,2)}function Vs(t,e){return hs(Q_.count(yx(t),t),e,2)}function $s(t){return t.getUTCDay()}function Zs(t,e){return hs(tx.count(yx(t),t),e,2)}function Js(t,e){return hs(t.getUTCFullYear()%100,e,2)}function Qs(t,e){return hs(t.getUTCFullYear()%1e4,e,4)}function tu(){return"+0000"}function eu(){return"%"}function nu(e){return vx=us(e),t.timeFormat=vx.format,t.timeParse=vx.parse,t.utcFormat=vx.utcFormat,t.utcParse=vx.utcParse,vx}function ou(t){return t.toISOString()}function iu(t){var e=new Date(t);return isNaN(e)?null:e}function ru(t){return new Date(t)}function au(t){return t instanceof Date?+t:+new Date(+t)}function su(t,e,n,o,r,a,s,u,h){function p(i){return(s(i)<i?y:a(i)<i?v:r(i)<i?g:o(i)<i?m:e(i)<i?n(i)<i?b:_:t(i)<i?x:w)(i)}function l(e,n,o,r){if(null==e&&(e=10),"number"==typeof e){var a=Math.abs(o-n)/e,s=Qh(function(t){return t[2]}).right(P,a);s===P.length?(r=i(n/Lx,o/Lx,e),e=t):s?(s=P[a/P[s-1][2]<P[s][2]/a?s-1:s],r=s[1],e=s[0]):(r=i(n,o,e),e=u)}return null==r?e:e.every(r)}var c=Ka(Oa,Xc),f=c.invert,d=c.domain,y=h(".%L"),v=h(":%S"),g=h("%I:%M"),m=h("%I %p"),b=h("%a %d"),_=h("%b %d"),x=h("%B"),w=h("%Y"),P=[[s,1,Cx],[s,5,5*Cx],[s,15,15*Cx],[s,30,30*Cx],[a,1,Mx],[a,5,5*Mx],[a,15,15*Mx],[a,30,30*Mx],[r,1,Tx],[r,3,3*Tx],[r,6,6*Tx],[r,12,12*Tx],[o,1,Ax],[o,2,2*Ax],[n,1,Ex],[e,1,Ix],[e,3,3*Ix],[t,1,Lx]];return c.invert=function(t){return new Date(f(t))},c.domain=function(t){return arguments.length?d(i_.call(t,au)):d().map(ru)},c.ticks=function(t,e){var n,o=d(),i=o[0],r=o[o.length-1],a=r<i;return a&&(n=i,i=r,r=n),n=l(t,i,r,e),n=n?n.range(i,r+1):[],a?n.reverse():n},c.tickFormat=function(t,e){return null==e?p:h(e)},c.nice=function(t,e){var n=d();return(t=l(t,n[0],n[n.length-1],e))?d(l_(n,t)):c},c.copy=function(){return ja(c,su(t,e,n,o,r,a,s,u,h))},c}function uu(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function hu(t){function e(e){var r=(e-n)/(o-n);return t(i?Math.max(0,Math.min(1,r)):r)}var n=0,o=1,i=!1;return e.domain=function(t){return arguments.length?(n=+t[0],o=+t[1],e):[n,o]},e.clamp=function(t){return arguments.length?(i=!!t,e):i},e.interpolator=function(n){return arguments.length?(t=n,e):t},e.copy=function(){return hu(t).domain([n,o]).clamp(i)},Ba(e)}function pu(t){return t>1?0:t<-1?ow:Math.acos(t)}function lu(t){return t>=1?iw:t<=-1?-iw:Math.asin(t)}function cu(t){return t.innerRadius}function fu(t){return t.outerRadius}function du(t){return t.startAngle}function yu(t){return t.endAngle}function vu(t){return t&&t.padAngle}function gu(t,e,n,o,i,r,a,s){var u=n-t,h=o-e,p=a-i,l=s-r,c=(p*(e-r)-l*(t-i))/(l*u-p*h);return[t+c*u,e+c*h]}function mu(t,e,n,o,i,r,a){var s=t-n,u=e-o,h=(a?r:-r)/ew(s*s+u*u),p=h*u,l=-h*s,c=t+p,f=e+l,d=n+p,y=o+l,v=(c+d)/2,g=(f+y)/2,m=d-c,b=y-f,_=m*m+b*b,x=i-r,w=c*y-d*f,P=(b<0?-1:1)*ew(Jx(0,x*x*_-w*w)),S=(w*b-m*P)/_,C=(-w*m-b*P)/_,M=(w*b+m*P)/_,T=(-w*m+b*P)/_,A=S-v,E=C-g,I=M-v,L=T-g;return A*A+E*E>I*I+L*L&&(S=M,C=T),{cx:S,cy:C,x01:-p,y01:-l,x11:S*(i/x-1),y11:C*(i/x-1)}}function bu(t){this._context=t}function _u(t){return t[0]}function xu(t){return t[1]}function wu(t){this._curve=t}function Pu(t){function e(e){return new wu(t(e))}return e._curve=t,e}function Su(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Pu(t)):e()._curve},t}function Cu(t){return t.source}function Mu(t){return t.target}function Tu(t){function e(){var e,s=gw.call(arguments),u=n.apply(this,s),h=o.apply(this,s);if(a||(a=e=jn()),t(a,+i.apply(this,(s[0]=u,s)),+r.apply(this,s),+i.apply(this,(s[0]=h,s)),+r.apply(this,s)),e)return a=null,e+""||null}var n=Cu,o=Mu,i=_u,r=xu,a=null;return e.source=function(t){return arguments.length?(n=t,e):n},e.target=function(t){return arguments.length?(o=t,e):o},e.x=function(t){return arguments.length?(i="function"==typeof t?t:qx(+t),e):i},e.y=function(t){return arguments.length?(r="function"==typeof t?t:qx(+t),e):r},e.context=function(t){return arguments.length?(a=null==t?null:t,e):a},e}function Au(t,e,n,o,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+o)/2,n,e,i,o,i)}function Eu(t,e,n,o,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,o,n,o,i)}function Iu(t,e,n,o,i){var r=vw(e,n),a=vw(e,n=(n+i)/2),s=vw(o,n),u=vw(o,i);t.moveTo(r[0],r[1]),t.bezierCurveTo(a[0],a[1],s[0],s[1],u[0],u[1])}function Lu(){return Tu(Au)}function Nu(){return Tu(Eu)}function Ou(){var t=Tu(Iu);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}function ku(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Ru(t){this._context=t}function Fu(t){this._context=t}function Du(t){this._context=t}function ju(t,e){this._basis=new Ru(t),this._beta=e}function Ku(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Bu(t,e){this._context=t,this._k=(1-e)/6}function Xu(t,e){this._context=t,this._k=(1-e)/6}function Uu(t,e){this._context=t,this._k=(1-e)/6}function Yu(t,e,n){var o=t._x1,i=t._y1,r=t._x2,a=t._y2;if(t._l01_a>nw){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);o=(o*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>nw){var h=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,p=3*t._l23_a*(t._l23_a+t._l12_a);r=(r*h+t._x1*t._l23_2a-e*t._l12_2a)/p,a=(a*h+t._y1*t._l23_2a-n*t._l12_2a)/p}t._context.bezierCurveTo(o,i,r,a,t._x2,t._y2)}function Gu(t,e){this._context=t,this._alpha=e}function Wu(t,e){this._context=t,this._alpha=e}function zu(t,e){this._context=t,this._alpha=e}function Hu(t){this._context=t}function qu(t){return t<0?-1:1}function Vu(t,e,n){var o=t._x1-t._x0,i=e-t._x1,r=(t._y1-t._y0)/(o||i<0&&-0),a=(n-t._y1)/(i||o<0&&-0),s=(r*i+a*o)/(o+i);return(qu(r)+qu(a))*Math.min(Math.abs(r),Math.abs(a),.5*Math.abs(s))||0}function $u(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Zu(t,e,n){var o=t._x0,i=t._y0,r=t._x1,a=t._y1,s=(r-o)/3;t._context.bezierCurveTo(o+s,i+s*e,r-s,a-s*n,r,a)}function Ju(t){this._context=t}function Qu(t){this._context=new th(t)}function th(t){this._context=t}function eh(t){return new Ju(t)}function nh(t){return new Qu(t)}function oh(t){this._context=t}function ih(t){var e,n,o=t.length-1,i=new Array(o),r=new Array(o),a=new Array(o);for(i[0]=0,r[0]=2,a[0]=t[0]+2*t[1],e=1;e<o-1;++e)i[e]=1,r[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[o-1]=2,r[o-1]=7,a[o-1]=8*t[o-1]+t[o],e=1;e<o;++e)n=i[e]/r[e-1],r[e]-=n,a[e]-=n*a[e-1];for(i[o-1]=a[o-1]/r[o-1],e=o-2;e>=0;--e)i[e]=(a[e]-i[e+1])/r[e];for(r[o-1]=(t[o]+i[o-1])/2,e=0;e<o-1;++e)r[e]=2*t[e+1]-i[e+1];return[i,r]}function rh(t,e){this._context=t,this._t=e}function ah(t){return new rh(t,0)}function sh(t){return new rh(t,1)}function uh(t,e){return t[e]}function hh(t){for(var e,n=0,o=-1,i=t.length;++o<i;)(e=+t[o][1])&&(n+=e);return n}function ph(t){return t[0]}function lh(t){return t[1]}function ch(){this._=null}function fh(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function dh(t,e){var n=e,o=e.R,i=n.U;i?i.L===n?i.L=o:i.R=o:t._=o,o.U=i,n.U=o,n.R=o.L,n.R&&(n.R.U=n),o.L=n}function yh(t,e){var n=e,o=e.L,i=n.U;i?i.L===n?i.L=o:i.R=o:t._=o,o.U=i,n.U=o,n.L=o.R,n.L&&(n.L.U=n),o.R=n}function vh(t){for(;t.L;)t=t.L;return t}function gh(t,e,n,o){var i=[null,null],r=dP.push(i)-1;return i.left=t,i.right=e,n&&bh(i,t,e,n),o&&bh(i,e,t,o),cP[t.index].halfedges.push(r),cP[e.index].halfedges.push(r),i}function mh(t,e,n){var o=[e,n];return o.left=t,o}function bh(t,e,n,o){t[0]||t[1]?t.left===n?t[1]=o:t[0]=o:(t[0]=o,t.left=e,t.right=n)}function _h(t,e,n,o,i){var r,a=t[0],s=t[1],u=a[0],h=a[1],p=s[0],l=s[1],c=0,f=1,d=p-u,y=l-h;if(r=e-u,d||!(r>0)){if(r/=d,d<0){if(r<c)return;r<f&&(f=r)}else if(d>0){if(r>f)return;r>c&&(c=r)}if(r=o-u,d||!(r<0)){if(r/=d,d<0){if(r>f)return;r>c&&(c=r)}else if(d>0){if(r<c)return;r<f&&(f=r)}if(r=n-h,y||!(r>0)){if(r/=y,y<0){if(r<c)return;r<f&&(f=r)}else if(y>0){if(r>f)return;r>c&&(c=r)}if(r=i-h,y||!(r<0)){if(r/=y,y<0){if(r>f)return;r>c&&(c=r)}else if(y>0){if(r<c)return;r<f&&(f=r)}return!(c>0||f<1)||(c>0&&(t[0]=[u+c*d,h+c*y]),f<1&&(t[1]=[u+f*d,h+f*y]),!0)}}}}}function xh(t,e,n,o,i){var r=t[1];if(r)return!0;var a,s,u=t[0],h=t.left,p=t.right,l=h[0],c=h[1],f=p[0],d=p[1],y=(l+f)/2,v=(c+d)/2;if(d===c){if(y<e||y>=o)return;if(l>f){if(u){if(u[1]>=i)return}else u=[y,n];r=[y,i]}else{if(u){if(u[1]<n)return}else u=[y,i];r=[y,n]}}else if(a=(l-f)/(d-c),s=v-a*y,a<-1||a>1)if(l>f){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];r=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];r=[(n-s)/a,n]}else if(c<d){if(u){if(u[0]>=o)return}else u=[e,a*e+s];r=[o,a*o+s]}else{if(u){if(u[0]<e)return}else u=[o,a*o+s];r=[e,a*e+s]}return t[0]=u,t[1]=r,!0}function wh(t,e,n,o){for(var i,r=dP.length;r--;)xh(i=dP[r],t,e,n,o)&&_h(i,t,e,n,o)&&(Math.abs(i[0][0]-i[1][0])>gP||Math.abs(i[0][1]-i[1][1])>gP)||delete dP[r]}function Ph(t){return cP[t.index]={site:t,halfedges:[]}}function Sh(t,e){var n=t.site,o=e.left,i=e.right;return n===i&&(i=o,o=n),i?Math.atan2(i[1]-o[1],i[0]-o[0]):(n===o?(o=e[1],i=e[0]):(o=e[0],i=e[1]),Math.atan2(o[0]-i[0],i[1]-o[1]))}function Ch(t,e){return e[+(e.left!==t.site)]}function Mh(t,e){return e[+(e.left===t.site)]}function Th(){for(var t,e,n,o,i=0,r=cP.length;i<r;++i)if((t=cP[i])&&(o=(e=t.halfedges).length)){var a=new Array(o),s=new Array(o);for(n=0;n<o;++n)a[n]=n,s[n]=Sh(t,dP[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<o;++n)s[n]=e[a[n]];for(n=0;n<o;++n)e[n]=s[n]}}function Ah(t,e,n,o){var i,r,a,s,u,h,p,l,c,f,d,y,v=cP.length,g=!0;for(i=0;i<v;++i)if(r=cP[i]){for(a=r.site,u=r.halfedges,s=u.length;s--;)dP[u[s]]||u.splice(s,1);for(s=0,h=u.length;s<h;)f=Mh(r,dP[u[s]]),d=f[0],y=f[1],p=Ch(r,dP[u[++s%h]]),l=p[0],c=p[1],(Math.abs(d-l)>gP||Math.abs(y-c)>gP)&&(u.splice(s,0,dP.push(mh(a,f,Math.abs(d-t)<gP&&o-y>gP?[t,Math.abs(l-t)<gP?c:o]:Math.abs(y-o)<gP&&n-d>gP?[Math.abs(c-o)<gP?l:n,o]:Math.abs(d-n)<gP&&y-e>gP?[n,Math.abs(l-n)<gP?c:e]:Math.abs(y-e)<gP&&d-t>gP?[Math.abs(c-e)<gP?l:t,e]:null))-1),++h);h&&(g=!1)}if(g){var m,b,_,x=1/0;for(i=0,g=null;i<v;++i)(r=cP[i])&&(a=r.site,m=a[0]-t,b=a[1]-e,_=m*m+b*b,_<x&&(x=_,g=r));if(g){var w=[t,e],P=[t,o],S=[n,o],C=[n,e];g.halfedges.push(dP.push(mh(a=g.site,w,P))-1,dP.push(mh(a,P,S))-1,dP.push(mh(a,S,C))-1,dP.push(mh(a,C,w))-1)}}for(i=0;i<v;++i)(r=cP[i])&&(r.halfedges.length||delete cP[i])}function Eh(){fh(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ih(t){var e=t.P,n=t.N;if(e&&n){var o=e.site,i=t.site,r=n.site;if(o!==r){var a=i[0],s=i[1],u=o[0]-a,h=o[1]-s,p=r[0]-a,l=r[1]-s,c=2*(u*l-h*p);if(!(c>=-mP)){var f=u*u+h*h,d=p*p+l*l,y=(l*f-h*d)/c,v=(u*d-p*f)/c,g=yP.pop()||new Eh;g.arc=t,g.site=i,g.x=y+a,g.y=(g.cy=v+s)+Math.sqrt(y*y+v*v),t.circle=g;for(var m=null,b=fP._;b;)if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(!b.L){m=b.P;break}b=b.L}else{if(!b.R){m=b;break}b=b.R}fP.insert(m,g),m||(pP=g)}}}}function Lh(t){var e=t.circle;e&&(e.P||(pP=e.N),fP.remove(e),yP.push(e),fh(e),t.circle=null)}function Nh(){fh(this),this.edge=this.site=this.circle=null}function Oh(t){var e=vP.pop()||new Nh;return e.site=t,e}function kh(t){Lh(t),lP.remove(t),vP.push(t),fh(t)}function Rh(t){var e=t.circle,n=e.x,o=e.cy,i=[n,o],r=t.P,a=t.N,s=[t];kh(t);for(var u=r;u.circle&&Math.abs(n-u.circle.x)<gP&&Math.abs(o-u.circle.cy)<gP;)r=u.P,s.unshift(u),kh(u),u=r;s.unshift(u),Lh(u);for(var h=a;h.circle&&Math.abs(n-h.circle.x)<gP&&Math.abs(o-h.circle.cy)<gP;)a=h.N,s.push(h),kh(h),h=a;s.push(h),Lh(h);var p,l=s.length;for(p=1;p<l;++p)h=s[p],u=s[p-1],bh(h.edge,u.site,h.site,i);u=s[0],h=s[l-1],h.edge=gh(u.site,h.site,null,i),Ih(u),Ih(h)}function Fh(t){for(var e,n,o,i,r=t[0],a=t[1],s=lP._;s;)if(o=Dh(s,a)-r,o>gP)s=s.L;else{if(i=r-jh(s,a),!(i>gP)){o>-gP?(e=s.P,n=s):i>-gP?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}Ph(t);var u=Oh(t);if(lP.insert(e,u),e||n){if(e===n)return Lh(e),n=Oh(e.site),lP.insert(u,n),u.edge=n.edge=gh(e.site,u.site),Ih(e),void Ih(n);if(!n)return void(u.edge=gh(e.site,u.site));Lh(e),Lh(n);var h=e.site,p=h[0],l=h[1],c=t[0]-p,f=t[1]-l,d=n.site,y=d[0]-p,v=d[1]-l,g=2*(c*v-f*y),m=c*c+f*f,b=y*y+v*v,_=[(v*m-f*b)/g+p,(c*b-y*m)/g+l];bh(n.edge,h,d,_),u.edge=gh(h,t,null,_),n.edge=gh(t,d,null,_),Ih(e),Ih(n)}}function Dh(t,e){var n=t.site,o=n[0],i=n[1],r=i-e;if(!r)return o;var a=t.P;if(!a)return-(1/0);n=a.site;var s=n[0],u=n[1],h=u-e;if(!h)return s;var p=s-o,l=1/r-1/h,c=p/h;return l?(-c+Math.sqrt(c*c-2*l*(p*p/(-2*h)-u+h/2+i-r/2)))/l+o:(o+s)/2}function jh(t,e){var n=t.N;if(n)return Dh(n,e);var o=t.site;return o[1]===e?o[0]:1/0}function Kh(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function Bh(t,e){return e[1]-t[1]||e[0]-t[0]}function Xh(t,e){var n,o,i,r=t.sort(Bh).pop();for(dP=[],cP=new Array(t.length),lP=new ch,fP=new ch;;)if(i=pP,r&&(!i||r[1]<i.y||r[1]===i.y&&r[0]<i.x))r[0]===n&&r[1]===o||(Fh(r),n=r[0],o=r[1]),r=t.pop();else{if(!i)break;Rh(i.arc)}if(Th(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],h=+e[1][1];wh(a,s,u,h),Ah(a,s,u,h)}this.edges=dP,this.cells=cP,lP=fP=dP=cP=null}function Uh(t,e,n){this.target=t,this.type=e,this.transform=n}function Yh(t,e,n){this.k=t,this.x=e,this.y=n}function Gh(t){return t.__zoom||xP}function Wh(){t.event.stopImmediatePropagation()}function zh(){return!t.event.button}function Hh(){var t,e,n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,t=n.width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function qh(){return this.__zoom||xP}function Vh(){return-t.event.deltaY*(t.event.deltaMode?120:1)/500}function $h(){return"ontouchstart"in this}var Zh="4.10.0",Jh=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},Qh=function(t){return 1===t.length&&(t=e(t)),{left:function(e,n,o,i){for(null==o&&(o=0),null==i&&(i=e.length);o<i;){var r=o+i>>>1;t(e[r],n)<0?o=r+1:i=r}return o},right:function(e,n,o,i){for(null==o&&(o=0),null==i&&(i=e.length);o<i;){var r=o+i>>>1;t(e[r],n)>0?i=r:o=r+1}return o}}},tp=Qh(Jh),ep=tp.right,np=tp.left,op=function(t,e){null==e&&(e=n);for(var o=0,i=t.length-1,r=t[0],a=new Array(i<0?0:i);o<i;)a[o]=e(r,r=t[++o]);
return a},ip=function(t,e,o){var i,r,a,s,u=t.length,h=e.length,p=new Array(u*h);for(null==o&&(o=n),i=a=0;i<u;++i)for(s=t[i],r=0;r<h;++r,++a)p[a]=o(s,e[r]);return p},rp=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},ap=function(t){return null===t?NaN:+t},sp=function(t,e){var n,o,i=t.length,r=0,a=-1,s=0,u=0;if(null==e)for(;++a<i;)isNaN(n=ap(t[a]))||(o=n-s,s+=o/++r,u+=o*(n-s));else for(;++a<i;)isNaN(n=ap(e(t[a],a,t)))||(o=n-s,s+=o/++r,u+=o*(n-s));if(r>1)return u/(r-1)},up=function(t,e){var n=sp(t,e);return n?Math.sqrt(n):n},hp=function(t,e){var n,o,i,r=t.length,a=-1;if(null==e){for(;++a<r;)if(null!=(n=t[a])&&n>=n)for(o=i=n;++a<r;)null!=(n=t[a])&&(o>n&&(o=n),i<n&&(i=n))}else for(;++a<r;)if(null!=(n=e(t[a],a,t))&&n>=n)for(o=i=n;++a<r;)null!=(n=e(t[a],a,t))&&(o>n&&(o=n),i<n&&(i=n));return[o,i]},pp=Array.prototype,lp=pp.slice,cp=pp.map,fp=function(t){return function(){return t}},dp=function(t){return t},yp=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var o=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),r=new Array(i);++o<i;)r[o]=t+o*n;return r},vp=Math.sqrt(50),gp=Math.sqrt(10),mp=Math.sqrt(2),bp=function(t,e,n){var i,r,a,s=e<t,u=-1;if(s&&(i=t,t=e,e=i),0===(a=o(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),r=new Array(i=Math.ceil(e-t+1));++u<i;)r[u]=(t+u)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),r=new Array(i=Math.ceil(t-e+1));++u<i;)r[u]=(t-u)/a;return s&&r.reverse(),r},_p=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},xp=function(){function t(t){var r,a,s=t.length,u=new Array(s);for(r=0;r<s;++r)u[r]=e(t[r],r,t);var h=n(u),p=h[0],l=h[1],c=o(u,p,l);Array.isArray(c)||(c=i(p,l,c),c=yp(Math.ceil(p/c)*c,Math.floor(l/c)*c,c));for(var f=c.length;c[0]<=p;)c.shift(),--f;for(;c[f-1]>l;)c.pop(),--f;var d,y=new Array(f+1);for(r=0;r<=f;++r)d=y[r]=[],d.x0=r>0?c[r-1]:p,d.x1=r<f?c[r]:l;for(r=0;r<s;++r)a=u[r],p<=a&&a<=l&&y[ep(c,a,0,f)].push(t[r]);return y}var e=dp,n=hp,o=_p;return t.value=function(n){return arguments.length?(e="function"==typeof n?n:fp(n),t):e},t.domain=function(e){return arguments.length?(n="function"==typeof e?e:fp([e[0],e[1]]),t):n},t.thresholds=function(e){return arguments.length?(o="function"==typeof e?e:fp(Array.isArray(e)?lp.call(e):e),t):o},t},wp=function(t,e,n){if(null==n&&(n=ap),o=t.length){if((e=+e)<=0||o<2)return+n(t[0],0,t);if(e>=1)return+n(t[o-1],o-1,t);var o,i=(o-1)*e,r=Math.floor(i),a=+n(t[r],r,t),s=+n(t[r+1],r+1,t);return a+(s-a)*(i-r)}},Pp=function(t,e,n){return t=cp.call(t,ap).sort(Jh),Math.ceil((n-e)/(2*(wp(t,.75)-wp(t,.25))*Math.pow(t.length,-1/3)))},Sp=function(t,e,n){return Math.ceil((n-e)/(3.5*up(t)*Math.pow(t.length,-1/3)))},Cp=function(t,e){var n,o,i=t.length,r=-1;if(null==e){for(;++r<i;)if(null!=(n=t[r])&&n>=n)for(o=n;++r<i;)null!=(n=t[r])&&n>o&&(o=n)}else for(;++r<i;)if(null!=(n=e(t[r],r,t))&&n>=n)for(o=n;++r<i;)null!=(n=e(t[r],r,t))&&n>o&&(o=n);return o},Mp=function(t,e){var n,o=t.length,i=o,r=-1,a=0;if(null==e)for(;++r<o;)isNaN(n=ap(t[r]))?--i:a+=n;else for(;++r<o;)isNaN(n=ap(e(t[r],r,t)))?--i:a+=n;if(i)return a/i},Tp=function(t,e){var n,o=t.length,i=-1,r=[];if(null==e)for(;++i<o;)isNaN(n=ap(t[i]))||r.push(n);else for(;++i<o;)isNaN(n=ap(e(t[i],i,t)))||r.push(n);return wp(r.sort(Jh),.5)},Ap=function(t){for(var e,n,o,i=t.length,r=-1,a=0;++r<i;)a+=t[r].length;for(n=new Array(a);--i>=0;)for(o=t[i],e=o.length;--e>=0;)n[--a]=o[e];return n},Ep=function(t,e){var n,o,i=t.length,r=-1;if(null==e){for(;++r<i;)if(null!=(n=t[r])&&n>=n)for(o=n;++r<i;)null!=(n=t[r])&&o>n&&(o=n)}else for(;++r<i;)if(null!=(n=e(t[r],r,t))&&n>=n)for(o=n;++r<i;)null!=(n=e(t[r],r,t))&&o>n&&(o=n);return o},Ip=function(t,e){for(var n=e.length,o=new Array(n);n--;)o[n]=t[e[n]];return o},Lp=function(t,e){if(n=t.length){var n,o,i=0,r=0,a=t[r];for(null==e&&(e=Jh);++i<n;)(e(o=t[i],a)<0||0!==e(a,a))&&(a=o,r=i);return 0===e(a,a)?r:void 0}},Np=function(t,e,n){for(var o,i,r=(null==n?t.length:n)-(e=null==e?0:+e);r;)i=Math.random()*r--|0,o=t[r+e],t[r+e]=t[i+e],t[i+e]=o;return t},Op=function(t,e){var n,o=t.length,i=-1,r=0;if(null==e)for(;++i<o;)(n=+t[i])&&(r+=n);else for(;++i<o;)(n=+e(t[i],i,t))&&(r+=n);return r},kp=function(t){if(!(i=t.length))return[];for(var e=-1,n=Ep(t,r),o=new Array(n);++e<n;)for(var i,a=-1,s=o[e]=new Array(i);++a<i;)s[a]=t[a][e];return o},Rp=function(){return kp(arguments)},Fp=Array.prototype.slice,Dp=function(t){return t},jp=1,Kp=2,Bp=3,Xp=4,Up=1e-6,Yp={value:function(){}};g.prototype=v.prototype={constructor:g,on:function(t,e){var n,o=this._,i=m(t+"",o),r=-1,a=i.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++r<a;)if(n=(t=i[r]).type)o[n]=_(o[n],t.name,e);else if(null==e)for(n in o)o[n]=_(o[n],t.name,null);return this}for(;++r<a;)if((n=(t=i[r]).type)&&(n=b(o[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new g(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,o,i=new Array(n),r=0;r<n;++r)i[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,n=o.length;r<n;++r)o[r].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}};var Gp="http://www.w3.org/1999/xhtml",Wp={svg:"http://www.w3.org/2000/svg",xhtml:Gp,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},zp=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Wp.hasOwnProperty(e)?{space:Wp[e],local:t}:t},Hp=function(t){var e=zp(t);return(e.local?w:x)(e)},qp=0;S.prototype=P.prototype={constructor:S,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Vp=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var $p=document.documentElement;if(!$p.matches){var Zp=$p.webkitMatchesSelector||$p.msMatchesSelector||$p.mozMatchesSelector||$p.oMatchesSelector;Vp=function(t){return function(){return Zp.call(this,t)}}}}var Jp=Vp,Qp={};if(t.event=null,"undefined"!=typeof document){var tl=document.documentElement;"onmouseenter"in tl||(Qp={mouseenter:"mouseover",mouseleave:"mouseout"})}var el=function(t,e,n){var o,i,r=T(t+""),a=r.length;{if(!(arguments.length<2)){for(s=e?E:A,null==n&&(n=!1),o=0;o<a;++o)this.each(s(r[o],e,n));return this}var s=this.node().__on;if(s)for(var u,h=0,p=s.length;h<p;++h)for(o=0,u=s[h];o<a;++o)if((i=r[o]).type===u.type&&i.name===u.name)return u.value}},nl=function(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n},ol=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},il=function(t){var e=nl();return e.changedTouches&&(e=e.changedTouches[0]),ol(t,e)},rl=function(t){return null==t?L:function(){return this.querySelector(t)}},al=function(t){"function"!=typeof t&&(t=rl(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r,a,s=e[i],u=s.length,h=o[i]=new Array(u),p=0;p<u;++p)(r=s[p])&&(a=t.call(r,r.__data__,p,s))&&("__data__"in r&&(a.__data__=r.__data__),h[p]=a);return new gt(o,this._parents)},sl=function(t){return null==t?N:function(){return this.querySelectorAll(t)}},ul=function(t){"function"!=typeof t&&(t=sl(t));for(var e=this._groups,n=e.length,o=[],i=[],r=0;r<n;++r)for(var a,s=e[r],u=s.length,h=0;h<u;++h)(a=s[h])&&(o.push(t.call(a,a.__data__,h,s)),i.push(a));return new gt(o,i)},hl=function(t){"function"!=typeof t&&(t=Jp(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r,a=e[i],s=a.length,u=o[i]=[],h=0;h<s;++h)(r=a[h])&&t.call(r,r.__data__,h,a)&&u.push(r);return new gt(o,this._parents)},pl=function(t){return new Array(t.length)},ll=function(){return new gt(this._enter||this._groups.map(pl),this._parents)};O.prototype={constructor:O,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var cl=function(t){return function(){return t}},fl="$",dl=function(t,e){if(!t)return f=new Array(this.size()),h=-1,this.each(function(t){f[++h]=t}),f;var n=e?R:k,o=this._parents,i=this._groups;"function"!=typeof t&&(t=cl(t));for(var r=i.length,a=new Array(r),s=new Array(r),u=new Array(r),h=0;h<r;++h){var p=o[h],l=i[h],c=l.length,f=t.call(p,p&&p.__data__,h,o),d=f.length,y=s[h]=new Array(d),v=a[h]=new Array(d),g=u[h]=new Array(c);n(p,l,y,v,g,f,e);for(var m,b,_=0,x=0;_<d;++_)if(m=y[_]){for(_>=x&&(x=_+1);!(b=v[x])&&++x<d;);m._next=b||null}}return a=new gt(a,o),a._enter=s,a._exit=u,a},yl=function(){return new gt(this._exit||this._groups.map(pl),this._parents)},vl=function(t){for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),a=new Array(o),s=0;s<r;++s)for(var u,h=e[s],p=n[s],l=h.length,c=a[s]=new Array(l),f=0;f<l;++f)(u=h[f]||p[f])&&(c[f]=u);for(;s<o;++s)a[s]=e[s];return new gt(a,this._parents)},gl=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o,i=t[e],r=i.length-1,a=i[r];--r>=0;)(o=i[r])&&(a&&a!==o.nextSibling&&a.parentNode.insertBefore(o,a),a=o);return this},ml=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=F);for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var a,s=n[r],u=s.length,h=i[r]=new Array(u),p=0;p<u;++p)(a=s[p])&&(h[p]=a);h.sort(e)}return new gt(i,this._parents).order()},bl=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},_l=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},xl=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var a=o[i];if(a)return a}return null},wl=function(){var t=0;return this.each(function(){++t}),t},Pl=function(){return!this.node()},Sl=function(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i,r=e[n],a=0,s=r.length;a<s;++a)(i=r[a])&&t.call(i,i.__data__,a,r);return this},Cl=function(t,e){var n=zp(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((null==e?n.local?j:D:"function"==typeof e?n.local?U:X:n.local?B:K)(n,e))},Ml=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},Tl=function(t,e,n){return arguments.length>1?this.each((null==e?Y:"function"==typeof e?W:G)(t,e,null==n?"":n)):z(this.node(),t)},Al=function(t,e){return arguments.length>1?this.each((null==e?H:"function"==typeof e?V:q)(t,e)):this.node()[t]};J.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var El=function(t,e){var n=$(t+"");if(arguments.length<2){for(var o=Z(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?ot:e?et:nt)(n,e))},Il=function(t){return arguments.length?this.each(null==t?it:("function"==typeof t?at:rt)(t)):this.node().textContent},Ll=function(t){return arguments.length?this.each(null==t?st:("function"==typeof t?ht:ut)(t)):this.node().innerHTML},Nl=function(){return this.each(pt)},Ol=function(){return this.each(lt)},kl=function(t){var e="function"==typeof t?t:Hp(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},Rl=function(t,e){var n="function"==typeof t?t:Hp(t),o=null==e?ct:"function"==typeof e?e:rl(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})},Fl=function(){return this.each(ft)},Dl=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},jl=function(t,e){return this.each(("function"==typeof e?vt:yt)(t,e))},Kl=[null];gt.prototype=mt.prototype={constructor:gt,select:al,selectAll:ul,filter:hl,data:dl,enter:ll,exit:yl,merge:vl,order:gl,sort:ml,call:bl,nodes:_l,node:xl,size:wl,empty:Pl,each:Sl,attr:Cl,style:Tl,property:Al,classed:El,text:Il,html:Ll,raise:Nl,lower:Ol,append:kl,insert:Rl,remove:Fl,datum:Dl,on:el,dispatch:jl};var Bl=function(t){return"string"==typeof t?new gt([[document.querySelector(t)]],[document.documentElement]):new gt([[t]],Kl)},Xl=function(t){return"string"==typeof t?new gt([document.querySelectorAll(t)],[document.documentElement]):new gt([null==t?[]:t],Kl)},Ul=function(t,e,n){arguments.length<3&&(n=e,e=nl().changedTouches);for(var o,i=0,r=e?e.length:0;i<r;++i)if((o=e[i]).identifier===n)return ol(t,o);return null},Yl=function(t,e){null==e&&(e=nl().touches);for(var n=0,o=e?e.length:0,i=new Array(o);n<o;++n)i[n]=ol(t,e[n]);return i},Gl=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},Wl=function(t){var e=t.document.documentElement,n=Bl(t).on("dragstart.drag",Gl,!0);"onselectstart"in e?n.on("selectstart.drag",Gl,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")},zl=function(t){return function(){return t}};xt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Hl=function(){function e(t){t.on("mousedown.drag",n).filter(Ct).on("touchstart.drag",r).on("touchmove.drag",a).on("touchend.drag touchcancel.drag",s).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function n(){if(!c&&f.apply(this,arguments)){var e=u("mouse",d.apply(this,arguments),il,this,arguments);e&&(Bl(t.event.view).on("mousemove.drag",o,!0).on("mouseup.drag",i,!0),Wl(t.event.view),bt(),l=!1,h=t.event.clientX,p=t.event.clientY,e("start"))}}function o(){if(Gl(),!l){var e=t.event.clientX-h,n=t.event.clientY-p;l=e*e+n*n>_}g.mouse("drag")}function i(){Bl(t.event.view).on("mousemove.drag mouseup.drag",null),_t(t.event.view,l),Gl(),g.mouse("end")}function r(){if(f.apply(this,arguments)){var e,n,o=t.event.changedTouches,i=d.apply(this,arguments),r=o.length;for(e=0;e<r;++e)(n=u(o[e].identifier,i,Ul,this,arguments))&&(bt(),n("start"))}}function a(){var e,n,o=t.event.changedTouches,i=o.length;for(e=0;e<i;++e)(n=g[o[e].identifier])&&(Gl(),n("drag"))}function s(){var e,n,o=t.event.changedTouches,i=o.length;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),e=0;e<i;++e)(n=g[o[e].identifier])&&(bt(),n("end"))}function u(n,o,i,r,a){var s,u,h,p=i(o,n),l=m.copy();if(I(new xt(e,"beforestart",s,n,b,p[0],p[1],0,0,l),function(){return null!=(t.event.subject=s=y.apply(r,a))&&(u=s.x-p[0]||0,h=s.y-p[1]||0,!0)}))return function t(c){var f,d=p;switch(c){case"start":g[n]=t,f=b++;break;case"end":delete g[n],--b;case"drag":p=i(o,n),f=b}I(new xt(e,c,s,n,f,p[0]+u,p[1]+h,p[0]-d[0],p[1]-d[1],l),l.apply,l,[c,r,a])}}var h,p,l,c,f=wt,d=Pt,y=St,g={},m=v("start","drag","end"),b=0,_=0;return e.filter=function(t){return arguments.length?(f="function"==typeof t?t:zl(!!t),e):f},e.container=function(t){return arguments.length?(d="function"==typeof t?t:zl(t),e):d},e.subject=function(t){return arguments.length?(y="function"==typeof t?t:zl(t),e):y},e.on=function(){var t=m.on.apply(m,arguments);return t===m?e:t},e.clickDistance=function(t){return arguments.length?(_=(t=+t)*t,e):Math.sqrt(_)},e},ql=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},Vl=.7,$l=1/Vl,Zl="\\s*([+-]?\\d+)\\s*",Jl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ql="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tc=/^#([0-9a-f]{3})$/,ec=/^#([0-9a-f]{6})$/,nc=new RegExp("^rgb\\("+[Zl,Zl,Zl]+"\\)$"),oc=new RegExp("^rgb\\("+[Ql,Ql,Ql]+"\\)$"),ic=new RegExp("^rgba\\("+[Zl,Zl,Zl,Jl]+"\\)$"),rc=new RegExp("^rgba\\("+[Ql,Ql,Ql,Jl]+"\\)$"),ac=new RegExp("^hsl\\("+[Jl,Ql,Ql]+"\\)$"),sc=new RegExp("^hsla\\("+[Jl,Ql,Ql,Jl]+"\\)$"),uc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ql(Tt,At,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),ql(Ot,Nt,Mt(Tt,{brighter:function(t){return t=null==t?$l:Math.pow($l,t),new Ot(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Vl:Math.pow(Vl,t),new Ot(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),ql(Dt,Ft,Mt(Tt,{brighter:function(t){return t=null==t?$l:Math.pow($l,t),new Dt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Vl:Math.pow(Vl,t),new Dt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new Ot(jt(t>=240?t-240:t+120,i,o),jt(t,i,o),jt(t<120?t+240:t-120,i,o),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var hc=Math.PI/180,pc=180/Math.PI,lc=18,cc=.95047,fc=1,dc=1.08883,yc=4/29,vc=6/29,gc=3*vc*vc,mc=vc*vc*vc;ql(Xt,Bt,Mt(Tt,{brighter:function(t){return new Xt(this.l+lc*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Xt(this.l-lc*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=fc*Yt(t),e=cc*Yt(e),n=dc*Yt(n),new Ot(Gt(3.2404542*e-1.5371385*t-.4985314*n),Gt(-.969266*e+1.8760108*t+.041556*n),Gt(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),ql(qt,Ht,Mt(Tt,{brighter:function(t){return new qt(this.h,this.c,this.l+lc*(null==t?1:t),this.opacity)},darker:function(t){return new qt(this.h,this.c,this.l-lc*(null==t?1:t),this.opacity)},rgb:function(){return Kt(this).rgb()}}));var bc=-.14861,_c=1.78277,xc=-.29227,wc=-.90649,Pc=1.97294,Sc=Pc*wc,Cc=Pc*_c,Mc=_c*xc-wc*bc;ql(Zt,$t,Mt(Tt,{brighter:function(t){return t=null==t?$l:Math.pow($l,t),new Zt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Vl:Math.pow(Vl,t),new Zt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*hc,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),o=Math.cos(t),i=Math.sin(t);return new Ot(255*(e+n*(bc*o+_c*i)),255*(e+n*(xc*o+wc*i)),255*(e+n*(Pc*o)),this.opacity)}}));var Tc,Ac,Ec,Ic,Lc,Nc,Oc=function(t){var e=t.length-1;return function(n){var o=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[o],r=t[o+1],a=o>0?t[o-1]:2*i-r,s=o<e-1?t[o+2]:2*r-i;return Jt((n-o/e)*e,a,i,r,s)}},kc=function(t){var e=t.length;return function(n){var o=Math.floor(((n%=1)<0?++n:n)*e),i=t[(o+e-1)%e],r=t[o%e],a=t[(o+1)%e],s=t[(o+2)%e];return Jt((n-o/e)*e,i,r,a,s)}},Rc=function(t){return function(){return t}},Fc=function t(e){function n(t,e){var n=o((t=Nt(t)).r,(e=Nt(e)).r),i=o(t.g,e.g),r=o(t.b,e.b),a=oe(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=i(e),t.b=r(e),t.opacity=a(e),t+""}}var o=ne(e);return n.gamma=t,n}(1),Dc=ie(Oc),jc=ie(kc),Kc=function(t,e){var n,o=e?e.length:0,i=t?Math.min(o,t.length):0,r=new Array(o),a=new Array(o);for(n=0;n<i;++n)r[n]=zc(t[n],e[n]);for(;n<o;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=r[n](t);return a}},Bc=function(t,e){var n=new Date;return t=+t,e-=t,function(o){return n.setTime(t+e*o),n}},Xc=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},Uc=function(t,e){var n,o={},i={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(n in e)n in t?o[n]=zc(t[n],e[n]):i[n]=e[n];return function(t){for(n in o)i[n]=o[n](t);return i}},Yc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gc=new RegExp(Yc.source,"g"),Wc=function(t,e){var n,o,i,r=Yc.lastIndex=Gc.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=Yc.exec(t))&&(o=Gc.exec(e));)(i=o.index)>r&&(i=e.slice(r,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(o=o[0])?s[a]?s[a]+=o:s[++a]=o:(s[++a]=null,u.push({i:a,x:Xc(n,o)})),r=Gc.lastIndex;return r<e.length&&(i=e.slice(r),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?ae(u[0].x):re(e):(e=u.length,function(t){for(var n,o=0;o<e;++o)s[(n=u[o]).i]=n.x(t);return s.join("")})},zc=function(t,e){var n,o=typeof e;return null==e||"boolean"===o?Rc(e):("number"===o?Xc:"string"===o?(n=At(e))?(e=n,Fc):Wc:e instanceof At?Fc:e instanceof Date?Bc:Array.isArray(e)?Kc:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Uc:Xc)(t,e)},Hc=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}},qc=180/Math.PI,Vc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},$c=function(t,e,n,o,i,r){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*o)&&(n-=t*u,o-=e*u),(s=Math.sqrt(n*n+o*o))&&(n/=s,o/=s,u/=s),t*o<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*qc,skewX:Math.atan(u)*qc,scaleX:a,scaleY:s}},Zc=he(se,"px, ","px)","deg)"),Jc=he(ue,", ",")",")"),Qc=Math.SQRT2,tf=2,ef=4,nf=1e-12,of=function(t,e){var n,o,i=t[0],r=t[1],a=t[2],s=e[0],u=e[1],h=e[2],p=s-i,l=u-r,c=p*p+l*l;if(c<nf)o=Math.log(h/a)/Qc,n=function(t){return[i+t*p,r+t*l,a*Math.exp(Qc*t*o)]};else{var f=Math.sqrt(c),d=(h*h-a*a+ef*c)/(2*a*tf*f),y=(h*h-a*a-ef*c)/(2*h*tf*f),v=Math.log(Math.sqrt(d*d+1)-d),g=Math.log(Math.sqrt(y*y+1)-y);o=(g-v)/Qc,n=function(t){var e=t*o,n=pe(v),s=a/(tf*f)*(n*ce(Qc*e+v)-le(v));return[i+s*p,r+s*l,a*n/pe(Qc*e+v)]}}return n.duration=1e3*o,n},rf=fe(ee),af=fe(oe),sf=ye(ee),uf=ye(oe),hf=ve(ee),pf=ve(oe),lf=function(t,e){for(var n=new Array(e),o=0;o<e;++o)n[o]=t(o/(e-1));return n},cf=0,ff=0,df=0,yf=1e3,vf=0,gf=0,mf=0,bf="object"==typeof performance&&performance.now?performance:Date,_f="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};be.prototype=_e.prototype={constructor:be,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?ge():+n)+(null==e?0:+e),this._next||Nc===this||(Nc?Nc._next=this:Lc=this,Nc=this),this._call=t,this._time=n,Ce()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ce())}};var xf=function(t,e,n){var o=new be;return e=null==e?0:+e,o.restart(function(n){o.stop(),t(n+e)},e,n),o},wf=function(t,e,n){var o=new be,i=e;return null==e?(o.restart(t,e,n),o):(e=+e,n=null==n?ge():+n,o.restart(function r(a){a+=i,o.restart(r,i+=e,n),t(a)},e,n),o)},Pf=v("start","end","interrupt"),Sf=[],Cf=0,Mf=1,Tf=2,Af=3,Ef=4,If=5,Lf=6,Nf=function(t,e,n,o,i,r){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};Ee(t,n,{name:e,index:o,group:i,on:Pf,tween:Sf,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Cf})},Of=function(t,e){var n,o,i,r=t.__transition,a=!0;if(r){e=null==e?null:e+"";for(i in r)(n=r[i]).name===e?(o=n.state>Tf&&n.state<If,n.state=Lf,n.timer.stop(),o&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete r[i]):a=!1;a&&delete t.__transition}},kf=function(t){return this.each(function(){Of(this,t)})},Rf=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o,i=Ae(this.node(),n).tween,r=0,a=i.length;r<a;++r)if((o=i[r]).name===t)return o.value;return null}return this.each((null==e?Ie:Le)(n,t,e))},Ff=function(t,e){var n;return("number"==typeof e?Xc:e instanceof At?Fc:(n=At(e))?(e=n,Fc):Wc)(t,e)},Df=function(t,e){var n=zp(t),o="transform"===n?Jc:Ff;return this.attrTween(t,"function"==typeof e?(n.local?je:De)(n,o,Ne(this,"attr."+t,e)):null==e?(n.local?ke:Oe)(n):(n.local?Fe:Re)(n,o,e+""))},jf=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var o=zp(t);return this.tween(n,(o.local?Ke:Be)(o,e))},Kf=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Xe:Ue)(e,t)):Ae(this.node(),e).delay},Bf=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ye:Ge)(e,t)):Ae(this.node(),e).duration},Xf=function(t){var e=this._id;return arguments.length?this.each(We(e,t)):Ae(this.node(),e).ease},Uf=function(t){"function"!=typeof t&&(t=Jp(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r,a=e[i],s=a.length,u=o[i]=[],h=0;h<s;++h)(r=a[h])&&t.call(r,r.__data__,h,a)&&u.push(r);return new nn(o,this._parents,this._name,this._id)},Yf=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),a=new Array(o),s=0;s<r;++s)for(var u,h=e[s],p=n[s],l=h.length,c=a[s]=new Array(l),f=0;f<l;++f)(u=h[f]||p[f])&&(c[f]=u);for(;s<o;++s)a[s]=e[s];return new nn(a,this._parents,this._name,this._id)},Gf=function(t,e){var n=this._id;return arguments.length<2?Ae(this.node(),n).on.on(t):this.each(He(n,t,e))},Wf=function(){return this.on("end.remove",qe(this._id))},zf=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=rl(t));for(var o=this._groups,i=o.length,r=new Array(i),a=0;a<i;++a)for(var s,u,h=o[a],p=h.length,l=r[a]=new Array(p),c=0;c<p;++c)(s=h[c])&&(u=t.call(s,s.__data__,c,h))&&("__data__"in s&&(u.__data__=s.__data__),l[c]=u,Nf(l[c],e,n,c,l,Ae(s,n)));return new nn(r,this._parents,e,n)},Hf=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=sl(t));for(var o=this._groups,i=o.length,r=[],a=[],s=0;s<i;++s)for(var u,h=o[s],p=h.length,l=0;l<p;++l)if(u=h[l]){for(var c,f=t.call(u,u.__data__,l,h),d=Ae(u,n),y=0,v=f.length;y<v;++y)(c=f[y])&&Nf(c,e,n,y,f,d);r.push(f),a.push(u)}return new nn(r,a,e,n)},qf=mt.prototype.constructor,Vf=function(){return new qf(this._groups,this._parents)},$f=function(t,e,n){var o="transform"==(t+="")?Zc:Ff;return null==e?this.styleTween(t,Ve(t,o)).on("end.style."+t,$e(t)):this.styleTween(t,"function"==typeof e?Je(t,o,Ne(this,"style."+t,e)):Ze(t,o,e+""),n)},Zf=function(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==e)return this.tween(o,null);if("function"!=typeof e)throw new Error;return this.tween(o,Qe(t,e,null==n?"":n))},Jf=function(t){return this.tween("text","function"==typeof t?en(Ne(this,"text",t)):tn(null==t?"":t+""))},Qf=function(){for(var t=this._name,e=this._id,n=rn(),o=this._groups,i=o.length,r=0;r<i;++r)for(var a,s=o[r],u=s.length,h=0;h<u;++h)if(a=s[h]){var p=Ae(a,e);Nf(a,t,n,h,s,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new nn(o,this._parents,t,n)},td=0,ed=mt.prototype;nn.prototype=on.prototype={constructor:nn,select:zf,selectAll:Hf,filter:Uf,merge:Yf,selection:Vf,transition:Qf,call:ed.call,nodes:ed.nodes,node:ed.node,size:ed.size,empty:ed.empty,each:ed.each,on:Gf,attr:Df,attrTween:jf,style:$f,styleTween:Zf,text:Jf,remove:Wf,tween:Rf,delay:Kf,duration:Bf,ease:Xf};var nd=3,od=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(nd),id=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(nd),rd=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(nd),ad=Math.PI,sd=ad/2,ud=4/11,hd=6/11,pd=8/11,ld=.75,cd=9/11,fd=10/11,dd=.9375,yd=21/22,vd=63/64,gd=1/ud/ud,md=1.70158,bd=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(md),_d=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(md),xd=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(md),wd=2*Math.PI,Pd=1,Sd=.3,Cd=function t(e,n){function o(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/n)}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=wd);return o.amplitude=function(e){return t(e,n*wd)},o.period=function(n){return t(e,n)},o}(Pd,Sd),Md=function t(e,n){function o(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/n)}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=wd);return o.amplitude=function(e){return t(e,n*wd)},o.period=function(n){return t(e,n)},o}(Pd,Sd),Td=function t(e,n){function o(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/n))/2}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=wd);return o.amplitude=function(e){return t(e,n*wd)},o.period=function(n){return t(e,n)},o}(Pd,Sd),Ad={time:null,delay:0,duration:250,ease:cn},Ed=function(t){var e,n;t instanceof nn?(e=t._id,t=t._name):(e=rn(),(n=Ad).time=ge(),t=null==t?null:t+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var a,s=o[r],u=s.length,h=0;h<u;++h)(a=s[h])&&Nf(a,t,e,h,s,n||Cn(a,e));return new nn(o,this._parents,t,e)};mt.prototype.interrupt=kf,mt.prototype.transition=Ed;var Id=[null],Ld=function(t,e){var n,o,i=t.__transition;if(i){e=null==e?null:e+"";for(o in i)if((n=i[o]).state>Mf&&n.name===e)return new nn([[t]],Id,e,+o)}return null},Nd=function(t){return function(){return t}},Od=function(t,e,n){this.target=t,this.type=e,this.selection=n},kd=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},Rd={name:"drag"},Fd={name:"space"},Dd={name:"handle"},jd={name:"center"
},Kd={name:"x",handles:["e","w"].map(Tn),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Bd={name:"y",handles:["n","s"].map(Tn),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Xd={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(Tn),input:function(t){return t},output:function(t){return t}},Ud={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Yd={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Gd={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Wd={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},zd={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},Hd=function(){return Rn(Xd)},qd=Math.cos,Vd=Math.sin,$d=Math.PI,Zd=$d/2,Jd=2*$d,Qd=Math.max,ty=function(){function t(t){var r,a,s,u,h,p,l=t.length,c=[],f=yp(l),d=[],y=[],v=y.groups=new Array(l),g=new Array(l*l);for(r=0,h=-1;++h<l;){for(a=0,p=-1;++p<l;)a+=t[h][p];c.push(a),d.push(yp(l)),r+=a}for(n&&f.sort(function(t,e){return n(c[t],c[e])}),o&&d.forEach(function(e,n){e.sort(function(e,i){return o(t[n][e],t[n][i])})}),r=Qd(0,Jd-e*l)/r,u=r?e:Jd/l,a=0,h=-1;++h<l;){for(s=a,p=-1;++p<l;){var m=f[h],b=d[m][p],_=t[m][b],x=a,w=a+=_*r;g[b*l+m]={index:m,subindex:b,startAngle:x,endAngle:w,value:_}}v[m]={index:m,startAngle:s,endAngle:a,value:c[m]},a+=u}for(h=-1;++h<l;)for(p=h-1;++p<l;){var P=g[p*l+h],S=g[h*l+p];(P.value||S.value)&&y.push(P.value<S.value?{source:S,target:P}:{source:P,target:S})}return i?y.sort(i):y}var e=0,n=null,o=null,i=null;return t.padAngle=function(n){return arguments.length?(e=Qd(0,n),t):e},t.sortGroups=function(e){return arguments.length?(n=e,t):n},t.sortSubgroups=function(e){return arguments.length?(o=e,t):o},t.sortChords=function(e){return arguments.length?(null==e?i=null:(i=Fn(e))._=e,t):i&&i._},t},ey=Array.prototype.slice,ny=function(t){return function(){return t}},oy=Math.PI,iy=2*oy,ry=1e-6,ay=iy-ry;Dn.prototype=jn.prototype={constructor:Dn,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,o){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+o)},bezierCurveTo:function(t,e,n,o,i,r){this._+="C"+ +t+","+ +e+","+ +n+","+ +o+","+(this._x1=+i)+","+(this._y1=+r)},arcTo:function(t,e,n,o,i){t=+t,e=+e,n=+n,o=+o,i=+i;var r=this._x1,a=this._y1,s=n-t,u=o-e,h=r-t,p=a-e,l=h*h+p*p;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(l>ry)if(Math.abs(p*s-u*h)>ry&&i){var c=n-r,f=o-a,d=s*s+u*u,y=c*c+f*f,v=Math.sqrt(d),g=Math.sqrt(l),m=i*Math.tan((oy-Math.acos((d+l-y)/(2*v*g)))/2),b=m/g,_=m/v;Math.abs(b-1)>ry&&(this._+="L"+(t+b*h)+","+(e+b*p)),this._+="A"+i+","+i+",0,0,"+ +(p*c>h*f)+","+(this._x1=t+_*s)+","+(this._y1=e+_*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,o,i,r){t=+t,e=+e,n=+n;var a=n*Math.cos(o),s=n*Math.sin(o),u=t+a,h=e+s,p=1^r,l=r?o-i:i-o;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+h:(Math.abs(this._x1-u)>ry||Math.abs(this._y1-h)>ry)&&(this._+="L"+u+","+h),n&&(l<0&&(l=l%iy+iy),l>ay?this._+="A"+n+","+n+",0,1,"+p+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+p+","+(this._x1=u)+","+(this._y1=h):l>ry&&(this._+="A"+n+","+n+",0,"+ +(l>=oy)+","+p+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,o){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +o+"h"+-n+"Z"},toString:function(){return this._}};var sy=function(){function t(){var t,s=ey.call(arguments),u=e.apply(this,s),h=n.apply(this,s),p=+o.apply(this,(s[0]=u,s)),l=i.apply(this,s)-Zd,c=r.apply(this,s)-Zd,f=p*qd(l),d=p*Vd(l),y=+o.apply(this,(s[0]=h,s)),v=i.apply(this,s)-Zd,g=r.apply(this,s)-Zd;if(a||(a=t=jn()),a.moveTo(f,d),a.arc(0,0,p,l,c),l===v&&c===g||(a.quadraticCurveTo(0,0,y*qd(v),y*Vd(v)),a.arc(0,0,y,v,g)),a.quadraticCurveTo(0,0,f,d),a.closePath(),t)return a=null,t+""||null}var e=Kn,n=Bn,o=Xn,i=Un,r=Yn,a=null;return t.radius=function(e){return arguments.length?(o="function"==typeof e?e:ny(+e),t):o},t.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:ny(+e),t):i},t.endAngle=function(e){return arguments.length?(r="function"==typeof e?e:ny(+e),t):r},t.source=function(n){return arguments.length?(e=n,t):e},t.target=function(e){return arguments.length?(n=e,t):n},t.context=function(e){return arguments.length?(a=null==e?null:e,t):a},t},uy="$";Gn.prototype=Wn.prototype={constructor:Gn,has:function(t){return uy+t in this},get:function(t){return this[uy+t]},set:function(t,e){return this[uy+t]=e,this},remove:function(t){var e=uy+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===uy&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===uy&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===uy&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===uy&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===uy&&++t;return t},empty:function(){for(var t in this)if(t[0]===uy)return!1;return!0},each:function(t){for(var e in this)e[0]===uy&&t(this[e],e.slice(1),this)}};var hy=function(){function t(e,i,a,s){if(i>=r.length)return null!=n&&e.sort(n),null!=o?o(e):e;for(var u,h,p,l=-1,c=e.length,f=r[i++],d=Wn(),y=a();++l<c;)(p=d.get(u=f(h=e[l])+""))?p.push(h):d.set(u,[h]);return d.each(function(e,n){s(y,n,t(e,i,a,s))}),y}function e(t,n){if(++n>r.length)return t;var i,s=a[n-1];return null!=o&&n>=r.length?i=t.entries():(i=[],t.each(function(t,o){i.push({key:o,values:e(t,n)})})),null!=s?i.sort(function(t,e){return s(t.key,e.key)}):i}var n,o,i,r=[],a=[];return i={object:function(e){return t(e,0,zn,Hn)},map:function(e){return t(e,0,qn,Vn)},entries:function(n){return e(t(n,0,qn,Vn),0)},key:function(t){return r.push(t),i},sortKeys:function(t){return a[r.length-1]=t,i},sortValues:function(t){return n=t,i},rollup:function(t){return o=t,i}}},py=Wn.prototype;$n.prototype=Zn.prototype={constructor:$n,has:py.has,add:function(t){return t+="",this[uy+t]=t,this},remove:py.remove,clear:py.clear,values:py.keys,size:py.size,empty:py.empty,each:py.each};var ly=function(t){var e=[];for(var n in t)e.push(n);return e},cy=function(t){var e=[];for(var n in t)e.push(t[n]);return e},fy=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},dy=function(t){function e(t,e){var o,i,r=n(t,function(t,n){return o?o(t,n-1):(i=t,void(o=e?Qn(t,e):Jn(t)))});return r.columns=i,r}function n(t,e){function n(){if(p>=h)return a;if(i)return i=!1,r;var e,n=p;if(34===t.charCodeAt(n)){for(var o=n;o++<h;)if(34===t.charCodeAt(o)){if(34!==t.charCodeAt(o+1))break;++o}return p=o+2,e=t.charCodeAt(o+1),13===e?(i=!0,10===t.charCodeAt(o+2)&&++p):10===e&&(i=!0),t.slice(n+1,o).replace(/""/g,'"')}for(;p<h;){var s=1;if(e=t.charCodeAt(p++),10===e)i=!0;else if(13===e)i=!0,10===t.charCodeAt(p)&&(++p,++s);else if(e!==u)continue;return t.slice(n,p-s)}return t.slice(n)}for(var o,i,r={},a={},s=[],h=t.length,p=0,l=0;(o=n())!==a;){for(var c=[];o!==r&&o!==a;)c.push(o),o=n();e&&null==(c=e(c,l++))||s.push(c)}return s}function o(e,n){return null==n&&(n=to(e)),[n.map(a).join(t)].concat(e.map(function(e){return n.map(function(t){return a(e[t])}).join(t)})).join("\n")}function i(t){return t.map(r).join("\n")}function r(e){return e.map(a).join(t)}function a(t){return null==t?"":s.test(t+="")?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n\r]"),u=t.charCodeAt(0);return{parse:e,parseRows:n,format:o,formatRows:i}},yy=dy(","),vy=yy.parse,gy=yy.parseRows,my=yy.format,by=yy.formatRows,_y=dy("\t"),xy=_y.parse,wy=_y.parseRows,Py=_y.format,Sy=_y.formatRows,Cy=function(t,e){function n(){var n,i,r=o.length,a=0,s=0;for(n=0;n<r;++n)i=o[n],a+=i.x,s+=i.y;for(a=a/r-t,s=s/r-e,n=0;n<r;++n)i=o[n],i.x-=a,i.y-=s}var o;return null==t&&(t=0),null==e&&(e=0),n.initialize=function(t){o=t},n.x=function(e){return arguments.length?(t=+e,n):t},n.y=function(t){return arguments.length?(e=+t,n):e},n},My=function(t){return function(){return t}},Ty=function(){return 1e-6*(Math.random()-.5)},Ay=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return eo(this.cover(e,n),e,n,t)},Ey=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,o=this._y0,i=this._x1,r=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,r=(o=Math.floor(e))+1;else{if(!(n>t||t>i||o>e||e>r))return this;var a,s,u=i-n,h=this._root;switch(s=(e<(o+r)/2)<<1|t<(n+i)/2){case 0:do a=new Array(4),a[s]=h,h=a;while(u*=2,i=n+u,r=o+u,t>i||e>r);break;case 1:do a=new Array(4),a[s]=h,h=a;while(u*=2,n=i-u,r=o+u,n>t||e>r);break;case 2:do a=new Array(4),a[s]=h,h=a;while(u*=2,i=n+u,o=r-u,t>i||o>e);break;case 3:do a=new Array(4),a[s]=h,h=a;while(u*=2,n=i-u,o=r-u,n>t||o>e)}this._root&&this._root.length&&(this._root=h)}return this._x0=n,this._y0=o,this._x1=i,this._y1=r,this},Iy=function(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t},Ly=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Ny=function(t,e,n,o,i){this.node=t,this.x0=e,this.y0=n,this.x1=o,this.y1=i},Oy=function(t,e,n){var o,i,r,a,s,u,h,p=this._x0,l=this._y0,c=this._x1,f=this._y1,d=[],y=this._root;for(y&&d.push(new Ny(y,p,l,c,f)),null==n?n=1/0:(p=t-n,l=e-n,c=t+n,f=e+n,n*=n);u=d.pop();)if(!(!(y=u.node)||(i=u.x0)>c||(r=u.y0)>f||(a=u.x1)<p||(s=u.y1)<l))if(y.length){var v=(i+a)/2,g=(r+s)/2;d.push(new Ny(y[3],v,g,a,s),new Ny(y[2],i,g,v,s),new Ny(y[1],v,r,a,g),new Ny(y[0],i,r,v,g)),(h=(e>=g)<<1|t>=v)&&(u=d[d.length-1],d[d.length-1]=d[d.length-1-h],d[d.length-1-h]=u)}else{var m=t-+this._x.call(null,y.data),b=e-+this._y.call(null,y.data),_=m*m+b*b;if(_<n){var x=Math.sqrt(n=_);p=t-x,l=e-x,c=t+x,f=e+x,o=y.data}}return o},ky=function(t){if(isNaN(r=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,o,i,r,a,s,u,h,p,l,c,f=this._root,d=this._x0,y=this._y0,v=this._x1,g=this._y1;if(!f)return this;if(f.length)for(;;){if((h=r>=(s=(d+v)/2))?d=s:v=s,(p=a>=(u=(y+g)/2))?y=u:g=u,e=f,!(f=f[l=p<<1|h]))return this;if(!f.length)break;(e[l+1&3]||e[l+2&3]||e[l+3&3])&&(n=e,c=l)}for(;f.data!==t;)if(o=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,o?(i?o.next=i:delete o.next,this):e?(i?e[l]=i:delete e[l],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[c]=f:this._root=f),this):(this._root=i,this)},Ry=function(){return this._root},Fy=function(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t},Dy=function(t){var e,n,o,i,r,a,s=[],u=this._root;for(u&&s.push(new Ny(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,o=e.x0,i=e.y0,r=e.x1,a=e.y1)&&u.length){var h=(o+r)/2,p=(i+a)/2;(n=u[3])&&s.push(new Ny(n,h,p,r,a)),(n=u[2])&&s.push(new Ny(n,o,p,h,a)),(n=u[1])&&s.push(new Ny(n,h,i,r,p)),(n=u[0])&&s.push(new Ny(n,o,i,h,p))}return this},jy=function(t){var e,n=[],o=[];for(this._root&&n.push(new Ny(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var r,a=e.x0,s=e.y0,u=e.x1,h=e.y1,p=(a+u)/2,l=(s+h)/2;(r=i[0])&&n.push(new Ny(r,a,s,p,l)),(r=i[1])&&n.push(new Ny(r,p,s,u,l)),(r=i[2])&&n.push(new Ny(r,a,l,p,h)),(r=i[3])&&n.push(new Ny(r,p,l,u,h))}o.push(e)}for(;e=o.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Ky=function(t){return arguments.length?(this._x=t,this):this._x},By=function(t){return arguments.length?(this._y=t,this):this._y},Xy=ao.prototype=so.prototype;Xy.copy=function(){var t,e,n=new so(this._x,this._y,this._x0,this._y0,this._x1,this._y1),o=this._root;if(!o)return n;if(!o.length)return n._root=uo(o),n;for(t=[{source:o,target:n._root=new Array(4)}];o=t.pop();)for(var i=0;i<4;++i)(e=o.source[i])&&(e.length?t.push({source:e,target:o.target[i]=new Array(4)}):o.target[i]=uo(e));return n},Xy.add=Ay,Xy.addAll=no,Xy.cover=Ey,Xy.data=Iy,Xy.extent=Ly,Xy.find=Oy,Xy.remove=ky,Xy.removeAll=oo,Xy.root=Ry,Xy.size=Fy,Xy.visit=Dy,Xy.visitAfter=jy,Xy.x=Ky,Xy.y=By;var Uy,Yy=function(t){function e(){function t(t,e,n,o,i){var r=t.data,s=t.r,f=l+s;{if(!r)return e>h+f||o<h-f||n>p+f||i<p-f;if(r.index>u.index){var d=h-r.x-r.vx,y=p-r.y-r.vy,v=d*d+y*y;v<f*f&&(0===d&&(d=Ty(),v+=d*d),0===y&&(y=Ty(),v+=y*y),v=(f-(v=Math.sqrt(v)))/v*a,u.vx+=(d*=v)*(f=(s*=s)/(c+s)),u.vy+=(y*=v)*f,r.vx-=d*(f=1-f),r.vy-=y*f)}}}for(var e,o,u,h,p,l,c,f=i.length,d=0;d<s;++d)for(o=ao(i,ho,po).visitAfter(n),e=0;e<f;++e)u=i[e],l=r[u.index],c=l*l,h=u.x+u.vx,p=u.y+u.vy,o.visit(t)}function n(t){if(t.data)return t.r=r[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function o(){if(i){var e,n,o=i.length;for(r=new Array(o),e=0;e<o;++e)n=i[e],r[n.index]=+t(n,e,i)}}var i,r,a=1,s=1;return"function"!=typeof t&&(t=My(null==t?1:+t)),e.initialize=function(t){i=t,o()},e.iterations=function(t){return arguments.length?(s=+t,e):s},e.strength=function(t){return arguments.length?(a=+t,e):a},e.radius=function(n){return arguments.length?(t="function"==typeof n?n:My(+n),o(),e):t},e},Gy=function(t){function e(t){return 1/Math.min(h[t.source.index],h[t.target.index])}function n(e){for(var n=0,o=t.length;n<d;++n)for(var i,r,u,h,l,c,f,y=0;y<o;++y)i=t[y],r=i.source,u=i.target,h=u.x+u.vx-r.x-r.vx||Ty(),l=u.y+u.vy-r.y-r.vy||Ty(),c=Math.sqrt(h*h+l*l),c=(c-s[y])/c*e*a[y],h*=c,l*=c,u.vx-=h*(f=p[y]),u.vy-=l*f,r.vx+=h*(f=1-f),r.vy+=l*f}function o(){if(u){var e,n,o=u.length,c=t.length,f=Wn(u,l);for(e=0,h=new Array(o);e<c;++e)n=t[e],n.index=e,"object"!=typeof n.source&&(n.source=co(f,n.source)),"object"!=typeof n.target&&(n.target=co(f,n.target)),h[n.source.index]=(h[n.source.index]||0)+1,h[n.target.index]=(h[n.target.index]||0)+1;for(e=0,p=new Array(c);e<c;++e)n=t[e],p[e]=h[n.source.index]/(h[n.source.index]+h[n.target.index]);a=new Array(c),i(),s=new Array(c),r()}}function i(){if(u)for(var e=0,n=t.length;e<n;++e)a[e]=+c(t[e],e,t)}function r(){if(u)for(var e=0,n=t.length;e<n;++e)s[e]=+f(t[e],e,t)}var a,s,u,h,p,l=lo,c=e,f=My(30),d=1;return null==t&&(t=[]),n.initialize=function(t){u=t,o()},n.links=function(e){return arguments.length?(t=e,o(),n):t},n.id=function(t){return arguments.length?(l=t,n):l},n.iterations=function(t){return arguments.length?(d=+t,n):d},n.strength=function(t){return arguments.length?(c="function"==typeof t?t:My(+t),i(),n):c},n.distance=function(t){return arguments.length?(f="function"==typeof t?t:My(+t),r(),n):f},n},Wy=10,zy=Math.PI*(3-Math.sqrt(5)),Hy=function(t){function e(){n(),f.call("tick",r),a<s&&(c.stop(),f.call("end",r))}function n(){var e,n,o=t.length;for(a+=(h-a)*u,l.each(function(t){t(a)}),e=0;e<o;++e)n=t[e],null==n.fx?n.x+=n.vx*=p:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=p:(n.y=n.fy,n.vy=0)}function o(){for(var e,n=0,o=t.length;n<o;++n){if(e=t[n],e.index=n,isNaN(e.x)||isNaN(e.y)){var i=Wy*Math.sqrt(n),r=n*zy;e.x=i*Math.cos(r),e.y=i*Math.sin(r)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function i(e){return e.initialize&&e.initialize(t),e}var r,a=1,s=.001,u=1-Math.pow(s,1/300),h=0,p=.6,l=Wn(),c=_e(e),f=v("tick","end");return null==t&&(t=[]),o(),r={tick:n,restart:function(){return c.restart(e),r},stop:function(){return c.stop(),r},nodes:function(e){return arguments.length?(t=e,o(),l.each(i),r):t},alpha:function(t){return arguments.length?(a=+t,r):a},alphaMin:function(t){return arguments.length?(s=+t,r):s},alphaDecay:function(t){return arguments.length?(u=+t,r):+u},alphaTarget:function(t){return arguments.length?(h=+t,r):h},velocityDecay:function(t){return arguments.length?(p=1-t,r):1-p},force:function(t,e){return arguments.length>1?(null==e?l.remove(t):l.set(t,i(e)),r):l.get(t)},find:function(e,n,o){var i,r,a,s,u,h=0,p=t.length;for(null==o?o=1/0:o*=o,h=0;h<p;++h)s=t[h],i=e-s.x,r=n-s.y,a=i*i+r*r,a<o&&(u=s,o=a);return u},on:function(t,e){return arguments.length>1?(f.on(t,e),r):f.on(t)}}},qy=function(){function t(t){var e,s=i.length,u=ao(i,fo,yo).visitAfter(n);for(a=t,e=0;e<s;++e)r=i[e],u.visit(o)}function e(){if(i){var t,e,n=i.length;for(s=new Array(n),t=0;t<n;++t)e=i[t],s[e.index]=+u(e,t,i)}}function n(t){var e,n,o,i,r,a=0;if(t.length){for(o=i=r=0;r<4;++r)(e=t[r])&&(n=e.value)&&(a+=n,o+=n*e.x,i+=n*e.y);t.x=o/a,t.y=i/a}else{e=t,e.x=e.data.x,e.y=e.data.y;do a+=s[e.data.index];while(e=e.next)}t.value=a}function o(t,e,n,o){if(!t.value)return!0;var i=t.x-r.x,u=t.y-r.y,c=o-e,f=i*i+u*u;if(c*c/l<f)return f<p&&(0===i&&(i=Ty(),f+=i*i),0===u&&(u=Ty(),f+=u*u),f<h&&(f=Math.sqrt(h*f)),r.vx+=i*t.value*a/f,r.vy+=u*t.value*a/f),!0;if(!(t.length||f>=p)){(t.data!==r||t.next)&&(0===i&&(i=Ty(),f+=i*i),0===u&&(u=Ty(),f+=u*u),f<h&&(f=Math.sqrt(h*f)));do t.data!==r&&(c=s[t.data.index]*a/f,r.vx+=i*c,r.vy+=u*c);while(t=t.next)}}var i,r,a,s,u=My(-30),h=1,p=1/0,l=.81;return t.initialize=function(t){i=t,e()},t.strength=function(n){return arguments.length?(u="function"==typeof n?n:My(+n),e(),t):u},t.distanceMin=function(e){return arguments.length?(h=e*e,t):Math.sqrt(h)},t.distanceMax=function(e){return arguments.length?(p=e*e,t):Math.sqrt(p)},t.theta=function(e){return arguments.length?(l=e*e,t):Math.sqrt(l)},t},Vy=function(t){function e(t){for(var e,n=0,a=o.length;n<a;++n)e=o[n],e.vx+=(r[n]-e.x)*i[n]*t}function n(){if(o){var e,n=o.length;for(i=new Array(n),r=new Array(n),e=0;e<n;++e)i[e]=isNaN(r[e]=+t(o[e],e,o))?0:+a(o[e],e,o)}}var o,i,r,a=My(.1);return"function"!=typeof t&&(t=My(null==t?0:+t)),e.initialize=function(t){o=t,n()},e.strength=function(t){return arguments.length?(a="function"==typeof t?t:My(+t),n(),e):a},e.x=function(o){return arguments.length?(t="function"==typeof o?o:My(+o),n(),e):t},e},$y=function(t){function e(t){for(var e,n=0,a=o.length;n<a;++n)e=o[n],e.vy+=(r[n]-e.y)*i[n]*t}function n(){if(o){var e,n=o.length;for(i=new Array(n),r=new Array(n),e=0;e<n;++e)i[e]=isNaN(r[e]=+t(o[e],e,o))?0:+a(o[e],e,o)}}var o,i,r,a=My(.1);return"function"!=typeof t&&(t=My(null==t?0:+t)),e.initialize=function(t){o=t,n()},e.strength=function(t){return arguments.length?(a="function"==typeof t?t:My(+t),n(),e):a},e.y=function(o){return arguments.length?(t="function"==typeof o?o:My(+o),n(),e):t},e},Zy=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]},Jy=function(t){return t=Zy(Math.abs(t)),t?t[1]:NaN},Qy=function(t,e){return function(n,o){for(var i=n.length,r=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>o&&(s=Math.max(1,o-u)),r.push(n.substring(i-=s,i+s)),!((u+=s+1)>o));)s=t[a=(a+1)%t.length];return r.reverse().join(e)}},tv=function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}},ev=function(t,e){t=t.toPrecision(e);t:for(var n,o=t.length,i=1,r=-1;i<o;++i)switch(t[i]){case".":r=n=i;break;case"0":0===r&&(r=i),n=i;break;case"e":break t;default:r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(n+1):t},nv=function(t,e){var n=Zy(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(Uy=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=o.length;return r===a?o:r>a?o+new Array(r-a+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+Zy(t,Math.max(0,e+r-1))[0]},ov=function(t,e){var n=Zy(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")},iv={"":ev,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return ov(100*t,e)},r:ov,s:nv,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},rv=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;vo.prototype=go.prototype,go.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var av,sv=function(t){return t},uv=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],hv=function(t){function e(t){function e(t){var e,i,s,p=v,_=g;if("c"===y)_=m(t)+_,t="";else{t=+t;var x=t<0;if(t=m(Math.abs(t),d),x&&0===+t&&(x=!1),p=(x?"("===h?h:"-":"-"===h||"("===h?"":h)+p,_=_+("s"===y?uv[8+Uy/3]:"")+(x&&"("===h?")":""),b)for(e=-1,i=t.length;++e<i;)if(s=t.charCodeAt(e),48>s||s>57){_=(46===s?r+t.slice(e+1):t.slice(e))+_,t=t.slice(0,e);break}}f&&!l&&(t=o(t,1/0));var w=p.length+t.length+_.length,P=w<c?new Array(c-w+1).join(n):"";switch(f&&l&&(t=o(P+t,P.length?c-_.length:1/0),P=""),u){case"<":t=p+t+_+P;break;case"=":t=p+P+t+_;break;case"^":t=P.slice(0,w=P.length>>1)+p+t+_+P.slice(w);break;default:t=P+p+t+_}return a(t)}t=vo(t);var n=t.fill,u=t.align,h=t.sign,p=t.symbol,l=t.zero,c=t.width,f=t.comma,d=t.precision,y=t.type,v="$"===p?i[0]:"#"===p&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",g="$"===p?i[1]:/[%p]/.test(y)?s:"",m=iv[y],b=!y||/[defgprs%]/.test(y);return d=null==d?y?6:12:/[gprs]/.test(y)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),e.toString=function(){return t+""},e}function n(t,n){var o=e((t=vo(t),t.type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Jy(n)/3))),r=Math.pow(10,-i),a=uv[8+i/3];return function(t){return o(r*t)+a}}var o=t.grouping&&t.thousands?Qy(t.grouping,t.thousands):sv,i=t.currency,r=t.decimal,a=t.numerals?tv(t.numerals):sv,s=t.percent||"%";return{format:e,formatPrefix:n}};mo({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var pv=function(t){return Math.max(0,-Jy(Math.abs(t)))},lv=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Jy(e)/3)))-Jy(Math.abs(t)))},cv=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Jy(e)-Jy(t))+1},fv=function(){return new bo};bo.prototype={constructor:bo,reset:function(){this.s=this.t=0},add:function(t){_o(Wv,t,this.t),_o(this,Wv.s,this.s),this.s?this.t+=Wv.t:this.s=Wv.t},valueOf:function(){return this.s}};var dv,yv,vv,gv,mv,bv,_v,xv,wv,Pv,Sv,Cv,Mv,Tv,Av,Ev,Iv,Lv,Nv,Ov,kv,Rv,Fv,Dv,jv,Kv,Bv,Xv,Uv,Yv,Gv,Wv=new bo,zv=1e-6,Hv=1e-12,qv=Math.PI,Vv=qv/2,$v=qv/4,Zv=2*qv,Jv=180/qv,Qv=qv/180,tg=Math.abs,eg=Math.atan,ng=Math.atan2,og=Math.cos,ig=Math.ceil,rg=Math.exp,ag=Math.log,sg=Math.pow,ug=Math.sin,hg=Math.sign||function(t){return t>0?1:t<0?-1:0},pg=Math.sqrt,lg=Math.tan,cg={Feature:function(t,e){Co(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,o=-1,i=n.length;++o<i;)Co(n[o].geometry,e)}},fg={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,o=-1,i=n.length;++o<i;)t=n[o],e.point(t[0],t[1],t[2])},LineString:function(t,e){Mo(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,o=-1,i=n.length;++o<i;)Mo(n[o],e,0)},Polygon:function(t,e){To(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,o=-1,i=n.length;++o<i;)To(n[o],e)},GeometryCollection:function(t,e){for(var n=t.geometries,o=-1,i=n.length;++o<i;)Co(n[o],e)}},dg=function(t,e){t&&cg.hasOwnProperty(t.type)?cg[t.type](t,e):Co(t,e)},yg=fv(),vg=fv(),gg={point:So,lineStart:So,lineEnd:So,polygonStart:function(){yg.reset(),gg.lineStart=Ao,gg.lineEnd=Eo},polygonEnd:function(){var t=+yg;vg.add(t<0?Zv+t:t),this.lineStart=this.lineEnd=this.point=So},sphere:function(){vg.add(Zv)}},mg=function(t){return vg.reset(),dg(t,gg),2*vg},bg=fv(),_g={point:Ko,lineStart:Xo,lineEnd:Uo,polygonStart:function(){_g.point=Yo,_g.lineStart=Go,_g.lineEnd=Wo,bg.reset(),gg.polygonStart()},polygonEnd:function(){gg.polygonEnd(),_g.point=Ko,_g.lineStart=Xo,_g.lineEnd=Uo,yg<0?(bv=-(xv=180),_v=-(wv=90)):bg>zv?wv=90:bg<-zv&&(_v=-90),Av[0]=bv,Av[1]=xv}},xg=function(t){var e,n,o,i,r,a,s;if(wv=xv=-(bv=_v=1/0),Tv=[],dg(t,_g),n=Tv.length){for(Tv.sort(Ho),e=1,o=Tv[0],r=[o];e<n;++e)i=Tv[e],qo(o,i[0])||qo(o,i[1])?(zo(o[0],i[1])>zo(o[0],o[1])&&(o[1]=i[1]),zo(i[0],o[1])>zo(o[0],o[1])&&(o[0]=i[0])):r.push(o=i);for(a=-(1/0),n=r.length-1,e=0,o=r[n];e<=n;o=i,++e)i=r[e],(s=zo(o[1],i[0]))>a&&(a=s,bv=i[0],xv=o[1])}return Tv=Av=null,bv===1/0||_v===1/0?[[NaN,NaN],[NaN,NaN]]:[[bv,_v],[xv,wv]]},wg={sphere:So,point:Vo,lineStart:Zo,lineEnd:ti,polygonStart:function(){wg.lineStart=ei,wg.lineEnd=ni},polygonEnd:function(){wg.lineStart=Zo,wg.lineEnd=ti}},Pg=function(t){Ev=Iv=Lv=Nv=Ov=kv=Rv=Fv=Dv=jv=Kv=0,dg(t,wg);var e=Dv,n=jv,o=Kv,i=e*e+n*n+o*o;return i<Hv&&(e=kv,n=Rv,o=Fv,Iv<zv&&(e=Lv,n=Nv,o=Ov),i=e*e+n*n+o*o,i<Hv)?[NaN,NaN]:[ng(n,e)*Jv,wo(o/pg(i))*Jv]},Sg=function(t){return function(){return t}},Cg=function(t,e){function n(n,o){return n=t(n,o),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,o){return n=e.invert(n,o),n&&t.invert(n[0],n[1])}),n};ri.invert=ri;var Mg,Tg,Ag,Eg,Ig,Lg,Ng,Og,kg,Rg,Fg,Dg=function(t){function e(e){return e=t(e[0]*Qv,e[1]*Qv),e[0]*=Jv,e[1]*=Jv,e}return t=ai(t[0]*Qv,t[1]*Qv,t.length>2?t[2]*Qv:0),e.invert=function(e){return e=t.invert(e[0]*Qv,e[1]*Qv),e[0]*=Jv,e[1]*=Jv,e},e},jg=function(){function t(t,e){n.push(t=o(t,e)),t[0]*=Jv,t[1]*=Jv}function e(){var t=i.apply(this,arguments),e=r.apply(this,arguments)*Qv,u=a.apply(this,arguments)*Qv;return n=[],o=ai(-t[0]*Qv,-t[1]*Qv,0).invert,pi(s,e,u,1),t={type:"Polygon",coordinates:[n]},n=o=null,t}var n,o,i=Sg([0,0]),r=Sg(90),a=Sg(6),s={point:t};return e.center=function(t){return arguments.length?(i="function"==typeof t?t:Sg([+t[0],+t[1]]),e):i},e.radius=function(t){return arguments.length?(r="function"==typeof t?t:Sg(+t),e):r},e.precision=function(t){return arguments.length?(a="function"==typeof t?t:Sg(+t),e):a},e},Kg=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:So,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},Bg=function(t,e,n,o,i,r){var a,s=t[0],u=t[1],h=e[0],p=e[1],l=0,c=1,f=h-s,d=p-u;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>l&&(l=a)}if(a=i-s,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<c&&(c=a)}if(a=o-u,d||!(a>0)){if(a/=d,d<0){if(a<l)return;a<c&&(c=a)}else if(d>0){if(a>c)return;a>l&&(l=a)}if(a=r-u,d||!(a<0)){if(a/=d,d<0){if(a>c)return;a>l&&(l=a)}else if(d>0){if(a<l)return;a<c&&(c=a)}return l>0&&(t[0]=s+l*f,t[1]=u+l*d),c<1&&(e[0]=s+c*f,e[1]=u+c*d),!0}}}}},Xg=function(t,e){return tg(t[0]-e[0])<zv&&tg(t[1]-e[1])<zv},Ug=function(t,e,n,o,i){var r,a,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,o=t[0],a=t[e];if(Xg(o,a)){for(i.lineStart(),r=0;r<e;++r)i.point((o=t[r])[0],o[1]);return void i.lineEnd()}s.push(n=new ci(o,t,null,!0)),u.push(n.o=new ci(o,null,n,!1)),s.push(n=new ci(a,t,null,!1)),u.push(n.o=new ci(a,null,n,!0))}}),s.length){for(u.sort(e),fi(s),fi(u),r=0,a=u.length;r<a;++r)u[r].e=n=!n;for(var h,p,l=s[0];;){for(var c=l,f=!0;c.v;)if((c=c.n)===l)return;h=c.z,i.lineStart();do{if(c.v=c.o.v=!0,c.e){if(f)for(r=0,a=h.length;r<a;++r)i.point((p=h[r])[0],p[1]);else o(c.x,c.n.x,1,i);c=c.n}else{if(f)for(h=c.p.z,r=h.length-1;r>=0;--r)i.point((p=h[r])[0],p[1]);else o(c.x,c.p.x,-1,i);c=c.p}c=c.o,h=c.z,f=!f}while(!c.v);i.lineEnd()}}},Yg=1e9,Gg=-Yg,Wg=function(){var t,e,n,o=0,i=0,r=960,a=500;return n={stream:function(n){return t&&e===n?t:t=di(o,i,r,a)(e=n)},extent:function(s){return arguments.length?(o=+s[0][0],i=+s[0][1],r=+s[1][0],a=+s[1][1],t=e=null,n):[[o,i],[r,a]]}}},zg=fv(),Hg=function(t,e){var n=e[0],o=e[1],i=[ug(n),-og(n),0],r=0,a=0;zg.reset();for(var s=0,u=t.length;s<u;++s)if(p=(h=t[s]).length)for(var h,p,l=h[p-1],c=l[0],f=l[1]/2+$v,d=ug(f),y=og(f),v=0;v<p;++v,c=m,d=_,y=x,l=g){var g=h[v],m=g[0],b=g[1]/2+$v,_=ug(b),x=og(b),w=m-c,P=w>=0?1:-1,S=P*w,C=S>qv,M=d*_;if(zg.add(ng(M*P*ug(S),y*x+M*og(S))),r+=C?w+P*Zv:w,C^c>=n^m>=n){var T=Ro(Oo(l),Oo(g));jo(T);var A=Ro(i,T);jo(A);var E=(C^w>=0?-1:1)*wo(A[2]);(o>E||o===E&&(T[0]||T[1]))&&(a+=C^w>=0?1:-1)}}return(r<-zv||r<zv&&zg<-zv)^1&a},qg=fv(),Vg={sphere:So,point:So,lineStart:yi,lineEnd:So,polygonStart:So,polygonEnd:So},$g=function(t){return qg.reset(),dg(t,Vg),+qg},Zg=[null,null],Jg={type:"LineString",coordinates:Zg},Qg=function(t,e){return Zg[0]=t,Zg[1]=e,$g(Jg)},tm={Feature:function(t,e){return bi(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,o=-1,i=n.length;++o<i;)if(bi(n[o].geometry,e))return!0;return!1}},em={Sphere:function(){return!0},Point:function(t,e){return _i(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,o=-1,i=n.length;++o<i;)if(_i(n[o],e))return!0;return!1},LineString:function(t,e){return xi(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,o=-1,i=n.length;++o<i;)if(xi(n[o],e))return!0;return!1},Polygon:function(t,e){return wi(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,o=-1,i=n.length;++o<i;)if(wi(n[o],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,o=-1,i=n.length;++o<i;)if(bi(n[o],e))return!0;return!1}},nm=function(t,e){return(t&&tm.hasOwnProperty(t.type)?tm[t.type]:bi)(t,e)},om=function(t,e){var n=t[0]*Qv,o=t[1]*Qv,i=e[0]*Qv,r=e[1]*Qv,a=og(o),s=ug(o),u=og(r),h=ug(r),p=a*og(n),l=a*ug(n),c=u*og(i),f=u*ug(i),d=2*wo(pg(Po(r-o)+a*u*Po(i-n))),y=ug(d),v=d?function(t){var e=ug(t*=d)/y,n=ug(d-t)/y,o=n*p+e*c,i=n*l+e*f,r=n*s+e*h;return[ng(i,o)*Jv,ng(r,pg(o*o+i*i))*Jv]}:function(){return[n*Jv,o*Jv]};return v.distance=d,v},im=function(t){return t},rm=fv(),am=fv(),sm={point:So,lineStart:So,lineEnd:So,polygonStart:function(){sm.lineStart=Ei,sm.lineEnd=Ni},polygonEnd:function(){sm.lineStart=sm.lineEnd=sm.point=So,rm.add(tg(am)),am.reset()},result:function(){var t=rm/2;return rm.reset(),t}},um=1/0,hm=um,pm=-um,lm=pm,cm={point:Oi,lineStart:So,lineEnd:So,polygonStart:So,polygonEnd:So,result:function(){var t=[[um,hm],[pm,lm]];return pm=lm=-(hm=um=1/0),t}},fm=0,dm=0,ym=0,vm=0,gm=0,mm=0,bm=0,_m=0,xm=0,wm={point:ki,lineStart:Ri,lineEnd:ji,polygonStart:function(){wm.lineStart=Ki,wm.lineEnd=Bi},polygonEnd:function(){wm.point=ki,wm.lineStart=Ri,wm.lineEnd=ji},result:function(){var t=xm?[bm/xm,_m/xm]:mm?[vm/mm,gm/mm]:ym?[fm/ym,dm/ym]:[NaN,NaN];return fm=dm=ym=vm=gm=mm=bm=_m=xm=0,t}};Yi.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Zv)}},result:So};var Pm,Sm,Cm,Mm,Tm,Am=fv(),Em={point:So,lineStart:function(){Em.point=Gi},lineEnd:function(){Pm&&Wi(Sm,Cm),Em.point=So},polygonStart:function(){Pm=!0},polygonEnd:function(){Pm=null},result:function(){var t=+Am;return Am.reset(),t}};zi.prototype={_radius:4.5,_circle:Hi(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Hi(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var Im=function(t,e){function n(t){return t&&("function"==typeof r&&i.pointRadius(+r.apply(this,arguments)),dg(t,o(i))),i.result()}var o,i,r=4.5;return n.area=function(t){return dg(t,o(sm)),
sm.result()},n.measure=function(t){return dg(t,o(Em)),Em.result()},n.bounds=function(t){return dg(t,o(cm)),cm.result()},n.centroid=function(t){return dg(t,o(wm)),wm.result()},n.projection=function(e){return arguments.length?(o=null==e?(t=null,im):(t=e).stream,n):t},n.context=function(t){return arguments.length?(i=null==t?(e=null,new zi):new Yi(e=t),"function"!=typeof r&&i.pointRadius(r),n):e},n.pointRadius=function(t){return arguments.length?(r="function"==typeof t?t:(i.pointRadius(+t),+t),n):r},n.projection(t).context(e)},Lm=function(t,e,n,o){return function(i,r){function a(e,n){var o=i(e,n);t(e=o[0],n=o[1])&&r.point(e,n)}function s(t,e){var n=i(t,e);v.point(n[0],n[1])}function u(){x.point=s,v.lineStart()}function h(){x.point=a,v.lineEnd()}function p(t,e){y.push([t,e]);var n=i(t,e);b.point(n[0],n[1])}function l(){b.lineStart(),y=[]}function c(){p(y[0][0],y[0][1]),b.lineEnd();var t,e,n,o,i=b.clean(),a=m.result(),s=a.length;if(y.pop(),f.push(y),y=null,s)if(1&i){if(n=a[0],(e=n.length-1)>0){for(_||(r.polygonStart(),_=!0),r.lineStart(),t=0;t<e;++t)r.point((o=n[t])[0],o[1]);r.lineEnd()}}else s>1&&2&i&&a.push(a.pop().concat(a.shift())),d.push(a.filter(qi))}var f,d,y,v=e(r),g=i.invert(o[0],o[1]),m=Kg(),b=e(m),_=!1,x={point:a,lineStart:u,lineEnd:h,polygonStart:function(){x.point=p,x.lineStart=l,x.lineEnd=c,d=[],f=[]},polygonEnd:function(){x.point=a,x.lineStart=u,x.lineEnd=h,d=Ap(d);var t=Hg(f,g);d.length?(_||(r.polygonStart(),_=!0),Ug(d,Vi,t,n,r)):t&&(_||(r.polygonStart(),_=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),_&&(r.polygonEnd(),_=!1),d=f=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};return x}},Nm=Lm(function(){return!0},$i,Ji,[-qv,-Vv]),Om=function(t,e){function n(n,o,i,r){pi(r,t,e,i,n,o)}function o(t,e){return og(t)*og(e)>s}function i(t){var e,n,i,s,p;return{lineStart:function(){s=i=!1,p=1},point:function(l,c){var f,d=[l,c],y=o(l,c),v=u?y?0:a(l,c):y?a(l+(l<0?qv:-qv),c):0;if(!e&&(s=i=y)&&t.lineStart(),y!==i&&(f=r(e,d),(!f||Xg(e,f)||Xg(d,f))&&(d[0]+=zv,d[1]+=zv,y=o(d[0],d[1]))),y!==i)p=0,y?(t.lineStart(),f=r(d,e),t.point(f[0],f[1])):(f=r(e,d),t.point(f[0],f[1]),t.lineEnd()),e=f;else if(h&&e&&u^y){var g;v&n||!(g=r(d,e,!0))||(p=0,u?(t.lineStart(),t.point(g[0][0],g[0][1]),t.point(g[1][0],g[1][1]),t.lineEnd()):(t.point(g[1][0],g[1][1]),t.lineEnd(),t.lineStart(),t.point(g[0][0],g[0][1])))}!y||e&&Xg(e,d)||t.point(d[0],d[1]),e=d,i=y,n=v},lineEnd:function(){i&&t.lineEnd(),e=null},clean:function(){return p|(s&&i)<<1}}}function r(t,e,n){var o=Oo(t),i=Oo(e),r=[1,0,0],a=Ro(o,i),u=ko(a,a),h=a[0],p=u-h*h;if(!p)return!n&&t;var l=s*u/p,c=-s*h/p,f=Ro(r,a),d=Do(r,l),y=Do(a,c);Fo(d,y);var v=f,g=ko(d,v),m=ko(v,v),b=g*g-m*(ko(d,d)-1);if(!(b<0)){var _=pg(b),x=Do(v,(-g-_)/m);if(Fo(x,d),x=No(x),!n)return x;var w,P=t[0],S=e[0],C=t[1],M=e[1];S<P&&(w=P,P=S,S=w);var T=S-P,A=tg(T-qv)<zv,E=A||T<zv;if(!A&&M<C&&(w=C,C=M,M=w),E?A?C+M>0^x[1]<(tg(x[0]-P)<zv?C:M):C<=x[1]&&x[1]<=M:T>qv^(P<=x[0]&&x[0]<=S)){var I=Do(v,(-g+_)/m);return Fo(I,d),[x,No(I)]}}}function a(e,n){var o=u?t:qv-t,i=0;return e<-o?i|=1:e>o&&(i|=2),n<-o?i|=4:n>o&&(i|=8),i}var s=og(t),u=s>0,h=tg(s)>zv;return Lm(o,i,n,u?[0,-t]:[-qv,t-qv])},km=function(t){return{stream:Qi(t)}};tr.prototype={constructor:tr,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Rm=16,Fm=og(30*Qv),Dm=function(t,e){return+e?ir(t,e):or(t)},jm=Qi({point:function(t,e){this.stream.point(t*Qv,e*Qv)}}),Km=function(){return sr(hr).scale(155.424).center([0,33.6442])},Bm=function(){return Km().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},Xm=function(){function t(t){var e=t[0],n=t[1];return s=null,i.point(e,n),s||(r.point(e,n),s)||(a.point(e,n),s)}function e(){return n=o=null,t}var n,o,i,r,a,s,u=Bm(),h=Km().rotate([154,0]).center([-2,58.5]).parallels([55,65]),p=Km().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,e){s=[t,e]}};return t.invert=function(t){var e=u.scale(),n=u.translate(),o=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&o>=-.425&&o<-.214?h:i>=.166&&i<.234&&o>=-.214&&o<-.115?p:u).invert(t)},t.stream=function(t){return n&&o===t?n:n=pr([u.stream(o=t),h.stream(t),p.stream(t)])},t.precision=function(t){return arguments.length?(u.precision(t),h.precision(t),p.precision(t),e()):u.precision()},t.scale=function(e){return arguments.length?(u.scale(e),h.scale(.35*e),p.scale(e),t.translate(u.translate())):u.scale()},t.translate=function(t){if(!arguments.length)return u.translate();var n=u.scale(),o=+t[0],s=+t[1];return i=u.translate(t).clipExtent([[o-.455*n,s-.238*n],[o+.455*n,s+.238*n]]).stream(l),r=h.translate([o-.307*n,s+.201*n]).clipExtent([[o-.425*n+zv,s+.12*n+zv],[o-.214*n-zv,s+.234*n-zv]]).stream(l),a=p.translate([o-.205*n,s+.212*n]).clipExtent([[o-.214*n+zv,s+.166*n+zv],[o-.115*n-zv,s+.234*n-zv]]).stream(l),e()},t.fitExtent=function(e,n){return er(t,e,n)},t.fitSize=function(e,n){return nr(t,e,n)},t.scale(1070)},Um=lr(function(t){return pg(2/(1+t))});Um.invert=cr(function(t){return 2*wo(t/2)});var Ym=function(){return rr(Um).scale(124.75).clipAngle(179.999)},Gm=lr(function(t){return(t=xo(t))&&t/ug(t)});Gm.invert=cr(function(t){return t});var Wm=function(){return rr(Gm).scale(79.4188).clipAngle(179.999)};fr.invert=function(t,e){return[t,2*eg(rg(e))-Vv]};var zm=function(){return dr(fr).scale(961/Zv)},Hm=function(){return sr(vr).scale(109.5).parallels([30,30])};gr.invert=gr;var qm=function(){return rr(gr).scale(152.63)},Vm=function(){return sr(mr).scale(131.154).center([0,13.9389])};br.invert=cr(eg);var $m=function(){return rr(br).scale(144.049).clipAngle(60)},Zm=function(){function t(){return i=r=null,a}var e,n,o,i,r,a,s=1,u=0,h=0,p=1,l=1,c=im,f=null,d=im;return a={stream:function(t){return i&&r===t?i:i=c(d(r=t))},clipExtent:function(i){return arguments.length?(d=null==i?(f=e=n=o=null,im):di(f=+i[0][0],e=+i[0][1],n=+i[1][0],o=+i[1][1]),t()):null==f?null:[[f,e],[n,o]]},scale:function(e){return arguments.length?(c=_r((s=+e)*p,s*l,u,h),t()):s},translate:function(e){return arguments.length?(c=_r(s*p,s*l,u=+e[0],h=+e[1]),t()):[u,h]},reflectX:function(e){return arguments.length?(c=_r(s*(p=e?-1:1),s*l,u,h),t()):p<0},reflectY:function(e){return arguments.length?(c=_r(s*p,s*(l=e?-1:1),u,h),t()):l<0},fitExtent:function(t,e){return er(a,t,e)},fitSize:function(t,e){return nr(a,t,e)}}};xr.invert=cr(wo);var Jm=function(){return rr(xr).scale(249.5).clipAngle(90+zv)};wr.invert=cr(function(t){return 2*eg(t)});var Qm=function(){return rr(wr).scale(250).clipAngle(142)};Pr.invert=function(t,e){return[-e,2*eg(rg(t))-Vv]};var tb=function(){var t=dr(Pr),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)},eb=function(){function t(t){var r,a=0;t.eachAfter(function(t){var n=t.children;n?(t.x=Cr(n),t.y=Tr(n)):(t.x=r?a+=e(t,r):0,t.y=0,r=t)});var s=Er(t),u=Ir(t),h=s.x-e(s,u)/2,p=u.x+e(u,s)/2;return t.eachAfter(i?function(e){e.x=(e.x-t.x)*n,e.y=(t.y-e.y)*o}:function(e){e.x=(e.x-h)/(p-h)*n,e.y=(1-(t.y?e.y/t.y:1))*o})}var e=Sr,n=1,o=1,i=!1;return t.separation=function(n){return arguments.length?(e=n,t):e},t.size=function(e){return arguments.length?(i=!1,n=+e[0],o=+e[1],t):i?null:[n,o]},t.nodeSize=function(e){return arguments.length?(i=!0,n=+e[0],o=+e[1],t):i?[n,o]:null},t},nb=function(){return this.eachAfter(Lr)},ob=function(t){var e,n,o,i,r=this,a=[r];do for(e=a.reverse(),a=[];r=e.pop();)if(t(r),n=r.children)for(o=0,i=n.length;o<i;++o)a.push(n[o]);while(a.length);return this},ib=function(t){for(var e,n,o=this,i=[o];o=i.pop();)if(t(o),e=o.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},rb=function(t){for(var e,n,o,i=this,r=[i],a=[];i=r.pop();)if(a.push(i),e=i.children)for(n=0,o=e.length;n<o;++n)r.push(e[n]);for(;i=a.pop();)t(i);return this},ab=function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,o=e.children,i=o&&o.length;--i>=0;)n+=o[i].value;e.value=n})},sb=function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},ub=function(t){for(var e=this,n=Nr(e,t),o=[e];e!==n;)e=e.parent,o.push(e);for(var i=o.length;t!==n;)o.splice(i,0,t),t=t.parent;return o},hb=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},pb=function(){var t=[];return this.each(function(e){t.push(e)}),t},lb=function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},cb=function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e};jr.prototype=Or.prototype={constructor:jr,count:nb,each:ob,eachAfter:rb,eachBefore:ib,sum:ab,sort:sb,path:ub,ancestors:hb,descendants:pb,leaves:lb,links:cb,copy:kr};var fb=Array.prototype.slice,db=function(t){for(var e,n,o=0,i=(t=Kr(fb.call(t))).length,r=[];o<i;)e=t[o],n&&Ur(n,e)?++o:(n=Gr(r=Br(r,e)),o=0);return n},yb=function(t){return Jr(t),t},vb=function(t){return function(){return t}},gb=function(){function t(t){return t.x=n/2,t.y=o/2,e?t.eachBefore(oa(e)).eachAfter(ia(i,.5)).eachBefore(ra(1)):t.eachBefore(oa(na)).eachAfter(ia(ea,1)).eachAfter(ia(i,t.r/Math.min(n,o))).eachBefore(ra(Math.min(n,o)/(2*t.r))),t}var e=null,n=1,o=1,i=ea;return t.radius=function(n){return arguments.length?(e=Qr(n),t):e},t.size=function(e){return arguments.length?(n=+e[0],o=+e[1],t):[n,o]},t.padding=function(e){return arguments.length?(i="function"==typeof e?e:vb(+e),t):i},t},mb=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},bb=function(t,e,n,o,i){for(var r,a=t.children,s=-1,u=a.length,h=t.value&&(o-e)/t.value;++s<u;)r=a[s],r.y0=n,r.y1=i,r.x0=e,r.x1=e+=r.value*h},_b=function(){function t(t){var a=t.height+1;return t.x0=t.y0=i,t.x1=n,t.y1=o/a,t.eachBefore(e(o,a)),r&&t.eachBefore(mb),t}function e(t,e){return function(n){n.children&&bb(n,n.x0,t*(n.depth+1)/e,n.x1,t*(n.depth+2)/e);var o=n.x0,r=n.y0,a=n.x1-i,s=n.y1-i;a<o&&(o=a=(o+a)/2),s<r&&(r=s=(r+s)/2),n.x0=o,n.y0=r,n.x1=a,n.y1=s}}var n=1,o=1,i=0,r=!1;return t.round=function(e){return arguments.length?(r=!!e,t):r},t.size=function(e){return arguments.length?(n=+e[0],o=+e[1],t):[n,o]},t.padding=function(e){return arguments.length?(i=+e,t):i},t},xb="$",wb={depth:-1},Pb={},Sb=function(){function t(t){var o,i,r,a,s,u,h,p=t.length,l=new Array(p),c={};for(i=0;i<p;++i)o=t[i],s=l[i]=new jr(o),null!=(u=e(o,i,t))&&(u+="")&&(h=xb+(s.id=u),c[h]=h in c?Pb:s);for(i=0;i<p;++i)if(s=l[i],u=n(t[i],i,t),null!=u&&(u+="")){if(a=c[xb+u],!a)throw new Error("missing: "+u);if(a===Pb)throw new Error("ambiguous: "+u);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(r)throw new Error("multiple roots");r=s}if(!r)throw new Error("no root");if(r.parent=wb,r.eachBefore(function(t){t.depth=t.parent.depth+1,--p}).eachBefore(Dr),r.parent=null,p>0)throw new Error("cycle");return r}var e=aa,n=sa;return t.id=function(n){return arguments.length?(e=ta(n),t):e},t.parentId=function(e){return arguments.length?(n=ta(e),t):n},t};da.prototype=Object.create(jr.prototype);var Cb=function(){function t(t){var o=ya(t);if(o.eachAfter(e),o.parent.m=-o.z,o.eachBefore(n),u)t.eachBefore(i);else{var h=t,p=t,l=t;t.eachBefore(function(t){t.x<h.x&&(h=t),t.x>p.x&&(p=t),t.depth>l.depth&&(l=t)});var c=h===p?1:r(h,p)/2,f=c-h.x,d=a/(p.x+c+f),y=s/(l.depth||1);t.eachBefore(function(t){t.x=(t.x+f)*d,t.y=t.depth*y})}return t}function e(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e){ca(t);var a=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+r(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+r(t._,i._));t.parent.A=o(t,i,t.parent.A||n[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function o(t,e,n){if(e){for(var o,i=t,a=t,s=e,u=i.parent.children[0],h=i.m,p=a.m,l=s.m,c=u.m;s=pa(s),i=ha(i),s&&i;)u=ha(u),a=pa(a),a.a=t,o=s.z+l-i.z-h+r(s._,i._),o>0&&(la(fa(s,t,n),t,o),h+=o,p+=o),l+=s.m,h+=i.m,c+=u.m,p+=a.m;s&&!pa(a)&&(a.t=s,a.m+=l-p),i&&!ha(u)&&(u.t=i,u.m+=h-c,n=t)}return n}function i(t){t.x*=a,t.y=t.depth*s}var r=ua,a=1,s=1,u=null;return t.separation=function(e){return arguments.length?(r=e,t):r},t.size=function(e){return arguments.length?(u=!1,a=+e[0],s=+e[1],t):u?null:[a,s]},t.nodeSize=function(e){return arguments.length?(u=!0,a=+e[0],s=+e[1],t):u?[a,s]:null},t},Mb=function(t,e,n,o,i){for(var r,a=t.children,s=-1,u=a.length,h=t.value&&(i-n)/t.value;++s<u;)r=a[s],r.x0=e,r.x1=o,r.y0=n,r.y1=n+=r.value*h},Tb=(1+Math.sqrt(5))/2,Ab=function t(e){function n(t,n,o,i,r){va(e,t,n,o,i,r)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Tb),Eb=function(){function t(t){return t.x0=t.y0=0,t.x1=i,t.y1=r,t.eachBefore(e),a=[0],o&&t.eachBefore(mb),t}function e(t){var e=a[t.depth],o=t.x0+e,i=t.y0+e,r=t.x1-e,c=t.y1-e;r<o&&(o=r=(o+r)/2),c<i&&(i=c=(i+c)/2),t.x0=o,t.y0=i,t.x1=r,t.y1=c,t.children&&(e=a[t.depth+1]=s(t)/2,o+=l(t)-e,i+=u(t)-e,r-=h(t)-e,c-=p(t)-e,r<o&&(o=r=(o+r)/2),c<i&&(i=c=(i+c)/2),n(t,o,i,r,c))}var n=Ab,o=!1,i=1,r=1,a=[0],s=ea,u=ea,h=ea,p=ea,l=ea;return t.round=function(e){return arguments.length?(o=!!e,t):o},t.size=function(e){return arguments.length?(i=+e[0],r=+e[1],t):[i,r]},t.tile=function(e){return arguments.length?(n=ta(e),t):n},t.padding=function(e){return arguments.length?t.paddingInner(e).paddingOuter(e):t.paddingInner()},t.paddingInner=function(e){return arguments.length?(s="function"==typeof e?e:vb(+e),t):s},t.paddingOuter=function(e){return arguments.length?t.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):t.paddingTop()},t.paddingTop=function(e){return arguments.length?(u="function"==typeof e?e:vb(+e),t):u},t.paddingRight=function(e){return arguments.length?(h="function"==typeof e?e:vb(+e),t):h},t.paddingBottom=function(e){return arguments.length?(p="function"==typeof e?e:vb(+e),t):p},t.paddingLeft=function(e){return arguments.length?(l="function"==typeof e?e:vb(+e),t):l},t},Ib=function(t,e,n,o,i){function r(t,e,n,o,i,a,s){if(t>=e-1){var h=u[t];return h.x0=o,h.y0=i,h.x1=a,h.y1=s,void 0}for(var l=p[t],c=n/2+l,f=t+1,d=e-1;f<d;){var y=f+d>>>1;p[y]<c?f=y+1:d=y}c-p[f-1]<p[f]-c&&t+1<f&&--f;var v=p[f]-l,g=n-v;if(a-o>s-i){var m=(o*g+a*v)/n;r(t,f,v,o,i,m,s),r(f,e,g,m,i,a,s)}else{var b=(i*g+s*v)/n;r(t,f,v,o,i,a,b),r(f,e,g,o,b,a,s)}}var a,s,u=t.children,h=u.length,p=new Array(h+1);for(p[0]=s=a=0;a<h;++a)p[a+1]=s+=u[a].value;r(0,h,t.value,e,n,o,i)},Lb=function(t,e,n,o,i){(1&t.depth?Mb:bb)(t,e,n,o,i)},Nb=function t(e){function n(t,n,o,i,r){if((a=t._squarify)&&a.ratio===e)for(var a,s,u,h,p,l=-1,c=a.length,f=t.value;++l<c;){for(s=a[l],u=s.children,h=s.value=0,p=u.length;h<p;++h)s.value+=u[h].value;s.dice?bb(s,n,o,i,o+=(r-o)*s.value/f):Mb(s,n,o,n+=(i-n)*s.value/f,r),f-=s.value}else t._squarify=a=va(e,t,n,o,i,r),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Tb),Ob=function(t){for(var e,n=-1,o=t.length,i=t[o-1],r=0;++n<o;)e=i,i=t[n],r+=e[1]*i[0]-e[0]*i[1];return r/2},kb=function(t){for(var e,n,o=-1,i=t.length,r=0,a=0,s=t[i-1],u=0;++o<i;)e=s,s=t[o],u+=n=e[0]*s[1]-s[0]*e[1],r+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return u*=3,[r/u,a/u]},Rb=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])},Fb=function(t){if((n=t.length)<3)return null;var e,n,o=new Array(n),i=new Array(n);for(e=0;e<n;++e)o[e]=[+t[e][0],+t[e][1],e];for(o.sort(ga),e=0;e<n;++e)i[e]=[o[e][0],-o[e][1]];var r=ma(o),a=ma(i),s=a[0]===r[0],u=a[a.length-1]===r[r.length-1],h=[];for(e=r.length-1;e>=0;--e)h.push(t[o[r[e]][2]]);for(e=+s;e<a.length-u;++e)h.push(t[o[a[e]][2]]);return h},Db=function(t,e){for(var n,o,i=t.length,r=t[i-1],a=e[0],s=e[1],u=r[0],h=r[1],p=!1,l=0;l<i;++l)r=t[l],n=r[0],o=r[1],o>s!=h>s&&a<(u-n)*(s-o)/(h-o)+n&&(p=!p),u=n,h=o;return p},jb=function(t){for(var e,n,o=-1,i=t.length,r=t[i-1],a=r[0],s=r[1],u=0;++o<i;)e=a,n=s,r=t[o],a=r[0],s=r[1],e-=a,n-=s,u+=Math.sqrt(e*e+n*n);return u},Kb=[].slice,Bb={};ba.prototype=Ca.prototype={constructor:ba,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var e=Kb.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),_a(this),this},abort:function(){return null==this._error&&Pa(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(e,n){t.apply(null,[e].concat(n))},Sa(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,Sa(this),this}};var Xb=function(){return Math.random()},Ub=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(Xb),Yb=function t(e){function n(t,n){var o,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var r;if(null!=o)r=o,o=null;else do o=2*e()-1,r=2*e()-1,i=o*o+r*r;while(!i||i>1);return t+n*r*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(Xb),Gb=function t(e){function n(){var t=Yb.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(Xb),Wb=function t(e){function n(t){return function(){for(var n=0,o=0;o<t;++o)n+=e();return n}}return n.source=t,n}(Xb),zb=function t(e){function n(t){var n=Wb.source(e)(t);return function(){return n()/t}}return n.source=t,n}(Xb),Hb=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(Xb),qb=function(t,e){function n(t){var e,n=h.status;if(!n&&Ta(h)||n>=200&&n<300||304===n){if(r)try{e=r.call(o,h)}catch(t){return void s.call("error",o,t)}else e=h;s.call("load",o,e)}else s.call("error",o,t)}var o,i,r,a,s=v("beforesend","progress","load","error"),u=Wn(),h=new XMLHttpRequest,p=null,l=null,c=0;if("undefined"==typeof XDomainRequest||"withCredentials"in h||!/^(http(s)?:)?\/\//.test(t)||(h=new XDomainRequest),"onload"in h?h.onload=h.onerror=h.ontimeout=n:h.onreadystatechange=function(t){h.readyState>3&&n(t)},h.onprogress=function(t){s.call("progress",o,t)},o={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?u.get(t):(null==e?u.remove(t):u.set(t,e+""),o)},mimeType:function(t){return arguments.length?(i=null==t?null:t+"",o):i},responseType:function(t){return arguments.length?(a=t,o):a},timeout:function(t){return arguments.length?(c=+t,o):c},user:function(t){return arguments.length<1?p:(p=null==t?null:t+"",o)},password:function(t){return arguments.length<1?l:(l=null==t?null:t+"",o)},response:function(t){return r=t,o},get:function(t,e){return o.send("GET",t,e)},post:function(t,e){return o.send("POST",t,e)},send:function(e,n,r){return h.open(e,t,!0,p,l),null==i||u.has("accept")||u.set("accept",i+",*/*"),h.setRequestHeader&&u.each(function(t,e){h.setRequestHeader(e,t)}),null!=i&&h.overrideMimeType&&h.overrideMimeType(i),null!=a&&(h.responseType=a),c>0&&(h.timeout=c),null==r&&"function"==typeof n&&(r=n,n=null),null!=r&&1===r.length&&(r=Ma(r)),null!=r&&o.on("error",r).on("load",function(t){r(null,t)}),s.call("beforesend",o,h),h.send(null==n?null:n),o},abort:function(){return h.abort(),o},on:function(){var t=s.on.apply(s,arguments);return t===s?o:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return o.get(e)}return o},Vb=function(t,e){return function(n,o){var i=qb(n).mimeType(t).response(e);if(null!=o){if("function"!=typeof o)throw new Error("invalid callback: "+o);return i.get(o)}return i}},$b=Vb("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),Zb=Vb("application/json",function(t){return JSON.parse(t.responseText)}),Jb=Vb("text/plain",function(t){return t.responseText}),Qb=Vb("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e}),t_=function(t,e){return function(n,o,i){arguments.length<3&&(i=o,o=null);var r=qb(n).mimeType(t);return r.row=function(t){return arguments.length?r.response(Aa(e,o=t)):o},r.row(o),i?r.get(i):r}},e_=t_("text/csv",vy),n_=t_("text/tab-separated-values",xy),o_=Array.prototype,i_=o_.map,r_=o_.slice,a_={name:"implicit"},s_=function(t){return function(){return t}},u_=function(t){return+t},h_=[0,1],p_=function(e,n,o){var r,a=e[0],s=e[e.length-1],u=i(a,s,null==n?10:n);switch(o=vo(null==o?",f":o),o.type){case"s":var h=Math.max(Math.abs(a),Math.abs(s));return null!=o.precision||isNaN(r=lv(u,h))||(o.precision=r),t.formatPrefix(o,h);case"":case"e":case"g":case"p":case"r":null!=o.precision||isNaN(r=cv(u,Math.max(Math.abs(a),Math.abs(s))))||(o.precision=r-("e"===o.type));break;case"f":case"%":null!=o.precision||isNaN(r=pv(u))||(o.precision=r-2*("%"===o.type))}return t.format(o)},l_=function(t,e){t=t.slice();var n,o=0,i=t.length-1,r=t[o],a=t[i];return a<r&&(n=o,o=i,i=n,n=r,r=a,a=n),t[o]=e.floor(r),t[i]=e.ceil(a),t},c_=new Date,f_=new Date,d_=ns(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});d_.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?ns(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):d_:null};var y_=d_.range,v_=1e3,g_=6e4,m_=36e5,b_=864e5,__=6048e5,x_=ns(function(t){t.setTime(Math.floor(t/v_)*v_)},function(t,e){t.setTime(+t+e*v_)},function(t,e){return(e-t)/v_},function(t){return t.getUTCSeconds()}),w_=x_.range,P_=ns(function(t){t.setTime(Math.floor(t/g_)*g_)},function(t,e){t.setTime(+t+e*g_)},function(t,e){return(e-t)/g_},function(t){return t.getMinutes()}),S_=P_.range,C_=ns(function(t){var e=t.getTimezoneOffset()*g_%m_;e<0&&(e+=m_),t.setTime(Math.floor((+t-e)/m_)*m_+e)},function(t,e){t.setTime(+t+e*m_)},function(t,e){return(e-t)/m_},function(t){return t.getHours()}),M_=C_.range,T_=ns(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*g_)/b_},function(t){return t.getDate()-1}),A_=T_.range,E_=os(0),I_=os(1),L_=os(2),N_=os(3),O_=os(4),k_=os(5),R_=os(6),F_=E_.range,D_=I_.range,j_=L_.range,K_=N_.range,B_=O_.range,X_=k_.range,U_=R_.range,Y_=ns(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),G_=Y_.range,W_=ns(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});W_.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ns(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var z_=W_.range,H_=ns(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*g_)},function(t,e){return(e-t)/g_},function(t){return t.getUTCMinutes()}),q_=H_.range,V_=ns(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*m_)},function(t,e){return(e-t)/m_},function(t){return t.getUTCHours()}),$_=V_.range,Z_=ns(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/b_},function(t){return t.getUTCDate()-1}),J_=Z_.range,Q_=is(0),tx=is(1),ex=is(2),nx=is(3),ox=is(4),ix=is(5),rx=is(6),ax=Q_.range,sx=tx.range,ux=ex.range,hx=nx.range,px=ox.range,lx=ix.range,cx=rx.range,fx=ns(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),dx=fx.range,yx=ns(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});yx.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ns(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var vx,gx=yx.range,mx={"-":"",_:" ",0:"0"},bx=/^\s*\d+/,_x=/^%/,xx=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;nu({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var wx="%Y-%m-%dT%H:%M:%S.%LZ",Px=Date.prototype.toISOString?ou:t.utcFormat(wx),Sx=+new Date("2000-01-01T00:00:00.000Z")?iu:t.utcParse(wx),Cx=1e3,Mx=60*Cx,Tx=60*Mx,Ax=24*Tx,Ex=7*Ax,Ix=30*Ax,Lx=365*Ax,Nx=function(){return su(W_,Y_,E_,T_,C_,P_,x_,d_,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},Ox=function(){return su(yx,fx,Q_,Z_,V_,H_,x_,d_,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},kx=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},Rx=kx("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Fx=kx("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Dx=kx("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),jx=kx("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Kx=pf($t(300,.5,0),$t(-240,.5,1)),Bx=pf($t(-100,.75,.35),$t(80,1.5,.8)),Xx=pf($t(260,.75,.35),$t(80,1.5,.8)),Ux=$t(),Yx=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Ux.h=360*t-100,Ux.s=1.5-1.5*e,Ux.l=.8-.9*e,Ux+""},Gx=uu(kx("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Wx=uu(kx("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),zx=uu(kx("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Hx=uu(kx("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),qx=function(t){
return function(){return t}},Vx=Math.abs,$x=Math.atan2,Zx=Math.cos,Jx=Math.max,Qx=Math.min,tw=Math.sin,ew=Math.sqrt,nw=1e-12,ow=Math.PI,iw=ow/2,rw=2*ow,aw=function(){function t(){var t,h,p=+e.apply(this,arguments),l=+n.apply(this,arguments),c=r.apply(this,arguments)-iw,f=a.apply(this,arguments)-iw,d=Vx(f-c),y=f>c;if(u||(u=t=jn()),l<p&&(h=l,l=p,p=h),l>nw)if(d>rw-nw)u.moveTo(l*Zx(c),l*tw(c)),u.arc(0,0,l,c,f,!y),p>nw&&(u.moveTo(p*Zx(f),p*tw(f)),u.arc(0,0,p,f,c,y));else{var v,g,m=c,b=f,_=c,x=f,w=d,P=d,S=s.apply(this,arguments)/2,C=S>nw&&(i?+i.apply(this,arguments):ew(p*p+l*l)),M=Qx(Vx(l-p)/2,+o.apply(this,arguments)),T=M,A=M;if(C>nw){var E=lu(C/p*tw(S)),I=lu(C/l*tw(S));(w-=2*E)>nw?(E*=y?1:-1,_+=E,x-=E):(w=0,_=x=(c+f)/2),(P-=2*I)>nw?(I*=y?1:-1,m+=I,b-=I):(P=0,m=b=(c+f)/2)}var L=l*Zx(m),N=l*tw(m),O=p*Zx(x),k=p*tw(x);if(M>nw){var R=l*Zx(b),F=l*tw(b),D=p*Zx(_),j=p*tw(_);if(d<ow){var K=w>nw?gu(L,N,D,j,R,F,O,k):[O,k],B=L-K[0],X=N-K[1],U=R-K[0],Y=F-K[1],G=1/tw(pu((B*U+X*Y)/(ew(B*B+X*X)*ew(U*U+Y*Y)))/2),W=ew(K[0]*K[0]+K[1]*K[1]);T=Qx(M,(p-W)/(G-1)),A=Qx(M,(l-W)/(G+1))}}P>nw?A>nw?(v=mu(D,j,L,N,l,A,y),g=mu(R,F,O,k,l,A,y),u.moveTo(v.cx+v.x01,v.cy+v.y01),A<M?u.arc(v.cx,v.cy,A,$x(v.y01,v.x01),$x(g.y01,g.x01),!y):(u.arc(v.cx,v.cy,A,$x(v.y01,v.x01),$x(v.y11,v.x11),!y),u.arc(0,0,l,$x(v.cy+v.y11,v.cx+v.x11),$x(g.cy+g.y11,g.cx+g.x11),!y),u.arc(g.cx,g.cy,A,$x(g.y11,g.x11),$x(g.y01,g.x01),!y))):(u.moveTo(L,N),u.arc(0,0,l,m,b,!y)):u.moveTo(L,N),p>nw&&w>nw?T>nw?(v=mu(O,k,R,F,p,-T,y),g=mu(L,N,D,j,p,-T,y),u.lineTo(v.cx+v.x01,v.cy+v.y01),T<M?u.arc(v.cx,v.cy,T,$x(v.y01,v.x01),$x(g.y01,g.x01),!y):(u.arc(v.cx,v.cy,T,$x(v.y01,v.x01),$x(v.y11,v.x11),!y),u.arc(0,0,p,$x(v.cy+v.y11,v.cx+v.x11),$x(g.cy+g.y11,g.cx+g.x11),y),u.arc(g.cx,g.cy,T,$x(g.y11,g.x11),$x(g.y01,g.x01),!y))):u.arc(0,0,p,x,_,y):u.lineTo(O,k)}else u.moveTo(0,0);if(u.closePath(),t)return u=null,t+""||null}var e=cu,n=fu,o=qx(0),i=null,r=du,a=yu,s=vu,u=null;return t.centroid=function(){var t=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,o=(+r.apply(this,arguments)+ +a.apply(this,arguments))/2-ow/2;return[Zx(o)*t,tw(o)*t]},t.innerRadius=function(n){return arguments.length?(e="function"==typeof n?n:qx(+n),t):e},t.outerRadius=function(e){return arguments.length?(n="function"==typeof e?e:qx(+e),t):n},t.cornerRadius=function(e){return arguments.length?(o="function"==typeof e?e:qx(+e),t):o},t.padRadius=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:qx(+e),t):i},t.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:qx(+e),t):r},t.endAngle=function(e){return arguments.length?(a="function"==typeof e?e:qx(+e),t):a},t.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:qx(+e),t):s},t.context=function(e){return arguments.length?(u=null==e?null:e,t):u},t};bu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var sw=function(t){return new bu(t)},uw=function(){function t(t){var s,u,h,p=t.length,l=!1;for(null==i&&(a=r(h=jn())),s=0;s<=p;++s)!(s<p&&o(u=t[s],s,t))===l&&((l=!l)?a.lineStart():a.lineEnd()),l&&a.point(+e(u,s,t),+n(u,s,t));if(h)return a=null,h+""||null}var e=_u,n=xu,o=qx(!0),i=null,r=sw,a=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:qx(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:qx(+e),t):n},t.defined=function(e){return arguments.length?(o="function"==typeof e?e:qx(!!e),t):o},t.curve=function(e){return arguments.length?(r=e,null!=i&&(a=r(i)),t):r},t.context=function(e){return arguments.length?(null==e?i=a=null:a=r(i=e),t):i},t},hw=function(){function t(t){var e,p,l,c,f,d=t.length,y=!1,v=new Array(d),g=new Array(d);for(null==s&&(h=u(f=jn())),e=0;e<=d;++e){if(!(e<d&&a(c=t[e],e,t))===y)if(y=!y)p=e,h.areaStart(),h.lineStart();else{for(h.lineEnd(),h.lineStart(),l=e-1;l>=p;--l)h.point(v[l],g[l]);h.lineEnd(),h.areaEnd()}y&&(v[e]=+n(c,e,t),g[e]=+i(c,e,t),h.point(o?+o(c,e,t):v[e],r?+r(c,e,t):g[e]))}if(f)return h=null,f+""||null}function e(){return uw().defined(a).curve(u).context(s)}var n=_u,o=null,i=qx(0),r=xu,a=qx(!0),s=null,u=sw,h=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:qx(+e),o=null,t):n},t.x0=function(e){return arguments.length?(n="function"==typeof e?e:qx(+e),t):n},t.x1=function(e){return arguments.length?(o=null==e?null:"function"==typeof e?e:qx(+e),t):o},t.y=function(e){return arguments.length?(i="function"==typeof e?e:qx(+e),r=null,t):i},t.y0=function(e){return arguments.length?(i="function"==typeof e?e:qx(+e),t):i},t.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:qx(+e),t):r},t.lineX0=t.lineY0=function(){return e().x(n).y(i)},t.lineY1=function(){return e().x(n).y(r)},t.lineX1=function(){return e().x(o).y(i)},t.defined=function(e){return arguments.length?(a="function"==typeof e?e:qx(!!e),t):a},t.curve=function(e){return arguments.length?(u=e,null!=s&&(h=u(s)),t):u},t.context=function(e){return arguments.length?(null==e?s=h=null:h=u(s=e),t):s},t},pw=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},lw=function(t){return t},cw=function(){function t(t){var s,u,h,p,l,c=t.length,f=0,d=new Array(c),y=new Array(c),v=+i.apply(this,arguments),g=Math.min(rw,Math.max(-rw,r.apply(this,arguments)-v)),m=Math.min(Math.abs(g)/c,a.apply(this,arguments)),b=m*(g<0?-1:1);for(s=0;s<c;++s)(l=y[d[s]=s]=+e(t[s],s,t))>0&&(f+=l);for(null!=n?d.sort(function(t,e){return n(y[t],y[e])}):null!=o&&d.sort(function(e,n){return o(t[e],t[n])}),s=0,h=f?(g-c*b)/f:0;s<c;++s,v=p)u=d[s],l=y[u],p=v+(l>0?l*h:0)+b,y[u]={data:t[u],index:s,value:l,startAngle:v,endAngle:p,padAngle:m};return y}var e=lw,n=pw,o=null,i=qx(0),r=qx(rw),a=qx(0);return t.value=function(n){return arguments.length?(e="function"==typeof n?n:qx(+n),t):e},t.sortValues=function(e){return arguments.length?(n=e,o=null,t):n},t.sort=function(e){return arguments.length?(o=e,n=null,t):o},t.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:qx(+e),t):i},t.endAngle=function(e){return arguments.length?(r="function"==typeof e?e:qx(+e),t):r},t.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:qx(+e),t):a},t},fw=Pu(sw);wu.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var dw=function(){return Su(uw().curve(fw))},yw=function(){var t=hw().curve(fw),e=t.curve,n=t.lineX0,o=t.lineX1,i=t.lineY0,r=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Su(n())},delete t.lineX0,t.lineEndAngle=function(){return Su(o())},delete t.lineX1,t.lineInnerRadius=function(){return Su(i())},delete t.lineY0,t.lineOuterRadius=function(){return Su(r())},delete t.lineY1,t.curve=function(t){return arguments.length?e(Pu(t)):e()._curve},t},vw=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},gw=Array.prototype.slice,mw={draw:function(t,e){var n=Math.sqrt(e/ow);t.moveTo(n,0),t.arc(0,0,n,0,rw)}},bw={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},_w=Math.sqrt(1/3),xw=2*_w,ww={draw:function(t,e){var n=Math.sqrt(e/xw),o=n*_w;t.moveTo(0,-n),t.lineTo(o,0),t.lineTo(0,n),t.lineTo(-o,0),t.closePath()}},Pw=.8908130915292852,Sw=Math.sin(ow/10)/Math.sin(7*ow/10),Cw=Math.sin(rw/10)*Sw,Mw=-Math.cos(rw/10)*Sw,Tw={draw:function(t,e){var n=Math.sqrt(e*Pw),o=Cw*n,i=Mw*n;t.moveTo(0,-n),t.lineTo(o,i);for(var r=1;r<5;++r){var a=rw*r/5,s=Math.cos(a),u=Math.sin(a);t.lineTo(u*n,-s*n),t.lineTo(s*o-u*i,u*o+s*i)}t.closePath()}},Aw={draw:function(t,e){var n=Math.sqrt(e),o=-n/2;t.rect(o,o,n,n)}},Ew=Math.sqrt(3),Iw={draw:function(t,e){var n=-Math.sqrt(e/(3*Ew));t.moveTo(0,2*n),t.lineTo(-Ew*n,-n),t.lineTo(Ew*n,-n),t.closePath()}},Lw=-.5,Nw=Math.sqrt(3)/2,Ow=1/Math.sqrt(12),kw=3*(Ow/2+1),Rw={draw:function(t,e){var n=Math.sqrt(e/kw),o=n/2,i=n*Ow,r=o,a=n*Ow+n,s=-r,u=a;t.moveTo(o,i),t.lineTo(r,a),t.lineTo(s,u),t.lineTo(Lw*o-Nw*i,Nw*o+Lw*i),t.lineTo(Lw*r-Nw*a,Nw*r+Lw*a),t.lineTo(Lw*s-Nw*u,Nw*s+Lw*u),t.lineTo(Lw*o+Nw*i,Lw*i-Nw*o),t.lineTo(Lw*r+Nw*a,Lw*a-Nw*r),t.lineTo(Lw*s+Nw*u,Lw*u-Nw*s),t.closePath()}},Fw=[mw,bw,ww,Aw,Tw,Iw,Rw],Dw=function(){function t(){var t;if(o||(o=t=jn()),e.apply(this,arguments).draw(o,+n.apply(this,arguments)),t)return o=null,t+""||null}var e=qx(mw),n=qx(64),o=null;return t.type=function(n){return arguments.length?(e="function"==typeof n?n:qx(n),t):e},t.size=function(e){return arguments.length?(n="function"==typeof e?e:qx(+e),t):n},t.context=function(e){return arguments.length?(o=null==e?null:e,t):o},t},jw=function(){};Ru.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ku(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ku(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Kw=function(t){return new Ru(t)};Fu.prototype={areaStart:jw,areaEnd:jw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ku(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Bw=function(t){return new Fu(t)};Du.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,o=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,o):this._context.moveTo(n,o);break;case 3:this._point=4;default:ku(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Xw=function(t){return new Du(t)};ju.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var o,i=t[0],r=e[0],a=t[n]-i,s=e[n]-r,u=-1;++u<=n;)o=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+o*a),this._beta*e[u]+(1-this._beta)*(r+o*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Uw=function t(e){function n(t){return 1===e?new Ru(t):new ju(t,e)}return n.beta=function(e){return t(+e)},n}(.85);Bu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ku(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Ku(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Yw=function t(e){function n(t){return new Bu(t,e)}return n.tension=function(e){return t(+e)},n}(0);Xu.prototype={areaStart:jw,areaEnd:jw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Ku(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Gw=function t(e){function n(t){return new Xu(t,e)}return n.tension=function(e){return t(+e)},n}(0);Uu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ku(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ww=function t(e){function n(t){return new Uu(t,e)}return n.tension=function(e){return t(+e)},n}(0);Gu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,o=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+o*o,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Yu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var zw=function t(e){function n(t){return e?new Gu(t,e):new Bu(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);Wu.prototype={areaStart:jw,areaEnd:jw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,o=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+o*o,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Yu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Hw=function t(e){function n(t){return e?new Wu(t,e):new Xu(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);zu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,o=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+o*o,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Yu(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var qw=function t(e){function n(t){return e?new zu(t,e):new Uu(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);Hu.prototype={areaStart:jw,areaEnd:jw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var Vw=function(t){return new Hu(t)};Ju.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zu(this,this._t0,$u(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Zu(this,$u(this,n=Vu(this,t,e)),n);break;default:Zu(this,this._t0,n=Vu(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Qu.prototype=Object.create(Ju.prototype)).point=function(t,e){Ju.prototype.point.call(this,e,t)},th.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,o,i,r){this._context.bezierCurveTo(e,t,o,n,r,i)}},oh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var o=ih(t),i=ih(e),r=0,a=1;a<n;++r,++a)this._context.bezierCurveTo(o[0][r],i[0][r],o[1][r],i[1][r],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var $w=function(t){return new oh(t)};rh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Zw=function(t){return new rh(t,.5)},Jw=function(t,e){if((i=t.length)>1)for(var n,o,i,r=1,a=t[e[0]],s=a.length;r<i;++r)for(o=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(o[n][1])?o[n][0]:o[n][1]},Qw=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n},tP=function(){function t(t){var r,a,s=e.apply(this,arguments),u=t.length,h=s.length,p=new Array(h);for(r=0;r<h;++r){for(var l,c=s[r],f=p[r]=new Array(u),d=0;d<u;++d)f[d]=l=[0,+i(t[d],c,d,t)],l.data=t[d];f.key=c}for(r=0,a=n(p);r<h;++r)p[a[r]].index=r;return o(p,a),p}var e=qx([]),n=Qw,o=Jw,i=uh;return t.keys=function(n){return arguments.length?(e="function"==typeof n?n:qx(gw.call(n)),t):e},t.value=function(e){return arguments.length?(i="function"==typeof e?e:qx(+e),t):i},t.order=function(e){return arguments.length?(n=null==e?Qw:"function"==typeof e?e:qx(gw.call(e)),t):n},t.offset=function(e){return arguments.length?(o=null==e?Jw:e,t):o},t},eP=function(t,e){if((o=t.length)>0){for(var n,o,i,r=0,a=t[0].length;r<a;++r){for(i=n=0;n<o;++n)i+=t[n][r][1]||0;if(i)for(n=0;n<o;++n)t[n][r][1]/=i}Jw(t,e)}},nP=function(t,e){if((s=t.length)>1)for(var n,o,i,r,a,s,u=0,h=t[e[0]].length;u<h;++u)for(r=a=0,n=0;n<s;++n)(i=(o=t[e[n]][u])[1]-o[0])>=0?(o[0]=r,o[1]=r+=i):i<0?(o[1]=a,o[0]=a+=i):o[0]=r},oP=function(t,e){if((n=t.length)>0){for(var n,o=0,i=t[e[0]],r=i.length;o<r;++o){for(var a=0,s=0;a<n;++a)s+=t[a][o][1]||0;i[o][1]+=i[o][0]=-s/2}Jw(t,e)}},iP=function(t,e){if((i=t.length)>0&&(o=(n=t[e[0]]).length)>0){for(var n,o,i,r=0,a=1;a<o;++a){for(var s=0,u=0,h=0;s<i;++s){for(var p=t[e[s]],l=p[a][1]||0,c=p[a-1][1]||0,f=(l-c)/2,d=0;d<s;++d){var y=t[e[d]],v=y[a][1]||0,g=y[a-1][1]||0;f+=v-g}u+=l,h+=f*l}n[a-1][1]+=n[a-1][0]=r,u&&(r-=h/u)}n[a-1][1]+=n[a-1][0]=r,Jw(t,e)}},rP=function(t){var e=t.map(hh);return Qw(t).sort(function(t,n){return e[t]-e[n]})},aP=function(t){return rP(t).reverse()},sP=function(t){var e,n,o=t.length,i=t.map(hh),r=Qw(t).sort(function(t,e){return i[e]-i[t]}),a=0,s=0,u=[],h=[];for(e=0;e<o;++e)n=r[e],a<s?(a+=i[n],u.push(n)):(s+=i[n],h.push(n));return h.reverse().concat(u)},uP=function(t){return Qw(t).reverse()},hP=function(t){return function(){return t}};ch.prototype={constructor:ch,insert:function(t,e){var n,o,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=vh(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)o=n.U,n===o.L?(i=o.R,i&&i.C?(n.C=i.C=!1,o.C=!0,t=o):(t===n.R&&(dh(this,n),t=n,n=t.U),n.C=!1,o.C=!0,yh(this,o))):(i=o.L,i&&i.C?(n.C=i.C=!1,o.C=!0,t=o):(t===n.L&&(yh(this,n),t=n,n=t.U),n.C=!1,o.C=!0,dh(this,o))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,o,i=t.U,r=t.L,a=t.R;if(n=r?a?vh(a):r:a,i?i.L===t?i.L=n:i.R=n:this._=n,r&&a?(o=n.C,n.C=t.C,n.L=r,r.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(o=t.C,t=n),t&&(t.U=i),!o){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,dh(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,yh(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,dh(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,yh(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,dh(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,yh(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var pP,lP,cP,fP,dP,yP=[],vP=[],gP=1e-6,mP=1e-12;Xh.prototype={constructor:Xh,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return Ch(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,o){if(r=(i=n.halfedges).length)for(var i,r,a,s=n.site,u=-1,h=e[i[r-1]],p=h.left===s?h.right:h.left;++u<r;)a=p,h=e[i[u]],p=h.left===s?h.right:h.left,a&&p&&o<a.index&&o<p.index&&Kh(s,a,p)<0&&t.push([s.data,a.data,p.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var o,i,r=this,a=r._found||0,s=r.cells.length;!(i=r.cells[a]);)if(++a>=s)return null;var u=t-i.site[0],h=e-i.site[1],p=u*u+h*h;do i=r.cells[o=a],a=null,i.halfedges.forEach(function(n){var o=r.edges[n],s=o.left;if(s!==i.site&&s||(s=o.right)){var u=t-s[0],h=e-s[1],l=u*u+h*h;l<p&&(p=l,a=s.index)}});while(null!==a);return r._found=o,null==n||p<=n*n?i.site:null}};var bP=function(){function t(t){return new Xh(t.map(function(o,i){var r=[Math.round(e(o,i,t)/gP)*gP,Math.round(n(o,i,t)/gP)*gP];return r.index=i,r.data=o,r}),o)}var e=ph,n=lh,o=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:hP(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:hP(+e),t):n},t.extent=function(e){return arguments.length?(o=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):o&&[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},t.size=function(e){return arguments.length?(o=null==e?null:[[0,0],[+e[0],+e[1]]],t):o&&[o[1][0]-o[0][0],o[1][1]-o[0][1]]},t},_P=function(t){return function(){return t}};Yh.prototype={constructor:Yh,scale:function(t){return 1===t?this:new Yh(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Yh(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var xP=new Yh(1,0,0);Gh.prototype=Yh.prototype;var wP=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},PP=function(){function e(t){t.property("__zoom",qh).on("wheel.zoom",h).on("mousedown.zoom",p).on("dblclick.zoom",l).filter($h).on("touchstart.zoom",c).on("touchmove.zoom",f).on("touchend.zoom touchcancel.zoom",d).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function n(t,e){return e=Math.max(x,Math.min(w,e)),e===t.k?t:new Yh(e,t.x,t.y)}function o(t,e,n){var o=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return o===t.x&&i===t.y?t:new Yh(t.k,o,i)}function i(t,e){var n=t.invertX(e[0][0])-P,o=t.invertX(e[1][0])-S,i=t.invertY(e[0][1])-C,r=t.invertY(e[1][1])-M;return t.translate(o>n?(n+o)/2:Math.min(0,n)||Math.max(0,o),r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r))}function r(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function a(t,e,n){t.on("start.zoom",function(){s(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){s(this,arguments).end()}).tween("zoom",function(){var t=this,o=arguments,i=s(t,o),a=b.apply(t,o),u=n||r(a),h=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),p=t.__zoom,l="function"==typeof e?e.apply(t,o):e,c=A(p.invert(u).concat(h/p.k),l.invert(u).concat(h/l.k));return function(t){if(1===t)t=l;else{var e=c(t),n=h/e[2];t=new Yh(n,u[0]-e[0]*n,u[1]-e[1]*n)}i.zoom(null,t)}})}function s(t,e){for(var n,o=0,i=E.length;o<i;++o)if((n=E[o]).that===t)return n;return new u(t,e)}function u(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=b.apply(t,e)}function h(){function t(){e.wheel=null,e.end()}if(m.apply(this,arguments)){var e=s(this,arguments),r=this.__zoom,a=Math.max(x,Math.min(w,r.k*Math.pow(2,_.apply(this,arguments)))),u=il(this);if(e.wheel)e.mouse[0][0]===u[0]&&e.mouse[0][1]===u[1]||(e.mouse[1]=r.invert(e.mouse[0]=u)),clearTimeout(e.wheel);else{if(r.k===a)return;e.mouse=[u,r.invert(u)],Of(this),e.start()}wP(),e.wheel=setTimeout(t,O),e.zoom("mouse",i(o(n(r,a),e.mouse[0],e.mouse[1]),e.extent))}}function p(){function e(){if(wP(),!r.moved){var e=t.event.clientX-h,n=t.event.clientY-p;r.moved=e*e+n*n>k}r.zoom("mouse",i(o(r.that.__zoom,r.mouse[0]=il(r.that),r.mouse[1]),r.extent))}function n(){a.on("mousemove.zoom mouseup.zoom",null),_t(t.event.view,r.moved),wP(),r.end()}if(!g&&m.apply(this,arguments)){var r=s(this,arguments),a=Bl(t.event.view).on("mousemove.zoom",e,!0).on("mouseup.zoom",n,!0),u=il(this),h=t.event.clientX,p=t.event.clientY;Wl(t.event.view),Wh(),r.mouse=[u,this.__zoom.invert(u)],Of(this),r.start()}}function l(){if(m.apply(this,arguments)){var r=this.__zoom,s=il(this),u=r.invert(s),h=r.k*(t.event.shiftKey?.5:2),p=i(o(n(r,h),s,u),b.apply(this,arguments));wP(),T>0?Bl(this).transition().duration(T).call(a,p,s):Bl(this).call(e.transform,p)}}function c(){if(m.apply(this,arguments)){var e,n,o,i,r=s(this,arguments),a=t.event.changedTouches,u=a.length;for(Wh(),n=0;n<u;++n)o=a[n],i=Ul(this,a,o.identifier),i=[i,this.__zoom.invert(i),o.identifier],r.touch0?r.touch1||(r.touch1=i):(r.touch0=i,e=!0);return y&&(y=clearTimeout(y),!r.touch1)?(r.end(),i=Bl(this).on("dblclick.zoom"),void(i&&i.apply(this,arguments))):void(e&&(y=setTimeout(function(){y=null},N),Of(this),r.start()))}}function f(){var e,r,a,u,h=s(this,arguments),p=t.event.changedTouches,l=p.length;for(wP(),y&&(y=clearTimeout(y)),e=0;e<l;++e)r=p[e],a=Ul(this,p,r.identifier),h.touch0&&h.touch0[2]===r.identifier?h.touch0[0]=a:h.touch1&&h.touch1[2]===r.identifier&&(h.touch1[0]=a);if(r=h.that.__zoom,h.touch1){var c=h.touch0[0],f=h.touch0[1],d=h.touch1[0],v=h.touch1[1],g=(g=d[0]-c[0])*g+(g=d[1]-c[1])*g,m=(m=v[0]-f[0])*m+(m=v[1]-f[1])*m;r=n(r,Math.sqrt(g/m)),a=[(c[0]+d[0])/2,(c[1]+d[1])/2],u=[(f[0]+v[0])/2,(f[1]+v[1])/2]}else{if(!h.touch0)return;a=h.touch0[0],u=h.touch0[1]}h.zoom("touch",i(o(r,a,u),h.extent))}function d(){var e,n,o=s(this,arguments),i=t.event.changedTouches,r=i.length;for(Wh(),g&&clearTimeout(g),g=setTimeout(function(){g=null},N),e=0;e<r;++e)n=i[e],o.touch0&&o.touch0[2]===n.identifier?delete o.touch0:o.touch1&&o.touch1[2]===n.identifier&&delete o.touch1;o.touch1&&!o.touch0&&(o.touch0=o.touch1,delete o.touch1),o.touch0?o.touch0[1]=this.__zoom.invert(o.touch0[0]):o.end()}var y,g,m=zh,b=Hh,_=Vh,x=0,w=1/0,P=-w,S=w,C=P,M=S,T=250,A=of,E=[],L=v("start","zoom","end"),N=500,O=150,k=0;return e.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",qh),t!==n?a(t,e):n.interrupt().each(function(){s(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},e.scaleBy=function(t,n){e.scaleTo(t,function(){var t=this.__zoom.k,e="function"==typeof n?n.apply(this,arguments):n;return t*e})},e.scaleTo=function(t,a){e.transform(t,function(){var t=b.apply(this,arguments),e=this.__zoom,s=r(t),u=e.invert(s),h="function"==typeof a?a.apply(this,arguments):a;return i(o(n(e,h),s,u),t)})},e.translateBy=function(t,n,o){e.transform(t,function(){return i(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof o?o.apply(this,arguments):o),b.apply(this,arguments))})},e.translateTo=function(t,n,o){e.transform(t,function(){var t=b.apply(this,arguments),e=this.__zoom,a=r(t);
return i(xP.translate(a[0],a[1]).scale(e.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof o?-o.apply(this,arguments):-o),t)})},u.prototype={start:function(){return 1===++this.active&&(this.index=E.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0===--this.active&&(E.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){I(new Uh(e,t,this.that.__zoom),L.apply,L,[t,this.that,this.args])}},e.wheelDelta=function(t){return arguments.length?(_="function"==typeof t?t:_P(+t),e):_},e.filter=function(t){return arguments.length?(m="function"==typeof t?t:_P(!!t),e):m},e.extent=function(t){return arguments.length?(b="function"==typeof t?t:_P([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):b},e.scaleExtent=function(t){return arguments.length?(x=+t[0],w=+t[1],e):[x,w]},e.translateExtent=function(t){return arguments.length?(P=+t[0][0],S=+t[1][0],C=+t[0][1],M=+t[1][1],e):[[P,C],[S,M]]},e.duration=function(t){return arguments.length?(T=+t,e):T},e.interpolate=function(t){return arguments.length?(A=t,e):A},e.on=function(){var t=L.on.apply(L,arguments);return t===L?e:t},e.clickDistance=function(t){return arguments.length?(k=(t=+t)*t,e):Math.sqrt(k)},e};t.version=Zh,t.bisect=ep,t.bisectRight=ep,t.bisectLeft=np,t.ascending=Jh,t.bisector=Qh,t.cross=ip,t.descending=rp,t.deviation=up,t.extent=hp,t.histogram=xp,t.thresholdFreedmanDiaconis=Pp,t.thresholdScott=Sp,t.thresholdSturges=_p,t.max=Cp,t.mean=Mp,t.median=Tp,t.merge=Ap,t.min=Ep,t.pairs=op,t.permute=Ip,t.quantile=wp,t.range=yp,t.scan=Lp,t.shuffle=Np,t.sum=Op,t.ticks=bp,t.tickIncrement=o,t.tickStep=i,t.transpose=kp,t.variance=sp,t.zip=Rp,t.axisTop=c,t.axisRight=f,t.axisBottom=d,t.axisLeft=y,t.brush=Hd,t.brushX=On,t.brushY=kn,t.brushSelection=Nn,t.chord=ty,t.ribbon=sy,t.nest=hy,t.set=Zn,t.map=Wn,t.keys=ly,t.values=cy,t.entries=fy,t.color=At,t.rgb=Nt,t.hsl=Ft,t.lab=Bt,t.hcl=Ht,t.cubehelix=$t,t.dispatch=v,t.drag=Hl,t.dragDisable=Wl,t.dragEnable=_t,t.dsvFormat=dy,t.csvParse=vy,t.csvParseRows=gy,t.csvFormat=my,t.csvFormatRows=by,t.tsvParse=xy,t.tsvParseRows=wy,t.tsvFormat=Py,t.tsvFormatRows=Sy,t.easeLinear=an,t.easeQuad=hn,t.easeQuadIn=sn,t.easeQuadOut=un,t.easeQuadInOut=hn,t.easeCubic=cn,t.easeCubicIn=pn,t.easeCubicOut=ln,t.easeCubicInOut=cn,t.easePoly=rd,t.easePolyIn=od,t.easePolyOut=id,t.easePolyInOut=rd,t.easeSin=yn,t.easeSinIn=fn,t.easeSinOut=dn,t.easeSinInOut=yn,t.easeExp=mn,t.easeExpIn=vn,t.easeExpOut=gn,t.easeExpInOut=mn,t.easeCircle=xn,t.easeCircleIn=bn,t.easeCircleOut=_n,t.easeCircleInOut=xn,t.easeBounce=Pn,t.easeBounceIn=wn,t.easeBounceOut=Pn,t.easeBounceInOut=Sn,t.easeBack=xd,t.easeBackIn=bd,t.easeBackOut=_d,t.easeBackInOut=xd,t.easeElastic=Md,t.easeElasticIn=Cd,t.easeElasticOut=Md,t.easeElasticInOut=Td,t.forceCenter=Cy,t.forceCollide=Yy,t.forceLink=Gy,t.forceManyBody=qy,t.forceSimulation=Hy,t.forceX=Vy,t.forceY=$y,t.formatDefaultLocale=mo,t.formatLocale=hv,t.formatSpecifier=vo,t.precisionFixed=pv,t.precisionPrefix=lv,t.precisionRound=cv,t.geoArea=mg,t.geoBounds=xg,t.geoCentroid=Pg,t.geoCircle=jg,t.geoClipExtent=Wg,t.geoContains=nm,t.geoDistance=Qg,t.geoGraticule=Ti,t.geoGraticule10=Ai,t.geoInterpolate=om,t.geoLength=$g,t.geoPath=Im,t.geoAlbers=Bm,t.geoAlbersUsa=Xm,t.geoAzimuthalEqualArea=Ym,t.geoAzimuthalEqualAreaRaw=Um,t.geoAzimuthalEquidistant=Wm,t.geoAzimuthalEquidistantRaw=Gm,t.geoConicConformal=Hm,t.geoConicConformalRaw=vr,t.geoConicEqualArea=Km,t.geoConicEqualAreaRaw=hr,t.geoConicEquidistant=Vm,t.geoConicEquidistantRaw=mr,t.geoEquirectangular=qm,t.geoEquirectangularRaw=gr,t.geoGnomonic=$m,t.geoGnomonicRaw=br,t.geoIdentity=Zm,t.geoProjection=rr,t.geoProjectionMutator=ar,t.geoMercator=zm,t.geoMercatorRaw=fr,t.geoOrthographic=Jm,t.geoOrthographicRaw=xr,t.geoStereographic=Qm,t.geoStereographicRaw=wr,t.geoTransverseMercator=tb,t.geoTransverseMercatorRaw=Pr,t.geoRotation=Dg,t.geoStream=dg,t.geoTransform=km,t.cluster=eb,t.hierarchy=Or,t.pack=gb,t.packSiblings=yb,t.packEnclose=db,t.partition=_b,t.stratify=Sb,t.tree=Cb,t.treemap=Eb,t.treemapBinary=Ib,t.treemapDice=bb,t.treemapSlice=Mb,t.treemapSliceDice=Lb,t.treemapSquarify=Ab,t.treemapResquarify=Nb,t.interpolate=zc,t.interpolateArray=Kc,t.interpolateBasis=Oc,t.interpolateBasisClosed=kc,t.interpolateDate=Bc,t.interpolateNumber=Xc,t.interpolateObject=Uc,t.interpolateRound=Hc,t.interpolateString=Wc,t.interpolateTransformCss=Zc,t.interpolateTransformSvg=Jc,t.interpolateZoom=of,t.interpolateRgb=Fc,t.interpolateRgbBasis=Dc,t.interpolateRgbBasisClosed=jc,t.interpolateHsl=rf,t.interpolateHslLong=af,t.interpolateLab=de,t.interpolateHcl=sf,t.interpolateHclLong=uf,t.interpolateCubehelix=hf,t.interpolateCubehelixLong=pf,t.quantize=lf,t.path=jn,t.polygonArea=Ob,t.polygonCentroid=kb;t.polygonHull=Fb;t.polygonContains=Db,t.polygonLength=jb,t.quadtree=ao,t.queue=Ca,t.randomUniform=Ub,t.randomNormal=Yb,t.randomLogNormal=Gb,t.randomBates=zb,t.randomIrwinHall=Wb,t.randomExponential=Hb,t.request=qb,t.html=$b,t.json=Zb,t.text=Jb,t.xml=Qb,t.csv=e_,t.tsv=n_,t.scaleBand=Ia,t.scalePoint=Na,t.scaleIdentity=Ua,t.scaleLinear=Xa,t.scaleLog=Va,t.scaleOrdinal=Ea,t.scaleImplicit=a_,t.scalePow=Za,t.scaleSqrt=Ja,t.scaleQuantile=Qa,t.scaleQuantize=ts,t.scaleThreshold=es,t.scaleTime=Nx,t.scaleUtc=Ox,t.schemeCategory10=Rx,t.schemeCategory20b=Fx,t.schemeCategory20c=Dx,t.schemeCategory20=jx,t.interpolateCubehelixDefault=Kx,t.interpolateRainbow=Yx,t.interpolateWarm=Bx,t.interpolateCool=Xx,t.interpolateViridis=Gx,t.interpolateMagma=Wx,t.interpolateInferno=zx,t.interpolatePlasma=Hx,t.scaleSequential=hu,t.creator=Hp,t.local=P,t.matcher=Jp,t.mouse=il,t.namespace=zp,t.namespaces=Wp,t.select=Bl,t.selectAll=Xl,t.selection=mt,t.selector=rl,t.selectorAll=sl,t.style=z,t.touch=Ul,t.touches=Yl,t.window=Ml,t.customEvent=I,t.arc=aw,t.area=hw,t.line=uw,t.pie=cw,t.areaRadial=yw,t.radialArea=yw,t.lineRadial=dw,t.radialLine=dw,t.pointRadial=vw,t.linkHorizontal=Lu,t.linkVertical=Nu,t.linkRadial=Ou,t.symbol=Dw,t.symbols=Fw,t.symbolCircle=mw,t.symbolCross=bw,t.symbolDiamond=ww,t.symbolSquare=Aw,t.symbolStar=Tw,t.symbolTriangle=Iw,t.symbolWye=Rw,t.curveBasisClosed=Bw,t.curveBasisOpen=Xw,t.curveBasis=Kw,t.curveBundle=Uw,t.curveCardinalClosed=Gw,t.curveCardinalOpen=Ww,t.curveCardinal=Yw,t.curveCatmullRomClosed=Hw,t.curveCatmullRomOpen=qw,t.curveCatmullRom=zw,t.curveLinearClosed=Vw,t.curveLinear=sw,t.curveMonotoneX=eh,t.curveMonotoneY=nh,t.curveNatural=$w,t.curveStep=Zw,t.curveStepAfter=sh,t.curveStepBefore=ah,t.stack=tP,t.stackOffsetExpand=eP,t.stackOffsetDiverging=nP,t.stackOffsetNone=Jw,t.stackOffsetSilhouette=oP,t.stackOffsetWiggle=iP,t.stackOrderAscending=rP,t.stackOrderDescending=aP,t.stackOrderInsideOut=sP,t.stackOrderNone=Qw,t.stackOrderReverse=uP,t.timeInterval=ns,t.timeMillisecond=d_,t.timeMilliseconds=y_,t.utcMillisecond=d_,t.utcMilliseconds=y_,t.timeSecond=x_,t.timeSeconds=w_,t.utcSecond=x_,t.utcSeconds=w_,t.timeMinute=P_,t.timeMinutes=S_,t.timeHour=C_,t.timeHours=M_,t.timeDay=T_,t.timeDays=A_,t.timeWeek=E_,t.timeWeeks=F_,t.timeSunday=E_,t.timeSundays=F_,t.timeMonday=I_,t.timeMondays=D_,t.timeTuesday=L_,t.timeTuesdays=j_,t.timeWednesday=N_,t.timeWednesdays=K_,t.timeThursday=O_,t.timeThursdays=B_,t.timeFriday=k_,t.timeFridays=X_,t.timeSaturday=R_,t.timeSaturdays=U_,t.timeMonth=Y_,t.timeMonths=G_,t.timeYear=W_,t.timeYears=z_,t.utcMinute=H_,t.utcMinutes=q_,t.utcHour=V_,t.utcHours=$_,t.utcDay=Z_,t.utcDays=J_,t.utcWeek=Q_,t.utcWeeks=ax,t.utcSunday=Q_,t.utcSundays=ax,t.utcMonday=tx,t.utcMondays=sx,t.utcTuesday=ex,t.utcTuesdays=ux,t.utcWednesday=nx,t.utcWednesdays=hx,t.utcThursday=ox,t.utcThursdays=px,t.utcFriday=ix,t.utcFridays=lx,t.utcSaturday=rx,t.utcSaturdays=cx,t.utcMonth=fx,t.utcMonths=dx,t.utcYear=yx,t.utcYears=gx,t.timeFormatDefaultLocale=nu,t.timeFormatLocale=us,t.isoFormat=Px,t.isoParse=Sx,t.now=ge,t.timer=_e,t.timerFlush=xe,t.timeout=xf,t.interval=wf,t.transition=on,t.active=Ld,t.interrupt=Of,t.voronoi=bP,t.zoom=PP,t.zoomTransform=Gh,t.zoomIdentity=xP,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){var o;(function(t,i){(function(){function r(t,e){return t.set(e[0],e[1]),t}function a(t,e){return t.add(e),t}function s(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function u(t,e,n,o){for(var i=-1,r=null==t?0:t.length;++i<r;){var a=t[i];e(o,a,n(a),t)}return o}function h(t,e){for(var n=-1,o=null==t?0:t.length;++n<o&&e(t[n],n,t)!==!1;);return t}function p(t,e){for(var n=null==t?0:t.length;n--&&e(t[n],n,t)!==!1;);return t}function l(t,e){for(var n=-1,o=null==t?0:t.length;++n<o;)if(!e(t[n],n,t))return!1;return!0}function c(t,e){for(var n=-1,o=null==t?0:t.length,i=0,r=[];++n<o;){var a=t[n];e(a,n,t)&&(r[i++]=a)}return r}function f(t,e){var n=null==t?0:t.length;return!!n&&S(t,e,0)>-1}function d(t,e,n){for(var o=-1,i=null==t?0:t.length;++o<i;)if(n(e,t[o]))return!0;return!1}function y(t,e){for(var n=-1,o=null==t?0:t.length,i=Array(o);++n<o;)i[n]=e(t[n],n,t);return i}function v(t,e){for(var n=-1,o=e.length,i=t.length;++n<o;)t[i+n]=e[n];return t}function g(t,e,n,o){var i=-1,r=null==t?0:t.length;for(o&&r&&(n=t[++i]);++i<r;)n=e(n,t[i],i,t);return n}function m(t,e,n,o){var i=null==t?0:t.length;for(o&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function b(t,e){for(var n=-1,o=null==t?0:t.length;++n<o;)if(e(t[n],n,t))return!0;return!1}function _(t){return t.split("")}function x(t){return t.match(Ye)||[]}function w(t,e,n){var o;return n(t,function(t,n,i){if(e(t,n,i))return o=n,!1}),o}function P(t,e,n,o){for(var i=t.length,r=n+(o?1:-1);o?r--:++r<i;)if(e(t[r],r,t))return r;return-1}function S(t,e,n){return e===e?Z(t,e,n):P(t,M,n)}function C(t,e,n,o){for(var i=n-1,r=t.length;++i<r;)if(o(t[i],e))return i;return-1}function M(t){return t!==t}function T(t,e){var n=null==t?0:t.length;return n?N(t,e)/n:Dt}function A(t){return function(e){return null==e?it:e[t]}}function E(t){return function(e){return null==t?it:t[e]}}function I(t,e,n,o,i){return i(t,function(t,i,r){n=o?(o=!1,t):e(n,t,i,r)}),n}function L(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function N(t,e){for(var n,o=-1,i=t.length;++o<i;){var r=e(t[o]);r!==it&&(n=n===it?r:n+r)}return n}function O(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}function k(t,e){return y(e,function(e){return[e,t[e]]})}function R(t){return function(e){return t(e)}}function F(t,e){return y(e,function(e){return t[e]})}function D(t,e){return t.has(e)}function j(t,e){for(var n=-1,o=t.length;++n<o&&S(e,t[n],0)>-1;);return n}function K(t,e){for(var n=t.length;n--&&S(e,t[n],0)>-1;);return n}function B(t,e){for(var n=t.length,o=0;n--;)t[n]===e&&++o;return o}function X(t){return"\\"+no[t]}function U(t,e){return null==t?it:t[e]}function Y(t){return Hn.test(t)}function G(t){return qn.test(t)}function W(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function z(t){var e=-1,n=Array(t.size);return t.forEach(function(t,o){n[++e]=[o,t]}),n}function H(t,e){return function(n){return t(e(n))}}function q(t,e){for(var n=-1,o=t.length,i=0,r=[];++n<o;){var a=t[n];a!==e&&a!==lt||(t[n]=lt,r[i++]=n)}return r}function V(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function $(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function Z(t,e,n){for(var o=n-1,i=t.length;++o<i;)if(t[o]===e)return o;return-1}function J(t,e,n){for(var o=n+1;o--;)if(t[o]===e)return o;return o}function Q(t){return Y(t)?et(t):_o(t)}function tt(t){return Y(t)?nt(t):_(t)}function et(t){for(var e=Wn.lastIndex=0;Wn.test(t);)++e;return e}function nt(t){return t.match(Wn)||[]}function ot(t){return t.match(zn)||[]}var it,rt="4.17.4",at=200,st="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ut="Expected a function",ht="__lodash_hash_undefined__",pt=500,lt="__lodash_placeholder__",ct=1,ft=2,dt=4,yt=1,vt=2,gt=1,mt=2,bt=4,_t=8,xt=16,wt=32,Pt=64,St=128,Ct=256,Mt=512,Tt=30,At="...",Et=800,It=16,Lt=1,Nt=2,Ot=3,kt=1/0,Rt=9007199254740991,Ft=1.7976931348623157e308,Dt=NaN,jt=4294967295,Kt=jt-1,Bt=jt>>>1,Xt=[["ary",St],["bind",gt],["bindKey",mt],["curry",_t],["curryRight",xt],["flip",Mt],["partial",wt],["partialRight",Pt],["rearg",Ct]],Ut="[object Arguments]",Yt="[object Array]",Gt="[object AsyncFunction]",Wt="[object Boolean]",zt="[object Date]",Ht="[object DOMException]",qt="[object Error]",Vt="[object Function]",$t="[object GeneratorFunction]",Zt="[object Map]",Jt="[object Number]",Qt="[object Null]",te="[object Object]",ee="[object Promise]",ne="[object Proxy]",oe="[object RegExp]",ie="[object Set]",re="[object String]",ae="[object Symbol]",se="[object Undefined]",ue="[object WeakMap]",he="[object WeakSet]",pe="[object ArrayBuffer]",le="[object DataView]",ce="[object Float32Array]",fe="[object Float64Array]",de="[object Int8Array]",ye="[object Int16Array]",ve="[object Int32Array]",ge="[object Uint8Array]",me="[object Uint8ClampedArray]",be="[object Uint16Array]",_e="[object Uint32Array]",xe=/\b__p \+= '';/g,we=/\b(__p \+=) '' \+/g,Pe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Se=/&(?:amp|lt|gt|quot|#39);/g,Ce=/[&<>"']/g,Me=RegExp(Se.source),Te=RegExp(Ce.source),Ae=/<%-([\s\S]+?)%>/g,Ee=/<%([\s\S]+?)%>/g,Ie=/<%=([\s\S]+?)%>/g,Le=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ne=/^\w*$/,Oe=/^\./,ke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Re=/[\\^$.*+?()[\]{}|]/g,Fe=RegExp(Re.source),De=/^\s+|\s+$/g,je=/^\s+/,Ke=/\s+$/,Be=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Xe=/\{\n\/\* \[wrapped with (.+)\] \*/,Ue=/,? & /,Ye=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ge=/\\(\\)?/g,We=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ze=/\w*$/,He=/^[-+]0x[0-9a-f]+$/i,qe=/^0b[01]+$/i,Ve=/^\[object .+?Constructor\]$/,$e=/^0o[0-7]+$/i,Ze=/^(?:0|[1-9]\d*)$/,Je=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qe=/($^)/,tn=/['\n\r\u2028\u2029\\]/g,en="\\ud800-\\udfff",nn="\\u0300-\\u036f",on="\\ufe20-\\ufe2f",rn="\\u20d0-\\u20ff",an=nn+on+rn,sn="\\u2700-\\u27bf",un="a-z\\xdf-\\xf6\\xf8-\\xff",hn="\\xac\\xb1\\xd7\\xf7",pn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ln="\\u2000-\\u206f",cn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fn="A-Z\\xc0-\\xd6\\xd8-\\xde",dn="\\ufe0e\\ufe0f",yn=hn+pn+ln+cn,vn="['’]",gn="["+en+"]",mn="["+yn+"]",bn="["+an+"]",_n="\\d+",xn="["+sn+"]",wn="["+un+"]",Pn="[^"+en+yn+_n+sn+un+fn+"]",Sn="\\ud83c[\\udffb-\\udfff]",Cn="(?:"+bn+"|"+Sn+")",Mn="[^"+en+"]",Tn="(?:\\ud83c[\\udde6-\\uddff]){2}",An="[\\ud800-\\udbff][\\udc00-\\udfff]",En="["+fn+"]",In="\\u200d",Ln="(?:"+wn+"|"+Pn+")",Nn="(?:"+En+"|"+Pn+")",On="(?:"+vn+"(?:d|ll|m|re|s|t|ve))?",kn="(?:"+vn+"(?:D|LL|M|RE|S|T|VE))?",Rn=Cn+"?",Fn="["+dn+"]?",Dn="(?:"+In+"(?:"+[Mn,Tn,An].join("|")+")"+Fn+Rn+")*",jn="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Kn="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Bn=Fn+Rn+Dn,Xn="(?:"+[xn,Tn,An].join("|")+")"+Bn,Un="(?:"+[Mn+bn+"?",bn,Tn,An,gn].join("|")+")",Yn=RegExp(vn,"g"),Gn=RegExp(bn,"g"),Wn=RegExp(Sn+"(?="+Sn+")|"+Un+Bn,"g"),zn=RegExp([En+"?"+wn+"+"+On+"(?="+[mn,En,"$"].join("|")+")",Nn+"+"+kn+"(?="+[mn,En+Ln,"$"].join("|")+")",En+"?"+Ln+"+"+On,En+"+"+kn,Kn,jn,_n,Xn].join("|"),"g"),Hn=RegExp("["+In+en+an+dn+"]"),qn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Vn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],$n=-1,Zn={};Zn[ce]=Zn[fe]=Zn[de]=Zn[ye]=Zn[ve]=Zn[ge]=Zn[me]=Zn[be]=Zn[_e]=!0,Zn[Ut]=Zn[Yt]=Zn[pe]=Zn[Wt]=Zn[le]=Zn[zt]=Zn[qt]=Zn[Vt]=Zn[Zt]=Zn[Jt]=Zn[te]=Zn[oe]=Zn[ie]=Zn[re]=Zn[ue]=!1;var Jn={};Jn[Ut]=Jn[Yt]=Jn[pe]=Jn[le]=Jn[Wt]=Jn[zt]=Jn[ce]=Jn[fe]=Jn[de]=Jn[ye]=Jn[ve]=Jn[Zt]=Jn[Jt]=Jn[te]=Jn[oe]=Jn[ie]=Jn[re]=Jn[ae]=Jn[ge]=Jn[me]=Jn[be]=Jn[_e]=!0,Jn[qt]=Jn[Vt]=Jn[ue]=!1;var Qn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},to={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},eo={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},no={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},oo=parseFloat,io=parseInt,ro="object"==typeof t&&t&&t.Object===Object&&t,ao="object"==typeof self&&self&&self.Object===Object&&self,so=ro||ao||Function("return this")(),uo="object"==typeof e&&e&&!e.nodeType&&e,ho=uo&&"object"==typeof i&&i&&!i.nodeType&&i,po=ho&&ho.exports===uo,lo=po&&ro.process,co=function(){try{return lo&&lo.binding&&lo.binding("util")}catch(t){}}(),fo=co&&co.isArrayBuffer,yo=co&&co.isDate,vo=co&&co.isMap,go=co&&co.isRegExp,mo=co&&co.isSet,bo=co&&co.isTypedArray,_o=A("length"),xo=E(Qn),wo=E(to),Po=E(eo),So=function t(e){function n(t){if(hu(t)&&!_c(t)&&!(t instanceof _)){if(t instanceof i)return t;if(_p.call(t,"__wrapped__"))return aa(t)}return new i(t)}function o(){}function i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=it}function _(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=jt,this.__views__=[]}function E(){var t=new _(this.__wrapped__);return t.__actions__=Xi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Xi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Xi(this.__views__),t}function Z(){if(this.__filtered__){var t=new _(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function et(){var t=this.__wrapped__.value(),e=this.__dir__,n=_c(t),o=e<0,i=n?t.length:0,r=Ir(0,i,this.__views__),a=r.start,s=r.end,u=s-a,h=o?s:a-1,p=this.__iteratees__,l=p.length,c=0,f=$p(u,this.__takeCount__);if(!n||!o&&i==u&&f==u)return wi(t,this.__actions__);var d=[];t:for(;u--&&c<f;){h+=e;for(var y=-1,v=t[h];++y<l;){var g=p[y],m=g.iteratee,b=g.type,_=m(v);if(b==Nt)v=_;else if(!_){if(b==Lt)continue t;break t}}d[c++]=v}return d}function nt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function Ye(){this.__data__=al?al(null):{},this.size=0}function en(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function nn(t){var e=this.__data__;if(al){var n=e[t];return n===ht?it:n}return _p.call(e,t)?e[t]:it}function on(t){var e=this.__data__;return al?e[t]!==it:_p.call(e,t)}function rn(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=al&&e===it?ht:e,this}function an(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function sn(){this.__data__=[],this.size=0}function un(t){var e=this.__data__,n=On(e,t);if(n<0)return!1;var o=e.length-1;return n==o?e.pop():kp.call(e,n,1),--this.size,!0}function hn(t){var e=this.__data__,n=On(e,t);return n<0?it:e[n][1]}function pn(t){return On(this.__data__,t)>-1}function ln(t,e){var n=this.__data__,o=On(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}function cn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function fn(){this.size=0,this.__data__={hash:new nt,map:new(nl||an),string:new nt}}function dn(t){var e=Mr(this,t).delete(t);return this.size-=e?1:0,e}function yn(t){return Mr(this,t).get(t)}function vn(t){return Mr(this,t).has(t)}function gn(t,e){var n=Mr(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}function mn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new cn;++e<n;)this.add(t[e])}function bn(t){return this.__data__.set(t,ht),this}function _n(t){return this.__data__.has(t)}function xn(t){var e=this.__data__=new an(t);this.size=e.size}function wn(){this.__data__=new an,this.size=0}function Pn(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Sn(t){return this.__data__.get(t)}function Cn(t){return this.__data__.has(t)}function Mn(t,e){var n=this.__data__;if(n instanceof an){var o=n.__data__;if(!nl||o.length<at-1)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new cn(o)}return n.set(t,e),this.size=n.size,this}function Tn(t,e){var n=_c(t),o=!n&&bc(t),i=!n&&!o&&wc(t),r=!n&&!o&&!i&&Tc(t),a=n||o||i||r,s=a?O(t.length,fp):[],u=s.length;for(var h in t)!e&&!_p.call(t,h)||a&&("length"==h||i&&("offset"==h||"parent"==h)||r&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||jr(h,u))||s.push(h);return s}function An(t){var e=t.length;return e?t[oi(0,e-1)]:it}function En(t,e){return na(Xi(t),Kn(e,0,t.length))}function In(t){return na(Xi(t))}function Ln(t,e,n){(n===it||Vs(t[e],n))&&(n!==it||e in t)||Dn(t,e,n)}function Nn(t,e,n){var o=t[e];_p.call(t,e)&&Vs(o,n)&&(n!==it||e in t)||Dn(t,e,n)}function On(t,e){for(var n=t.length;n--;)if(Vs(t[n][0],e))return n;return-1}function kn(t,e,n,o){return ml(t,function(t,i,r){e(o,t,n(t),r)}),o}function Rn(t,e){return t&&Ui(e,Gu(e),t)}function Fn(t,e){return t&&Ui(e,Wu(e),t)}function Dn(t,e,n){"__proto__"==e&&jp?jp(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function jn(t,e){for(var n=-1,o=e.length,i=ap(o),r=null==t;++n<o;)i[n]=r?it:Xu(t,e[n]);return i}function Kn(t,e,n){return t===t&&(n!==it&&(t=t<=n?t:n),e!==it&&(t=t>=e?t:e)),t}function Bn(t,e,n,o,i,r){var a,s=e&ct,u=e&ft,p=e&dt;if(n&&(a=i?n(t,o,i,r):n(t)),a!==it)return a;if(!uu(t))return t;var l=_c(t);if(l){if(a=Or(t),!s)return Xi(t,a)}else{var c=Il(t),f=c==Vt||c==$t;if(wc(t))return Ei(t,s);if(c==te||c==Ut||f&&!i){if(a=u||f?{}:kr(t),!s)return u?Gi(t,Fn(a,t)):Yi(t,Rn(a,t))}else{if(!Jn[c])return i?t:{};a=Rr(t,c,Bn,s)}}r||(r=new xn);var d=r.get(t);if(d)return d;r.set(t,a);var y=p?u?wr:xr:u?Wu:Gu,v=l?it:y(t);return h(v||t,function(o,i){v&&(i=o,o=t[i]),Nn(a,i,Bn(o,e,n,i,t,r))}),a}function Xn(t){var e=Gu(t);return function(n){return Un(n,t,e)}}function Un(t,e,n){var o=n.length;if(null==t)return!o;for(t=lp(t);o--;){var i=n[o],r=e[i],a=t[i];if(a===it&&!(i in t)||!r(a))return!1}return!0}function Wn(t,e,n){if("function"!=typeof t)throw new dp(ut);return Ol(function(){t.apply(it,n)},e)}function zn(t,e,n,o){var i=-1,r=f,a=!0,s=t.length,u=[],h=e.length;if(!s)return u;n&&(e=y(e,R(n))),o?(r=d,a=!1):e.length>=at&&(r=D,a=!1,e=new mn(e));t:for(;++i<s;){var p=t[i],l=null==n?p:n(p);if(p=o||0!==p?p:0,a&&l===l){for(var c=h;c--;)if(e[c]===l)continue t;u.push(p)}else r(e,l,o)||u.push(p)}return u}function Hn(t,e){var n=!0;return ml(t,function(t,o,i){return n=!!e(t,o,i)}),n}function qn(t,e,n){for(var o=-1,i=t.length;++o<i;){var r=t[o],a=e(r);if(null!=a&&(s===it?a===a&&!_u(a):n(a,s)))var s=a,u=r}return u}function Qn(t,e,n,o){var i=t.length;for(n=Mu(n),n<0&&(n=-n>i?0:i+n),o=o===it||o>i?i:Mu(o),o<0&&(o+=i),o=n>o?0:Tu(o);n<o;)t[n++]=e;return t}function to(t,e){var n=[];return ml(t,function(t,o,i){e(t,o,i)&&n.push(t)}),n}function eo(t,e,n,o,i){var r=-1,a=t.length;for(n||(n=Dr),i||(i=[]);++r<a;){var s=t[r];e>0&&n(s)?e>1?eo(s,e-1,n,o,i):v(i,s):o||(i[i.length]=s)}return i}function no(t,e){return t&&_l(t,e,Gu)}function ro(t,e){return t&&xl(t,e,Gu)}function ao(t,e){return c(e,function(e){return ru(t[e])})}function uo(t,e){e=Ti(e,t);for(var n=0,o=e.length;null!=t&&n<o;)t=t[oa(e[n++])];return n&&n==o?t:it}function ho(t,e,n){var o=e(t);return _c(t)?o:v(o,n(t))}function lo(t){return null==t?t===it?se:Qt:Dp&&Dp in lp(t)?Er(t):$r(t)}function co(t,e){return t>e}function _o(t,e){return null!=t&&_p.call(t,e)}function So(t,e){return null!=t&&e in lp(t)}function Mo(t,e,n){return t>=$p(e,n)&&t<Vp(e,n)}function To(t,e,n){for(var o=n?d:f,i=t[0].length,r=t.length,a=r,s=ap(r),u=1/0,h=[];a--;){var p=t[a];a&&e&&(p=y(p,R(e))),u=$p(p.length,u),s[a]=!n&&(e||i>=120&&p.length>=120)?new mn(a&&p):it}p=t[0];var l=-1,c=s[0];t:for(;++l<i&&h.length<u;){var v=p[l],g=e?e(v):v;if(v=n||0!==v?v:0,!(c?D(c,g):o(h,g,n))){for(a=r;--a;){var m=s[a];if(!(m?D(m,g):o(t[a],g,n)))continue t}c&&c.push(g),h.push(v)}}return h}function Ao(t,e,n,o){return no(t,function(t,i,r){e(o,n(t),i,r)}),o}function Eo(t,e,n){e=Ti(e,t),t=Jr(t,e);var o=null==t?t:t[oa(Ca(e))];return null==o?it:s(o,t,n)}function Io(t){return hu(t)&&lo(t)==Ut}function Lo(t){return hu(t)&&lo(t)==pe}function No(t){return hu(t)&&lo(t)==zt}function Oo(t,e,n,o,i){return t===e||(null==t||null==e||!hu(t)&&!hu(e)?t!==t&&e!==e:ko(t,e,n,o,Oo,i))}function ko(t,e,n,o,i,r){var a=_c(t),s=_c(e),u=a?Yt:Il(t),h=s?Yt:Il(e);u=u==Ut?te:u,h=h==Ut?te:h;var p=u==te,l=h==te,c=u==h;if(c&&wc(t)){if(!wc(e))return!1;a=!0,p=!1}if(c&&!p)return r||(r=new xn),a||Tc(t)?gr(t,e,n,o,i,r):mr(t,e,u,n,o,i,r);if(!(n&yt)){var f=p&&_p.call(t,"__wrapped__"),d=l&&_p.call(e,"__wrapped__");if(f||d){var y=f?t.value():t,v=d?e.value():e;return r||(r=new xn),i(y,v,n,o,r)}}return!!c&&(r||(r=new xn),br(t,e,n,o,i,r))}function Ro(t){return hu(t)&&Il(t)==Zt}function Fo(t,e,n,o){var i=n.length,r=i,a=!o;if(null==t)return!r;for(t=lp(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<r;){s=n[i];var u=s[0],h=t[u],p=s[1];if(a&&s[2]){if(h===it&&!(u in t))return!1}else{var l=new xn;if(o)var c=o(h,p,u,t,e,l);if(!(c===it?Oo(p,h,yt|vt,o,l):c))return!1}}return!0}function Do(t){if(!uu(t)||Yr(t))return!1;var e=ru(t)?Mp:Ve;return e.test(ia(t))}function jo(t){return hu(t)&&lo(t)==oe}function Ko(t){return hu(t)&&Il(t)==ie}function Bo(t){return hu(t)&&su(t.length)&&!!Zn[lo(t)]}function Xo(t){return"function"==typeof t?t:null==t?kh:"object"==typeof t?_c(t)?Ho(t[0],t[1]):zo(t):Uh(t)}function Uo(t){if(!Gr(t))return qp(t);var e=[];for(var n in lp(t))_p.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Yo(t){if(!uu(t))return Vr(t);var e=Gr(t),n=[];for(var o in t)("constructor"!=o||!e&&_p.call(t,o))&&n.push(o);return n}function Go(t,e){return t<e}function Wo(t,e){var n=-1,o=$s(t)?ap(t.length):[];return ml(t,function(t,i,r){o[++n]=e(t,i,r)}),o}function zo(t){var e=Tr(t);return 1==e.length&&e[0][2]?zr(e[0][0],e[0][1]):function(n){return n===t||Fo(n,t,e)}}function Ho(t,e){return Br(t)&&Wr(e)?zr(oa(t),e):function(n){var o=Xu(n,t);return o===it&&o===e?Yu(n,t):Oo(e,o,yt|vt)}}function qo(t,e,n,o,i){t!==e&&_l(e,function(r,a){if(uu(r))i||(i=new xn),Vo(t,e,a,n,qo,o,i);else{var s=o?o(t[a],r,a+"",t,e,i):it;s===it&&(s=r),Ln(t,a,s)}},Wu)}function Vo(t,e,n,o,i,r,a){var s=t[n],u=e[n],h=a.get(u);if(h)return void Ln(t,n,h);var p=r?r(s,u,n+"",t,e,a):it,l=p===it;if(l){var c=_c(u),f=!c&&wc(u),d=!c&&!f&&Tc(u);p=u,c||f||d?_c(s)?p=s:Zs(s)?p=Xi(s):f?(l=!1,p=Ei(u,!0)):d?(l=!1,p=Fi(u,!0)):p=[]:gu(u)||bc(u)?(p=s,bc(s)?p=Eu(s):(!uu(s)||o&&ru(s))&&(p=kr(u))):l=!1}l&&(a.set(u,p),i(p,u,o,r,a),a.delete(u)),Ln(t,n,p)}function $o(t,e){var n=t.length;if(n)return e+=e<0?n:0,jr(e,n)?t[e]:it}function Zo(t,e,n){var o=-1;e=y(e.length?e:[kh],R(Cr()));var i=Wo(t,function(t,n,i){var r=y(e,function(e){return e(t)});return{criteria:r,index:++o,value:t}});return L(i,function(t,e){return ji(t,e,n)})}function Jo(t,e){return Qo(t,e,function(e,n){return Yu(t,n)})}function Qo(t,e,n){for(var o=-1,i=e.length,r={};++o<i;){var a=e[o],s=uo(t,a);n(s,a)&&hi(r,Ti(a,t),s)}return r}function ti(t){return function(e){return uo(e,t)}}function ei(t,e,n,o){var i=o?C:S,r=-1,a=e.length,s=t;for(t===e&&(e=Xi(e)),n&&(s=y(t,R(n)));++r<a;)for(var u=0,h=e[r],p=n?n(h):h;(u=i(s,p,u,o))>-1;)s!==t&&kp.call(s,u,1),kp.call(t,u,1);return t}function ni(t,e){for(var n=t?e.length:0,o=n-1;n--;){var i=e[n];if(n==o||i!==r){var r=i;jr(i)?kp.call(t,i,1):bi(t,i)}}return t}function oi(t,e){return t+Yp(Qp()*(e-t+1))}function ii(t,e,n,o){for(var i=-1,r=Vp(Up((e-t)/(n||1)),0),a=ap(r);r--;)a[o?r:++i]=t,t+=n;return a}function ri(t,e){var n="";if(!t||e<1||e>Rt)return n;do e%2&&(n+=t),e=Yp(e/2),e&&(t+=t);while(e);return n}function ai(t,e){return kl(Zr(t,e,kh),t+"")}function si(t){return An(oh(t))}function ui(t,e){var n=oh(t);return na(n,Kn(e,0,n.length))}function hi(t,e,n,o){if(!uu(t))return t;e=Ti(e,t);for(var i=-1,r=e.length,a=r-1,s=t;null!=s&&++i<r;){var u=oa(e[i]),h=n;if(i!=a){var p=s[u];h=o?o(p,u,s):it,h===it&&(h=uu(p)?p:jr(e[i+1])?[]:{})}Nn(s,u,h),s=s[u]}return t}function pi(t){return na(oh(t))}function li(t,e,n){var o=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var r=ap(i);++o<i;)r[o]=t[o+e];return r}function ci(t,e){var n;return ml(t,function(t,o,i){return n=e(t,o,i),!n}),!!n}function fi(t,e,n){var o=0,i=null==t?o:t.length;if("number"==typeof e&&e===e&&i<=Bt){for(;o<i;){var r=o+i>>>1,a=t[r];null!==a&&!_u(a)&&(n?a<=e:a<e)?o=r+1:i=r}return i}return di(t,e,kh,n)}function di(t,e,n,o){e=n(e);for(var i=0,r=null==t?0:t.length,a=e!==e,s=null===e,u=_u(e),h=e===it;i<r;){var p=Yp((i+r)/2),l=n(t[p]),c=l!==it,f=null===l,d=l===l,y=_u(l);if(a)var v=o||d;else v=h?d&&(o||c):s?d&&c&&(o||!f):u?d&&c&&!f&&(o||!y):!f&&!y&&(o?l<=e:l<e);v?i=p+1:r=p}return $p(r,Kt)}function yi(t,e){for(var n=-1,o=t.length,i=0,r=[];++n<o;){var a=t[n],s=e?e(a):a;if(!n||!Vs(s,u)){var u=s;r[i++]=0===a?0:a}}return r}function vi(t){return"number"==typeof t?t:_u(t)?Dt:+t}function gi(t){if("string"==typeof t)return t;if(_c(t))return y(t,gi)+"";if(_u(t))return vl?vl.call(t):"";var e=t+"";return"0"==e&&1/t==-kt?"-0":e}function mi(t,e,n){var o=-1,i=f,r=t.length,a=!0,s=[],u=s;if(n)a=!1,i=d;else if(r>=at){var h=e?null:Ml(t);if(h)return V(h);a=!1,i=D,u=new mn}else u=e?[]:s;t:for(;++o<r;){var p=t[o],l=e?e(p):p;if(p=n||0!==p?p:0,a&&l===l){for(var c=u.length;c--;)if(u[c]===l)continue t;e&&u.push(l),s.push(p)}else i(u,l,n)||(u!==s&&u.push(l),s.push(p))}return s}function bi(t,e){return e=Ti(e,t),t=Jr(t,e),null==t||delete t[oa(Ca(e))]}function _i(t,e,n,o){return hi(t,e,n(uo(t,e)),o)}function xi(t,e,n,o){for(var i=t.length,r=o?i:-1;(o?r--:++r<i)&&e(t[r],r,t););return n?li(t,o?0:r,o?r+1:i):li(t,o?r+1:0,o?i:r)}function wi(t,e){var n=t;return n instanceof _&&(n=n.value()),g(e,function(t,e){return e.func.apply(e.thisArg,v([t],e.args))},n)}function Pi(t,e,n){var o=t.length;if(o<2)return o?mi(t[0]):[];for(var i=-1,r=ap(o);++i<o;)for(var a=t[i],s=-1;++s<o;)s!=i&&(r[i]=zn(r[i]||a,t[s],e,n));return mi(eo(r,1),e,n)}function Si(t,e,n){for(var o=-1,i=t.length,r=e.length,a={};++o<i;){var s=o<r?e[o]:it;n(a,t[o],s)}return a}function Ci(t){return Zs(t)?t:[]}function Mi(t){return"function"==typeof t?t:kh}function Ti(t,e){return _c(t)?t:Br(t,e)?[t]:Rl(Lu(t))}function Ai(t,e,n){var o=t.length;return n=n===it?o:n,!e&&n>=o?t:li(t,e,n)}function Ei(t,e){if(e)return t.slice();var n=t.length,o=Ip?Ip(n):new t.constructor(n);return t.copy(o),o}function Ii(t){
var e=new t.constructor(t.byteLength);return new Ep(e).set(new Ep(t)),e}function Li(t,e){var n=e?Ii(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Ni(t,e,n){var o=e?n(z(t),ct):z(t);return g(o,r,new t.constructor)}function Oi(t){var e=new t.constructor(t.source,ze.exec(t));return e.lastIndex=t.lastIndex,e}function ki(t,e,n){var o=e?n(V(t),ct):V(t);return g(o,a,new t.constructor)}function Ri(t){return yl?lp(yl.call(t)):{}}function Fi(t,e){var n=e?Ii(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Di(t,e){if(t!==e){var n=t!==it,o=null===t,i=t===t,r=_u(t),a=e!==it,s=null===e,u=e===e,h=_u(e);if(!s&&!h&&!r&&t>e||r&&a&&u&&!s&&!h||o&&a&&u||!n&&u||!i)return 1;if(!o&&!r&&!h&&t<e||h&&n&&i&&!o&&!r||s&&n&&i||!a&&i||!u)return-1}return 0}function ji(t,e,n){for(var o=-1,i=t.criteria,r=e.criteria,a=i.length,s=n.length;++o<a;){var u=Di(i[o],r[o]);if(u){if(o>=s)return u;var h=n[o];return u*("desc"==h?-1:1)}}return t.index-e.index}function Ki(t,e,n,o){for(var i=-1,r=t.length,a=n.length,s=-1,u=e.length,h=Vp(r-a,0),p=ap(u+h),l=!o;++s<u;)p[s]=e[s];for(;++i<a;)(l||i<r)&&(p[n[i]]=t[i]);for(;h--;)p[s++]=t[i++];return p}function Bi(t,e,n,o){for(var i=-1,r=t.length,a=-1,s=n.length,u=-1,h=e.length,p=Vp(r-s,0),l=ap(p+h),c=!o;++i<p;)l[i]=t[i];for(var f=i;++u<h;)l[f+u]=e[u];for(;++a<s;)(c||i<r)&&(l[f+n[a]]=t[i++]);return l}function Xi(t,e){var n=-1,o=t.length;for(e||(e=ap(o));++n<o;)e[n]=t[n];return e}function Ui(t,e,n,o){var i=!n;n||(n={});for(var r=-1,a=e.length;++r<a;){var s=e[r],u=o?o(n[s],t[s],s,n,t):it;u===it&&(u=t[s]),i?Dn(n,s,u):Nn(n,s,u)}return n}function Yi(t,e){return Ui(t,Al(t),e)}function Gi(t,e){return Ui(t,El(t),e)}function Wi(t,e){return function(n,o){var i=_c(n)?u:kn,r=e?e():{};return i(n,t,Cr(o,2),r)}}function zi(t){return ai(function(e,n){var o=-1,i=n.length,r=i>1?n[i-1]:it,a=i>2?n[2]:it;for(r=t.length>3&&"function"==typeof r?(i--,r):it,a&&Kr(n[0],n[1],a)&&(r=i<3?it:r,i=1),e=lp(e);++o<i;){var s=n[o];s&&t(e,s,o,r)}return e})}function Hi(t,e){return function(n,o){if(null==n)return n;if(!$s(n))return t(n,o);for(var i=n.length,r=e?i:-1,a=lp(n);(e?r--:++r<i)&&o(a[r],r,a)!==!1;);return n}}function qi(t){return function(e,n,o){for(var i=-1,r=lp(e),a=o(e),s=a.length;s--;){var u=a[t?s:++i];if(n(r[u],u,r)===!1)break}return e}}function Vi(t,e,n){function o(){var e=this&&this!==so&&this instanceof o?r:t;return e.apply(i?n:this,arguments)}var i=e&gt,r=Ji(t);return o}function $i(t){return function(e){e=Lu(e);var n=Y(e)?tt(e):it,o=n?n[0]:e.charAt(0),i=n?Ai(n,1).join(""):e.slice(1);return o[t]()+i}}function Zi(t){return function(e){return g(Eh(hh(e).replace(Yn,"")),t,"")}}function Ji(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=gl(t.prototype),o=t.apply(n,e);return uu(o)?o:n}}function Qi(t,e,n){function o(){for(var r=arguments.length,a=ap(r),u=r,h=Sr(o);u--;)a[u]=arguments[u];var p=r<3&&a[0]!==h&&a[r-1]!==h?[]:q(a,h);if(r-=p.length,r<n)return pr(t,e,nr,o.placeholder,it,a,p,it,it,n-r);var l=this&&this!==so&&this instanceof o?i:t;return s(l,this,a)}var i=Ji(t);return o}function tr(t){return function(e,n,o){var i=lp(e);if(!$s(e)){var r=Cr(n,3);e=Gu(e),n=function(t){return r(i[t],t,i)}}var a=t(e,n,o);return a>-1?i[r?e[a]:a]:it}}function er(t){return _r(function(e){var n=e.length,o=n,r=i.prototype.thru;for(t&&e.reverse();o--;){var a=e[o];if("function"!=typeof a)throw new dp(ut);if(r&&!s&&"wrapper"==Pr(a))var s=new i([],!0)}for(o=s?o:n;++o<n;){a=e[o];var u=Pr(a),h="wrapper"==u?Tl(a):it;s=h&&Ur(h[0])&&h[1]==(St|_t|wt|Ct)&&!h[4].length&&1==h[9]?s[Pr(h[0])].apply(s,h[3]):1==a.length&&Ur(a)?s[u]():s.thru(a)}return function(){var t=arguments,o=t[0];if(s&&1==t.length&&_c(o))return s.plant(o).value();for(var i=0,r=n?e[i].apply(this,t):o;++i<n;)r=e[i].call(this,r);return r}})}function nr(t,e,n,o,i,r,a,s,u,h){function p(){for(var g=arguments.length,m=ap(g),b=g;b--;)m[b]=arguments[b];if(d)var _=Sr(p),x=B(m,_);if(o&&(m=Ki(m,o,i,d)),r&&(m=Bi(m,r,a,d)),g-=x,d&&g<h){var w=q(m,_);return pr(t,e,nr,p.placeholder,n,m,w,s,u,h-g)}var P=c?n:this,S=f?P[t]:t;return g=m.length,s?m=Qr(m,s):y&&g>1&&m.reverse(),l&&u<g&&(m.length=u),this&&this!==so&&this instanceof p&&(S=v||Ji(S)),S.apply(P,m)}var l=e&St,c=e&gt,f=e&mt,d=e&(_t|xt),y=e&Mt,v=f?it:Ji(t);return p}function or(t,e){return function(n,o){return Ao(n,t,e(o),{})}}function ir(t,e){return function(n,o){var i;if(n===it&&o===it)return e;if(n!==it&&(i=n),o!==it){if(i===it)return o;"string"==typeof n||"string"==typeof o?(n=gi(n),o=gi(o)):(n=vi(n),o=vi(o)),i=t(n,o)}return i}}function rr(t){return _r(function(e){return e=y(e,R(Cr())),ai(function(n){var o=this;return t(e,function(t){return s(t,o,n)})})})}function ar(t,e){e=e===it?" ":gi(e);var n=e.length;if(n<2)return n?ri(e,t):e;var o=ri(e,Up(t/Q(e)));return Y(e)?Ai(tt(o),0,t).join(""):o.slice(0,t)}function sr(t,e,n,o){function i(){for(var e=-1,u=arguments.length,h=-1,p=o.length,l=ap(p+u),c=this&&this!==so&&this instanceof i?a:t;++h<p;)l[h]=o[h];for(;u--;)l[h++]=arguments[++e];return s(c,r?n:this,l)}var r=e&gt,a=Ji(t);return i}function ur(t){return function(e,n,o){return o&&"number"!=typeof o&&Kr(e,n,o)&&(n=o=it),e=Cu(e),n===it?(n=e,e=0):n=Cu(n),o=o===it?e<n?1:-1:Cu(o),ii(e,n,o,t)}}function hr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Au(e),n=Au(n)),t(e,n)}}function pr(t,e,n,o,i,r,a,s,u,h){var p=e&_t,l=p?a:it,c=p?it:a,f=p?r:it,d=p?it:r;e|=p?wt:Pt,e&=~(p?Pt:wt),e&bt||(e&=~(gt|mt));var y=[t,e,i,f,l,d,c,s,u,h],v=n.apply(it,y);return Ur(t)&&Nl(v,y),v.placeholder=o,ta(v,t,e)}function lr(t){var e=pp[t];return function(t,n){if(t=Au(t),n=null==n?0:$p(Mu(n),292)){var o=(Lu(t)+"e").split("e"),i=e(o[0]+"e"+(+o[1]+n));return o=(Lu(i)+"e").split("e"),+(o[0]+"e"+(+o[1]-n))}return e(t)}}function cr(t){return function(e){var n=Il(e);return n==Zt?z(e):n==ie?$(e):k(e,t(e))}}function fr(t,e,n,o,i,r,a,s){var u=e&mt;if(!u&&"function"!=typeof t)throw new dp(ut);var h=o?o.length:0;if(h||(e&=~(wt|Pt),o=i=it),a=a===it?a:Vp(Mu(a),0),s=s===it?s:Mu(s),h-=i?i.length:0,e&Pt){var p=o,l=i;o=i=it}var c=u?it:Tl(t),f=[t,e,n,o,i,p,l,r,a,s];if(c&&qr(f,c),t=f[0],e=f[1],n=f[2],o=f[3],i=f[4],s=f[9]=f[9]===it?u?0:t.length:Vp(f[9]-h,0),!s&&e&(_t|xt)&&(e&=~(_t|xt)),e&&e!=gt)d=e==_t||e==xt?Qi(t,e,s):e!=wt&&e!=(gt|wt)||i.length?nr.apply(it,f):sr(t,e,n,o);else var d=Vi(t,e,n);var y=c?wl:Nl;return ta(y(d,f),t,e)}function dr(t,e,n,o){return t===it||Vs(t,gp[n])&&!_p.call(o,n)?e:t}function yr(t,e,n,o,i,r){return uu(t)&&uu(e)&&(r.set(e,t),qo(t,e,it,yr,r),r.delete(e)),t}function vr(t){return gu(t)?it:t}function gr(t,e,n,o,i,r){var a=n&yt,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var h=r.get(t);if(h&&r.get(e))return h==e;var p=-1,l=!0,c=n&vt?new mn:it;for(r.set(t,e),r.set(e,t);++p<s;){var f=t[p],d=e[p];if(o)var y=a?o(d,f,p,e,t,r):o(f,d,p,t,e,r);if(y!==it){if(y)continue;l=!1;break}if(c){if(!b(e,function(t,e){if(!D(c,e)&&(f===t||i(f,t,n,o,r)))return c.push(e)})){l=!1;break}}else if(f!==d&&!i(f,d,n,o,r)){l=!1;break}}return r.delete(t),r.delete(e),l}function mr(t,e,n,o,i,r,a){switch(n){case le:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case pe:return!(t.byteLength!=e.byteLength||!r(new Ep(t),new Ep(e)));case Wt:case zt:case Jt:return Vs(+t,+e);case qt:return t.name==e.name&&t.message==e.message;case oe:case re:return t==e+"";case Zt:var s=z;case ie:var u=o&yt;if(s||(s=V),t.size!=e.size&&!u)return!1;var h=a.get(t);if(h)return h==e;o|=vt,a.set(t,e);var p=gr(s(t),s(e),o,i,r,a);return a.delete(t),p;case ae:if(yl)return yl.call(t)==yl.call(e)}return!1}function br(t,e,n,o,i,r){var a=n&yt,s=xr(t),u=s.length,h=xr(e),p=h.length;if(u!=p&&!a)return!1;for(var l=u;l--;){var c=s[l];if(!(a?c in e:_p.call(e,c)))return!1}var f=r.get(t);if(f&&r.get(e))return f==e;var d=!0;r.set(t,e),r.set(e,t);for(var y=a;++l<u;){c=s[l];var v=t[c],g=e[c];if(o)var m=a?o(g,v,c,e,t,r):o(v,g,c,t,e,r);if(!(m===it?v===g||i(v,g,n,o,r):m)){d=!1;break}y||(y="constructor"==c)}if(d&&!y){var b=t.constructor,_=e.constructor;b!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _)&&(d=!1)}return r.delete(t),r.delete(e),d}function _r(t){return kl(Zr(t,it,ga),t+"")}function xr(t){return ho(t,Gu,Al)}function wr(t){return ho(t,Wu,El)}function Pr(t){for(var e=t.name+"",n=ul[e],o=_p.call(ul,e)?n.length:0;o--;){var i=n[o],r=i.func;if(null==r||r==t)return i.name}return e}function Sr(t){var e=_p.call(n,"placeholder")?n:t;return e.placeholder}function Cr(){var t=n.iteratee||Rh;return t=t===Rh?Xo:t,arguments.length?t(arguments[0],arguments[1]):t}function Mr(t,e){var n=t.__data__;return Xr(e)?n["string"==typeof e?"string":"hash"]:n.map}function Tr(t){for(var e=Gu(t),n=e.length;n--;){var o=e[n],i=t[o];e[n]=[o,i,Wr(i)]}return e}function Ar(t,e){var n=U(t,e);return Do(n)?n:it}function Er(t){var e=_p.call(t,Dp),n=t[Dp];try{t[Dp]=it;var o=!0}catch(t){}var i=Pp.call(t);return o&&(e?t[Dp]=n:delete t[Dp]),i}function Ir(t,e,n){for(var o=-1,i=n.length;++o<i;){var r=n[o],a=r.size;switch(r.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=$p(e,t+a);break;case"takeRight":t=Vp(t,e-a)}}return{start:t,end:e}}function Lr(t){var e=t.match(Xe);return e?e[1].split(Ue):[]}function Nr(t,e,n){e=Ti(e,t);for(var o=-1,i=e.length,r=!1;++o<i;){var a=oa(e[o]);if(!(r=null!=t&&n(t,a)))break;t=t[a]}return r||++o!=i?r:(i=null==t?0:t.length,!!i&&su(i)&&jr(a,i)&&(_c(t)||bc(t)))}function Or(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&_p.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function kr(t){return"function"!=typeof t.constructor||Gr(t)?{}:gl(Lp(t))}function Rr(t,e,n,o){var i=t.constructor;switch(e){case pe:return Ii(t);case Wt:case zt:return new i(+t);case le:return Li(t,o);case ce:case fe:case de:case ye:case ve:case ge:case me:case be:case _e:return Fi(t,o);case Zt:return Ni(t,o,n);case Jt:case re:return new i(t);case oe:return Oi(t);case ie:return ki(t,o,n);case ae:return Ri(t)}}function Fr(t,e){var n=e.length;if(!n)return t;var o=n-1;return e[o]=(n>1?"& ":"")+e[o],e=e.join(n>2?", ":" "),t.replace(Be,"{\n/* [wrapped with "+e+"] */\n")}function Dr(t){return _c(t)||bc(t)||!!(Rp&&t&&t[Rp])}function jr(t,e){return e=null==e?Rt:e,!!e&&("number"==typeof t||Ze.test(t))&&t>-1&&t%1==0&&t<e}function Kr(t,e,n){if(!uu(n))return!1;var o=typeof e;return!!("number"==o?$s(n)&&jr(e,n.length):"string"==o&&e in n)&&Vs(n[e],t)}function Br(t,e){if(_c(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!_u(t))||(Ne.test(t)||!Le.test(t)||null!=e&&t in lp(e))}function Xr(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function Ur(t){var e=Pr(t),o=n[e];if("function"!=typeof o||!(e in _.prototype))return!1;if(t===o)return!0;var i=Tl(o);return!!i&&t===i[0]}function Yr(t){return!!wp&&wp in t}function Gr(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||gp;return t===n}function Wr(t){return t===t&&!uu(t)}function zr(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==it||t in lp(n)))}}function Hr(t){var e=Rs(t,function(t){return n.size===pt&&n.clear(),t}),n=e.cache;return e}function qr(t,e){var n=t[1],o=e[1],i=n|o,r=i<(gt|mt|St),a=o==St&&n==_t||o==St&&n==Ct&&t[7].length<=e[8]||o==(St|Ct)&&e[7].length<=e[8]&&n==_t;if(!r&&!a)return t;o&gt&&(t[2]=e[2],i|=n&gt?0:bt);var s=e[3];if(s){var u=t[3];t[3]=u?Ki(u,s,e[4]):s,t[4]=u?q(t[3],lt):e[4]}return s=e[5],s&&(u=t[5],t[5]=u?Bi(u,s,e[6]):s,t[6]=u?q(t[5],lt):e[6]),s=e[7],s&&(t[7]=s),o&St&&(t[8]=null==t[8]?e[8]:$p(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Vr(t){var e=[];if(null!=t)for(var n in lp(t))e.push(n);return e}function $r(t){return Pp.call(t)}function Zr(t,e,n){return e=Vp(e===it?t.length-1:e,0),function(){for(var o=arguments,i=-1,r=Vp(o.length-e,0),a=ap(r);++i<r;)a[i]=o[e+i];i=-1;for(var u=ap(e+1);++i<e;)u[i]=o[i];return u[e]=n(a),s(t,this,u)}}function Jr(t,e){return e.length<2?t:uo(t,li(e,0,-1))}function Qr(t,e){for(var n=t.length,o=$p(e.length,n),i=Xi(t);o--;){var r=e[o];t[o]=jr(r,n)?i[r]:it}return t}function ta(t,e,n){var o=e+"";return kl(t,Fr(o,ra(Lr(o),n)))}function ea(t){var e=0,n=0;return function(){var o=Zp(),i=It-(o-n);if(n=o,i>0){if(++e>=Et)return arguments[0]}else e=0;return t.apply(it,arguments)}}function na(t,e){var n=-1,o=t.length,i=o-1;for(e=e===it?o:e;++n<e;){var r=oi(n,i),a=t[r];t[r]=t[n],t[n]=a}return t.length=e,t}function oa(t){if("string"==typeof t||_u(t))return t;var e=t+"";return"0"==e&&1/t==-kt?"-0":e}function ia(t){if(null!=t){try{return bp.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ra(t,e){return h(Xt,function(n){var o="_."+n[0];e&n[1]&&!f(t,o)&&t.push(o)}),t.sort()}function aa(t){if(t instanceof _)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=Xi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function sa(t,e,n){e=(n?Kr(t,e,n):e===it)?1:Vp(Mu(e),0);var o=null==t?0:t.length;if(!o||e<1)return[];for(var i=0,r=0,a=ap(Up(o/e));i<o;)a[r++]=li(t,i,i+=e);return a}function ua(t){for(var e=-1,n=null==t?0:t.length,o=0,i=[];++e<n;){var r=t[e];r&&(i[o++]=r)}return i}function ha(){var t=arguments.length;if(!t)return[];for(var e=ap(t-1),n=arguments[0],o=t;o--;)e[o-1]=arguments[o];return v(_c(n)?Xi(n):[n],eo(e,1))}function pa(t,e,n){var o=null==t?0:t.length;return o?(e=n||e===it?1:Mu(e),li(t,e<0?0:e,o)):[]}function la(t,e,n){var o=null==t?0:t.length;return o?(e=n||e===it?1:Mu(e),e=o-e,li(t,0,e<0?0:e)):[]}function ca(t,e){return t&&t.length?xi(t,Cr(e,3),!0,!0):[]}function fa(t,e){return t&&t.length?xi(t,Cr(e,3),!0):[]}function da(t,e,n,o){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Kr(t,e,n)&&(n=0,o=i),Qn(t,e,n,o)):[]}function ya(t,e,n){var o=null==t?0:t.length;if(!o)return-1;var i=null==n?0:Mu(n);return i<0&&(i=Vp(o+i,0)),P(t,Cr(e,3),i)}function va(t,e,n){var o=null==t?0:t.length;if(!o)return-1;var i=o-1;return n!==it&&(i=Mu(n),i=n<0?Vp(o+i,0):$p(i,o-1)),P(t,Cr(e,3),i,!0)}function ga(t){var e=null==t?0:t.length;return e?eo(t,1):[]}function ma(t){var e=null==t?0:t.length;return e?eo(t,kt):[]}function ba(t,e){var n=null==t?0:t.length;return n?(e=e===it?1:Mu(e),eo(t,e)):[]}function _a(t){for(var e=-1,n=null==t?0:t.length,o={};++e<n;){var i=t[e];o[i[0]]=i[1]}return o}function xa(t){return t&&t.length?t[0]:it}function wa(t,e,n){var o=null==t?0:t.length;if(!o)return-1;var i=null==n?0:Mu(n);return i<0&&(i=Vp(o+i,0)),S(t,e,i)}function Pa(t){var e=null==t?0:t.length;return e?li(t,0,-1):[]}function Sa(t,e){return null==t?"":Hp.call(t,e)}function Ca(t){var e=null==t?0:t.length;return e?t[e-1]:it}function Ma(t,e,n){var o=null==t?0:t.length;if(!o)return-1;var i=o;return n!==it&&(i=Mu(n),i=i<0?Vp(o+i,0):$p(i,o-1)),e===e?J(t,e,i):P(t,M,i,!0)}function Ta(t,e){return t&&t.length?$o(t,Mu(e)):it}function Aa(t,e){return t&&t.length&&e&&e.length?ei(t,e):t}function Ea(t,e,n){return t&&t.length&&e&&e.length?ei(t,e,Cr(n,2)):t}function Ia(t,e,n){return t&&t.length&&e&&e.length?ei(t,e,it,n):t}function La(t,e){var n=[];if(!t||!t.length)return n;var o=-1,i=[],r=t.length;for(e=Cr(e,3);++o<r;){var a=t[o];e(a,o,t)&&(n.push(a),i.push(o))}return ni(t,i),n}function Na(t){return null==t?t:tl.call(t)}function Oa(t,e,n){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&Kr(t,e,n)?(e=0,n=o):(e=null==e?0:Mu(e),n=n===it?o:Mu(n)),li(t,e,n)):[]}function ka(t,e){return fi(t,e)}function Ra(t,e,n){return di(t,e,Cr(n,2))}function Fa(t,e){var n=null==t?0:t.length;if(n){var o=fi(t,e);if(o<n&&Vs(t[o],e))return o}return-1}function Da(t,e){return fi(t,e,!0)}function ja(t,e,n){return di(t,e,Cr(n,2),!0)}function Ka(t,e){var n=null==t?0:t.length;if(n){var o=fi(t,e,!0)-1;if(Vs(t[o],e))return o}return-1}function Ba(t){return t&&t.length?yi(t):[]}function Xa(t,e){return t&&t.length?yi(t,Cr(e,2)):[]}function Ua(t){var e=null==t?0:t.length;return e?li(t,1,e):[]}function Ya(t,e,n){return t&&t.length?(e=n||e===it?1:Mu(e),li(t,0,e<0?0:e)):[]}function Ga(t,e,n){var o=null==t?0:t.length;return o?(e=n||e===it?1:Mu(e),e=o-e,li(t,e<0?0:e,o)):[]}function Wa(t,e){return t&&t.length?xi(t,Cr(e,3),!1,!0):[]}function za(t,e){return t&&t.length?xi(t,Cr(e,3)):[]}function Ha(t){return t&&t.length?mi(t):[]}function qa(t,e){return t&&t.length?mi(t,Cr(e,2)):[]}function Va(t,e){return e="function"==typeof e?e:it,t&&t.length?mi(t,it,e):[]}function $a(t){if(!t||!t.length)return[];var e=0;return t=c(t,function(t){if(Zs(t))return e=Vp(t.length,e),!0}),O(e,function(e){return y(t,A(e))})}function Za(t,e){if(!t||!t.length)return[];var n=$a(t);return null==e?n:y(n,function(t){return s(e,it,t)})}function Ja(t,e){return Si(t||[],e||[],Nn)}function Qa(t,e){return Si(t||[],e||[],hi)}function ts(t){var e=n(t);return e.__chain__=!0,e}function es(t,e){return e(t),t}function ns(t,e){return e(t)}function os(){return ts(this)}function is(){return new i(this.value(),this.__chain__)}function rs(){this.__values__===it&&(this.__values__=Su(this.value()));var t=this.__index__>=this.__values__.length,e=t?it:this.__values__[this.__index__++];return{done:t,value:e}}function as(){return this}function ss(t){for(var e,n=this;n instanceof o;){var i=aa(n);i.__index__=0,i.__values__=it,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e}function us(){var t=this.__wrapped__;if(t instanceof _){var e=t;return this.__actions__.length&&(e=new _(this)),e=e.reverse(),e.__actions__.push({func:ns,args:[Na],thisArg:it}),new i(e,this.__chain__)}return this.thru(Na)}function hs(){return wi(this.__wrapped__,this.__actions__)}function ps(t,e,n){var o=_c(t)?l:Hn;return n&&Kr(t,e,n)&&(e=it),o(t,Cr(e,3))}function ls(t,e){var n=_c(t)?c:to;return n(t,Cr(e,3))}function cs(t,e){return eo(ms(t,e),1)}function fs(t,e){return eo(ms(t,e),kt)}function ds(t,e,n){return n=n===it?1:Mu(n),eo(ms(t,e),n)}function ys(t,e){var n=_c(t)?h:ml;return n(t,Cr(e,3))}function vs(t,e){var n=_c(t)?p:bl;return n(t,Cr(e,3))}function gs(t,e,n,o){t=$s(t)?t:oh(t),n=n&&!o?Mu(n):0;var i=t.length;return n<0&&(n=Vp(i+n,0)),bu(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&S(t,e,n)>-1}function ms(t,e){var n=_c(t)?y:Wo;return n(t,Cr(e,3))}function bs(t,e,n,o){return null==t?[]:(_c(e)||(e=null==e?[]:[e]),n=o?it:n,_c(n)||(n=null==n?[]:[n]),Zo(t,e,n))}function _s(t,e,n){var o=_c(t)?g:I,i=arguments.length<3;return o(t,Cr(e,4),n,i,ml)}function xs(t,e,n){var o=_c(t)?m:I,i=arguments.length<3;return o(t,Cr(e,4),n,i,bl)}function ws(t,e){var n=_c(t)?c:to;return n(t,Fs(Cr(e,3)))}function Ps(t){var e=_c(t)?An:si;return e(t)}function Ss(t,e,n){e=(n?Kr(t,e,n):e===it)?1:Mu(e);var o=_c(t)?En:ui;return o(t,e)}function Cs(t){var e=_c(t)?In:pi;return e(t)}function Ms(t){if(null==t)return 0;if($s(t))return bu(t)?Q(t):t.length;var e=Il(t);return e==Zt||e==ie?t.size:Uo(t).length}function Ts(t,e,n){var o=_c(t)?b:ci;return n&&Kr(t,e,n)&&(e=it),o(t,Cr(e,3))}function As(t,e){if("function"!=typeof e)throw new dp(ut);return t=Mu(t),function(){if(--t<1)return e.apply(this,arguments)}}function Es(t,e,n){return e=n?it:e,e=t&&null==e?t.length:e,fr(t,St,it,it,it,it,e)}function Is(t,e){var n;if("function"!=typeof e)throw new dp(ut);return t=Mu(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=it),n}}function Ls(t,e,n){e=n?it:e;var o=fr(t,_t,it,it,it,it,it,e);return o.placeholder=Ls.placeholder,o}function Ns(t,e,n){e=n?it:e;var o=fr(t,xt,it,it,it,it,it,e);return o.placeholder=Ns.placeholder,o}function Os(t,e,n){function o(e){var n=c,o=f;return c=f=it,m=e,y=t.apply(o,n)}function i(t){return m=t,v=Ol(s,e),b?o(t):y}function r(t){var n=t-g,o=t-m,i=e-n;return _?$p(i,d-o):i}function a(t){var n=t-g,o=t-m;return g===it||n>=e||n<0||_&&o>=d}function s(){var t=uc();return a(t)?u(t):void(v=Ol(s,r(t)))}function u(t){return v=it,x&&c?o(t):(c=f=it,y)}function h(){v!==it&&Cl(v),m=0,c=g=f=v=it}function p(){return v===it?y:u(uc())}function l(){var t=uc(),n=a(t);if(c=arguments,f=this,g=t,n){if(v===it)return i(g);if(_)return v=Ol(s,e),o(g)}return v===it&&(v=Ol(s,e)),y}var c,f,d,y,v,g,m=0,b=!1,_=!1,x=!0;if("function"!=typeof t)throw new dp(ut);return e=Au(e)||0,uu(n)&&(b=!!n.leading,_="maxWait"in n,d=_?Vp(Au(n.maxWait)||0,e):d,x="trailing"in n?!!n.trailing:x),l.cancel=h,l.flush=p,l}function ks(t){return fr(t,Mt)}function Rs(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new dp(ut);var n=function(){var o=arguments,i=e?e.apply(this,o):o[0],r=n.cache;if(r.has(i))return r.get(i);var a=t.apply(this,o);return n.cache=r.set(i,a)||r,a};return n.cache=new(Rs.Cache||cn),n}function Fs(t){if("function"!=typeof t)throw new dp(ut);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Ds(t){return Is(2,t)}function js(t,e){if("function"!=typeof t)throw new dp(ut);return e=e===it?e:Mu(e),ai(t,e)}function Ks(t,e){if("function"!=typeof t)throw new dp(ut);return e=null==e?0:Vp(Mu(e),0),ai(function(n){var o=n[e],i=Ai(n,0,e);return o&&v(i,o),s(t,this,i)})}function Bs(t,e,n){var o=!0,i=!0;if("function"!=typeof t)throw new dp(ut);return uu(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),Os(t,e,{leading:o,maxWait:e,trailing:i})}function Xs(t){return Es(t,1)}function Us(t,e){return dc(Mi(e),t)}function Ys(){if(!arguments.length)return[];var t=arguments[0];return _c(t)?t:[t]}function Gs(t){return Bn(t,dt)}function Ws(t,e){return e="function"==typeof e?e:it,Bn(t,dt,e)}function zs(t){return Bn(t,ct|dt)}function Hs(t,e){return e="function"==typeof e?e:it,Bn(t,ct|dt,e)}function qs(t,e){return null==e||Un(t,e,Gu(e))}function Vs(t,e){return t===e||t!==t&&e!==e}function $s(t){return null!=t&&su(t.length)&&!ru(t)}function Zs(t){return hu(t)&&$s(t)}function Js(t){return t===!0||t===!1||hu(t)&&lo(t)==Wt}function Qs(t){return hu(t)&&1===t.nodeType&&!gu(t)}function tu(t){if(null==t)return!0;if($s(t)&&(_c(t)||"string"==typeof t||"function"==typeof t.splice||wc(t)||Tc(t)||bc(t)))return!t.length;var e=Il(t);if(e==Zt||e==ie)return!t.size;if(Gr(t))return!Uo(t).length;for(var n in t)if(_p.call(t,n))return!1;return!0}function eu(t,e){return Oo(t,e)}function nu(t,e,n){n="function"==typeof n?n:it;var o=n?n(t,e):it;return o===it?Oo(t,e,it,n):!!o}function ou(t){if(!hu(t))return!1;var e=lo(t);return e==qt||e==Ht||"string"==typeof t.message&&"string"==typeof t.name&&!gu(t)}function iu(t){return"number"==typeof t&&zp(t)}function ru(t){if(!uu(t))return!1;var e=lo(t);return e==Vt||e==$t||e==Gt||e==ne}function au(t){return"number"==typeof t&&t==Mu(t)}function su(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Rt}function uu(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function hu(t){return null!=t&&"object"==typeof t}function pu(t,e){return t===e||Fo(t,e,Tr(e))}function lu(t,e,n){return n="function"==typeof n?n:it,Fo(t,e,Tr(e),n)}function cu(t){return vu(t)&&t!=+t}function fu(t){if(Ll(t))throw new up(st);return Do(t)}function du(t){return null===t}function yu(t){return null==t}function vu(t){return"number"==typeof t||hu(t)&&lo(t)==Jt}function gu(t){if(!hu(t)||lo(t)!=te)return!1;var e=Lp(t);if(null===e)return!0;var n=_p.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&bp.call(n)==Sp}function mu(t){return au(t)&&t>=-Rt&&t<=Rt}function bu(t){return"string"==typeof t||!_c(t)&&hu(t)&&lo(t)==re}function _u(t){return"symbol"==typeof t||hu(t)&&lo(t)==ae}function xu(t){return t===it}function wu(t){return hu(t)&&Il(t)==ue}function Pu(t){return hu(t)&&lo(t)==he}function Su(t){if(!t)return[];if($s(t))return bu(t)?tt(t):Xi(t);if(Fp&&t[Fp])return W(t[Fp]());var e=Il(t),n=e==Zt?z:e==ie?V:oh;return n(t)}function Cu(t){if(!t)return 0===t?t:0;if(t=Au(t),t===kt||t===-kt){var e=t<0?-1:1;return e*Ft}return t===t?t:0}function Mu(t){var e=Cu(t),n=e%1;return e===e?n?e-n:e:0}function Tu(t){return t?Kn(Mu(t),0,jt):0}function Au(t){if("number"==typeof t)return t;if(_u(t))return Dt;if(uu(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=uu(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(De,"");var n=qe.test(t);return n||$e.test(t)?io(t.slice(2),n?2:8):He.test(t)?Dt:+t}function Eu(t){return Ui(t,Wu(t))}function Iu(t){return t?Kn(Mu(t),-Rt,Rt):0===t?t:0}function Lu(t){return null==t?"":gi(t)}function Nu(t,e){var n=gl(t);return null==e?n:Rn(n,e)}function Ou(t,e){return w(t,Cr(e,3),no)}function ku(t,e){return w(t,Cr(e,3),ro)}function Ru(t,e){return null==t?t:_l(t,Cr(e,3),Wu)}function Fu(t,e){return null==t?t:xl(t,Cr(e,3),Wu)}function Du(t,e){return t&&no(t,Cr(e,3))}function ju(t,e){return t&&ro(t,Cr(e,3))}function Ku(t){return null==t?[]:ao(t,Gu(t))}function Bu(t){return null==t?[]:ao(t,Wu(t))}function Xu(t,e,n){var o=null==t?it:uo(t,e);return o===it?n:o}function Uu(t,e){return null!=t&&Nr(t,e,_o)}function Yu(t,e){return null!=t&&Nr(t,e,So)}function Gu(t){return $s(t)?Tn(t):Uo(t)}function Wu(t){return $s(t)?Tn(t,!0):Yo(t)}function zu(t,e){var n={};return e=Cr(e,3),no(t,function(t,o,i){Dn(n,e(t,o,i),t)}),n}function Hu(t,e){var n={};return e=Cr(e,3),no(t,function(t,o,i){Dn(n,o,e(t,o,i))}),n}function qu(t,e){return Vu(t,Fs(Cr(e)))}function Vu(t,e){if(null==t)return{};var n=y(wr(t),function(t){return[t]});return e=Cr(e),Qo(t,n,function(t,n){return e(t,n[0])})}function $u(t,e,n){e=Ti(e,t);var o=-1,i=e.length;for(i||(i=1,t=it);++o<i;){var r=null==t?it:t[oa(e[o])];r===it&&(o=i,r=n),t=ru(r)?r.call(t):r}return t}function Zu(t,e,n){return null==t?t:hi(t,e,n)}function Ju(t,e,n,o){return o="function"==typeof o?o:it,null==t?t:hi(t,e,n,o)}function Qu(t,e,n){var o=_c(t),i=o||wc(t)||Tc(t);if(e=Cr(e,4),null==n){var r=t&&t.constructor;n=i?o?new r:[]:uu(t)&&ru(r)?gl(Lp(t)):{}}return(i?h:no)(t,function(t,o,i){return e(n,t,o,i)}),n}function th(t,e){return null==t||bi(t,e)}function eh(t,e,n){return null==t?t:_i(t,e,Mi(n))}function nh(t,e,n,o){return o="function"==typeof o?o:it,null==t?t:_i(t,e,Mi(n),o)}function oh(t){return null==t?[]:F(t,Gu(t))}function ih(t){return null==t?[]:F(t,Wu(t))}function rh(t,e,n){return n===it&&(n=e,e=it),n!==it&&(n=Au(n),n=n===n?n:0),e!==it&&(e=Au(e),e=e===e?e:0),Kn(Au(t),e,n)}function ah(t,e,n){return e=Cu(e),n===it?(n=e,e=0):n=Cu(n),t=Au(t),Mo(t,e,n)}function sh(t,e,n){if(n&&"boolean"!=typeof n&&Kr(t,e,n)&&(e=n=it),n===it&&("boolean"==typeof e?(n=e,e=it):"boolean"==typeof t&&(n=t,t=it)),t===it&&e===it?(t=0,e=1):(t=Cu(t),e===it?(e=t,t=0):e=Cu(e)),t>e){var o=t;t=e,e=o}if(n||t%1||e%1){var i=Qp();return $p(t+i*(e-t+oo("1e-"+((i+"").length-1))),e)}return oi(t,e)}function uh(t){return Qc(Lu(t).toLowerCase())}function hh(t){return t=Lu(t),t&&t.replace(Je,xo).replace(Gn,"")}function ph(t,e,n){t=Lu(t),e=gi(e);var o=t.length;n=n===it?o:Kn(Mu(n),0,o);var i=n;return n-=e.length,n>=0&&t.slice(n,i)==e}function lh(t){return t=Lu(t),t&&Te.test(t)?t.replace(Ce,wo):t}function ch(t){return t=Lu(t),t&&Fe.test(t)?t.replace(Re,"\\$&"):t}function fh(t,e,n){t=Lu(t),e=Mu(e);var o=e?Q(t):0;if(!e||o>=e)return t;var i=(e-o)/2;return ar(Yp(i),n)+t+ar(Up(i),n)}function dh(t,e,n){t=Lu(t),e=Mu(e);var o=e?Q(t):0;return e&&o<e?t+ar(e-o,n):t}function yh(t,e,n){t=Lu(t),e=Mu(e);var o=e?Q(t):0;return e&&o<e?ar(e-o,n)+t:t}function vh(t,e,n){return n||null==e?e=0:e&&(e=+e),Jp(Lu(t).replace(je,""),e||0)}function gh(t,e,n){return e=(n?Kr(t,e,n):e===it)?1:Mu(e),ri(Lu(t),e)}function mh(){var t=arguments,e=Lu(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function bh(t,e,n){return n&&"number"!=typeof n&&Kr(t,e,n)&&(e=n=it),(n=n===it?jt:n>>>0)?(t=Lu(t),t&&("string"==typeof e||null!=e&&!Cc(e))&&(e=gi(e),!e&&Y(t))?Ai(tt(t),0,n):t.split(e,n)):[]}function _h(t,e,n){return t=Lu(t),n=null==n?0:Kn(Mu(n),0,t.length),e=gi(e),t.slice(n,n+e.length)==e}function xh(t,e,o){var i=n.templateSettings;o&&Kr(t,e,o)&&(e=it),t=Lu(t),e=Nc({},e,i,dr);var r,a,s=Nc({},e.imports,i.imports,dr),u=Gu(s),h=F(s,u),p=0,l=e.interpolate||Qe,c="__p += '",f=cp((e.escape||Qe).source+"|"+l.source+"|"+(l===Ie?We:Qe).source+"|"+(e.evaluate||Qe).source+"|$","g"),d="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++$n+"]")+"\n";t.replace(f,function(e,n,o,i,s,u){return o||(o=i),c+=t.slice(p,u).replace(tn,X),n&&(r=!0,c+="' +\n__e("+n+") +\n'"),s&&(a=!0,c+="';\n"+s+";\n__p += '"),o&&(c+="' +\n((__t = ("+o+")) == null ? '' : __t) +\n'"),p=u+e.length,e}),c+="';\n";var y=e.variable;y||(c="with (obj) {\n"+c+"\n}\n"),c=(a?c.replace(xe,""):c).replace(we,"$1").replace(Pe,"$1;"),c="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}";var v=tf(function(){return hp(u,d+"return "+c).apply(it,h)});if(v.source=c,ou(v))throw v;return v}function wh(t){return Lu(t).toLowerCase()}function Ph(t){return Lu(t).toUpperCase()}function Sh(t,e,n){if(t=Lu(t),t&&(n||e===it))return t.replace(De,"");if(!t||!(e=gi(e)))return t;var o=tt(t),i=tt(e),r=j(o,i),a=K(o,i)+1;return Ai(o,r,a).join("")}function Ch(t,e,n){if(t=Lu(t),t&&(n||e===it))return t.replace(Ke,"");if(!t||!(e=gi(e)))return t;var o=tt(t),i=K(o,tt(e))+1;return Ai(o,0,i).join("")}function Mh(t,e,n){if(t=Lu(t),t&&(n||e===it))return t.replace(je,"");if(!t||!(e=gi(e)))return t;var o=tt(t),i=j(o,tt(e));return Ai(o,i).join("")}function Th(t,e){var n=Tt,o=At;if(uu(e)){var i="separator"in e?e.separator:i;n="length"in e?Mu(e.length):n,o="omission"in e?gi(e.omission):o}t=Lu(t);var r=t.length;if(Y(t)){var a=tt(t);r=a.length}if(n>=r)return t;var s=n-Q(o);if(s<1)return o;var u=a?Ai(a,0,s).join(""):t.slice(0,s);if(i===it)return u+o;if(a&&(s+=u.length-s),Cc(i)){if(t.slice(s).search(i)){var h,p=u;for(i.global||(i=cp(i.source,Lu(ze.exec(i))+"g")),i.lastIndex=0;h=i.exec(p);)var l=h.index;u=u.slice(0,l===it?s:l)}}else if(t.indexOf(gi(i),s)!=s){var c=u.lastIndexOf(i);c>-1&&(u=u.slice(0,c))}return u+o}function Ah(t){return t=Lu(t),t&&Me.test(t)?t.replace(Se,Po):t}function Eh(t,e,n){return t=Lu(t),e=n?it:e,e===it?G(t)?ot(t):x(t):t.match(e)||[]}function Ih(t){var e=null==t?0:t.length,n=Cr();return t=e?y(t,function(t){if("function"!=typeof t[1])throw new dp(ut);return[n(t[0]),t[1]]}):[],ai(function(n){for(var o=-1;++o<e;){var i=t[o];if(s(i[0],this,n))return s(i[1],this,n)}})}function Lh(t){return Xn(Bn(t,ct))}function Nh(t){return function(){return t}}function Oh(t,e){return null==t||t!==t?e:t}function kh(t){return t}function Rh(t){return Xo("function"==typeof t?t:Bn(t,ct))}function Fh(t){return zo(Bn(t,ct))}function Dh(t,e){return Ho(t,Bn(e,ct))}function jh(t,e,n){var o=Gu(e),i=ao(e,o);null!=n||uu(e)&&(i.length||!o.length)||(n=e,e=t,t=this,i=ao(e,Gu(e)));var r=!(uu(n)&&"chain"in n&&!n.chain),a=ru(t);return h(i,function(n){var o=e[n];t[n]=o,a&&(t.prototype[n]=function(){var e=this.__chain__;if(r||e){var n=t(this.__wrapped__),i=n.__actions__=Xi(this.__actions__);return i.push({func:o,args:arguments,thisArg:t}),n.__chain__=e,n}return o.apply(t,v([this.value()],arguments))})}),t}function Kh(){return so._===this&&(so._=Cp),this}function Bh(){}function Xh(t){return t=Mu(t),ai(function(e){return $o(e,t)})}function Uh(t){return Br(t)?A(oa(t)):ti(t)}function Yh(t){return function(e){return null==t?it:uo(t,e)}}function Gh(){return[]}function Wh(){return!1}function zh(){return{}}function Hh(){return""}function qh(){return!0}function Vh(t,e){if(t=Mu(t),t<1||t>Rt)return[];var n=jt,o=$p(t,jt);e=Cr(e),t-=jt;for(var i=O(o,e);++n<t;)e(n);return i}function $h(t){return _c(t)?y(t,oa):_u(t)?[t]:Xi(Rl(Lu(t)))}function Zh(t){var e=++xp;return Lu(t)+e}function Jh(t){return t&&t.length?qn(t,kh,co):it}function Qh(t,e){return t&&t.length?qn(t,Cr(e,2),co):it}function tp(t){return T(t,kh)}function ep(t,e){return T(t,Cr(e,2))}function np(t){return t&&t.length?qn(t,kh,Go):it}function op(t,e){return t&&t.length?qn(t,Cr(e,2),Go):it}function ip(t){return t&&t.length?N(t,kh):0}function rp(t,e){return t&&t.length?N(t,Cr(e,2)):0;
}e=null==e?so:Co.defaults(so.Object(),e,Co.pick(so,Vn));var ap=e.Array,sp=e.Date,up=e.Error,hp=e.Function,pp=e.Math,lp=e.Object,cp=e.RegExp,fp=e.String,dp=e.TypeError,yp=ap.prototype,vp=hp.prototype,gp=lp.prototype,mp=e["__core-js_shared__"],bp=vp.toString,_p=gp.hasOwnProperty,xp=0,wp=function(){var t=/[^.]+$/.exec(mp&&mp.keys&&mp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Pp=gp.toString,Sp=bp.call(lp),Cp=so._,Mp=cp("^"+bp.call(_p).replace(Re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tp=po?e.Buffer:it,Ap=e.Symbol,Ep=e.Uint8Array,Ip=Tp?Tp.allocUnsafe:it,Lp=H(lp.getPrototypeOf,lp),Np=lp.create,Op=gp.propertyIsEnumerable,kp=yp.splice,Rp=Ap?Ap.isConcatSpreadable:it,Fp=Ap?Ap.iterator:it,Dp=Ap?Ap.toStringTag:it,jp=function(){try{var t=Ar(lp,"defineProperty");return t({},"",{}),t}catch(t){}}(),Kp=e.clearTimeout!==so.clearTimeout&&e.clearTimeout,Bp=sp&&sp.now!==so.Date.now&&sp.now,Xp=e.setTimeout!==so.setTimeout&&e.setTimeout,Up=pp.ceil,Yp=pp.floor,Gp=lp.getOwnPropertySymbols,Wp=Tp?Tp.isBuffer:it,zp=e.isFinite,Hp=yp.join,qp=H(lp.keys,lp),Vp=pp.max,$p=pp.min,Zp=sp.now,Jp=e.parseInt,Qp=pp.random,tl=yp.reverse,el=Ar(e,"DataView"),nl=Ar(e,"Map"),ol=Ar(e,"Promise"),il=Ar(e,"Set"),rl=Ar(e,"WeakMap"),al=Ar(lp,"create"),sl=rl&&new rl,ul={},hl=ia(el),pl=ia(nl),ll=ia(ol),cl=ia(il),fl=ia(rl),dl=Ap?Ap.prototype:it,yl=dl?dl.valueOf:it,vl=dl?dl.toString:it,gl=function(){function t(){}return function(e){if(!uu(e))return{};if(Np)return Np(e);t.prototype=e;var n=new t;return t.prototype=it,n}}();n.templateSettings={escape:Ae,evaluate:Ee,interpolate:Ie,variable:"",imports:{_:n}},n.prototype=o.prototype,n.prototype.constructor=n,i.prototype=gl(o.prototype),i.prototype.constructor=i,_.prototype=gl(o.prototype),_.prototype.constructor=_,nt.prototype.clear=Ye,nt.prototype.delete=en,nt.prototype.get=nn,nt.prototype.has=on,nt.prototype.set=rn,an.prototype.clear=sn,an.prototype.delete=un,an.prototype.get=hn,an.prototype.has=pn,an.prototype.set=ln,cn.prototype.clear=fn,cn.prototype.delete=dn,cn.prototype.get=yn,cn.prototype.has=vn,cn.prototype.set=gn,mn.prototype.add=mn.prototype.push=bn,mn.prototype.has=_n,xn.prototype.clear=wn,xn.prototype.delete=Pn,xn.prototype.get=Sn,xn.prototype.has=Cn,xn.prototype.set=Mn;var ml=Hi(no),bl=Hi(ro,!0),_l=qi(),xl=qi(!0),wl=sl?function(t,e){return sl.set(t,e),t}:kh,Pl=jp?function(t,e){return jp(t,"toString",{configurable:!0,enumerable:!1,value:Nh(e),writable:!0})}:kh,Sl=ai,Cl=Kp||function(t){return so.clearTimeout(t)},Ml=il&&1/V(new il([,-0]))[1]==kt?function(t){return new il(t)}:Bh,Tl=sl?function(t){return sl.get(t)}:Bh,Al=Gp?function(t){return null==t?[]:(t=lp(t),c(Gp(t),function(e){return Op.call(t,e)}))}:Gh,El=Gp?function(t){for(var e=[];t;)v(e,Al(t)),t=Lp(t);return e}:Gh,Il=lo;(el&&Il(new el(new ArrayBuffer(1)))!=le||nl&&Il(new nl)!=Zt||ol&&Il(ol.resolve())!=ee||il&&Il(new il)!=ie||rl&&Il(new rl)!=ue)&&(Il=function(t){var e=lo(t),n=e==te?t.constructor:it,o=n?ia(n):"";if(o)switch(o){case hl:return le;case pl:return Zt;case ll:return ee;case cl:return ie;case fl:return ue}return e});var Ll=mp?ru:Wh,Nl=ea(wl),Ol=Xp||function(t,e){return so.setTimeout(t,e)},kl=ea(Pl),Rl=Hr(function(t){var e=[];return Oe.test(t)&&e.push(""),t.replace(ke,function(t,n,o,i){e.push(o?i.replace(Ge,"$1"):n||t)}),e}),Fl=ai(function(t,e){return Zs(t)?zn(t,eo(e,1,Zs,!0)):[]}),Dl=ai(function(t,e){var n=Ca(e);return Zs(n)&&(n=it),Zs(t)?zn(t,eo(e,1,Zs,!0),Cr(n,2)):[]}),jl=ai(function(t,e){var n=Ca(e);return Zs(n)&&(n=it),Zs(t)?zn(t,eo(e,1,Zs,!0),it,n):[]}),Kl=ai(function(t){var e=y(t,Ci);return e.length&&e[0]===t[0]?To(e):[]}),Bl=ai(function(t){var e=Ca(t),n=y(t,Ci);return e===Ca(n)?e=it:n.pop(),n.length&&n[0]===t[0]?To(n,Cr(e,2)):[]}),Xl=ai(function(t){var e=Ca(t),n=y(t,Ci);return e="function"==typeof e?e:it,e&&n.pop(),n.length&&n[0]===t[0]?To(n,it,e):[]}),Ul=ai(Aa),Yl=_r(function(t,e){var n=null==t?0:t.length,o=jn(t,e);return ni(t,y(e,function(t){return jr(t,n)?+t:t}).sort(Di)),o}),Gl=ai(function(t){return mi(eo(t,1,Zs,!0))}),Wl=ai(function(t){var e=Ca(t);return Zs(e)&&(e=it),mi(eo(t,1,Zs,!0),Cr(e,2))}),zl=ai(function(t){var e=Ca(t);return e="function"==typeof e?e:it,mi(eo(t,1,Zs,!0),it,e)}),Hl=ai(function(t,e){return Zs(t)?zn(t,e):[]}),ql=ai(function(t){return Pi(c(t,Zs))}),Vl=ai(function(t){var e=Ca(t);return Zs(e)&&(e=it),Pi(c(t,Zs),Cr(e,2))}),$l=ai(function(t){var e=Ca(t);return e="function"==typeof e?e:it,Pi(c(t,Zs),it,e)}),Zl=ai($a),Jl=ai(function(t){var e=t.length,n=e>1?t[e-1]:it;return n="function"==typeof n?(t.pop(),n):it,Za(t,n)}),Ql=_r(function(t){var e=t.length,n=e?t[0]:0,o=this.__wrapped__,r=function(e){return jn(e,t)};return!(e>1||this.__actions__.length)&&o instanceof _&&jr(n)?(o=o.slice(n,+n+(e?1:0)),o.__actions__.push({func:ns,args:[r],thisArg:it}),new i(o,this.__chain__).thru(function(t){return e&&!t.length&&t.push(it),t})):this.thru(r)}),tc=Wi(function(t,e,n){_p.call(t,n)?++t[n]:Dn(t,n,1)}),ec=tr(ya),nc=tr(va),oc=Wi(function(t,e,n){_p.call(t,n)?t[n].push(e):Dn(t,n,[e])}),ic=ai(function(t,e,n){var o=-1,i="function"==typeof e,r=$s(t)?ap(t.length):[];return ml(t,function(t){r[++o]=i?s(e,t,n):Eo(t,e,n)}),r}),rc=Wi(function(t,e,n){Dn(t,n,e)}),ac=Wi(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),sc=ai(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Kr(t,e[0],e[1])?e=[]:n>2&&Kr(e[0],e[1],e[2])&&(e=[e[0]]),Zo(t,eo(e,1),[])}),uc=Bp||function(){return so.Date.now()},hc=ai(function(t,e,n){var o=gt;if(n.length){var i=q(n,Sr(hc));o|=wt}return fr(t,o,e,n,i)}),pc=ai(function(t,e,n){var o=gt|mt;if(n.length){var i=q(n,Sr(pc));o|=wt}return fr(e,o,t,n,i)}),lc=ai(function(t,e){return Wn(t,1,e)}),cc=ai(function(t,e,n){return Wn(t,Au(e)||0,n)});Rs.Cache=cn;var fc=Sl(function(t,e){e=1==e.length&&_c(e[0])?y(e[0],R(Cr())):y(eo(e,1),R(Cr()));var n=e.length;return ai(function(o){for(var i=-1,r=$p(o.length,n);++i<r;)o[i]=e[i].call(this,o[i]);return s(t,this,o)})}),dc=ai(function(t,e){var n=q(e,Sr(dc));return fr(t,wt,it,e,n)}),yc=ai(function(t,e){var n=q(e,Sr(yc));return fr(t,Pt,it,e,n)}),vc=_r(function(t,e){return fr(t,Ct,it,it,it,e)}),gc=hr(co),mc=hr(function(t,e){return t>=e}),bc=Io(function(){return arguments}())?Io:function(t){return hu(t)&&_p.call(t,"callee")&&!Op.call(t,"callee")},_c=ap.isArray,xc=fo?R(fo):Lo,wc=Wp||Wh,Pc=yo?R(yo):No,Sc=vo?R(vo):Ro,Cc=go?R(go):jo,Mc=mo?R(mo):Ko,Tc=bo?R(bo):Bo,Ac=hr(Go),Ec=hr(function(t,e){return t<=e}),Ic=zi(function(t,e){if(Gr(e)||$s(e))return void Ui(e,Gu(e),t);for(var n in e)_p.call(e,n)&&Nn(t,n,e[n])}),Lc=zi(function(t,e){Ui(e,Wu(e),t)}),Nc=zi(function(t,e,n,o){Ui(e,Wu(e),t,o)}),Oc=zi(function(t,e,n,o){Ui(e,Gu(e),t,o)}),kc=_r(jn),Rc=ai(function(t){return t.push(it,dr),s(Nc,it,t)}),Fc=ai(function(t){return t.push(it,yr),s(Xc,it,t)}),Dc=or(function(t,e,n){t[e]=n},Nh(kh)),jc=or(function(t,e,n){_p.call(t,e)?t[e].push(n):t[e]=[n]},Cr),Kc=ai(Eo),Bc=zi(function(t,e,n){qo(t,e,n)}),Xc=zi(function(t,e,n,o){qo(t,e,n,o)}),Uc=_r(function(t,e){var n={};if(null==t)return n;var o=!1;e=y(e,function(e){return e=Ti(e,t),o||(o=e.length>1),e}),Ui(t,wr(t),n),o&&(n=Bn(n,ct|ft|dt,vr));for(var i=e.length;i--;)bi(n,e[i]);return n}),Yc=_r(function(t,e){return null==t?{}:Jo(t,e)}),Gc=cr(Gu),Wc=cr(Wu),zc=Zi(function(t,e,n){return e=e.toLowerCase(),t+(n?uh(e):e)}),Hc=Zi(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),qc=Zi(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Vc=$i("toLowerCase"),$c=Zi(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Zc=Zi(function(t,e,n){return t+(n?" ":"")+Qc(e)}),Jc=Zi(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Qc=$i("toUpperCase"),tf=ai(function(t,e){try{return s(t,it,e)}catch(t){return ou(t)?t:new up(t)}}),ef=_r(function(t,e){return h(e,function(e){e=oa(e),Dn(t,e,hc(t[e],t))}),t}),nf=er(),of=er(!0),rf=ai(function(t,e){return function(n){return Eo(n,t,e)}}),af=ai(function(t,e){return function(n){return Eo(t,n,e)}}),sf=rr(y),uf=rr(l),hf=rr(b),pf=ur(),lf=ur(!0),cf=ir(function(t,e){return t+e},0),ff=lr("ceil"),df=ir(function(t,e){return t/e},1),yf=lr("floor"),vf=ir(function(t,e){return t*e},1),gf=lr("round"),mf=ir(function(t,e){return t-e},0);return n.after=As,n.ary=Es,n.assign=Ic,n.assignIn=Lc,n.assignInWith=Nc,n.assignWith=Oc,n.at=kc,n.before=Is,n.bind=hc,n.bindAll=ef,n.bindKey=pc,n.castArray=Ys,n.chain=ts,n.chunk=sa,n.compact=ua,n.concat=ha,n.cond=Ih,n.conforms=Lh,n.constant=Nh,n.countBy=tc,n.create=Nu,n.curry=Ls,n.curryRight=Ns,n.debounce=Os,n.defaults=Rc,n.defaultsDeep=Fc,n.defer=lc,n.delay=cc,n.difference=Fl,n.differenceBy=Dl,n.differenceWith=jl,n.drop=pa,n.dropRight=la,n.dropRightWhile=ca,n.dropWhile=fa,n.fill=da,n.filter=ls,n.flatMap=cs,n.flatMapDeep=fs,n.flatMapDepth=ds,n.flatten=ga,n.flattenDeep=ma,n.flattenDepth=ba,n.flip=ks,n.flow=nf,n.flowRight=of,n.fromPairs=_a,n.functions=Ku,n.functionsIn=Bu,n.groupBy=oc,n.initial=Pa,n.intersection=Kl,n.intersectionBy=Bl,n.intersectionWith=Xl,n.invert=Dc,n.invertBy=jc,n.invokeMap=ic,n.iteratee=Rh,n.keyBy=rc,n.keys=Gu,n.keysIn=Wu,n.map=ms,n.mapKeys=zu,n.mapValues=Hu,n.matches=Fh,n.matchesProperty=Dh,n.memoize=Rs,n.merge=Bc,n.mergeWith=Xc,n.method=rf,n.methodOf=af,n.mixin=jh,n.negate=Fs,n.nthArg=Xh,n.omit=Uc,n.omitBy=qu,n.once=Ds,n.orderBy=bs,n.over=sf,n.overArgs=fc,n.overEvery=uf,n.overSome=hf,n.partial=dc,n.partialRight=yc,n.partition=ac,n.pick=Yc,n.pickBy=Vu,n.property=Uh,n.propertyOf=Yh,n.pull=Ul,n.pullAll=Aa,n.pullAllBy=Ea,n.pullAllWith=Ia,n.pullAt=Yl,n.range=pf,n.rangeRight=lf,n.rearg=vc,n.reject=ws,n.remove=La,n.rest=js,n.reverse=Na,n.sampleSize=Ss,n.set=Zu,n.setWith=Ju,n.shuffle=Cs,n.slice=Oa,n.sortBy=sc,n.sortedUniq=Ba,n.sortedUniqBy=Xa,n.split=bh,n.spread=Ks,n.tail=Ua,n.take=Ya,n.takeRight=Ga,n.takeRightWhile=Wa,n.takeWhile=za,n.tap=es,n.throttle=Bs,n.thru=ns,n.toArray=Su,n.toPairs=Gc,n.toPairsIn=Wc,n.toPath=$h,n.toPlainObject=Eu,n.transform=Qu,n.unary=Xs,n.union=Gl,n.unionBy=Wl,n.unionWith=zl,n.uniq=Ha,n.uniqBy=qa,n.uniqWith=Va,n.unset=th,n.unzip=$a,n.unzipWith=Za,n.update=eh,n.updateWith=nh,n.values=oh,n.valuesIn=ih,n.without=Hl,n.words=Eh,n.wrap=Us,n.xor=ql,n.xorBy=Vl,n.xorWith=$l,n.zip=Zl,n.zipObject=Ja,n.zipObjectDeep=Qa,n.zipWith=Jl,n.entries=Gc,n.entriesIn=Wc,n.extend=Lc,n.extendWith=Nc,jh(n,n),n.add=cf,n.attempt=tf,n.camelCase=zc,n.capitalize=uh,n.ceil=ff,n.clamp=rh,n.clone=Gs,n.cloneDeep=zs,n.cloneDeepWith=Hs,n.cloneWith=Ws,n.conformsTo=qs,n.deburr=hh,n.defaultTo=Oh,n.divide=df,n.endsWith=ph,n.eq=Vs,n.escape=lh,n.escapeRegExp=ch,n.every=ps,n.find=ec,n.findIndex=ya,n.findKey=Ou,n.findLast=nc,n.findLastIndex=va,n.findLastKey=ku,n.floor=yf,n.forEach=ys,n.forEachRight=vs,n.forIn=Ru,n.forInRight=Fu,n.forOwn=Du,n.forOwnRight=ju,n.get=Xu,n.gt=gc,n.gte=mc,n.has=Uu,n.hasIn=Yu,n.head=xa,n.identity=kh,n.includes=gs,n.indexOf=wa,n.inRange=ah,n.invoke=Kc,n.isArguments=bc,n.isArray=_c,n.isArrayBuffer=xc,n.isArrayLike=$s,n.isArrayLikeObject=Zs,n.isBoolean=Js,n.isBuffer=wc,n.isDate=Pc,n.isElement=Qs,n.isEmpty=tu,n.isEqual=eu,n.isEqualWith=nu,n.isError=ou,n.isFinite=iu,n.isFunction=ru,n.isInteger=au,n.isLength=su,n.isMap=Sc,n.isMatch=pu,n.isMatchWith=lu,n.isNaN=cu,n.isNative=fu,n.isNil=yu,n.isNull=du,n.isNumber=vu,n.isObject=uu,n.isObjectLike=hu,n.isPlainObject=gu,n.isRegExp=Cc,n.isSafeInteger=mu,n.isSet=Mc,n.isString=bu,n.isSymbol=_u,n.isTypedArray=Tc,n.isUndefined=xu,n.isWeakMap=wu,n.isWeakSet=Pu,n.join=Sa,n.kebabCase=Hc,n.last=Ca,n.lastIndexOf=Ma,n.lowerCase=qc,n.lowerFirst=Vc,n.lt=Ac,n.lte=Ec,n.max=Jh,n.maxBy=Qh,n.mean=tp,n.meanBy=ep,n.min=np,n.minBy=op,n.stubArray=Gh,n.stubFalse=Wh,n.stubObject=zh,n.stubString=Hh,n.stubTrue=qh,n.multiply=vf,n.nth=Ta,n.noConflict=Kh,n.noop=Bh,n.now=uc,n.pad=fh,n.padEnd=dh,n.padStart=yh,n.parseInt=vh,n.random=sh,n.reduce=_s,n.reduceRight=xs,n.repeat=gh,n.replace=mh,n.result=$u,n.round=gf,n.runInContext=t,n.sample=Ps,n.size=Ms,n.snakeCase=$c,n.some=Ts,n.sortedIndex=ka,n.sortedIndexBy=Ra,n.sortedIndexOf=Fa,n.sortedLastIndex=Da,n.sortedLastIndexBy=ja,n.sortedLastIndexOf=Ka,n.startCase=Zc,n.startsWith=_h,n.subtract=mf,n.sum=ip,n.sumBy=rp,n.template=xh,n.times=Vh,n.toFinite=Cu,n.toInteger=Mu,n.toLength=Tu,n.toLower=wh,n.toNumber=Au,n.toSafeInteger=Iu,n.toString=Lu,n.toUpper=Ph,n.trim=Sh,n.trimEnd=Ch,n.trimStart=Mh,n.truncate=Th,n.unescape=Ah,n.uniqueId=Zh,n.upperCase=Jc,n.upperFirst=Qc,n.each=ys,n.eachRight=vs,n.first=xa,jh(n,function(){var t={};return no(n,function(e,o){_p.call(n.prototype,o)||(t[o]=e)}),t}(),{chain:!1}),n.VERSION=rt,h(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),h(["drop","take"],function(t,e){_.prototype[t]=function(n){n=n===it?1:Vp(Mu(n),0);var o=this.__filtered__&&!e?new _(this):this.clone();return o.__filtered__?o.__takeCount__=$p(n,o.__takeCount__):o.__views__.push({size:$p(n,jt),type:t+(o.__dir__<0?"Right":"")}),o},_.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),h(["filter","map","takeWhile"],function(t,e){var n=e+1,o=n==Lt||n==Ot;_.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Cr(t,3),type:n}),e.__filtered__=e.__filtered__||o,e}}),h(["head","last"],function(t,e){var n="take"+(e?"Right":"");_.prototype[t]=function(){return this[n](1).value()[0]}}),h(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");_.prototype[t]=function(){return this.__filtered__?new _(this):this[n](1)}}),_.prototype.compact=function(){return this.filter(kh)},_.prototype.find=function(t){return this.filter(t).head()},_.prototype.findLast=function(t){return this.reverse().find(t)},_.prototype.invokeMap=ai(function(t,e){return"function"==typeof t?new _(this):this.map(function(n){return Eo(n,t,e)})}),_.prototype.reject=function(t){return this.filter(Fs(Cr(t)))},_.prototype.slice=function(t,e){t=Mu(t);var n=this;return n.__filtered__&&(t>0||e<0)?new _(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==it&&(e=Mu(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},_.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},_.prototype.toArray=function(){return this.take(jt)},no(_.prototype,function(t,e){var o=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),a=n[r?"take"+("last"==e?"Right":""):e],s=r||/^find/.test(e);a&&(n.prototype[e]=function(){var e=this.__wrapped__,u=r?[1]:arguments,h=e instanceof _,p=u[0],l=h||_c(e),c=function(t){var e=a.apply(n,v([t],u));return r&&f?e[0]:e};l&&o&&"function"==typeof p&&1!=p.length&&(h=l=!1);var f=this.__chain__,d=!!this.__actions__.length,y=s&&!f,g=h&&!d;if(!s&&l){e=g?e:new _(this);var m=t.apply(e,u);return m.__actions__.push({func:ns,args:[c],thisArg:it}),new i(m,f)}return y&&g?t.apply(this,u):(m=this.thru(c),y?r?m.value()[0]:m.value():m)})}),h(["pop","push","shift","sort","splice","unshift"],function(t){var e=yp[t],o=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var n=this.value();return e.apply(_c(n)?n:[],t)}return this[o](function(n){return e.apply(_c(n)?n:[],t)})}}),no(_.prototype,function(t,e){var o=n[e];if(o){var i=o.name+"",r=ul[i]||(ul[i]=[]);r.push({name:e,func:o})}}),ul[nr(it,mt).name]=[{name:"wrapper",func:it}],_.prototype.clone=E,_.prototype.reverse=Z,_.prototype.value=et,n.prototype.at=Ql,n.prototype.chain=os,n.prototype.commit=is,n.prototype.next=rs,n.prototype.plant=ss,n.prototype.reverse=us,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=hs,n.prototype.first=n.prototype.head,Fp&&(n.prototype[Fp]=as),n},Co=So();so._=Co,o=function(){return Co}.call(e,n,e,i),!(o!==it&&(i.exports=o))}).call(this)}).call(e,function(){return this}(),n(214)(t))},function(t,e,n){(function(e,n){function o(){for(;r.next;){r=r.next;var t=r.task;r.task=void 0;var e=r.domain;e&&(r.domain=void 0,e.enter());try{t()}catch(t){if(h)throw e&&e.exit(),setTimeout(o,0),e&&e.enter(),t;setTimeout(function(){throw t},0)}e&&e.exit()}s=!1}function i(t){a=a.next={task:t,domain:h&&e.domain,next:null},s||(s=!0,u())}var r={task:void 0,next:null},a=r,s=!1,u=void 0,h=!1;if("undefined"!=typeof e&&e.nextTick)h=!0,u=function(){e.nextTick(o)};else if("function"==typeof n)u="undefined"!=typeof window?n.bind(window,o):function(){n(o)};else if("undefined"!=typeof MessageChannel){var p=new MessageChannel;p.port1.onmessage=o,u=function(){p.port2.postMessage(0)}}else u=function(){setTimeout(o,0)};t.exports=i}).call(e,n(71),n(187).setImmediate)},,,function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var o=n(40);t.exports=function(t){return Object(o(t))}},function(t,e){var n=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+o).toString(36))}},function(t,e,n){"use strict";var o=n(147)(!0);n(63)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=o(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";function o(t){function e(t){return null===u?void p.push(t):void a(function(){var e=u?t.onFulfilled:t.onRejected;if(null===e)return void(u?t.resolve:t.reject)(h);var n;try{n=e(h)}catch(e){return void t.reject(e)}t.resolve(n)})}function n(t){try{if(t===l)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void r(e.bind(t),n,o)}u=!0,h=t,s()}catch(t){o(t)}}function o(t){u=!1,h=t,s()}function s(){for(var t=0,n=p.length;t<n;t++)e(p[t]);p=null}if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");var u=null,h=null,p=[],l=this;this.then=function(t,n){return new l.constructor(function(o,r){e(new i(t,n,o,r))})},r(t,n,o)}function i(t,e,n,o){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=o}function r(t,e,n){var o=!1;try{t(function(t){o||(o=!0,e(t))},function(t){o||(o=!0,n(t))})}catch(t){if(o)return;o=!0,n(t)}}var a=n(25);t.exports=o},,,,,function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(115),r=o(i);e.default=function(t,e,n){return e in t?(0,r.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){t.exports=!0},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var o=n(9).f,i=n(12),r=n(4)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,r)&&o(t,r,{configurable:!0,value:e})}},function(t,e,n){var o=n(46)("keys"),i=n(31);t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,n){var o=n(8),i="__core-js_shared__",r=o[i]||(o[i]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:n)(t)}},function(t,e,n){var o=n(28);t.exports=function(t,e){if(!o(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!o(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var o=n(8),i=n(2),r=n(42),a=n(50),s=n(9).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=r?{}:o.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){e.f=n(4)},function(t,e,n){n(152);for(var o=n(8),i=n(18),r=n(19),a=n(4)("toStringTag"),s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var h=s[u],p=o[h],l=p&&p.prototype;l&&!l[a]&&i(l,a,h),r[h]=r.Array}},function(t,e,n){(function(e){/*!
	 * Vue.js v2.4.2
	 * (c) 2014-2017 Evan You
	 * Released under the MIT License.
	 */
"use strict";function n(t){return void 0===t||null===t}function o(t){return void 0!==t&&null!==t}function i(t){return t===!0}function r(t){return t===!1}function a(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t}function s(t){return null!==t&&"object"==typeof t}function u(t){return"[object Object]"===qi.call(t)}function h(t){return"[object RegExp]"===qi.call(t)}function p(t){var e=parseFloat(t);return e>=0&&Math.floor(e)===e&&isFinite(t)}function l(t){return null==t?"":"object"==typeof t?JSON.stringify(t,null,2):String(t)}function c(t){var e=parseFloat(t);return isNaN(e)?t:e}function f(t,e){for(var n=Object.create(null),o=t.split(","),i=0;i<o.length;i++)n[o[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}function d(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}function y(t,e){return Zi.call(t,e)}function v(t){var e=Object.create(null);return function(n){var o=e[n];return o||(e[n]=t(n))}}function g(t,e){function n(n){var o=arguments.length;return o?o>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function m(t,e){e=e||0;for(var n=t.length-e,o=new Array(n);n--;)o[n]=t[n+e];return o}function b(t,e){for(var n in e)t[n]=e[n];return t}function _(t){for(var e={},n=0;n<t.length;n++)t[n]&&b(e,t[n]);return e}function x(t,e,n){}function w(t){return t.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")}function P(t,e){if(t===e)return!0;var n=s(t),o=s(e);if(!n||!o)return!n&&!o&&String(t)===String(e);try{var i=Array.isArray(t),r=Array.isArray(e);if(i&&r)return t.length===e.length&&t.every(function(t,n){return P(t,e[n])});if(i||r)return!1;var a=Object.keys(t),u=Object.keys(e);return a.length===u.length&&a.every(function(n){return P(t[n],e[n])})}catch(t){return!1}}function S(t,e){for(var n=0;n<t.length;n++)if(P(t[n],e))return n;return-1}function C(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function M(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function T(t,e,n,o){Object.defineProperty(t,e,{value:n,enumerable:!!o,writable:!0,configurable:!0})}function A(t){if(!pr.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}function E(t,e,n){if(ur.errorHandler)ur.errorHandler.call(null,t,e,n);else{if(!fr||"undefined"==typeof console)throw t;console.error(t)}}function I(t){return"function"==typeof t&&/native code/.test(t.toString())}function L(t){Lr.target&&Nr.push(Lr.target),Lr.target=t}function N(){Lr.target=Nr.pop()}function O(t,e,n){t.__proto__=e}function k(t,e,n){for(var o=0,i=n.length;o<i;o++){var r=n[o];T(t,r,e[r])}}function R(t,e){if(s(t)){var n;return y(t,"__ob__")&&t.__ob__ instanceof Dr?n=t.__ob__:Fr.shouldConvert&&!Mr()&&(Array.isArray(t)||u(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Dr(t)),e&&n&&n.vmCount++,n}}function F(t,e,n,o,i){var r=new Lr,a=Object.getOwnPropertyDescriptor(t,e);if(!a||a.configurable!==!1){var s=a&&a.get,u=a&&a.set,h=!i&&R(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return Lr.target&&(r.depend(),h&&h.dep.depend(),Array.isArray(e)&&K(e)),e},set:function(e){var o=s?s.call(t):n;e===o||e!==e&&o!==o||(u?u.call(t,e):n=e,h=!i&&R(e),r.notify())}})}}function D(t,e,n){if(Array.isArray(t)&&p(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(y(t,e))return t[e]=n,n;var o=t.__ob__;return t._isVue||o&&o.vmCount?n:o?(F(o.value,e,n),o.dep.notify(),n):(t[e]=n,n)}function j(t,e){if(Array.isArray(t)&&p(e))return void t.splice(e,1);var n=t.__ob__;t._isVue||n&&n.vmCount||y(t,e)&&(delete t[e],n&&n.dep.notify())}function K(t){for(var e=void 0,n=0,o=t.length;n<o;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&K(e)}function B(t,e){if(!e)return t;for(var n,o,i,r=Object.keys(e),a=0;a<r.length;a++)n=r[a],o=t[n],i=e[n],y(t,n)?u(o)&&u(i)&&B(o,i):D(t,n,i);return t}function X(t,e,n){return n?t||e?function(){var o="function"==typeof e?e.call(n):e,i="function"==typeof t?t.call(n):void 0;return o?B(o,i):i}:void 0:e?t?function(){return B("function"==typeof e?e.call(this):e,"function"==typeof t?t.call(this):t)}:e:t}function U(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}function Y(t,e){var n=Object.create(t||null);return e?b(n,e):n}function G(t){var e=t.props;if(e){var n,o,i,r={};if(Array.isArray(e))for(n=e.length;n--;)o=e[n],"string"==typeof o&&(i=Qi(o),r[i]={type:null});else if(u(e))for(var a in e)o=e[a],i=Qi(a),r[i]=u(o)?o:{type:o};t.props=r}}function W(t){var e=t.inject;if(Array.isArray(e))for(var n=t.inject={},o=0;o<e.length;o++)n[e[o]]=e[o]}function z(t){var e=t.directives;if(e)for(var n in e){var o=e[n];"function"==typeof o&&(e[n]={bind:o,update:o})}}function H(t,e,n){function o(o){var i=jr[o]||Kr;u[o]=i(t[o],e[o],n,o)}"function"==typeof e&&(e=e.options),G(e),W(e),z(e);var i=e.extends;if(i&&(t=H(t,i,n)),e.mixins)for(var r=0,a=e.mixins.length;r<a;r++)t=H(t,e.mixins[r],n);var s,u={};for(s in t)o(s);for(s in e)y(t,s)||o(s);return u}function q(t,e,n,o){if("string"==typeof n){var i=t[e];if(y(i,n))return i[n];var r=Qi(n);if(y(i,r))return i[r];var a=tr(r);if(y(i,a))return i[a];var s=i[n]||i[r]||i[a];return s}}function V(t,e,n,o){var i=e[t],r=!y(n,t),a=n[t];if(J(Boolean,i.type)&&(r&&!y(i,"default")?a=!1:J(String,i.type)||""!==a&&a!==nr(t)||(a=!0)),void 0===a){a=$(o,i,t);var s=Fr.shouldConvert;Fr.shouldConvert=!0,R(a),Fr.shouldConvert=s}return a}function $(t,e,n){if(y(e,"default")){var o=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"==typeof o&&"Function"!==Z(e.type)?o.call(t):o}}function Z(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function J(t,e){if(!Array.isArray(e))return Z(e)===Z(t);for(var n=0,o=e.length;n<o;n++)if(Z(e[n])===Z(t))return!0;return!1}function Q(t){return new Br(void 0,void 0,void 0,String(t))}function tt(t){var e=new Br(t.tag,t.data,t.children,t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.isCloned=!0,e}function et(t){for(var e=t.length,n=new Array(e),o=0;o<e;o++)n[o]=tt(t[o]);return n}function nt(t){function e(){var t=arguments,n=e.fns;if(!Array.isArray(n))return n.apply(null,arguments);for(var o=n.slice(),i=0;i<o.length;i++)o[i].apply(null,t)}return e.fns=t,e}function ot(t,e,o,i,r){var a,s,u,h;for(a in t)s=t[a],u=e[a],h=Gr(a),n(s)||(n(u)?(n(s.fns)&&(s=t[a]=nt(s)),o(h.name,s,h.once,h.capture,h.passive)):s!==u&&(u.fns=s,t[a]=u));for(a in e)n(t[a])&&(h=Gr(a),i(h.name,e[a],h.capture))}function it(t,e,r){function a(){r.apply(this,arguments),d(s.fns,a)}var s,u=t[e];n(u)?s=nt([a]):o(u.fns)&&i(u.merged)?(s=u,s.fns.push(a)):s=nt([u,a]),s.merged=!0,t[e]=s}function rt(t,e,i){var r=e.options.props;if(!n(r)){var a={},s=t.attrs,u=t.props;if(o(s)||o(u))for(var h in r){var p=nr(h);at(a,u,h,p,!0)||at(a,s,h,p,!1)}return a}}function at(t,e,n,i,r){if(o(e)){if(y(e,n))return t[n]=e[n],r||delete e[n],!0;if(y(e,i))return t[n]=e[i],r||delete e[i],!0}return!1}function st(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function ut(t){return a(t)?[Q(t)]:Array.isArray(t)?pt(t):void 0}function ht(t){return o(t)&&o(t.text)&&r(t.isComment)}function pt(t,e){var r,s,u,h=[];for(r=0;r<t.length;r++)s=t[r],n(s)||"boolean"==typeof s||(u=h[h.length-1],Array.isArray(s)?h.push.apply(h,pt(s,(e||"")+"_"+r)):a(s)?ht(u)?u.text+=String(s):""!==s&&h.push(Q(s)):ht(s)&&ht(u)?h[h.length-1]=Q(u.text+s.text):(i(t._isVList)&&o(s.tag)&&n(s.key)&&o(e)&&(s.key="__vlist"+e+"_"+r+"__"),h.push(s)));return h}function lt(t,e){return t.__esModule&&t.default&&(t=t.default),s(t)?e.extend(t):t}function ct(t,e,n,o,i){var r=Yr();return r.asyncFactory=t,r.asyncMeta={data:e,context:n,children:o,tag:i},r}function ft(t,e,r){if(i(t.error)&&o(t.errorComp))return t.errorComp;if(o(t.resolved))return t.resolved;if(i(t.loading)&&o(t.loadingComp))return t.loadingComp;if(!o(t.contexts)){var a=t.contexts=[r],u=!0,h=function(){for(var t=0,e=a.length;t<e;t++)a[t].$forceUpdate()},p=C(function(n){t.resolved=lt(n,e),u||h()}),l=C(function(e){o(t.errorComp)&&(t.error=!0,h())}),c=t(p,l);return s(c)&&("function"==typeof c.then?n(t.resolved)&&c.then(p,l):o(c.component)&&"function"==typeof c.component.then&&(c.component.then(p,l),o(c.error)&&(t.errorComp=lt(c.error,e)),o(c.loading)&&(t.loadingComp=lt(c.loading,e),0===c.delay?t.loading=!0:setTimeout(function(){n(t.resolved)&&n(t.error)&&(t.loading=!0,h())},c.delay||200)),o(c.timeout)&&setTimeout(function(){n(t.resolved)&&l(null)},c.timeout))),u=!1,t.loading?t.loadingComp:t.resolved}t.contexts.push(r)}function dt(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(o(n)&&o(n.componentOptions))return n}}function yt(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&mt(t,e)}function vt(t,e,n){n?Ur.$once(t,e):Ur.$on(t,e)}function gt(t,e){Ur.$off(t,e)}function mt(t,e,n){Ur=t,ot(e,n||{},vt,gt,t)}function bt(t){var e=/^hook:/;t.prototype.$on=function(t,n){var o=this,i=this;if(Array.isArray(t))for(var r=0,a=t.length;r<a;r++)o.$on(t[r],n);else(i._events[t]||(i._events[t]=[])).push(n),e.test(t)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(t,e){function n(){o.$off(t,n),e.apply(o,arguments)}var o=this;return n.fn=e,o.$on(t,n),o},t.prototype.$off=function(t,e){var n=this,o=this;if(!arguments.length)return o._events=Object.create(null),o;if(Array.isArray(t)){for(var i=0,r=t.length;i<r;i++)n.$off(t[i],e);return o}var a=o._events[t];if(!a)return o;if(1===arguments.length)return o._events[t]=null,o;for(var s,u=a.length;u--;)if(s=a[u],s===e||s.fn===e){a.splice(u,1);break}return o},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?m(n):n;for(var o=m(arguments,1),i=0,r=n.length;i<r;i++)try{n[i].apply(e,o)}catch(n){E(n,e,'event handler for "'+t+'"')}}return e}}function _t(t,e){var n={};if(!t)return n;for(var o=[],i=0,r=t.length;i<r;i++){var a=t[i];if(a.context!==e&&a.functionalContext!==e||!a.data||null==a.data.slot)o.push(a);else{var s=a.data.slot,u=n[s]||(n[s]=[]);"template"===a.tag?u.push.apply(u,a.children):u.push(a)}}return o.every(xt)||(n.default=o),n}function xt(t){return t.isComment||" "===t.text}function wt(t,e){e=e||{};for(var n=0;n<t.length;n++)Array.isArray(t[n])?wt(t[n],e):e[t[n].key]=t[n].fn;return e}function Pt(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function St(t){t.prototype._update=function(t,e){var n=this;n._isMounted&&It(n,"beforeUpdate");var o=n.$el,i=n._vnode,r=Wr;Wr=n,n._vnode=t,i?n.$el=n.__patch__(i,t):(n.$el=n.__patch__(n.$el,t,e,!1,n.$options._parentElm,n.$options._refElm),n.$options._parentElm=n.$options._refElm=null),Wr=r,o&&(o.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){It(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||d(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),It(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null)}}}function Ct(t,e,n){t.$el=e,t.$options.render||(t.$options.render=Yr),It(t,"beforeMount");var o;return o=function(){t._update(t._render(),n)},t._watcher=new Qr(t,o,x),n=!1,null==t.$vnode&&(t._isMounted=!0,It(t,"mounted")),t}function Mt(t,e,n,o,i){var r=!!(i||t.$options._renderChildren||o.data.scopedSlots||t.$scopedSlots!==hr);if(t.$options._parentVnode=o,t.$vnode=o,t._vnode&&(t._vnode.parent=o),t.$options._renderChildren=i,t.$attrs=o.data&&o.data.attrs,t.$listeners=n,e&&t.$options.props){Fr.shouldConvert=!1;for(var a=t._props,s=t.$options._propKeys||[],u=0;u<s.length;u++){var h=s[u];a[h]=V(h,t.$options.props,e,t)}Fr.shouldConvert=!0,t.$options.propsData=e}if(n){var p=t.$options._parentListeners;t.$options._parentListeners=n,mt(t,n,p)}r&&(t.$slots=_t(i,o.context),t.$forceUpdate())}function Tt(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function At(t,e){if(e){if(t._directInactive=!1,Tt(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)At(t.$children[n]);It(t,"activated")}}function Et(t,e){if(!(e&&(t._directInactive=!0,Tt(t))||t._inactive)){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Et(t.$children[n]);It(t,"deactivated")}}function It(t,e){var n=t.$options[e];if(n)for(var o=0,i=n.length;o<i;o++)try{n[o].call(t)}catch(n){E(n,t,e+" hook")}t._hasHookEvent&&t.$emit("hook:"+e)}function Lt(){Zr=zr.length=Hr.length=0,qr={},Vr=$r=!1}function Nt(){$r=!0;var t,e;for(zr.sort(function(t,e){return t.id-e.id}),Zr=0;Zr<zr.length;Zr++)t=zr[Zr],e=t.id,qr[e]=null,t.run();var n=Hr.slice(),o=zr.slice();Lt(),Rt(n),Ot(o),Tr&&ur.devtools&&Tr.emit("flush")}function Ot(t){for(var e=t.length;e--;){var n=t[e],o=n.vm;o._watcher===n&&o._isMounted&&It(o,"updated")}}function kt(t){t._inactive=!1,Hr.push(t)}function Rt(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,At(t[e],!0)}function Ft(t){var e=t.id;if(null==qr[e]){if(qr[e]=!0,$r){for(var n=zr.length-1;n>Zr&&zr[n].id>t.id;)n--;zr.splice(n+1,0,t)}else zr.push(t);Vr||(Vr=!0,Er(Nt))}}function Dt(t){ta.clear(),jt(t,ta)}function jt(t,e){var n,o,i=Array.isArray(t);if((i||s(t))&&Object.isExtensible(t)){if(t.__ob__){var r=t.__ob__.dep.id;if(e.has(r))return;e.add(r)}if(i)for(n=t.length;n--;)jt(t[n],e);else for(o=Object.keys(t),n=o.length;n--;)jt(t[o[n]],e)}}function Kt(t,e,n){ea.get=function(){return this[e][n]},ea.set=function(t){this[e][n]=t},Object.defineProperty(t,n,ea)}function Bt(t){t._watchers=[];var e=t.$options;e.props&&Xt(t,e.props),e.methods&&Ht(t,e.methods),e.data?Ut(t):R(t._data={},!0),e.computed&&Gt(t,e.computed),e.watch&&e.watch!==xr&&qt(t,e.watch)}function Xt(t,e){var n=t.$options.propsData||{},o=t._props={},i=t.$options._propKeys=[],r=!t.$parent;Fr.shouldConvert=r;var a=function(r){i.push(r);var a=V(r,e,n,t);F(o,r,a),r in t||Kt(t,"_props",r)};for(var s in e)a(s);Fr.shouldConvert=!0}function Ut(t){var e=t.$options.data;e=t._data="function"==typeof e?Yt(e,t):e||{},u(e)||(e={});for(var n=Object.keys(e),o=t.$options.props,i=(t.$options.methods,n.length);i--;){var r=n[i];o&&y(o,r)||M(r)||Kt(t,"_data",r)}R(e,!0)}function Yt(t,e){try{return t.call(e)}catch(t){return E(t,e,"data()"),{}}}function Gt(t,e){var n=t._computedWatchers=Object.create(null);for(var o in e){var i=e[o],r="function"==typeof i?i:i.get;n[o]=new Qr(t,r||x,x,na),o in t||Wt(t,o,i)}}function Wt(t,e,n){"function"==typeof n?(ea.get=zt(e),ea.set=x):(ea.get=n.get?n.cache!==!1?zt(e):n.get:x,ea.set=n.set?n.set:x),Object.defineProperty(t,e,ea)}function zt(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),Lr.target&&e.depend(),e.value}}function Ht(t,e){t.$options.props;for(var n in e)t[n]=null==e[n]?x:g(e[n],t)}function qt(t,e){for(var n in e){var o=e[n];if(Array.isArray(o))for(var i=0;i<o.length;i++)Vt(t,n,o[i]);else Vt(t,n,o)}}function Vt(t,e,n,o){return u(n)&&(o=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,o)}function $t(t){var e={};e.get=function(){return this._data};var n={};n.get=function(){return this._props},Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=D,t.prototype.$delete=j,t.prototype.$watch=function(t,e,n){var o=this;if(u(e))return Vt(o,t,e,n);n=n||{},n.user=!0;var i=new Qr(o,t,e,n);return n.immediate&&e.call(o,i.value),function(){i.teardown()}}}function Zt(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}function Jt(t){var e=Qt(t.$options.inject,t);e&&(Fr.shouldConvert=!1,Object.keys(e).forEach(function(n){F(t,n,e[n])}),Fr.shouldConvert=!0)}function Qt(t,e){if(t){for(var n=Object.create(null),o=Ar?Reflect.ownKeys(t):Object.keys(t),i=0;i<o.length;i++)for(var r=o[i],a=t[r],s=e;s;){if(s._provided&&a in s._provided){n[r]=s._provided[a];break}s=s.$parent}return n}}function te(t,e,n,i,r){var a={},s=t.options.props;if(o(s))for(var u in s)a[u]=V(u,s,e||{});else o(n.attrs)&&ee(a,n.attrs),o(n.props)&&ee(a,n.props);var h=Object.create(i),p=function(t,e,n,o){return se(h,t,e,n,o,!0)},l=t.options.render.call(null,p,{data:n,props:a,children:r,parent:i,listeners:n.on||{},injections:Qt(t.options.inject,i),slots:function(){return _t(r,i)}});return l instanceof Br&&(l.functionalContext=i,l.functionalOptions=t.options,n.slot&&((l.data||(l.data={})).slot=n.slot)),l}function ee(t,e){for(var n in e)t[Qi(n)]=e[n]}function ne(t,e,r,a,u){if(!n(t)){var h=r.$options._base;if(s(t)&&(t=h.extend(t)),"function"==typeof t){var p;if(n(t.cid)&&(p=t,t=ft(p,h,r),void 0===t))return ct(p,e,r,a,u);e=e||{},Se(t),o(e.model)&&ae(t.options,e);var l=rt(e,t,u);if(i(t.options.functional))return te(t,l,e,r,a);var c=e.on;if(e.on=e.nativeOn,i(t.options.abstract)){var f=e.slot;e={},f&&(e.slot=f)}ie(e);var d=t.options.name||u,y=new Br("vue-component-"+t.cid+(d?"-"+d:""),e,void 0,void 0,void 0,r,{Ctor:t,propsData:l,listeners:c,tag:u,children:a},p);return y}}}function oe(t,e,n,i){var r=t.componentOptions,a={_isComponent:!0,parent:e,propsData:r.propsData,_componentTag:r.tag,_parentVnode:t,_parentListeners:r.listeners,_renderChildren:r.children,_parentElm:n||null,_refElm:i||null},s=t.data.inlineTemplate;return o(s)&&(a.render=s.render,a.staticRenderFns=s.staticRenderFns),new r.Ctor(a)}function ie(t){t.hook||(t.hook={});for(var e=0;e<ia.length;e++){var n=ia[e],o=t.hook[n],i=oa[n];t.hook[n]=o?re(i,o):i}}function re(t,e){return function(n,o,i,r){t(n,o,i,r),e(n,o,i,r)}}function ae(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.props||(e.props={}))[n]=e.model.value;var r=e.on||(e.on={});o(r[i])?r[i]=[e.model.callback].concat(r[i]):r[i]=e.model.callback}function se(t,e,n,o,r,s){return(Array.isArray(n)||a(n))&&(r=o,o=n,n=void 0),i(s)&&(r=aa),ue(t,e,n,o,r)}function ue(t,e,n,i,r){if(o(n)&&o(n.__ob__))return Yr();if(o(n)&&o(n.is)&&(e=n.is),!e)return Yr();Array.isArray(i)&&"function"==typeof i[0]&&(n=n||{},n.scopedSlots={default:i[0]},i.length=0),r===aa?i=ut(i):r===ra&&(i=st(i));var a,s;if("string"==typeof e){var u;s=ur.getTagNamespace(e),a=ur.isReservedTag(e)?new Br(ur.parsePlatformTagName(e),n,i,void 0,void 0,t):o(u=q(t.$options,"components",e))?ne(u,n,t,i,e):new Br(e,n,i,void 0,void 0,t)}else a=ne(e,n,t,i);return o(a)?(s&&he(a,s),a):Yr()}function he(t,e){if(t.ns=e,"foreignObject"!==t.tag&&o(t.children))for(var i=0,r=t.children.length;i<r;i++){var a=t.children[i];o(a.tag)&&n(a.ns)&&he(a,e)}}function pe(t,e){var n,i,r,a,u;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),i=0,r=t.length;i<r;i++)n[i]=e(t[i],i);else if("number"==typeof t)for(n=new Array(t),i=0;i<t;i++)n[i]=e(i+1,i);else if(s(t))for(a=Object.keys(t),n=new Array(a.length),i=0,r=a.length;i<r;i++)u=a[i],n[i]=e(t[u],u,i);return o(n)&&(n._isVList=!0),n}function le(t,e,n,o){var i=this.$scopedSlots[t];if(i)return n=n||{},o&&(n=b(b({},o),n)),i(n)||e;var r=this.$slots[t];return r||e}function ce(t){return q(this.$options,"filters",t,!0)||ir}function fe(t,e,n){var o=ur.keyCodes[e]||n;return Array.isArray(o)?o.indexOf(t)===-1:o!==t}function de(t,e,n,o,i){if(n)if(s(n)){Array.isArray(n)&&(n=_(n));var r,a=function(a){if("class"===a||"style"===a||$i(a))r=t;else{var s=t.attrs&&t.attrs.type;r=o||ur.mustUseProp(e,s,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}if(!(a in r)&&(r[a]=n[a],i)){var u=t.on||(t.on={});u["update:"+a]=function(t){n[a]=t}}};for(var u in n)a(u)}else;return t}function ye(t,e){var n=this._staticTrees[t];return n&&!e?Array.isArray(n)?et(n):tt(n):(n=this._staticTrees[t]=this.$options.staticRenderFns[t].call(this._renderProxy),ge(n,"__static__"+t,!1),n)}function ve(t,e,n){return ge(t,"__once__"+e+(n?"_"+n:""),!0),t}function ge(t,e,n){if(Array.isArray(t))for(var o=0;o<t.length;o++)t[o]&&"string"!=typeof t[o]&&me(t[o],e+"_"+o,n);else me(t,e,n)}function me(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function be(t,e){if(e)if(u(e)){var n=t.on=t.on?b({},t.on):{};for(var o in e){var i=n[o],r=e[o];n[o]=i?[].concat(r,i):r}}else;return t}function _e(t){t._vnode=null,t._staticTrees=null;var e=t.$vnode=t.$options._parentVnode,n=e&&e.context;t.$slots=_t(t.$options._renderChildren,n),t.$scopedSlots=hr,t._c=function(e,n,o,i){return se(t,e,n,o,i,!1)},t.$createElement=function(e,n,o,i){return se(t,e,n,o,i,!0)};var o=e&&e.data;F(t,"$attrs",o&&o.attrs,null,!0),F(t,"$listeners",t.$options._parentListeners,null,!0)}function xe(t){t.prototype.$nextTick=function(t){return Er(t,this)},t.prototype._render=function(){var t=this,e=t.$options,n=e.render,o=e.staticRenderFns,i=e._parentVnode;if(t._isMounted)for(var r in t.$slots)t.$slots[r]=et(t.$slots[r]);t.$scopedSlots=i&&i.data.scopedSlots||hr,o&&!t._staticTrees&&(t._staticTrees=[]),t.$vnode=i;var a;try{a=n.call(t._renderProxy,t.$createElement)}catch(e){E(e,t,"render function"),a=t._vnode}return a instanceof Br||(a=Yr()),a.parent=i,a},t.prototype._o=ve,t.prototype._n=c,t.prototype._s=l,t.prototype._l=pe,t.prototype._t=le,t.prototype._q=P,t.prototype._i=S,t.prototype._m=ye,t.prototype._f=ce,t.prototype._k=fe,t.prototype._b=de,t.prototype._v=Q,t.prototype._e=Yr,t.prototype._u=wt,t.prototype._g=be}function we(t){t.prototype._init=function(t){var e=this;e._uid=sa++;e._isVue=!0,t&&t._isComponent?Pe(e,t):e.$options=H(Se(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Pt(e),yt(e),_e(e),It(e,"beforeCreate"),Jt(e),Bt(e),Zt(e),It(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function Pe(t,e){var n=t.$options=Object.create(t.constructor.options);n.parent=e.parent,n.propsData=e.propsData,n._parentVnode=e._parentVnode,n._parentListeners=e._parentListeners,n._renderChildren=e._renderChildren,n._componentTag=e._componentTag,n._parentElm=e._parentElm,n._refElm=e._refElm,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function Se(t){var e=t.options;if(t.super){var n=Se(t.super),o=t.superOptions;if(n!==o){t.superOptions=n;var i=Ce(t);i&&b(t.extendOptions,i),e=t.options=H(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function Ce(t){var e,n=t.options,o=t.extendOptions,i=t.sealedOptions;for(var r in n)n[r]!==i[r]&&(e||(e={}),e[r]=Me(n[r],o[r],i[r]));return e}function Me(t,e,n){if(Array.isArray(t)){var o=[];n=Array.isArray(n)?n:[n],e=Array.isArray(e)?e:[e];for(var i=0;i<t.length;i++)(e.indexOf(t[i])>=0||n.indexOf(t[i])<0)&&o.push(t[i]);return o}return t}function Te(t){this._init(t)}function Ae(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=m(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this}}function Ee(t){t.mixin=function(t){return this.options=H(this.options,t),this}}function Ie(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,o=n.cid,i=t._Ctor||(t._Ctor={});if(i[o])return i[o];var r=t.name||n.options.name,a=function(t){this._init(t)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=e++,a.options=H(n.options,t),a.super=n,a.options.props&&Le(a),a.options.computed&&Ne(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,ar.forEach(function(t){a[t]=n[t]}),r&&(a.options.components[r]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=b({},a.options),i[o]=a,a}}function Le(t){var e=t.options.props;for(var n in e)Kt(t.prototype,"_props",n)}function Ne(t){var e=t.options.computed;for(var n in e)Wt(t.prototype,n,e[n])}function Oe(t){ar.forEach(function(e){t[e]=function(t,n){return n?("component"===e&&u(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}})}function ke(t){return t&&(t.Ctor.options.name||t.tag)}function Re(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!h(t)&&t.test(e)}function Fe(t,e,n){for(var o in t){var i=t[o];if(i){var r=ke(i.componentOptions);r&&!n(r)&&(i!==e&&De(i),t[o]=null)}}}function De(t){t&&t.componentInstance.$destroy()}function je(t){var e={};e.get=function(){return ur},Object.defineProperty(t,"config",e),t.util={warn:lr,extend:b,mergeOptions:H,defineReactive:F},t.set=D,t.delete=j,t.nextTick=Er,t.options=Object.create(null),ar.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,b(t.options.components,pa),Ae(t),Ee(t),Ie(t),Oe(t)}function Ke(t){for(var e=t.data,n=t,i=t;o(i.componentInstance);)i=i.componentInstance._vnode,i.data&&(e=Be(i.data,e));for(;o(n=n.parent);)n.data&&(e=Be(e,n.data));return Xe(e.staticClass,e.class)}function Be(t,e){return{staticClass:Ue(t.staticClass,e.staticClass),class:o(t.class)?[t.class,e.class]:e.class}}function Xe(t,e){return o(t)||o(e)?Ue(t,Ye(e)):""}function Ue(t,e){return t?e?t+" "+e:t:e||""}function Ye(t){return Array.isArray(t)?Ge(t):s(t)?We(t):"string"==typeof t?t:""}function Ge(t){for(var e,n="",i=0,r=t.length;i<r;i++)o(e=Ye(t[i]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function We(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}function ze(t){return La(t)?"svg":"math"===t?"math":void 0}function He(t){if(!fr)return!0;if(Oa(t))return!1;if(t=t.toLowerCase(),null!=ka[t])return ka[t];var e=document.createElement(t);return t.indexOf("-")>-1?ka[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:ka[t]=/HTMLUnknownElement/.test(e.toString())}function qe(t){if("string"==typeof t){var e=document.querySelector(t);return e?e:document.createElement("div")}return t}function Ve(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}function $e(t,e){return document.createElementNS(Ea[t],e)}function Ze(t){return document.createTextNode(t)}function Je(t){return document.createComment(t)}function Qe(t,e,n){t.insertBefore(e,n)}function tn(t,e){t.removeChild(e)}function en(t,e){t.appendChild(e)}function nn(t){return t.parentNode}function on(t){return t.nextSibling}function rn(t){return t.tagName}function an(t,e){t.textContent=e}function sn(t,e,n){t.setAttribute(e,n)}function un(t,e){var n=t.data.ref;if(n){var o=t.context,i=t.componentInstance||t.elm,r=o.$refs;e?Array.isArray(r[n])?d(r[n],i):r[n]===i&&(r[n]=void 0):t.data.refInFor?Array.isArray(r[n])?r[n].indexOf(i)<0&&r[n].push(i):r[n]=[i]:r[n]=i}}function hn(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&o(t.data)===o(e.data)&&pn(t,e)||i(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&n(e.asyncFactory.error))}function pn(t,e){if("input"!==t.tag)return!0;var n,i=o(n=t.data)&&o(n=n.attrs)&&n.type,r=o(n=e.data)&&o(n=n.attrs)&&n.type;return i===r}function ln(t,e,n){var i,r,a={};for(i=e;i<=n;++i)r=t[i].key,o(r)&&(a[r]=i);return a}function cn(t){function e(t){return new Br(I.tagName(t).toLowerCase(),{},[],void 0,t)}function r(t,e){function n(){0===--n.listeners&&s(t)}return n.listeners=e,n}function s(t){var e=I.parentNode(t);o(e)&&I.removeChild(e,t)}function u(t,e,n,r,a){if(t.isRootInsert=!a,!h(t,e,n,r)){var s=t.data,u=t.children,p=t.tag;o(p)?(t.elm=t.ns?I.createElementNS(t.ns,p):I.createElement(p,t),g(t),d(t,u,e),o(s)&&v(t,e),c(n,t.elm,r)):i(t.isComment)?(t.elm=I.createComment(t.text),c(n,t.elm,r)):(t.elm=I.createTextNode(t.text),c(n,t.elm,r))}}function h(t,e,n,r){var a=t.data;if(o(a)){var s=o(t.componentInstance)&&a.keepAlive;if(o(a=a.hook)&&o(a=a.init)&&a(t,!1,n,r),o(t.componentInstance))return p(t,e),i(s)&&l(t,e,n,r),!0}}function p(t,e){o(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,y(t)?(v(t,e),g(t)):(un(t),e.push(t))}function l(t,e,n,i){for(var r,a=t;a.componentInstance;)if(a=a.componentInstance._vnode,o(r=a.data)&&o(r=r.transition)){for(r=0;r<A.activate.length;++r)A.activate[r](Da,a);e.push(a);break}c(n,t.elm,i)}function c(t,e,n){o(t)&&(o(n)?n.parentNode===t&&I.insertBefore(t,e,n):I.appendChild(t,e))}function d(t,e,n){if(Array.isArray(e))for(var o=0;o<e.length;++o)u(e[o],n,t.elm,null,!0);else a(t.text)&&I.appendChild(t.elm,I.createTextNode(t.text))}function y(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return o(t.tag)}function v(t,e){for(var n=0;n<A.create.length;++n)A.create[n](Da,t);M=t.data.hook,o(M)&&(o(M.create)&&M.create(Da,t),o(M.insert)&&e.push(t))}function g(t){for(var e,n=t;n;)o(e=n.context)&&o(e=e.$options._scopeId)&&I.setAttribute(t.elm,e,""),n=n.parent;o(e=Wr)&&e!==t.context&&o(e=e.$options._scopeId)&&I.setAttribute(t.elm,e,"")}function m(t,e,n,o,i,r){for(;o<=i;++o)u(n[o],r,t,e)}function b(t){var e,n,i=t.data;if(o(i))for(o(e=i.hook)&&o(e=e.destroy)&&e(t),e=0;e<A.destroy.length;++e)A.destroy[e](t);if(o(e=t.children))for(n=0;n<t.children.length;++n)b(t.children[n])}function _(t,e,n,i){for(;n<=i;++n){var r=e[n];o(r)&&(o(r.tag)?(x(r),b(r)):s(r.elm))}}function x(t,e){if(o(e)||o(t.data)){var n,i=A.remove.length+1;for(o(e)?e.listeners+=i:e=r(t.elm,i),o(n=t.componentInstance)&&o(n=n._vnode)&&o(n.data)&&x(n,e),n=0;n<A.remove.length;++n)A.remove[n](t,e);o(n=t.data.hook)&&o(n=n.remove)?n(t,e):e()}else s(t.elm)}function w(t,e,i,r,a){for(var s,h,p,l,c=0,f=0,d=e.length-1,y=e[0],v=e[d],g=i.length-1,b=i[0],x=i[g],w=!a;c<=d&&f<=g;)n(y)?y=e[++c]:n(v)?v=e[--d]:hn(y,b)?(P(y,b,r),y=e[++c],b=i[++f]):hn(v,x)?(P(v,x,r),v=e[--d],x=i[--g]):hn(y,x)?(P(y,x,r),w&&I.insertBefore(t,y.elm,I.nextSibling(v.elm)),y=e[++c],x=i[--g]):hn(v,b)?(P(v,b,r),w&&I.insertBefore(t,v.elm,y.elm),v=e[--d],b=i[++f]):(n(s)&&(s=ln(e,c,d)),h=o(b.key)?s[b.key]:null,n(h)?(u(b,r,t,y.elm),b=i[++f]):(p=e[h],hn(p,b)?(P(p,b,r),e[h]=void 0,w&&I.insertBefore(t,p.elm,y.elm),b=i[++f]):(u(b,r,t,y.elm),b=i[++f])));c>d?(l=n(i[g+1])?null:i[g+1].elm,m(t,l,i,f,g,r)):f>g&&_(t,e,c,d)}function P(t,e,r,a){if(t!==e){var s=e.elm=t.elm;if(i(t.isAsyncPlaceholder))return void(o(e.asyncFactory.resolved)?C(t.elm,e,r):e.isAsyncPlaceholder=!0);if(i(e.isStatic)&&i(t.isStatic)&&e.key===t.key&&(i(e.isCloned)||i(e.isOnce)))return void(e.componentInstance=t.componentInstance);var u,h=e.data;o(h)&&o(u=h.hook)&&o(u=u.prepatch)&&u(t,e);var p=t.children,l=e.children;if(o(h)&&y(e)){for(u=0;u<A.update.length;++u)A.update[u](t,e);o(u=h.hook)&&o(u=u.update)&&u(t,e)}n(e.text)?o(p)&&o(l)?p!==l&&w(s,p,l,r,a):o(l)?(o(t.text)&&I.setTextContent(s,""),m(s,null,l,0,l.length-1,r)):o(p)?_(s,p,0,p.length-1):o(t.text)&&I.setTextContent(s,""):t.text!==e.text&&I.setTextContent(s,e.text),o(h)&&o(u=h.hook)&&o(u=u.postpatch)&&u(t,e)}}function S(t,e,n){if(i(n)&&o(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}function C(t,e,n){if(i(e.isComment)&&o(e.asyncFactory))return e.elm=t,e.isAsyncPlaceholder=!0,!0;e.elm=t;var r=e.tag,a=e.data,s=e.children;if(o(a)&&(o(M=a.hook)&&o(M=M.init)&&M(e,!0),o(M=e.componentInstance)))return p(e,n),!0;if(o(r)){if(o(s))if(t.hasChildNodes()){for(var u=!0,h=t.firstChild,l=0;l<s.length;l++){if(!h||!C(h,s[l],n)){u=!1;break}h=h.nextSibling}if(!u||h)return!1}else d(e,s,n);if(o(a))for(var c in a)if(!L(c)){v(e,n);break}}else t.data!==e.text&&(t.data=e.text);return!0}var M,T,A={},E=t.modules,I=t.nodeOps;for(M=0;M<ja.length;++M)for(A[ja[M]]=[],T=0;T<E.length;++T)o(E[T][ja[M]])&&A[ja[M]].push(E[T][ja[M]]);var L=f("attrs,style,class,staticClass,staticStyle,key");return function(t,r,a,s,h,p){if(n(r))return void(o(t)&&b(t));var l=!1,c=[];if(n(t))l=!0,u(r,c,h,p);else{var f=o(t.nodeType);if(!f&&hn(t,r))P(t,r,c,s);else{if(f){if(1===t.nodeType&&t.hasAttribute(rr)&&(t.removeAttribute(rr),a=!0),i(a)&&C(t,r,c))return S(r,c,!0),t;t=e(t)}var d=t.elm,v=I.parentNode(d);if(u(r,c,d._leaveCb?null:v,I.nextSibling(d)),
o(r.parent)){for(var g=r.parent;g;)g.elm=r.elm,g=g.parent;if(y(r))for(var m=0;m<A.create.length;++m)A.create[m](Da,r.parent)}o(v)?_(v,[t],0,0):o(t.tag)&&b(t)}}return S(r,c,l),r.elm}}function fn(t,e){(t.data.directives||e.data.directives)&&dn(t,e)}function dn(t,e){var n,o,i,r=t===Da,a=e===Da,s=yn(t.data.directives,t.context),u=yn(e.data.directives,e.context),h=[],p=[];for(n in u)o=s[n],i=u[n],o?(i.oldValue=o.value,gn(i,"update",e,t),i.def&&i.def.componentUpdated&&p.push(i)):(gn(i,"bind",e,t),i.def&&i.def.inserted&&h.push(i));if(h.length){var l=function(){for(var n=0;n<h.length;n++)gn(h[n],"inserted",e,t)};r?it(e.data.hook||(e.data.hook={}),"insert",l):l()}if(p.length&&it(e.data.hook||(e.data.hook={}),"postpatch",function(){for(var n=0;n<p.length;n++)gn(p[n],"componentUpdated",e,t)}),!r)for(n in s)u[n]||gn(s[n],"unbind",t,t,a)}function yn(t,e){var n=Object.create(null);if(!t)return n;var o,i;for(o=0;o<t.length;o++)i=t[o],i.modifiers||(i.modifiers=Ba),n[vn(i)]=i,i.def=q(e.$options,"directives",i.name,!0);return n}function vn(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function gn(t,e,n,o,i){var r=t.def&&t.def[e];if(r)try{r(n.elm,t,n,o,i)}catch(o){E(o,n.context,"directive "+t.name+" "+e+" hook")}}function mn(t,e){var i=e.componentOptions;if(!(o(i)&&i.Ctor.options.inheritAttrs===!1||n(t.data.attrs)&&n(e.data.attrs))){var r,a,s,u=e.elm,h=t.data.attrs||{},p=e.data.attrs||{};o(p.__ob__)&&(p=e.data.attrs=b({},p));for(r in p)a=p[r],s=h[r],s!==a&&bn(u,r,a);vr&&p.value!==h.value&&bn(u,"value",p.value);for(r in h)n(p[r])&&(Ma(r)?u.removeAttributeNS(Ca,Ta(r)):Pa(r)||u.removeAttribute(r))}}function bn(t,e,n){Sa(e)?Aa(n)?t.removeAttribute(e):t.setAttribute(e,e):Pa(e)?t.setAttribute(e,Aa(n)||"false"===n?"false":"true"):Ma(e)?Aa(n)?t.removeAttributeNS(Ca,Ta(e)):t.setAttributeNS(Ca,e,n):Aa(n)?t.removeAttribute(e):t.setAttribute(e,n)}function _n(t,e){var i=e.elm,r=e.data,a=t.data;if(!(n(r.staticClass)&&n(r.class)&&(n(a)||n(a.staticClass)&&n(a.class)))){var s=Ke(e),u=i._transitionClasses;o(u)&&(s=Ue(s,Ye(u))),s!==i._prevClass&&(i.setAttribute("class",s),i._prevClass=s)}}function xn(t){function e(){(a||(a=[])).push(t.slice(d,i).trim()),d=i+1}var n,o,i,r,a,s=!1,u=!1,h=!1,p=!1,l=0,c=0,f=0,d=0;for(i=0;i<t.length;i++)if(o=n,n=t.charCodeAt(i),s)39===n&&92!==o&&(s=!1);else if(u)34===n&&92!==o&&(u=!1);else if(h)96===n&&92!==o&&(h=!1);else if(p)47===n&&92!==o&&(p=!1);else if(124!==n||124===t.charCodeAt(i+1)||124===t.charCodeAt(i-1)||l||c||f){switch(n){case 34:u=!0;break;case 39:s=!0;break;case 96:h=!0;break;case 40:f++;break;case 41:f--;break;case 91:c++;break;case 93:c--;break;case 123:l++;break;case 125:l--}if(47===n){for(var y=i-1,v=void 0;y>=0&&(v=t.charAt(y)," "===v);y--);v&&Ga.test(v)||(p=!0)}}else void 0===r?(d=i+1,r=t.slice(0,i).trim()):e();if(void 0===r?r=t.slice(0,i).trim():0!==d&&e(),a)for(i=0;i<a.length;i++)r=wn(r,a[i]);return r}function wn(t,e){var n=e.indexOf("(");if(n<0)return'_f("'+e+'")('+t+")";var o=e.slice(0,n),i=e.slice(n+1);return'_f("'+o+'")('+t+","+i}function Pn(t){console.error("[Vue compiler]: "+t)}function Sn(t,e){return t?t.map(function(t){return t[e]}).filter(function(t){return t}):[]}function Cn(t,e,n){(t.props||(t.props=[])).push({name:e,value:n})}function Mn(t,e,n){(t.attrs||(t.attrs=[])).push({name:e,value:n})}function Tn(t,e,n,o,i,r){(t.directives||(t.directives=[])).push({name:e,rawName:n,value:o,arg:i,modifiers:r})}function An(t,e,n,o,i,r){o&&o.capture&&(delete o.capture,e="!"+e),o&&o.once&&(delete o.once,e="~"+e),o&&o.passive&&(delete o.passive,e="&"+e);var a;o&&o.native?(delete o.native,a=t.nativeEvents||(t.nativeEvents={})):a=t.events||(t.events={});var s={value:n,modifiers:o},u=a[e];Array.isArray(u)?i?u.unshift(s):u.push(s):u?a[e]=i?[s,u]:[u,s]:a[e]=s}function En(t,e,n){var o=In(t,":"+e)||In(t,"v-bind:"+e);if(null!=o)return xn(o);if(n!==!1){var i=In(t,e);if(null!=i)return JSON.stringify(i)}}function In(t,e){var n;if(null!=(n=t.attrsMap[e]))for(var o=t.attrsList,i=0,r=o.length;i<r;i++)if(o[i].name===e){o.splice(i,1);break}return n}function Ln(t,e,n){var o=n||{},i=o.number,r=o.trim,a="$$v",s=a;r&&(s="(typeof "+a+" === 'string'? "+a+".trim(): "+a+")"),i&&(s="_n("+s+")");var u=Nn(e,s);t.model={value:"("+e+")",expression:'"'+e+'"',callback:"function ("+a+") {"+u+"}"}}function Nn(t,e){var n=On(t);return null===n.idx?t+"="+e:"$set("+n.exp+", "+n.idx+", "+e+")"}function On(t){if(ca=t,la=ca.length,da=ya=va=0,t.indexOf("[")<0||t.lastIndexOf("]")<la-1)return{exp:t,idx:null};for(;!Rn();)fa=kn(),Fn(fa)?jn(fa):91===fa&&Dn(fa);return{exp:t.substring(0,ya),idx:t.substring(ya+1,va)}}function kn(){return ca.charCodeAt(++da)}function Rn(){return da>=la}function Fn(t){return 34===t||39===t}function Dn(t){var e=1;for(ya=da;!Rn();)if(t=kn(),Fn(t))jn(t);else if(91===t&&e++,93===t&&e--,0===e){va=da;break}}function jn(t){for(var e=t;!Rn()&&(t=kn(),t!==e););}function Kn(t,e,n){ga=n;var o=e.value,i=e.modifiers,r=t.tag,a=t.attrsMap.type;if(t.component)return Ln(t,o,i),!1;if("select"===r)Un(t,o,i);else if("input"===r&&"checkbox"===a)Bn(t,o,i);else if("input"===r&&"radio"===a)Xn(t,o,i);else if("input"===r||"textarea"===r)Yn(t,o,i);else if(!ur.isReservedTag(r))return Ln(t,o,i),!1;return!0}function Bn(t,e,n){var o=n&&n.number,i=En(t,"value")||"null",r=En(t,"true-value")||"true",a=En(t,"false-value")||"false";Cn(t,"checked","Array.isArray("+e+")?_i("+e+","+i+")>-1"+("true"===r?":("+e+")":":_q("+e+","+r+")")),An(t,za,"var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+r+"):("+a+");if(Array.isArray($$a)){var $$v="+(o?"_n("+i+")":i)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+e+"=$$a.concat($$v))}else{$$i>-1&&("+e+"=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{"+Nn(e,"$$c")+"}",null,!0)}function Xn(t,e,n){var o=n&&n.number,i=En(t,"value")||"null";i=o?"_n("+i+")":i,Cn(t,"checked","_q("+e+","+i+")"),An(t,za,Nn(e,i),null,!0)}function Un(t,e,n){var o=n&&n.number,i='Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(o?"_n(val)":"val")+"})",r="$event.target.multiple ? $$selectedVal : $$selectedVal[0]",a="var $$selectedVal = "+i+";";a=a+" "+Nn(e,r),An(t,"change",a,null,!0)}function Yn(t,e,n){var o=t.attrsMap.type,i=n||{},r=i.lazy,a=i.number,s=i.trim,u=!r&&"range"!==o,h=r?"change":"range"===o?Wa:"input",p="$event.target.value";s&&(p="$event.target.value.trim()"),a&&(p="_n("+p+")");var l=Nn(e,p);u&&(l="if($event.target.composing)return;"+l),Cn(t,"value","("+e+")"),An(t,h,l,null,!0),(s||a)&&An(t,"blur","$forceUpdate()")}function Gn(t){var e;o(t[Wa])&&(e=yr?"change":"input",t[e]=[].concat(t[Wa],t[e]||[]),delete t[Wa]),o(t[za])&&(e=_r?"click":"change",t[e]=[].concat(t[za],t[e]||[]),delete t[za])}function Wn(t,e,n,o,i){if(n){var r=e,a=ma;e=function(n){var i=1===arguments.length?r(n):r.apply(null,arguments);null!==i&&zn(t,e,o,a)}}ma.addEventListener(t,e,wr?{capture:o,passive:i}:o)}function zn(t,e,n,o){(o||ma).removeEventListener(t,e,n)}function Hn(t,e){if(!n(t.data.on)||!n(e.data.on)){var o=e.data.on||{},i=t.data.on||{};ma=e.elm,Gn(o),ot(o,i,Wn,zn,e.context)}}function qn(t,e){if(!n(t.data.domProps)||!n(e.data.domProps)){var i,r,a=e.elm,s=t.data.domProps||{},u=e.data.domProps||{};o(u.__ob__)&&(u=e.data.domProps=b({},u));for(i in s)n(u[i])&&(a[i]="");for(i in u)if(r=u[i],"textContent"!==i&&"innerHTML"!==i||(e.children&&(e.children.length=0),r!==s[i]))if("value"===i){a._value=r;var h=n(r)?"":String(r);Vn(a,e,h)&&(a.value=h)}else a[i]=r}}function Vn(t,e,n){return!t.composing&&("option"===e.tag||$n(t,n)||Zn(t,n))}function $n(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}function Zn(t,e){var n=t.value,i=t._vModifiers;return o(i)&&i.number?c(n)!==c(e):o(i)&&i.trim?n.trim()!==e.trim():n!==e}function Jn(t){var e=Qn(t.style);return t.staticStyle?b(t.staticStyle,e):e}function Qn(t){return Array.isArray(t)?_(t):"string"==typeof t?Va(t):t}function to(t,e){var n,o={};if(e)for(var i=t;i.componentInstance;)i=i.componentInstance._vnode,i.data&&(n=Jn(i.data))&&b(o,n);(n=Jn(t.data))&&b(o,n);for(var r=t;r=r.parent;)r.data&&(n=Jn(r.data))&&b(o,n);return o}function eo(t,e){var i=e.data,r=t.data;if(!(n(i.staticStyle)&&n(i.style)&&n(r.staticStyle)&&n(r.style))){var a,s,u=e.elm,h=r.staticStyle,p=r.normalizedStyle||r.style||{},l=h||p,c=Qn(e.data.style)||{};e.data.normalizedStyle=o(c.__ob__)?b({},c):c;var f=to(e,!0);for(s in l)n(f[s])&&Ja(u,s,"");for(s in f)a=f[s],a!==l[s]&&Ja(u,s,null==a?"":a)}}function no(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function oo(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",o=" "+e+" ";n.indexOf(o)>=0;)n=n.replace(o," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function io(t){if(t){if("object"==typeof t){var e={};return t.css!==!1&&b(e,ns(t.name||"v")),b(e,t),e}return"string"==typeof t?ns(t):void 0}}function ro(t){ps(function(){ps(t)})}function ao(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),no(t,e))}function so(t,e){t._transitionClasses&&d(t._transitionClasses,e),oo(t,e)}function uo(t,e,n){var o=ho(t,e),i=o.type,r=o.timeout,a=o.propCount;if(!i)return n();var s=i===is?ss:hs,u=0,h=function(){t.removeEventListener(s,p),n()},p=function(e){e.target===t&&++u>=a&&h()};setTimeout(function(){u<a&&h()},r+1),t.addEventListener(s,p)}function ho(t,e){var n,o=window.getComputedStyle(t),i=o[as+"Delay"].split(", "),r=o[as+"Duration"].split(", "),a=po(i,r),s=o[us+"Delay"].split(", "),u=o[us+"Duration"].split(", "),h=po(s,u),p=0,l=0;e===is?a>0&&(n=is,p=a,l=r.length):e===rs?h>0&&(n=rs,p=h,l=u.length):(p=Math.max(a,h),n=p>0?a>h?is:rs:null,l=n?n===is?r.length:u.length:0);var c=n===is&&ls.test(o[as+"Property"]);return{type:n,timeout:p,propCount:l,hasTransform:c}}function po(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return lo(e)+lo(t[n])}))}function lo(t){return 1e3*Number(t.slice(0,-1))}function co(t,e){var i=t.elm;o(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var r=io(t.data.transition);if(!n(r)&&!o(i._enterCb)&&1===i.nodeType){for(var a=r.css,u=r.type,h=r.enterClass,p=r.enterToClass,l=r.enterActiveClass,f=r.appearClass,d=r.appearToClass,y=r.appearActiveClass,v=r.beforeEnter,g=r.enter,m=r.afterEnter,b=r.enterCancelled,_=r.beforeAppear,x=r.appear,w=r.afterAppear,P=r.appearCancelled,S=r.duration,M=Wr,T=Wr.$vnode;T&&T.parent;)T=T.parent,M=T.context;var A=!M._isMounted||!t.isRootInsert;if(!A||x||""===x){var E=A&&f?f:h,I=A&&y?y:l,L=A&&d?d:p,N=A?_||v:v,O=A&&"function"==typeof x?x:g,k=A?w||m:m,R=A?P||b:b,F=c(s(S)?S.enter:S),D=a!==!1&&!vr,j=vo(O),K=i._enterCb=C(function(){D&&(so(i,L),so(i,I)),K.cancelled?(D&&so(i,E),R&&R(i)):k&&k(i),i._enterCb=null});t.data.show||it(t.data.hook||(t.data.hook={}),"insert",function(){var e=i.parentNode,n=e&&e._pending&&e._pending[t.key];n&&n.tag===t.tag&&n.elm._leaveCb&&n.elm._leaveCb(),O&&O(i,K)}),N&&N(i),D&&(ao(i,E),ao(i,I),ro(function(){ao(i,L),so(i,E),K.cancelled||j||(yo(F)?setTimeout(K,F):uo(i,u,K))})),t.data.show&&(e&&e(),O&&O(i,K)),D||j||K()}}}function fo(t,e){function i(){P.cancelled||(t.data.show||((r.parentNode._pending||(r.parentNode._pending={}))[t.key]=t),d&&d(r),_&&(ao(r,p),ao(r,f),ro(function(){ao(r,l),so(r,p),P.cancelled||x||(yo(w)?setTimeout(P,w):uo(r,h,P))})),y&&y(r,P),_||x||P())}var r=t.elm;o(r._enterCb)&&(r._enterCb.cancelled=!0,r._enterCb());var a=io(t.data.transition);if(n(a))return e();if(!o(r._leaveCb)&&1===r.nodeType){var u=a.css,h=a.type,p=a.leaveClass,l=a.leaveToClass,f=a.leaveActiveClass,d=a.beforeLeave,y=a.leave,v=a.afterLeave,g=a.leaveCancelled,m=a.delayLeave,b=a.duration,_=u!==!1&&!vr,x=vo(y),w=c(s(b)?b.leave:b),P=r._leaveCb=C(function(){r.parentNode&&r.parentNode._pending&&(r.parentNode._pending[t.key]=null),_&&(so(r,l),so(r,f)),P.cancelled?(_&&so(r,p),g&&g(r)):(e(),v&&v(r)),r._leaveCb=null});m?m(i):i()}}function yo(t){return"number"==typeof t&&!isNaN(t)}function vo(t){if(n(t))return!1;var e=t.fns;return o(e)?vo(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function go(t,e){e.data.show!==!0&&co(e)}function mo(t,e,n){var o=e.value,i=t.multiple;if(!i||Array.isArray(o)){for(var r,a,s=0,u=t.options.length;s<u;s++)if(a=t.options[s],i)r=S(o,bo(a))>-1,a.selected!==r&&(a.selected=r);else if(P(bo(a),o))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function bo(t){return"_value"in t?t._value:t.value}function _o(t){t.target.composing=!0}function xo(t){t.target.composing&&(t.target.composing=!1,wo(t.target,"input"))}function wo(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Po(t){return!t.componentInstance||t.data&&t.data.transition?t:Po(t.componentInstance._vnode)}function So(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?So(dt(e.children)):t}function Co(t){var e={},n=t.$options;for(var o in n.propsData)e[o]=t[o];var i=n._parentListeners;for(var r in i)e[Qi(r)]=i[r];return e}function Mo(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function To(t){for(;t=t.parent;)if(t.data.transition)return!0}function Ao(t,e){return e.key===t.key&&e.tag===t.tag}function Eo(t){return t.isComment&&t.asyncFactory}function Io(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Lo(t){t.data.newPos=t.elm.getBoundingClientRect()}function No(t){var e=t.data.pos,n=t.data.newPos,o=e.left-n.left,i=e.top-n.top;if(o||i){t.data.moved=!0;var r=t.elm.style;r.transform=r.WebkitTransform="translate("+o+"px,"+i+"px)",r.transitionDuration="0s"}}function Oo(t,e){var n=document.createElement("div");return n.innerHTML='<div a="'+t+'"/>',n.innerHTML.indexOf(e)>0}function ko(t,e){var n=e?Es(e):Ts;if(n.test(t)){for(var o,i,r=[],a=n.lastIndex=0;o=n.exec(t);){i=o.index,i>a&&r.push(JSON.stringify(t.slice(a,i)));var s=xn(o[1].trim());r.push("_s("+s+")"),a=i+o[0].length}return a<t.length&&r.push(JSON.stringify(t.slice(a))),r.join("+")}}function Ro(t,e){var n=(e.warn||Pn,In(t,"class"));n&&(t.staticClass=JSON.stringify(n));var o=En(t,"class",!1);o&&(t.classBinding=o)}function Fo(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}function Do(t,e){var n=(e.warn||Pn,In(t,"style"));if(n){t.staticStyle=JSON.stringify(Va(n))}var o=En(t,"style",!1);o&&(t.styleBinding=o)}function jo(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}function Ko(t,e){e.value&&Cn(t,"textContent","_s("+e.value+")")}function Bo(t,e){e.value&&Cn(t,"innerHTML","_s("+e.value+")")}function Xo(t,e){var n=e?cu:lu;return t.replace(n,function(t){return pu[t]})}function Uo(t,e){function n(e){c+=e,t=t.substring(e)}function o(){var e=t.match(Ws);if(e){var o={tagName:e[1],attrs:[],start:c};n(e[0].length);for(var i,r;!(i=t.match(zs))&&(r=t.match(Us));)n(r[0].length),o.attrs.push(r);if(i)return o.unarySlash=i[1],n(i[0].length),o.end=c,o}}function i(t){var n=t.tagName,o=t.unarySlash;h&&("p"===s&&Fs(n)&&r(s),l(n)&&s===n&&r(n));for(var i=p(n)||!!o,a=t.attrs.length,c=new Array(a),f=0;f<a;f++){var d=t.attrs[f];Zs&&d[0].indexOf('""')===-1&&(""===d[3]&&delete d[3],""===d[4]&&delete d[4],""===d[5]&&delete d[5]);var y=d[3]||d[4]||d[5]||"";c[f]={name:d[1],value:Xo(y,e.shouldDecodeNewlines)}}i||(u.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:c}),s=n),e.start&&e.start(n,c,i,t.start,t.end)}function r(t,n,o){var i,r;if(null==n&&(n=c),null==o&&(o=c),t&&(r=t.toLowerCase()),t)for(i=u.length-1;i>=0&&u[i].lowerCasedTag!==r;i--);else i=0;if(i>=0){for(var a=u.length-1;a>=i;a--)e.end&&e.end(u[a].tag,n,o);u.length=i,s=i&&u[i-1].tag}else"br"===r?e.start&&e.start(t,[],!0,n,o):"p"===r&&(e.start&&e.start(t,[],!1,n,o),e.end&&e.end(t,n,o))}for(var a,s,u=[],h=e.expectHTML,p=e.isUnaryTag||or,l=e.canBeLeftOpenTag||or,c=0;t;){if(a=t,s&&uu(s)){var f=0,d=s.toLowerCase(),y=hu[d]||(hu[d]=new RegExp("([\\s\\S]*?)(</"+d+"[^>]*>)","i")),v=t.replace(y,function(t,n,o){return f=o.length,uu(d)||"noscript"===d||(n=n.replace(/<!--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),du(d,n)&&(n=n.slice(1)),e.chars&&e.chars(n),""});c+=t.length-v.length,t=v,r(d,c-f,c)}else{var g=t.indexOf("<");if(0===g){if(Vs.test(t)){var m=t.indexOf("-->");if(m>=0){e.shouldKeepComment&&e.comment(t.substring(4,m)),n(m+3);continue}}if($s.test(t)){var b=t.indexOf("]>");if(b>=0){n(b+2);continue}}var _=t.match(qs);if(_){n(_[0].length);continue}var x=t.match(Hs);if(x){var w=c;n(x[0].length),r(x[1],w,c);continue}var P=o();if(P){i(P),du(s,t)&&n(1);continue}}var S=void 0,C=void 0,M=void 0;if(g>=0){for(C=t.slice(g);!(Hs.test(C)||Ws.test(C)||Vs.test(C)||$s.test(C)||(M=C.indexOf("<",1),M<0));)g+=M,C=t.slice(g);S=t.substring(0,g),n(g)}g<0&&(S=t,t=""),e.chars&&S&&e.chars(S)}if(t===a){e.chars&&e.chars(t);break}}r()}function Yo(t,e){function n(t){t.pre&&(s=!1),ou(t.tag)&&(u=!1)}Js=e.warn||Pn,ou=e.isPreTag||or,iu=e.mustUseProp||or,ru=e.getTagNamespace||or,tu=Sn(e.modules,"transformNode"),eu=Sn(e.modules,"preTransformNode"),nu=Sn(e.modules,"postTransformNode"),Qs=e.delimiters;var o,i,r=[],a=e.preserveWhitespace!==!1,s=!1,u=!1;return Uo(t,{warn:Js,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldKeepComment:e.comments,start:function(t,a,h){function p(t){}var l=i&&i.ns||ru(t);yr&&"svg"===l&&(a=ui(a));var c={type:1,tag:t,attrsList:a,attrsMap:ri(a),parent:i,children:[]};l&&(c.ns=l),si(c)&&!Mr()&&(c.forbidden=!0);for(var f=0;f<eu.length;f++)eu[f](c,e);if(s||(Go(c),c.pre&&(s=!0)),ou(c.tag)&&(u=!0),s)Wo(c);else{qo(c),Vo(c),Qo(c),zo(c),c.plain=!c.key&&!a.length,Ho(c),ti(c),ei(c);for(var d=0;d<tu.length;d++)tu[d](c,e);ni(c)}if(o?r.length||o.if&&(c.elseif||c.else)&&(p(c),Jo(o,{exp:c.elseif,block:c})):(o=c,p(o)),i&&!c.forbidden)if(c.elseif||c.else)$o(c,i);else if(c.slotScope){i.plain=!1;var y=c.slotTarget||'"default"';(i.scopedSlots||(i.scopedSlots={}))[y]=c}else i.children.push(c),c.parent=i;h?n(c):(i=c,r.push(c));for(var v=0;v<nu.length;v++)nu[v](c,e)},end:function(){var t=r[r.length-1],e=t.children[t.children.length-1];e&&3===e.type&&" "===e.text&&!u&&t.children.pop(),r.length-=1,i=r[r.length-1],n(t)},chars:function(t){if(i&&(!yr||"textarea"!==i.tag||i.attrsMap.placeholder!==t)){var e=i.children;if(t=u||t.trim()?ai(i)?t:wu(t):a&&e.length?" ":""){var n;!s&&" "!==t&&(n=ko(t,Qs))?e.push({type:2,expression:n,text:t}):" "===t&&e.length&&" "===e[e.length-1].text||e.push({type:3,text:t})}}},comment:function(t){i.children.push({type:3,text:t,isComment:!0})}}),o}function Go(t){null!=In(t,"v-pre")&&(t.pre=!0)}function Wo(t){var e=t.attrsList.length;if(e)for(var n=t.attrs=new Array(e),o=0;o<e;o++)n[o]={name:t.attrsList[o].name,value:JSON.stringify(t.attrsList[o].value)};else t.pre||(t.plain=!0)}function zo(t){var e=En(t,"key");e&&(t.key=e)}function Ho(t){var e=En(t,"ref");e&&(t.ref=e,t.refInFor=oi(t))}function qo(t){var e;if(e=In(t,"v-for")){var n=e.match(gu);if(!n)return;t.for=n[2].trim();var o=n[1].trim(),i=o.match(mu);i?(t.alias=i[1].trim(),t.iterator1=i[2].trim(),i[3]&&(t.iterator2=i[3].trim())):t.alias=o}}function Vo(t){var e=In(t,"v-if");if(e)t.if=e,Jo(t,{exp:e,block:t});else{null!=In(t,"v-else")&&(t.else=!0);var n=In(t,"v-else-if");n&&(t.elseif=n)}}function $o(t,e){var n=Zo(e.children);n&&n.if&&Jo(n,{exp:t.elseif,block:t})}function Zo(t){for(var e=t.length;e--;){if(1===t[e].type)return t[e];t.pop()}}function Jo(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function Qo(t){var e=In(t,"v-once");null!=e&&(t.once=!0)}function ti(t){if("slot"===t.tag)t.slotName=En(t,"name");else{var e=En(t,"slot");e&&(t.slotTarget='""'===e?'"default"':e),"template"===t.tag&&(t.slotScope=In(t,"scope"))}}function ei(t){var e;(e=En(t,"is"))&&(t.component=e),null!=In(t,"inline-template")&&(t.inlineTemplate=!0)}function ni(t){var e,n,o,i,r,a,s,u=t.attrsList;for(e=0,n=u.length;e<n;e++)if(o=i=u[e].name,r=u[e].value,vu.test(o))if(t.hasBindings=!0,a=ii(o),a&&(o=o.replace(xu,"")),_u.test(o))o=o.replace(_u,""),r=xn(r),s=!1,a&&(a.prop&&(s=!0,o=Qi(o),"innerHtml"===o&&(o="innerHTML")),a.camel&&(o=Qi(o)),a.sync&&An(t,"update:"+Qi(o),Nn(r,"$event"))),s||!t.component&&iu(t.tag,t.attrsMap.type,o)?Cn(t,o,r):Mn(t,o,r);else if(yu.test(o))o=o.replace(yu,""),An(t,o,r,a,!1,Js);else{o=o.replace(vu,"");var h=o.match(bu),p=h&&h[1];p&&(o=o.slice(0,-(p.length+1))),Tn(t,o,i,r,p,a)}else{Mn(t,o,JSON.stringify(r))}}function oi(t){for(var e=t;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}function ii(t){var e=t.match(xu);if(e){var n={};return e.forEach(function(t){n[t.slice(1)]=!0}),n}}function ri(t){for(var e={},n=0,o=t.length;n<o;n++)e[t[n].name]=t[n].value;return e}function ai(t){return"script"===t.tag||"style"===t.tag}function si(t){return"style"===t.tag||"script"===t.tag&&(!t.attrsMap.type||"text/javascript"===t.attrsMap.type)}function ui(t){for(var e=[],n=0;n<t.length;n++){var o=t[n];Pu.test(o.name)||(o.name=o.name.replace(Su,""),e.push(o))}return e}function hi(t,e){t&&(au=Cu(e.staticKeys||""),su=e.isReservedTag||or,li(t),ci(t,!1))}function pi(t){return f("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(t?","+t:""))}function li(t){if(t.static=fi(t),1===t.type){if(!su(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var e=0,n=t.children.length;e<n;e++){var o=t.children[e];li(o),o.static||(t.static=!1)}if(t.ifConditions)for(var i=1,r=t.ifConditions.length;i<r;i++){var a=t.ifConditions[i].block;li(a),a.static||(t.static=!1)}}}function ci(t,e){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=e),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var n=0,o=t.children.length;n<o;n++)ci(t.children[n],e||!!t.for);if(t.ifConditions)for(var i=1,r=t.ifConditions.length;i<r;i++)ci(t.ifConditions[i].block,e)}}function fi(t){return 2!==t.type&&(3===t.type||!(!t.pre&&(t.hasBindings||t.if||t.for||Vi(t.tag)||!su(t.tag)||di(t)||!Object.keys(t).every(au))))}function di(t){for(;t.parent;){if(t=t.parent,"template"!==t.tag)return!1;if(t.for)return!0}return!1}function yi(t,e,n){var o=e?"nativeOn:{":"on:{";for(var i in t){var r=t[i];o+='"'+i+'":'+vi(i,r)+","}return o.slice(0,-1)+"}"}function vi(t,e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map(function(e){return vi(t,e)}).join(",")+"]";var n=Tu.test(e.value),o=Mu.test(e.value);if(e.modifiers){var i="",r="",a=[];for(var s in e.modifiers)Iu[s]?(r+=Iu[s],Au[s]&&a.push(s)):a.push(s);a.length&&(i+=gi(a)),r&&(i+=r);var u=n?e.value+"($event)":o?"("+e.value+")($event)":e.value;return"function($event){"+i+u+"}"}return n||o?e.value:"function($event){"+e.value+"}"}function gi(t){return"if(!('button' in $event)&&"+t.map(mi).join("&&")+")return null;"}function mi(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var n=Au[t];return"_k($event.keyCode,"+JSON.stringify(t)+(n?","+JSON.stringify(n):"")+")"}function bi(t,e){t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}}function _i(t,e){t.wrapData=function(n){return"_b("+n+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}}function xi(t,e){var n=new Nu(e),o=t?wi(t,n):'_c("div")';return{render:"with(this){return "+o+"}",staticRenderFns:n.staticRenderFns}}function wi(t,e){if(t.staticRoot&&!t.staticProcessed)return Pi(t,e);if(t.once&&!t.onceProcessed)return Si(t,e);if(t.for&&!t.forProcessed)return Ti(t,e);if(t.if&&!t.ifProcessed)return Ci(t,e);if("template"!==t.tag||t.slotTarget){if("slot"===t.tag)return Bi(t,e);var n;if(t.component)n=Xi(t.component,t,e);else{var o=t.plain?void 0:Ai(t,e),i=t.inlineTemplate?null:ki(t,e,!0);n="_c('"+t.tag+"'"+(o?","+o:"")+(i?","+i:"")+")"}for(var r=0;r<e.transforms.length;r++)n=e.transforms[r](t,n);return n}return ki(t,e)||"void 0"}function Pi(t,e){return t.staticProcessed=!0,e.staticRenderFns.push("with(this){return "+wi(t,e)+"}"),"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function Si(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return Ci(t,e);if(t.staticInFor){for(var n="",o=t.parent;o;){if(o.for){n=o.key;break}o=o.parent}return n?"_o("+wi(t,e)+","+e.onceId++ +(n?","+n:"")+")":wi(t,e)}return Pi(t,e)}function Ci(t,e,n,o){return t.ifProcessed=!0,Mi(t.ifConditions.slice(),e,n,o)}function Mi(t,e,n,o){function i(t){return n?n(t,e):t.once?Si(t,e):wi(t,e)}if(!t.length)return o||"_e()";var r=t.shift();return r.exp?"("+r.exp+")?"+i(r.block)+":"+Mi(t,e,n,o):""+i(r.block)}function Ti(t,e,n,o){var i=t.for,r=t.alias,a=t.iterator1?","+t.iterator1:"",s=t.iterator2?","+t.iterator2:"";return t.forProcessed=!0,(o||"_l")+"(("+i+"),function("+r+a+s+"){return "+(n||wi)(t,e)+"})"}function Ai(t,e){var n="{",o=Ei(t,e);o&&(n+=o+","),t.key&&(n+="key:"+t.key+","),t.ref&&(n+="ref:"+t.ref+","),t.refInFor&&(n+="refInFor:true,"),t.pre&&(n+="pre:true,"),t.component&&(n+='tag:"'+t.tag+'",');for(var i=0;i<e.dataGenFns.length;i++)n+=e.dataGenFns[i](t);if(t.attrs&&(n+="attrs:{"+Ui(t.attrs)+"},"),t.props&&(n+="domProps:{"+Ui(t.props)+"},"),t.events&&(n+=yi(t.events,!1,e.warn)+","),t.nativeEvents&&(n+=yi(t.nativeEvents,!0,e.warn)+","),t.slotTarget&&(n+="slot:"+t.slotTarget+","),t.scopedSlots&&(n+=Li(t.scopedSlots,e)+","),t.model&&(n+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var r=Ii(t,e);r&&(n+=r+",")}return n=n.replace(/,$/,"")+"}",t.wrapData&&(n=t.wrapData(n)),t.wrapListeners&&(n=t.wrapListeners(n)),n}function Ei(t,e){var n=t.directives;if(n){var o,i,r,a,s="directives:[",u=!1;for(o=0,i=n.length;o<i;o++){r=n[o],a=!0;var h=e.directives[r.name];h&&(a=!!h(t,r,e.warn)),a&&(u=!0,s+='{name:"'+r.name+'",rawName:"'+r.rawName+'"'+(r.value?",value:("+r.value+"),expression:"+JSON.stringify(r.value):"")+(r.arg?',arg:"'+r.arg+'"':"")+(r.modifiers?",modifiers:"+JSON.stringify(r.modifiers):"")+"},")}return u?s.slice(0,-1)+"]":void 0}}function Ii(t,e){var n=t.children[0];if(1===n.type){var o=xi(n,e.options);return"inlineTemplate:{render:function(){"+o.render+"},staticRenderFns:["+o.staticRenderFns.map(function(t){return"function(){"+t+"}"}).join(",")+"]}"}}function Li(t,e){return"scopedSlots:_u(["+Object.keys(t).map(function(n){return Ni(n,t[n],e)}).join(",")+"])"}function Ni(t,e,n){return e.for&&!e.forProcessed?Oi(t,e,n):"{key:"+t+",fn:function("+String(e.attrsMap.scope)+"){return "+("template"===e.tag?ki(e,n)||"void 0":wi(e,n))+"}}"}function Oi(t,e,n){var o=e.for,i=e.alias,r=e.iterator1?","+e.iterator1:"",a=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,"_l(("+o+"),function("+i+r+a+"){return "+Ni(t,e,n)+"})"}function ki(t,e,n,o,i){var r=t.children;if(r.length){var a=r[0];if(1===r.length&&a.for&&"template"!==a.tag&&"slot"!==a.tag)return(o||wi)(a,e);var s=n?Ri(r,e.maybeComponent):0,u=i||Di;return"["+r.map(function(t){return u(t,e)}).join(",")+"]"+(s?","+s:"")}}function Ri(t,e){for(var n=0,o=0;o<t.length;o++){var i=t[o];if(1===i.type){if(Fi(i)||i.ifConditions&&i.ifConditions.some(function(t){return Fi(t.block)})){n=2;break}(e(i)||i.ifConditions&&i.ifConditions.some(function(t){return e(t.block)}))&&(n=1)}}return n}function Fi(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function Di(t,e){return 1===t.type?wi(t,e):3===t.type&&t.isComment?Ki(t):ji(t)}function ji(t){return"_v("+(2===t.type?t.expression:Yi(JSON.stringify(t.text)))+")"}function Ki(t){return"_e("+JSON.stringify(t.text)+")"}function Bi(t,e){var n=t.slotName||'"default"',o=ki(t,e),i="_t("+n+(o?","+o:""),r=t.attrs&&"{"+t.attrs.map(function(t){return Qi(t.name)+":"+t.value}).join(",")+"}",a=t.attrsMap["v-bind"];return!r&&!a||o||(i+=",null"),r&&(i+=","+r),a&&(i+=(r?"":",null")+","+a),i+")"}function Xi(t,e,n){var o=e.inlineTemplate?null:ki(e,n,!0);return"_c("+t+","+Ai(e,n)+(o?","+o:"")+")"}function Ui(t){for(var e="",n=0;n<t.length;n++){var o=t[n];e+='"'+o.name+'":'+Yi(o.value)+","}return e.slice(0,-1)}function Yi(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function Gi(t,e){try{return new Function(t)}catch(n){return e.push({err:n,code:t}),x}}function Wi(t){var e=Object.create(null);return function(n,o,i){o=o||{};var r=o.delimiters?String(o.delimiters)+n:n;if(e[r])return e[r];var a=t(n,o),s={},u=[];return s.render=Gi(a.render,u),s.staticRenderFns=a.staticRenderFns.map(function(t){return Gi(t,u)}),e[r]=s}}function zi(t){return function(e){function n(n,o){var i=Object.create(e),r=[],a=[];if(i.warn=function(t,e){(e?a:r).push(t)},o){o.modules&&(i.modules=(e.modules||[]).concat(o.modules)),o.directives&&(i.directives=b(Object.create(e.directives),o.directives));for(var s in o)"modules"!==s&&"directives"!==s&&(i[s]=o[s])}var u=t(n,i);return u.errors=r,u.tips=a,u}return{compile:n,compileToFunctions:Wi(n)}}}function Hi(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}var qi=Object.prototype.toString,Vi=f("slot,component",!0),$i=f("key,ref,slot,is"),Zi=Object.prototype.hasOwnProperty,Ji=/-(\w)/g,Qi=v(function(t){return t.replace(Ji,function(t,e){return e?e.toUpperCase():""})}),tr=v(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),er=/([^-])([A-Z])/g,nr=v(function(t){return t.replace(er,"$1-$2").replace(er,"$1-$2").toLowerCase()}),or=function(t,e,n){return!1},ir=function(t){return t},rr="data-server-rendered",ar=["component","directive","filter"],sr=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated"],ur={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:or,isReservedAttr:or,isUnknownElement:or,getTagNamespace:x,parsePlatformTagName:ir,mustUseProp:or,_lifecycleHooks:sr},hr=Object.freeze({}),pr=/[^\w.$]/,lr=x,cr="__proto__"in{},fr="undefined"!=typeof window,dr=fr&&window.navigator.userAgent.toLowerCase(),yr=dr&&/msie|trident/.test(dr),vr=dr&&dr.indexOf("msie 9.0")>0,gr=dr&&dr.indexOf("edge/")>0,mr=dr&&dr.indexOf("android")>0,br=dr&&/iphone|ipad|ipod|ios/.test(dr),_r=dr&&/chrome\/\d+/.test(dr)&&!gr,xr={}.watch,wr=!1;if(fr)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){wr=!0}}),window.addEventListener("test-passive",null,Pr)}catch(t){}var Sr,Cr,Mr=function(){return void 0===Sr&&(Sr=!fr&&"undefined"!=typeof e&&"server"===e.process.env.VUE_ENV),Sr},Tr=fr&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,Ar="undefined"!=typeof Symbol&&I(Symbol)&&"undefined"!=typeof Reflect&&I(Reflect.ownKeys),Er=function(){function t(){o=!1;var t=n.slice(0);n.length=0;for(var e=0;e<t.length;e++)t[e]()}var e,n=[],o=!1;if("undefined"!=typeof Promise&&I(Promise)){var i=Promise.resolve(),r=function(t){console.error(t)};e=function(){i.then(t).catch(r),br&&setTimeout(x)}}else if("undefined"==typeof MutationObserver||!I(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())e=function(){setTimeout(t,0)};else{var a=1,s=new MutationObserver(t),u=document.createTextNode(String(a));s.observe(u,{characterData:!0}),e=function(){a=(a+1)%2,u.data=String(a)}}return function(t,i){var r;if(n.push(function(){if(t)try{t.call(i)}catch(t){E(t,i,"nextTick")}else r&&r(i)}),o||(o=!0,e()),!t&&"undefined"!=typeof Promise)return new Promise(function(t,e){r=t})}}();Cr="undefined"!=typeof Set&&I(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return this.set[t]===!0},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var Ir=0,Lr=function(){this.id=Ir++,this.subs=[];
};Lr.prototype.addSub=function(t){this.subs.push(t)},Lr.prototype.removeSub=function(t){d(this.subs,t)},Lr.prototype.depend=function(){Lr.target&&Lr.target.addDep(this)},Lr.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},Lr.target=null;var Nr=[],Or=Array.prototype,kr=Object.create(Or);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=Or[t];T(kr,t,function(){for(var n=[],o=arguments.length;o--;)n[o]=arguments[o];var i,r=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2)}return i&&a.observeArray(i),a.dep.notify(),r})});var Rr=Object.getOwnPropertyNames(kr),Fr={shouldConvert:!0},Dr=function(t){if(this.value=t,this.dep=new Lr,this.vmCount=0,T(t,"__ob__",this),Array.isArray(t)){var e=cr?O:k;e(t,kr,Rr),this.observeArray(t)}else this.walk(t)};Dr.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)F(t,e[n],t[e[n]])},Dr.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)R(t[e])};var jr=ur.optionMergeStrategies;jr.data=function(t,e,n){return n?X(t,e,n):e&&"function"!=typeof e?t:X.call(this,t,e)},sr.forEach(function(t){jr[t]=U}),ar.forEach(function(t){jr[t+"s"]=Y}),jr.watch=function(t,e){if(t===xr&&(t=void 0),e===xr&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var n={};b(n,t);for(var o in e){var i=n[o],r=e[o];i&&!Array.isArray(i)&&(i=[i]),n[o]=i?i.concat(r):Array.isArray(r)?r:[r]}return n},jr.props=jr.methods=jr.inject=jr.computed=function(t,e){if(!t)return e;var n=Object.create(null);return b(n,t),e&&b(n,e),n},jr.provide=X;var Kr=function(t,e){return void 0===e?t:e},Br=function(t,e,n,o,i,r,a,s){this.tag=t,this.data=e,this.children=n,this.text=o,this.elm=i,this.ns=void 0,this.context=r,this.functionalContext=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},Xr={child:{}};Xr.child.get=function(){return this.componentInstance},Object.defineProperties(Br.prototype,Xr);var Ur,Yr=function(t){void 0===t&&(t="");var e=new Br;return e.text=t,e.isComment=!0,e},Gr=v(function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var o="!"===t.charAt(0);return t=o?t.slice(1):t,{name:t,once:n,capture:o,passive:e}}),Wr=null,zr=[],Hr=[],qr={},Vr=!1,$r=!1,Zr=0,Jr=0,Qr=function(t,e,n,o){this.vm=t,t._watchers.push(this),o?(this.deep=!!o.deep,this.user=!!o.user,this.lazy=!!o.lazy,this.sync=!!o.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Jr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new Cr,this.newDepIds=new Cr,this.expression="","function"==typeof e?this.getter=e:(this.getter=A(e),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};Qr.prototype.get=function(){L(this);var t,e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;E(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&Dt(t),N(),this.cleanupDeps()}return t},Qr.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},Qr.prototype.cleanupDeps=function(){for(var t=this,e=this.deps.length;e--;){var n=t.deps[e];t.newDepIds.has(n.id)||n.removeSub(t)}var o=this.depIds;this.depIds=this.newDepIds,this.newDepIds=o,this.newDepIds.clear(),o=this.deps,this.deps=this.newDeps,this.newDeps=o,this.newDeps.length=0},Qr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Ft(this)},Qr.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||s(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){E(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},Qr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Qr.prototype.depend=function(){for(var t=this,e=this.deps.length;e--;)t.deps[e].depend()},Qr.prototype.teardown=function(){var t=this;if(this.active){this.vm._isBeingDestroyed||d(this.vm._watchers,this);for(var e=this.deps.length;e--;)t.deps[e].removeSub(t);this.active=!1}};var ta=new Cr,ea={enumerable:!0,configurable:!0,get:x,set:x},na={lazy:!0},oa={init:function(t,e,n,o){if(!t.componentInstance||t.componentInstance._isDestroyed){var i=t.componentInstance=oe(t,Wr,n,o);i.$mount(e?t.elm:void 0,e)}else if(t.data.keepAlive){var r=t;oa.prepatch(r,r)}},prepatch:function(t,e){var n=e.componentOptions,o=e.componentInstance=t.componentInstance;Mt(o,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,It(n,"mounted")),t.data.keepAlive&&(e._isMounted?kt(n):At(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Et(e,!0):e.$destroy())}},ia=Object.keys(oa),ra=1,aa=2,sa=0;we(Te),$t(Te),bt(Te),St(Te),xe(Te);var ua=[String,RegExp,Array],ha={name:"keep-alive",abstract:!0,props:{include:ua,exclude:ua},created:function(){this.cache=Object.create(null)},destroyed:function(){var t=this;for(var e in t.cache)De(t.cache[e])},watch:{include:function(t){Fe(this.cache,this._vnode,function(e){return Re(t,e)})},exclude:function(t){Fe(this.cache,this._vnode,function(e){return!Re(t,e)})}},render:function(){var t=dt(this.$slots.default),e=t&&t.componentOptions;if(e){var n=ke(e);if(n&&(this.include&&!Re(this.include,n)||this.exclude&&Re(this.exclude,n)))return t;var o=null==t.key?e.Ctor.cid+(e.tag?"::"+e.tag:""):t.key;this.cache[o]?t.componentInstance=this.cache[o].componentInstance:this.cache[o]=t,t.data.keepAlive=!0}return t}},pa={KeepAlive:ha};je(Te),Object.defineProperty(Te.prototype,"$isServer",{get:Mr}),Object.defineProperty(Te.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Te.version="2.4.2";var la,ca,fa,da,ya,va,ga,ma,ba,_a=f("style,class"),xa=f("input,textarea,option,select"),wa=function(t,e,n){return"value"===n&&xa(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Pa=f("contenteditable,draggable,spellcheck"),Sa=f("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Ca="http://www.w3.org/1999/xlink",Ma=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Ta=function(t){return Ma(t)?t.slice(6,t.length):""},Aa=function(t){return null==t||t===!1},Ea={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Ia=f("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),La=f("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Na=function(t){return"pre"===t},Oa=function(t){return Ia(t)||La(t)},ka=Object.create(null),Ra=Object.freeze({createElement:Ve,createElementNS:$e,createTextNode:Ze,createComment:Je,insertBefore:Qe,removeChild:tn,appendChild:en,parentNode:nn,nextSibling:on,tagName:rn,setTextContent:an,setAttribute:sn}),Fa={create:function(t,e){un(e)},update:function(t,e){t.data.ref!==e.data.ref&&(un(t,!0),un(e))},destroy:function(t){un(t,!0)}},Da=new Br("",{},[]),ja=["create","activate","update","remove","destroy"],Ka={create:fn,update:fn,destroy:function(t){fn(t,Da)}},Ba=Object.create(null),Xa=[Fa,Ka],Ua={create:mn,update:mn},Ya={create:_n,update:_n},Ga=/[\w).+\-_$\]]/,Wa="__r",za="__c",Ha={create:Hn,update:Hn},qa={create:qn,update:qn},Va=v(function(t){var e={},n=/;(?![^(]*\))/g,o=/:(.+)/;return t.split(n).forEach(function(t){if(t){var n=t.split(o);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}),$a=/^--/,Za=/\s*!important$/,Ja=function(t,e,n){if($a.test(e))t.style.setProperty(e,n);else if(Za.test(n))t.style.setProperty(e,n.replace(Za,""),"important");else{var o=ts(e);if(Array.isArray(n))for(var i=0,r=n.length;i<r;i++)t.style[o]=n[i];else t.style[o]=n}},Qa=["Webkit","Moz","ms"],ts=v(function(t){if(ba=ba||document.createElement("div").style,t=Qi(t),"filter"!==t&&t in ba)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Qa.length;n++){var o=Qa[n]+e;if(o in ba)return o}}),es={create:eo,update:eo},ns=v(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),os=fr&&!vr,is="transition",rs="animation",as="transition",ss="transitionend",us="animation",hs="animationend";os&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(as="WebkitTransition",ss="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(us="WebkitAnimation",hs="webkitAnimationEnd"));var ps=fr&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout,ls=/\b(transform|all)(,|$)/,cs=fr?{create:go,activate:go,remove:function(t,e){t.data.show!==!0?fo(t,e):e()}}:{},fs=[Ua,Ya,Ha,qa,es,cs],ds=fs.concat(Xa),ys=cn({nodeOps:Ra,modules:ds}),vs=f("text,number,password,search,email,tel,url");vr&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&wo(t,"input")});var gs={inserted:function(t,e,n){if("select"===n.tag){var o=function(){mo(t,e,n.context)};o(),(yr||gr)&&setTimeout(o,0),t._vOptions=[].map.call(t.options,bo)}else("textarea"===n.tag||vs(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("change",xo),mr||(t.addEventListener("compositionstart",_o),t.addEventListener("compositionend",xo)),vr&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){mo(t,e,n.context);var o=t._vOptions,i=t._vOptions=[].map.call(t.options,bo);i.some(function(t,e){return!P(t,o[e])})&&wo(t,"change")}}},ms={bind:function(t,e,n){var o=e.value;n=Po(n);var i=n.data&&n.data.transition,r=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;o&&i?(n.data.show=!0,co(n,function(){t.style.display=r})):t.style.display=o?r:"none"},update:function(t,e,n){var o=e.value,i=e.oldValue;if(o!==i){n=Po(n);var r=n.data&&n.data.transition;r?(n.data.show=!0,o?co(n,function(){t.style.display=t.__vOriginalDisplay}):fo(n,function(){t.style.display="none"})):t.style.display=o?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,o,i){i||(t.style.display=t.__vOriginalDisplay)}},bs={model:gs,show:ms},_s={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},xs={name:"transition",props:_s,abstract:!0,render:function(t){var e=this,n=this.$options._renderChildren;if(n&&(n=n.filter(function(t){return t.tag||Eo(t)}),n.length)){var o=this.mode,i=n[0];if(To(this.$vnode))return i;var r=So(i);if(!r)return i;if(this._leaving)return Mo(t,i);var s="__transition-"+this._uid+"-";r.key=null==r.key?r.isComment?s+"comment":s+r.tag:a(r.key)?0===String(r.key).indexOf(s)?r.key:s+r.key:r.key;var u=(r.data||(r.data={})).transition=Co(this),h=this._vnode,p=So(h);if(r.data.directives&&r.data.directives.some(function(t){return"show"===t.name})&&(r.data.show=!0),p&&p.data&&!Ao(r,p)&&!Eo(p)){var l=p&&(p.data.transition=b({},u));if("out-in"===o)return this._leaving=!0,it(l,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),Mo(t,i);if("in-out"===o){if(Eo(r))return h;var c,f=function(){c()};it(u,"afterEnter",f),it(u,"enterCancelled",f),it(l,"delayLeave",function(t){c=t})}}return i}}},ws=b({tag:String,moveClass:String},_s);delete ws.mode;var Ps={props:ws,render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),o=this.prevChildren=this.children,i=this.$slots.default||[],r=this.children=[],a=Co(this),s=0;s<i.length;s++){var u=i[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))r.push(u),n[u.key]=u,(u.data||(u.data={})).transition=a;else;}if(o){for(var h=[],p=[],l=0;l<o.length;l++){var c=o[l];c.data.transition=a,c.data.pos=c.elm.getBoundingClientRect(),n[c.key]?h.push(c):p.push(c)}this.kept=t(e,null,h),this.removed=p}return t(e,null,r)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";if(t.length&&this.hasMove(t[0].elm,e)){t.forEach(Io),t.forEach(Lo),t.forEach(No);var n=document.body;n.offsetHeight;t.forEach(function(t){if(t.data.moved){var n=t.elm,o=n.style;ao(n,e),o.transform=o.WebkitTransform=o.transitionDuration="",n.addEventListener(ss,n._moveCb=function t(o){o&&!/transform$/.test(o.propertyName)||(n.removeEventListener(ss,t),n._moveCb=null,so(n,e))})}})}},methods:{hasMove:function(t,e){if(!os)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){oo(n,t)}),no(n,e),n.style.display="none",this.$el.appendChild(n);var o=ho(n);return this.$el.removeChild(n),this._hasMove=o.hasTransform}}},Ss={Transition:xs,TransitionGroup:Ps};Te.config.mustUseProp=wa,Te.config.isReservedTag=Oa,Te.config.isReservedAttr=_a,Te.config.getTagNamespace=ze,Te.config.isUnknownElement=He,b(Te.options.directives,bs),b(Te.options.components,Ss),Te.prototype.__patch__=fr?ys:x,Te.prototype.$mount=function(t,e){return t=t&&fr?qe(t):void 0,Ct(this,t,e)},setTimeout(function(){ur.devtools&&Tr&&Tr.emit("init",Te)},0);var Cs,Ms=!!fr&&Oo("\n","&#10;"),Ts=/\{\{((?:.|\n)+?)\}\}/g,As=/[-.*+?^${}()|[\]\/\\]/g,Es=v(function(t){var e=t[0].replace(As,"\\$&"),n=t[1].replace(As,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")}),Is={staticKeys:["staticClass"],transformNode:Ro,genData:Fo},Ls={staticKeys:["staticStyle"],transformNode:Do,genData:jo},Ns=[Is,Ls],Os={model:Kn,text:Ko,html:Bo},ks=f("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),Rs=f("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),Fs=f("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),Ds={expectHTML:!0,modules:Ns,directives:Os,isPreTag:Na,isUnaryTag:ks,mustUseProp:wa,canBeLeftOpenTag:Rs,isReservedTag:Oa,getTagNamespace:ze,staticKeys:w(Ns)},js={decode:function(t){return Cs=Cs||document.createElement("div"),Cs.innerHTML=t,Cs.textContent}},Ks=/([^\s"'<>\/=]+)/,Bs=/(?:=)/,Xs=[/"([^"]*)"+/.source,/'([^']*)'+/.source,/([^\s"'=<>`]+)/.source],Us=new RegExp("^\\s*"+Ks.source+"(?:\\s*("+Bs.source+")\\s*(?:"+Xs.join("|")+"))?"),Ys="[a-zA-Z_][\\w\\-\\.]*",Gs="((?:"+Ys+"\\:)?"+Ys+")",Ws=new RegExp("^<"+Gs),zs=/^\s*(\/?)>/,Hs=new RegExp("^<\\/"+Gs+"[^>]*>"),qs=/^<!DOCTYPE [^>]+>/i,Vs=/^<!--/,$s=/^<!\[/,Zs=!1;"x".replace(/x(.)?/g,function(t,e){Zs=""===e});var Js,Qs,tu,eu,nu,ou,iu,ru,au,su,uu=f("script,style,textarea",!0),hu={},pu={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n"},lu=/&(?:lt|gt|quot|amp);/g,cu=/&(?:lt|gt|quot|amp|#10);/g,fu=f("pre,textarea",!0),du=function(t,e){return t&&fu(t)&&"\n"===e[0]},yu=/^@|^v-on:/,vu=/^v-|^@|^:/,gu=/(.*?)\s+(?:in|of)\s+(.*)/,mu=/\((\{[^}]*\}|[^,]*),([^,]*)(?:,([^,]*))?\)/,bu=/:(.*)$/,_u=/^:|^v-bind:/,xu=/\.[^.]+/g,wu=v(js.decode),Pu=/^xmlns:NS\d+/,Su=/^NS\d+:/,Cu=v(pi),Mu=/^\s*([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/,Tu=/^\s*[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?']|\[".*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*\s*$/,Au={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Eu=function(t){return"if("+t+")return null;"},Iu={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Eu("$event.target !== $event.currentTarget"),ctrl:Eu("!$event.ctrlKey"),shift:Eu("!$event.shiftKey"),alt:Eu("!$event.altKey"),meta:Eu("!$event.metaKey"),left:Eu("'button' in $event && $event.button !== 0"),middle:Eu("'button' in $event && $event.button !== 1"),right:Eu("'button' in $event && $event.button !== 2")},Lu={on:bi,bind:_i,cloak:x},Nu=function(t){this.options=t,this.warn=t.warn||Pn,this.transforms=Sn(t.modules,"transformCode"),this.dataGenFns=Sn(t.modules,"genData"),this.directives=b(b({},Lu),t.directives);var e=t.isReservedTag||or;this.maybeComponent=function(t){return!e(t.tag)},this.onceId=0,this.staticRenderFns=[]},Ou=(new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)"),zi(function(t,e){var n=Yo(t.trim(),e);hi(n,e);var o=xi(n,e);return{ast:n,render:o.render,staticRenderFns:o.staticRenderFns}})),ku=Ou(Ds),Ru=ku.compileToFunctions,Fu=v(function(t){var e=qe(t);return e&&e.innerHTML}),Du=Te.prototype.$mount;Te.prototype.$mount=function(t,e){if(t=t&&qe(t),t===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var o=n.template;if(o)if("string"==typeof o)"#"===o.charAt(0)&&(o=Fu(o));else{if(!o.nodeType)return this;o=o.innerHTML}else t&&(o=Hi(t));if(o){var i=Ru(o,{shouldDecodeNewlines:Ms,delimiters:n.delimiters,comments:n.comments},this),r=i.render,a=i.staticRenderFns;n.render=r,n.staticRenderFns=a}}return Du.call(this,t,e)},Te.compile=Ru,t.exports=Te}).call(e,function(){return this}())},,,function(t,e,n){t.exports={default:n(122),__esModule:!0}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(114),r=o(i),a=n(113),s=o(a);e.default=function(){function t(t,e){var n=[],o=!0,i=!1,r=void 0;try{for(var a,u=(0,s.default)(t);!(o=(a=u.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){i=!0,r=t}finally{try{!o&&u.return&&u.return()}finally{if(i)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(117),r=o(i),a=n(116),s=o(a),u="function"==typeof s.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};e.default="function"==typeof s.default&&"symbol"===u(r.default)?function(t){return"undefined"==typeof t?"undefined":u(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":"undefined"==typeof t?"undefined":u(t)}},function(t,e,n){var o=n(39),i=n(4)("toStringTag"),r="Arguments"==o(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:r?o(e):"Object"==(s=o(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var o=n(127);t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,i){return t.call(e,n,o,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var o=n(28),i=n(8).document,r=o(i)&&o(i.createElement);t.exports=function(t){return r?i.createElement(t):{}}},function(t,e,n){t.exports=!n(11)&&!n(17)(function(){return 7!=Object.defineProperty(n(60)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var o=n(39);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";var o=n(42),i=n(16),r=n(67),a=n(18),s=n(12),u=n(19),h=n(136),p=n(44),l=n(145),c=n(4)("iterator"),f=!([].keys&&"next"in[].keys()),d="@@iterator",y="keys",v="values",g=function(){return this};t.exports=function(t,e,n,m,b,_,x){h(n,e,m);var w,P,S,C=function(t){if(!f&&t in E)return E[t];switch(t){case y:return function(){return new n(this,t)};case v:return function(){return new n(this,t)}}return function(){return new n(this,t)}},M=e+" Iterator",T=b==v,A=!1,E=t.prototype,I=E[c]||E[d]||b&&E[b],L=I||C(b),N=b?T?C("entries"):L:void 0,O="Array"==e?E.entries||I:I;if(O&&(S=l(O.call(new t)),S!==Object.prototype&&(p(S,M,!0),o||s(S,c)||a(S,c,g))),T&&I&&I.name!==v&&(A=!0,L=function(){return I.call(this)}),o&&!x||!f&&!A&&E[c]||a(E,c,L),u[e]=L,u[M]=g,b)if(w={values:T?L:C(v),keys:_?L:C(y),entries:N},x)for(P in w)P in E||r(E,P,w[P]);else i(i.P+i.F*(f||A),e,w);return w}},function(t,e,n){var o=n(15),i=n(142),r=n(41),a=n(45)("IE_PROTO"),s=function(){},u="prototype",h=function(){var t,e=n(60)("iframe"),o=r.length,i="<",a=">";for(e.style.display="none",n(132).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+a+"document.F=Object"+i+"/script"+a),t.close(),h=t.F;o--;)delete h[u][r[o]];return h()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=o(t),n=new s,s[u]=null,n[a]=t):n=h(),void 0===e?n:i(n,e)}},function(t,e,n){var o=n(66),i=n(41).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,i)}},function(t,e,n){var o=n(12),i=n(13),r=n(129)(!1),a=n(45)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,h=[];for(n in s)n!=a&&o(s,n)&&h.push(n);for(;e.length>u;)o(s,n=e[u++])&&(~r(h,n)||h.push(n));return h}},function(t,e,n){t.exports=n(18)},function(t,e,n){var o=n(47),i=Math.min;t.exports=function(t){return t>0?i(o(t),9007199254740991):0}},function(t,e,n){var o=n(58),i=n(4)("iterator"),r=n(19);t.exports=n(2).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||r[o(t)]}},function(t,e,n){var o,i;!function(r,a){o=a,i="function"==typeof o?o.call(e,n,e,t):o,!(void 0!==i&&(t.exports=i))}("undefined"!=typeof window?window:this,function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},o=n[t]=n[t]||[];return o.indexOf(e)==-1&&o.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{},o=n[t]=n[t]||{};return o[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var o=n.indexOf(e);return o!=-1&&n.splice(o,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var o=0,i=n[o];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];i;){var a=r&&r[i];a&&(this.off(t,i),delete r[i]),i.apply(this,e),o+=a?0:1,i=n[o]}return this}},e.allOff=e.removeAllListeners=function(){delete this._events,delete this._onceEvents},t})},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(t){if(p===setTimeout)return setTimeout(t,0);if((p===n||!p)&&setTimeout)return p=setTimeout,setTimeout(t,0);try{return p(t,0)}catch(e){try{return p.call(null,t,0)}catch(e){return p.call(this,t,0)}}}function r(t){if(l===clearTimeout)return clearTimeout(t);if((l===o||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function a(){y&&f&&(y=!1,f.length?d=f.concat(d):v=-1,d.length&&s())}function s(){if(!y){var t=i(a);y=!0;for(var e=d.length;e;){for(f=d,d=[];++v<e;)f&&f[v].run();v=-1,e=d.length}f=null,y=!1,r(t)}}function u(t,e){this.fun=t,this.array=e}function h(){}var p,l,c=t.exports={};!function(){try{p="function"==typeof setTimeout?setTimeout:n}catch(t){p=n}try{l="function"==typeof clearTimeout?clearTimeout:o}catch(t){l=o}}();var f,d=[],y=!1,v=-1;c.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new u(t,e)),1!==d.length||y||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=h,c.addListener=h,c.once=h,c.off=h,c.removeListener=h,c.removeAllListeners=h,c.emit=h,c.binding=function(t){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(t){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){t.exports={default:n(118),__esModule:!0}},function(t,e,n){t.exports={default:n(119),__esModule:!0}},function(t,e,n){t.exports={default:n(120),__esModule:!0}},function(t,e,n){t.exports={default:n(123),__esModule:!0}},function(t,e,n){t.exports={default:n(125),__esModule:!0}},function(t,e,n){t.exports={default:n(126),__esModule:!0}},function(t,e,n){n(32),n(151),t.exports=n(2).Array.from},function(t,e,n){n(51),n(32),t.exports=n(149)},function(t,e,n){n(51),n(32),t.exports=n(150)},function(t,e,n){var o=n(2),i=o.JSON||(o.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e,n){n(153),t.exports=n(2).Object.assign},function(t,e,n){n(154);var o=n(2).Object;t.exports=function(t,e,n){return o.defineProperty(t,e,n)}},function(t,e,n){n(155),t.exports=n(2).Object.keys},function(t,e,n){n(157),n(156),n(158),n(159),t.exports=n(2).Symbol},function(t,e,n){n(32),n(51),t.exports=n(50).f("iterator")},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(){}},function(t,e,n){var o=n(13),i=n(68),r=n(148);t.exports=function(t){return function(e,n,a){var s,u=o(e),h=i(u.length),p=r(a,h);if(t&&n!=n){for(;h>p;)if(s=u[p++],s!=s)return!0}else for(;h>p;p++)if((t||p in u)&&u[p]===n)return t||p||0;return!t&&-1}}},function(t,e,n){"use strict";var o=n(9),i=n(22);t.exports=function(t,e,n){e in t?o.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var o=n(20),i=n(43),r=n(29);t.exports=function(t){var e=o(t),n=i.f;if(n)for(var a,s=n(t),u=r.f,h=0;s.length>h;)u.call(t,a=s[h++])&&e.push(a);return e}},function(t,e,n){t.exports=n(8).document&&document.documentElement},function(t,e,n){var o=n(19),i=n(4)("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||r[i]===t)}},function(t,e,n){var o=n(39);t.exports=Array.isArray||function(t){return"Array"==o(t)}},function(t,e,n){var o=n(15);t.exports=function(t,e,n,i){try{return i?e(o(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&o(r.call(t)),e}}},function(t,e,n){"use strict";var o=n(64),i=n(22),r=n(44),a={};n(18)(a,n(4)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=o(a,{next:i(1,n)}),r(t,e+" Iterator")}},function(t,e,n){var o=n(4)("iterator"),i=!1;try{var r=[7][o]();r.return=function(){i=!0},Array.from(r,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var r=[7],a=r[o]();a.next=function(){return{done:n=!0}},r[o]=function(){return a},t(r)}catch(t){}return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var o=n(20),i=n(13);t.exports=function(t,e){for(var n,r=i(t),a=o(r),s=a.length,u=0;s>u;)if(r[n=a[u++]]===e)return n}},function(t,e,n){var o=n(31)("meta"),i=n(28),r=n(12),a=n(9).f,s=0,u=Object.isExtensible||function(){return!0},h=!n(17)(function(){return u(Object.preventExtensions({}))}),p=function(t){a(t,o,{value:{i:"O"+ ++s,w:{}}})},l=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,o)){if(!u(t))return"F";if(!e)return"E";p(t)}return t[o].i},c=function(t,e){if(!r(t,o)){if(!u(t))return!0;if(!e)return!1;p(t)}return t[o].w},f=function(t){return h&&d.NEED&&u(t)&&!r(t,o)&&p(t),t},d=t.exports={KEY:o,NEED:!1,fastKey:l,getWeak:c,onFreeze:f}},function(t,e,n){"use strict";var o=n(20),i=n(43),r=n(29),a=n(30),s=n(62),u=Object.assign;t.exports=!u||n(17)(function(){var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=o})?function(t,e){for(var n=a(t),u=arguments.length,h=1,p=i.f,l=r.f;u>h;)for(var c,f=s(arguments[h++]),d=p?o(f).concat(p(f)):o(f),y=d.length,v=0;y>v;)l.call(f,c=d[v++])&&(n[c]=f[c]);return n}:u},function(t,e,n){var o=n(9),i=n(15),r=n(20);t.exports=n(11)?Object.defineProperties:function(t,e){i(t);for(var n,a=r(e),s=a.length,u=0;s>u;)o.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var o=n(29),i=n(22),r=n(13),a=n(48),s=n(12),u=n(61),h=Object.getOwnPropertyDescriptor;e.f=n(11)?h:function(t,e){if(t=r(t),e=a(e,!0),u)try{return h(t,e)}catch(t){}if(s(t,e))return i(!o.f.call(t,e),t[e])}},function(t,e,n){var o=n(13),i=n(65).f,r={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==r.call(t)?s(t):i(o(t))}},function(t,e,n){var o=n(12),i=n(30),r=n(45)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),o(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var o=n(16),i=n(2),r=n(17);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),o(o.S+o.F*r(function(){n(1)}),"Object",a)}},function(t,e,n){var o=n(47),i=n(40);t.exports=function(t){return function(e,n){var r,a,s=String(i(e)),u=o(n),h=s.length;return u<0||u>=h?t?"":void 0:(r=s.charCodeAt(u),r<55296||r>56319||u+1===h||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):r:t?s.slice(u,u+2):(r-55296<<10)+(a-56320)+65536)}}},function(t,e,n){var o=n(47),i=Math.max,r=Math.min;t.exports=function(t,e){return t=o(t),t<0?i(t+e,0):r(t,e)}},function(t,e,n){var o=n(15),i=n(69);t.exports=n(2).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return o(e.call(t))}},function(t,e,n){var o=n(58),i=n(4)("iterator"),r=n(19);t.exports=n(2).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||r.hasOwnProperty(o(e))}},function(t,e,n){"use strict";var o=n(59),i=n(16),r=n(30),a=n(135),s=n(133),u=n(68),h=n(130),p=n(69);i(i.S+i.F*!n(137)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,l,c=r(t),f="function"==typeof this?this:Array,d=arguments.length,y=d>1?arguments[1]:void 0,v=void 0!==y,g=0,m=p(c);if(v&&(y=o(y,d>2?arguments[2]:void 0,2)),void 0==m||f==Array&&s(m))for(e=u(c.length),n=new f(e);e>g;g++)h(n,g,v?y(c[g],g):c[g]);else for(l=m.call(c),n=new f;!(i=l.next()).done;g++)h(n,g,v?a(l,y,[i.value,g],!0):i.value);return n.length=g,n}})},function(t,e,n){"use strict";var o=n(128),i=n(138),r=n(19),a=n(13);t.exports=n(63)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),r.Arguments=r.Array,o("keys"),o("values"),o("entries")},function(t,e,n){var o=n(16);o(o.S+o.F,"Object",{assign:n(141)})},function(t,e,n){var o=n(16);o(o.S+o.F*!n(11),"Object",{defineProperty:n(9).f
})},function(t,e,n){var o=n(30),i=n(20);n(146)("keys",function(){return function(t){return i(o(t))}})},function(t,e){},function(t,e,n){"use strict";var o=n(8),i=n(12),r=n(11),a=n(16),s=n(67),u=n(140).KEY,h=n(17),p=n(46),l=n(44),c=n(31),f=n(4),d=n(50),y=n(49),v=n(139),g=n(131),m=n(134),b=n(15),_=n(13),x=n(48),w=n(22),P=n(64),S=n(144),C=n(143),M=n(9),T=n(20),A=C.f,E=M.f,I=S.f,L=o.Symbol,N=o.JSON,O=N&&N.stringify,k="prototype",R=f("_hidden"),F=f("toPrimitive"),D={}.propertyIsEnumerable,j=p("symbol-registry"),K=p("symbols"),B=p("op-symbols"),X=Object[k],U="function"==typeof L,Y=o.QObject,G=!Y||!Y[k]||!Y[k].findChild,W=r&&h(function(){return 7!=P(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(t,e,n){var o=A(X,e);o&&delete X[e],E(t,e,n),o&&t!==X&&E(X,e,o)}:E,z=function(t){var e=K[t]=P(L[k]);return e._k=t,e},H=U&&"symbol"==typeof L.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof L},q=function(t,e,n){return t===X&&q(B,e,n),b(t),e=x(e,!0),b(n),i(K,e)?(n.enumerable?(i(t,R)&&t[R][e]&&(t[R][e]=!1),n=P(n,{enumerable:w(0,!1)})):(i(t,R)||E(t,R,w(1,{})),t[R][e]=!0),W(t,e,n)):E(t,e,n)},V=function(t,e){b(t);for(var n,o=g(e=_(e)),i=0,r=o.length;r>i;)q(t,n=o[i++],e[n]);return t},$=function(t,e){return void 0===e?P(t):V(P(t),e)},Z=function(t){var e=D.call(this,t=x(t,!0));return!(this===X&&i(K,t)&&!i(B,t))&&(!(e||!i(this,t)||!i(K,t)||i(this,R)&&this[R][t])||e)},J=function(t,e){if(t=_(t),e=x(e,!0),t!==X||!i(K,e)||i(B,e)){var n=A(t,e);return!n||!i(K,e)||i(t,R)&&t[R][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=I(_(t)),o=[],r=0;n.length>r;)i(K,e=n[r++])||e==R||e==u||o.push(e);return o},tt=function(t){for(var e,n=t===X,o=I(n?B:_(t)),r=[],a=0;o.length>a;)!i(K,e=o[a++])||n&&!i(X,e)||r.push(K[e]);return r};U||(L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var t=c(arguments.length>0?arguments[0]:void 0),e=function(n){this===X&&e.call(B,n),i(this,R)&&i(this[R],t)&&(this[R][t]=!1),W(this,t,w(1,n))};return r&&G&&W(X,t,{configurable:!0,set:e}),z(t)},s(L[k],"toString",function(){return this._k}),C.f=J,M.f=q,n(65).f=S.f=Q,n(29).f=Z,n(43).f=tt,r&&!n(42)&&s(X,"propertyIsEnumerable",Z,!0),d.f=function(t){return z(f(t))}),a(a.G+a.W+a.F*!U,{Symbol:L});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)f(et[nt++]);for(var et=T(f.store),nt=0;et.length>nt;)y(et[nt++]);a(a.S+a.F*!U,"Symbol",{for:function(t){return i(j,t+="")?j[t]:j[t]=L(t)},keyFor:function(t){if(H(t))return v(j,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!U,"Object",{create:$,defineProperty:q,defineProperties:V,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:tt}),N&&a(a.S+a.F*(!U||h(function(){var t=L();return"[null]"!=O([t])||"{}"!=O({a:t})||"{}"!=O(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!H(t)){for(var e,n,o=[t],i=1;arguments.length>i;)o.push(arguments[i++]);return e=o[1],"function"==typeof e&&(n=e),!n&&m(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!H(e))return e}),o[1]=e,O.apply(N,o)}}}),L[k][F]||n(18)(L[k],F,L[k].valueOf),l(L,"Symbol"),l(Math,"Math",!0),l(o.JSON,"JSON",!0)},function(t,e,n){n(49)("asyncIterator")},function(t,e,n){n(49)("observable")},,,,,,,,,,,,,,,,function(t,e,n){function o(t,e,n,o){o?(e(o),n&&n(o)):(t(s),n&&n(void 0,s))}var i,r=n(185),a=n(181),s=null,u=[];window.$$mapsCB=function(){s=google.maps;for(var t=0,e=u.length;t<e;t++)o.apply(void 0,u[t])},t.exports=function(t,e,n){return i=t||i,"function"==typeof e&&(n=e,e=[]),function(){return new a(function(t,a){if(i){if(s)o(t,a,n);else if(u.push([t,a,n]),1==u.length){var h="";"string"==typeof i?h="&key="+i:"object"==typeof i&&(h="&"+Object.keys(i).map(function(t){return t+"="+encodeURIComponent(i[t])}).join("&"));var p="https://maps.googleapis.com/maps/api/js?v=3&callback=$$mapsCB"+h;Array.isArray(e)&&e.length>0&&(p+="&libraries="+e.join(",")),r(p)}}else o(t,a,n,new Error("No API key passed to require('google-maps-api')"))})}}},function(t,e,n){var o,i;!function(r,a){o=[n(70),n(189)],i=function(t,e){return a(r,t,e)}.apply(e,o),!(void 0!==i&&(t.exports=i))}(window,function(t,e,n){function o(t,e){if(t=s(t),!t)throw"Bad element for Huebee: "+t;this.anchor=t,this.options={},this.option(o.defaults),this.option(e),this.create()}function i(){for(var t=document.querySelectorAll("[data-huebee]"),e=0;e<t.length;e++){var n,i=t[e],r=i.getAttribute("data-huebee");try{n=r&&JSON.parse(r)}catch(t){x&&x.error("Error parsing data-huebee on "+i.className+": "+t);continue}new o(i,n)}}function r(t){S.clearRect(0,0,1,1),S.fillStyle="#010203",S.fillStyle=t,S.fillRect(0,0,1,1);var e=S.getImageData(0,0,1,1).data;if(e=[e[0],e[1],e[2],e[3]],"1,2,3,255"!=e.join(",")){var n=p.apply(this,e);return{color:t.trim(),hue:n[0],sat:n[1],lum:n[2]}}}function a(t,e){for(var n in e)t[n]=e[n];return t}function s(t){return"string"==typeof t&&(t=document.querySelector(t)),t}function u(t,e,n){var o=h(t,e,n);return l(o)}function h(t,e,n){var o,i,r=(1-Math.abs(2*n-1))*e,a=t/60,s=r*(1-Math.abs(a%2-1));switch(Math.floor(a)){case 0:o=[r,s,0];break;case 1:o=[s,r,0];break;case 2:o=[0,r,s];break;case 3:o=[0,s,r];break;case 4:o=[s,0,r];break;case 5:o=[r,0,s];break;default:o=[0,0,0]}return i=n-r/2,o=o.map(function(t){return t+i})}function p(t,e,n){t/=255,e/=255,n/=255;var o,i=Math.max(t,e,n),r=Math.min(t,e,n),a=i-r,s=.5*(i+r),u=0===a?0:a/(1-Math.abs(2*s-1));0===a?o=0:i===t?o=(e-n)/a%6:i===e?o=(n-t)/a+2:i===n&&(o=(t-e)/a+4);var h=60*o;return[h,parseFloat(u),parseFloat(s)]}function l(t){var e=t.map(function(t){t=Math.round(255*t);var e=t.toString(16).toUpperCase();return e=e.length<2?"0"+e:e});return"#"+e.join("")}function c(t){return"#"+t[1]+t[3]+t[5]}o.defaults={hues:12,hue0:0,shades:5,saturations:3,notation:"shortHex",setText:!0,setBGColor:!0};var f=o.prototype=Object.create(e.prototype);f.option=function(t){this.options=a(this.options,t)};var d=0,y={};f.create=function(){function t(t){t.target==o&&t.preventDefault()}var e=this.guid=++d;this.anchor.huebeeGUID=e,y[e]=this,this.setBGElems=this.getSetElems(this.options.setBGColor),this.setTextElems=this.getSetElems(this.options.setText),this.outsideCloseIt=this.outsideClose.bind(this),this.onDocKeydown=this.docKeydown.bind(this),this.closeIt=this.close.bind(this),this.openIt=this.open.bind(this),this.onElemTransitionend=this.elemTransitionend.bind(this),this.isInputAnchor="INPUT"==this.anchor.nodeName,this.options.staticOpen||(this.anchor.addEventListener("click",this.openIt),this.anchor.addEventListener("focus",this.openIt)),this.isInputAnchor&&this.anchor.addEventListener("input",this.inputInput.bind(this));var n=this.element=document.createElement("div");n.className="huebee ",n.className+=this.options.staticOpen?"is-static-open ":"is-hidden ",n.className+=this.options.className||"";var o=this.container=document.createElement("div");if(o.className="huebee__container",o.addEventListener("mousedown",t),o.addEventListener("touchstart",t),this.createCanvas(),this.cursor=document.createElement("div"),this.cursor.className="huebee__cursor is-hidden",o.appendChild(this.cursor),this.createCloseButton(),n.appendChild(o),!this.options.staticOpen){var i=getComputedStyle(this.anchor.parentNode);"relative"!=i.position&&"absolute"!=i.position&&(this.anchor.parentNode.style.position="relative")}var r=this.options.hues,a=this.options.customColors,s=a&&a.length;this.satY=s?Math.ceil(s/r)+1:0,this.updateColors(),this.setAnchorColor(),this.options.staticOpen&&this.open()},f.getSetElems=function(t){return t===!0?[this.anchor]:"string"==typeof t?document.querySelectorAll(t):void 0},f.createCanvas=function(){var t=this.canvas=document.createElement("canvas");t.className="huebee__canvas",this.ctx=t.getContext("2d");var e=this.canvasPointer=new n;e._bindStartEvent(t),e.on("pointerDown",this.canvasPointerDown.bind(this)),e.on("pointerMove",this.canvasPointerMove.bind(this)),this.container.appendChild(t)};var v="http://www.w3.org/2000/svg";f.createCloseButton=function(){if(!this.options.staticOpen){var t=document.createElementNS(v,"svg");t.setAttribute("class","huebee__close-button"),t.setAttribute("viewBox","0 0 24 24"),t.setAttribute("width","24"),t.setAttribute("height","24");var e=document.createElementNS(v,"path");e.setAttribute("d","M 7,7 L 17,17 M 17,7 L 7,17"),e.setAttribute("class","huebee__close-button__x"),t.appendChild(e),t.addEventListener("click",this.closeIt),this.container.appendChild(t)}},f.updateColors=function(){this.swatches={},this.colorGrid={},this.updateColorModer();var t=this.options.shades,e=this.options.saturations,n=this.options.hues,o=this.options.customColors;if(o&&o.length){var i=0;o.forEach(function(t){var e=i%n,o=Math.floor(i/n),a=r(t);a&&(this.addSwatch(a,e,o),i++)}.bind(this))}for(var a=0;a<e;a++){var s=1-a/e,u=t*a+this.satY;this.updateSaturationGrid(a,s,u)}for(a=0;a<t+2;a++){var h=1-a/(t+1),p=this.colorModer(0,0,h),l=r(p);this.addSwatch(l,n+1,a)}},f.updateSaturationGrid=function(t,e,n){for(var o=this.options.shades,i=this.options.hues,a=this.options.hue0,s=0;s<o;s++)for(var u=0;u<i;u++){var h=Math.round(360*u/i+a)%360,p=1-(s+1)/(o+1),l=this.colorModer(h,e,p),c=r(l),f=s+n;this.addSwatch(c,u,f)}},f.addSwatch=function(t,e,n){this.swatches[e+","+n]=t,this.colorGrid[t.color.toUpperCase()]={x:e,y:n}};var g={hsl:function(t,e,n){return e=Math.round(100*e),n=Math.round(100*n),"hsl("+t+", "+e+"%, "+n+"%)"},hex:u,shortHex:function(t,e,n){var o=u(t,e,n);return c(o)}};f.updateColorModer=function(){this.colorModer=g[this.options.notation]||g.shortHex},f.renderColors=function(){var t=2*this.gridSize;for(var e in this.swatches){var n=this.swatches[e],o=e.split(","),i=o[0],r=o[1];this.ctx.fillStyle=n.color,this.ctx.fillRect(i*t,r*t,t,t)}},f.setAnchorColor=function(){this.isInputAnchor&&this.setColor(this.anchor.value)};var m=document.documentElement;f.open=function(){if(!this.isOpen){var t=this.anchor,e=this.element;this.options.staticOpen||(e.style.left=t.offsetLeft+"px",e.style.top=t.offsetTop+t.offsetHeight+"px"),this.bindOpenEvents(!0),e.removeEventListener("transitionend",this.onElemTransitionend),t.parentNode.insertBefore(e,t.nextSibling);var n=getComputedStyle(e).transitionDuration;this.hasTransition=n&&"none"!=n&&parseFloat(n),this.isOpen=!0,this.updateSizes(),this.renderColors(),this.setAnchorColor();e.offsetHeight;e.classList.remove("is-hidden")}},f.bindOpenEvents=function(t){if(!this.options.staticOpen){var e=(t?"add":"remove")+"EventListener";m[e]("mousedown",this.outsideCloseIt),m[e]("touchstart",this.outsideCloseIt),document[e]("focusin",this.outsideCloseIt),document[e]("keydown",this.onDocKeydown),this.anchor[e]("blur",this.closeIt)}},f.updateSizes=function(){var t=this.options.hues,e=this.options.shades,n=this.options.saturations;this.cursorBorder=parseInt(getComputedStyle(this.cursor).borderTopWidth,10),this.gridSize=Math.round(this.cursor.offsetWidth-2*this.cursorBorder),this.canvasOffset={x:this.canvas.offsetLeft,y:this.canvas.offsetTop};var o=Math.max(e*n+this.satY,e+2),i=this.gridSize*(t+2);this.canvas.width=2*i,this.canvas.style.width=i+"px",this.canvas.height=this.gridSize*o*2},f.outsideClose=function(t){var e=this.anchor.contains(t.target),n=this.element.contains(t.target);e||n||this.close()};var b={13:!0,27:!0};f.docKeydown=function(t){b[t.keyCode]&&this.close()};var _="string"==typeof m.style.transform;f.close=function(){this.isOpen&&(_&&this.hasTransition?this.element.addEventListener("transitionend",this.onElemTransitionend):this.remove(),this.element.classList.add("is-hidden"),this.bindOpenEvents(!1),this.isOpen=!1)},f.remove=function(){var t=this.element.parentNode;t.contains(this.element)&&t.removeChild(this.element)},f.elemTransitionend=function(t){t.target==this.element&&(this.element.removeEventListener("transitionend",this.onElemTransitionend),this.remove())},f.inputInput=function(){this.setColor(this.anchor.value)},f.canvasPointerDown=function(t,e){t.preventDefault(),this.updateOffset(),this.canvasPointerChange(e)},f.updateOffset=function(){var e=this.canvas.getBoundingClientRect();this.offset={x:e.left+t.pageXOffset,y:e.top+t.pageYOffset}},f.canvasPointerMove=function(t,e){this.canvasPointerChange(e)},f.canvasPointerChange=function(t){var e=Math.round(t.pageX-this.offset.x),n=Math.round(t.pageY-this.offset.y),o=this.gridSize,i=Math.floor(e/o),r=Math.floor(n/o),a=this.swatches[i+","+r];this.setSwatch(a)},f.setColor=function(t){var e=r(t);this.setSwatch(e)},f.setSwatch=function(t){var e=t&&t.color;if(t){var n=e==this.color;this.color=e,this.hue=t.hue,this.sat=t.sat,this.lum=t.lum;var o=this.lum-.15*Math.cos((this.hue+70)/180*Math.PI);this.isLight=o>.5;var i=this.colorGrid[e.toUpperCase()];this.updateCursor(i),this.setTexts(),this.setBackgrounds(),n||this.emitEvent("change",[e,t.hue,t.sat,t.lum])}},f.setTexts=function(){if(this.setTextElems)for(var t=0;t<this.setTextElems.length;t++){var e=this.setTextElems[t],n="INPUT"==e.nodeName?"value":"textContent";e[n]=this.color}},f.setBackgrounds=function(){if(this.setBGElems)for(var t=this.isLight?"#222":"white",e=0;e<this.setBGElems.length;e++){var n=this.setBGElems[e];n.style.backgroundColor=this.color,n.style.color=t}},f.updateCursor=function(t){if(this.isOpen){var e=t?"remove":"add";if(this.cursor.classList[e]("is-hidden"),t){var n=this.gridSize,o=this.canvasOffset,i=this.cursorBorder;this.cursor.style.left=t.x*n+o.x-i+"px",this.cursor.style.top=t.y*n+o.y-i+"px"}}};var x=t.console,w=document.readyState;"complete"==w||"interactive"==w?i():document.addEventListener("DOMContentLoaded",i),o.data=function(t){t=s(t);var e=t&&t.huebeeGUID;return e&&y[e]};var P=document.createElement("canvas");P.width=P.height=1;var S=P.getContext("2d");return o})},function(t,e){"use strict";function n(t,e,n){ie.biginteger_used=1,null!=t&&("number"==typeof t&&"undefined"==typeof e?this.fromInt(t):"number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function o(){return new n(null)}function i(t,e,n,o,i,r){for(;--r>=0;){var a=e*this[t++]+n[o]+i;i=Math.floor(a/67108864),n[o++]=67108863&a}return i}function r(t,e,n,o,i,r){for(var a=32767&e,s=e>>15;--r>=0;){var u=32767&this[t],h=this[t++]>>15,p=s*u+h*a;u=a*u+((32767&p)<<15)+n[o]+(1073741823&i),i=(u>>>30)+(p>>>15)+s*h+(i>>>30),n[o++]=1073741823&u}return i}function a(t,e,n,o,i,r){for(var a=16383&e,s=e>>14;--r>=0;){var u=16383&this[t],h=this[t++]>>14,p=s*u+h*a;u=a*u+((16383&p)<<14)+n[o]+i,i=(u>>28)+(p>>14)+s*h,n[o++]=268435455&u}return i}function s(t){return ye.charAt(t)}function u(t,e){var n=ve[t.charCodeAt(e)];return null==n?-1:n}function h(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function p(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0}function l(t){var e=o();return e.fromInt(t),e}function c(t,e){var o;if(16==e)o=4;else if(8==e)o=3;else if(256==e)o=8;else if(2==e)o=1;else if(32==e)o=5;else{if(4!=e)return void this.fromRadix(t,e);o=2}this.t=0,this.s=0;for(var i=t.length,r=!1,a=0;--i>=0;){var s=8==o?255&t[i]:u(t,i);s<0?"-"==t.charAt(i)&&(r=!0):(r=!1,0==a?this[this.t++]=s:a+o>this.DB?(this[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this[this.t++]=s>>this.DB-a):this[this.t-1]|=s<<a,a+=o,a>=this.DB&&(a-=this.DB))}8==o&&0!=(128&t[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),r&&n.ZERO.subTo(this,this)}function f(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function d(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,o=(1<<e)-1,i=!1,r="",a=this.t,u=this.DB-a*this.DB%e;if(a-- >0)for(u<this.DB&&(n=this[a]>>u)>0&&(i=!0,r=s(n));a>=0;)u<e?(n=(this[a]&(1<<u)-1)<<e-u,n|=this[--a]>>(u+=this.DB-e)):(n=this[a]>>(u-=e)&o,u<=0&&(u+=this.DB,--a)),n>0&&(i=!0),i&&(r+=s(n));return i?r:"0"}function y(){var t=o();return n.ZERO.subTo(this,t),t}function v(){return this.s<0?this.negate():this}function g(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(e=n-t.t,0!=e)return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0}function m(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function b(){return this.t<=0?0:this.DB*(this.t-1)+m(this[this.t-1]^this.s&this.DM)}function _(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s}function x(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s}function w(t,e){var n,o=t%this.DB,i=this.DB-o,r=(1<<i)-1,a=Math.floor(t/this.DB),s=this.s<<o&this.DM;for(n=this.t-1;n>=0;--n)e[n+a+1]=this[n]>>i|s,s=(this[n]&r)<<o;for(n=a-1;n>=0;--n)e[n]=0;e[a]=s,e.t=this.t+a+1,e.s=this.s,e.clamp()}function P(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)return void(e.t=0);var o=t%this.DB,i=this.DB-o,r=(1<<o)-1;e[0]=this[n]>>o;for(var a=n+1;a<this.t;++a)e[a-n-1]|=(this[a]&r)<<i,e[a-n]=this[a]>>o;o>0&&(e[this.t-n-1]|=(this.s&r)<<i),e.t=this.t-n,e.clamp()}function S(t,e){for(var n=0,o=0,i=Math.min(t.t,this.t);n<i;)o+=this[n]-t[n],e[n++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o-=t.s;n<this.t;)o+=this[n],e[n++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;n<t.t;)o-=t[n],e[n++]=o&this.DM,o>>=this.DB;o-=t.s}e.s=o<0?-1:0,o<-1?e[n++]=this.DV+o:o>0&&(e[n++]=o),e.t=n,e.clamp()}function C(t,e){var o=this.abs(),i=t.abs(),r=o.t;for(e.t=r+i.t;--r>=0;)e[r]=0;for(r=0;r<i.t;++r)e[r+o.t]=o.am(0,i[r],e,r,0,o.t);e.s=0,e.clamp(),this.s!=t.s&&n.ZERO.subTo(e,e)}function M(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var o=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,o,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()}function T(t,e,i){var r=t.abs();if(!(r.t<=0)){var a=this.abs();if(a.t<r.t)return null!=e&&e.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=o());var s=o(),u=this.s,h=t.s,p=this.DB-m(r[r.t-1]);p>0?(r.lShiftTo(p,s),a.lShiftTo(p,i)):(r.copyTo(s),a.copyTo(i));var l=s.t,c=s[l-1];if(0!=c){var f=c*(1<<this.F1)+(l>1?s[l-2]>>this.F2:0),d=this.FV/f,y=(1<<this.F1)/f,v=1<<this.F2,g=i.t,b=g-l,_=null==e?o():e;for(s.dlShiftTo(b,_),i.compareTo(_)>=0&&(i[i.t++]=1,i.subTo(_,i)),n.ONE.dlShiftTo(l,_),_.subTo(s,s);s.t<l;)s[s.t++]=0;for(;--b>=0;){var x=i[--g]==c?this.DM:Math.floor(i[g]*d+(i[g-1]+v)*y);if((i[g]+=s.am(0,x,i,b,0,l))<x)for(s.dlShiftTo(b,_),i.subTo(_,i);i[g]<--x;)i.subTo(_,i)}null!=e&&(i.drShiftTo(l,e),u!=h&&n.ZERO.subTo(e,e)),i.t=l,i.clamp(),p>0&&i.rShiftTo(p,i),u<0&&n.ZERO.subTo(i,i)}}}function A(t){var e=o();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(n.ZERO)>0&&t.subTo(e,e),e}function E(t){this.m=t}function I(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function L(t){return t}function N(t){t.divRemTo(this.m,null,t)}function O(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function k(t,e){t.squareTo(e),this.reduce(e)}function R(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function F(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function D(t){var e=o();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(n.ZERO)>0&&this.m.subTo(e,e),e}function j(t){var e=o();return t.copyTo(e),this.reduce(e),e}function K(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],o=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(n=e+this.m.t,t[n]+=this.m.am(0,o,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function B(t,e){t.squareTo(e),this.reduce(e)}function X(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function U(){return 0==(this.t>0?1&this[0]:this.s)}function Y(t,e){if(t>4294967295||t<1)return n.ONE;var i=o(),r=o(),a=e.convert(this),s=m(t)-1;for(a.copyTo(i);--s>=0;)if(e.sqrTo(i,r),(t&1<<s)>0)e.mulTo(r,a,i);else{var u=i;i=r,r=u}return e.revert(i)}function G(t,e){var n;return n=t<256||e.isEven()?new E(e):new F(e),this.exp(t,n)}function W(){var t=o();return this.copyTo(t),t}function z(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function H(){return 0==this.t?this.s:this[0]<<24>>24}function q(){return 0==this.t?this.s:this[0]<<16>>16}function V(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function $(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function Z(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),i=l(n),r=o(),a=o(),s="";for(this.divRemTo(i,r,a);r.signum()>0;)s=(n+a.intValue()).toString(t).substr(1)+s,r.divRemTo(i,r,a);return a.intValue().toString(t)+s}function J(t,e){this.fromInt(0),null==e&&(e=10);for(var o=this.chunkSize(e),i=Math.pow(e,o),r=!1,a=0,s=0,h=0;h<t.length;++h){var p=u(t,h);p<0?"-"==t.charAt(h)&&0==this.signum()&&(r=!0):(s=e*s+p,++a>=o&&(this.dMultiply(i),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(e,a)),this.dAddOffset(s,0)),r&&n.ZERO.subTo(this,this)}function Q(t,e,o){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,o),this.testBit(t-1)||this.bitwiseTo(n.ONE.shiftLeft(t-1),st,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(n.ONE.shiftLeft(t-1),this);else{var i=new Array,r=7&t;i.length=(t>>3)+1,e.nextBytes(i),r>0?i[0]&=(1<<r)-1:i[0]=0,this.fromString(i,256)}}function tt(){var t=this.t,e=new Array;e[0]=this.s;var n,o=this.DB-t*this.DB%8,i=0;if(t-- >0)for(o<this.DB&&(n=this[t]>>o)!=(this.s&this.DM)>>o&&(e[i++]=n|this.s<<this.DB-o);t>=0;)o<8?(n=(this[t]&(1<<o)-1)<<8-o,n|=this[--t]>>(o+=this.DB-8)):(n=this[t]>>(o-=8)&255,o<=0&&(o+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}function et(t){return 0==this.compareTo(t)}function nt(t){return this.compareTo(t)<0?this:t}function ot(t){return this.compareTo(t)>0?this:t}function it(t,e,n){var o,i,r=Math.min(t.t,this.t);for(o=0;o<r;++o)n[o]=e(this[o],t[o]);if(t.t<this.t){for(i=t.s&this.DM,o=r;o<this.t;++o)n[o]=e(this[o],i);n.t=this.t}else{for(i=this.s&this.DM,o=r;o<t.t;++o)n[o]=e(i,t[o]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()}function rt(t,e){return t&e}function at(t){var e=o();return this.bitwiseTo(t,rt,e),e}function st(t,e){return t|e}function ut(t){var e=o();return this.bitwiseTo(t,st,e),e}function ht(t,e){return t^e}function pt(t){var e=o();return this.bitwiseTo(t,ht,e),e}function lt(t,e){return t&~e}function ct(t){var e=o();return this.bitwiseTo(t,lt,e),e}function ft(){for(var t=o(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t}function dt(t){var e=o();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function yt(t){var e=o();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function vt(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function gt(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+vt(this[t]);return this.s<0?this.t*this.DB:-1}function mt(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function bt(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=mt(this[n]^e);return t}function _t(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)}function xt(t,e){var o=n.ONE.shiftLeft(t);return this.bitwiseTo(o,e,o),o}function wt(t){return this.changeBit(t,st)}function Pt(t){return this.changeBit(t,lt)}function St(t){return this.changeBit(t,ht)}function Ct(t,e){for(var n=0,o=0,i=Math.min(t.t,this.t);n<i;)o+=this[n]+t[n],e[n++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o+=t.s;n<this.t;)o+=this[n],e[n++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;n<t.t;)o+=t[n],e[n++]=o&this.DM,o>>=this.DB;o+=t.s}e.s=o<0?-1:0,o>0?e[n++]=o:o<-1&&(e[n++]=this.DV+o),e.t=n,e.clamp()}function Mt(t){var e=o();return this.addTo(t,e),e}function Tt(t){var e=o();return this.subTo(t,e),e}function At(t){var e=o();return this.multiplyTo(t,e),e}function Et(){var t=o();return this.squareTo(t),t}function It(t){var e=o();return this.divRemTo(t,e,null),e}function Lt(t){var e=o();return this.divRemTo(t,null,e),e}function Nt(t){var e=o(),n=o();return this.divRemTo(t,e,n),new Array(e,n)}function Ot(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function kt(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}}function Rt(){}function Ft(t){return t}function Dt(t,e,n){t.multiplyTo(e,n)}function jt(t,e){t.squareTo(e)}function Kt(t){return this.exp(t,new Rt)}function Bt(t,e,n){var o=Math.min(this.t+t.t,e);for(n.s=0,n.t=o;o>0;)n[--o]=0;var i;for(i=n.t-this.t;o<i;++o)n[o+this.t]=this.am(0,t[o],n,o,0,this.t);for(i=Math.min(t.t,e);o<i;++o)this.am(0,t[o],n,o,0,e-o);n.clamp()}function Xt(t,e,n){--e;var o=n.t=this.t+t.t-e;for(n.s=0;--o>=0;)n[o]=0;for(o=Math.max(e-this.t,0);o<t.t;++o)n[this.t+o-e]=this.am(e-o,t[o],n,0,0,this.t+o-e);n.clamp(),n.drShiftTo(1,n)}function Ut(t){this.r2=o(),this.q3=o(),n.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function Yt(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=o();return t.copyTo(e),this.reduce(e),e}function Gt(t){return t}function Wt(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function zt(t,e){t.squareTo(e),this.reduce(e)}function Ht(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function qt(t,e){var n,i,r=t.bitLength(),a=l(1);if(r<=0)return a;n=r<18?1:r<48?3:r<144?4:r<768?5:6,i=r<8?new E(e):e.isEven()?new Ut(e):new F(e);var s=new Array,u=3,h=n-1,p=(1<<n)-1;if(s[1]=i.convert(this),n>1){var c=o();for(i.sqrTo(s[1],c);u<=p;)s[u]=o(),i.mulTo(c,s[u-2],s[u]),u+=2}var f,d,y=t.t-1,v=!0,g=o();for(r=m(t[y])-1;y>=0;){for(r>=h?f=t[y]>>r-h&p:(f=(t[y]&(1<<r+1)-1)<<h-r,y>0&&(f|=t[y-1]>>this.DB+r-h)),u=n;0==(1&f);)f>>=1,--u;if((r-=u)<0&&(r+=this.DB,--y),v)s[f].copyTo(a),v=!1;else{for(;u>1;)i.sqrTo(a,g),i.sqrTo(g,a),u-=2;u>0?i.sqrTo(a,g):(d=a,a=g,g=d),i.mulTo(g,s[f],a)}for(;y>=0&&0==(t[y]&1<<r);)i.sqrTo(a,g),d=a,a=g,g=d,--r<0&&(r=this.DB-1,--y)}return i.revert(a)}function Vt(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var o=e;e=n,n=o}var i=e.getLowestSetBit(),r=n.getLowestSetBit();if(r<0)return e;for(i<r&&(r=i),r>0&&(e.rShiftTo(r,e),n.rShiftTo(r,n));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return r>0&&n.lShiftTo(r,n),n}function $t(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var o=this.t-1;o>=0;--o)n=(e*n+this[o])%t;return n}function Zt(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return n.ZERO;for(var o=t.clone(),i=this.clone(),r=l(1),a=l(0),s=l(0),u=l(1);0!=o.signum();){for(;o.isEven();)o.rShiftTo(1,o),e?(r.isEven()&&a.isEven()||(r.addTo(this,r),a.subTo(t,a)),r.rShiftTo(1,r)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);for(;i.isEven();)i.rShiftTo(1,i),e?(s.isEven()&&u.isEven()||(s.addTo(this,s),u.subTo(t,u)),s.rShiftTo(1,s)):u.isEven()||u.subTo(t,u),u.rShiftTo(1,u);o.compareTo(i)>=0?(o.subTo(i,o),e&&r.subTo(s,r),a.subTo(u,a)):(i.subTo(o,i),e&&s.subTo(r,s),u.subTo(a,u))}return 0!=i.compareTo(n.ONE)?n.ZERO:u.compareTo(t)>=0?u.subtract(t):u.signum()<0?(u.addTo(t,u),u.signum()<0?u.add(t):u):u}function Jt(t){var e,n=this.abs();if(1==n.t&&n[0]<=ge[ge.length-1]){for(e=0;e<ge.length;++e)if(n[0]==ge[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<ge.length;){for(var o=ge[e],i=e+1;i<ge.length&&o<me;)o*=ge[i++];for(o=n.modInt(o);e<i;)if(o%ge[e++]==0)return!1}return n.millerRabin(t)}function Qt(t){var e=this.subtract(n.ONE),i=e.getLowestSetBit();if(i<=0)return!1;var r=e.shiftRight(i);t=t+1>>1,t>ge.length&&(t=ge.length);for(var a=o(),s=0;s<t;++s){a.fromInt(ge[Math.floor(Math.random()*ge.length)]);var u=a.modPow(r,this);if(0!=u.compareTo(n.ONE)&&0!=u.compareTo(e)){for(var h=1;h++<i&&0!=u.compareTo(e);)if(u=u.modPowInt(2,this),0==u.compareTo(n.ONE))return!1;if(0!=u.compareTo(e))return!1}}return!0}var te=!1,ee=!1,ne=!0,oe=!1,ie={},re=!1;"undefined"!=typeof t&&t.exports?(t.exports=ie,re=!0):"undefined"!=typeof document?window.ClipperLib=ie:self.ClipperLib=ie;var ae;if(re){var se="chrome";ae="Netscape"}else{var se=navigator.userAgent.toString().toLowerCase();ae=navigator.appName}var ue={};se.indexOf("chrome")!=-1&&se.indexOf("chromium")==-1?ue.chrome=1:ue.chrome=0,se.indexOf("chromium")!=-1?ue.chromium=1:ue.chromium=0,se.indexOf("safari")!=-1&&se.indexOf("chrome")==-1&&se.indexOf("chromium")==-1?ue.safari=1:ue.safari=0,se.indexOf("firefox")!=-1?ue.firefox=1:ue.firefox=0,se.indexOf("firefox/17")!=-1?ue.firefox17=1:ue.firefox17=0,se.indexOf("firefox/15")!=-1?ue.firefox15=1:ue.firefox15=0,se.indexOf("firefox/3")!=-1?ue.firefox3=1:ue.firefox3=0,se.indexOf("opera")!=-1?ue.opera=1:ue.opera=0,se.indexOf("msie 10")!=-1?ue.msie10=1:ue.msie10=0,se.indexOf("msie 9")!=-1?ue.msie9=1:ue.msie9=0,se.indexOf("msie 8")!=-1?ue.msie8=1:ue.msie8=0,se.indexOf("msie 7")!=-1?ue.msie7=1:ue.msie7=0,se.indexOf("msie ")!=-1?ue.msie=1:ue.msie=0,ie.biginteger_used=null;var he,pe=0xdeadbeefcafe,le=15715070==(16777215&pe);le&&"Microsoft Internet Explorer"==ae?(n.prototype.am=r,he=30):le&&"Netscape"!=ae?(n.prototype.am=i,he=26):(n.prototype.am=a,he=28),n.prototype.DB=he,n.prototype.DM=(1<<he)-1,n.prototype.DV=1<<he;var ce=52;n.prototype.FV=Math.pow(2,ce),n.prototype.F1=ce-he,n.prototype.F2=2*he-ce;var fe,de,ye="0123456789abcdefghijklmnopqrstuvwxyz",ve=new Array;for(fe="0".charCodeAt(0),de=0;de<=9;++de)ve[fe++]=de;for(fe="a".charCodeAt(0),de=10;de<36;++de)ve[fe++]=de;for(fe="A".charCodeAt(0),de=10;de<36;++de)ve[fe++]=de;E.prototype.convert=I,E.prototype.revert=L,E.prototype.reduce=N,E.prototype.mulTo=O,E.prototype.sqrTo=k,F.prototype.convert=D,F.prototype.revert=j,F.prototype.reduce=K,F.prototype.mulTo=X,F.prototype.sqrTo=B,n.prototype.copyTo=h,n.prototype.fromInt=p,n.prototype.fromString=c,n.prototype.clamp=f,n.prototype.dlShiftTo=_,n.prototype.drShiftTo=x,n.prototype.lShiftTo=w,n.prototype.rShiftTo=P,n.prototype.subTo=S,n.prototype.multiplyTo=C,n.prototype.squareTo=M,n.prototype.divRemTo=T,n.prototype.invDigit=R,n.prototype.isEven=U,n.prototype.exp=Y,n.prototype.toString=d,n.prototype.negate=y,n.prototype.abs=v,n.prototype.compareTo=g,n.prototype.bitLength=b,n.prototype.mod=A,n.prototype.modPowInt=G,n.ZERO=l(0),n.ONE=l(1),Rt.prototype.convert=Ft,Rt.prototype.revert=Ft,Rt.prototype.mulTo=Dt,Rt.prototype.sqrTo=jt,Ut.prototype.convert=Yt,Ut.prototype.revert=Gt,Ut.prototype.reduce=Wt,Ut.prototype.mulTo=Ht,Ut.prototype.sqrTo=zt;var ge=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],me=(1<<26)/ge[ge.length-1];n.prototype.chunkSize=V,
n.prototype.toRadix=Z,n.prototype.fromRadix=J,n.prototype.fromNumber=Q,n.prototype.bitwiseTo=it,n.prototype.changeBit=xt,n.prototype.addTo=Ct,n.prototype.dMultiply=Ot,n.prototype.dAddOffset=kt,n.prototype.multiplyLowerTo=Bt,n.prototype.multiplyUpperTo=Xt,n.prototype.modInt=$t,n.prototype.millerRabin=Qt,n.prototype.clone=W,n.prototype.intValue=z,n.prototype.byteValue=H,n.prototype.shortValue=q,n.prototype.signum=$,n.prototype.toByteArray=tt,n.prototype.equals=et,n.prototype.min=nt,n.prototype.max=ot,n.prototype.and=at,n.prototype.or=ut,n.prototype.xor=pt,n.prototype.andNot=ct,n.prototype.not=ft,n.prototype.shiftLeft=dt,n.prototype.shiftRight=yt,n.prototype.getLowestSetBit=gt,n.prototype.bitCount=bt,n.prototype.testBit=_t,n.prototype.setBit=wt,n.prototype.clearBit=Pt,n.prototype.flipBit=St,n.prototype.add=Mt,n.prototype.subtract=Tt,n.prototype.multiply=At,n.prototype.divide=It,n.prototype.remainder=Lt,n.prototype.divideAndRemainder=Nt,n.prototype.modPow=qt,n.prototype.modInverse=Zt,n.prototype.pow=Kt,n.prototype.gcd=Vt,n.prototype.isProbablePrime=Jt,n.prototype.square=Et;var be=n;if(be.prototype.IsNegative=function(){return this.compareTo(be.ZERO)==-1},be.op_Equality=function(t,e){return 0==t.compareTo(e)},be.op_Inequality=function(t,e){return 0!=t.compareTo(e)},be.op_GreaterThan=function(t,e){return t.compareTo(e)>0},be.op_LessThan=function(t,e){return t.compareTo(e)<0},be.op_Addition=function(t,e){return new be(t).add(new be(e))},be.op_Subtraction=function(t,e){return new be(t).subtract(new be(e))},be.Int128Mul=function(t,e){return new be(t).multiply(new be(e))},be.op_Division=function(t,e){return t.divide(e)},be.prototype.ToDouble=function(){return parseFloat(this.toString())},"undefined"==typeof _e)var _e=function(t,e){var n;if("undefined"==typeof Object.getOwnPropertyNames){for(n in e.prototype)"undefined"!=typeof t.prototype[n]&&t.prototype[n]!=Object.prototype[n]||(t.prototype[n]=e.prototype[n]);for(n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);t.$baseCtor=e}else{for(var o=Object.getOwnPropertyNames(e.prototype),i=0;i<o.length;i++)"undefined"==typeof Object.getOwnPropertyDescriptor(t.prototype,o[i])&&Object.defineProperty(t.prototype,o[i],Object.getOwnPropertyDescriptor(e.prototype,o[i]));for(n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);t.$baseCtor=e}};ie.Path=function(){return[]},ie.Paths=function(){return[]},ie.DoublePoint=function(){var t=arguments;this.X=0,this.Y=0,1==t.length?(this.X=t[0].X,this.Y=t[0].Y):2==t.length&&(this.X=t[0],this.Y=t[1])},ie.DoublePoint0=function(){this.X=0,this.Y=0},ie.DoublePoint1=function(t){this.X=t.X,this.Y=t.Y},ie.DoublePoint2=function(t,e){this.X=t,this.Y=e},ie.PolyNode=function(){this.m_Parent=null,this.m_polygon=new ie.Path,this.m_Index=0,this.m_jointype=0,this.m_endtype=0,this.m_Childs=[],this.IsOpen=!1},ie.PolyNode.prototype.IsHoleNode=function(){for(var t=!0,e=this.m_Parent;null!==e;)t=!t,e=e.m_Parent;return t},ie.PolyNode.prototype.ChildCount=function(){return this.m_Childs.length},ie.PolyNode.prototype.Contour=function(){return this.m_polygon},ie.PolyNode.prototype.AddChild=function(t){var e=this.m_Childs.length;this.m_Childs.push(t),t.m_Parent=this,t.m_Index=e},ie.PolyNode.prototype.GetNext=function(){return this.m_Childs.length>0?this.m_Childs[0]:this.GetNextSiblingUp()},ie.PolyNode.prototype.GetNextSiblingUp=function(){return null===this.m_Parent?null:this.m_Index==this.m_Parent.m_Childs.length-1?this.m_Parent.GetNextSiblingUp():this.m_Parent.m_Childs[this.m_Index+1]},ie.PolyNode.prototype.Childs=function(){return this.m_Childs},ie.PolyNode.prototype.Parent=function(){return this.m_Parent},ie.PolyNode.prototype.IsHole=function(){return this.IsHoleNode()},ie.PolyTree=function(){this.m_AllPolys=[],ie.PolyNode.call(this)},ie.PolyTree.prototype.Clear=function(){for(var t=0,e=this.m_AllPolys.length;t<e;t++)this.m_AllPolys[t]=null;this.m_AllPolys.length=0,this.m_Childs.length=0},ie.PolyTree.prototype.GetFirst=function(){return this.m_Childs.length>0?this.m_Childs[0]:null},ie.PolyTree.prototype.Total=function(){return this.m_AllPolys.length},_e(ie.PolyTree,ie.PolyNode),ie.Math_Abs_Int64=ie.Math_Abs_Int32=ie.Math_Abs_Double=function(t){return Math.abs(t)},ie.Math_Max_Int32_Int32=function(t,e){return Math.max(t,e)},ue.msie||ue.opera||ue.safari?ie.Cast_Int32=function(t){return 0|t}:ie.Cast_Int32=function(t){return~~t},ue.chrome?ie.Cast_Int64=function(t){return t<-2147483648||t>2147483647?t<0?Math.ceil(t):Math.floor(t):~~t}:ue.firefox&&"function"==typeof Number.toInteger?ie.Cast_Int64=function(t){return Number.toInteger(t)}:ue.msie7||ue.msie8?ie.Cast_Int64=function(t){return parseInt(t,10)}:ue.msie?ie.Cast_Int64=function(t){return t<-2147483648||t>2147483647?t<0?Math.ceil(t):Math.floor(t):0|t}:ie.Cast_Int64=function(t){return t<0?Math.ceil(t):Math.floor(t)},ie.Clear=function(t){t.length=0},ie.PI=3.141592653589793,ie.PI2=6.283185307179586,ie.IntPoint=function(){var t=arguments,e=t.length;if(this.X=0,this.Y=0,ee)if(this.Z=0,3==e)this.X=t[0],this.Y=t[1],this.Z=t[2];else if(2==e)this.X=t[0],this.Y=t[1],this.Z=0;else if(1==e)if(t[0]instanceof ie.DoublePoint){var n=t[0];this.X=ie.Clipper.Round(n.X),this.Y=ie.Clipper.Round(n.Y),this.Z=0}else{var o=t[0];"undefined"==typeof o.Z&&(o.Z=0),this.X=o.X,this.Y=o.Y,this.Z=o.Z}else this.X=0,this.Y=0,this.Z=0;else if(2==e)this.X=t[0],this.Y=t[1];else if(1==e)if(t[0]instanceof ie.DoublePoint){var n=t[0];this.X=ie.Clipper.Round(n.X),this.Y=ie.Clipper.Round(n.Y)}else{var o=t[0];this.X=o.X,this.Y=o.Y}else this.X=0,this.Y=0},ie.IntPoint.op_Equality=function(t,e){return t.X==e.X&&t.Y==e.Y},ie.IntPoint.op_Inequality=function(t,e){return t.X!=e.X||t.Y!=e.Y},ee?(ie.IntPoint0=function(){this.X=0,this.Y=0,this.Z=0},ie.IntPoint1=function(t){this.X=t.X,this.Y=t.Y,this.Z=t.Z},ie.IntPoint1dp=function(t){this.X=ie.Clipper.Round(t.X),this.Y=ie.Clipper.Round(t.Y),this.Z=0},ie.IntPoint2=function(t,e){this.X=t,this.Y=e,this.Z=0},ie.IntPoint3=function(t,e,n){this.X=t,this.Y=e,this.Z=n}):(ie.IntPoint0=function(){this.X=0,this.Y=0},ie.IntPoint1=function(t){this.X=t.X,this.Y=t.Y},ie.IntPoint1dp=function(t){this.X=ie.Clipper.Round(t.X),this.Y=ie.Clipper.Round(t.Y)},ie.IntPoint2=function(t,e){this.X=t,this.Y=e}),ie.IntRect=function(){var t=arguments,e=t.length;4==e?(this.left=t[0],this.top=t[1],this.right=t[2],this.bottom=t[3]):1==e?(this.left=ir.left,this.top=ir.top,this.right=ir.right,this.bottom=ir.bottom):(this.left=0,this.top=0,this.right=0,this.bottom=0)},ie.IntRect0=function(){this.left=0,this.top=0,this.right=0,this.bottom=0},ie.IntRect1=function(t){this.left=t.left,this.top=t.top,this.right=t.right,this.bottom=t.bottom},ie.IntRect4=function(t,e,n,o){this.left=t,this.top=e,this.right=n,this.bottom=o},ie.ClipType={ctIntersection:0,ctUnion:1,ctDifference:2,ctXor:3},ie.PolyType={ptSubject:0,ptClip:1},ie.PolyFillType={pftEvenOdd:0,pftNonZero:1,pftPositive:2,pftNegative:3},ie.JoinType={jtSquare:0,jtRound:1,jtMiter:2},ie.EndType={etOpenSquare:0,etOpenRound:1,etOpenButt:2,etClosedLine:3,etClosedPolygon:4},oe&&(ie.EndType_={etSquare:0,etRound:1,etButt:2,etClosed:3}),ie.EdgeSide={esLeft:0,esRight:1},ie.Direction={dRightToLeft:0,dLeftToRight:1},ie.TEdge=function(){this.Bot=new ie.IntPoint,this.Curr=new ie.IntPoint,this.Top=new ie.IntPoint,this.Delta=new ie.IntPoint,this.Dx=0,this.PolyTyp=ie.PolyType.ptSubject,this.Side=ie.EdgeSide.esLeft,this.WindDelta=0,this.WindCnt=0,this.WindCnt2=0,this.OutIdx=0,this.Next=null,this.Prev=null,this.NextInLML=null,this.NextInAEL=null,this.PrevInAEL=null,this.NextInSEL=null,this.PrevInSEL=null},ie.IntersectNode=function(){this.Edge1=null,this.Edge2=null,this.Pt=new ie.IntPoint},ie.MyIntersectNodeSort=function(){},ie.MyIntersectNodeSort.Compare=function(t,e){return e.Pt.Y-t.Pt.Y},ie.LocalMinima=function(){this.Y=0,this.LeftBound=null,this.RightBound=null,this.Next=null},ie.Scanbeam=function(){this.Y=0,this.Next=null},ie.OutRec=function(){this.Idx=0,this.IsHole=!1,this.IsOpen=!1,this.FirstLeft=null,this.Pts=null,this.BottomPt=null,this.PolyNode=null},ie.OutPt=function(){this.Idx=0,this.Pt=new ie.IntPoint,this.Next=null,this.Prev=null},ie.Join=function(){this.OutPt1=null,this.OutPt2=null,this.OffPt=new ie.IntPoint},ie.ClipperBase=function(){this.m_MinimaList=null,this.m_CurrentLM=null,this.m_edges=new Array,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1,this.PreserveCollinear=!1,this.m_MinimaList=null,this.m_CurrentLM=null,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},ie.ClipperBase.horizontal=-9007199254740992,ie.ClipperBase.Skip=-2,ie.ClipperBase.Unassigned=-1,ie.ClipperBase.tolerance=1e-20,te?(ie.ClipperBase.loRange=46340,ie.ClipperBase.hiRange=46340):(ie.ClipperBase.loRange=47453132,ie.ClipperBase.hiRange=0xfffffffffffff),ie.ClipperBase.near_zero=function(t){return t>-ie.ClipperBase.tolerance&&t<ie.ClipperBase.tolerance},ie.ClipperBase.IsHorizontal=function(t){return 0===t.Delta.Y},ie.ClipperBase.prototype.PointIsVertex=function(t,e){var n=e;do{if(ie.IntPoint.op_Equality(n.Pt,t))return!0;n=n.Next}while(n!=e);return!1},ie.ClipperBase.prototype.PointOnLineSegment=function(t,e,n,o){return o?t.X==e.X&&t.Y==e.Y||t.X==n.X&&t.Y==n.Y||t.X>e.X==t.X<n.X&&t.Y>e.Y==t.Y<n.Y&&be.op_Equality(be.Int128Mul(t.X-e.X,n.Y-e.Y),be.Int128Mul(n.X-e.X,t.Y-e.Y)):t.X==e.X&&t.Y==e.Y||t.X==n.X&&t.Y==n.Y||t.X>e.X==t.X<n.X&&t.Y>e.Y==t.Y<n.Y&&(t.X-e.X)*(n.Y-e.Y)==(n.X-e.X)*(t.Y-e.Y)},ie.ClipperBase.prototype.PointOnPolygon=function(t,e,n){for(var o=e;;){if(this.PointOnLineSegment(t,o.Pt,o.Next.Pt,n))return!0;if(o=o.Next,o==e)break}return!1},ie.ClipperBase.prototype.SlopesEqual=ie.ClipperBase.SlopesEqual=function(){var t,e,n,o,i,r,a,s=arguments,u=s.length;return 3==u?(t=s[0],e=s[1],a=s[2],a?be.op_Equality(be.Int128Mul(t.Delta.Y,e.Delta.X),be.Int128Mul(t.Delta.X,e.Delta.Y)):ie.Cast_Int64(t.Delta.Y*e.Delta.X)==ie.Cast_Int64(t.Delta.X*e.Delta.Y)):4==u?(n=s[0],o=s[1],i=s[2],a=s[3],a?be.op_Equality(be.Int128Mul(n.Y-o.Y,o.X-i.X),be.Int128Mul(n.X-o.X,o.Y-i.Y)):ie.Cast_Int64((n.Y-o.Y)*(o.X-i.X))-ie.Cast_Int64((n.X-o.X)*(o.Y-i.Y))===0):(n=s[0],o=s[1],i=s[2],r=s[3],a=s[4],a?be.op_Equality(be.Int128Mul(n.Y-o.Y,i.X-r.X),be.Int128Mul(n.X-o.X,i.Y-r.Y)):ie.Cast_Int64((n.Y-o.Y)*(i.X-r.X))-ie.Cast_Int64((n.X-o.X)*(i.Y-r.Y))===0)},ie.ClipperBase.SlopesEqual3=function(t,e,n){return n?be.op_Equality(be.Int128Mul(t.Delta.Y,e.Delta.X),be.Int128Mul(t.Delta.X,e.Delta.Y)):ie.Cast_Int64(t.Delta.Y*e.Delta.X)==ie.Cast_Int64(t.Delta.X*e.Delta.Y)},ie.ClipperBase.SlopesEqual4=function(t,e,n,o){return o?be.op_Equality(be.Int128Mul(t.Y-e.Y,e.X-n.X),be.Int128Mul(t.X-e.X,e.Y-n.Y)):ie.Cast_Int64((t.Y-e.Y)*(e.X-n.X))-ie.Cast_Int64((t.X-e.X)*(e.Y-n.Y))===0},ie.ClipperBase.SlopesEqual5=function(t,e,n,o,i){return i?be.op_Equality(be.Int128Mul(t.Y-e.Y,n.X-o.X),be.Int128Mul(t.X-e.X,n.Y-o.Y)):ie.Cast_Int64((t.Y-e.Y)*(n.X-o.X))-ie.Cast_Int64((t.X-e.X)*(n.Y-o.Y))===0},ie.ClipperBase.prototype.Clear=function(){this.DisposeLocalMinimaList();for(var t=0,e=this.m_edges.length;t<e;++t){for(var n=0,o=this.m_edges[t].length;n<o;++n)this.m_edges[t][n]=null;ie.Clear(this.m_edges[t])}ie.Clear(this.m_edges),this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},ie.ClipperBase.prototype.DisposeLocalMinimaList=function(){for(;null!==this.m_MinimaList;){var t=this.m_MinimaList.Next;this.m_MinimaList=null,this.m_MinimaList=t}this.m_CurrentLM=null},ie.ClipperBase.prototype.RangeTest=function(t,e){e.Value?(t.X>ie.ClipperBase.hiRange||t.Y>ie.ClipperBase.hiRange||-t.X>ie.ClipperBase.hiRange||-t.Y>ie.ClipperBase.hiRange)&&ie.Error("Coordinate outside allowed range in RangeTest()."):(t.X>ie.ClipperBase.loRange||t.Y>ie.ClipperBase.loRange||-t.X>ie.ClipperBase.loRange||-t.Y>ie.ClipperBase.loRange)&&(e.Value=!0,this.RangeTest(t,e))},ie.ClipperBase.prototype.InitEdge=function(t,e,n,o){t.Next=e,t.Prev=n,t.Curr.X=o.X,t.Curr.Y=o.Y,t.OutIdx=-1},ie.ClipperBase.prototype.InitEdge2=function(t,e){t.Curr.Y>=t.Next.Curr.Y?(t.Bot.X=t.Curr.X,t.Bot.Y=t.Curr.Y,t.Top.X=t.Next.Curr.X,t.Top.Y=t.Next.Curr.Y):(t.Top.X=t.Curr.X,t.Top.Y=t.Curr.Y,t.Bot.X=t.Next.Curr.X,t.Bot.Y=t.Next.Curr.Y),this.SetDx(t),t.PolyTyp=e},ie.ClipperBase.prototype.FindNextLocMin=function(t){for(var e;;){for(;ie.IntPoint.op_Inequality(t.Bot,t.Prev.Bot)||ie.IntPoint.op_Equality(t.Curr,t.Top);)t=t.Next;if(t.Dx!=ie.ClipperBase.horizontal&&t.Prev.Dx!=ie.ClipperBase.horizontal)break;for(;t.Prev.Dx==ie.ClipperBase.horizontal;)t=t.Prev;for(e=t;t.Dx==ie.ClipperBase.horizontal;)t=t.Next;if(t.Top.Y!=t.Prev.Bot.Y){e.Prev.Bot.X<t.Bot.X&&(t=e);break}}return t},ie.ClipperBase.prototype.ProcessBound=function(t,e){var n,o,i=t,r=t;if(t.Dx==ie.ClipperBase.horizontal&&(o=e?t.Prev.Bot.X:t.Next.Bot.X,t.Bot.X!=o&&this.ReverseHorizontal(t)),r.OutIdx!=ie.ClipperBase.Skip)if(e){for(;r.Top.Y==r.Next.Bot.Y&&r.Next.OutIdx!=ie.ClipperBase.Skip;)r=r.Next;if(r.Dx==ie.ClipperBase.horizontal&&r.Next.OutIdx!=ie.ClipperBase.Skip){for(n=r;n.Prev.Dx==ie.ClipperBase.horizontal;)n=n.Prev;n.Prev.Top.X==r.Next.Top.X?e||(r=n.Prev):n.Prev.Top.X>r.Next.Top.X&&(r=n.Prev)}for(;t!=r;)t.NextInLML=t.Next,t.Dx==ie.ClipperBase.horizontal&&t!=i&&t.Bot.X!=t.Prev.Top.X&&this.ReverseHorizontal(t),t=t.Next;t.Dx==ie.ClipperBase.horizontal&&t!=i&&t.Bot.X!=t.Prev.Top.X&&this.ReverseHorizontal(t),r=r.Next}else{for(;r.Top.Y==r.Prev.Bot.Y&&r.Prev.OutIdx!=ie.ClipperBase.Skip;)r=r.Prev;if(r.Dx==ie.ClipperBase.horizontal&&r.Prev.OutIdx!=ie.ClipperBase.Skip){for(n=r;n.Next.Dx==ie.ClipperBase.horizontal;)n=n.Next;n.Next.Top.X==r.Prev.Top.X?e||(r=n.Next):n.Next.Top.X>r.Prev.Top.X&&(r=n.Next)}for(;t!=r;)t.NextInLML=t.Prev,t.Dx==ie.ClipperBase.horizontal&&t!=i&&t.Bot.X!=t.Next.Top.X&&this.ReverseHorizontal(t),t=t.Prev;t.Dx==ie.ClipperBase.horizontal&&t!=i&&t.Bot.X!=t.Next.Top.X&&this.ReverseHorizontal(t),r=r.Prev}if(r.OutIdx==ie.ClipperBase.Skip){if(t=r,e){for(;t.Top.Y==t.Next.Bot.Y;)t=t.Next;for(;t!=r&&t.Dx==ie.ClipperBase.horizontal;)t=t.Prev}else{for(;t.Top.Y==t.Prev.Bot.Y;)t=t.Prev;for(;t!=r&&t.Dx==ie.ClipperBase.horizontal;)t=t.Next}if(t==r)r=e?t.Next:t.Prev;else{t=e?r.Next:r.Prev;var a=new ie.LocalMinima;a.Next=null,a.Y=t.Bot.Y,a.LeftBound=null,a.RightBound=t,a.RightBound.WindDelta=0,r=this.ProcessBound(a.RightBound,e),this.InsertLocalMinima(a)}}return r},ie.ClipperBase.prototype.AddPath=function(t,e,n){ne?n||e!=ie.PolyType.ptClip||ie.Error("AddPath: Open paths must be subject."):n||ie.Error("AddPath: Open paths have been disabled.");var o=t.length-1;if(n)for(;o>0&&ie.IntPoint.op_Equality(t[o],t[0]);)--o;for(;o>0&&ie.IntPoint.op_Equality(t[o],t[o-1]);)--o;if(n&&o<2||!n&&o<1)return!1;for(var i=new Array,r=0;r<=o;r++)i.push(new ie.TEdge);var a=!0;i[1].Curr.X=t[1].X,i[1].Curr.Y=t[1].Y;var s={Value:this.m_UseFullRange};this.RangeTest(t[0],s),this.m_UseFullRange=s.Value,s.Value=this.m_UseFullRange,this.RangeTest(t[o],s),this.m_UseFullRange=s.Value,this.InitEdge(i[0],i[1],i[o],t[0]),this.InitEdge(i[o],i[0],i[o-1],t[o]);for(var r=o-1;r>=1;--r)s.Value=this.m_UseFullRange,this.RangeTest(t[r],s),this.m_UseFullRange=s.Value,this.InitEdge(i[r],i[r+1],i[r-1],t[r]);for(var u=i[0],h=u,p=u;;)if(ie.IntPoint.op_Equality(h.Curr,h.Next.Curr)){if(h==h.Next)break;h==u&&(u=h.Next),h=this.RemoveEdge(h),p=h}else{if(h.Prev==h.Next)break;if(!n||!ie.ClipperBase.SlopesEqual(h.Prev.Curr,h.Curr,h.Next.Curr,this.m_UseFullRange)||this.PreserveCollinear&&this.Pt2IsBetweenPt1AndPt3(h.Prev.Curr,h.Curr,h.Next.Curr)){if(h=h.Next,h==p)break}else h==u&&(u=h.Next),h=this.RemoveEdge(h),h=h.Prev,p=h}if(!n&&h==h.Next||n&&h.Prev==h.Next)return!1;n||(this.m_HasOpenPaths=!0,u.Prev.OutIdx=ie.ClipperBase.Skip);h=u;do this.InitEdge2(h,e),h=h.Next,a&&h.Curr.Y!=u.Curr.Y&&(a=!1);while(h!=u);if(a){if(n)return!1;h.Prev.OutIdx=ie.ClipperBase.Skip,h.Prev.Bot.X<h.Prev.Top.X&&this.ReverseHorizontal(h.Prev);var l=new ie.LocalMinima;for(l.Next=null,l.Y=h.Bot.Y,l.LeftBound=null,l.RightBound=h,l.RightBound.Side=ie.EdgeSide.esRight,l.RightBound.WindDelta=0;h.Next.OutIdx!=ie.ClipperBase.Skip;)h.NextInLML=h.Next,h.Bot.X!=h.Prev.Top.X&&this.ReverseHorizontal(h),h=h.Next;return this.InsertLocalMinima(l),this.m_edges.push(i),!0}this.m_edges.push(i);for(var c,f=null;h=this.FindNextLocMin(h),h!=f;){null==f&&(f=h);var l=new ie.LocalMinima;l.Next=null,l.Y=h.Bot.Y,h.Dx<h.Prev.Dx?(l.LeftBound=h.Prev,l.RightBound=h,c=!1):(l.LeftBound=h,l.RightBound=h.Prev,c=!0),l.LeftBound.Side=ie.EdgeSide.esLeft,l.RightBound.Side=ie.EdgeSide.esRight,n?l.LeftBound.Next==l.RightBound?l.LeftBound.WindDelta=-1:l.LeftBound.WindDelta=1:l.LeftBound.WindDelta=0,l.RightBound.WindDelta=-l.LeftBound.WindDelta,h=this.ProcessBound(l.LeftBound,c);var d=this.ProcessBound(l.RightBound,!c);l.LeftBound.OutIdx==ie.ClipperBase.Skip?l.LeftBound=null:l.RightBound.OutIdx==ie.ClipperBase.Skip&&(l.RightBound=null),this.InsertLocalMinima(l),c||(h=d)}return!0},ie.ClipperBase.prototype.AddPaths=function(t,e,n){for(var o=!1,i=0,r=t.length;i<r;++i)this.AddPath(t[i],e,n)&&(o=!0);return o},ie.ClipperBase.prototype.Pt2IsBetweenPt1AndPt3=function(t,e,n){return!(ie.IntPoint.op_Equality(t,n)||ie.IntPoint.op_Equality(t,e)||ie.IntPoint.op_Equality(n,e))&&(t.X!=n.X?e.X>t.X==e.X<n.X:e.Y>t.Y==e.Y<n.Y)},ie.ClipperBase.prototype.RemoveEdge=function(t){t.Prev.Next=t.Next,t.Next.Prev=t.Prev;var e=t.Next;return t.Prev=null,e},ie.ClipperBase.prototype.SetDx=function(t){t.Delta.X=t.Top.X-t.Bot.X,t.Delta.Y=t.Top.Y-t.Bot.Y,0===t.Delta.Y?t.Dx=ie.ClipperBase.horizontal:t.Dx=t.Delta.X/t.Delta.Y},ie.ClipperBase.prototype.InsertLocalMinima=function(t){if(null===this.m_MinimaList)this.m_MinimaList=t;else if(t.Y>=this.m_MinimaList.Y)t.Next=this.m_MinimaList,this.m_MinimaList=t;else{for(var e=this.m_MinimaList;null!==e.Next&&t.Y<e.Next.Y;)e=e.Next;t.Next=e.Next,e.Next=t}},ie.ClipperBase.prototype.PopLocalMinima=function(){null!==this.m_CurrentLM&&(this.m_CurrentLM=this.m_CurrentLM.Next)},ie.ClipperBase.prototype.ReverseHorizontal=function(t){var e=t.Top.X;t.Top.X=t.Bot.X,t.Bot.X=e,ee&&(e=t.Top.Z,t.Top.Z=t.Bot.Z,t.Bot.Z=e)},ie.ClipperBase.prototype.Reset=function(){if(this.m_CurrentLM=this.m_MinimaList,null!=this.m_CurrentLM)for(var t=this.m_MinimaList;null!=t;){var e=t.LeftBound;null!=e&&(e.Curr.X=e.Bot.X,e.Curr.Y=e.Bot.Y,e.Side=ie.EdgeSide.esLeft,e.OutIdx=ie.ClipperBase.Unassigned),e=t.RightBound,null!=e&&(e.Curr.X=e.Bot.X,e.Curr.Y=e.Bot.Y,e.Side=ie.EdgeSide.esRight,e.OutIdx=ie.ClipperBase.Unassigned),t=t.Next}},ie.Clipper=function(t){"undefined"==typeof t&&(t=0),this.m_PolyOuts=null,this.m_ClipType=ie.ClipType.ctIntersection,this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=null,this.m_IntersectNodeComparer=null,this.m_ExecuteLocked=!1,this.m_ClipFillType=ie.PolyFillType.pftEvenOdd,this.m_SubjFillType=ie.PolyFillType.pftEvenOdd,this.m_Joins=null,this.m_GhostJoins=null,this.m_UsingPolyTree=!1,this.ReverseSolution=!1,this.StrictlySimple=!1,ie.ClipperBase.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=new Array,this.m_IntersectNodeComparer=ie.MyIntersectNodeSort.Compare,this.m_ExecuteLocked=!1,this.m_UsingPolyTree=!1,this.m_PolyOuts=new Array,this.m_Joins=new Array,this.m_GhostJoins=new Array,this.ReverseSolution=0!==(1&t),this.StrictlySimple=0!==(2&t),this.PreserveCollinear=0!==(4&t),ee&&(this.ZFillFunction=null)},ie.Clipper.ioReverseSolution=1,ie.Clipper.ioStrictlySimple=2,ie.Clipper.ioPreserveCollinear=4,ie.Clipper.prototype.Clear=function(){0!==this.m_edges.length&&(this.DisposeAllPolyPts(),ie.ClipperBase.prototype.Clear.call(this))},ie.Clipper.prototype.DisposeScanbeamList=function(){for(;null!==this.m_Scanbeam;){var t=this.m_Scanbeam.Next;this.m_Scanbeam=null,this.m_Scanbeam=t}},ie.Clipper.prototype.Reset=function(){ie.ClipperBase.prototype.Reset.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null;for(var t=this.m_MinimaList;null!==t;)this.InsertScanbeam(t.Y),t=t.Next},ie.Clipper.prototype.InsertScanbeam=function(t){if(null===this.m_Scanbeam)this.m_Scanbeam=new ie.Scanbeam,this.m_Scanbeam.Next=null,this.m_Scanbeam.Y=t;else if(t>this.m_Scanbeam.Y){var e=new ie.Scanbeam;e.Y=t,e.Next=this.m_Scanbeam,this.m_Scanbeam=e}else{for(var n=this.m_Scanbeam;null!==n.Next&&t<=n.Next.Y;)n=n.Next;if(t==n.Y)return;var e=new ie.Scanbeam;e.Y=t,e.Next=n.Next,n.Next=e}},ie.Clipper.prototype.Execute=function(){var t=arguments,e=t.length,n=t[1]instanceof ie.PolyTree;if(4==e&&!n){var o=t[0],i=t[1],r=t[2],a=t[3];if(this.m_ExecuteLocked)return!1;this.m_HasOpenPaths&&ie.Error("Error: PolyTree struct is need for open path clipping."),this.m_ExecuteLocked=!0,ie.Clear(i),this.m_SubjFillType=r,this.m_ClipFillType=a,this.m_ClipType=o,this.m_UsingPolyTree=!1;try{var s=this.ExecuteInternal();s&&this.BuildResult(i)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return s}if(4==e&&n){var o=t[0],u=t[1],r=t[2],a=t[3];if(this.m_ExecuteLocked)return!1;this.m_ExecuteLocked=!0,this.m_SubjFillType=r,this.m_ClipFillType=a,this.m_ClipType=o,this.m_UsingPolyTree=!0;try{var s=this.ExecuteInternal();s&&this.BuildResult2(u)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return s}if(2==e&&!n){var o=t[0],i=t[1];return this.Execute(o,i,ie.PolyFillType.pftEvenOdd,ie.PolyFillType.pftEvenOdd)}if(2==e&&n){var o=t[0],u=t[1];return this.Execute(o,u,ie.PolyFillType.pftEvenOdd,ie.PolyFillType.pftEvenOdd)}},ie.Clipper.prototype.FixHoleLinkage=function(t){if(null!==t.FirstLeft&&(t.IsHole==t.FirstLeft.IsHole||null===t.FirstLeft.Pts)){for(var e=t.FirstLeft;null!==e&&(e.IsHole==t.IsHole||null===e.Pts);)e=e.FirstLeft;t.FirstLeft=e}},ie.Clipper.prototype.ExecuteInternal=function(){try{if(this.Reset(),null===this.m_CurrentLM)return!1;var t=this.PopScanbeam();do{if(this.InsertLocalMinimaIntoAEL(t),ie.Clear(this.m_GhostJoins),this.ProcessHorizontals(!1),null===this.m_Scanbeam)break;var e=this.PopScanbeam();if(!this.ProcessIntersections(t,e))return!1;this.ProcessEdgesAtTopOfScanbeam(e),t=e}while(null!==this.m_Scanbeam||null!==this.m_CurrentLM);for(var n=0,o=this.m_PolyOuts.length;n<o;n++){var i=this.m_PolyOuts[n];null===i.Pts||i.IsOpen||(i.IsHole^this.ReverseSolution)==this.Area(i)>0&&this.ReversePolyPtLinks(i.Pts)}this.JoinCommonEdges();for(var n=0,o=this.m_PolyOuts.length;n<o;n++){var i=this.m_PolyOuts[n];null===i.Pts||i.IsOpen||this.FixupOutPolygon(i)}return this.StrictlySimple&&this.DoSimplePolygons(),!0}finally{ie.Clear(this.m_Joins),ie.Clear(this.m_GhostJoins)}},ie.Clipper.prototype.PopScanbeam=function(){var t=this.m_Scanbeam.Y,e=this.m_Scanbeam;return this.m_Scanbeam=this.m_Scanbeam.Next,e=null,t},ie.Clipper.prototype.DisposeAllPolyPts=function(){for(var t=0,e=this.m_PolyOuts.length;t<e;++t)this.DisposeOutRec(t);ie.Clear(this.m_PolyOuts)},ie.Clipper.prototype.DisposeOutRec=function(t){var e=this.m_PolyOuts[t];null!==e.Pts&&this.DisposeOutPts(e.Pts),e=null,this.m_PolyOuts[t]=null},ie.Clipper.prototype.DisposeOutPts=function(t){if(null!==t){var e=null;for(t.Prev.Next=null;null!==t;)e=t,t=t.Next,e=null}},ie.Clipper.prototype.AddJoin=function(t,e,n){var o=new ie.Join;o.OutPt1=t,o.OutPt2=e,o.OffPt.X=n.X,o.OffPt.Y=n.Y,this.m_Joins.push(o)},ie.Clipper.prototype.AddGhostJoin=function(t,e){var n=new ie.Join;n.OutPt1=t,n.OffPt.X=e.X,n.OffPt.Y=e.Y,this.m_GhostJoins.push(n)},ee&&(ie.Clipper.prototype.SetZ=function(t,e){t.Z=0,null!==this.ZFillFunction&&(e.OutIdx<0?this.ZFillFunction(e.Bot,e.Top,t):this.ZFillFunction(e.Top,e.Bot,t))}),ie.Clipper.prototype.InsertLocalMinimaIntoAEL=function(t){for(;null!==this.m_CurrentLM&&this.m_CurrentLM.Y==t;){var e=this.m_CurrentLM.LeftBound,n=this.m_CurrentLM.RightBound;this.PopLocalMinima();var o=null;if(null===e?(this.InsertEdgeIntoAEL(n,null),this.SetWindingCount(n),this.IsContributing(n)&&(o=this.AddOutPt(n,n.Bot))):null==n?(this.InsertEdgeIntoAEL(e,null),this.SetWindingCount(e),this.IsContributing(e)&&(o=this.AddOutPt(e,e.Bot)),this.InsertScanbeam(e.Top.Y)):(this.InsertEdgeIntoAEL(e,null),this.InsertEdgeIntoAEL(n,e),this.SetWindingCount(e),n.WindCnt=e.WindCnt,n.WindCnt2=e.WindCnt2,this.IsContributing(e)&&(o=this.AddLocalMinPoly(e,n,e.Bot)),this.InsertScanbeam(e.Top.Y)),null!=n&&(ie.ClipperBase.IsHorizontal(n)?this.AddEdgeToSEL(n):this.InsertScanbeam(n.Top.Y)),null!=e&&null!=n){if(null!==o&&ie.ClipperBase.IsHorizontal(n)&&this.m_GhostJoins.length>0&&0!==n.WindDelta)for(var i=0,r=this.m_GhostJoins.length;i<r;i++){var a=this.m_GhostJoins[i];this.HorzSegmentsOverlap(a.OutPt1.Pt,a.OffPt,n.Bot,n.Top)&&this.AddJoin(a.OutPt1,o,a.OffPt)}if(e.OutIdx>=0&&null!==e.PrevInAEL&&e.PrevInAEL.Curr.X==e.Bot.X&&e.PrevInAEL.OutIdx>=0&&ie.ClipperBase.SlopesEqual(e.PrevInAEL,e,this.m_UseFullRange)&&0!==e.WindDelta&&0!==e.PrevInAEL.WindDelta){var s=this.AddOutPt(e.PrevInAEL,e.Bot);this.AddJoin(o,s,e.Top)}if(e.NextInAEL!=n){if(n.OutIdx>=0&&n.PrevInAEL.OutIdx>=0&&ie.ClipperBase.SlopesEqual(n.PrevInAEL,n,this.m_UseFullRange)&&0!==n.WindDelta&&0!==n.PrevInAEL.WindDelta){var s=this.AddOutPt(n.PrevInAEL,n.Bot);this.AddJoin(o,s,n.Top)}var u=e.NextInAEL;if(null!==u)for(;u!=n;)this.IntersectEdges(n,u,e.Curr,!1),u=u.NextInAEL}}}},ie.Clipper.prototype.InsertEdgeIntoAEL=function(t,e){if(null===this.m_ActiveEdges)t.PrevInAEL=null,t.NextInAEL=null,this.m_ActiveEdges=t;else if(null===e&&this.E2InsertsBeforeE1(this.m_ActiveEdges,t))t.PrevInAEL=null,t.NextInAEL=this.m_ActiveEdges,this.m_ActiveEdges.PrevInAEL=t,this.m_ActiveEdges=t;else{for(null===e&&(e=this.m_ActiveEdges);null!==e.NextInAEL&&!this.E2InsertsBeforeE1(e.NextInAEL,t);)e=e.NextInAEL;t.NextInAEL=e.NextInAEL,null!==e.NextInAEL&&(e.NextInAEL.PrevInAEL=t),t.PrevInAEL=e,e.NextInAEL=t}},ie.Clipper.prototype.E2InsertsBeforeE1=function(t,e){return e.Curr.X==t.Curr.X?e.Top.Y>t.Top.Y?e.Top.X<ie.Clipper.TopX(t,e.Top.Y):t.Top.X>ie.Clipper.TopX(e,t.Top.Y):e.Curr.X<t.Curr.X},ie.Clipper.prototype.IsEvenOddFillType=function(t){return t.PolyTyp==ie.PolyType.ptSubject?this.m_SubjFillType==ie.PolyFillType.pftEvenOdd:this.m_ClipFillType==ie.PolyFillType.pftEvenOdd},ie.Clipper.prototype.IsEvenOddAltFillType=function(t){return t.PolyTyp==ie.PolyType.ptSubject?this.m_ClipFillType==ie.PolyFillType.pftEvenOdd:this.m_SubjFillType==ie.PolyFillType.pftEvenOdd},ie.Clipper.prototype.IsContributing=function(t){var e,n;switch(t.PolyTyp==ie.PolyType.ptSubject?(e=this.m_SubjFillType,n=this.m_ClipFillType):(e=this.m_ClipFillType,n=this.m_SubjFillType),e){case ie.PolyFillType.pftEvenOdd:if(0===t.WindDelta&&1!=t.WindCnt)return!1;break;case ie.PolyFillType.pftNonZero:if(1!=Math.abs(t.WindCnt))return!1;break;case ie.PolyFillType.pftPositive:if(1!=t.WindCnt)return!1;break;default:if(t.WindCnt!=-1)return!1}switch(this.m_ClipType){case ie.ClipType.ctIntersection:switch(n){case ie.PolyFillType.pftEvenOdd:case ie.PolyFillType.pftNonZero:return 0!==t.WindCnt2;case ie.PolyFillType.pftPositive:return t.WindCnt2>0;default:return t.WindCnt2<0}case ie.ClipType.ctUnion:switch(n){case ie.PolyFillType.pftEvenOdd:case ie.PolyFillType.pftNonZero:return 0===t.WindCnt2;case ie.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}case ie.ClipType.ctDifference:if(t.PolyTyp==ie.PolyType.ptSubject)switch(n){case ie.PolyFillType.pftEvenOdd:case ie.PolyFillType.pftNonZero:return 0===t.WindCnt2;case ie.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}else switch(n){case ie.PolyFillType.pftEvenOdd:case ie.PolyFillType.pftNonZero:return 0!==t.WindCnt2;case ie.PolyFillType.pftPositive:return t.WindCnt2>0;default:return t.WindCnt2<0}case ie.ClipType.ctXor:if(0!==t.WindDelta)return!0;switch(n){case ie.PolyFillType.pftEvenOdd:case ie.PolyFillType.pftNonZero:return 0===t.WindCnt2;case ie.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}}return!0},ie.Clipper.prototype.SetWindingCount=function(t){for(var e=t.PrevInAEL;null!==e&&(e.PolyTyp!=t.PolyTyp||0===e.WindDelta);)e=e.PrevInAEL;if(null===e)t.WindCnt=0===t.WindDelta?1:t.WindDelta,t.WindCnt2=0,e=this.m_ActiveEdges;else if(0===t.WindDelta&&this.m_ClipType!=ie.ClipType.ctUnion)t.WindCnt=1,t.WindCnt2=e.WindCnt2,e=e.NextInAEL;else if(this.IsEvenOddFillType(t)){if(0===t.WindDelta){for(var n=!0,o=e.PrevInAEL;null!==o;)o.PolyTyp==e.PolyTyp&&0!==o.WindDelta&&(n=!n),o=o.PrevInAEL;t.WindCnt=n?0:1}else t.WindCnt=t.WindDelta;t.WindCnt2=e.WindCnt2,e=e.NextInAEL}else e.WindCnt*e.WindDelta<0?Math.abs(e.WindCnt)>1?e.WindDelta*t.WindDelta<0?t.WindCnt=e.WindCnt:t.WindCnt=e.WindCnt+t.WindDelta:t.WindCnt=0===t.WindDelta?1:t.WindDelta:0===t.WindDelta?t.WindCnt=e.WindCnt<0?e.WindCnt-1:e.WindCnt+1:e.WindDelta*t.WindDelta<0?t.WindCnt=e.WindCnt:t.WindCnt=e.WindCnt+t.WindDelta,t.WindCnt2=e.WindCnt2,e=e.NextInAEL;if(this.IsEvenOddAltFillType(t))for(;e!=t;)0!==e.WindDelta&&(t.WindCnt2=0===t.WindCnt2?1:0),e=e.NextInAEL;else for(;e!=t;)t.WindCnt2+=e.WindDelta,e=e.NextInAEL},ie.Clipper.prototype.AddEdgeToSEL=function(t){null===this.m_SortedEdges?(this.m_SortedEdges=t,t.PrevInSEL=null,t.NextInSEL=null):(t.NextInSEL=this.m_SortedEdges,t.PrevInSEL=null,this.m_SortedEdges.PrevInSEL=t,this.m_SortedEdges=t)},ie.Clipper.prototype.CopyAELToSEL=function(){var t=this.m_ActiveEdges;for(this.m_SortedEdges=t;null!==t;)t.PrevInSEL=t.PrevInAEL,t.NextInSEL=t.NextInAEL,t=t.NextInAEL},ie.Clipper.prototype.SwapPositionsInAEL=function(t,e){if(t.NextInAEL!=t.PrevInAEL&&e.NextInAEL!=e.PrevInAEL){if(t.NextInAEL==e){var n=e.NextInAEL;null!==n&&(n.PrevInAEL=t);var o=t.PrevInAEL;null!==o&&(o.NextInAEL=e),e.PrevInAEL=o,e.NextInAEL=t,t.PrevInAEL=e,t.NextInAEL=n}else if(e.NextInAEL==t){var n=t.NextInAEL;null!==n&&(n.PrevInAEL=e);var o=e.PrevInAEL;null!==o&&(o.NextInAEL=t),t.PrevInAEL=o,t.NextInAEL=e,e.PrevInAEL=t,e.NextInAEL=n}else{var n=t.NextInAEL,o=t.PrevInAEL;t.NextInAEL=e.NextInAEL,null!==t.NextInAEL&&(t.NextInAEL.PrevInAEL=t),t.PrevInAEL=e.PrevInAEL,null!==t.PrevInAEL&&(t.PrevInAEL.NextInAEL=t),e.NextInAEL=n,null!==e.NextInAEL&&(e.NextInAEL.PrevInAEL=e),e.PrevInAEL=o,null!==e.PrevInAEL&&(e.PrevInAEL.NextInAEL=e)}null===t.PrevInAEL?this.m_ActiveEdges=t:null===e.PrevInAEL&&(this.m_ActiveEdges=e)}},ie.Clipper.prototype.SwapPositionsInSEL=function(t,e){if(!(null===t.NextInSEL&&null===t.PrevInSEL||null===e.NextInSEL&&null===e.PrevInSEL)){if(t.NextInSEL==e){var n=e.NextInSEL;null!==n&&(n.PrevInSEL=t);var o=t.PrevInSEL;null!==o&&(o.NextInSEL=e),e.PrevInSEL=o,e.NextInSEL=t,t.PrevInSEL=e,t.NextInSEL=n}else if(e.NextInSEL==t){var n=t.NextInSEL;null!==n&&(n.PrevInSEL=e);var o=e.PrevInSEL;null!==o&&(o.NextInSEL=t),t.PrevInSEL=o,t.NextInSEL=e,e.PrevInSEL=t,e.NextInSEL=n}else{var n=t.NextInSEL,o=t.PrevInSEL;t.NextInSEL=e.NextInSEL,null!==t.NextInSEL&&(t.NextInSEL.PrevInSEL=t),t.PrevInSEL=e.PrevInSEL,null!==t.PrevInSEL&&(t.PrevInSEL.NextInSEL=t),e.NextInSEL=n,null!==e.NextInSEL&&(e.NextInSEL.PrevInSEL=e),e.PrevInSEL=o,null!==e.PrevInSEL&&(e.PrevInSEL.NextInSEL=e)}null===t.PrevInSEL?this.m_SortedEdges=t:null===e.PrevInSEL&&(this.m_SortedEdges=e)}},ie.Clipper.prototype.AddLocalMaxPoly=function(t,e,n){this.AddOutPt(t,n),0==e.WindDelta&&this.AddOutPt(e,n),t.OutIdx==e.OutIdx?(t.OutIdx=-1,e.OutIdx=-1):t.OutIdx<e.OutIdx?this.AppendPolygon(t,e):this.AppendPolygon(e,t)},ie.Clipper.prototype.AddLocalMinPoly=function(t,e,n){var o,i,r;if(ie.ClipperBase.IsHorizontal(e)||t.Dx>e.Dx?(o=this.AddOutPt(t,n),e.OutIdx=t.OutIdx,t.Side=ie.EdgeSide.esLeft,e.Side=ie.EdgeSide.esRight,i=t,r=i.PrevInAEL==e?e.PrevInAEL:i.PrevInAEL):(o=this.AddOutPt(e,n),t.OutIdx=e.OutIdx,t.Side=ie.EdgeSide.esRight,e.Side=ie.EdgeSide.esLeft,i=e,r=i.PrevInAEL==t?t.PrevInAEL:i.PrevInAEL),null!==r&&r.OutIdx>=0&&ie.Clipper.TopX(r,n.Y)==ie.Clipper.TopX(i,n.Y)&&ie.ClipperBase.SlopesEqual(i,r,this.m_UseFullRange)&&0!==i.WindDelta&&0!==r.WindDelta){var a=this.AddOutPt(r,n);this.AddJoin(o,a,i.Top)}return o},ie.Clipper.prototype.CreateOutRec=function(){var t=new ie.OutRec;return t.Idx=-1,t.IsHole=!1,t.IsOpen=!1,t.FirstLeft=null,t.Pts=null,t.BottomPt=null,t.PolyNode=null,this.m_PolyOuts.push(t),t.Idx=this.m_PolyOuts.length-1,t},ie.Clipper.prototype.AddOutPt=function(t,e){var n=t.Side==ie.EdgeSide.esLeft;if(t.OutIdx<0){var o=this.CreateOutRec();o.IsOpen=0===t.WindDelta;var i=new ie.OutPt;return o.Pts=i,i.Idx=o.Idx,i.Pt.X=e.X,i.Pt.Y=e.Y,i.Next=i,i.Prev=i,o.IsOpen||this.SetHoleState(t,o),ee&&(ie.IntPoint.op_Equality(e,t.Bot)?(i.Pt.X=t.Bot.X,i.Pt.Y=t.Bot.Y,i.Pt.Z=t.Bot.Z):ie.IntPoint.op_Equality(e,t.Top)?(i.Pt.X=t.Top.X,
i.Pt.Y=t.Top.Y,i.Pt.Z=t.Top.Z):this.SetZ(i.Pt,t)),t.OutIdx=o.Idx,i}var o=this.m_PolyOuts[t.OutIdx],r=o.Pts;if(n&&ie.IntPoint.op_Equality(e,r.Pt))return r;if(!n&&ie.IntPoint.op_Equality(e,r.Prev.Pt))return r.Prev;var i=new ie.OutPt;return i.Idx=o.Idx,i.Pt.X=e.X,i.Pt.Y=e.Y,i.Next=r,i.Prev=r.Prev,i.Prev.Next=i,r.Prev=i,n&&(o.Pts=i),ee&&(ie.IntPoint.op_Equality(e,t.Bot)?(i.Pt.X=t.Bot.X,i.Pt.Y=t.Bot.Y,i.Pt.Z=t.Bot.Z):ie.IntPoint.op_Equality(e,t.Top)?(i.Pt.X=t.Top.X,i.Pt.Y=t.Top.Y,i.Pt.Z=t.Top.Z):this.SetZ(i.Pt,t)),i},ie.Clipper.prototype.SwapPoints=function(t,e){var n=new ie.IntPoint(t.Value);t.Value.X=e.Value.X,t.Value.Y=e.Value.Y,e.Value.X=n.X,e.Value.Y=n.Y},ie.Clipper.prototype.HorzSegmentsOverlap=function(t,e,n,o){return t.X>n.X==t.X<o.X||(e.X>n.X==e.X<o.X||(n.X>t.X==n.X<e.X||(o.X>t.X==o.X<e.X||(t.X==n.X&&e.X==o.X||t.X==o.X&&e.X==n.X))))},ie.Clipper.prototype.InsertPolyPtBetween=function(t,e,n){var o=new ie.OutPt;return o.Pt.X=n.X,o.Pt.Y=n.Y,e==t.Next?(t.Next=o,e.Prev=o,o.Next=e,o.Prev=t):(e.Next=o,t.Prev=o,o.Next=t,o.Prev=e),o},ie.Clipper.prototype.SetHoleState=function(t,e){for(var n=!1,o=t.PrevInAEL;null!==o;)o.OutIdx>=0&&0!=o.WindDelta&&(n=!n,null===e.FirstLeft&&(e.FirstLeft=this.m_PolyOuts[o.OutIdx])),o=o.PrevInAEL;n&&(e.IsHole=!0)},ie.Clipper.prototype.GetDx=function(t,e){return t.Y==e.Y?ie.ClipperBase.horizontal:(e.X-t.X)/(e.Y-t.Y)},ie.Clipper.prototype.FirstIsBottomPt=function(t,e){for(var n=t.Prev;ie.IntPoint.op_Equality(n.Pt,t.Pt)&&n!=t;)n=n.Prev;var o=Math.abs(this.GetDx(t.Pt,n.Pt));for(n=t.Next;ie.IntPoint.op_Equality(n.Pt,t.Pt)&&n!=t;)n=n.Next;var i=Math.abs(this.GetDx(t.Pt,n.Pt));for(n=e.Prev;ie.IntPoint.op_Equality(n.Pt,e.Pt)&&n!=e;)n=n.Prev;var r=Math.abs(this.GetDx(e.Pt,n.Pt));for(n=e.Next;ie.IntPoint.op_Equality(n.Pt,e.Pt)&&n!=e;)n=n.Next;var a=Math.abs(this.GetDx(e.Pt,n.Pt));return o>=r&&o>=a||i>=r&&i>=a},ie.Clipper.prototype.GetBottomPt=function(t){for(var e=null,n=t.Next;n!=t;)n.Pt.Y>t.Pt.Y?(t=n,e=null):n.Pt.Y==t.Pt.Y&&n.Pt.X<=t.Pt.X&&(n.Pt.X<t.Pt.X?(e=null,t=n):n.Next!=t&&n.Prev!=t&&(e=n)),n=n.Next;if(null!==e)for(;e!=n;)for(this.FirstIsBottomPt(n,e)||(t=e),e=e.Next;ie.IntPoint.op_Inequality(e.Pt,t.Pt);)e=e.Next;return t},ie.Clipper.prototype.GetLowermostRec=function(t,e){null===t.BottomPt&&(t.BottomPt=this.GetBottomPt(t.Pts)),null===e.BottomPt&&(e.BottomPt=this.GetBottomPt(e.Pts));var n=t.BottomPt,o=e.BottomPt;return n.Pt.Y>o.Pt.Y?t:n.Pt.Y<o.Pt.Y?e:n.Pt.X<o.Pt.X?t:n.Pt.X>o.Pt.X?e:n.Next==n?e:o.Next==o?t:this.FirstIsBottomPt(n,o)?t:e},ie.Clipper.prototype.Param1RightOfParam2=function(t,e){do if(t=t.FirstLeft,t==e)return!0;while(null!==t);return!1},ie.Clipper.prototype.GetOutRec=function(t){for(var e=this.m_PolyOuts[t];e!=this.m_PolyOuts[e.Idx];)e=this.m_PolyOuts[e.Idx];return e},ie.Clipper.prototype.AppendPolygon=function(t,e){var n,o=this.m_PolyOuts[t.OutIdx],i=this.m_PolyOuts[e.OutIdx];n=this.Param1RightOfParam2(o,i)?i:this.Param1RightOfParam2(i,o)?o:this.GetLowermostRec(o,i);var r,a=o.Pts,s=a.Prev,u=i.Pts,h=u.Prev;t.Side==ie.EdgeSide.esLeft?(e.Side==ie.EdgeSide.esLeft?(this.ReversePolyPtLinks(u),u.Next=a,a.Prev=u,s.Next=h,h.Prev=s,o.Pts=h):(h.Next=a,a.Prev=h,u.Prev=s,s.Next=u,o.Pts=u),r=ie.EdgeSide.esLeft):(e.Side==ie.EdgeSide.esRight?(this.ReversePolyPtLinks(u),s.Next=h,h.Prev=s,u.Next=a,a.Prev=u):(s.Next=u,u.Prev=s,a.Prev=h,h.Next=a),r=ie.EdgeSide.esRight),o.BottomPt=null,n==i&&(i.FirstLeft!=o&&(o.FirstLeft=i.FirstLeft),o.IsHole=i.IsHole),i.Pts=null,i.BottomPt=null,i.FirstLeft=o;var p=t.OutIdx,l=e.OutIdx;t.OutIdx=-1,e.OutIdx=-1;for(var c=this.m_ActiveEdges;null!==c;){if(c.OutIdx==l){c.OutIdx=p,c.Side=r;break}c=c.NextInAEL}i.Idx=o.Idx},ie.Clipper.prototype.ReversePolyPtLinks=function(t){if(null!==t){var e,n;e=t;do n=e.Next,e.Next=e.Prev,e.Prev=n,e=n;while(e!=t)}},ie.Clipper.SwapSides=function(t,e){var n=t.Side;t.Side=e.Side,e.Side=n},ie.Clipper.SwapPolyIndexes=function(t,e){var n=t.OutIdx;t.OutIdx=e.OutIdx,e.OutIdx=n},ie.Clipper.prototype.IntersectEdges=function(t,e,n,o){var i=!o&&null===t.NextInLML&&t.Top.X==n.X&&t.Top.Y==n.Y,r=!o&&null===e.NextInLML&&e.Top.X==n.X&&e.Top.Y==n.Y,a=t.OutIdx>=0,s=e.OutIdx>=0;if(ne&&(0===t.WindDelta||0===e.WindDelta))return 0===t.WindDelta&&0===e.WindDelta?(i||r)&&a&&s&&this.AddLocalMaxPoly(t,e,n):t.PolyTyp==e.PolyTyp&&t.WindDelta!=e.WindDelta&&this.m_ClipType==ie.ClipType.ctUnion?0===t.WindDelta?s&&(this.AddOutPt(t,n),a&&(t.OutIdx=-1)):a&&(this.AddOutPt(e,n),s&&(e.OutIdx=-1)):t.PolyTyp!=e.PolyTyp&&(0!==t.WindDelta||1!=Math.abs(e.WindCnt)||this.m_ClipType==ie.ClipType.ctUnion&&0!==e.WindCnt2?0!==e.WindDelta||1!=Math.abs(t.WindCnt)||this.m_ClipType==ie.ClipType.ctUnion&&0!==t.WindCnt2||(this.AddOutPt(e,n),s&&(e.OutIdx=-1)):(this.AddOutPt(t,n),a&&(t.OutIdx=-1))),i&&(t.OutIdx<0?this.DeleteFromAEL(t):ie.Error("Error intersecting polylines")),void(r&&(e.OutIdx<0?this.DeleteFromAEL(e):ie.Error("Error intersecting polylines")));if(t.PolyTyp==e.PolyTyp)if(this.IsEvenOddFillType(t)){var u=t.WindCnt;t.WindCnt=e.WindCnt,e.WindCnt=u}else t.WindCnt+e.WindDelta===0?t.WindCnt=-t.WindCnt:t.WindCnt+=e.WindDelta,e.WindCnt-t.WindDelta===0?e.WindCnt=-e.WindCnt:e.WindCnt-=t.WindDelta;else this.IsEvenOddFillType(e)?t.WindCnt2=0===t.WindCnt2?1:0:t.WindCnt2+=e.WindDelta,this.IsEvenOddFillType(t)?e.WindCnt2=0===e.WindCnt2?1:0:e.WindCnt2-=t.WindDelta;var h,p,l,c;t.PolyTyp==ie.PolyType.ptSubject?(h=this.m_SubjFillType,l=this.m_ClipFillType):(h=this.m_ClipFillType,l=this.m_SubjFillType),e.PolyTyp==ie.PolyType.ptSubject?(p=this.m_SubjFillType,c=this.m_ClipFillType):(p=this.m_ClipFillType,c=this.m_SubjFillType);var f,d;switch(h){case ie.PolyFillType.pftPositive:f=t.WindCnt;break;case ie.PolyFillType.pftNegative:f=-t.WindCnt;break;default:f=Math.abs(t.WindCnt)}switch(p){case ie.PolyFillType.pftPositive:d=e.WindCnt;break;case ie.PolyFillType.pftNegative:d=-e.WindCnt;break;default:d=Math.abs(e.WindCnt)}if(a&&s)i||r||0!==f&&1!=f||0!==d&&1!=d||t.PolyTyp!=e.PolyTyp&&this.m_ClipType!=ie.ClipType.ctXor?this.AddLocalMaxPoly(t,e,n):(this.AddOutPt(t,n),this.AddOutPt(e,n),ie.Clipper.SwapSides(t,e),ie.Clipper.SwapPolyIndexes(t,e));else if(a)0!==d&&1!=d||(this.AddOutPt(t,n),ie.Clipper.SwapSides(t,e),ie.Clipper.SwapPolyIndexes(t,e));else if(s)0!==f&&1!=f||(this.AddOutPt(e,n),ie.Clipper.SwapSides(t,e),ie.Clipper.SwapPolyIndexes(t,e));else if(!(0!==f&&1!=f||0!==d&&1!=d||i||r)){var y,v;switch(l){case ie.PolyFillType.pftPositive:y=t.WindCnt2;break;case ie.PolyFillType.pftNegative:y=-t.WindCnt2;break;default:y=Math.abs(t.WindCnt2)}switch(c){case ie.PolyFillType.pftPositive:v=e.WindCnt2;break;case ie.PolyFillType.pftNegative:v=-e.WindCnt2;break;default:v=Math.abs(e.WindCnt2)}if(t.PolyTyp!=e.PolyTyp)this.AddLocalMinPoly(t,e,n);else if(1==f&&1==d)switch(this.m_ClipType){case ie.ClipType.ctIntersection:y>0&&v>0&&this.AddLocalMinPoly(t,e,n);break;case ie.ClipType.ctUnion:y<=0&&v<=0&&this.AddLocalMinPoly(t,e,n);break;case ie.ClipType.ctDifference:(t.PolyTyp==ie.PolyType.ptClip&&y>0&&v>0||t.PolyTyp==ie.PolyType.ptSubject&&y<=0&&v<=0)&&this.AddLocalMinPoly(t,e,n);break;case ie.ClipType.ctXor:this.AddLocalMinPoly(t,e,n)}else ie.Clipper.SwapSides(t,e)}i!=r&&(i&&t.OutIdx>=0||r&&e.OutIdx>=0)&&(ie.Clipper.SwapSides(t,e),ie.Clipper.SwapPolyIndexes(t,e)),i&&this.DeleteFromAEL(t),r&&this.DeleteFromAEL(e)},ie.Clipper.prototype.DeleteFromAEL=function(t){var e=t.PrevInAEL,n=t.NextInAEL;null===e&&null===n&&t!=this.m_ActiveEdges||(null!==e?e.NextInAEL=n:this.m_ActiveEdges=n,null!==n&&(n.PrevInAEL=e),t.NextInAEL=null,t.PrevInAEL=null)},ie.Clipper.prototype.DeleteFromSEL=function(t){var e=t.PrevInSEL,n=t.NextInSEL;null===e&&null===n&&t!=this.m_SortedEdges||(null!==e?e.NextInSEL=n:this.m_SortedEdges=n,null!==n&&(n.PrevInSEL=e),t.NextInSEL=null,t.PrevInSEL=null)},ie.Clipper.prototype.UpdateEdgeIntoAEL=function(t){null===t.NextInLML&&ie.Error("UpdateEdgeIntoAEL: invalid call");var e=t.PrevInAEL,n=t.NextInAEL;return t.NextInLML.OutIdx=t.OutIdx,null!==e?e.NextInAEL=t.NextInLML:this.m_ActiveEdges=t.NextInLML,null!==n&&(n.PrevInAEL=t.NextInLML),t.NextInLML.Side=t.Side,t.NextInLML.WindDelta=t.WindDelta,t.NextInLML.WindCnt=t.WindCnt,t.NextInLML.WindCnt2=t.WindCnt2,t=t.NextInLML,t.Curr.X=t.Bot.X,t.Curr.Y=t.Bot.Y,t.PrevInAEL=e,t.NextInAEL=n,ie.ClipperBase.IsHorizontal(t)||this.InsertScanbeam(t.Top.Y),t},ie.Clipper.prototype.ProcessHorizontals=function(t){for(var e=this.m_SortedEdges;null!==e;)this.DeleteFromSEL(e),this.ProcessHorizontal(e,t),e=this.m_SortedEdges},ie.Clipper.prototype.GetHorzDirection=function(t,e){t.Bot.X<t.Top.X?(e.Left=t.Bot.X,e.Right=t.Top.X,e.Dir=ie.Direction.dLeftToRight):(e.Left=t.Top.X,e.Right=t.Bot.X,e.Dir=ie.Direction.dRightToLeft)},ie.Clipper.prototype.PrepareHorzJoins=function(t,e){var n=this.m_PolyOuts[t.OutIdx].Pts;t.Side!=ie.EdgeSide.esLeft&&(n=n.Prev),e&&(ie.IntPoint.op_Equality(n.Pt,t.Top)?this.AddGhostJoin(n,t.Bot):this.AddGhostJoin(n,t.Top))},ie.Clipper.prototype.ProcessHorizontal=function(t,e){var n={Dir:null,Left:null,Right:null};this.GetHorzDirection(t,n);for(var o=n.Dir,i=n.Left,r=n.Right,a=t,s=null;null!==a.NextInLML&&ie.ClipperBase.IsHorizontal(a.NextInLML);)a=a.NextInLML;for(null===a.NextInLML&&(s=this.GetMaximaPair(a));;){for(var u=t==a,h=this.GetNextInAEL(t,o);null!==h&&!(h.Curr.X==t.Top.X&&null!==t.NextInLML&&h.Dx<t.NextInLML.Dx);){var p=this.GetNextInAEL(h,o);if(o==ie.Direction.dLeftToRight&&h.Curr.X<=r||o==ie.Direction.dRightToLeft&&h.Curr.X>=i){if(t.OutIdx>=0&&0!=t.WindDelta&&this.PrepareHorzJoins(t,e),h==s&&u)return o==ie.Direction.dLeftToRight?this.IntersectEdges(t,h,h.Top,!1):this.IntersectEdges(h,t,h.Top,!1),void(s.OutIdx>=0&&ie.Error("ProcessHorizontal error"));if(o==ie.Direction.dLeftToRight){var l=new ie.IntPoint(h.Curr.X,t.Curr.Y);this.IntersectEdges(t,h,l,!0)}else{var l=new ie.IntPoint(h.Curr.X,t.Curr.Y);this.IntersectEdges(h,t,l,!0)}this.SwapPositionsInAEL(t,h)}else if(o==ie.Direction.dLeftToRight&&h.Curr.X>=r||o==ie.Direction.dRightToLeft&&h.Curr.X<=i)break;h=p}if(t.OutIdx>=0&&0!==t.WindDelta&&this.PrepareHorzJoins(t,e),null===t.NextInLML||!ie.ClipperBase.IsHorizontal(t.NextInLML))break;t=this.UpdateEdgeIntoAEL(t),t.OutIdx>=0&&this.AddOutPt(t,t.Bot);var n={Dir:o,Left:i,Right:r};this.GetHorzDirection(t,n),o=n.Dir,i=n.Left,r=n.Right}if(null!==t.NextInLML)if(t.OutIdx>=0){var c=this.AddOutPt(t,t.Top);if(t=this.UpdateEdgeIntoAEL(t),0===t.WindDelta)return;var f=t.PrevInAEL,p=t.NextInAEL;if(null!==f&&f.Curr.X==t.Bot.X&&f.Curr.Y==t.Bot.Y&&0!==f.WindDelta&&f.OutIdx>=0&&f.Curr.Y>f.Top.Y&&ie.ClipperBase.SlopesEqual(t,f,this.m_UseFullRange)){var d=this.AddOutPt(f,t.Bot);this.AddJoin(c,d,t.Top)}else if(null!==p&&p.Curr.X==t.Bot.X&&p.Curr.Y==t.Bot.Y&&0!==p.WindDelta&&p.OutIdx>=0&&p.Curr.Y>p.Top.Y&&ie.ClipperBase.SlopesEqual(t,p,this.m_UseFullRange)){var d=this.AddOutPt(p,t.Bot);this.AddJoin(c,d,t.Top)}}else t=this.UpdateEdgeIntoAEL(t);else null!==s?s.OutIdx>=0?(o==ie.Direction.dLeftToRight?this.IntersectEdges(t,s,t.Top,!1):this.IntersectEdges(s,t,t.Top,!1),s.OutIdx>=0&&ie.Error("ProcessHorizontal error")):(this.DeleteFromAEL(t),this.DeleteFromAEL(s)):(t.OutIdx>=0&&this.AddOutPt(t,t.Top),this.DeleteFromAEL(t))},ie.Clipper.prototype.GetNextInAEL=function(t,e){return e==ie.Direction.dLeftToRight?t.NextInAEL:t.PrevInAEL},ie.Clipper.prototype.IsMinima=function(t){return null!==t&&t.Prev.NextInLML!=t&&t.Next.NextInLML!=t},ie.Clipper.prototype.IsMaxima=function(t,e){return null!==t&&t.Top.Y==e&&null===t.NextInLML},ie.Clipper.prototype.IsIntermediate=function(t,e){return t.Top.Y==e&&null!==t.NextInLML},ie.Clipper.prototype.GetMaximaPair=function(t){var e=null;return ie.IntPoint.op_Equality(t.Next.Top,t.Top)&&null===t.Next.NextInLML?e=t.Next:ie.IntPoint.op_Equality(t.Prev.Top,t.Top)&&null===t.Prev.NextInLML&&(e=t.Prev),null===e||e.OutIdx!=-2&&(e.NextInAEL!=e.PrevInAEL||ie.ClipperBase.IsHorizontal(e))?e:null},ie.Clipper.prototype.ProcessIntersections=function(t,e){if(null==this.m_ActiveEdges)return!0;try{if(this.BuildIntersectList(t,e),0==this.m_IntersectList.length)return!0;if(1!=this.m_IntersectList.length&&!this.FixupIntersectionOrder())return!1;this.ProcessIntersectList()}catch(t){this.m_SortedEdges=null,this.m_IntersectList.length=0,ie.Error("ProcessIntersections error")}return this.m_SortedEdges=null,!0},ie.Clipper.prototype.BuildIntersectList=function(t,e){if(null!==this.m_ActiveEdges){var n=this.m_ActiveEdges;for(this.m_SortedEdges=n;null!==n;)n.PrevInSEL=n.PrevInAEL,n.NextInSEL=n.NextInAEL,n.Curr.X=ie.Clipper.TopX(n,e),n=n.NextInAEL;for(var o=!0;o&&null!==this.m_SortedEdges;){for(o=!1,n=this.m_SortedEdges;null!==n.NextInSEL;){var i=n.NextInSEL,r=new ie.IntPoint;if(n.Curr.X>i.Curr.X){!this.IntersectPoint(n,i,r)&&n.Curr.X>i.Curr.X+1&&ie.Error("Intersection error"),r.Y>t&&(r.Y=t,Math.abs(n.Dx)>Math.abs(i.Dx)?r.X=ie.Clipper.TopX(i,t):r.X=ie.Clipper.TopX(n,t));var a=new ie.IntersectNode;a.Edge1=n,a.Edge2=i,a.Pt.X=r.X,a.Pt.Y=r.Y,this.m_IntersectList.push(a),this.SwapPositionsInSEL(n,i),o=!0}else n=i}if(null===n.PrevInSEL)break;n.PrevInSEL.NextInSEL=null}this.m_SortedEdges=null}},ie.Clipper.prototype.EdgesAdjacent=function(t){return t.Edge1.NextInSEL==t.Edge2||t.Edge1.PrevInSEL==t.Edge2},ie.Clipper.IntersectNodeSort=function(t,e){return e.Pt.Y-t.Pt.Y},ie.Clipper.prototype.FixupIntersectionOrder=function(){this.m_IntersectList.sort(this.m_IntersectNodeComparer),this.CopyAELToSEL();for(var t=this.m_IntersectList.length,e=0;e<t;e++){if(!this.EdgesAdjacent(this.m_IntersectList[e])){for(var n=e+1;n<t&&!this.EdgesAdjacent(this.m_IntersectList[n]);)n++;if(n==t)return!1;var o=this.m_IntersectList[e];this.m_IntersectList[e]=this.m_IntersectList[n],this.m_IntersectList[n]=o}this.SwapPositionsInSEL(this.m_IntersectList[e].Edge1,this.m_IntersectList[e].Edge2)}return!0},ie.Clipper.prototype.ProcessIntersectList=function(){for(var t=0,e=this.m_IntersectList.length;t<e;t++){var n=this.m_IntersectList[t];this.IntersectEdges(n.Edge1,n.Edge2,n.Pt,!0),this.SwapPositionsInAEL(n.Edge1,n.Edge2)}this.m_IntersectList.length=0};var xe=function(t){return t<0?Math.ceil(t-.5):Math.round(t)},we=function(t){return t<0?Math.ceil(t-.5):Math.floor(t+.5)},Pe=function(t){return t<0?-Math.round(Math.abs(t)):Math.round(t)},Se=function(t){return t<0?(t-=.5,t<-2147483648?Math.ceil(t):0|t):(t+=.5,t>2147483647?Math.floor(t):0|t)};ue.msie?ie.Clipper.Round=xe:ue.chromium?ie.Clipper.Round=Pe:ue.safari?ie.Clipper.Round=Se:ie.Clipper.Round=we,ie.Clipper.TopX=function(t,e){return e==t.Top.Y?t.Top.X:t.Bot.X+ie.Clipper.Round(t.Dx*(e-t.Bot.Y))},ie.Clipper.prototype.IntersectPoint=function(t,e,n){n.X=0,n.Y=0;var o,i;if(ie.ClipperBase.SlopesEqual(t,e,this.m_UseFullRange)||t.Dx==e.Dx)return e.Bot.Y>t.Bot.Y?(n.X=e.Bot.X,n.Y=e.Bot.Y):(n.X=t.Bot.X,n.Y=t.Bot.Y),!1;if(0===t.Delta.X)n.X=t.Bot.X,ie.ClipperBase.IsHorizontal(e)?n.Y=e.Bot.Y:(i=e.Bot.Y-e.Bot.X/e.Dx,n.Y=ie.Clipper.Round(n.X/e.Dx+i));else if(0===e.Delta.X)n.X=e.Bot.X,ie.ClipperBase.IsHorizontal(t)?n.Y=t.Bot.Y:(o=t.Bot.Y-t.Bot.X/t.Dx,n.Y=ie.Clipper.Round(n.X/t.Dx+o));else{o=t.Bot.X-t.Bot.Y*t.Dx,i=e.Bot.X-e.Bot.Y*e.Dx;var r=(i-o)/(t.Dx-e.Dx);n.Y=ie.Clipper.Round(r),Math.abs(t.Dx)<Math.abs(e.Dx)?n.X=ie.Clipper.Round(t.Dx*r+o):n.X=ie.Clipper.Round(e.Dx*r+i)}if(n.Y<t.Top.Y||n.Y<e.Top.Y){if(t.Top.Y>e.Top.Y)return n.Y=t.Top.Y,n.X=ie.Clipper.TopX(e,t.Top.Y),n.X<t.Top.X;n.Y=e.Top.Y,Math.abs(t.Dx)<Math.abs(e.Dx)?n.X=ie.Clipper.TopX(t,n.Y):n.X=ie.Clipper.TopX(e,n.Y)}return!0},ie.Clipper.prototype.ProcessEdgesAtTopOfScanbeam=function(t){for(var e=this.m_ActiveEdges;null!==e;){var n=this.IsMaxima(e,t);if(n){var o=this.GetMaximaPair(e);n=null===o||!ie.ClipperBase.IsHorizontal(o)}if(n){var i=e.PrevInAEL;this.DoMaxima(e),e=null===i?this.m_ActiveEdges:i.NextInAEL}else{if(this.IsIntermediate(e,t)&&ie.ClipperBase.IsHorizontal(e.NextInLML)?(e=this.UpdateEdgeIntoAEL(e),e.OutIdx>=0&&this.AddOutPt(e,e.Bot),this.AddEdgeToSEL(e)):(e.Curr.X=ie.Clipper.TopX(e,t),e.Curr.Y=t),this.StrictlySimple){var i=e.PrevInAEL;if(e.OutIdx>=0&&0!==e.WindDelta&&null!==i&&i.OutIdx>=0&&i.Curr.X==e.Curr.X&&0!==i.WindDelta){var r=this.AddOutPt(i,e.Curr),a=this.AddOutPt(e,e.Curr);this.AddJoin(r,a,e.Curr)}}e=e.NextInAEL}}for(this.ProcessHorizontals(!0),e=this.m_ActiveEdges;null!==e;){if(this.IsIntermediate(e,t)){var r=null;e.OutIdx>=0&&(r=this.AddOutPt(e,e.Top)),e=this.UpdateEdgeIntoAEL(e);var i=e.PrevInAEL,s=e.NextInAEL;if(null!==i&&i.Curr.X==e.Bot.X&&i.Curr.Y==e.Bot.Y&&null!==r&&i.OutIdx>=0&&i.Curr.Y>i.Top.Y&&ie.ClipperBase.SlopesEqual(e,i,this.m_UseFullRange)&&0!==e.WindDelta&&0!==i.WindDelta){var a=this.AddOutPt(i,e.Bot);this.AddJoin(r,a,e.Top)}else if(null!==s&&s.Curr.X==e.Bot.X&&s.Curr.Y==e.Bot.Y&&null!==r&&s.OutIdx>=0&&s.Curr.Y>s.Top.Y&&ie.ClipperBase.SlopesEqual(e,s,this.m_UseFullRange)&&0!==e.WindDelta&&0!==s.WindDelta){var a=this.AddOutPt(s,e.Bot);this.AddJoin(r,a,e.Top)}}e=e.NextInAEL}},ie.Clipper.prototype.DoMaxima=function(t){var e=this.GetMaximaPair(t);if(null===e)return t.OutIdx>=0&&this.AddOutPt(t,t.Top),void this.DeleteFromAEL(t);for(var n=t.NextInAEL,o=!0;null!==n&&n!=e;)this.IntersectEdges(t,n,t.Top,!0),this.SwapPositionsInAEL(t,n),n=t.NextInAEL;t.OutIdx==-1&&e.OutIdx==-1?(this.DeleteFromAEL(t),this.DeleteFromAEL(e)):t.OutIdx>=0&&e.OutIdx>=0?this.IntersectEdges(t,e,t.Top,!1):o&&0===t.WindDelta?(t.OutIdx>=0&&(this.AddOutPt(t,t.Top),t.OutIdx=-1),this.DeleteFromAEL(t),e.OutIdx>=0&&(this.AddOutPt(e,t.Top),e.OutIdx=-1),this.DeleteFromAEL(e)):ie.Error("DoMaxima error")},ie.Clipper.ReversePaths=function(t){for(var e=0,n=t.length;e<n;e++)t[e].reverse()},ie.Clipper.Orientation=function(t){return ie.Clipper.Area(t)>=0},ie.Clipper.prototype.PointCount=function(t){if(null===t)return 0;var e=0,n=t;do e++,n=n.Next;while(n!=t);return e},ie.Clipper.prototype.BuildResult=function(t){ie.Clear(t);for(var e=0,n=this.m_PolyOuts.length;e<n;e++){var o=this.m_PolyOuts[e];if(null!==o.Pts){var i=o.Pts.Prev,r=this.PointCount(i);if(!(r<2)){for(var a=new Array(r),s=0;s<r;s++)a[s]=i.Pt,i=i.Prev;t.push(a)}}}},ie.Clipper.prototype.BuildResult2=function(t){t.Clear();for(var e=0,n=this.m_PolyOuts.length;e<n;e++){var o=this.m_PolyOuts[e],i=this.PointCount(o.Pts);if(!(o.IsOpen&&i<2||!o.IsOpen&&i<3)){this.FixHoleLinkage(o);var r=new ie.PolyNode;t.m_AllPolys.push(r),o.PolyNode=r,r.m_polygon.length=i;for(var a=o.Pts.Prev,s=0;s<i;s++)r.m_polygon[s]=a.Pt,a=a.Prev}}for(var e=0,n=this.m_PolyOuts.length;e<n;e++){var o=this.m_PolyOuts[e];null!==o.PolyNode&&(o.IsOpen?(o.PolyNode.IsOpen=!0,t.AddChild(o.PolyNode)):null!==o.FirstLeft&&null!=o.FirstLeft.PolyNode?o.FirstLeft.PolyNode.AddChild(o.PolyNode):t.AddChild(o.PolyNode))}},ie.Clipper.prototype.FixupOutPolygon=function(t){var e=null;t.BottomPt=null;for(var n=t.Pts;;){if(n.Prev==n||n.Prev==n.Next)return this.DisposeOutPts(n),void(t.Pts=null);if(ie.IntPoint.op_Equality(n.Pt,n.Next.Pt)||ie.IntPoint.op_Equality(n.Pt,n.Prev.Pt)||ie.ClipperBase.SlopesEqual(n.Prev.Pt,n.Pt,n.Next.Pt,this.m_UseFullRange)&&(!this.PreserveCollinear||!this.Pt2IsBetweenPt1AndPt3(n.Prev.Pt,n.Pt,n.Next.Pt))){e=null;var o=n;n.Prev.Next=n.Next,n.Next.Prev=n.Prev,n=n.Prev,o=null}else{if(n==e)break;null===e&&(e=n),n=n.Next}}t.Pts=n},ie.Clipper.prototype.DupOutPt=function(t,e){var n=new ie.OutPt;return n.Pt.X=t.Pt.X,n.Pt.Y=t.Pt.Y,n.Idx=t.Idx,e?(n.Next=t.Next,n.Prev=t,t.Next.Prev=n,t.Next=n):(n.Prev=t.Prev,n.Next=t,t.Prev.Next=n,t.Prev=n),n},ie.Clipper.prototype.GetOverlap=function(t,e,n,o,i){return t<e?n<o?(i.Left=Math.max(t,n),i.Right=Math.min(e,o)):(i.Left=Math.max(t,o),i.Right=Math.min(e,n)):n<o?(i.Left=Math.max(e,n),i.Right=Math.min(t,o)):(i.Left=Math.max(e,o),i.Right=Math.min(t,n)),i.Left<i.Right},ie.Clipper.prototype.JoinHorz=function(t,e,n,o,i,r){var a=t.Pt.X>e.Pt.X?ie.Direction.dRightToLeft:ie.Direction.dLeftToRight,s=n.Pt.X>o.Pt.X?ie.Direction.dRightToLeft:ie.Direction.dLeftToRight;if(a==s)return!1;if(a==ie.Direction.dLeftToRight){for(;t.Next.Pt.X<=i.X&&t.Next.Pt.X>=t.Pt.X&&t.Next.Pt.Y==i.Y;)t=t.Next;r&&t.Pt.X!=i.X&&(t=t.Next),e=this.DupOutPt(t,!r),ie.IntPoint.op_Inequality(e.Pt,i)&&(t=e,t.Pt.X=i.X,t.Pt.Y=i.Y,e=this.DupOutPt(t,!r))}else{for(;t.Next.Pt.X>=i.X&&t.Next.Pt.X<=t.Pt.X&&t.Next.Pt.Y==i.Y;)t=t.Next;r||t.Pt.X==i.X||(t=t.Next),e=this.DupOutPt(t,r),ie.IntPoint.op_Inequality(e.Pt,i)&&(t=e,t.Pt.X=i.X,t.Pt.Y=i.Y,e=this.DupOutPt(t,r))}if(s==ie.Direction.dLeftToRight){for(;n.Next.Pt.X<=i.X&&n.Next.Pt.X>=n.Pt.X&&n.Next.Pt.Y==i.Y;)n=n.Next;r&&n.Pt.X!=i.X&&(n=n.Next),o=this.DupOutPt(n,!r),ie.IntPoint.op_Inequality(o.Pt,i)&&(n=o,n.Pt.X=i.X,n.Pt.Y=i.Y,o=this.DupOutPt(n,!r))}else{for(;n.Next.Pt.X>=i.X&&n.Next.Pt.X<=n.Pt.X&&n.Next.Pt.Y==i.Y;)n=n.Next;r||n.Pt.X==i.X||(n=n.Next),o=this.DupOutPt(n,r),ie.IntPoint.op_Inequality(o.Pt,i)&&(n=o,n.Pt.X=i.X,n.Pt.Y=i.Y,o=this.DupOutPt(n,r))}return a==ie.Direction.dLeftToRight==r?(t.Prev=n,n.Next=t,e.Next=o,o.Prev=e):(t.Next=n,n.Prev=t,e.Prev=o,o.Next=e),!0},ie.Clipper.prototype.JoinPoints=function(t,e,n){var o=t.OutPt1,i=new ie.OutPt,r=t.OutPt2,a=new ie.OutPt,s=t.OutPt1.Pt.Y==t.OffPt.Y;if(s&&ie.IntPoint.op_Equality(t.OffPt,t.OutPt1.Pt)&&ie.IntPoint.op_Equality(t.OffPt,t.OutPt2.Pt)){for(i=t.OutPt1.Next;i!=o&&ie.IntPoint.op_Equality(i.Pt,t.OffPt);)i=i.Next;var u=i.Pt.Y>t.OffPt.Y;for(a=t.OutPt2.Next;a!=r&&ie.IntPoint.op_Equality(a.Pt,t.OffPt);)a=a.Next;var h=a.Pt.Y>t.OffPt.Y;return u!=h&&(u?(i=this.DupOutPt(o,!1),a=this.DupOutPt(r,!0),o.Prev=r,r.Next=o,i.Next=a,a.Prev=i,t.OutPt1=o,t.OutPt2=i,!0):(i=this.DupOutPt(o,!0),a=this.DupOutPt(r,!1),o.Next=r,r.Prev=o,i.Prev=a,a.Next=i,t.OutPt1=o,t.OutPt2=i,!0))}if(s){for(i=o;o.Prev.Pt.Y==o.Pt.Y&&o.Prev!=i&&o.Prev!=r;)o=o.Prev;for(;i.Next.Pt.Y==i.Pt.Y&&i.Next!=o&&i.Next!=r;)i=i.Next;if(i.Next==o||i.Next==r)return!1;for(a=r;r.Prev.Pt.Y==r.Pt.Y&&r.Prev!=a&&r.Prev!=i;)r=r.Prev;for(;a.Next.Pt.Y==a.Pt.Y&&a.Next!=r&&a.Next!=o;)a=a.Next;if(a.Next==r||a.Next==o)return!1;var p={Left:null,Right:null};if(!this.GetOverlap(o.Pt.X,i.Pt.X,r.Pt.X,a.Pt.X,p))return!1;var l,c=p.Left,f=p.Right,d=new ie.IntPoint;return o.Pt.X>=c&&o.Pt.X<=f?(d.X=o.Pt.X,d.Y=o.Pt.Y,l=o.Pt.X>i.Pt.X):r.Pt.X>=c&&r.Pt.X<=f?(d.X=r.Pt.X,d.Y=r.Pt.Y,l=r.Pt.X>a.Pt.X):i.Pt.X>=c&&i.Pt.X<=f?(d.X=i.Pt.X,d.Y=i.Pt.Y,l=i.Pt.X>o.Pt.X):(d.X=a.Pt.X,d.Y=a.Pt.Y,l=a.Pt.X>r.Pt.X),t.OutPt1=o,t.OutPt2=r,this.JoinHorz(o,i,r,a,d,l)}for(i=o.Next;ie.IntPoint.op_Equality(i.Pt,o.Pt)&&i!=o;)i=i.Next;var y=i.Pt.Y>o.Pt.Y||!ie.ClipperBase.SlopesEqual(o.Pt,i.Pt,t.OffPt,this.m_UseFullRange);if(y){for(i=o.Prev;ie.IntPoint.op_Equality(i.Pt,o.Pt)&&i!=o;)i=i.Prev;if(i.Pt.Y>o.Pt.Y||!ie.ClipperBase.SlopesEqual(o.Pt,i.Pt,t.OffPt,this.m_UseFullRange))return!1}for(a=r.Next;ie.IntPoint.op_Equality(a.Pt,r.Pt)&&a!=r;)a=a.Next;var v=a.Pt.Y>r.Pt.Y||!ie.ClipperBase.SlopesEqual(r.Pt,a.Pt,t.OffPt,this.m_UseFullRange);if(v){for(a=r.Prev;ie.IntPoint.op_Equality(a.Pt,r.Pt)&&a!=r;)a=a.Prev;if(a.Pt.Y>r.Pt.Y||!ie.ClipperBase.SlopesEqual(r.Pt,a.Pt,t.OffPt,this.m_UseFullRange))return!1}return i!=o&&a!=r&&i!=a&&(e!=n||y!=v)&&(y?(i=this.DupOutPt(o,!1),a=this.DupOutPt(r,!0),o.Prev=r,r.Next=o,i.Next=a,a.Prev=i,t.OutPt1=o,t.OutPt2=i,!0):(i=this.DupOutPt(o,!0),a=this.DupOutPt(r,!1),o.Next=r,r.Prev=o,i.Prev=a,a.Next=i,t.OutPt1=o,t.OutPt2=i,!0))},ie.Clipper.GetBounds=function(t){for(var e=0,n=t.length;e<n&&0==t[e].length;)e++;if(e==n)return new ie.IntRect(0,0,0,0);var o=new ie.IntRect;for(o.left=t[e][0].X,o.right=o.left,o.top=t[e][0].Y,o.bottom=o.top;e<n;e++)for(var i=0,r=t[e].length;i<r;i++)t[e][i].X<o.left?o.left=t[e][i].X:t[e][i].X>o.right&&(o.right=t[e][i].X),t[e][i].Y<o.top?o.top=t[e][i].Y:t[e][i].Y>o.bottom&&(o.bottom=t[e][i].Y);return o},ie.Clipper.prototype.GetBounds2=function(t){var e=t,n=new ie.IntRect;for(n.left=t.Pt.X,n.right=t.Pt.X,n.top=t.Pt.Y,n.bottom=t.Pt.Y,t=t.Next;t!=e;)t.Pt.X<n.left&&(n.left=t.Pt.X),t.Pt.X>n.right&&(n.right=t.Pt.X),t.Pt.Y<n.top&&(n.top=t.Pt.Y),t.Pt.Y>n.bottom&&(n.bottom=t.Pt.Y),t=t.Next;return n},ie.Clipper.PointInPolygon=function(t,e){var n=0,o=e.length;if(o<3)return 0;for(var i=e[0],r=1;r<=o;++r){var a=r==o?e[0]:e[r];if(a.Y==t.Y&&(a.X==t.X||i.Y==t.Y&&a.X>t.X==i.X<t.X))return-1;if(i.Y<t.Y!=a.Y<t.Y)if(i.X>=t.X)if(a.X>t.X)n=1-n;else{var s=(i.X-t.X)*(a.Y-t.Y)-(a.X-t.X)*(i.Y-t.Y);if(0==s)return-1;s>0==a.Y>i.Y&&(n=1-n)}else if(a.X>t.X){var s=(i.X-t.X)*(a.Y-t.Y)-(a.X-t.X)*(i.Y-t.Y);if(0==s)return-1;s>0==a.Y>i.Y&&(n=1-n)}i=a}return n},ie.Clipper.prototype.PointInPolygon=function(t,e){for(var n=0,o=e;;){var i=e.Pt.X,r=e.Pt.Y,a=e.Next.Pt.X,s=e.Next.Pt.Y;if(s==t.Y&&(a==t.X||r==t.Y&&a>t.X==i<t.X))return-1;if(r<t.Y!=s<t.Y)if(i>=t.X)if(a>t.X)n=1-n;else{var u=(i-t.X)*(s-t.Y)-(a-t.X)*(r-t.Y);if(0==u)return-1;u>0==s>r&&(n=1-n)}else if(a>t.X){var u=(i-t.X)*(s-t.Y)-(a-t.X)*(r-t.Y);if(0==u)return-1;u>0==s>r&&(n=1-n)}if(e=e.Next,o==e)break}return n},ie.Clipper.prototype.Poly2ContainsPoly1=function(t,e){var n=t;do{var o=this.PointInPolygon(n.Pt,e);if(o>=0)return 0!=o;n=n.Next}while(n!=t);return!0},ie.Clipper.prototype.FixupFirstLefts1=function(t,e){for(var n=0,o=this.m_PolyOuts.length;n<o;n++){var i=this.m_PolyOuts[n];null!==i.Pts&&i.FirstLeft==t&&this.Poly2ContainsPoly1(i.Pts,e.Pts)&&(i.FirstLeft=e)}},ie.Clipper.prototype.FixupFirstLefts2=function(t,e){for(var n=0,o=this.m_PolyOuts,i=o.length,r=o[n];n<i;n++,r=o[n])r.FirstLeft==t&&(r.FirstLeft=e)},ie.Clipper.ParseFirstLeft=function(t){for(;null!=t&&null==t.Pts;)t=t.FirstLeft;return t},ie.Clipper.prototype.JoinCommonEdges=function(){for(var t=0,e=this.m_Joins.length;t<e;t++){var n=this.m_Joins[t],o=this.GetOutRec(n.OutPt1.Idx),i=this.GetOutRec(n.OutPt2.Idx);if(null!=o.Pts&&null!=i.Pts){var r;if(r=o==i?o:this.Param1RightOfParam2(o,i)?i:this.Param1RightOfParam2(i,o)?o:this.GetLowermostRec(o,i),this.JoinPoints(n,o,i))if(o==i){if(o.Pts=n.OutPt1,o.BottomPt=null,i=this.CreateOutRec(),i.Pts=n.OutPt2,this.UpdateOutPtIdxs(i),this.m_UsingPolyTree)for(var a=0,s=this.m_PolyOuts.length;a<s-1;a++){var u=this.m_PolyOuts[a];null!=u.Pts&&ie.Clipper.ParseFirstLeft(u.FirstLeft)==o&&u.IsHole!=o.IsHole&&this.Poly2ContainsPoly1(u.Pts,n.OutPt2)&&(u.FirstLeft=i)}this.Poly2ContainsPoly1(i.Pts,o.Pts)?(i.IsHole=!o.IsHole,i.FirstLeft=o,this.m_UsingPolyTree&&this.FixupFirstLefts2(i,o),(i.IsHole^this.ReverseSolution)==this.Area(i)>0&&this.ReversePolyPtLinks(i.Pts)):this.Poly2ContainsPoly1(o.Pts,i.Pts)?(i.IsHole=o.IsHole,o.IsHole=!i.IsHole,i.FirstLeft=o.FirstLeft,o.FirstLeft=i,this.m_UsingPolyTree&&this.FixupFirstLefts2(o,i),(o.IsHole^this.ReverseSolution)==this.Area(o)>0&&this.ReversePolyPtLinks(o.Pts)):(i.IsHole=o.IsHole,i.FirstLeft=o.FirstLeft,this.m_UsingPolyTree&&this.FixupFirstLefts1(o,i))}else i.Pts=null,i.BottomPt=null,i.Idx=o.Idx,o.IsHole=r.IsHole,r==i&&(o.FirstLeft=i.FirstLeft),i.FirstLeft=o,this.m_UsingPolyTree&&this.FixupFirstLefts2(i,o)}}},ie.Clipper.prototype.UpdateOutPtIdxs=function(t){var e=t.Pts;do e.Idx=t.Idx,e=e.Prev;while(e!=t.Pts)},ie.Clipper.prototype.DoSimplePolygons=function(){for(var t=0;t<this.m_PolyOuts.length;){var e=this.m_PolyOuts[t++],n=e.Pts;if(null!==n)do{for(var o=n.Next;o!=e.Pts;){if(ie.IntPoint.op_Equality(n.Pt,o.Pt)&&o.Next!=n&&o.Prev!=n){var i=n.Prev,r=o.Prev;n.Prev=r,r.Next=n,o.Prev=i,i.Next=o,e.Pts=n;var a=this.CreateOutRec();a.Pts=o,this.UpdateOutPtIdxs(a),this.Poly2ContainsPoly1(a.Pts,e.Pts)?(a.IsHole=!e.IsHole,a.FirstLeft=e):this.Poly2ContainsPoly1(e.Pts,a.Pts)?(a.IsHole=e.IsHole,e.IsHole=!a.IsHole,a.FirstLeft=e.FirstLeft,e.FirstLeft=a):(a.IsHole=e.IsHole,a.FirstLeft=e.FirstLeft),o=n}o=o.Next}n=n.Next}while(n!=e.Pts)}},ie.Clipper.Area=function(t){var e=t.length;if(e<3)return 0;for(var n=0,o=0,i=e-1;o<e;++o)n+=(t[i].X+t[o].X)*(t[i].Y-t[o].Y),i=o;return.5*-n},ie.Clipper.prototype.Area=function(t){var e=t.Pts;if(null==e)return 0;var n=0;do n+=(e.Prev.Pt.X+e.Pt.X)*(e.Prev.Pt.Y-e.Pt.Y),e=e.Next;while(e!=t.Pts);return.5*n},oe&&(ie.Clipper.OffsetPaths=function(t,e,n,o,i){var r=new ie.Paths,a=new ie.ClipperOffset(i,i);return a.AddPaths(t,n,o),a.Execute(r,e),r}),ie.Clipper.SimplifyPolygon=function(t,e){var n=new Array,o=new ie.Clipper(0);return o.StrictlySimple=!0,o.AddPath(t,ie.PolyType.ptSubject,!0),o.Execute(ie.ClipType.ctUnion,n,e,e),n},ie.Clipper.SimplifyPolygons=function(t,e){"undefined"==typeof e&&(e=ie.PolyFillType.pftEvenOdd);var n=new Array,o=new ie.Clipper(0);return o.StrictlySimple=!0,o.AddPaths(t,ie.PolyType.ptSubject,!0),o.Execute(ie.ClipType.ctUnion,n,e,e),n},ie.Clipper.DistanceSqrd=function(t,e){var n=t.X-e.X,o=t.Y-e.Y;return n*n+o*o},ie.Clipper.DistanceFromLineSqrd=function(t,e,n){var o=e.Y-n.Y,i=n.X-e.X,r=o*e.X+i*e.Y;return r=o*t.X+i*t.Y-r,r*r/(o*o+i*i)},ie.Clipper.SlopesNearCollinear=function(t,e,n,o){return ie.Clipper.DistanceFromLineSqrd(e,t,n)<o},ie.Clipper.PointsAreClose=function(t,e,n){var o=t.X-e.X,i=t.Y-e.Y;return o*o+i*i<=n},ie.Clipper.ExcludeOp=function(t){var e=t.Prev;return e.Next=t.Next,t.Next.Prev=e,e.Idx=0,e},ie.Clipper.CleanPolygon=function(t,e){"undefined"==typeof e&&(e=1.415);var n=t.length;if(0==n)return new Array;for(var o=new Array(n),i=0;i<n;++i)o[i]=new ie.OutPt;for(var i=0;i<n;++i)o[i].Pt=t[i],o[i].Next=o[(i+1)%n],o[i].Next.Prev=o[i],o[i].Idx=0;for(var r=e*e,a=o[0];0==a.Idx&&a.Next!=a.Prev;)ie.Clipper.PointsAreClose(a.Pt,a.Prev.Pt,r)?(a=ie.Clipper.ExcludeOp(a),n--):ie.Clipper.PointsAreClose(a.Prev.Pt,a.Next.Pt,r)?(ie.Clipper.ExcludeOp(a.Next),a=ie.Clipper.ExcludeOp(a),n-=2):ie.Clipper.SlopesNearCollinear(a.Prev.Pt,a.Pt,a.Next.Pt,r)?(a=ie.Clipper.ExcludeOp(a),n--):(a.Idx=1,a=a.Next);n<3&&(n=0);for(var s=new Array(n),i=0;i<n;++i)s[i]=new ie.IntPoint(a.Pt),a=a.Next;return o=null,s},ie.Clipper.CleanPolygons=function(t,e){for(var n=new Array(t.length),o=0,i=t.length;o<i;o++)n[o]=ie.Clipper.CleanPolygon(t[o],e);return n},ie.Clipper.Minkowski=function(t,e,n,o){var i=o?1:0,r=t.length,a=e.length,s=new Array;if(n)for(var u=0;u<a;u++){for(var h=new Array(r),p=0,l=t.length,c=t[p];p<l;p++,c=t[p])h[p]=new ie.IntPoint(e[u].X+c.X,e[u].Y+c.Y);s.push(h)}else for(var u=0;u<a;u++){for(var h=new Array(r),p=0,l=t.length,c=t[p];p<l;p++,c=t[p])h[p]=new ie.IntPoint(e[u].X-c.X,e[u].Y-c.Y);s.push(h)}for(var f=new Array,u=0;u<a-1+i;u++)for(var p=0;p<r;p++){var d=new Array;d.push(s[u%a][p%r]),d.push(s[(u+1)%a][p%r]),d.push(s[(u+1)%a][(p+1)%r]),d.push(s[u%a][(p+1)%r]),ie.Clipper.Orientation(d)||d.reverse(),f.push(d)}var y=new ie.Clipper(0);return y.AddPaths(f,ie.PolyType.ptSubject,!0),y.Execute(ie.ClipType.ctUnion,s,ie.PolyFillType.pftNonZero,ie.PolyFillType.pftNonZero),s},ie.Clipper.MinkowskiSum=function(){var t=arguments,e=t.length;if(3==e){var n=t[0],o=t[1],i=t[2];return ie.Clipper.Minkowski(n,o,!0,i)}if(4==e){for(var r,n=t[0],a=t[1],s=t[2],i=t[3],u=new ie.Clipper,h=0,p=a.length;h<p;++h){var r=ie.Clipper.Minkowski(n,a[h],!0,i);u.AddPaths(r,ie.PolyType.ptSubject,!0)}i&&u.AddPaths(a,ie.PolyType.ptClip,!0);var l=new ie.Paths;return u.Execute(ie.ClipType.ctUnion,l,s,s),l}},ie.Clipper.MinkowskiDiff=function(t,e,n){return ie.Clipper.Minkowski(t,e,!1,n)},ie.Clipper.PolyTreeToPaths=function(t){var e=new Array;return ie.Clipper.AddPolyNodeToPaths(t,ie.Clipper.NodeType.ntAny,e),e},ie.Clipper.AddPolyNodeToPaths=function(t,e,n){var o=!0;switch(e){case ie.Clipper.NodeType.ntOpen:return;case ie.Clipper.NodeType.ntClosed:o=!t.IsOpen}t.m_polygon.length>0&&o&&n.push(t.m_polygon);for(var i=0,r=t.Childs(),a=r.length,s=r[i];i<a;i++,s=r[i])ie.Clipper.AddPolyNodeToPaths(s,e,n)},ie.Clipper.OpenPathsFromPolyTree=function(t){for(var e=new ie.Paths,n=0,o=t.ChildCount();n<o;n++)t.Childs()[n].IsOpen&&e.push(t.Childs()[n].m_polygon);return e},ie.Clipper.ClosedPathsFromPolyTree=function(t){var e=new ie.Paths;return ie.Clipper.AddPolyNodeToPaths(t,ie.Clipper.NodeType.ntClosed,e),e},_e(ie.Clipper,ie.ClipperBase),ie.Clipper.NodeType={ntAny:0,ntOpen:1,ntClosed:2},ie.ClipperOffset=function(t,e){"undefined"==typeof t&&(t=2),"undefined"==typeof e&&(e=ie.ClipperOffset.def_arc_tolerance),this.m_destPolys=new ie.Paths,this.m_srcPoly=new ie.Path,this.m_destPoly=new ie.Path,this.m_normals=new Array,this.m_delta=0,this.m_sinA=0,this.m_sin=0,this.m_cos=0,this.m_miterLim=0,this.m_StepsPerRad=0,this.m_lowest=new ie.IntPoint,this.m_polyNodes=new ie.PolyNode,this.MiterLimit=t,this.ArcTolerance=e,this.m_lowest.X=-1},ie.ClipperOffset.two_pi=6.28318530717959,ie.ClipperOffset.def_arc_tolerance=.25,ie.ClipperOffset.prototype.Clear=function(){ie.Clear(this.m_polyNodes.Childs()),this.m_lowest.X=-1},ie.ClipperOffset.Round=ie.Clipper.Round,
ie.ClipperOffset.prototype.AddPath=function(t,e,n){var o=t.length-1;if(!(o<0)){var i=new ie.PolyNode;if(i.m_jointype=e,i.m_endtype=n,n==ie.EndType.etClosedLine||n==ie.EndType.etClosedPolygon)for(;o>0&&ie.IntPoint.op_Equality(t[0],t[o]);)o--;i.m_polygon.push(t[0]);for(var r=0,a=0,s=1;s<=o;s++)ie.IntPoint.op_Inequality(i.m_polygon[r],t[s])&&(r++,i.m_polygon.push(t[s]),(t[s].Y>i.m_polygon[a].Y||t[s].Y==i.m_polygon[a].Y&&t[s].X<i.m_polygon[a].X)&&(a=r));if(!(n==ie.EndType.etClosedPolygon&&r<2||n!=ie.EndType.etClosedPolygon&&r<0)&&(this.m_polyNodes.AddChild(i),n==ie.EndType.etClosedPolygon))if(this.m_lowest.X<0)this.m_lowest=new ie.IntPoint(0,a);else{var u=this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon[this.m_lowest.Y];(i.m_polygon[a].Y>u.Y||i.m_polygon[a].Y==u.Y&&i.m_polygon[a].X<u.X)&&(this.m_lowest=new ie.IntPoint(this.m_polyNodes.ChildCount()-1,a))}}},ie.ClipperOffset.prototype.AddPaths=function(t,e,n){for(var o=0,i=t.length;o<i;o++)this.AddPath(t[o],e,n)},ie.ClipperOffset.prototype.FixOrientations=function(){if(this.m_lowest.X>=0&&!ie.Clipper.Orientation(this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon))for(var t=0;t<this.m_polyNodes.ChildCount();t++){var e=this.m_polyNodes.Childs()[t];(e.m_endtype==ie.EndType.etClosedPolygon||e.m_endtype==ie.EndType.etClosedLine&&ie.Clipper.Orientation(e.m_polygon))&&e.m_polygon.reverse()}else for(var t=0;t<this.m_polyNodes.ChildCount();t++){var e=this.m_polyNodes.Childs()[t];e.m_endtype!=ie.EndType.etClosedLine||ie.Clipper.Orientation(e.m_polygon)||e.m_polygon.reverse()}},ie.ClipperOffset.GetUnitNormal=function(t,e){var n=e.X-t.X,o=e.Y-t.Y;if(0==n&&0==o)return new ie.DoublePoint(0,0);var i=1/Math.sqrt(n*n+o*o);return n*=i,o*=i,new ie.DoublePoint(o,-n)},ie.ClipperOffset.prototype.DoOffset=function(t){if(this.m_destPolys=new Array,this.m_delta=t,ie.ClipperBase.near_zero(t))for(var e=0;e<this.m_polyNodes.ChildCount();e++){var n=this.m_polyNodes.Childs()[e];n.m_endtype==ie.EndType.etClosedPolygon&&this.m_destPolys.push(n.m_polygon)}else{this.MiterLimit>2?this.m_miterLim=2/(this.MiterLimit*this.MiterLimit):this.m_miterLim=.5;var o;o=this.ArcTolerance<=0?ie.ClipperOffset.def_arc_tolerance:this.ArcTolerance>Math.abs(t)*ie.ClipperOffset.def_arc_tolerance?Math.abs(t)*ie.ClipperOffset.def_arc_tolerance:this.ArcTolerance;var i=3.14159265358979/Math.acos(1-o/Math.abs(t));this.m_sin=Math.sin(ie.ClipperOffset.two_pi/i),this.m_cos=Math.cos(ie.ClipperOffset.two_pi/i),this.m_StepsPerRad=i/ie.ClipperOffset.two_pi,t<0&&(this.m_sin=-this.m_sin);for(var e=0;e<this.m_polyNodes.ChildCount();e++){var n=this.m_polyNodes.Childs()[e];this.m_srcPoly=n.m_polygon;var r=this.m_srcPoly.length;if(!(0==r||t<=0&&(r<3||n.m_endtype!=ie.EndType.etClosedPolygon)))if(this.m_destPoly=new Array,1!=r){this.m_normals.length=0;for(var a=0;a<r-1;a++)this.m_normals.push(ie.ClipperOffset.GetUnitNormal(this.m_srcPoly[a],this.m_srcPoly[a+1]));if(n.m_endtype==ie.EndType.etClosedLine||n.m_endtype==ie.EndType.etClosedPolygon?this.m_normals.push(ie.ClipperOffset.GetUnitNormal(this.m_srcPoly[r-1],this.m_srcPoly[0])):this.m_normals.push(new ie.DoublePoint(this.m_normals[r-2])),n.m_endtype==ie.EndType.etClosedPolygon){for(var s=r-1,a=0;a<r;a++)s=this.OffsetPoint(a,s,n.m_jointype);this.m_destPolys.push(this.m_destPoly)}else if(n.m_endtype==ie.EndType.etClosedLine){for(var s=r-1,a=0;a<r;a++)s=this.OffsetPoint(a,s,n.m_jointype);this.m_destPolys.push(this.m_destPoly),this.m_destPoly=new Array;for(var u=this.m_normals[r-1],a=r-1;a>0;a--)this.m_normals[a]=new ie.DoublePoint(-this.m_normals[a-1].X,-this.m_normals[a-1].Y);this.m_normals[0]=new ie.DoublePoint(-u.X,-u.Y),s=0;for(var a=r-1;a>=0;a--)s=this.OffsetPoint(a,s,n.m_jointype);this.m_destPolys.push(this.m_destPoly)}else{for(var s=0,a=1;a<r-1;++a)s=this.OffsetPoint(a,s,n.m_jointype);var h;if(n.m_endtype==ie.EndType.etOpenButt){var a=r-1;h=new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[a].X+this.m_normals[a].X*t),ie.ClipperOffset.Round(this.m_srcPoly[a].Y+this.m_normals[a].Y*t)),this.m_destPoly.push(h),h=new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[a].X-this.m_normals[a].X*t),ie.ClipperOffset.Round(this.m_srcPoly[a].Y-this.m_normals[a].Y*t)),this.m_destPoly.push(h)}else{var a=r-1;s=r-2,this.m_sinA=0,this.m_normals[a]=new ie.DoublePoint(-this.m_normals[a].X,-this.m_normals[a].Y),n.m_endtype==ie.EndType.etOpenSquare?this.DoSquare(a,s):this.DoRound(a,s)}for(var a=r-1;a>0;a--)this.m_normals[a]=new ie.DoublePoint(-this.m_normals[a-1].X,-this.m_normals[a-1].Y);this.m_normals[0]=new ie.DoublePoint(-this.m_normals[1].X,-this.m_normals[1].Y),s=r-1;for(var a=s-1;a>0;--a)s=this.OffsetPoint(a,s,n.m_jointype);n.m_endtype==ie.EndType.etOpenButt?(h=new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[0].X-this.m_normals[0].X*t),ie.ClipperOffset.Round(this.m_srcPoly[0].Y-this.m_normals[0].Y*t)),this.m_destPoly.push(h),h=new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[0].X+this.m_normals[0].X*t),ie.ClipperOffset.Round(this.m_srcPoly[0].Y+this.m_normals[0].Y*t)),this.m_destPoly.push(h)):(s=1,this.m_sinA=0,n.m_endtype==ie.EndType.etOpenSquare?this.DoSquare(0,1):this.DoRound(0,1)),this.m_destPolys.push(this.m_destPoly)}}else{if(n.m_jointype==ie.JoinType.jtRound)for(var p=1,l=0,a=1;a<=i;a++){this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[0].X+p*t),ie.ClipperOffset.Round(this.m_srcPoly[0].Y+l*t)));var c=p;p=p*this.m_cos-this.m_sin*l,l=c*this.m_sin+l*this.m_cos}else for(var p=-1,l=-1,a=0;a<4;++a)this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[0].X+p*t),ie.ClipperOffset.Round(this.m_srcPoly[0].Y+l*t))),p<0?p=1:l<0?l=1:p=-1;this.m_destPolys.push(this.m_destPoly)}}}},ie.ClipperOffset.prototype.Execute=function(){var t=arguments,e=t[0]instanceof ie.PolyTree;if(e){var n=t[0],o=t[1];n.Clear(),this.FixOrientations(),this.DoOffset(o);var i=new ie.Clipper(0);if(i.AddPaths(this.m_destPolys,ie.PolyType.ptSubject,!0),o>0)i.Execute(ie.ClipType.ctUnion,n,ie.PolyFillType.pftPositive,ie.PolyFillType.pftPositive);else{var r=ie.Clipper.GetBounds(this.m_destPolys),a=new ie.Path;if(a.push(new ie.IntPoint(r.left-10,r.bottom+10)),a.push(new ie.IntPoint(r.right+10,r.bottom+10)),a.push(new ie.IntPoint(r.right+10,r.top-10)),a.push(new ie.IntPoint(r.left-10,r.top-10)),i.AddPath(a,ie.PolyType.ptSubject,!0),i.ReverseSolution=!0,i.Execute(ie.ClipType.ctUnion,n,ie.PolyFillType.pftNegative,ie.PolyFillType.pftNegative),1==n.ChildCount()&&n.Childs()[0].ChildCount()>0){var s=n.Childs()[0];n.Childs()[0]=s.Childs()[0];for(var u=1;u<s.ChildCount();u++)n.AddChild(s.Childs()[u])}else n.Clear()}}else{var n=t[0],o=t[1];ie.Clear(n),this.FixOrientations(),this.DoOffset(o);var i=new ie.Clipper(0);if(i.AddPaths(this.m_destPolys,ie.PolyType.ptSubject,!0),o>0)i.Execute(ie.ClipType.ctUnion,n,ie.PolyFillType.pftPositive,ie.PolyFillType.pftPositive);else{var r=ie.Clipper.GetBounds(this.m_destPolys),a=new ie.Path;a.push(new ie.IntPoint(r.left-10,r.bottom+10)),a.push(new ie.IntPoint(r.right+10,r.bottom+10)),a.push(new ie.IntPoint(r.right+10,r.top-10)),a.push(new ie.IntPoint(r.left-10,r.top-10)),i.AddPath(a,ie.PolyType.ptSubject,!0),i.ReverseSolution=!0,i.Execute(ie.ClipType.ctUnion,n,ie.PolyFillType.pftNegative,ie.PolyFillType.pftNegative),n.length>0&&n.splice(0,1)}}},ie.ClipperOffset.prototype.OffsetPoint=function(t,e,n){if(this.m_sinA=this.m_normals[e].X*this.m_normals[t].Y-this.m_normals[t].X*this.m_normals[e].Y,this.m_sinA<5e-5&&this.m_sinA>-5e-5)return e;if(this.m_sinA>1?this.m_sinA=1:this.m_sinA<-1&&(this.m_sinA=-1),this.m_sinA*this.m_delta<0)this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[e].X*this.m_delta),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[e].Y*this.m_delta))),this.m_destPoly.push(new ie.IntPoint(this.m_srcPoly[t])),this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[t].X*this.m_delta),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[t].Y*this.m_delta)));else switch(n){case ie.JoinType.jtMiter:var o=1+(this.m_normals[t].X*this.m_normals[e].X+this.m_normals[t].Y*this.m_normals[e].Y);o>=this.m_miterLim?this.DoMiter(t,e,o):this.DoSquare(t,e);break;case ie.JoinType.jtSquare:this.DoSquare(t,e);break;case ie.JoinType.jtRound:this.DoRound(t,e)}return e=t},ie.ClipperOffset.prototype.DoSquare=function(t,e){var n=Math.tan(Math.atan2(this.m_sinA,this.m_normals[e].X*this.m_normals[t].X+this.m_normals[e].Y*this.m_normals[t].Y)/4);this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_delta*(this.m_normals[e].X-this.m_normals[e].Y*n)),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_delta*(this.m_normals[e].Y+this.m_normals[e].X*n)))),this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_delta*(this.m_normals[t].X+this.m_normals[t].Y*n)),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_delta*(this.m_normals[t].Y-this.m_normals[t].X*n))))},ie.ClipperOffset.prototype.DoMiter=function(t,e,n){var o=this.m_delta/n;this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+(this.m_normals[e].X+this.m_normals[t].X)*o),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+(this.m_normals[e].Y+this.m_normals[t].Y)*o)))},ie.ClipperOffset.prototype.DoRound=function(t,e){for(var n,o=Math.atan2(this.m_sinA,this.m_normals[e].X*this.m_normals[t].X+this.m_normals[e].Y*this.m_normals[t].Y),i=ie.Cast_Int32(ie.ClipperOffset.Round(this.m_StepsPerRad*Math.abs(o))),r=this.m_normals[e].X,a=this.m_normals[e].Y,s=0;s<i;++s)this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+r*this.m_delta),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+a*this.m_delta))),n=r,r=r*this.m_cos-this.m_sin*a,a=n*this.m_sin+a*this.m_cos;this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[t].X*this.m_delta),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[t].Y*this.m_delta)))},ie.Error=function(t){try{throw new Error(t)}catch(t){alert(t.message)}},ie.JS={},ie.JS.AreaOfPolygon=function(t,e){return e||(e=1),ie.Clipper.Area(t)/(e*e)},ie.JS.AreaOfPolygons=function(t,e){e||(e=1);for(var n=0,o=0;o<t.length;o++)n+=ie.Clipper.Area(t[o]);return n/(e*e)},ie.JS.BoundsOfPath=function(t,e){return ie.JS.BoundsOfPaths([t],e)},ie.JS.BoundsOfPaths=function(t,e){e||(e=1);var n=ie.Clipper.GetBounds(t);return n.left/=e,n.bottom/=e,n.right/=e,n.top/=e,n},ie.JS.Clean=function(t,e){if(!(t instanceof Array))return[];var n=t[0]instanceof Array,t=ie.JS.Clone(t);if("number"!=typeof e||null===e)return ie.Error("Delta is not a number in Clean()."),t;if(0===t.length||1==t.length&&0===t[0].length||e<0)return t;n||(t=[t]);for(var o,i,r,a,s,u,h,p=t.length,l=[],c=0;c<p;c++)if(i=t[c],o=i.length,0!==o)if(o<3)r=i,l.push(r);else{for(r=i,a=e*e,s=i[0],u=1,h=1;h<o;h++)(i[h].X-s.X)*(i[h].X-s.X)+(i[h].Y-s.Y)*(i[h].Y-s.Y)<=a||(r[u]=i[h],s=i[h],u++);s=i[u-1],(i[0].X-s.X)*(i[0].X-s.X)+(i[0].Y-s.Y)*(i[0].Y-s.Y)<=a&&u--,u<o&&r.splice(u,o-u),r.length&&l.push(r)}return!n&&l.length?l=l[0]:n||0!==l.length?n&&0===l.length&&(l=[[]]):l=[],l},ie.JS.Clone=function(t){if(!(t instanceof Array))return[];if(0===t.length)return[];if(1==t.length&&0===t[0].length)return[[]];var e=t[0]instanceof Array;e||(t=[t]);var n,o,i,r,a=t.length,s=new Array(a);for(o=0;o<a;o++){for(n=t[o].length,r=new Array(n),i=0;i<n;i++)r[i]={X:t[o][i].X,Y:t[o][i].Y};s[o]=r}return e||(s=s[0]),s},ie.JS.Lighten=function(t,e){if(!(t instanceof Array))return[];if("number"!=typeof e||null===e)return ie.Error("Tolerance is not a number in Lighten()."),ie.JS.Clone(t);if(0===t.length||1==t.length&&0===t[0].length||e<0)return ie.JS.Clone(t);t[0]instanceof Array||(t=[t]);var n,o,i,r,a,s,u,h,p,l,c,f,d,y,v,g,m,b=t.length,_=e*e,x=[];for(n=0;n<b;n++)if(i=t[n],s=i.length,0!=s){for(r=0;r<1e6;r++){for(a=[],s=i.length,i[s-1].X!=i[0].X||i[s-1].Y!=i[0].Y?(f=1,i.push({X:i[0].X,Y:i[0].Y}),s=i.length):f=0,c=[],o=0;o<s-2;o++)u=i[o],p=i[o+1],h=i[o+2],g=u.X,m=u.Y,d=h.X-g,y=h.Y-m,0===d&&0===y||(v=((p.X-g)*d+(p.Y-m)*y)/(d*d+y*y),v>1?(g=h.X,m=h.Y):v>0&&(g+=d*v,m+=y*v)),d=p.X-g,y=p.Y-m,l=d*d+y*y,l<=_&&(c[o+1]=1,o++);for(a.push({X:i[0].X,Y:i[0].Y}),o=1;o<s-1;o++)c[o]||a.push({X:i[o].X,Y:i[o].Y});if(a.push({X:i[s-1].X,Y:i[s-1].Y}),f&&i.pop(),!c.length)break;i=a}s=a.length,a[s-1].X==a[0].X&&a[s-1].Y==a[0].Y&&a.pop(),a.length>2&&x.push(a)}return!t[0]instanceof Array&&(x=x[0]),"undefined"==typeof x&&(x=[[]]),x},ie.JS.PerimeterOfPath=function(t,e,n){if("undefined"==typeof t)return 0;var o,i,r=Math.sqrt,a=0,s=0,u=0,h=0,p=0,l=t.length;if(l<2)return 0;for(e&&(t[l]=t[0],l++);--l;)o=t[l],s=o.X,u=o.Y,i=t[l-1],h=i.X,p=i.Y,a+=r((s-h)*(s-h)+(u-p)*(u-p));return e&&t.pop(),a/n},ie.JS.PerimeterOfPaths=function(t,e,n){n||(n=1);for(var o=0,i=0;i<t.length;i++)o+=ie.JS.PerimeterOfPath(t[i],e,n);return o},ie.JS.ScaleDownPath=function(t,e){var n,o;for(e||(e=1),n=t.length;n--;)o=t[n],o.X=o.X/e,o.Y=o.Y/e},ie.JS.ScaleDownPaths=function(t,e){var n,o,i;Math.round;for(e||(e=1),n=t.length;n--;)for(o=t[n].length;o--;)i=t[n][o],i.X=i.X/e,i.Y=i.Y/e},ie.JS.ScaleUpPath=function(t,e){var n,o,i=Math.round;for(e||(e=1),n=t.length;n--;)o=t[n],o.X=i(o.X*e),o.Y=i(o.Y*e)},ie.JS.ScaleUpPaths=function(t,e){var n,o,i,r=Math.round;for(e||(e=1),n=t.length;n--;)for(o=t[n].length;o--;)i=t[n][o],i.X=r(i.X*e),i.Y=r(i.Y*e)},ie.ExPolygons=function(){return[]},ie.ExPolygon=function(){this.outer=null,this.holes=null},ie.JS.AddOuterPolyNodeToExPolygons=function(t,e){var n=new ie.ExPolygon;n.outer=t.Contour();var o=t.Childs(),i=o.length;n.holes=new Array(i);var r,a,s,u,h,p;for(s=0;s<i;s++)for(r=o[s],n.holes[s]=r.Contour(),u=0,h=r.Childs(),p=h.length;u<p;u++)a=h[u],ie.JS.AddOuterPolyNodeToExPolygons(a,e);e.push(n)},ie.JS.ExPolygonsToPaths=function(t){var e,n,o,i,r=new ie.Paths;for(e=0,o=t.length;e<o;e++)for(r.push(t[e].outer),n=0,i=t[e].holes.length;n<i;n++)r.push(t[e].holes[n]);return r},ie.JS.PolyTreeToExPolygons=function(t){var e,n,o,i,r=new ie.ExPolygons;for(n=0,o=t.Childs(),i=o.length;n<i;n++)e=o[n],ie.JS.AddOuterPolyNodeToExPolygons(e,r);return r},t.exports=ie},function(t,e,n){(function(o){/*
	 * Konva JavaScript Framework v1.6.7
	 * http://konvajs.github.io/
	 * Licensed under the MIT or GPL Version 2 licenses.
	 * Date: Fri Jul 28 2017
	 *
	 * Original work Copyright (C) 2011 - 2013 by Eric Rowell (KineticJS)
	 * Modified work Copyright (C) 2014 - 2017 by Anton Lavrenov (Konva)
	 *
	 * @license
	 * Permission is hereby granted, free of charge, to any person obtaining a copy
	 * of this software and associated documentation files (the "Software"), to deal
	 * in the Software without restriction, including without limitation the rights
	 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 * copies of the Software, and to permit persons to whom the Software is
	 * furnished to do so, subject to the following conditions:
	 *
	 * The above copyright notice and this permission notice shall be included in
	 * all copies or substantial portions of the Software.
	 *
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	 * THE SOFTWARE.
	 */
!function(e){"use strict";var o=Math.PI/180,i={version:"1.6.7",stages:[],idCounter:0,ids:{},names:{},shapes:{},listenClickTap:!1,inDblClickWindow:!1,enableTrace:!1,traceArrMax:100,dblClickWindow:400,pixelRatio:void 0,dragDistance:0,angleDeg:!0,showWarnings:!0,Filters:{},isDragging:function(){var t=i.DD;return!!t&&t.isDragging},isDragReady:function(){var t=i.DD;return!!t&&!!t.node},_addId:function(t,e){void 0!==e&&(this.ids[e]=t)},_removeId:function(t){void 0!==t&&delete this.ids[t]},_addName:function(t,e){e&&(this.names[e]||(this.names[e]=[]),this.names[e].push(t))},_removeName:function(t,e){if(t){var n=this.names[t];if(n){for(var o=0;o<n.length;o++){var i=n[o];i._id===e&&n.splice(o,1)}0===n.length&&delete this.names[t]}}},getAngle:function(t){return this.angleDeg?t*o:t},_detectIE:function(t){var e=t.indexOf("msie ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);var n=t.indexOf("trident/");if(n>0){var o=t.indexOf("rv:");return parseInt(t.substring(o+3,t.indexOf(".",o)),10)}var i=t.indexOf("edge/");return i>0&&parseInt(t.substring(i+5,t.indexOf(".",i)),10)},_parseUA:function(t){var e=t.toLowerCase(),n=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],o=!!t.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),r=!!t.match(/IEMobile/i);return{browser:n[1]||"",version:n[2]||"0",isIE:i._detectIE(e),mobile:o,ieMobile:r}},UA:void 0},r="undefined"!=typeof e?e:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{};if(i.UA=i._parseUA(r.navigator&&r.navigator.userAgent||""),r.Konva&&console.error("Konva instance is already exist in current eviroment. Please use only one instance."),r.Konva=i,i.global=r,r.window&&r.window.document)i.document=r.window.document,i.window=r.window;else{var a=n(215),s=n(216).jsdom;i.window=s("<!DOCTYPE html><html><head></head><body></body></html>").defaultView,i.document=i.window.document,i.window.Image=a.Image,i._nodeCanvas=a}return void(t.exports=i)}("undefined"!=typeof o?o:window),function(){"use strict";Konva.Collection=function(){var t=[].slice.call(arguments),e=t.length,n=0;for(this.length=e;n<e;n++)this[n]=t[n];return this},Konva.Collection.prototype=[],Konva.Collection.prototype.each=function(t){for(var e=0;e<this.length;e++)t(this[e],e)},Konva.Collection.prototype.toArray=function(){var t,e=[],n=this.length;for(t=0;t<n;t++)e.push(this[t]);return e},Konva.Collection.toCollection=function(t){var e,n=new Konva.Collection,o=t.length;for(e=0;e<o;e++)n.push(t[e]);return n},Konva.Collection._mapMethod=function(t){Konva.Collection.prototype[t]=function(){var e,n=this.length,o=[].slice.call(arguments);for(e=0;e<n;e++)this[e][t].apply(this[e],o);return this}},Konva.Collection.mapMethods=function(t){var e=t.prototype;for(var n in e)Konva.Collection._mapMethod(n)},Konva.Transform=function(t){this.m=t&&t.slice()||[1,0,0,1,0,0]},Konva.Transform.prototype={copy:function(){return new Konva.Transform(this.m)},point:function(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},translate:function(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this},scale:function(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this},rotate:function(t){var e=Math.cos(t),n=Math.sin(t),o=this.m[0]*e+this.m[2]*n,i=this.m[1]*e+this.m[3]*n,r=this.m[0]*-n+this.m[2]*e,a=this.m[1]*-n+this.m[3]*e;return this.m[0]=o,this.m[1]=i,this.m[2]=r,this.m[3]=a,this},getTranslation:function(){return{x:this.m[4],y:this.m[5]}},skew:function(t,e){var n=this.m[0]+this.m[2]*e,o=this.m[1]+this.m[3]*e,i=this.m[2]+this.m[0]*t,r=this.m[3]+this.m[1]*t;return this.m[0]=n,this.m[1]=o,this.m[2]=i,this.m[3]=r,this},multiply:function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],n=this.m[1]*t.m[0]+this.m[3]*t.m[1],o=this.m[0]*t.m[2]+this.m[2]*t.m[3],i=this.m[1]*t.m[2]+this.m[3]*t.m[3],r=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],a=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=n,this.m[2]=o,this.m[3]=i,this.m[4]=r,this.m[5]=a,this},invert:function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,n=-this.m[1]*t,o=-this.m[2]*t,i=this.m[0]*t,r=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=n,this.m[2]=o,this.m[3]=i,this.m[4]=r,this.m[5]=a,this},getMatrix:function(){return this.m},setAbsolutePosition:function(t,e){var n=this.m[0],o=this.m[1],i=this.m[2],r=this.m[3],a=this.m[4],s=this.m[5],u=(n*(e-s)-o*(t-a))/(n*r-o*i),h=(t-a-i*u)/n;return this.translate(h,u)}};var t="2d",n="[object Array]",o="[object Number]",i="[object String]",r=Math.PI/180,a=180/Math.PI,s="#",u="",h="0",p="Konva warning: ",l="Konva error: ",c="rgb(",f={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},d=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;Konva.Util={_isElement:function(t){return!(!t||1!=t.nodeType)},_isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isObject:function(t){return!!t&&t.constructor===Object},_isArray:function(t){return Object.prototype.toString.call(t)===n},_isNumber:function(t){return Object.prototype.toString.call(t)===o},_isString:function(t){return Object.prototype.toString.call(t)===i},_throttle:function(t,e,n){var o,i,r,a=null,s=0,u=n||{},h=function(){s=u.leading===!1?0:(new Date).getTime(),a=null,r=t.apply(o,i),o=i=null};return function(){var n=(new Date).getTime();s||u.leading!==!1||(s=n);var p=e-(n-s);return o=this,i=arguments,p<=0?(clearTimeout(a),a=null,s=n,r=t.apply(o,i),o=i=null):a||u.trailing===!1||(a=setTimeout(h,p)),r}},_hasMethods:function(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&this._isFunction(t[e])&&n.push(e);return n.length>0},isValidSelector:function(t){if("string"!=typeof t)return!1;var e=t[0];return"#"===e||"."===e||e===e.toUpperCase()},createCanvasElement:function(){var t=Konva.document.createElement("canvas");try{t.style=t.style||{}}catch(t){}return t},isBrowser:function(){return"object"!=typeof e},_isInDocument:function(t){for(;t=t.parentNode;)if(t==Konva.document)return!0;return!1},_simplifyArray:function(t){var e,n,o=[],i=t.length,r=Konva.Util;for(e=0;e<i;e++)n=t[e],r._isNumber(n)?n=Math.round(1e3*n)/1e3:r._isString(n)||(n=n.toString()),o.push(n);return o},_getImage:function(e,n){var o,i;if(e)if(this._isElement(e))n(e);else if(this._isString(e))o=new Konva.window.Image,o.onload=function(){n(o)},o.src=e;else if(e.data){i=Konva.Util.createCanvasElement(),i.width=e.width,i.height=e.height;var r=i.getContext(t);r.putImageData(e,0,0),this._getImage(i.toDataURL(),n)}else n(null);else n(null)},_getRGBAString:function(t){var e=t.red||0,n=t.green||0,o=t.blue||0,i=t.alpha||1;return["rgba(",e,",",n,",",o,",",i,")"].join(u)},_rgbToHex:function(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb:function(t){t=t.replace(s,u);var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor:function(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t=h+t;return s+t},get:function(t,e){return void 0===t?e:t},getRGB:function(t){var e;return t in f?(e=f[t],{r:e[0],g:e[1],b:e[2]}):t[0]===s?this._hexToRgb(t.substring(1)):t.substr(0,4)===c?(e=d.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:function(t){return t=t||"black",Konva.Util._namedColorToRBA(t)||Konva.Util._hex3ColorToRGBA(t)||Konva.Util._hex6ColorToRGBA(t)||Konva.Util._rgbColorToRGBA(t)||Konva.Util._rgbaColorToRGBA(t)},_namedColorToRBA:function(t){var e=f[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA:function(t){if(0===t.indexOf("rgb(")){t=t.match(/rgb\(([^)]+)\)/)[1];var e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA:function(t){if(0===t.indexOf("rgba(")){t=t.match(/rgba\(([^)]+)\)/)[1];var e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA:function(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex3ColorToRGBA:function(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_merge:function(t,e){var n=this._clone(e);for(var o in t)this._isObject(t[o])?n[o]=this._merge(t[o],n[o]):n[o]=t[o];return n},cloneObject:function(t){var e={};for(var n in t)this._isObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray:function(t){return t.slice(0)},_degToRad:function(t){return t*r},_radToDeg:function(t){return t*a},_capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw:function(t){throw new Error(l+t)},error:function(t){console.error(l+t)},warn:function(t){Konva.global.console&&console.warn&&Konva.showWarnings&&console.warn(p+t)},extend:function(t,e){function n(){this.constructor=t}n.prototype=e.prototype;var o=t.prototype;t.prototype=new n;for(var i in o)o.hasOwnProperty(i)&&(t.prototype[i]=o[i]);t.__super__=e.prototype,t.super=e},addMethods:function(t,e){var n;for(n in e)t.prototype[n]=e[n]},_getControlPoints:function(t,e,n,o,i,r,a){var s=Math.sqrt(Math.pow(n-t,2)+Math.pow(o-e,2)),u=Math.sqrt(Math.pow(i-n,2)+Math.pow(r-o,2)),h=a*s/(s+u),p=a*u/(s+u),l=n-h*(i-t),c=o-h*(r-e),f=n+p*(i-t),d=o+p*(r-e);return[l,c,f,d]},_expandPoints:function(t,e){var n,o,i=t.length,r=[];for(n=2;n<i-2;n+=2)o=Konva.Util._getControlPoints(t[n-2],t[n-1],t[n],t[n+1],t[n+2],t[n+3],e),r.push(o[0]),r.push(o[1]),r.push(t[n]),r.push(t[n+1]),r.push(o[2]),r.push(o[3]);return r},_removeLastLetter:function(t){return t.substring(0,t.length-1)},each:function(t,e){for(var n in t)e(n,t[n])},_getProjectionToSegment:function(t,e,n,o,i,r){var a,s,u,h=(t-n)*(t-n)+(e-o)*(e-o);if(0==h)a=t,s=e,u=(i-n)*(i-n)+(r-o)*(r-o);else{var p=((i-t)*(n-t)+(r-e)*(o-e))/h;p<0?(a=t,s=e,u=(t-i)*(t-i)+(e-r)*(e-r)):p>1?(a=n,s=o,u=(n-i)*(n-i)+(o-r)*(o-r)):(a=t+p*(n-t),s=e+p*(o-e),u=(a-i)*(a-i)+(s-r)*(s-r))}return[a,s,u]},_getProjectionToLine:function(t,e,n){var o=Konva.Util.cloneObject(t),i=Number.MAX_VALUE;return e.forEach(function(r,a){if(n||a!==e.length-1){var s=e[(a+1)%e.length],u=Konva.Util._getProjectionToSegment(r.x,r.y,s.x,s.y,t.x,t.y),h=u[0],p=u[1],l=u[2];l<i&&(o.x=h,o.y=p,i=l)}}),o},_prepareArrayForTween:function(t,e,n){var o,i=[],r=[];if(t.length>e.length){var a=e;e=t,t=a}for(o=0;o<t.length;o+=2)i.push({x:t[o],y:t[o+1]});for(o=0;o<e.length;o+=2)r.push({x:e[o],y:e[o+1]});var s=[];return r.forEach(function(t){var e=Konva.Util._getProjectionToLine(t,i,n);s.push(e.x),s.push(e.y)}),s},_prepareToStringify:function(t){var e;t.visitedByCircularReferenceRemoval=!0;for(var n in t)if(t.hasOwnProperty(n)&&t[n]&&"object"==typeof t[n])if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||Konva.Util._isElement(t[n])){if(!e.configurable)return null;delete t[n]}else if(null===Konva.Util._prepareToStringify(t[n])){if(!e.configurable)return null;delete t[n]}return delete t.visitedByCircularReferenceRemoval,t}}}(),function(){"use strict";var t=Konva.Util.createCanvasElement(),e=t.getContext("2d"),n=function(){var t=Konva.window.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/n}();Konva.Canvas=function(t){this.init(t)},Konva.Canvas.prototype={init:function(t){var e=t||{},o=e.pixelRatio||Konva.pixelRatio||n;this.pixelRatio=o,this._canvas=Konva.Util.createCanvasElement(),this._canvas.style.padding=0,this._canvas.style.margin=0,this._canvas.style.border=0,this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top=0,this._canvas.style.left=0},getContext:function(){return this.context},getPixelRatio:function(){return this.pixelRatio},setPixelRatio:function(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)},setWidth:function(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var e=this.pixelRatio,n=this.getContext()._context;n.scale(e,e)},setHeight:function(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var e=this.pixelRatio,n=this.getContext()._context;n.scale(e,e)},getWidth:function(){return this.width},getHeight:function(){return this.height},setSize:function(t,e){this.setWidth(t),this.setHeight(e)},toDataURL:function(t,e){try{return this._canvas.toDataURL(t,e)}catch(t){try{return this._canvas.toDataURL()}catch(t){return Konva.Util.warn("Unable to get data URL. "+t.message),""}}}},Konva.SceneCanvas=function(t){var e=t||{},n=e.width||0,o=e.height||0;Konva.Canvas.call(this,e),this.context=new Konva.SceneContext(this),this.setSize(n,o)},Konva.Util.extend(Konva.SceneCanvas,Konva.Canvas),Konva.HitCanvas=function(t){var e=t||{},n=e.width||0,o=e.height||0;Konva.Canvas.call(this,e),this.context=new Konva.HitContext(this),this.setSize(n,o),this.hitCanvas=!0},Konva.Util.extend(Konva.HitCanvas,Konva.Canvas)}(),function(){"use strict";var t=",",e="(",n=")",o="([",i="])",r=";",a="()",s="=",u=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],h=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation"];Konva.Context=function(t){this.init(t)},Konva.Context.prototype={init:function(t){this.canvas=t,this._context=t._canvas.getContext("2d"),Konva.enableTrace&&(this.traceArr=[],this._enableTrace())},fillShape:function(t){t.getFillEnabled()&&this._fill(t)},strokeShape:function(t){t.getStrokeEnabled()&&this._stroke(t)},fillStrokeShape:function(t){var e=t.getFillEnabled();e&&this._fill(t),t.getStrokeEnabled()&&this._stroke(t)},getTrace:function(u){var h,p,l,c,f=this.traceArr,d=f.length,y="";for(h=0;h<d;h++)p=f[h],l=p.method,l?(c=p.args,y+=l,y+=u?a:Konva.Util._isArray(c[0])?o+c.join(t)+i:e+c.join(t)+n):(y+=p.property,u||(y+=s+p.val)),y+=r;return y},clearTrace:function(){this.traceArr=[]},_trace:function(t){var e,n=this.traceArr;n.push(t),e=n.length,e>=Konva.traceArrMax&&n.shift()},reset:function(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)},getCanvas:function(){return this.canvas},clear:function(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)},_applyLineCap:function(t){var e=t.getLineCap();e&&this.setAttr("lineCap",e)},_applyOpacity:function(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)},_applyLineJoin:function(t){var e=t.getLineJoin();e&&this.setAttr("lineJoin",e)},setAttr:function(t,e){this._context[t]=e},arc:function(){var t=arguments;this._context.arc(t[0],t[1],t[2],t[3],t[4],t[5])},beginPath:function(){this._context.beginPath()},bezierCurveTo:function(){var t=arguments;this._context.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5])},clearRect:function(){var t=arguments;this._context.clearRect(t[0],t[1],t[2],t[3])},clip:function(){this._context.clip()},closePath:function(){this._context.closePath()},createImageData:function(){var t=arguments;return 2===t.length?this._context.createImageData(t[0],t[1]):1===t.length?this._context.createImageData(t[0]):void 0},createLinearGradient:function(){var t=arguments;return this._context.createLinearGradient(t[0],t[1],t[2],t[3])},createPattern:function(){var t=arguments;return this._context.createPattern(t[0],t[1])},createRadialGradient:function(){var t=arguments;return this._context.createRadialGradient(t[0],t[1],t[2],t[3],t[4],t[5])},drawImage:function(){var t=arguments,e=this._context;3===t.length?e.drawImage(t[0],t[1],t[2]):5===t.length?e.drawImage(t[0],t[1],t[2],t[3],t[4]):9===t.length&&e.drawImage(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},isPointInPath:function(t,e){return this._context.isPointInPath(t,e)},fill:function(){this._context.fill()},fillRect:function(t,e,n,o){this._context.fillRect(t,e,n,o)},strokeRect:function(t,e,n,o){this._context.strokeRect(t,e,n,o)},fillText:function(){var t=arguments;this._context.fillText(t[0],t[1],t[2])},measureText:function(t){return this._context.measureText(t)},getImageData:function(){var t=arguments;return this._context.getImageData(t[0],t[1],t[2],t[3])},lineTo:function(){var t=arguments;this._context.lineTo(t[0],t[1])},moveTo:function(){var t=arguments;this._context.moveTo(t[0],t[1])},rect:function(){var t=arguments;this._context.rect(t[0],t[1],t[2],t[3])},putImageData:function(){var t=arguments;this._context.putImageData(t[0],t[1],t[2])},quadraticCurveTo:function(){var t=arguments;this._context.quadraticCurveTo(t[0],t[1],t[2],t[3])},restore:function(){this._context.restore()},rotate:function(){var t=arguments;this._context.rotate(t[0])},save:function(){this._context.save()},scale:function(){var t=arguments;this._context.scale(t[0],t[1])},setLineDash:function(){var t=arguments,e=this._context;this._context.setLineDash?e.setLineDash(t[0]):"mozDash"in e?e.mozDash=t[0]:"webkitLineDash"in e&&(e.webkitLineDash=t[0])},getLineDash:function(){return this._context.getLineDash()},setTransform:function(){var t=arguments;this._context.setTransform(t[0],t[1],t[2],t[3],t[4],t[5])},stroke:function(){this._context.stroke()},strokeText:function(){var t=arguments;this._context.strokeText(t[0],t[1],t[2])},transform:function(){var t=arguments;this._context.transform(t[0],t[1],t[2],t[3],t[4],t[5])},translate:function(){var t=arguments;this._context.translate(t[0],t[1])},_enableTrace:function(){var t,e,n=this,o=u.length,i=Konva.Util._simplifyArray,r=this.setAttr,a=function(t){var o,r=n[t];n[t]=function(){return e=i(Array.prototype.slice.call(arguments,0)),o=r.apply(n,arguments),n._trace({method:t,args:e}),o}};for(t=0;t<o;t++)a(u[t]);n.setAttr=function(){r.apply(n,arguments);var t=arguments[0],e=arguments[1];"shadowOffsetX"!==t&&"shadowOffsetY"!==t&&"shadowBlur"!==t||(e/=this.canvas.getPixelRatio()),n._trace({property:t,val:e})}}},h.forEach(function(t){Object.defineProperty(Konva.Context.prototype,t,{get:function(){return this._context[t]},set:function(e){this._context[t]=e}})}),Konva.SceneContext=function(t){Konva.Context.call(this,t)},Konva.SceneContext.prototype={_fillColor:function(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)},_fillPattern:function(t){var e=t.getFillPatternX(),n=t.getFillPatternY(),o=t.getFillPatternScale(),i=Konva.getAngle(t.getFillPatternRotation()),r=t.getFillPatternOffset();(e||n)&&this.translate(e||0,n||0),i&&this.rotate(i),o&&this.scale(o.x,o.y),r&&this.translate(-1*r.x,-1*r.y),this.setAttr("fillStyle",this.createPattern(t.getFillPatternImage(),t.getFillPatternRepeat()||"repeat")),this.fill()},_fillLinearGradient:function(t){var e=t.getFillLinearGradientStartPoint(),n=t.getFillLinearGradientEndPoint(),o=t.getFillLinearGradientColorStops(),i=this.createLinearGradient(e.x,e.y,n.x,n.y);if(o){for(var r=0;r<o.length;r+=2)i.addColorStop(o[r],o[r+1]);this.setAttr("fillStyle",i),t._fillFunc(this)}},_fillRadialGradient:function(t){for(var e=t.getFillRadialGradientStartPoint(),n=t.getFillRadialGradientEndPoint(),o=t.getFillRadialGradientStartRadius(),i=t.getFillRadialGradientEndRadius(),r=t.getFillRadialGradientColorStops(),a=this.createRadialGradient(e.x,e.y,o,n.x,n.y,i),s=0;s<r.length;s+=2)a.addColorStop(r[s],r[s+1]);this.setAttr("fillStyle",a),this.fill()},_fill:function(t){var e=t.fill(),n=t.getFillPatternImage(),o=t.getFillLinearGradientColorStops(),i=t.getFillRadialGradientColorStops(),r=t.getFillPriority();e&&"color"===r?this._fillColor(t):n&&"pattern"===r?this._fillPattern(t):o&&"linear-gradient"===r?this._fillLinearGradient(t):i&&"radial-gradient"===r?this._fillRadialGradient(t):e?this._fillColor(t):n?this._fillPattern(t):o?this._fillLinearGradient(t):i&&this._fillRadialGradient(t)},_stroke:function(t){var e=t.dash(),n=t.getStrokeScaleEnabled()||t instanceof Konva.Text;t.hasStroke()&&(n||(this.save(),this.setTransform(1,0,0,1,0,0)),this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),this.setAttr("strokeStyle",t.stroke()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t._strokeFunc(this),n||this.restore())},_applyShadow:function(t){var e=Konva.Util,n=e.get(t.getShadowRGBA(),"black"),o=e.get(t.getShadowBlur(),5),i=e.get(t.getShadowOffset(),{x:0,y:0}),r=t.getAbsoluteScale(),a=this.canvas.getPixelRatio(),s=r.x*a,u=r.y*a;this.setAttr("shadowColor",n),this.setAttr("shadowBlur",o*a*Math.min(Math.abs(s),Math.abs(u))),this.setAttr("shadowOffsetX",i.x*s),this.setAttr("shadowOffsetY",i.y*u)},_applyGlobalCompositeOperation:function(t){var e=t.getGlobalCompositeOperation();"source-over"!==e&&this.setAttr("globalCompositeOperation",e)}},Konva.Util.extend(Konva.SceneContext,Konva.Context),Konva.HitContext=function(t){Konva.Context.call(this,t)},Konva.HitContext.prototype={_fill:function(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()},_stroke:function(t){if(t.hasStroke()&&t.strokeHitEnabled()){var e=t.getStrokeScaleEnabled()||t instanceof Konva.Text;e||(this.save(),this.setTransform(1,0,0,1,0,0)),this._applyLineCap(t),this.setAttr("lineWidth",t.strokeWidth()),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),e||this.restore()}}},Konva.Util.extend(Konva.HitContext,Konva.Context)}(),function(){"use strict";var t="get",e="set";Konva.Factory={addGetterSetter:function(t,e,n,o,i){this.addGetter(t,e,n),this.addSetter(t,e,o,i),this.addOverloadedGetterSetter(t,e)},addGetter:function(e,n,o){var i=t+Konva.Util._capitalize(n);e.prototype[i]=function(){var t=this.attrs[n];return void 0===t?o:t}},addSetter:function(t,n,o,i){var r=e+Konva.Util._capitalize(n);t.prototype[r]=function(t){return o&&(t=o.call(this,t)),this._setAttr(n,t),i&&i.call(this),this}},addComponentsGetterSetter:function(n,o,i,r,a){var s,u,h=i.length,p=Konva.Util._capitalize,l=t+p(o),c=e+p(o);n.prototype[l]=function(){var t={};for(s=0;s<h;s++)u=i[s],t[u]=this.getAttr(o+p(u));return t},n.prototype[c]=function(t){var e,n=this.attrs[o];r&&(t=r.call(this,t));for(e in t)t.hasOwnProperty(e)&&this._setAttr(o+p(e),t[e]);return this._fireChangeEvent(o,n,t),a&&a.call(this),this},this.addOverloadedGetterSetter(n,o)},addOverloadedGetterSetter:function(n,o){var i=Konva.Util._capitalize(o),r=e+i,a=t+i;n.prototype[o]=function(){return arguments.length?(this[r](arguments[0]),this):this[a]()}},addDeprecatedGetterSetter:function(e,n,o,i){var r=t+Konva.Util._capitalize(n),a=n+" property is deprecated and will be removed soon. Look at Konva change log for more information.";e.prototype[r]=function(){Konva.Util.error(a);var t=this.attrs[n];return void 0===t?o:t},this.addSetter(e,n,i,function(){Konva.Util.error(a)}),this.addOverloadedGetterSetter(e,n)},backCompat:function(t,e){Konva.Util.each(e,function(e,n){var o=t.prototype[n];t.prototype[e]=function(){o.apply(this,arguments),Konva.Util.error(e+" method is deprecated and will be removed soon. Use "+n+" instead")}})},afterSetFilter:function(){this._filterUpToDate=!1}},Konva.Validators={RGBComponent:function(t){return t>255?255:t<0?0:Math.round(t)},alphaComponent:function(t){return t>1?1:t<1e-4?1e-4:t}}}(),function(t){"use strict";var e="absoluteOpacity",n="absoluteTransform",o="absoluteScale",i="Change",r="children",a=".",s="",u="get",h="id",p="konva",l="listening",c="mouseenter",f="mouseleave",d="name",y="set",v="Shape",g=" ",m="stage",b="transform",_="Stage",x="visible",w=["id"],P=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(g),S=["scaleXChange.konva","scaleYChange.konva"].join(g);t.Node=function(t){this._init(t)},t.Util.addMethods(t.Node,{_init:function(i){var r=this;this._id=t.idCounter++,this.eventListeners={},this.attrs={},this._cache={},this._filterUpToDate=!1,this._isUnderCache=!1,this.setAttrs(i),this.on(P,function(){this._clearCache(b),r._clearSelfAndDescendantCache(n)}),this.on(S,function(){r._clearSelfAndDescendantCache(o)}),this.on("visibleChange.konva",function(){r._clearSelfAndDescendantCache(x)}),this.on("listeningChange.konva",function(){r._clearSelfAndDescendantCache(l)}),this.on("opacityChange.konva",function(){r._clearSelfAndDescendantCache(e)})},_clearCache:function(t){t?delete this._cache[t]:this._cache={}},_getCache:function(t,e){var n=this._cache[t];return void 0===n&&(this._cache[t]=e.call(this)),this._cache[t]},_clearSelfAndDescendantCache:function(t){this._clearCache(t),this.children&&this.getChildren().each(function(e){e._clearSelfAndDescendantCache(t)})},clearCache:function(){return delete this._cache.canvas,this._filterUpToDate=!1,this},cache:function(n){var i=n||{},r=this.getClientRect(!0),a=i.width||r.width,s=i.height||r.height,u=i.pixelRatio,h=i.x||r.x,p=i.y||r.y,l=i.offset||0,c=i.drawBorder||!1;if(!a||!s)throw new Error("Width or height of caching configuration equals 0.");a+=2*l,s+=2*l,h-=l,p-=l;var f=new t.SceneCanvas({pixelRatio:u,width:a,height:s}),d=new t.SceneCanvas({pixelRatio:u,width:a,height:s}),y=new t.HitCanvas({pixelRatio:1,width:a,height:s}),v=f.getContext(),g=y.getContext();return y.isCache=!0,this.clearCache(),v.save(),g.save(),v.translate(-h,-p),g.translate(-h,-p),this._isUnderCache=!0,this._clearSelfAndDescendantCache(e),this._clearSelfAndDescendantCache(o),this.drawScene(f,this,!0),this.drawHit(y,this,!0),this._isUnderCache=!1,v.restore(),g.restore(),c&&(v.save(),v.beginPath(),v.rect(0,0,a,s),v.closePath(),v.setAttr("strokeStyle","red"),v.setAttr("lineWidth",5),v.stroke(),v.restore()),this._cache.canvas={scene:f,filter:d,hit:y,x:h,y:p},this},getClientRect:function(){throw new Error('abstract "getClientRect" method call')},_transformedRect:function(t){var e,n,o,i,r=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],a=this.getTransform();return r.forEach(function(t){var r=a.point(t);void 0===e&&(e=o=r.x,n=i=r.y),e=Math.min(e,r.x),n=Math.min(n,r.y),o=Math.max(o,r.x),i=Math.max(i,r.y)}),{x:e,y:n,width:o-e,height:i-n}},_drawCachedSceneCanvas:function(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this),t.translate(this._cache.canvas.x,this._cache.canvas.y);var e=this._getCachedSceneCanvas(),n=e.pixelRatio;t.drawImage(e._canvas,0,0,e.width/n,e.height/n),t.restore()},_drawCachedHitCanvas:function(t){var e=this._cache.canvas,n=e.hit;t.save(),t.translate(this._cache.canvas.x,this._cache.canvas.y),t.drawImage(n._canvas,0,0),t.restore()},_getCachedSceneCanvas:function(){var e,n,o,i,r=this.filters(),a=this._cache.canvas,s=a.scene,u=a.filter,h=u.getContext();if(r){if(!this._filterUpToDate){var p=s.pixelRatio;try{for(e=r.length,h.clear(),h.drawImage(s._canvas,0,0,s.getWidth()/p,s.getHeight()/p),n=h.getImageData(0,0,u.getWidth(),u.getHeight()),o=0;o<e;o++)i=r[o],"function"==typeof i?(i.call(this,n),h.putImageData(n,0,0)):t.Util.error("Filter should be type of function, but got "+typeof i+" insted. Please check correct filters")}catch(e){t.Util.error("Unable to apply filter. "+e.message)}this._filterUpToDate=!0}return u}return s},on:function(t,e){if(3===arguments.length)return this._delegate.apply(this,arguments);var n,o,i,r,u,h=t.split(g),p=h.length;for(n=0;n<p;n++)o=h[n],i=o.split(a),r=i[0],u=i[1]||s,this.eventListeners[r]||(this.eventListeners[r]=[]),this.eventListeners[r].push({name:u,handler:e});return this},off:function(t){var e,n,o,i,r,s,u=(t||"").split(g),h=u.length;if(!t)for(n in this.eventListeners)this._off(n);for(e=0;e<h;e++)if(o=u[e],i=o.split(a),r=i[0],s=i[1],r)this.eventListeners[r]&&this._off(r,s);else for(n in this.eventListeners)this._off(n,s);return this},dispatchEvent:function(t){var e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this},addEventListener:function(t,e){return this.on(t,function(t){e.call(this,t.evt)}),this},removeEventListener:function(t){return this.off(t),this},_delegate:function(e,n,o){var i=this;this.on(e,function(e){for(var r=e.target.findAncestors(n,!0,i),a=0;a<r.length;a++)e=t.Util.cloneObject(e),e.currentTarget=r[a],
o.call(r[a],e)})},remove:function(){var t=this.getParent();return t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),delete this.parent),this._clearSelfAndDescendantCache(m),this._clearSelfAndDescendantCache(n),this._clearSelfAndDescendantCache(x),this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(e),this},destroy:function(){t._removeId(this.getId());for(var e=(this.getName()||"").split(/\s/g),n=0;n<e.length;n++){var o=e[n];t._removeName(o,this._id)}return this.remove(),this},getAttr:function(e){var n=u+t.Util._capitalize(e);return t.Util._isFunction(this[n])?this[n]():this.attrs[e]},getAncestors:function(){for(var e=this.getParent(),n=new t.Collection;e;)n.push(e),e=e.getParent();return n},getAttrs:function(){return this.attrs||{}},setAttrs:function(e){var n,o;if(!e)return this;for(n in e)n!==r&&(o=y+t.Util._capitalize(n),t.Util._isFunction(this[o])?this[o](e[n]):this._setAttr(n,e[n]));return this},isListening:function(){return this._getCache(l,this._isListening)},_isListening:function(){var t=this.getListening(),e=this.getParent();return"inherit"===t?!e||e.isListening():t},isVisible:function(){return this._getCache(x,this._isVisible)},_isVisible:function(){var t=this.getVisible(),e=this.getParent();return"inherit"===t?!e||e.isVisible():t},shouldDrawHit:function(t){var e=this.getLayer();return t&&t.isCache||e&&e.hitGraphEnabled()&&this.isListening()&&this.isVisible()},show:function(){return this.setVisible(!0),this},hide:function(){return this.setVisible(!1),this},getZIndex:function(){return this.index||0},getAbsoluteZIndex:function(){function t(u){for(e=[],n=u.length,o=0;o<n;o++)i=u[o],s++,i.nodeType!==v&&(e=e.concat(i.getChildren().toArray())),i._id===a._id&&(o=n);e.length>0&&e[0].getDepth()<=r&&t(e)}var e,n,o,i,r=this.getDepth(),a=this,s=0;return a.nodeType!==_&&t(a.getStage().getChildren()),s},getDepth:function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},setPosition:function(t){return this.setX(t.x),this.setY(t.y),this},getPosition:function(){return{x:this.getX(),y:this.getY()}},getAbsolutePosition:function(e){var n=this.getAbsoluteTransform(e).getMatrix(),o=new t.Transform,i=this.offset();return o.m=n.slice(),o.translate(i.x,i.y),o.getTranslation()},setAbsolutePosition:function(t){var e,n=this._clearTransform();return this.attrs.x=n.x,this.attrs.y=n.y,delete n.x,delete n.y,e=this.getAbsoluteTransform(),e.invert(),e.translate(t.x,t.y),t={x:this.attrs.x+e.getTranslation().x,y:this.attrs.y+e.getTranslation().y},this.setPosition({x:t.x,y:t.y}),this._setTransform(n),this},_setTransform:function(t){var e;for(e in t)this.attrs[e]=t[e];this._clearCache(b),this._clearSelfAndDescendantCache(n)},_clearTransform:function(){var t={x:this.getX(),y:this.getY(),rotation:this.getRotation(),scaleX:this.getScaleX(),scaleY:this.getScaleY(),offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),skewX:this.getSkewX(),skewY:this.getSkewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,this._clearCache(b),this._clearSelfAndDescendantCache(n),t},move:function(t){var e=t.x,n=t.y,o=this.getX(),i=this.getY();return void 0!==e&&(o+=e),void 0!==n&&(i+=n),this.setPosition({x:o,y:i}),this},_eachAncestorReverse:function(t,e){var n,o,i=[],r=this.getParent();if(e&&e._id===this._id)return t(this),!0;for(i.unshift(this);r&&(!e||r._id!==e._id);)i.unshift(r),r=r.parent;for(n=i.length,o=0;o<n;o++)t(i[o])},rotate:function(t){return this.setRotation(this.getRotation()+t),this},moveToTop:function(){if(!this.parent)return t.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index;return this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0},moveUp:function(){if(!this.parent)return t.Util.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index,n=this.parent.getChildren().length;return e<n-1&&(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0)},moveDown:function(){if(!this.parent)return t.Util.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0)},moveToBottom:function(){if(!this.parent)return t.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)},setZIndex:function(e){if(!this.parent)return t.Util.warn("Node has no parent. zIndex parameter is ignored."),!1;var n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this},getAbsoluteOpacity:function(){return this._getCache(e,this._getAbsoluteOpacity)},_getAbsoluteOpacity:function(){var t=this.getOpacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=this.getParent().getAbsoluteOpacity()),t},moveTo:function(t){return this.getParent()!==t&&((this.__originalRemove||this.remove).call(this),t.add(this)),this},toObject:function(){var e,n,o,i,r={},a=this.getAttrs();r.attrs={};for(e in a)n=a[e],o=this[e],delete a[e],i=o?o.call(this):null,a[e]=n,i!==n&&(r.attrs[e]=n);return r.className=this.getClassName(),t.Util._prepareToStringify(r)},toJSON:function(){return JSON.stringify(this.toObject())},getParent:function(){return this.parent},findAncestors:function(t,e,n){var o=[];e&&this._isMatch(t)&&o.push(this);for(var i=this.parent;i;){if(i===n)return o;i._isMatch(t)&&o.push(i),i=i.parent}return o},findAncestor:function(t,e,n){return this.findAncestors(t,e,n)[0]},_isMatch:function(e){if(!e)return!1;var n,o,i=e.replace(/ /g,"").split(","),r=i.length;for(n=0;n<r;n++)if(o=i[n],t.Util.isValidSelector(o)||(t.Util.warn('Selector "'+o+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),t.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),t.Util.warn("Konva is awesome, right?")),"#"===o.charAt(0)){if(this.id()===o.slice(1))return!0}else if("."===o.charAt(0)){if(this.hasName(o.slice(1)))return!0}else if(0!==this._get(o).length)return!0;return!1},getLayer:function(){var t=this.getParent();return t?t.getLayer():null},getStage:function(){return this._getCache(m,this._getStage)},_getStage:function(){var t=this.getParent();return t?t.getStage():void 0},fire:function(t,e,n){return e=e||{},e.target=e.target||this,n?this._fireAndBubble(t,e):this._fire(t,e),this},getAbsoluteTransform:function(t){return t?this._getAbsoluteTransform(t):this._getCache(n,this._getAbsoluteTransform)},_getAbsoluteTransform:function(e){var n,o,i=new t.Transform;return this._eachAncestorReverse(function(t){n=t.transformsEnabled(),o=t.getTransform(),"all"===n?i.multiply(o):"position"===n&&i.translate(t.x(),t.y())},e),i},getAbsoluteScale:function(t){return t?this._getAbsoluteScale(t):this._getCache(o,this._getAbsoluteScale)},_getAbsoluteScale:function(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();var n=1,o=1;return this._eachAncestorReverse(function(t){n*=t.scaleX(),o*=t.scaleY()},t),{x:n,y:o}},getTransform:function(){return this._getCache(b,this._getTransform)},_getTransform:function(){var e=new t.Transform,n=this.getX(),o=this.getY(),i=t.getAngle(this.getRotation()),r=this.getScaleX(),a=this.getScaleY(),s=this.getSkewX(),u=this.getSkewY(),h=this.getOffsetX(),p=this.getOffsetY();return 0===n&&0===o||e.translate(n,o),0!==i&&e.rotate(i),0===s&&0===u||e.skew(s,u),1===r&&1===a||e.scale(r,a),0===h&&0===p||e.translate(-1*h,-1*p),e},clone:function(e){var n,o,i,r,a,s=t.Util.cloneObject(this.attrs);for(var u in w){var h=w[u];delete s[h]}for(n in e)s[n]=e[n];var l=new this.constructor(s);for(n in this.eventListeners)for(o=this.eventListeners[n],i=o.length,r=0;r<i;r++)a=o[r],a.name.indexOf(p)<0&&(l.eventListeners[n]||(l.eventListeners[n]=[]),l.eventListeners[n].push(a));return l},_toKonvaCanvas:function(e){e=e||{};var n=this.getStage(),o=e.x||0,i=e.y||0,r=e.pixelRatio||1,a=new t.SceneCanvas({width:e.width||this.getWidth()||(n?n.getWidth():0),height:e.height||this.getHeight()||(n?n.getHeight():0),pixelRatio:r}),s=a.getContext();return s.save(),(o||i)&&s.translate(-1*o,-1*i),this.drawScene(a),s.restore(),a},toCanvas:function(t){return this._toKonvaCanvas(t)._canvas},toDataURL:function(t){t=t||{};var e=t.mimeType||null,n=t.quality||null;return this._toKonvaCanvas(t).toDataURL(e,n)},toImage:function(e){if(!e||!e.callback)throw"callback required for toImage method config argument";t.Util._getImage(this.toDataURL(e),function(t){e.callback(t)})},setSize:function(t){return this.setWidth(t.width),this.setHeight(t.height),this},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getWidth:function(){return this.attrs.width||0},getHeight:function(){return this.attrs.height||0},getClassName:function(){return this.className||this.nodeType},getType:function(){return this.nodeType},getDragDistance:function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():t.dragDistance},_get:function(t){return this.className===t||this.nodeType===t?[this]:[]},_off:function(t,e){var n,o,i=this.eventListeners[t];for(n=0;n<i.length;n++)if(o=i[n].name,!("konva"===o&&"konva"!==e||e&&o!==e)){if(i.splice(n,1),0===i.length){delete this.eventListeners[t];break}n--}},_fireChangeEvent:function(t,e,n){this._fire(t+i,{oldVal:e,newVal:n})},setId:function(e){var n=this.getId();return t._removeId(n),t._addId(this,e),this._setAttr(h,e),this},setName:function(e){var n,o,i=(this.getName()||"").split(/\s/g),r=(e||"").split(/\s/g);for(o=0;o<i.length;o++)n=i[o],r.indexOf(n)===-1&&n&&t._removeName(n,this._id);for(o=0;o<r.length;o++)n=r[o],i.indexOf(n)===-1&&n&&t._addName(this,n);return this._setAttr(d,e),this},addName:function(t){if(!this.hasName(t)){var e=this.name(),n=e?e+" "+t:t;this.setName(n)}return this},hasName:function(t){var e=(this.name()||"").split(/\s/g);return e.indexOf(t)!==-1},removeName:function(t){var e=(this.name()||"").split(/\s/g),n=e.indexOf(t);return n!==-1&&(e.splice(n,1),this.setName(e.join(" "))),this},setAttr:function(e,n){var o=y+t.Util._capitalize(e),i=this[o];return t.Util._isFunction(i)?i.call(this,n):this._setAttr(e,n),this},_setAttr:function(t,e){var n;n=this.attrs[t],n!==e&&(void 0===e||null===e?delete this.attrs[t]:this.attrs[t]=e,this._fireChangeEvent(t,n,e))},_setComponentAttr:function(t,e,n){var o;void 0!==n&&(o=this.attrs[t],o||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=n,this._fireChangeEvent(t,o,n))},_fireAndBubble:function(t,e,n){var o=!0;if(e&&this.nodeType===v&&(e.target=this),t===c&&n&&(this._id===n._id||this.isAncestorOf&&this.isAncestorOf(n))?o=!1:t===f&&n&&(this._id===n._id||this.isAncestorOf&&this.isAncestorOf(n))&&(o=!1),o){this._fire(t,e);var i=(t===c||t===f)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!i&&(n&&n.parent?this._fireAndBubble.call(this.parent,t,e,n.parent):this._fireAndBubble.call(this.parent,t,e))}},_fire:function(t,e){var n,o=this.eventListeners[t];if(e=e||{},e.currentTarget=this,e.type=t,o)for(n=0;n<o.length;n++)o[n].handler.call(this,e)},draw:function(){return this.drawScene(),this.drawHit(),this}}),t.Node.create=function(e,n){return t.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)},t.Node._createNode=function(e,n){var o,i,r,a=t.Node.prototype.getClassName.call(e),s=e.children;if(n&&(e.attrs.container=n),o=new t[a](e.attrs),s)for(i=s.length,r=0;r<i;r++)o.add(this._createNode(s[r]));return o},t.Factory.addOverloadedGetterSetter(t.Node,"position"),t.Factory.addGetterSetter(t.Node,"x",0),t.Factory.addGetterSetter(t.Node,"y",0),t.Factory.addGetterSetter(t.Node,"globalCompositeOperation","source-over"),t.Factory.addGetterSetter(t.Node,"opacity",1),t.Factory.addGetter(t.Node,"name"),t.Factory.addOverloadedGetterSetter(t.Node,"name"),t.Factory.addGetter(t.Node,"id"),t.Factory.addOverloadedGetterSetter(t.Node,"id"),t.Factory.addGetterSetter(t.Node,"rotation",0),t.Factory.addComponentsGetterSetter(t.Node,"scale",["x","y"]),t.Factory.addGetterSetter(t.Node,"scaleX",1),t.Factory.addGetterSetter(t.Node,"scaleY",1),t.Factory.addComponentsGetterSetter(t.Node,"skew",["x","y"]),t.Factory.addGetterSetter(t.Node,"skewX",0),t.Factory.addGetterSetter(t.Node,"skewY",0),t.Factory.addComponentsGetterSetter(t.Node,"offset",["x","y"]),t.Factory.addGetterSetter(t.Node,"offsetX",0),t.Factory.addGetterSetter(t.Node,"offsetY",0),t.Factory.addSetter(t.Node,"dragDistance"),t.Factory.addOverloadedGetterSetter(t.Node,"dragDistance"),t.Factory.addSetter(t.Node,"width",0),t.Factory.addOverloadedGetterSetter(t.Node,"width"),t.Factory.addSetter(t.Node,"height",0),t.Factory.addOverloadedGetterSetter(t.Node,"height"),t.Factory.addGetterSetter(t.Node,"listening","inherit"),t.Factory.addGetterSetter(t.Node,"preventDefault",!0),t.Factory.addGetterSetter(t.Node,"filters",void 0,function(t){return this._filterUpToDate=!1,t}),t.Factory.addGetterSetter(t.Node,"visible","inherit"),t.Factory.addGetterSetter(t.Node,"transformsEnabled","all"),t.Factory.addOverloadedGetterSetter(t.Node,"size"),t.Factory.backCompat(t.Node,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),t.Collection.mapMethods(t.Node)}(Konva),function(){"use strict";Konva.Filters.Grayscale=function(t){var e,n,o=t.data,i=o.length;for(e=0;e<i;e+=4)n=.34*o[e]+.5*o[e+1]+.16*o[e+2],o[e]=n,o[e+1]=n,o[e+2]=n}}(),function(){"use strict";Konva.Filters.Brighten=function(t){var e,n=255*this.brightness(),o=t.data,i=o.length;for(e=0;e<i;e+=4)o[e]+=n,o[e+1]+=n,o[e+2]+=n},Konva.Factory.addGetterSetter(Konva.Node,"brightness",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Invert=function(t){var e,n=t.data,o=n.length;for(e=0;e<o;e+=4)n[e]=255-n[e],n[e+1]=255-n[e+1],n[e+2]=255-n[e+2]}}(),function(){"use strict";function t(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}function e(e,i){var r,a,s,u,h,p,l,c,f,d,y,v,g,m,b,_,x,w,P,S,C,M,T,A,E=e.data,I=e.width,L=e.height,N=i+i+1,O=I-1,k=L-1,R=i+1,F=R*(R+1)/2,D=new t,j=null,K=D,B=null,X=null,U=n[i],Y=o[i];for(s=1;s<N;s++)K=K.next=new t,s===R&&(j=K);for(K.next=D,l=p=0,a=0;a<L;a++){for(_=x=w=P=c=f=d=y=0,v=R*(S=E[p]),g=R*(C=E[p+1]),m=R*(M=E[p+2]),b=R*(T=E[p+3]),c+=F*S,f+=F*C,d+=F*M,y+=F*T,K=D,s=0;s<R;s++)K.r=S,K.g=C,K.b=M,K.a=T,K=K.next;for(s=1;s<R;s++)u=p+((O<s?O:s)<<2),c+=(K.r=S=E[u])*(A=R-s),f+=(K.g=C=E[u+1])*A,d+=(K.b=M=E[u+2])*A,y+=(K.a=T=E[u+3])*A,_+=S,x+=C,w+=M,P+=T,K=K.next;for(B=D,X=j,r=0;r<I;r++)E[p+3]=T=y*U>>Y,0!==T?(T=255/T,E[p]=(c*U>>Y)*T,E[p+1]=(f*U>>Y)*T,E[p+2]=(d*U>>Y)*T):E[p]=E[p+1]=E[p+2]=0,c-=v,f-=g,d-=m,y-=b,v-=B.r,g-=B.g,m-=B.b,b-=B.a,u=l+((u=r+i+1)<O?u:O)<<2,_+=B.r=E[u],x+=B.g=E[u+1],w+=B.b=E[u+2],P+=B.a=E[u+3],c+=_,f+=x,d+=w,y+=P,B=B.next,v+=S=X.r,g+=C=X.g,m+=M=X.b,b+=T=X.a,_-=S,x-=C,w-=M,P-=T,X=X.next,p+=4;l+=I}for(r=0;r<I;r++){for(x=w=P=_=f=d=y=c=0,p=r<<2,v=R*(S=E[p]),g=R*(C=E[p+1]),m=R*(M=E[p+2]),b=R*(T=E[p+3]),c+=F*S,f+=F*C,d+=F*M,y+=F*T,K=D,s=0;s<R;s++)K.r=S,K.g=C,K.b=M,K.a=T,K=K.next;for(h=I,s=1;s<=i;s++)p=h+r<<2,c+=(K.r=S=E[p])*(A=R-s),f+=(K.g=C=E[p+1])*A,d+=(K.b=M=E[p+2])*A,y+=(K.a=T=E[p+3])*A,_+=S,x+=C,w+=M,P+=T,K=K.next,s<k&&(h+=I);for(p=r,B=D,X=j,a=0;a<L;a++)u=p<<2,E[u+3]=T=y*U>>Y,T>0?(T=255/T,E[u]=(c*U>>Y)*T,E[u+1]=(f*U>>Y)*T,E[u+2]=(d*U>>Y)*T):E[u]=E[u+1]=E[u+2]=0,c-=v,f-=g,d-=m,y-=b,v-=B.r,g-=B.g,m-=B.b,b-=B.a,u=r+((u=a+R)<k?u:k)*I<<2,c+=_+=B.r=E[u],f+=x+=B.g=E[u+1],d+=w+=B.b=E[u+2],y+=P+=B.a=E[u+3],B=B.next,v+=S=X.r,g+=C=X.g,m+=M=X.b,b+=T=X.a,_-=S,x-=C,w-=M,P-=T,X=X.next,p+=I}}var n=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],o=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];Konva.Filters.Blur=function(t){var n=Math.round(this.blurRadius());n>0&&e(t,n)},Konva.Factory.addGetterSetter(Konva.Node,"blurRadius",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";function t(t,e,n){var o=4*(n*t.width+e),i=[];return i.push(t.data[o++],t.data[o++],t.data[o++],t.data[o++]),i}function e(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function n(t){for(var e=[0,0,0],n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function o(o,i){var r=t(o,0,0),a=t(o,o.width-1,0),s=t(o,0,o.height-1),u=t(o,o.width-1,o.height-1),h=i||10;if(e(r,a)<h&&e(a,u)<h&&e(u,s)<h&&e(s,r)<h){for(var p=n([a,r,u,s]),l=[],c=0;c<o.width*o.height;c++){var f=e(p,[o.data[4*c],o.data[4*c+1],o.data[4*c+2]]);l[c]=f<h?0:255}return l}}function i(t,e){for(var n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function r(t,e,n){for(var o=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(o.length)),r=Math.floor(i/2),a=[],s=0;s<n;s++)for(var u=0;u<e;u++){for(var h=s*e+u,p=0,l=0;l<i;l++)for(var c=0;c<i;c++){var f=s+l-r,d=u+c-r;if(f>=0&&f<n&&d>=0&&d<e){var y=f*e+d,v=o[l*i+c];p+=t[y]*v}}a[h]=2040===p?255:0}return a}function a(t,e,n){for(var o=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(o.length)),r=Math.floor(i/2),a=[],s=0;s<n;s++)for(var u=0;u<e;u++){for(var h=s*e+u,p=0,l=0;l<i;l++)for(var c=0;c<i;c++){var f=s+l-r,d=u+c-r;if(f>=0&&f<n&&d>=0&&d<e){var y=f*e+d,v=o[l*i+c];p+=t[y]*v}}a[h]=p>=1020?255:0}return a}function s(t,e,n){for(var o=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],i=Math.round(Math.sqrt(o.length)),r=Math.floor(i/2),a=[],s=0;s<n;s++)for(var u=0;u<e;u++){for(var h=s*e+u,p=0,l=0;l<i;l++)for(var c=0;c<i;c++){var f=s+l-r,d=u+c-r;if(f>=0&&f<n&&d>=0&&d<e){var y=f*e+d,v=o[l*i+c];p+=t[y]*v}}a[h]=p}return a}Konva.Filters.Mask=function(t){var e=this.threshold(),n=o(t,e);return n&&(n=r(n,t.width,t.height),n=a(n,t.width,t.height),n=s(n,t.width,t.height),i(t,n)),t},Konva.Factory.addGetterSetter(Konva.Node,"threshold",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.RGB=function(t){var e,n,o=t.data,i=o.length,r=this.red(),a=this.green(),s=this.blue();for(e=0;e<i;e+=4)n=(.34*o[e]+.5*o[e+1]+.16*o[e+2])/255,o[e]=n*r,o[e+1]=n*a,o[e+2]=n*s,o[e+3]=o[e+3]},Konva.Factory.addGetterSetter(Konva.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),Konva.Factory.addGetterSetter(Konva.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),Konva.Factory.addGetterSetter(Konva.Node,"blue",0,Konva.Validators.RGBComponent,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.RGBA=function(t){var e,n,o=t.data,i=o.length,r=this.red(),a=this.green(),s=this.blue(),u=this.alpha();for(e=0;e<i;e+=4)n=1-u,o[e]=r*u+o[e]*n,o[e+1]=a*u+o[e+1]*n,o[e+2]=s*u+o[e+2]*n},Konva.Factory.addGetterSetter(Konva.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),Konva.Factory.addGetterSetter(Konva.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),Konva.Factory.addGetterSetter(Konva.Node,"blue",0,Konva.Validators.RGBComponent,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t})}(),function(){"use strict";Konva.Filters.HSV=function(t){var e,n,o,i,r,a=t.data,s=a.length,u=Math.pow(2,this.value()),h=Math.pow(2,this.saturation()),p=Math.abs(this.hue()+360)%360,l=u*h*Math.cos(p*Math.PI/180),c=u*h*Math.sin(p*Math.PI/180),f=.299*u+.701*l+.167*c,d=.587*u-.587*l+.33*c,y=.114*u-.114*l-.497*c,v=.299*u-.299*l-.328*c,g=.587*u+.413*l+.035*c,m=.114*u-.114*l+.293*c,b=.299*u-.3*l+1.25*c,_=.587*u-.586*l-1.05*c,x=.114*u+.886*l-.2*c;for(e=0;e<s;e+=4)n=a[e+0],o=a[e+1],i=a[e+2],r=a[e+3],a[e+0]=f*n+d*o+y*i,a[e+1]=v*n+g*o+m*i,a[e+2]=b*n+_*o+x*i,a[e+3]=r},Konva.Factory.addGetterSetter(Konva.Node,"hue",0,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"saturation",0,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"value",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Factory.addGetterSetter(Konva.Node,"hue",0,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"saturation",0,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"luminance",0,null,Konva.Factory.afterSetFilter),Konva.Filters.HSL=function(t){var e,n,o,i,r,a=t.data,s=a.length,u=1,h=Math.pow(2,this.saturation()),p=Math.abs(this.hue()+360)%360,l=127*this.luminance(),c=u*h*Math.cos(p*Math.PI/180),f=u*h*Math.sin(p*Math.PI/180),d=.299*u+.701*c+.167*f,y=.587*u-.587*c+.33*f,v=.114*u-.114*c-.497*f,g=.299*u-.299*c-.328*f,m=.587*u+.413*c+.035*f,b=.114*u-.114*c+.293*f,_=.299*u-.3*c+1.25*f,x=.587*u-.586*c-1.05*f,w=.114*u+.886*c-.2*f;for(e=0;e<s;e+=4)n=a[e+0],o=a[e+1],i=a[e+2],r=a[e+3],a[e+0]=d*n+y*o+v*i+l,a[e+1]=g*n+m*o+b*i+l,a[e+2]=_*n+x*o+w*i+l,a[e+3]=r}}(),function(){"use strict";Konva.Filters.Emboss=function(t){var e=10*this.embossStrength(),n=255*this.embossWhiteLevel(),o=this.embossDirection(),i=this.embossBlend(),r=0,a=0,s=t.data,u=t.width,h=t.height,p=4*u,l=h;switch(o){case"top-left":r=-1,a=-1;break;case"top":r=-1,a=0;break;case"top-right":r=-1,a=1;break;case"right":r=0,a=1;break;case"bottom-right":r=1,a=1;break;case"bottom":r=1,a=0;break;case"bottom-left":r=1,a=-1;break;case"left":r=0,a=-1;break;default:Konva.Util.error("Unknown emboss direction: "+o)}do{var c=(l-1)*p,f=r;l+f<1&&(f=0),l+f>h&&(f=0);var d=(l-1+f)*u*4,y=u;do{var v=c+4*(y-1),g=a;y+g<1&&(g=0),y+g>u&&(g=0);var m=d+4*(y-1+g),b=s[v]-s[m],_=s[v+1]-s[m+1],x=s[v+2]-s[m+2],w=b,P=w>0?w:-w,S=_>0?_:-_,C=x>0?x:-x;if(S>P&&(w=_),C>P&&(w=x),w*=e,i){var M=s[v]+w,T=s[v+1]+w,A=s[v+2]+w;s[v]=M>255?255:M<0?0:M,s[v+1]=T>255?255:T<0?0:T,s[v+2]=A>255?255:A<0?0:A}else{var E=n-w;E<0?E=0:E>255&&(E=255),s[v]=s[v+1]=s[v+2]=E}}while(--y)}while(--l)},Konva.Factory.addGetterSetter(Konva.Node,"embossStrength",.5,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"embossWhiteLevel",.5,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"embossDirection","top-left",null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"embossBlend",!1,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";function t(t,e,n,o,i){var r,a=n-e,s=i-o;return 0===a?o+s/2:0===s?o:(r=(t-e)/a,r=s*r+o)}Konva.Filters.Enhance=function(e){var n,o,i,r,a=e.data,s=a.length,u=a[0],h=u,p=a[1],l=p,c=a[2],f=c,d=this.enhance();if(0!==d){for(r=0;r<s;r+=4)n=a[r+0],n<u?u=n:n>h&&(h=n),o=a[r+1],o<p?p=o:o>l&&(l=o),i=a[r+2],i<c?c=i:i>f&&(f=i);h===u&&(h=255,u=0),l===p&&(l=255,p=0),f===c&&(f=255,c=0);var y,v,g,m,b,_,x,w,P;for(d>0?(v=h+d*(255-h),g=u-d*(u-0),b=l+d*(255-l),_=p-d*(p-0),w=f+d*(255-f),P=c-d*(c-0)):(y=.5*(h+u),v=h+d*(h-y),g=u+d*(u-y),m=.5*(l+p),b=l+d*(l-m),_=p+d*(p-m),x=.5*(f+c),w=f+d*(f-x),P=c+d*(c-x)),r=0;r<s;r+=4)a[r+0]=t(a[r+0],u,h,g,v),a[r+1]=t(a[r+1],p,l,_,b),a[r+2]=t(a[r+2],c,f,P,w)}},Konva.Factory.addGetterSetter(Konva.Node,"enhance",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Posterize=function(t){var e,n=Math.round(254*this.levels())+1,o=t.data,i=o.length,r=255/n;for(e=0;e<i;e+=1)o[e]=Math.floor(o[e]/r)*r},Konva.Factory.addGetterSetter(Konva.Node,"levels",.5,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Noise=function(t){var e,n=255*this.noise(),o=t.data,i=o.length,r=n/2;for(e=0;e<i;e+=4)o[e+0]+=r-2*r*Math.random(),o[e+1]+=r-2*r*Math.random(),o[e+2]+=r-2*r*Math.random()},Konva.Factory.addGetterSetter(Konva.Node,"noise",.2,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Pixelate=function(t){var e,n,o,i,r,a,s,u,h,p,l,c,f,d,y=Math.ceil(this.pixelSize()),v=t.width,g=t.height,m=Math.ceil(v/y),b=Math.ceil(g/y);if(t=t.data,y<=0)return void Konva.Util.error("pixelSize value can not be <= 0");for(c=0;c<m;c+=1)for(f=0;f<b;f+=1){for(i=0,r=0,a=0,s=0,u=c*y,h=u+y,p=f*y,l=p+y,d=0,e=u;e<h;e+=1)if(!(e>=v))for(n=p;n<l;n+=1)n>=g||(o=4*(v*n+e),i+=t[o+0],r+=t[o+1],a+=t[o+2],s+=t[o+3],d+=1);for(i/=d,r/=d,a/=d,e=u;e<h;e+=1)if(!(e>=v))for(n=p;n<l;n+=1)n>=g||(o=4*(v*n+e),t[o+0]=i,t[o+1]=r,t[o+2]=a,t[o+3]=s)}},Konva.Factory.addGetterSetter(Konva.Node,"pixelSize",8,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Threshold=function(t){var e,n=255*this.threshold(),o=t.data,i=o.length;for(e=0;e<i;e+=1)o[e]=o[e]<n?0:255},Konva.Factory.addGetterSetter(Konva.Node,"threshold",.5,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";/**
	     * Sepia Filter
	     * Based on: Pixastic Lib - Sepia filter - v0.1.0
	     * Copyright (c) 2008 Jacob Seidelin, jseidelin@nihilogic.dk, http://blog.nihilogic.dk/
	     * @function
	     * @name Sepia
	     * @memberof Konva.Filters
	     * @param {Object} imageData
	     * @author Jacob Seidelin <jseidelin@nihilogic.dk>
	     * @license MPL v1.1 [http://www.pixastic.com/lib/license.txt]
	     * @example
	     * node.cache();
	     * node.filters([Konva.Filters.Sepia]);
	     */
Konva.Filters.Sepia=function(t){var e,n,o,i,r,a,s,u,h,p=t.data,l=t.width,c=t.height,f=4*l;do{e=(c-1)*f,n=l;do o=e+4*(n-1),i=p[o],r=p[o+1],a=p[o+2],s=.393*i+.769*r+.189*a,u=.349*i+.686*r+.168*a,h=.272*i+.534*r+.131*a,p[o]=s>255?255:s,p[o+1]=u>255?255:u,p[o+2]=h>255?255:h,p[o+3]=p[o+3];while(--n)}while(--c)}}(),function(){"use strict";Konva.Filters.Solarize=function(t){var e=t.data,n=t.width,o=t.height,i=4*n,r=o;do{var a=(r-1)*i,s=n;do{var u=a+4*(s-1),h=e[u],p=e[u+1],l=e[u+2];h>127&&(h=255-h),p>127&&(p=255-p),l>127&&(l=255-l),e[u]=h,e[u+1]=p,e[u+2]=l}while(--s)}while(--r)}}(),function(){"use strict";var t=function(t,e,n){var o,i,r,a,s=t.data,u=e.data,h=t.width,p=t.height,l=n.polarCenterX||h/2,c=n.polarCenterY||p/2,f=0,d=0,y=0,v=0,g=Math.sqrt(l*l+c*c);i=h-l,r=p-c,a=Math.sqrt(i*i+r*r),g=a>g?a:g;var m,b,_,x,w=p,P=h,S=360/P*Math.PI/180;for(b=0;b<P;b+=1)for(_=Math.sin(b*S),x=Math.cos(b*S),m=0;m<w;m+=1)i=Math.floor(l+g*m/w*x),r=Math.floor(c+g*m/w*_),o=4*(r*h+i),f=s[o+0],d=s[o+1],y=s[o+2],v=s[o+3],o=4*(b+m*h),u[o+0]=f,u[o+1]=d,u[o+2]=y,u[o+3]=v},e=function(t,e,n){var o,i,r,a,s,u,h=t.data,p=e.data,l=t.width,c=t.height,f=n.polarCenterX||l/2,d=n.polarCenterY||c/2,y=0,v=0,g=0,m=0,b=Math.sqrt(f*f+d*d);i=l-f,r=c-d,u=Math.sqrt(i*i+r*r),b=u>b?u:b;var _,x,w,P,S=c,C=l,M=n.polarRotation||0;for(i=0;i<l;i+=1)for(r=0;r<c;r+=1)a=i-f,s=r-d,_=Math.sqrt(a*a+s*s)*S/b,x=(180*Math.atan2(s,a)/Math.PI+360+M)%360,x=x*C/360,w=Math.floor(x),P=Math.floor(_),o=4*(P*l+w),y=h[o+0],v=h[o+1],g=h[o+2],m=h[o+3],o=4*(r*l+i),p[o+0]=y,p[o+1]=v,p[o+2]=g,p[o+3]=m},n=Konva.Util.createCanvasElement();Konva.Filters.Kaleidoscope=function(o){var i,r,a,s,u,h,p,l,c,f,d=o.width,y=o.height,v=Math.round(this.kaleidoscopePower()),g=Math.round(this.kaleidoscopeAngle()),m=Math.floor(d*(g%360)/360);if(!(v<1)){n.width=d,n.height=y;var b=n.getContext("2d").getImageData(0,0,d,y);t(o,b,{polarCenterX:d/2,polarCenterY:y/2});for(var _=d/Math.pow(2,v);_<=8;)_*=2,v-=1;_=Math.ceil(_);var x=_,w=0,P=x,S=1;for(m+_>d&&(w=x,P=0,S=-1),r=0;r<y;r+=1)for(i=w;i!==P;i+=S)a=Math.round(i+m)%d,c=4*(d*r+a),u=b.data[c+0],h=b.data[c+1],p=b.data[c+2],l=b.data[c+3],f=4*(d*r+i),b.data[f+0]=u,b.data[f+1]=h,b.data[f+2]=p,b.data[f+3]=l;for(r=0;r<y;r+=1)for(x=Math.floor(_),s=0;s<v;s+=1){for(i=0;i<x+1;i+=1)c=4*(d*r+i),u=b.data[c+0],h=b.data[c+1],p=b.data[c+2],l=b.data[c+3],f=4*(d*r+2*x-i-1),b.data[f+0]=u,b.data[f+1]=h,b.data[f+2]=p,b.data[f+3]=l;x*=2}e(b,o,{polarRotation:0})}},Konva.Factory.addGetterSetter(Konva.Node,"kaleidoscopePower",2,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"kaleidoscopeAngle",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Container=function(t){this.__init(t)},Konva.Util.addMethods(Konva.Container,{__init:function(t){this.children=new Konva.Collection,Konva.Node.call(this,t)},getChildren:function(t){if(!t)return this.children;var e=new Konva.Collection;return this.children.each(function(n){t(n)&&e.push(n)}),e},hasChildren:function(){return this.getChildren().length>0},removeChildren:function(){for(var t,e=Konva.Collection.toCollection(this.children),n=0;n<e.length;n++)t=e[n],delete t.parent,t.index=0,t.remove();return e=null,this.children=new Konva.Collection,this},destroyChildren:function(){for(var t,e=Konva.Collection.toCollection(this.children),n=0;n<e.length;n++)t=e[n],delete t.parent,t.index=0,t.destroy();return e=null,this.children=new Konva.Collection,this},add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}if(t.getParent())return t.moveTo(this),this;var n=this.children;return this._validateAdd(t),t.index=n.length,t.parent=this,n.push(t),this._fire("add",{child:t}),Konva.DD&&t.isDragging()&&Konva.DD.anim.setLayers(t.getLayer()),this},destroy:function(){return this.hasChildren()&&this.destroyChildren(),Konva.Node.prototype.destroy.call(this),this},find:function(t){var e,n,o,i,r,a,s,u=[],h=t.replace(/ /g,"").split(","),p=h.length;for(e=0;e<p;e++)if(o=h[e],Konva.Util.isValidSelector(o)||(Konva.Util.warn('Selector "'+o+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Konva.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Konva.Util.warn("Konva is awesome, right?")),"#"===o.charAt(0))r=this._getNodeById(o.slice(1)),r&&u.push(r);else if("."===o.charAt(0))i=this._getNodesByName(o.slice(1)),u=u.concat(i);else for(a=this.getChildren(),s=a.length,n=0;n<s;n++)u=u.concat(a[n]._get(o));return Konva.Collection.toCollection(u)},findOne:function(t){return this.find(t)[0]},_getNodeById:function(t){var e=Konva.ids[t];return void 0!==e&&this.isAncestorOf(e)?e:null},_getNodesByName:function(t){var e=Konva.names[t]||[];return this._getDescendants(e)},_get:function(t){for(var e=Konva.Node.prototype._get.call(this,t),n=this.getChildren(),o=n.length,i=0;i<o;i++)e=e.concat(n[i]._get(t));return e},toObject:function(){var t=Konva.Node.prototype.toObject.call(this);t.children=[];for(var e=this.getChildren(),n=e.length,o=0;o<n;o++){var i=e[o];t.children.push(i.toObject())}return t},_getDescendants:function(t){for(var e=[],n=t.length,o=0;o<n;o++){var i=t[o];this.isAncestorOf(i)&&e.push(i)}return e},isAncestorOf:function(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1},clone:function(t){var e=Konva.Node.prototype.clone.call(this,t);return this.getChildren().each(function(t){e.add(t.clone())}),e},getAllIntersections:function(t){var e=[];return this.find("Shape").each(function(n){n.isVisible()&&n.intersects(t)&&e.push(n)}),e},_setChildrenIndices:function(){this.children.each(function(t,e){t.index=e})},drawScene:function(t,e,n){var o=this.getLayer(),i=t||o&&o.getCanvas(),r=i&&i.getContext(),a=this._cache.canvas,s=a&&a.scene;return this.isVisible()&&(!n&&s?(r.save(),o._applyTransform(this,r,e),this._drawCachedSceneCanvas(r),r.restore()):this._drawChildren(i,"drawScene",e,!1,n)),this},drawHit:function(t,e,n){var o=this.getLayer(),i=t||o&&o.hitCanvas,r=i&&i.getContext(),a=this._cache.canvas,s=a&&a.hit;return this.shouldDrawHit(i)&&(o&&o.clearHitCache(),!n&&s?(r.save(),o._applyTransform(this,r,e),this._drawCachedHitCanvas(r),r.restore()):this._drawChildren(i,"drawHit",e)),this},_drawChildren:function(t,e,n,o,i){var r,a,s=this.getLayer(),u=t&&t.getContext(),h=this.getClipWidth(),p=this.getClipHeight(),l=this.getClipFunc(),c=h&&p||l;if(c&&s){u.save();var f=this.getAbsoluteTransform(n),d=f.getMatrix();u.transform(d[0],d[1],d[2],d[3],d[4],d[5]),u.beginPath(),l?l.call(this,u,this):(r=this.getClipX(),a=this.getClipY(),u.rect(r,a,h,p)),u.clip(),d=f.copy().invert().getMatrix(),u.transform(d[0],d[1],d[2],d[3],d[4],d[5])}this.children.each(function(r){r[e](t,n,o,i)}),c&&u.restore()},shouldDrawHit:function(t){var e=this.getLayer(),n=Konva.DD,o=n&&Konva.isDragging()&&Konva.DD.anim.getLayers().indexOf(e)!==-1;return t&&t.isCache||e&&e.hitGraphEnabled()&&this.isVisible()&&!o},getClientRect:function(t){var e,n,o,i,r={x:0,y:0,width:0,height:0};return this.children.each(function(t){if(t.isVisible()){var r=t.getClientRect();void 0===e?(e=r.x,n=r.y,o=r.x+r.width,i=r.y+r.height):(e=Math.min(e,r.x),n=Math.min(n,r.y),o=Math.max(o,r.x+r.width),i=Math.max(i,r.y+r.height))}}),0!==this.children.length&&(r={x:e,y:n,width:o-e,height:i-n}),t?r:this._transformedRect(r)}}),Konva.Util.extend(Konva.Container,Konva.Node),Konva.Container.prototype.get=Konva.Container.prototype.find,Konva.Factory.addComponentsGetterSetter(Konva.Container,"clip",["x","y","width","height"]),Konva.Factory.addGetterSetter(Konva.Container,"clipX"),Konva.Factory.addGetterSetter(Konva.Container,"clipY"),Konva.Factory.addGetterSetter(Konva.Container,"clipWidth"),Konva.Factory.addGetterSetter(Konva.Container,"clipHeight"),Konva.Factory.addGetterSetter(Konva.Container,"clipFunc"),Konva.Collection.mapMethods(Konva.Container)}(),function(t){"use strict";function e(t){t.fill()}function n(t){t.stroke()}function o(t){t.fill()}function i(t){t.stroke()}function r(){this._clearCache(s)}function a(){this._clearCache(u)}var s="hasShadow",u="shadowRGBA";t.Shape=function(t){this.__init(t)},t.Util.addMethods(t.Shape,{__init:function(s){this.nodeType="Shape",this._fillFunc=e,this._strokeFunc=n,this._fillFuncHit=o,this._strokeFuncHit=i;for(var u,h=t.shapes;;)if(u=t.Util.getRandomColor(),u&&!(u in h))break;this.colorKey=u,h[u]=this,t.Node.call(this,s),this.on("shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",r),this.on("shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",a)},hasChildren:function(){return!1},getChildren:function(){return[]},getContext:function(){return this.getLayer().getContext()},getCanvas:function(){return this.getLayer().getCanvas()},hasShadow:function(){return this._getCache(s,this._hasShadow)},_hasShadow:function(){return this.getShadowEnabled()&&0!==this.getShadowOpacity()&&!!(this.getShadowColor()||this.getShadowBlur()||this.getShadowOffsetX()||this.getShadowOffsetY())},getShadowRGBA:function(){return this._getCache(u,this._getShadowRGBA)},_getShadowRGBA:function(){if(this.hasShadow()){var e=t.Util.colorToRGBA(this.shadowColor());return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.getShadowOpacity()||1)+")"}},hasFill:function(){return!!(this.getFill()||this.getFillPatternImage()||this.getFillLinearGradientColorStops()||this.getFillRadialGradientColorStops())},hasStroke:function(){return this.strokeEnabled()&&!!this.stroke()},intersects:function(t){var e,n=this.getStage(),o=n.bufferHitCanvas;return o.getContext().clear(),this.drawHit(o),e=o.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data,e[3]>0},destroy:function(){return t.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],this},_useBufferCanvas:function(t){return!t&&this.perfectDrawEnabled()&&1!==this.getAbsoluteOpacity()&&this.hasFill()&&this.hasStroke()&&this.getStage()||this.perfectDrawEnabled()&&this.hasShadow()&&1!==this.getAbsoluteOpacity()&&this.hasFill()&&this.hasStroke()&&this.getStage()},getSelfRect:function(){var t=this.getSize();return{x:this._centroid?Math.round(-t.width/2):0,y:this._centroid?Math.round(-t.height/2):0,width:t.width,height:t.height}},getClientRect:function(t){var e=this.getSelfRect(),n=this.hasStroke()&&this.strokeWidth()||0,o=e.width+n,i=e.height+n,r=this.hasShadow()?this.shadowOffsetX():0,a=this.hasShadow()?this.shadowOffsetY():0,s=o+Math.abs(r),u=i+Math.abs(a),h=this.hasShadow()&&this.shadowBlur()||0,p=s+2*h,l=u+2*h,c=0;Math.round(n/2)!==n/2&&(c=1);var f={width:p+c,height:l+c,x:-Math.round(n/2+h)+Math.min(r,0)+e.x,y:-Math.round(n/2+h)+Math.min(a,0)+e.y};return t?f:this._transformedRect(f)},drawScene:function(t,e,n,o){var i,r,a,s=this.getLayer(),u=t||s.getCanvas(),h=u.getContext(),p=this._cache.canvas,l=this.sceneFunc(),c=this.hasShadow(),f=this.hasStroke();if(!this.isVisible())return this;if(p)return h.save(),s._applyTransform(this,h,e),this._drawCachedSceneCanvas(h),h.restore(),this;if(!l)return this;if(h.save(),this._useBufferCanvas(n)&&!o){if(i=this.getStage(),r=i.bufferCanvas,a=r.getContext(),a.clear(),a.save(),a._applyLineJoin(this),!n)if(s)s._applyTransform(this,a,e);else{var d=this.getAbsoluteTransform(e).getMatrix();h.transform(d[0],d[1],d[2],d[3],d[4],d[5])}l.call(this,a),a.restore();var y=r.pixelRatio;c&&!u.hitCanvas?(h.save(),h._applyShadow(this),h._applyOpacity(this),h._applyGlobalCompositeOperation(this),h.drawImage(r._canvas,0,0,r.width/y,r.height/y),h.restore()):(h._applyOpacity(this),h._applyGlobalCompositeOperation(this),h.drawImage(r._canvas,0,0,r.width/y,r.height/y))}else{if(h._applyLineJoin(this),!n)if(s)s._applyTransform(this,h,e);else{var v=this.getAbsoluteTransform(e).getMatrix();h.transform(v[0],v[1],v[2],v[3],v[4],v[5])}c&&f&&!u.hitCanvas?(h.save(),n||(h._applyOpacity(this),h._applyGlobalCompositeOperation(this)),h._applyShadow(this),l.call(this,h),h.restore(),this.hasFill()&&this.getShadowForStrokeEnabled()&&l.call(this,h)):c&&!u.hitCanvas?(h.save(),n||(h._applyOpacity(this),h._applyGlobalCompositeOperation(this)),h._applyShadow(this),l.call(this,h),h.restore()):(n||(h._applyOpacity(this),h._applyGlobalCompositeOperation(this)),l.call(this,h))}return h.restore(),this},drawHit:function(t,e,n){var o=this.getLayer(),i=t||o.hitCanvas,r=i.getContext(),a=this.hitFunc()||this.sceneFunc(),s=this._cache.canvas,u=s&&s.hit;if(!this.shouldDrawHit(i))return this;if(o&&o.clearHitCache(),u)return r.save(),o._applyTransform(this,r,e),this._drawCachedHitCanvas(r),r.restore(),this;if(!a)return this;if(r.save(),r._applyLineJoin(this),!n)if(o)o._applyTransform(this,r,e);else{var h=this.getAbsoluteTransform(e).getMatrix();r.transform(h[0],h[1],h[2],h[3],h[4],h[5])}return a.call(this,r),r.restore(),this},drawHitFromCache:function(e){var n,o,i,r,a,s,u=e||0,h=this._cache.canvas,p=this._getCachedSceneCanvas(),l=h.hit,c=l.getContext(),f=l.getWidth(),d=l.getHeight();c.clear(),c.drawImage(p._canvas,0,0,f,d);try{for(n=c.getImageData(0,0,f,d),o=n.data,i=o.length,r=t.Util._hexToRgb(this.colorKey),a=0;a<i;a+=4)s=o[a+3],s>u?(o[a]=r.r,o[a+1]=r.g,o[a+2]=r.b,o[a+3]=255):o[a+3]=0;c.putImageData(n,0,0)}catch(e){t.Util.error("Unable to draw hit graph from cached scene canvas. "+e.message)}return this}}),t.Util.extend(t.Shape,t.Node),t.Factory.addGetterSetter(t.Shape,"stroke"),t.Factory.addDeprecatedGetterSetter(t.Shape,"strokeRed",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"strokeGreen",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"strokeBlue",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"strokeAlpha",1,t.Validators.alphaComponent),t.Factory.addGetterSetter(t.Shape,"strokeWidth",2),t.Factory.addGetterSetter(t.Shape,"strokeHitEnabled",!0),t.Factory.addGetterSetter(t.Shape,"perfectDrawEnabled",!0),t.Factory.addGetterSetter(t.Shape,"shadowForStrokeEnabled",!0),t.Factory.addGetterSetter(t.Shape,"lineJoin"),t.Factory.addGetterSetter(t.Shape,"lineCap"),t.Factory.addGetterSetter(t.Shape,"sceneFunc"),t.Factory.addGetterSetter(t.Shape,"hitFunc"),t.Factory.addGetterSetter(t.Shape,"dash"),t.Factory.addGetterSetter(t.Shape,"dashOffset",0),t.Factory.addGetterSetter(t.Shape,"shadowColor"),t.Factory.addDeprecatedGetterSetter(t.Shape,"shadowRed",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"shadowGreen",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"shadowBlue",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"shadowAlpha",1,t.Validators.alphaComponent),t.Factory.addGetterSetter(t.Shape,"shadowBlur"),t.Factory.addGetterSetter(t.Shape,"shadowOpacity"),t.Factory.addComponentsGetterSetter(t.Shape,"shadowOffset",["x","y"]),t.Factory.addGetterSetter(t.Shape,"shadowOffsetX",0),t.Factory.addGetterSetter(t.Shape,"shadowOffsetY",0),t.Factory.addGetterSetter(t.Shape,"fillPatternImage"),t.Factory.addGetterSetter(t.Shape,"fill"),t.Factory.addDeprecatedGetterSetter(t.Shape,"fillRed",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"fillGreen",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"fillBlue",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"fillAlpha",1,t.Validators.alphaComponent),t.Factory.addGetterSetter(t.Shape,"fillPatternX",0),t.Factory.addGetterSetter(t.Shape,"fillPatternY",0),t.Factory.addGetterSetter(t.Shape,"fillLinearGradientColorStops"),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientStartRadius",0),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientEndRadius",0),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientColorStops"),t.Factory.addGetterSetter(t.Shape,"fillPatternRepeat","repeat"),t.Factory.addGetterSetter(t.Shape,"fillEnabled",!0),t.Factory.addGetterSetter(t.Shape,"strokeEnabled",!0),t.Factory.addGetterSetter(t.Shape,"shadowEnabled",!0),t.Factory.addGetterSetter(t.Shape,"dashEnabled",!0),t.Factory.addGetterSetter(t.Shape,"strokeScaleEnabled",!0),t.Factory.addGetterSetter(t.Shape,"fillPriority","color"),t.Factory.addComponentsGetterSetter(t.Shape,"fillPatternOffset",["x","y"]),t.Factory.addGetterSetter(t.Shape,"fillPatternOffsetX",0),t.Factory.addGetterSetter(t.Shape,"fillPatternOffsetY",0),t.Factory.addComponentsGetterSetter(t.Shape,"fillPatternScale",["x","y"]),t.Factory.addGetterSetter(t.Shape,"fillPatternScaleX",1),t.Factory.addGetterSetter(t.Shape,"fillPatternScaleY",1),t.Factory.addComponentsGetterSetter(t.Shape,"fillLinearGradientStartPoint",["x","y"]),t.Factory.addGetterSetter(t.Shape,"fillLinearGradientStartPointX",0),t.Factory.addGetterSetter(t.Shape,"fillLinearGradientStartPointY",0),t.Factory.addComponentsGetterSetter(t.Shape,"fillLinearGradientEndPoint",["x","y"]),t.Factory.addGetterSetter(t.Shape,"fillLinearGradientEndPointX",0),t.Factory.addGetterSetter(t.Shape,"fillLinearGradientEndPointY",0),t.Factory.addComponentsGetterSetter(t.Shape,"fillRadialGradientStartPoint",["x","y"]),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientStartPointX",0),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientStartPointY",0),t.Factory.addComponentsGetterSetter(t.Shape,"fillRadialGradientEndPoint",["x","y"]),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientEndPointX",0),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientEndPointY",0),t.Factory.addGetterSetter(t.Shape,"fillPatternRotation",0),t.Factory.backCompat(t.Shape,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),t.Collection.mapMethods(t.Shape)}(Konva),function(){"use strict";function t(t,e){t.content.addEventListener(e,function(n){t[j+e](n)},!1)}var e="Stage",n="string",o="px",i="mouseout",r="mouseleave",a="mouseover",s="mouseenter",u="mousemove",h="mousedown",p="mouseup",l="contextmenu",c="click",f="dblclick",d="touchstart",y="touchend",v="tap",g="dbltap",m="touchmove",b="wheel",_="contentMouseout",x="contentMouseover",w="contentMousemove",P="contentMousedown",S="contentMouseup",C="contentContextmenu",M="contentClick",T="contentDblclick",A="contentTouchstart",E="contentTouchend",I="contentDbltap",L="contentTap",N="contentTouchmove",O="contentWheel",k="div",R="relative",F="konvajs-content",D=" ",j="_",K="container",B="",X=[h,u,p,i,d,m,y,a,b,l],U=X.length;Konva.Stage=function(t){this.___init(t)},Konva.Util.addMethods(Konva.Stage,{___init:function(t){this.nodeType=e,Konva.Container.call(this,t),this._id=Konva.idCounter++,this._buildDOM(),this._bindContentEvents(),this._enableNestedTransforms=!1,Konva.stages.push(this)},_validateAdd:function(t){"Layer"!==t.getType()&&Konva.Util.throw("You may only add layers to the stage.")},setContainer:function(t){if(typeof t===n){if("."===t.charAt(0)){var e=t.slice(1);t=Konva.document.getElementsByClassName(e)[0]}else{var o;o="#"!==t.charAt(0)?t:t.slice(1),t=Konva.document.getElementById(o)}if(!t)throw"Can not find container in document with id "+o}return this._setAttr(K,t),this},shouldDrawHit:function(){return!0},draw:function(){return Konva.Node.prototype.draw.call(this),this},setHeight:function(t){return Konva.Node.prototype.setHeight.call(this,t),this._resizeDOM(),this},setWidth:function(t){return Konva.Node.prototype.setWidth.call(this,t),this._resizeDOM(),this},clear:function(){var t,e=this.children,n=e.length;for(t=0;t<n;t++)e[t].clear();return this},clone:function(t){return t||(t={}),t.container=Konva.document.createElement(k),Konva.Container.prototype.clone.call(this,t)},destroy:function(){var t=this.content;Konva.Container.prototype.destroy.call(this),t&&Konva.Util._isInDocument(t)&&this.getContainer().removeChild(t);var e=Konva.stages.indexOf(this);return e>-1&&Konva.stages.splice(e,1),this},getPointerPosition:function(){return this.pointerPos},getStage:function(){return this},getContent:function(){return this.content},toDataURL:function(t){t=t||{};var e=t.mimeType||null,n=t.quality||null,o=t.x||0,i=t.y||0,r=new Konva.SceneCanvas({width:t.width||this.getWidth(),height:t.height||this.getHeight(),pixelRatio:t.pixelRatio}),a=r.getContext()._context,s=this.children;(o||i)&&a.translate(-1*o,-1*i),s.each(function(t){var e=t.getCanvas().getWidth(),n=t.getCanvas().getHeight(),o=t.getCanvas().getPixelRatio();a.drawImage(t.getCanvas()._canvas,0,0,e/o,n/o)});var u=r.toDataURL(e,n);return t.callback&&t.callback(u),u},toImage:function(t){var e=t.callback;t.callback=function(t){Konva.Util._getImage(t,function(t){e(t)})},this.toDataURL(t)},getIntersection:function(t,e){var n,o,i=this.getChildren(),r=i.length,a=r-1;for(n=a;n>=0;n--)if(o=i[n].getIntersection(t,e))return o;return null},_resizeDOM:function(){if(this.content){var t,e,n=this.getWidth(),i=this.getHeight(),r=this.getChildren(),a=r.length;for(this.content.style.width=n+o,this.content.style.height=i+o,this.bufferCanvas.setSize(n,i),this.bufferHitCanvas.setSize(n,i),t=0;t<a;t++)e=r[t],e.setSize(n,i),e.batchDraw()}},add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return Konva.Container.prototype.add.call(this,t),t._setCanvasSize(this.width(),this.height()),t.draw(),this.content.appendChild(t.canvas._canvas),this},getParent:function(){return null},getLayer:function(){return null},getLayers:function(){return this.getChildren()},_bindContentEvents:function(){for(var e=0;e<U;e++)t(this,X[e])},_mouseover:function(t){Konva.UA.mobile||(this._setPointerPosition(t),this._fire(x,{evt:t}))},_mouseout:function(t){if(!Konva.UA.mobile){this._setPointerPosition(t);var e=this.targetShape;e&&!Konva.isDragging()&&(e._fireAndBubble(i,{evt:t}),e._fireAndBubble(r,{evt:t}),this.targetShape=null),this.pointerPos=void 0,this._fire(_,{evt:t})}},_mousemove:function(t){if(Konva.UA.ieMobile)return this._touchmove(t);if(("undefined"!=typeof t.movementX||"undefined"!=typeof t.movementY)&&0===t.movementY&&0===t.movementX)return null;if(Konva.UA.mobile)return null;this._setPointerPosition(t);var e;Konva.isDragging()||(e=this.getIntersection(this.getPointerPosition()),e&&e.isListening()?Konva.isDragging()||this.targetShape&&this.targetShape._id===e._id?e._fireAndBubble(u,{evt:t}):(this.targetShape&&(this.targetShape._fireAndBubble(i,{evt:t},e),this.targetShape._fireAndBubble(r,{evt:t},e)),e._fireAndBubble(a,{evt:t},this.targetShape),e._fireAndBubble(s,{evt:t},this.targetShape),this.targetShape=e):this.targetShape&&!Konva.isDragging()&&(this.targetShape._fireAndBubble(i,{evt:t}),this.targetShape._fireAndBubble(r,{evt:t}),this.targetShape=null),this._fire(w,{evt:t})),t.preventDefault&&t.preventDefault()},_mousedown:function(t){if(Konva.UA.ieMobile)return this._touchstart(t);if(!Konva.UA.mobile){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition());Konva.listenClickTap=!0,e&&e.isListening()&&(this.clickStartShape=e,e._fireAndBubble(h,{evt:t})),this._fire(P,{evt:t})}t.preventDefault&&t.preventDefault()},_mouseup:function(t){if(Konva.UA.ieMobile)return this._touchend(t);if(!Konva.UA.mobile){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition()),n=this.clickStartShape,o=this.clickEndShape,i=!1,r=Konva.DD;Konva.inDblClickWindow?(i=!0,Konva.inDblClickWindow=!1):r&&r.justDragged?r&&(r.justDragged=!1):Konva.inDblClickWindow=!0,setTimeout(function(){Konva.inDblClickWindow=!1},Konva.dblClickWindow),e&&e.isListening()&&(this.clickEndShape=e,e._fireAndBubble(p,{evt:t}),Konva.listenClickTap&&n&&n._id===e._id&&(e._fireAndBubble(c,{evt:t}),i&&o&&o._id===e._id&&e._fireAndBubble(f,{evt:t}))),this._fire(S,{evt:t}),Konva.listenClickTap&&(this._fire(M,{evt:t}),i&&this._fire(T,{evt:t})),Konva.listenClickTap=!1}t.preventDefault&&t.preventDefault()},_contextmenu:function(t){this._fire(C,{evt:t})},_touchstart:function(t){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition());Konva.listenClickTap=!0,e&&e.isListening()&&(this.tapStartShape=e,e._fireAndBubble(d,{evt:t}),e.isListening()&&e.preventDefault()&&t.preventDefault&&t.preventDefault()),this._fire(A,{evt:t})},_touchend:function(t){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition()),n=!1;Konva.inDblClickWindow?(n=!0,Konva.inDblClickWindow=!1):Konva.inDblClickWindow=!0,setTimeout(function(){Konva.inDblClickWindow=!1},Konva.dblClickWindow),e&&e.isListening()&&(e._fireAndBubble(y,{evt:t}),Konva.listenClickTap&&this.tapStartShape&&e._id===this.tapStartShape._id&&(e._fireAndBubble(v,{evt:t}),n&&e._fireAndBubble(g,{evt:t})),e.isListening()&&e.preventDefault()&&t.preventDefault&&t.preventDefault()),this._fire(E,{evt:t}),Konva.listenClickTap&&(this._fire(L,{evt:t}),n&&this._fire(I,{evt:t})),Konva.listenClickTap=!1},_touchmove:function(t){this._setPointerPosition(t);var e,n=Konva.DD;Konva.isDragging()||(e=this.getIntersection(this.getPointerPosition()),e&&e.isListening()&&(e._fireAndBubble(m,{evt:t}),e.isListening()&&e.preventDefault()&&t.preventDefault&&t.preventDefault()),this._fire(N,{evt:t})),n&&Konva.isDragging()&&Konva.DD.node.preventDefault()&&t.preventDefault()},_wheel:function(t){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()&&e._fireAndBubble(b,{evt:t}),this._fire(O,{evt:t})},_setPointerPosition:function(t){var e=this._getContentPosition(),n=null,o=null;if(t=t?t:window.event,void 0!==t.touches){if(t.touches.length>0){var i=t.touches[0];n=i.clientX-e.left,o=i.clientY-e.top}}else n=t.clientX-e.left,o=t.clientY-e.top;null!==n&&null!==o&&(this.pointerPos={x:n,y:o})},_getContentPosition:function(){var t=this.content.getBoundingClientRect?this.content.getBoundingClientRect():{top:0,left:0};return{top:t.top,left:t.left}},_buildDOM:function(){var t=this.getContainer();if(!t){if(Konva.Util.isBrowser())throw"Stage has no container. A container is required.";t=Konva.document.createElement(k)}t.innerHTML=B,this.content=Konva.document.createElement(k),this.content.style.position=R,this.content.className=F,this.content.setAttribute("role","presentation"),t.appendChild(this.content),this.bufferCanvas=new Konva.SceneCanvas,this.bufferHitCanvas=new Konva.HitCanvas({pixelRatio:1}),this._resizeDOM()},_onContent:function(t,e){var n,o,i=t.split(D),r=i.length;for(n=0;n<r;n++)o=i[n],this.content.addEventListener(o,e,!1)},cache:function(){Konva.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes.")},clearCache:function(){}}),Konva.Util.extend(Konva.Stage,Konva.Container),Konva.Factory.addGetter(Konva.Stage,"container"),Konva.Factory.addOverloadedGetterSetter(Konva.Stage,"container")}(),function(){"use strict";Konva.BaseLayer=function(t){this.___init(t)},Konva.Util.addMethods(Konva.BaseLayer,{___init:function(t){this.nodeType="Layer",Konva.Container.call(this,t)},createPNGStream:function(){return this.canvas._canvas.createPNGStream()},getCanvas:function(){return this.canvas},getHitCanvas:function(){return this.hitCanvas},getContext:function(){return this.getCanvas().getContext()},clear:function(t){return this.getContext().clear(t),this},clearHitCache:function(){this._hitImageData=void 0},setZIndex:function(t){Konva.Node.prototype.setZIndex.call(this,t);var e=this.getStage();return e&&(e.content.removeChild(this.getCanvas()._canvas),t<e.getChildren().length-1?e.content.insertBefore(this.getCanvas()._canvas,e.getChildren()[t+1].getCanvas()._canvas):e.content.appendChild(this.getCanvas()._canvas)),this},moveToTop:function(){Konva.Node.prototype.moveToTop.call(this);var t=this.getStage();return t&&(t.content.removeChild(this.getCanvas()._canvas),t.content.appendChild(this.getCanvas()._canvas)),this},moveUp:function(){var t=Konva.Node.prototype.moveUp.call(this);if(!t)return this;var e=this.getStage();return e?(e.content.removeChild(this.getCanvas()._canvas),this.index<e.getChildren().length-1?e.content.insertBefore(this.getCanvas()._canvas,e.getChildren()[this.index+1].getCanvas()._canvas):e.content.appendChild(this.getCanvas()._canvas),this):this},moveDown:function(){if(Konva.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[this.index+1].getCanvas()._canvas)}}return this},moveToBottom:function(){if(Konva.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[1].getCanvas()._canvas)}}return this},getLayer:function(){return this},remove:function(){var t=this.getCanvas()._canvas;return Konva.Node.prototype.remove.call(this),t&&t.parentNode&&Konva.Util._isInDocument(t)&&t.parentNode.removeChild(t),this},getStage:function(){return this.parent},setSize:function(t,e){return this.canvas.setSize(t,e),this},getWidth:function(){if(this.parent)return this.parent.getWidth()},setWidth:function(){Konva.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')},getHeight:function(){if(this.parent)return this.parent.getHeight()},setHeight:function(){Konva.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')},_applyTransform:function(t,e,n){var o=t.getAbsoluteTransform(n).getMatrix();e.transform(o[0],o[1],o[2],o[3],o[4],o[5])}}),Konva.Util.extend(Konva.BaseLayer,Konva.Container),Konva.Factory.addGetterSetter(Konva.BaseLayer,"clearBeforeDraw",!0),Konva.Collection.mapMethods(Konva.BaseLayer)}(),function(){"use strict";var t="#",e="beforeDraw",n="draw",o=[{x:0,y:0},{x:-1,y:0},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:-1,y:1}],i=o.length;Konva.Layer=function(t){this.____init(t)},Konva.Util.addMethods(Konva.Layer,{____init:function(t){this.nodeType="Layer",this.canvas=new Konva.SceneCanvas,this.hitCanvas=new Konva.HitCanvas({pixelRatio:1}),Konva.BaseLayer.call(this,t)},_setCanvasSize:function(t,e){this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e)},_validateAdd:function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&Konva.Util.throw("You may only add groups and shapes to a layer.")},getIntersection:function(t,e){var n,r,a,s;if(!this.hitGraphEnabled()||!this.isVisible())return null;for(var u=1,h=!1;;){for(r=0;r<i;r++){if(a=o[r],n=this._getIntersection({x:t.x+a.x*u,y:t.y+a.y*u}),s=n.shape,s&&e)return s.findAncestor(e,!0);if(s)return s;if(h=!!n.antialiased,!n.antialiased)break}if(!h)return null;u+=1}},_getImageData:function(t,e){var n=this.hitCanvas.width||1,o=this.hitCanvas.height||1,i=Math.round(e)*n+Math.round(t);return this._hitImageData||(this._hitImageData=this.hitCanvas.context.getImageData(0,0,n,o)),[this._hitImageData.data[4*i+0],this._hitImageData.data[4*i+1],this._hitImageData.data[4*i+2],this._hitImageData.data[4*i+3]]},_getIntersection:function(e){var n,o,i=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*i),Math.round(e.y*i),1,1).data,a=r[3];return 255===a?(n=Konva.Util._rgbToHex(r[0],r[1],r[2]),o=Konva.shapes[t+n],o?{shape:o}:{antialiased:!0}):a>0?{antialiased:!0}:{}},drawScene:function(t,o){var i=this.getLayer(),r=t||i&&i.getCanvas();return this._fire(e,{node:this}),this.getClearBeforeDraw()&&r.getContext().clear(),Konva.Container.prototype.drawScene.call(this,r,o),this._fire(n,{node:this}),this},drawHit:function(t,e){var n=this.getLayer(),o=t||n&&n.hitCanvas;return n&&n.getClearBeforeDraw()&&n.getHitCanvas().getContext().clear(),Konva.Container.prototype.drawHit.call(this,o,e),this.imageData=null,this},clear:function(t){return Konva.BaseLayer.prototype.clear.call(this,t),this.getHitCanvas().getContext().clear(t),this.imageData=null,this},setVisible:function(t){return Konva.Node.prototype.setVisible.call(this,t),t?(this.getCanvas()._canvas.style.display="block",this.hitCanvas._canvas.style.display="block"):(this.getCanvas()._canvas.style.display="none",this.hitCanvas._canvas.style.display="none"),this},enableHitGraph:function(){return this.setHitGraphEnabled(!0),this},disableHitGraph:function(){return this.setHitGraphEnabled(!1),
this},setSize:function(t,e){return Konva.BaseLayer.prototype.setSize.call(this,t,e),this.hitCanvas.setSize(t,e),this}}),Konva.Util.extend(Konva.Layer,Konva.BaseLayer),Konva.Factory.addGetterSetter(Konva.Layer,"hitGraphEnabled",!0),Konva.Collection.mapMethods(Konva.Layer)}(),function(){"use strict";Konva.FastLayer=function(t){this.____init(t)},Konva.Util.addMethods(Konva.FastLayer,{____init:function(t){this.nodeType="Layer",this.canvas=new Konva.SceneCanvas,Konva.BaseLayer.call(this,t)},_validateAdd:function(t){var e=t.getType();"Shape"!==e&&Konva.Util.throw("You may only add shapes to a fast layer.")},_setCanvasSize:function(t,e){this.canvas.setSize(t,e)},hitGraphEnabled:function(){return!1},getIntersection:function(){return null},drawScene:function(t){var e=this.getLayer(),n=t||e&&e.getCanvas();return this.getClearBeforeDraw()&&n.getContext().clear(),Konva.Container.prototype.drawScene.call(this,n),this},draw:function(){return this.drawScene(),this},setVisible:function(t){return Konva.Node.prototype.setVisible.call(this,t),t?this.getCanvas()._canvas.style.display="block":this.getCanvas()._canvas.style.display="none",this}}),Konva.Util.extend(Konva.FastLayer,Konva.BaseLayer),Konva.Collection.mapMethods(Konva.FastLayer)}(),function(){"use strict";Konva.Group=function(t){this.___init(t)},Konva.Util.addMethods(Konva.Group,{___init:function(t){this.nodeType="Group",Konva.Container.call(this,t)},_validateAdd:function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&Konva.Util.throw("You may only add groups and shapes to groups.")}}),Konva.Util.extend(Konva.Group,Konva.Container),Konva.Collection.mapMethods(Konva.Group)}(),function(t){"use strict";function e(t){setTimeout(t,1e3/60)}function n(){return i.apply(t.global,arguments)}var o=function(){return t.global.performance&&t.global.performance.now?function(){return t.global.performance.now()}:function(){return(new Date).getTime()}}(),i=function(){return t.global.requestAnimationFrame||t.global.webkitRequestAnimationFrame||t.global.mozRequestAnimationFrame||t.global.oRequestAnimationFrame||t.global.msRequestAnimationFrame||e}();t.Animation=function(e,n){var i=t.Animation;this.func=e,this.setLayers(n),this.id=i.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:o()}},t.Animation.prototype={setLayers:function(t){var e=[];return e=t?t.length>0?t:[t]:[],this.layers=e,this},getLayers:function(){return this.layers},addLayer:function(t){var e,n=this.layers,o=n.length;for(e=0;e<o;e++)if(n[e]._id===t._id)return!1;return this.layers.push(t),!0},isRunning:function(){var e,n=t.Animation,o=n.animations,i=o.length;for(e=0;e<i;e++)if(o[e].id===this.id)return!0;return!1},start:function(){var e=t.Animation;return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=o(),e._addAnimation(this),this},stop:function(){return t.Animation._removeAnimation(this),this},_updateFrameObject:function(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}},t.Animation.animations=[],t.Animation.animIdCounter=0,t.Animation.animRunning=!1,t.Animation._addAnimation=function(t){this.animations.push(t),this._handleAnimation()},t.Animation._removeAnimation=function(t){var e,n=t.id,o=this.animations,i=o.length;for(e=0;e<i;e++)if(o[e].id===n){this.animations.splice(e,1);break}},t.Animation._runFrames=function(){var t,e,n,i,r,a,s,u,h,p={},l=this.animations;for(i=0;i<l.length;i++)if(t=l[i],e=t.layers,n=t.func,t._updateFrameObject(o()),a=e.length,h=!n||n.call(t,t.frame)!==!1)for(r=0;r<a;r++)s=e[r],void 0!==s._id&&(p[s._id]=s);for(u in p)p.hasOwnProperty(u)&&p[u].draw()},t.Animation._animationLoop=function(){var e=t.Animation;e.animations.length?(e._runFrames(),n(e._animationLoop)):e.animRunning=!1},t.Animation._handleAnimation=function(){this.animRunning||(this.animRunning=!0,n(this._animationLoop))},t.BaseLayer.prototype.batchDraw=function(){var e=this,n=t.Animation;return this.batchAnim||(this.batchAnim=new n(function(){e.batchAnim.stop()},this)),this.batchAnim.isRunning()||this.batchAnim.start(),this},t.Stage.prototype.batchDraw=function(){return this.getChildren().each(function(t){t.batchDraw()}),this}}(Konva),function(){"use strict";var t={node:1,duration:1,easing:1,onFinish:1,yoyo:1},e=1,n=2,o=3,i=0,r=["fill","stroke","shadowColor"],a=function(t,e,n,o,i,r,a){this.prop=t,this.propFunc=e,this.begin=o,this._pos=o,this.duration=r,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=i-this.begin,this.pause()};a.prototype={fire:function(t){var e=this[t];e&&e()},setTime:function(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())},getTime:function(){return this._time},setPosition:function(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t},getPosition:function(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)},play:function(){this.state=n,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},reverse:function(){this.state=o,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},seek:function(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")},reset:function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},finish:function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},update:function(){this.setPosition(this.getPosition(this._time))},onEnterFrame:function(){var t=this.getTimer()-this._startTime;this.state===n?this.setTime(t):this.state===o&&this.setTime(this.duration-t)},pause:function(){this.state=e,this.fire("onPause")},getTimer:function(){return(new Date).getTime()}},Konva.Tween=function(e){var n,o,r=this,s=e.node,u=s._id,h=e.easing||Konva.Easings.Linear,p=!!e.yoyo;n="undefined"==typeof e.duration?1:0===e.duration?.001:e.duration,this.node=s,this._id=i++;var l=s.getLayer()||(s instanceof Konva.Stage?s.getLayers():null);l||Konva.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Konva.Animation(function(){r.tween.onEnterFrame()},l),this.tween=new a(o,function(t){r._tweenFunc(t)},h,0,1,1e3*n,p),this._addListeners(),Konva.Tween.attrs[u]||(Konva.Tween.attrs[u]={}),Konva.Tween.attrs[u][this._id]||(Konva.Tween.attrs[u][this._id]={}),Konva.Tween.tweens[u]||(Konva.Tween.tweens[u]={});for(o in e)void 0===t[o]&&this._addAttr(o,e[o]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset},Konva.Tween.attrs={},Konva.Tween.tweens={},Konva.Tween.prototype={_addAttr:function(t,e){var n,o,i,a,s,u,h,p=this.node,l=p._id;if(i=Konva.Tween.tweens[l][t],i&&delete Konva.Tween.attrs[l][i][t],n=p.getAttr(t),Konva.Util._isArray(e))for(o=[],s=Math.max(e.length,n.length),"points"===t&&e.length!==n.length&&(e.length>n.length?(h=n,n=Konva.Util._prepareArrayForTween(n,e,p.closed())):(u=e,e=Konva.Util._prepareArrayForTween(e,n,p.closed()))),a=0;a<s;a++)o.push(e[a]-n[a]);else if(r.indexOf(t)!==-1){n=Konva.Util.colorToRGBA(n);var c=Konva.Util.colorToRGBA(e);o={r:c.r-n.r,g:c.g-n.g,b:c.b-n.b,a:c.a-n.a}}else o=e-n;Konva.Tween.attrs[l][this._id][t]={start:n,diff:o,end:e,trueEnd:u,trueStart:h},Konva.Tween.tweens[l][t]=this._id},_tweenFunc:function(t){var e,n,o,i,a,s,u,h,p=this.node,l=Konva.Tween.attrs[p._id][this._id];for(e in l){if(n=l[e],o=n.start,i=n.diff,h=n.end,Konva.Util._isArray(o))for(a=[],u=Math.max(o.length,h.length),s=0;s<u;s++)a.push((o[s]||0)+i[s]*t);else a=r.indexOf(e)!==-1?"rgba("+Math.round(o.r+i.r*t)+","+Math.round(o.g+i.g*t)+","+Math.round(o.b+i.b*t)+","+(o.a+i.a*t)+")":o+i*t;p.setAttr(e,a)}},_addListeners:function(){var t=this;this.tween.onPlay=function(){t.anim.start()},this.tween.onReverse=function(){t.anim.start()},this.tween.onPause=function(){t.anim.stop()},this.tween.onFinish=function(){var e=t.node,n=Konva.Tween.attrs[e._id][t._id];n.points&&n.points.trueEnd&&e.points(n.points.trueEnd),t.onFinish&&t.onFinish.call(t)},this.tween.onReset=function(){var e=t.node,n=Konva.Tween.attrs[e._id][t._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),t.onReset&&t.onReset()}},play:function(){return this.tween.play(),this},reverse:function(){return this.tween.reverse(),this},reset:function(){return this.tween.reset(),this},seek:function(t){return this.tween.seek(1e3*t),this},pause:function(){return this.tween.pause(),this},finish:function(){return this.tween.finish(),this},destroy:function(){var t,e=this.node._id,n=this._id,o=Konva.Tween.tweens[e];this.pause();for(t in o)delete Konva.Tween.tweens[e][t];delete Konva.Tween.attrs[e][n]}},Konva.Node.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()};var n=new Konva.Tween(t);n.play()},Konva.Easings={BackEaseIn:function(t,e,n,o){var i=1.70158;return n*(t/=o)*t*((i+1)*t-i)+e},BackEaseOut:function(t,e,n,o){var i=1.70158;return n*((t=t/o-1)*t*((i+1)*t+i)+1)+e},BackEaseInOut:function(t,e,n,o){var i=1.70158;return(t/=o/2)<1?n/2*(t*t*(((i*=1.525)+1)*t-i))+e:n/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},ElasticEaseIn:function(t,e,n,o,i,r){var a=0;return 0===t?e:1===(t/=o)?e+n:(r||(r=.3*o),!i||i<Math.abs(n)?(i=n,a=r/4):a=r/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*o-a)*(2*Math.PI)/r))+e)},ElasticEaseOut:function(t,e,n,o,i,r){var a=0;return 0===t?e:1===(t/=o)?e+n:(r||(r=.3*o),!i||i<Math.abs(n)?(i=n,a=r/4):a=r/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*o-a)*(2*Math.PI)/r)+n+e)},ElasticEaseInOut:function(t,e,n,o,i,r){var a=0;return 0===t?e:2===(t/=o/2)?e+n:(r||(r=o*(.3*1.5)),!i||i<Math.abs(n)?(i=n,a=r/4):a=r/(2*Math.PI)*Math.asin(n/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*o-a)*(2*Math.PI)/r))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*o-a)*(2*Math.PI)/r)*.5+n+e)},BounceEaseOut:function(t,e,n,o){return(t/=o)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn:function(t,e,n,o){return n-Konva.Easings.BounceEaseOut(o-t,0,n,o)+e},BounceEaseInOut:function(t,e,n,o){return t<o/2?.5*Konva.Easings.BounceEaseIn(2*t,0,n,o)+e:.5*Konva.Easings.BounceEaseOut(2*t-o,0,n,o)+.5*n+e},EaseIn:function(t,e,n,o){return n*(t/=o)*t+e},EaseOut:function(t,e,n,o){return-n*(t/=o)*(t-2)+e},EaseInOut:function(t,e,n,o){return(t/=o/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn:function(t,e,n,o){return n*(t/=o)*t*t*t*t+e},StrongEaseOut:function(t,e,n,o){return n*((t=t/o-1)*t*t*t*t+1)+e},StrongEaseInOut:function(t,e,n,o){return(t/=o/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear:function(t,e,n,o){return n*t/o+e}}}(),function(){"use strict";Konva.DD={anim:new Konva.Animation(function(){var t=this.dirty;return this.dirty=!1,t}),isDragging:!1,justDragged:!1,offset:{x:0,y:0},node:null,_drag:function(t){var e=Konva.DD,n=e.node;if(n){if(!e.isDragging){var o=n.getStage().getPointerPosition(),i=n.dragDistance(),r=Math.max(Math.abs(o.x-e.startPointerPos.x),Math.abs(o.y-e.startPointerPos.y));if(r<i)return}n.getStage()._setPointerPosition(t),n._setDragPosition(t),e.isDragging||(e.isDragging=!0,n.fire("dragstart",{type:"dragstart",target:n,evt:t},!0)),n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)}},_endDragBefore:function(t){var e,n=Konva.DD,o=n.node;o&&(e=o.getLayer(),n.anim.stop(),n.isDragging&&(n.isDragging=!1,n.justDragged=!0,Konva.listenClickTap=!1,t&&(t.dragEndNode=o)),delete n.node,(o.getLayer()||e||o instanceof Konva.Stage)&&(e||o).draw())},_endDragAfter:function(t){t=t||{};var e=t.dragEndNode;t&&e&&e.fire("dragend",{type:"dragend",target:e,evt:t},!0)}},Konva.Node.prototype.startDrag=function(){var t=Konva.DD,e=this.getStage(),n=this.getLayer(),o=e.getPointerPosition(),i=this.getAbsolutePosition();o&&(t.node&&t.node.stopDrag(),t.node=this,t.startPointerPos=o,t.offset.x=o.x-i.x,t.offset.y=o.y-i.y,t.anim.setLayers(n||this.getLayers()),t.anim.start(),this._setDragPosition())},Konva.Node.prototype._setDragPosition=function(t){var e=Konva.DD,n=this.getStage().getPointerPosition(),o=this.getDragBoundFunc();if(n){var i={x:n.x-e.offset.x,y:n.y-e.offset.y};void 0!==o&&(i=o.call(this,i,t)),this.setAbsolutePosition(i),this._lastPos&&this._lastPos.x===i.x&&this._lastPos.y===i.y||(e.anim.dirty=!0),this._lastPos=i}},Konva.Node.prototype.stopDrag=function(){var t=Konva.DD,e={};t._endDragBefore(e),t._endDragAfter(e)},Konva.Node.prototype.setDraggable=function(t){this._setAttr("draggable",t),this._dragChange()};var t=Konva.Node.prototype.remove;Konva.Node.prototype.__originalRemove=t,Konva.Node.prototype.remove=function(){var e=Konva.DD;e.node&&e.node._id===this._id&&this.stopDrag(),t.call(this)},Konva.Node.prototype.isDragging=function(){var t=Konva.DD;return!(!t.node||t.node._id!==this._id||!t.isDragging)},Konva.Node.prototype._listenDrag=function(){var t=this;this._dragCleanup(),"Stage"===this.getClassName()?this.on("contentMousedown.konva contentTouchstart.konva",function(e){Konva.DD.node||t.startDrag(e)}):this.on("mousedown.konva touchstart.konva",function(e){1!==e.evt.button&&2!==e.evt.button&&(Konva.DD.node||t.startDrag(e))})},Konva.Node.prototype._dragChange=function(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var t=this.getStage(),e=Konva.DD;t&&e.node&&e.node._id===this._id&&e.node.stopDrag()}},Konva.Node.prototype._dragCleanup=function(){"Stage"===this.getClassName()?(this.off("contentMousedown.konva"),this.off("contentTouchstart.konva")):(this.off("mousedown.konva"),this.off("touchstart.konva"))},Konva.Factory.addGetterSetter(Konva.Node,"dragBoundFunc"),Konva.Factory.addGetter(Konva.Node,"draggable",!1),Konva.Factory.addOverloadedGetterSetter(Konva.Node,"draggable");var e=Konva.document.documentElement;e.addEventListener("mouseup",Konva.DD._endDragBefore,!0),e.addEventListener("touchend",Konva.DD._endDragBefore,!0),e.addEventListener("mousemove",Konva.DD._drag),e.addEventListener("touchmove",Konva.DD._drag),e.addEventListener("mouseup",Konva.DD._endDragAfter,!1),e.addEventListener("touchend",Konva.DD._endDragAfter,!1)}(),function(){"use strict";Konva.Rect=function(t){this.___init(t)},Konva.Rect.prototype={___init:function(t){Konva.Shape.call(this,t),this.className="Rect",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.getCornerRadius(),n=this.getWidth(),o=this.getHeight();t.beginPath(),e?(e=Math.min(e,n/2,o/2),t.moveTo(e,0),t.lineTo(n-e,0),t.arc(n-e,e,e,3*Math.PI/2,0,!1),t.lineTo(n,o-e),t.arc(n-e,o-e,e,0,Math.PI/2,!1),t.lineTo(e,o),t.arc(e,o-e,e,Math.PI/2,Math.PI,!1),t.lineTo(0,e),t.arc(e,e,e,Math.PI,3*Math.PI/2,!1)):t.rect(0,0,n,o),t.closePath(),t.fillStrokeShape(this)}},Konva.Util.extend(Konva.Rect,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Rect,"cornerRadius",0),Konva.Collection.mapMethods(Konva.Rect)}(),function(){"use strict";var t=2*Math.PI-1e-4,e="Circle";Konva.Circle=function(t){this.___init(t)},Konva.Circle.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className=e,this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){e.beginPath(),e.arc(0,0,this.getRadius(),0,t,!1),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)}},Konva.Util.extend(Konva.Circle,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Circle,"radius",0),Konva.Factory.addOverloadedGetterSetter(Konva.Circle,"radius"),Konva.Collection.mapMethods(Konva.Circle)}(),function(){"use strict";var t=2*Math.PI-1e-4,e="Ellipse";Konva.Ellipse=function(t){this.___init(t)},Konva.Ellipse.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className=e,this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var n=this.getRadiusX(),o=this.getRadiusY();e.beginPath(),e.save(),n!==o&&e.scale(1,o/n),e.arc(0,0,n,0,t,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadiusX()},getHeight:function(){return 2*this.getRadiusY()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.setRadius({x:t/2})},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.setRadius({y:t/2})}},Konva.Util.extend(Konva.Ellipse,Konva.Shape),Konva.Factory.addComponentsGetterSetter(Konva.Ellipse,"radius",["x","y"]),Konva.Factory.addGetterSetter(Konva.Ellipse,"radiusX",0),Konva.Factory.addGetterSetter(Konva.Ellipse,"radiusY",0),Konva.Collection.mapMethods(Konva.Ellipse)}(),function(){"use strict";var t=2*Math.PI-1e-4;Konva.Ring=function(t){this.___init(t)},Konva.Ring.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className="Ring",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){e.beginPath(),e.arc(0,0,this.getInnerRadius(),0,t,!1),e.moveTo(this.getOuterRadius(),0),e.arc(0,0,this.getOuterRadius(),t,0,!0),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getOuterRadius()},getHeight:function(){return 2*this.getOuterRadius()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.outerRadius()!==t/2&&this.setOuterRadius(t/2)},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.outerRadius()!==t/2&&this.setOuterRadius(t/2)},setOuterRadius:function(t){this._setAttr("outerRadius",t),this.setWidth(2*t),this.setHeight(2*t)}},Konva.Util.extend(Konva.Ring,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Ring,"innerRadius",0),Konva.Factory.addGetter(Konva.Ring,"outerRadius",0),Konva.Factory.addOverloadedGetterSetter(Konva.Ring,"outerRadius"),Konva.Collection.mapMethods(Konva.Ring)}(),function(){"use strict";Konva.Wedge=function(t){this.___init(t)},Konva.Wedge.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className="Wedge",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){t.beginPath(),t.arc(0,0,this.getRadius(),0,Konva.getAngle(this.getAngle()),this.getClockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)}},Konva.Util.extend(Konva.Wedge,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Wedge,"radius",0),Konva.Factory.addGetterSetter(Konva.Wedge,"angle",0),Konva.Factory.addGetterSetter(Konva.Wedge,"clockwise",!1),Konva.Factory.backCompat(Konva.Wedge,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Konva.Collection.mapMethods(Konva.Wedge)}(),function(){"use strict";Konva.Arc=function(t){this.___init(t)},Konva.Arc.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className="Arc",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=Konva.getAngle(this.angle()),n=this.clockwise();t.beginPath(),t.arc(0,0,this.getOuterRadius(),0,e,n),t.arc(0,0,this.getInnerRadius(),e,0,!n),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return 2*this.getOuterRadius()},getHeight:function(){return 2*this.getOuterRadius()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.getOuterRadius()!==t/2&&this.setOuterRadius(t/2)},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.getOuterRadius()!==t/2&&this.setOuterRadius(t/2)}},Konva.Util.extend(Konva.Arc,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Arc,"innerRadius",0),Konva.Factory.addGetterSetter(Konva.Arc,"outerRadius",0),Konva.Factory.addGetterSetter(Konva.Arc,"angle",0),Konva.Factory.addGetterSetter(Konva.Arc,"clockwise",!1),Konva.Collection.mapMethods(Konva.Arc)}(),function(){"use strict";var t="Image";Konva.Image=function(t){this.___init(t)},Konva.Image.prototype={___init:function(e){Konva.Shape.call(this,e),this.className=t,this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()&&this.getStage()},_sceneFunc:function(t){var e,n,o,i=this.getWidth(),r=this.getHeight(),a=this.getImage();a&&(e=this.getCropWidth(),n=this.getCropHeight(),o=e&&n?[a,this.getCropX(),this.getCropY(),e,n,0,0,i,r]:[a,0,0,i,r]),(this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,i,r),t.closePath(),t.fillStrokeShape(this)),a&&t.drawImage.apply(t,o)},_hitFunc:function(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){var t=this.getImage();return this.attrs.width||(t?t.width:0)},getHeight:function(){var t=this.getImage();return this.attrs.height||(t?t.height:0)}},Konva.Util.extend(Konva.Image,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Image,"image"),Konva.Factory.addComponentsGetterSetter(Konva.Image,"crop",["x","y","width","height"]),Konva.Factory.addGetterSetter(Konva.Image,"cropX",0),Konva.Factory.addGetterSetter(Konva.Image,"cropY",0),Konva.Factory.addGetterSetter(Konva.Image,"cropWidth",0),Konva.Factory.addGetterSetter(Konva.Image,"cropHeight",0),Konva.Collection.mapMethods(Konva.Image),Konva.Image.fromURL=function(t,e){var n=new Image;n.onload=function(){var t=new Konva.Image({image:n});e(t)},n.src=t}}(),function(){"use strict";function t(t){t.fillText(this.partialText,0,0)}function e(t){t.strokeText(this.partialText,0,0)}var n="auto",o="center",i="justify",r="Change.konva",a="2d",s="-",u="",h="left",p="text",l="Text",c="middle",f="normal",d="px ",y=" ",v="right",g="word",m="char",b="none",_=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","lineHeight","text","width","height","wrap","letterSpacing"],x=_.length,w=Konva.Util.createCanvasElement().getContext(a);Konva.Text=function(t){this.___init(t)},Konva.Text.prototype={___init:function(n){n=n||{},n.fillLinearGradientColorStops||n.fillRadialGradientColorStops||(n.fill=n.fill||"black"),Konva.Shape.call(this,n),this._fillFunc=t,this._strokeFunc=e,this.className=l;for(var o=0;o<x;o++)this.on(_[o]+r,this._setTextData);this._setTextData(),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(t){var e,n=this.getPadding(),r=this.getTextHeight(),a=this.getLineHeight()*r,s=this.textArr,u=s.length,p=this.getAlign(),l=this.getWidth(),f=this.getLetterSpacing(),d=this.textDecoration(),y=this.fill(),g=this.fontSize();for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",c),t.setAttr("textAlign",h),t.save(),n?(t.translate(n,0),t.translate(0,n+r/2)):t.translate(0,r/2),e=0;e<u;e++){var m=s[e],b=m.text,_=m.width;if(t.save(),p===v?t.translate(l-_-2*n,0):p===o&&t.translate((l-_-2*n)/2,0),d.indexOf("underline")!==-1&&(t.save(),t.beginPath(),t.moveTo(0,Math.round(a/2)),t.lineTo(Math.round(_),Math.round(a/2)),t.lineWidth=g/15,t.strokeStyle=y,t.stroke(),t.restore()),d.indexOf("line-through")!==-1&&(t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(Math.round(_),0),t.lineWidth=g/15,t.strokeStyle=y,t.stroke(),t.restore()),0!==f||p===i)for(var x=b.split(" ").length-1,w=0;w<b.length;w++){var P=b[w];" "===P&&e!==u-1&&p===i&&t.translate(Math.floor((l-_)/x),0),this.partialText=P,t.fillStrokeShape(this),t.translate(Math.round(this._getTextSize(P).width)+f,0)}else this.partialText=b,t.fillStrokeShape(this);t.restore(),t.translate(0,a)}t.restore()},_hitFunc:function(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},setText:function(t){var e=Konva.Util._isString(t)?t:(t||"").toString();return this._setAttr(p,e),this},getWidth:function(){var t=this.attrs.width===n||void 0===this.attrs.width;return t?this.getTextWidth()+2*this.getPadding():this.attrs.width},getHeight:function(){var t=this.attrs.height===n||void 0===this.attrs.height;return t?this.getTextHeight()*this.textArr.length*this.getLineHeight()+2*this.getPadding():this.attrs.height},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},_getTextSize:function(t){var e,n=w,o=this.getFontSize();return n.save(),n.font=this._getContextFont(),e=n.measureText(t),n.restore(),{width:e.width,height:parseInt(o,10)}},_getContextFont:function(){return Konva.UA.isIE?this.getFontStyle()+y+this.getFontSize()+d+this.getFontFamily():this.getFontStyle()+y+this.getFontVariant()+y+this.getFontSize()+d+this.getFontFamily()},_addTextLine:function(t){this.align()===i&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e})},_getTextWidth:function(t){var e=this.getLetterSpacing(),n=t.length;return w.measureText(t).width+(n?e*(n-1):0)},_setTextData:function(){var t=this.getText().split("\n"),e=+this.getFontSize(),o=0,i=this.getLineHeight()*e,r=this.attrs.width,a=this.attrs.height,u=r!==n,h=a!==n,p=this.getPadding(),l=r-2*p,c=a-2*p,f=0,d=this.getWrap(),v=d!==b,g=d!==m&&v;this.textArr=[],w.save(),w.font=this._getContextFont();for(var _=0,x=t.length;_<x;++_){var P=t[_],S=this._getTextWidth(P);if(u&&S>l)for(;P.length>0;){for(var C=0,M=P.length,T="",A=0;C<M;){var E=C+M>>>1,I=P.slice(0,E+1),L=this._getTextWidth(I);L<=l?(C=E+1,T=I,A=L):M=E}if(!T)break;if(g){var N=Math.max(T.lastIndexOf(y),T.lastIndexOf(s))+1;N>0&&(C=N,T=T.slice(0,C),A=this._getTextWidth(T))}if(this._addTextLine(T),o=Math.max(o,A),f+=i,!v||h&&f+i>c)break;if(P=P.slice(C),P.length>0&&(S=this._getTextWidth(P),S<=l)){this._addTextLine(P),f+=i,o=Math.max(o,S);break}}else this._addTextLine(P),f+=i,o=Math.max(o,S);if(h&&f+i>c)break}w.restore(),this.textHeight=e,this.textWidth=o}},Konva.Util.extend(Konva.Text,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Text,"fontFamily","Arial"),Konva.Factory.addGetterSetter(Konva.Text,"fontSize",12),Konva.Factory.addGetterSetter(Konva.Text,"fontStyle",f),Konva.Factory.addGetterSetter(Konva.Text,"fontVariant",f),Konva.Factory.addGetterSetter(Konva.Text,"padding",0),Konva.Factory.addGetterSetter(Konva.Text,"align",h),Konva.Factory.addGetterSetter(Konva.Text,"lineHeight",1),Konva.Factory.addGetterSetter(Konva.Text,"wrap",g),Konva.Factory.addGetterSetter(Konva.Text,"letterSpacing",0),Konva.Factory.addGetter(Konva.Text,"text",u),Konva.Factory.addOverloadedGetterSetter(Konva.Text,"text"),Konva.Factory.addGetterSetter(Konva.Text,"textDecoration",u),Konva.Collection.mapMethods(Konva.Text)}(),function(){"use strict";Konva.Line=function(t){this.___init(t)},Konva.Line.prototype={___init:function(t){Konva.Shape.call(this,t),this.className="Line",this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")}),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e,n,o,i=this.getPoints(),r=i.length,a=this.getTension(),s=this.getClosed(),u=this.getBezier();if(r){if(t.beginPath(),t.moveTo(i[0],i[1]),0!==a&&r>4){for(e=this.getTensionPoints(),n=e.length,o=s?0:4,s||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);o<n-2;)t.bezierCurveTo(e[o++],e[o++],e[o++],e[o++],e[o++],e[o++]);s||t.quadraticCurveTo(e[n-2],e[n-1],i[r-2],i[r-1])}else if(u)for(o=2;o<r;)t.bezierCurveTo(i[o++],i[o++],i[o++],i[o++],i[o++],i[o++]);else for(o=2;o<r;o+=2)t.lineTo(i[o],i[o+1]);s?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}},getTensionPoints:function(){return this._getCache("tensionPoints",this._getTensionPoints)},_getTensionPoints:function(){return this.getClosed()?this._getTensionPointsClosed():Konva.Util._expandPoints(this.getPoints(),this.getTension())},_getTensionPointsClosed:function(){var t=this.getPoints(),e=t.length,n=this.getTension(),o=Konva.Util,i=o._getControlPoints(t[e-2],t[e-1],t[0],t[1],t[2],t[3],n),r=o._getControlPoints(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],n),a=Konva.Util._expandPoints(t,n),s=[i[2],i[3]].concat(a).concat([r[0],r[1],t[e-2],t[e-1],r[2],r[3],i[0],i[1],t[0],t[1]]);return s},getWidth:function(){return this.getSelfRect().width},getHeight:function(){return this.getSelfRect().height},getSelfRect:function(){var t;t=0!==this.getTension()?this._getTensionPoints():this.getPoints();for(var e,n,o=t[0],i=t[0],r=t[1],a=t[1],s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],o=Math.min(o,e),i=Math.max(i,e),r=Math.min(r,n),a=Math.max(a,n);return{x:Math.round(o),y:Math.round(r),width:Math.round(i-o),height:Math.round(a-r)}}},Konva.Util.extend(Konva.Line,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Line,"closed",!1),Konva.Factory.addGetterSetter(Konva.Line,"bezier",!1),Konva.Factory.addGetterSetter(Konva.Line,"tension",0),Konva.Factory.addGetterSetter(Konva.Line,"points",[]),Konva.Collection.mapMethods(Konva.Line)}(),function(){"use strict";Konva.Sprite=function(t){this.___init(t)},Konva.Sprite.prototype={___init:function(t){Konva.Shape.call(this,t),this.className="Sprite",this._updated=!0;var e=this;this.anim=new Konva.Animation(function(){var t=e._updated;return e._updated=!1,t}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(t){var e=this.getAnimation(),n=this.frameIndex(),o=4*n,i=this.getAnimations()[e],r=this.frameOffsets(),a=i[o+0],s=i[o+1],u=i[o+2],h=i[o+3],p=this.getImage();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,u,h),t.closePath(),t.fillStrokeShape(this)),p)if(r){var l=r[e],c=2*n;t.drawImage(p,a,s,u,h,l[c+0],l[c+1],u,h)}else t.drawImage(p,a,s,u,h,0,0,u,h)},_hitFunc:function(t){var e=this.getAnimation(),n=this.frameIndex(),o=4*n,i=this.getAnimations()[e],r=this.frameOffsets(),a=i[o+2],s=i[o+3];if(t.beginPath(),r){var u=r[e],h=2*n;t.rect(u[h+0],u[h+1],a,s)}else t.rect(0,0,a,s);t.closePath(),t.fillShape(this)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},_setInterval:function(){var t=this;this.interval=setInterval(function(){t._updateIndex()},1e3/this.getFrameRate())},start:function(){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()},stop:function(){this.anim.stop(),clearInterval(this.interval)},isRunning:function(){return this.anim.isRunning()},_updateIndex:function(){var t=this.frameIndex(),e=this.getAnimation(),n=this.getAnimations(),o=n[e],i=o.length/4;t<i-1?this.frameIndex(t+1):this.frameIndex(0)}},Konva.Util.extend(Konva.Sprite,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Sprite,"animation"),Konva.Factory.addGetterSetter(Konva.Sprite,"animations"),Konva.Factory.addGetterSetter(Konva.Sprite,"frameOffsets"),Konva.Factory.addGetterSetter(Konva.Sprite,"image"),Konva.Factory.addGetterSetter(Konva.Sprite,"frameIndex",0),Konva.Factory.addGetterSetter(Konva.Sprite,"frameRate",17),Konva.Factory.backCompat(Konva.Sprite,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Konva.Collection.mapMethods(Konva.Sprite)}(),function(){"use strict";Konva.Path=function(t){this.___init(t)},Konva.Path.prototype={___init:function(t){this.dataArray=[];var e=this;Konva.Shape.call(this,t),this.className="Path",this.dataArray=Konva.Path.parsePathData(this.getData()),this.on("dataChange.konva",function(){e.dataArray=Konva.Path.parsePathData(this.getData())}),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.dataArray;t.beginPath();for(var n=0;n<e.length;n++){var o=e[n].command,i=e[n].points;switch(o){case"L":t.lineTo(i[0],i[1]);break;case"M":t.moveTo(i[0],i[1]);break;case"C":t.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);break;case"Q":t.quadraticCurveTo(i[0],i[1],i[2],i[3]);break;case"A":var r=i[0],a=i[1],s=i[2],u=i[3],h=i[4],p=i[5],l=i[6],c=i[7],f=s>u?s:u,d=s>u?1:s/u,y=s>u?u/s:1;t.translate(r,a),t.rotate(l),t.scale(d,y),t.arc(0,0,f,h,h+p,1-c),t.scale(1/d,1/y),t.rotate(-l),t.translate(-r,-a);break;case"z":t.closePath()}}t.fillStrokeShape(this)},getSelfRect:function(){
var t=[];this.dataArray.forEach(function(e){t=t.concat(e.points)});for(var e,n,o=t[0],i=t[0],r=t[1],a=t[1],s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],o=Math.min(o,e),i=Math.max(i,e),r=Math.min(r,n),a=Math.max(a,n);return{x:Math.round(o),y:Math.round(r),width:Math.round(i-o),height:Math.round(a-r)}}},Konva.Util.extend(Konva.Path,Konva.Shape),Konva.Path.getLineLength=function(t,e,n,o){return Math.sqrt((n-t)*(n-t)+(o-e)*(o-e))},Konva.Path.getPointOnLine=function(t,e,n,o,i,r,a){void 0===r&&(r=e),void 0===a&&(a=n);var s=(i-n)/(o-e+1e-8),u=Math.sqrt(t*t/(1+s*s));o<e&&(u*=-1);var h,p=s*u;if(o===e)h={x:r,y:a+p};else if((a-n)/(r-e+1e-8)===s)h={x:r+u,y:a+p};else{var l,c,f=this.getLineLength(e,n,o,i);if(f<1e-8)return;var d=(r-e)*(o-e)+(a-n)*(i-n);d/=f*f,l=e+d*(o-e),c=n+d*(i-n);var y=this.getLineLength(r,a,l,c),v=Math.sqrt(t*t-y*y);u=Math.sqrt(v*v/(1+s*s)),o<e&&(u*=-1),p=s*u,h={x:l+u,y:c+p}}return h},Konva.Path.getPointOnCubicBezier=function(t,e,n,o,i,r,a,s,u){function h(t){return t*t*t}function p(t){return 3*t*t*(1-t)}function l(t){return 3*t*(1-t)*(1-t)}function c(t){return(1-t)*(1-t)*(1-t)}var f=s*h(t)+r*p(t)+o*l(t)+e*c(t),d=u*h(t)+a*p(t)+i*l(t)+n*c(t);return{x:f,y:d}},Konva.Path.getPointOnQuadraticBezier=function(t,e,n,o,i,r,a){function s(t){return t*t}function u(t){return 2*t*(1-t)}function h(t){return(1-t)*(1-t)}var p=r*s(t)+o*u(t)+e*h(t),l=a*s(t)+i*u(t)+n*h(t);return{x:p,y:l}},Konva.Path.getPointOnEllipticalArc=function(t,e,n,o,i,r){var a=Math.cos(r),s=Math.sin(r),u={x:n*Math.cos(i),y:o*Math.sin(i)};return{x:t+(u.x*a-u.y*s),y:e+(u.x*s+u.y*a)}},Konva.Path.parsePathData=function(t){if(!t)return[];var e=t,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var o=0;o<n.length;o++)e=e.replace(new RegExp(n[o],"g"),"|"+n[o]);var i=e.split("|"),r=[],a=0,s=0;for(o=1;o<i.length;o++){var u=i[o],h=u.charAt(0);u=u.slice(1),u=u.replace(new RegExp(",-","g"),"-"),u=u.replace(new RegExp("-","g"),",-"),u=u.replace(new RegExp("e,-","g"),"e-");var p=u.split(",");p.length>0&&""===p[0]&&p.shift();for(var l=0;l<p.length;l++)p[l]=parseFloat(p[l]);for(;p.length>0&&!isNaN(p[0]);){var c,f,d,y,v,g,m,b,_,x,w=null,P=[],S=a,C=s;switch(h){case"l":a+=p.shift(),s+=p.shift(),w="L",P.push(a,s);break;case"L":a=p.shift(),s=p.shift(),P.push(a,s);break;case"m":var M=p.shift(),T=p.shift();if(a+=M,s+=T,w="M",r.length>2&&"z"===r[r.length-1].command)for(var A=r.length-2;A>=0;A--)if("M"===r[A].command){a=r[A].points[0]+M,s=r[A].points[1]+T;break}P.push(a,s),h="l";break;case"M":a=p.shift(),s=p.shift(),w="M",P.push(a,s),h="L";break;case"h":a+=p.shift(),w="L",P.push(a,s);break;case"H":a=p.shift(),w="L",P.push(a,s);break;case"v":s+=p.shift(),w="L",P.push(a,s);break;case"V":s=p.shift(),w="L",P.push(a,s);break;case"C":P.push(p.shift(),p.shift(),p.shift(),p.shift()),a=p.shift(),s=p.shift(),P.push(a,s);break;case"c":P.push(a+p.shift(),s+p.shift(),a+p.shift(),s+p.shift()),a+=p.shift(),s+=p.shift(),w="C",P.push(a,s);break;case"S":f=a,d=s,c=r[r.length-1],"C"===c.command&&(f=a+(a-c.points[2]),d=s+(s-c.points[3])),P.push(f,d,p.shift(),p.shift()),a=p.shift(),s=p.shift(),w="C",P.push(a,s);break;case"s":f=a,d=s,c=r[r.length-1],"C"===c.command&&(f=a+(a-c.points[2]),d=s+(s-c.points[3])),P.push(f,d,a+p.shift(),s+p.shift()),a+=p.shift(),s+=p.shift(),w="C",P.push(a,s);break;case"Q":P.push(p.shift(),p.shift()),a=p.shift(),s=p.shift(),P.push(a,s);break;case"q":P.push(a+p.shift(),s+p.shift()),a+=p.shift(),s+=p.shift(),w="Q",P.push(a,s);break;case"T":f=a,d=s,c=r[r.length-1],"Q"===c.command&&(f=a+(a-c.points[0]),d=s+(s-c.points[1])),a=p.shift(),s=p.shift(),w="Q",P.push(f,d,a,s);break;case"t":f=a,d=s,c=r[r.length-1],"Q"===c.command&&(f=a+(a-c.points[0]),d=s+(s-c.points[1])),a+=p.shift(),s+=p.shift(),w="Q",P.push(f,d,a,s);break;case"A":y=p.shift(),v=p.shift(),g=p.shift(),m=p.shift(),b=p.shift(),_=a,x=s,a=p.shift(),s=p.shift(),w="A",P=this.convertEndpointToCenterParameterization(_,x,a,s,m,b,y,v,g);break;case"a":y=p.shift(),v=p.shift(),g=p.shift(),m=p.shift(),b=p.shift(),_=a,x=s,a+=p.shift(),s+=p.shift(),w="A",P=this.convertEndpointToCenterParameterization(_,x,a,s,m,b,y,v,g)}r.push({command:w||h,points:P,start:{x:S,y:C},pathLength:this.calcLength(S,C,w||h,P)})}"z"!==h&&"Z"!==h||r.push({command:"z",points:[],start:void 0,pathLength:0})}return r},Konva.Path.calcLength=function(t,e,n,o){var i,r,a,s,u=Konva.Path;switch(n){case"L":return u.getLineLength(t,e,o[0],o[1]);case"C":for(i=0,r=u.getPointOnCubicBezier(0,t,e,o[0],o[1],o[2],o[3],o[4],o[5]),s=.01;s<=1;s+=.01)a=u.getPointOnCubicBezier(s,t,e,o[0],o[1],o[2],o[3],o[4],o[5]),i+=u.getLineLength(r.x,r.y,a.x,a.y),r=a;return i;case"Q":for(i=0,r=u.getPointOnQuadraticBezier(0,t,e,o[0],o[1],o[2],o[3]),s=.01;s<=1;s+=.01)a=u.getPointOnQuadraticBezier(s,t,e,o[0],o[1],o[2],o[3]),i+=u.getLineLength(r.x,r.y,a.x,a.y),r=a;return i;case"A":i=0;var h=o[4],p=o[5],l=o[4]+p,c=Math.PI/180;if(Math.abs(h-l)<c&&(c=Math.abs(h-l)),r=u.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],h,0),p<0)for(s=h-c;s>l;s-=c)a=u.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],s,0),i+=u.getLineLength(r.x,r.y,a.x,a.y),r=a;else for(s=h+c;s<l;s+=c)a=u.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],s,0),i+=u.getLineLength(r.x,r.y,a.x,a.y),r=a;return a=u.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],l,0),i+=u.getLineLength(r.x,r.y,a.x,a.y)}return 0},Konva.Path.convertEndpointToCenterParameterization=function(t,e,n,o,i,r,a,s,u){var h=u*(Math.PI/180),p=Math.cos(h)*(t-n)/2+Math.sin(h)*(e-o)/2,l=-1*Math.sin(h)*(t-n)/2+Math.cos(h)*(e-o)/2,c=p*p/(a*a)+l*l/(s*s);c>1&&(a*=Math.sqrt(c),s*=Math.sqrt(c));var f=Math.sqrt((a*a*(s*s)-a*a*(l*l)-s*s*(p*p))/(a*a*(l*l)+s*s*(p*p)));i===r&&(f*=-1),isNaN(f)&&(f=0);var d=f*a*l/s,y=f*-s*p/a,v=(t+n)/2+Math.cos(h)*d-Math.sin(h)*y,g=(e+o)/2+Math.sin(h)*d+Math.cos(h)*y,m=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},b=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(m(t)*m(e))},_=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(b(t,e))},x=_([1,0],[(p-d)/a,(l-y)/s]),w=[(p-d)/a,(l-y)/s],P=[(-1*p-d)/a,(-1*l-y)/s],S=_(w,P);return b(w,P)<=-1&&(S=Math.PI),b(w,P)>=1&&(S=0),0===r&&S>0&&(S-=2*Math.PI),1===r&&S<0&&(S+=2*Math.PI),[v,g,a,s,x,S,h,r]},Konva.Factory.addGetterSetter(Konva.Path,"data"),Konva.Collection.mapMethods(Konva.Path)}(),function(){"use strict";function t(t){t.fillText(this.partialText,0,0)}function e(t){t.strokeText(this.partialText,0,0)}var n="",o="normal";Konva.TextPath=function(t){this.___init(t)},Konva.TextPath.prototype={___init:function(n){var o=this;this.dummyCanvas=Konva.Util.createCanvasElement(),this.dataArray=[],Konva.Shape.call(this,n),this._fillFunc=t,this._strokeFunc=e,this._fillFuncHit=t,this._strokeFuncHit=e,this.className="TextPath",this.dataArray=Konva.Path.parsePathData(this.attrs.data),this.on("dataChange.konva",function(){o.dataArray=Konva.Path.parsePathData(this.attrs.data),o._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva",o._setTextData),o._setTextData(),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.getTextBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),n=this.fill(),o=this.fontSize(),i=this.glyphInfo;"underline"===e&&t.beginPath();for(var r=0;r<i.length;r++){t.save();var a=i[r].p0;t.translate(a.x,a.y),t.rotate(i[r].rotation),this.partialText=i[r].text,t.fillStrokeShape(this),"underline"===e&&(0===r&&t.moveTo(0,o/2+1),t.lineTo(o,o/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=n,t.lineWidth=o/20,t.stroke()),t.restore()},_hitFunc:function(t){t.beginPath();var e=this.glyphInfo;if(e.length>=1){var n=e[0].p0;t.moveTo(n.x,n.y)}for(var o=0;o<e.length;o++){var i=e[o].p1;t.lineTo(i.x,i.y)}t.setAttr("lineWidth",this.getFontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},setText:function(t){Konva.Text.prototype.setText.call(this,t)},_getTextSize:function(t){var e=this.dummyCanvas,n=e.getContext("2d");n.save(),n.font=this._getContextFont();var o=n.measureText(t);return n.restore(),{width:o.width,height:parseInt(this.attrs.fontSize,10)}},_setTextData:function(){var t=this,e=this._getTextSize(this.attrs.text),n=this.getLetterSpacing(),o=this.align();this.textWidth=e.width,this.textHeight=e.height;var i=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);this.glyphInfo=[];for(var r=0,a=0;a<t.dataArray.length;a++)t.dataArray[a].pathLength>0&&(r+=t.dataArray[a].pathLength);var s=0;"center"===o&&(s=Math.max(0,r/2-i/2)),"right"===o&&(s=Math.max(0,r-i));for(var u,h,p,l=this.getText().split(""),c=this.getText().split(" ").length-1,f=-1,d=0,y=function(){d=0;for(var e=t.dataArray,n=f+1;n<e.length;n++){if(e[n].pathLength>0)return f=n,e[n];"M"===e[n].command&&(u={x:e[n].points[0],y:e[n].points[1]})}return{}},v=function(e){var a=t._getTextSize(e).width+n;" "===e&&"justify"===o&&(a+=(r-i)/c);var s=0,l=0;for(h=void 0;Math.abs(a-s)/a>.01&&l<25;){l++;for(var f=s;void 0===p;)p=y(),p&&f+p.pathLength<a&&(f+=p.pathLength,p=void 0);if(p==={}||void 0===u)return;var v=!1;switch(p.command){case"L":Konva.Path.getLineLength(u.x,u.y,p.points[0],p.points[1])>a?h=Konva.Path.getPointOnLine(a,u.x,u.y,p.points[0],p.points[1],u.x,u.y):p=void 0;break;case"A":var g=p.points[4],m=p.points[5],b=p.points[4]+m;0===d?d=g+1e-8:a>s?d+=Math.PI/180*m/Math.abs(m):d-=Math.PI/360*m/Math.abs(m),(m<0&&d<b||m>=0&&d>b)&&(d=b,v=!0),h=Konva.Path.getPointOnEllipticalArc(p.points[0],p.points[1],p.points[2],p.points[3],d,p.points[6]);break;case"C":0===d?d=a>p.pathLength?1e-8:a/p.pathLength:a>s?d+=(a-s)/p.pathLength:d-=(s-a)/p.pathLength,d>1&&(d=1,v=!0),h=Konva.Path.getPointOnCubicBezier(d,p.start.x,p.start.y,p.points[0],p.points[1],p.points[2],p.points[3],p.points[4],p.points[5]);break;case"Q":0===d?d=a/p.pathLength:a>s?d+=(a-s)/p.pathLength:d-=(s-a)/p.pathLength,d>1&&(d=1,v=!0),h=Konva.Path.getPointOnQuadraticBezier(d,p.start.x,p.start.y,p.points[0],p.points[1],p.points[2],p.points[3])}void 0!==h&&(s=Konva.Path.getLineLength(u.x,u.y,h.x,h.y)),v&&(v=!1,p=void 0)}},g="C",m=t._getTextSize(g).width+n,b=0;b<s/m&&(v(g),void 0!==u&&void 0!==h);b++)u=h;for(var _=0;_<l.length&&(v(l[_]),void 0!==u&&void 0!==h);_++){var x=Konva.Path.getLineLength(u.x,u.y,h.x,h.y),w=0,P=Konva.Path.getPointOnLine(w+x/2,u.x,u.y,h.x,h.y),S=Math.atan2(h.y-u.y,h.x-u.x);this.glyphInfo.push({transposeX:P.x,transposeY:P.y,text:l[_],rotation:S,p0:u,p1:h}),u=h}},getSelfRect:function(){var t=[];this.glyphInfo.forEach(function(e){t.push(e.p0.x),t.push(e.p0.y),t.push(e.p1.x),t.push(e.p1.y)});for(var e,n,o=t[0],i=t[0],r=t[0],a=t[0],s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],o=Math.min(o,e),i=Math.max(i,e),r=Math.min(r,n),a=Math.max(a,n);var u=this.fontSize();return{x:Math.round(o)-u/2,y:Math.round(r)-u/2,width:Math.round(i-o)+u,height:Math.round(a-r)+u}}},Konva.TextPath.prototype._getContextFont=Konva.Text.prototype._getContextFont,Konva.Util.extend(Konva.TextPath,Konva.Shape),Konva.Factory.addGetterSetter(Konva.TextPath,"fontFamily","Arial"),Konva.Factory.addGetterSetter(Konva.TextPath,"fontSize",12),Konva.Factory.addGetterSetter(Konva.TextPath,"fontStyle",o),Konva.Factory.addGetterSetter(Konva.TextPath,"align","left"),Konva.Factory.addGetterSetter(Konva.TextPath,"letterSpacing",0),Konva.Factory.addGetterSetter(Konva.TextPath,"textBaseline","middle"),Konva.Factory.addGetterSetter(Konva.TextPath,"fontVariant",o),Konva.Factory.addGetter(Konva.TextPath,"text",n),Konva.Factory.addGetterSetter(Konva.TextPath,"textDecoration",null),Konva.Collection.mapMethods(Konva.TextPath)}(),function(){"use strict";Konva.RegularPolygon=function(t){this.___init(t)},Konva.RegularPolygon.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className="RegularPolygon",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e,n,o,i=this.attrs.sides,r=this.attrs.radius;for(t.beginPath(),t.moveTo(0,0-r),e=1;e<i;e++)n=r*Math.sin(2*e*Math.PI/i),o=-1*r*Math.cos(2*e*Math.PI/i),t.lineTo(n,o);t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)}},Konva.Util.extend(Konva.RegularPolygon,Konva.Shape),Konva.Factory.addGetterSetter(Konva.RegularPolygon,"radius",0),Konva.Factory.addGetterSetter(Konva.RegularPolygon,"sides",0),Konva.Collection.mapMethods(Konva.RegularPolygon)}(),function(){"use strict";Konva.Star=function(t){this.___init(t)},Konva.Star.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className="Star",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.innerRadius(),n=this.outerRadius(),o=this.numPoints();t.beginPath(),t.moveTo(0,0-n);for(var i=1;i<2*o;i++){var r=i%2===0?n:e,a=r*Math.sin(i*Math.PI/o),s=-1*r*Math.cos(i*Math.PI/o);t.lineTo(a,s)}t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return 2*this.getOuterRadius()},getHeight:function(){return 2*this.getOuterRadius()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.outerRadius()!==t/2&&this.setOuterRadius(t/2)},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.outerRadius()!==t/2&&this.setOuterRadius(t/2)}},Konva.Util.extend(Konva.Star,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Star,"numPoints",5),Konva.Factory.addGetterSetter(Konva.Star,"innerRadius",0),Konva.Factory.addGetterSetter(Konva.Star,"outerRadius",0),Konva.Collection.mapMethods(Konva.Star)}(),function(){"use strict";var t=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width"],e="Change.konva",n="none",o="up",i="right",r="down",a="left",s="Label",u=t.length;Konva.Label=function(t){this.____init(t)},Konva.Label.prototype={____init:function(t){var e=this;Konva.Group.call(this,t),this.className=s,this.on("add.konva",function(t){e._addListeners(t.child),e._sync()})},getText:function(){return this.find("Text")[0]},getTag:function(){return this.find("Tag")[0]},_addListeners:function(n){var o,i=this,r=function(){i._sync()};for(o=0;o<u;o++)n.on(t[o]+e,r)},getWidth:function(){return this.getText().getWidth()},getHeight:function(){return this.getText().getHeight()},_sync:function(){var t,e,n,s,u,h,p,l=this.getText(),c=this.getTag();if(l&&c){switch(t=l.getWidth(),e=l.getHeight(),n=c.getPointerDirection(),s=c.getPointerWidth(),p=c.getPointerHeight(),u=0,h=0,n){case o:u=t/2,h=-1*p;break;case i:u=t+s,h=e/2;break;case r:u=t/2,h=e+p;break;case a:u=-1*s,h=e/2}c.setAttrs({x:-1*u,y:-1*h,width:t,height:e}),l.setAttrs({x:-1*u,y:-1*h})}}},Konva.Util.extend(Konva.Label,Konva.Group),Konva.Collection.mapMethods(Konva.Label),Konva.Tag=function(t){this.___init(t)},Konva.Tag.prototype={___init:function(t){Konva.Shape.call(this,t),this.className="Tag",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.getWidth(),n=this.getHeight(),s=this.getPointerDirection(),u=this.getPointerWidth(),h=this.getPointerHeight(),p=Math.min(this.getCornerRadius(),e/2,n/2);t.beginPath(),p?t.moveTo(p,0):t.moveTo(0,0),s===o&&(t.lineTo((e-u)/2,0),t.lineTo(e/2,-1*h),t.lineTo((e+u)/2,0)),p?(t.lineTo(e-p,0),t.arc(e-p,p,p,3*Math.PI/2,0,!1)):t.lineTo(e,0),s===i&&(t.lineTo(e,(n-h)/2),t.lineTo(e+u,n/2),t.lineTo(e,(n+h)/2)),p?(t.lineTo(e,n-p),t.arc(e-p,n-p,p,0,Math.PI/2,!1)):t.lineTo(e,n),s===r&&(t.lineTo((e+u)/2,n),t.lineTo(e/2,n+h),t.lineTo((e-u)/2,n)),p?(t.lineTo(p,n),t.arc(p,n-p,p,Math.PI/2,Math.PI,!1)):t.lineTo(0,n),s===a&&(t.lineTo(0,(n+h)/2),t.lineTo(-1*u,n/2),t.lineTo(0,(n-h)/2)),p&&(t.lineTo(0,p),t.arc(p,p,p,Math.PI,3*Math.PI/2,!1)),t.closePath(),t.fillStrokeShape(this)},getSelfRect:function(){var t=0,e=0,n=this.getPointerWidth(),s=this.getPointerHeight(),u=this.pointerDirection(),h=this.getWidth(),p=this.getHeight();return u===o?(e-=s,p+=s):u===r?p+=s:u===a?(t-=1.5*n,h+=n):u===i&&(h+=1.5*n),{x:t,y:e,width:h,height:p}}},Konva.Util.extend(Konva.Tag,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Tag,"pointerDirection",n),Konva.Factory.addGetterSetter(Konva.Tag,"pointerWidth",0),Konva.Factory.addGetterSetter(Konva.Tag,"pointerHeight",0),Konva.Factory.addGetterSetter(Konva.Tag,"cornerRadius",0),Konva.Collection.mapMethods(Konva.Tag)}(),function(){"use strict";Konva.Arrow=function(t){this.____init(t)},Konva.Arrow.prototype={____init:function(t){Konva.Line.call(this,t),this.className="Arrow"},_sceneFunc:function(t){Konva.Line.prototype._sceneFunc.apply(this,arguments);var e=2*Math.PI,n=this.points(),o=n.length,i=n[o-2]-n[o-4],r=n[o-1]-n[o-3],a=(Math.atan2(r,i)+e)%e,s=this.pointerLength(),u=this.pointerWidth();t.save(),t.beginPath(),t.translate(n[o-2],n[o-1]),t.rotate(a),t.moveTo(0,0),t.lineTo(-s,u/2),t.lineTo(-s,-u/2),t.closePath(),t.restore(),this.pointerAtBeginning()&&(t.save(),t.translate(n[0],n[1]),i=n[2]-n[0],r=n[3]-n[1],t.rotate((Math.atan2(-r,-i)+e)%e),t.moveTo(0,0),t.lineTo(-s,u/2),t.lineTo(-s,-u/2),t.closePath(),t.restore()),t.fillStrokeShape(this)}},Konva.Util.extend(Konva.Arrow,Konva.Line),Konva.Factory.addGetterSetter(Konva.Arrow,"pointerLength",10),Konva.Factory.addGetterSetter(Konva.Arrow,"pointerWidth",10),Konva.Factory.addGetterSetter(Konva.Arrow,"pointerAtBeginning",!1),Konva.Collection.mapMethods(Konva.Arrow)}()}).call(e,function(){return this}())},function(t,e){!function(n,o){"object"==typeof e?t.exports=o():"function"==typeof define&&define.amd?define([],o):n.ol=o()}(this,function(){function t(t,e){var n=fv;t=t.split("."),n=n||dv,t[0]in n||!n.execScript||n.execScript("var "+t[0]);for(var o;t.length&&(o=t.shift());)t.length||void 0===e?n=n[o]&&n[o]!==Object.prototype[o]?n[o]:n[o]={}:n[o]=e}function e(t,e){return t>e?1:t<e?-1:0}function n(t,e){return 0<=t.indexOf(e)}function o(t,e,n){var o=t.length;if(t[0]<=e)return 0;if(!(e<=t[o-1]))if(0<n){for(n=1;n<o;++n)if(t[n]<e)return n-1}else if(0>n){for(n=1;n<o;++n)if(t[n]<=e)return n}else for(n=1;n<o;++n){if(t[n]==e)return n;if(t[n]<e)return t[n-1]-e<e-t[n]?n-1:n}return o-1}function i(t,e){var n=Array.isArray(e)?e:[e],o=n.length;for(e=0;e<o;e++)t[t.length]=n[e]}function r(t,e){e=t.indexOf(e),-1<e&&t.splice(e,1)}function a(t,e){for(var n,o=t.length>>>0,i=0;i<o;i++)if(n=t[i],e(n,i,t))return n;return null}function s(t,e){var n=t.length;if(n!==e.length)return!1;for(var o=0;o<n;o++)if(t[o]!==e[o])return!1;return!0}function u(t){var e,n=Cr,o=t.length,i=Array(t.length);for(e=0;e<o;e++)i[e]={index:e,value:t[e]};for(i.sort(function(t,e){return n(t.value,e.value)||t.index-e.index}),e=0;e<t.length;e++)t[e]=i[e].value}function h(t,e){var n;return t.every(function(o,i){return n=i,!e(o,i,t)})?-1:n}function p(t,n){var o=n||e;return t.every(function(e,n){return!n||(e=o(t[n-1],e),!(0<e||0===e))})}function l(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function c(){}function f(t){return t.Vo||(t.Vo=++yv)}function d(t){this.message="Assertion failed. See https://openlayers.org/en/v4.2.0/doc/errors/#"+t+" for details.",this.code=t,this.name="AssertionError"}function y(t,e){if(!t)throw new d(e)}function v(t,e,n,o){this.ca=t,this.$=e,this.da=n,this.ia=o}function g(t,e,n){return t.ca<=e&&e<=t.$&&t.da<=n&&n<=t.ia}function m(t,e){return t.ca==e.ca&&t.da==e.da&&t.$==e.$&&t.ia==e.ia}function b(t,e){return t.ca<=e.$&&t.$>=e.ca&&t.da<=e.ia&&t.ia>=e.da}function _(t,e,n){return Math.min(Math.max(t,e),n)}function x(t){return y(0<t,29),Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function w(t,e,n,o,i,r){var a=i-n,s=r-o;if(a||s){var u=((t-n)*a+(e-o)*s)/(a*a+s*s);1<u?(n=i,o=r):0<u&&(n+=a*u,o+=s*u)}return P(t,e,n,o)}function P(t,e,n,o){return t=n-t,e=o-e,t*t+e*e}function S(t){return t*Math.PI/180}function C(t,e){return t%=e,0>t*e?t+e:t}function M(t,e,n){return t+n*(e-t)}function T(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]+2*e,n[1]=t[1]+2*e,n}function A(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function E(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}function I(t){for(var e=j(),n=0,o=t.length;n<o;++n)W(e,t[n]);return e}function L(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function N(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function O(t,e,n){return e=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,t=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0,e*e+t*t}function k(t,e){return F(t,e[0],e[1])}function R(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function F(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function D(t,e){var n=t[1],o=t[2],i=t[3],r=e[0];e=e[1];var a=0;return r<t[0]?a|=16:r>o&&(a|=4),e<n?a|=8:e>i&&(a|=2),a||(a=1),a}function j(){return[1/0,1/0,-(1/0),-(1/0)]}function K(t,e,n,o,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=o,i):[t,e,n,o]}function B(t){return K(1/0,1/0,-(1/0),-(1/0),t)}function X(t,e){var n=t[0];return t=t[1],K(n,t,n,t,e)}function U(t,e,n,o,i){return i=B(i),z(i,t,e,n,o)}function Y(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function G(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function W(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function z(t,e,n,o,i){for(;n<o;n+=i){var r=t,a=e[n],s=e[n+1];r[0]=Math.min(r[0],a),r[1]=Math.min(r[1],s),r[2]=Math.max(r[2],a),r[3]=Math.max(r[3],s)}return t}function H(t,e,n){var o;return(o=e.call(n,V(t)))||(o=e.call(n,$(t)))||(o=e.call(n,nt(t)))?o:!!(o=e.call(n,et(t)))&&o}function q(t){var e=0;return rt(t)||(e=ot(t)*Q(t)),e}function V(t){return[t[0],t[1]]}function $(t){return[t[2],t[1]]}function Z(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function J(t,e,n,o,i){var r=e*o[0]/2;o=e*o[1]/2,e=Math.cos(n);var a=Math.sin(n);n=r*e,r*=a,e*=o;var s=o*a,u=t[0],h=t[1];t=u-n+s,o=u-n-s,a=u+n-s,n=u+n+s;var s=h-r-e,u=h-r+e,p=h+r+e,r=h+r-e;return K(Math.min(t,o,a,n),Math.min(s,u,p,r),Math.max(t,o,a,n),Math.max(s,u,p,r),i)}function Q(t){return t[3]-t[1]}function tt(t,e,n){return n=n?n:j(),it(t,e)&&(n[0]=t[0]>e[0]?t[0]:e[0],n[1]=t[1]>e[1]?t[1]:e[1],n[2]=t[2]<e[2]?t[2]:e[2],n[3]=t[3]<e[3]?t[3]:e[3]),n}function et(t){return[t[0],t[3]]}function nt(t){return[t[2],t[3]]}function ot(t){return t[2]-t[0]}function it(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function rt(t){return t[2]<t[0]||t[3]<t[1]}function at(t,e){var n=(t[2]-t[0])/2*(e-1);e=(t[3]-t[1])/2*(e-1),t[0]-=n,t[2]+=n,t[1]-=e,t[3]+=e}function st(t,e,n){t=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]],e(t,t,2);var o=[t[0],t[2],t[4],t[6]],i=[t[1],t[3],t[5],t[7]];return e=Math.min.apply(null,o),t=Math.min.apply(null,i),o=Math.max.apply(null,o),i=Math.max.apply(null,i),K(e,t,o,i,n)}function ut(t){for(var e in t)delete t[e]}function ht(t){var e,n=[];for(e in t)n.push(t[e]);return n}function pt(t){for(var e in t)return!1;return!e}function lt(t){this.radius=t}function ct(t){this.mb=t.code,this.a=t.units,this.f=void 0!==t.extent?t.extent:null,this.g=void 0!==t.worldExtent?t.worldExtent:null,this.b=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.c=void 0!==t.global&&t.global,this.i=!(!this.c||!this.f),this.o=t.getPointResolution,this.j=null,this.l=t.metersPerUnit;var e=t.code,n=_v||window.proj4;"function"==typeof n&&(e=n.defs(e),void 0!==e&&(void 0!==e.axis&&void 0===t.axisOrientation&&(this.b=e.axis),void 0===t.metersPerUnit&&(this.l=e.to_meter),void 0===t.units&&(this.a=e.units)))}function ft(t){ct.call(this,{code:t,units:"m",extent:wv,global:!0,worldExtent:Pv,getPointResolution:function(t,e){return t/vv(e[1]/6378137)}})}function dt(t,e,n){var o=t.length;n=1<n?n:2,void 0===e&&(e=2<n?t.slice():Array(o));for(var i=0;i<o;i+=n){e[i]=xv*t[i]/180;var r=6378137*Math.log(Math.tan(Math.PI*(t[i+1]+90)/360));r>xv?r=xv:r<-xv&&(r=-xv),e[i+1]=r}return e}function yt(t,e,n){var o=t.length;n=1<n?n:2,void 0===e&&(e=2<n?t.slice():Array(o));for(var i=0;i<o;i+=n)e[i]=180*t[i]/xv,e[i+1]=360*Math.atan(Math.exp(t[i+1]/6378137))/Math.PI-90;return e}function vt(t,e){ct.call(this,{code:t,units:"degrees",extent:Mv,axisOrientation:e,global:!0,metersPerUnit:Tv,worldExtent:Mv})}function gt(t,e,n){t=t.mb,e=e.mb,t in Iv||(Iv[t]={}),Iv[t][e]=n}function mt(t,e){var n;return t in Iv&&e in Iv[t]&&(n=Iv[t][e]),n}function bt(t,e,n){t=Mt(t);var o=t.o;return o?e=o(e,n):"degrees"!=t.a&&(o=Et(t,Mt("EPSG:4326")),e=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2],e=o(e,e,2),e=(mv.b(e.slice(0,2),e.slice(2,4))+mv.b(e.slice(4,6),e.slice(6,8)))/2,t=t.sc(),void 0!==t&&(e/=t)),e}function _t(t){t.forEach(wt),t.forEach(function(e){t.forEach(function(t){e!==t&&gt(e,t,Lt)})})}function xt(){Av.forEach(function(t){Sv.forEach(function(e){gt(t,e,dt),gt(e,t,yt)})})}function wt(t){Ev[t.mb]=t,gt(t,t,Lt)}function Pt(t){return t?"string"==typeof t?Mt(t):t:Mt("EPSG:3857")}function St(t,e,n,o){t=Mt(t),e=Mt(e),gt(t,e,Ct(n)),gt(e,t,Ct(o))}function Ct(t){return function(e,n,o){var i=e.length;o=void 0!==o?o:2,n=void 0!==n?n:Array(i);var r;for(r=0;r<i;r+=o){var a=t([e[r],e[r+1]]);for(n[r]=a[0],n[r+1]=a[1],a=o-1;2<=a;--a)n[r+a]=e[r+a]}return n}}function Mt(t){var e=null;if(t instanceof ct)e=t;else if("string"==typeof t){var e=Ev[t]||null,n=_v||window.proj4;e||"function"!=typeof n||void 0===n.defs(t)||(e=new ct({code:t}),wt(e))}return e}function Tt(t,e){if(t===e)return!0;var n=t.a===e.a;return t.mb===e.mb?n:Et(t,e)===Lt&&n}function At(t,e){return t=Mt(t),e=Mt(e),Et(t,e)}function Et(t,e){var n=t.mb,o=e.mb,i=mt(n,o);if(!i){var r=_v||window.proj4;if("function"==typeof r){var a=r.defs(n),s=r.defs(o);void 0!==a&&void 0!==s&&(a===s?_t([e,t]):(i=r(o,n),St(e,t,i.forward,i.inverse)),i=mt(n,o))}}return i||(i=It),i}function It(t,e){if(void 0!==e&&t!==e){for(var n=0,o=t.length;n<o;++n)e[n]=t[n];t=e}return t}function Lt(t,e){if(void 0!==e){for(var n=0,o=t.length;n<o;++n)e[n]=t[n];t=e}else t=t.slice();return t}function Nt(t,e,n){return At(e,n)(t,void 0,t.length)}function Ot(t,e,n){return e=At(e,n),st(t,e)}function kt(){_t(Sv),_t(Av),xt()}function Rt(t,e,n,o){return void 0!==o?(o[0]=t,o[1]=e,o[2]=n,o):[t,e,n]}function Ft(t){var e,n=t[0],o=Array(n),i=1<<n-1;for(e=0;e<n;++e){var r=48;t[1]&i&&(r+=1),t[2]&i&&(r+=2),o[e]=String.fromCharCode(r),i>>=1}return o.join("")}function Dt(t){this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.b=t.resolutions,y(p(this.b,function(t,e){return e-t}),17),this.maxZoom=this.b.length-1,this.i=void 0!==t.origin?t.origin:null,this.c=null,void 0!==t.origins&&(this.c=t.origins,y(this.c.length==this.b.length,20));var e=t.extent;void 0===e||this.i||this.c||(this.i=et(e)),y(!this.i&&this.c||this.i&&!this.c,18),this.f=null,void 0!==t.tileSizes&&(this.f=t.tileSizes,y(this.f.length==this.b.length,19)),this.g=void 0!==t.tileSize?t.tileSize:this.f?null:256,y(!this.g&&this.f||this.g&&!this.f,22),this.v=void 0!==e?e:null,this.a=null,this.j=[0,0],void 0!==t.sizes?this.a=t.sizes.map(function(t){return new v(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):e&&Gt(this,e)}function jt(t,e,n,o,i){for(i=t.Aa(e,i),e=e[0]-1;e>=t.minZoom;){if(n.call(null,e,Xt(t,i,e,o)))return!0;--e}return!1}function Kt(t,e,n,o){return e[0]<t.maxZoom?(o=t.Aa(e,o),Xt(t,o,e[0]+1,n)):null}function Bt(t,e,n,o){Yt(t,e[0],e[1],n,!1,Lv);var i=Lv[1],r=Lv[2];return Yt(t,e[2],e[3],n,!0,Lv),t=Lv[1],e=Lv[2],void 0!==o?(o.ca=i,o.$=t,o.da=r,o.ia=e):o=new v(i,t,r,e),o}function Xt(t,e,n,o){return Bt(t,e,t.Da(n),o)}function Ut(t,e){var n=t.Pc(e[0]),o=t.Da(e[0]);return t=E(t.gb(e[0]),t.j),[n[0]+(e[1]+.5)*t[0]*o,n[1]+(e[2]+.5)*t[1]*o]}function Yt(t,e,n,o,i,r){var a=t.tc(o),s=o/t.Da(a),u=t.Pc(a);return t=E(t.gb(a),t.j),e=s*Math.floor((e-u[0])/o+(i?.5:0))/t[0],n=s*Math.floor((n-u[1])/o+(i?0:.5))/t[1],i?(e=Math.ceil(e)-1,n=Math.ceil(n)-1):(e=Math.floor(e),n=Math.floor(n)),Rt(a,e,n,r)}function Gt(t,e){for(var n=t.b.length,o=Array(n),i=t.minZoom;i<n;++i)o[i]=Xt(t,e,i);t.a=o}function Wt(t){var e=t.j;return e||(e=qt(t),t.j=e),e}function zt(t){var e={};return gv(e,t?t:{}),void 0===e.extent&&(e.extent=Mt("EPSG:3857").G()),e.resolutions=Ht(e.extent,e.maxZoom,e.tileSize),delete e.maxZoom,new Dt(e)}function Ht(t,e,n){e=void 0!==e?e:42;var o=Q(t);for(t=ot(t),n=E(void 0!==n?n:256),n=Math.max(t/n[0],o/n[1]),e+=1,o=Array(e),t=0;t<e;++t)o[t]=n/Math.pow(2,t);return o}function qt(t,e,n){return t=Vt(t),e=Ht(t,e,n),new Dt({extent:t,origin:et(t),resolutions:e,tileSize:n})}function Vt(t){t=Mt(t);var e=t.G();return e||(t=180*bv.degrees/t.sc(),e=K(-t,-t,t,t)),e}function $t(t){this.b=t.html,this.a=t.tileRanges?t.tileRanges:null}function Zt(t){return function(e){if(e)return[_(e[0],t[0],t[2]),_(e[1],t[1],t[3])]}}function Jt(t){return t}function Qt(t){function e(e){var n=t.listener,o=t.lh||t.target;return t.nh&&se(t),n.call(o,e)}return t.mh=e}function te(t,e,n,o){for(var i,r=0,a=t.length;r<a;++r)if(i=t[r],i.listener===e&&i.lh===n)return o&&(i.deleteIndex=r),i}function ee(t,e){return(t=t.fb)?t[e]:void 0}function ne(t){var e=t.fb;return e||(e=t.fb={}),e}function oe(t,e){var n=ee(t,e);if(n){for(var o=0,i=n.length;o<i;++o)t.removeEventListener(e,n[o].mh),ut(n[o]);n.length=0,(n=t.fb)&&(delete n[e],Object.keys(n).length||delete t.fb)}}function ie(t,e,n,o,i){var r=ne(t),a=r[e];return a||(a=r[e]=[]),(r=te(a,n,o,!1))?i||(r.nh=!1):(r={lh:o,nh:!!i,listener:n,target:t,type:e},t.addEventListener(e,Qt(r)),a.push(r)),r}function re(t,e,n,o){return ie(t,e,n,o,!0)}function ae(t,e,n,o){(t=ee(t,e))&&(n=te(t,n,o,!0))&&se(n)}function se(t){if(t&&t.target){t.target.removeEventListener(t.type,t.mh);var e=ee(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==n&&e.splice(n,1),e.length||oe(t.target,t.type)}ut(t)}}function ue(t){var e,n=ne(t);for(e in n)oe(t,e)}function he(){}function pe(t){t.Jb||(t.Jb=!0,t.ka())}function le(t){this.type=t,this.target=null}function ce(t){t.stopPropagation()}function fe(){this.Ua={},this.ra={},this.oa={}}function de(t,e){return e?e in t.oa:0<Object.keys(t.oa).length}function ye(){fe.call(this),this.i=0}function ve(t){ye.call(this),f(this),this.S={},void 0!==t&&this.H(t)}function ge(t){return Nv.hasOwnProperty(t)?Nv[t]:Nv[t]="change:"+t}function me(t,e,n){var o=ge(e);t.b(new be(o,e,n)),t.b(new be("propertychange",e,n))}function be(t,e,n){le.call(this,t),this.key=e,this.oldValue=n}function _e(t,e){if(ve.call(this),this.c=!!(e||{}).unique,this.a=t?t:[],this.c)for(t=0,e=this.a.length;t<e;++t)we(this,this.a[t],t);xe(this)}function xe(t){t.set(Ov,t.a.length)}function we(t,e,n){for(var o=0,i=t.a.length;o<i;++o)if(t.a[o]===e&&o!==n)throw new d(58)}function Pe(t,e){le.call(this,t),this.element=e}function Se(t){return Array.isArray(t)?t:Fv(t)}function Ce(t){if("string"!=typeof t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var o=t[2];o!=(0|o)&&(o=o+.5|0),t="rgba("+e+","+n+","+o+","+(void 0===t[3]?1:t[3])+")"}return t}function Me(t){var e=[];return e[0]=_(t[0]+.5|0,0,255),e[1]=_(t[1]+.5|0,0,255),e[2]=_(t[2]+.5|0,0,255),e[3]=_(t[3],0,1),e}function Te(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient?t:Ce(t)}function Ae(t,e){var n=document.createElement("CANVAS");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")}function Ee(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function Ie(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Le(t){ve.call(this),this.element=t.element?t.element:null,this.a=this.R=null,this.v=[],this.render=t.render?t.render:c,t.target&&this.f(t.target)}function Ne(t){t=t?t:{},this.I=document.createElement("UL"),this.u=document.createElement("LI"),this.I.appendChild(this.u),this.u.style.display="none",this.c=void 0===t.collapsed||t.collapsed,this.o=void 0===t.collapsible||t.collapsible,this.o||(this.c=!1);var e=void 0!==t.className?t.className:"ol-attribution",n=void 0!==t.tipLabel?t.tipLabel:"Attributions",o=void 0!==t.collapseLabel?t.collapseLabel:"»";"string"==typeof o?(this.D=document.createElement("span"),this.D.textContent=o):this.D=o,o=void 0!==t.label?t.label:"i","string"==typeof o?(this.C=document.createElement("span"),this.C.textContent=o):this.C=o;var i=this.o&&!this.c?this.D:this.C,o=document.createElement("button");
o.setAttribute("type","button"),o.title=n,o.appendChild(i),ie(o,"click",this.Vm,this),n=document.createElement("div"),n.className=e+" ol-unselectable ol-control"+(this.c&&this.o?" ol-collapsed":"")+(this.o?"":" ol-uncollapsible"),n.appendChild(this.I),n.appendChild(o),Le.call(this,{element:n,render:t.render?t.render:Oe,target:t.target}),this.B=!0,this.l={},this.j={},this.T={}}function Oe(t){if(t=t.frameState){var e,n,o,i,r,a=t.layerStatesArray,s=gv({},t.attributions),u={},h={},p=t.viewState.projection,l=0;for(e=a.length;l<e;l++)if(i=a[l].layer.ha()){var c=f(i).toString();if(r=i.j){var d=0;for(n=r.length;d<n;d++){var y=r[d],g=f(y).toString();if(!(g in s)){if(o=t.usedTiles[c]){var m=i.Ta(p);t:{var _,x=void 0,w=y,P=m,S=p;if(w.a){for(x in o)if(x in w.a){var m=o[x],M=0;for(_=w.a[x].length;M<_;++M){var T=w.a[x][M];if(b(T,m)){x=!0;break t}var A=Xt(P,Vt(S),parseInt(x,10)),E=A.$-A.ca+1;if((m.ca<A.ca||m.$>A.$)&&(b(T,new v(C(m.ca,E),C(m.$,E),m.da,m.ia))||m.$-m.ca+1>E&&b(T,A))){x=!0;break t}}}x=!1}else x=!0}}else x=!1;x?(g in u&&delete u[g],x=y.b,x in h||(h[x]=!0,s[g]=y)):u[g]=y}}}}e=[s,u],l=e[0],e=e[1];for(var I in this.l)I in l?(this.j[I]||(this.l[I].style.display="",this.j[I]=!0),delete l[I]):I in e?(this.j[I]&&(this.l[I].style.display="none",delete this.j[I]),delete e[I]):(Ie(this.l[I]),delete this.l[I],delete this.j[I]);for(I in l)d=document.createElement("LI"),d.innerHTML=l[I].b,this.I.appendChild(d),this.l[I]=d,this.j[I]=!0;for(I in e)d=document.createElement("LI"),d.innerHTML=e[I].b,d.style.display="none",this.I.appendChild(d),this.l[I]=d;I=!pt(this.j)||!pt(t.logos),this.B!=I&&(this.element.style.display=I?"":"none",this.B=I),I&&pt(this.j)?this.element.classList.add("ol-logo-only"):this.element.classList.remove("ol-logo-only"),t=t.logos,I=this.T;for(N in I)N in t||(Ie(I[N]),delete I[N]);for(var L in t)if(e=t[L],e instanceof HTMLElement&&(this.u.appendChild(e),I[L]=e),!(L in I)){var N=new Image;N.src=L,""===e?l=N:(l=document.createElement("a"),l.href=e,l.appendChild(N)),this.u.appendChild(l),I[L]=l}this.u.style.display=pt(t)?"none":""}else this.B&&(this.element.style.display="none",this.B=!1)}function ke(t){t.element.classList.toggle("ol-collapsed"),t.c?Ee(t.D,t.C):Ee(t.C,t.D),t.c=!t.c}function Re(t){return Math.pow(t,3)}function Fe(t){return 1-Re(1-t)}function De(t){return 3*t*t-2*t*t*t}function je(t){return t}function Ke(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-rotate",n=void 0!==t.label?t.label:"⇧";this.c=null,"string"==typeof n?(this.c=document.createElement("span"),this.c.className="ol-compass",this.c.textContent=n):(this.c=n,this.c.classList.add("ol-compass"));var o=t.tipLabel?t.tipLabel:"Reset rotation",n=document.createElement("button");n.className=e+"-reset",n.setAttribute("type","button"),n.title=o,n.appendChild(this.c),ie(n,"click",Ke.prototype.D,this),o=document.createElement("div"),o.className=e+" ol-unselectable ol-control",o.appendChild(n),e=t.render?t.render:Be,this.o=t.resetNorth?t.resetNorth:void 0,Le.call(this,{element:o,render:e,target:t.target}),this.l=void 0!==t.duration?t.duration:250,this.j=void 0===t.autoHide||t.autoHide,this.u=void 0,this.j&&this.element.classList.add("ol-hidden")}function Be(t){if(t=t.frameState){if(t=t.viewState.rotation,t!=this.u){var e="rotate("+t+"rad)";if(this.j){var n=this.element.classList.contains("ol-hidden");n||t?n&&t&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.c.style.msTransform=e,this.c.style.webkitTransform=e,this.c.style.transform=e}this.u=t}}function Xe(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-zoom",n=void 0!==t.delta?t.delta:1,o=void 0!==t.zoomInLabel?t.zoomInLabel:"+",i=void 0!==t.zoomOutLabel?t.zoomOutLabel:"−",r=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",a=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",s=document.createElement("button");s.className=e+"-in",s.setAttribute("type","button"),s.title=r,s.appendChild("string"==typeof o?document.createTextNode(o):o),ie(s,"click",Xe.prototype.j.bind(this,n)),o=document.createElement("button"),o.className=e+"-out",o.setAttribute("type","button"),o.title=a,o.appendChild("string"==typeof i?document.createTextNode(i):i),ie(o,"click",Xe.prototype.j.bind(this,-n)),n=document.createElement("div"),n.className=e+" ol-unselectable ol-control",n.appendChild(s),n.appendChild(o),Le.call(this,{element:n,target:t.target}),this.c=void 0!==t.duration?t.duration:250}function Ue(t){t=t?t:{};var e=new _e;return(void 0!==t.zoom?t.zoom:1)&&e.push(new Xe(t.zoomOptions)),(void 0!==t.rotate?t.rotate:1)&&e.push(new Ke(t.rotateOptions)),(void 0!==t.attribution?t.attribution:1)&&e.push(new Ne(t.attributionOptions)),e}function Ye(t){t=t?t:{},this.c=void 0!==t.className?t.className:"ol-full-screen";var e=void 0!==t.label?t.label:"⤢";this.o="string"==typeof e?document.createTextNode(e):e,e=void 0!==t.labelActive?t.labelActive:"×",this.l="string"==typeof e?document.createTextNode(e):e;var n=t.tipLabel?t.tipLabel:"Toggle full-screen",e=document.createElement("button");e.className=this.c+"-"+We(),e.setAttribute("type","button"),e.title=n,e.appendChild(this.o),ie(e,"click",this.C,this),n=document.createElement("div"),n.className=this.c+" ol-unselectable ol-control "+(Ge()?"":"ol-unsupported"),n.appendChild(e),Le.call(this,{element:n,target:t.target}),this.D=void 0!==t.keys&&t.keys,this.j=t.source}function Ge(){var t=document.body;return!!(t.webkitRequestFullscreen||t.mozRequestFullScreen&&document.mozFullScreenEnabled||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)}function We(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function ze(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}function He(t){t=t?t:{};var e=document.createElement("DIV");e.className=void 0!==t.className?t.className:"ol-mouse-position",Le.call(this,{element:e,render:t.render?t.render:qe,target:t.target}),ie(this,ge(jv),this.Ym,this),t.coordinateFormat&&this.kj(t.coordinateFormat),t.projection&&this.$h(t.projection),this.u=void 0!==t.undefinedHTML?t.undefinedHTML:"",this.l=e.innerHTML,this.o=this.j=this.c=null}function qe(t){t=t.frameState,t?this.c!=t.viewState.projection&&(this.c=t.viewState.projection,this.j=null):this.c=null,Ve(this,this.o)}function Ve(t,e){var n=t.u;if(e&&t.c){if(!t.j){var o=t.Zh();t.j=o?Et(t.c,o):It}(e=t.a.Wa(e))&&(t.j(e,e),n=(n=t.xh())?n(e):e.toString())}t.l&&n==t.l||(t.element.innerHTML=n,t.l=n)}function $e(t,e,n){le.call(this,t),this.map=e,this.frameState=void 0!==n?n:null}function Ze(t,e,n,o,i){$e.call(this,t,e,i),this.originalEvent=n,this.pixel=e.xe(n),this.coordinate=e.Wa(this.pixel),this.dragging=void 0!==o&&o}function Je(t,e){var n,o,i=Uv.length;for(o=0;o<i;++o)try{if(n=t.getContext(Uv[o],e))return n}catch(t){}return null}function Qe(t,e,n,o,i){Ze.call(this,t,e,n.b,o,i),this.b=n}function tn(t,e){this.b=t,this.f=e}function en(t){tn.call(this,t,{mousedown:this.fm,mousemove:this.gm,mouseup:this.jm,mouseover:this.im,mouseout:this.hm}),this.a=t.i,this.i=[]}function nn(t,e){t=t.i;var n=e.clientX;e=e.clientY;for(var o,i=0,r=t.length;i<r&&(o=t[i]);i++){var a=Math.abs(e-o[1]);if(25>=Math.abs(n-o[0])&&25>=a)return!0}return!1}function on(t){var e=bn(t,t),n=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),n()},e.pointerId=1,e.isPrimary=!0,e.pointerType="mouse",e}function rn(t){tn.call(this,t,{MSPointerDown:this.om,MSPointerMove:this.pm,MSPointerUp:this.sm,MSPointerOut:this.qm,MSPointerOver:this.rm,MSPointerCancel:this.nm,MSGotPointerCapture:this.lm,MSLostPointerCapture:this.mm}),this.a=t.i,this.i=["","unavailable","touch","pen","mouse"]}function an(t,e){var n=e;return"number"==typeof e.pointerType&&(n=bn(e,e),n.pointerType=t.i[e.pointerType]),n}function sn(t){tn.call(this,t,{pointerdown:this.ip,pointermove:this.jp,pointerup:this.mp,pointerout:this.kp,pointerover:this.lp,pointercancel:this.hp,gotpointercapture:this.ul,lostpointercapture:this.em})}function un(t,e,n){le.call(this,t),this.b=e,t=n?n:{},this.buttons=hn(t),this.pressure=pn(t,this.buttons),this.bubbles="bubbles"in t&&t.bubbles,this.cancelable="cancelable"in t&&t.cancelable,this.view="view"in t?t.view:null,this.detail="detail"in t?t.detail:null,this.screenX="screenX"in t?t.screenX:0,this.screenY="screenY"in t?t.screenY:0,this.clientX="clientX"in t?t.clientX:0,this.clientY="clientY"in t?t.clientY:0,this.ctrlKey="ctrlKey"in t&&t.ctrlKey,this.altKey="altKey"in t&&t.altKey,this.shiftKey="shiftKey"in t&&t.shiftKey,this.metaKey="metaKey"in t&&t.metaKey,this.button="button"in t?t.button:0,this.relatedTarget="relatedTarget"in t?t.relatedTarget:null,this.pointerId="pointerId"in t?t.pointerId:0,this.width="width"in t?t.width:0,this.height="height"in t?t.height:0,this.tiltX="tiltX"in t?t.tiltX:0,this.tiltY="tiltY"in t?t.tiltY:0,this.pointerType="pointerType"in t?t.pointerType:"",this.isPrimary="isPrimary"in t&&t.isPrimary,e.preventDefault&&(this.preventDefault=function(){e.preventDefault()})}function hn(t){if(t.buttons||ag)t=t.buttons;else switch(t.which){case 1:t=1;break;case 2:t=4;break;case 3:t=2;break;default:t=0}return t}function pn(t,e){var n=0;return n=t.pressure?t.pressure:e?.5:0}function ln(t,e){tn.call(this,t,{touchstart:this.rq,touchmove:this.qq,touchend:this.pq,touchcancel:this.oq}),this.a=t.i,this.j=e,this.i=void 0,this.g=0,this.c=void 0}function cn(t,e,n){return e=bn(e,n),e.pointerId=n.identifier+2,e.bubbles=!0,e.cancelable=!0,e.detail=t.g,e.button=0,e.buttons=1,e.width=n.webkitRadiusX||n.radiusX||0,e.height=n.webkitRadiusY||n.radiusY||0,e.pressure=n.webkitForce||n.force||.5,e.isPrimary=t.i===n.identifier,e.pointerType="touch",e.clientX=n.clientX,e.clientY=n.clientY,e.screenX=n.screenX,e.screenY=n.screenY,e}function fn(t,e,n){function o(){e.preventDefault()}var i,r=Array.prototype.slice.call(e.changedTouches),a=r.length;for(i=0;i<a;++i){var s=cn(t,e,r[i]);s.preventDefault=o,n.call(t,e,s)}}function dn(t,e){var n=t.j.i;if(e=e.changedTouches[0],t.i===e.identifier){var o=[e.clientX,e.clientY];n.push(o),setTimeout(function(){r(n,o)},2500)}}function yn(t){fe.call(this),this.g=t,this.i={},this.f={},this.a=[],tg?vn(this,new sn(this)):eg?vn(this,new rn(this)):(t=new en(this),vn(this,t),Qv&&vn(this,new ln(this,t))),t=this.a.length;for(var e,n=0;n<t;n++)e=this.a[n],gn(this,Object.keys(e.f))}function vn(t,e){var n=Object.keys(e.f);n&&(n.forEach(function(t){var n=e.f[t];n&&(this.f[t]=n.bind(e))},t),t.a.push(e))}function gn(t,e){e.forEach(function(t){ie(this.g,t,this.c,this)},t)}function mn(t,e){e.forEach(function(t){ae(this.g,t,this.c,this)},t)}function bn(t,e){for(var n,o={},i=0,r=sg.length;i<r;i++)n=sg[i][0],o[n]=t[n]||e[n]||sg[i][1];return o}function _n(t,e,n){e.bubbles=!1,Pn(t,"pointerleave",e,n)}function xn(t,e,n){t.out(e,n);var o=e.target,i=e.relatedTarget;o&&i&&o.contains(i)||_n(t,e,n)}function wn(t,e,n){e.bubbles=!0,Pn(t,"pointerover",e,n);var o=e.target,i=e.relatedTarget;o&&i&&o.contains(i)||(e.bubbles=!1,Pn(t,"pointerenter",e,n))}function Pn(t,e,n,o){t.b(new un(e,o,n))}function Sn(t,e){t.b(new un(e.type,e,e))}function Cn(t,e){fe.call(this),this.i=t,this.j=0,this.o=!1,this.f=[],this.D=e?e*qv:qv,this.c=null,t=this.i.a,this.S=0,this.u={},this.g=new yn(t),this.a=null,this.l=ie(this.g,"pointerdown",this.Ol,this),this.v=ie(this.g,"pointermove",this.Lp,this)}function Mn(t,e){var n=new Qe("click",t.i,e);t.b(n),t.j?(clearTimeout(t.j),t.j=0,n=new Qe("dblclick",t.i,e),t.b(n)):t.j=setTimeout(function(){this.j=0;var t=new Qe("singleclick",this.i,e);this.b(t)}.bind(t),250)}function Tn(t,e){"pointerup"==e.type||"pointercancel"==e.type?delete t.u[e.pointerId]:"pointerdown"==e.type&&(t.u[e.pointerId]=!0),t.S=Object.keys(t.u).length}function An(t,e){return Math.abs(e.clientX-t.c.clientX)>t.D||Math.abs(e.clientY-t.c.clientY)>t.D}function En(t,e){this.l=t,this.c=e,this.b=[],this.i=[],this.a={}}function In(t){var e=t.b,n=t.i,o=e[0];return 1==e.length?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),Ln(t,0)),e=t.c(o),delete t.a[e],o}function Ln(t,e){for(var n=t.b,o=t.i,i=n.length,r=n[e],a=o[e],s=e;e<i>>1;){var u=2*e+1,h=2*e+2,u=h<i&&o[h]<o[u]?h:u;n[e]=n[u],o[e]=o[u],e=u}n[e]=r,o[e]=a,Nn(t,s,e)}function Nn(t,e,n){var o=t.b;t=t.i;for(var i=o[n],r=t[n];n>e;){var a=n-1>>1;if(!(t[a]>r))break;o[n]=o[a],t[n]=t[a],n=a}o[n]=i,t[n]=r}function On(t){var e,n=t.l,o=t.b,i=t.i,r=0,a=o.length;for(e=0;e<a;++e){var s=o[e],u=n(s);1/0==u?delete t.a[t.c(s)]:(i[r]=u,o[r++]=s)}for(o.length=r,i.length=r,n=(t.b.length>>1)-1;0<=n;n--)Ln(t,n)}function kn(t,e){En.call(this,function(e){return t.apply(null,e)},function(t){return t[0].bb()}),this.v=e,this.j=0,this.g={}}function Rn(t,e,n){for(var o,i,r=0;t.j<e&&r<n&&0<t.b.length;)o=In(t)[0],i=o.bb(),0!==o.getState()||i in t.g||(t.g[i]=!0,++t.j,++r,o.load())}function Fn(t){return function(e,n,i){if(void 0!==e)return e=o(t,e,i),e=_(e+n,0,t.length-1),n=Math.floor(e),e!=n&&n<t.length-1?t[n]/Math.pow(t[n]/t[n+1],e-n):t[n]}}function Dn(t,e,n){return function(o,i,r){if(void 0!==o)return o=Math.max(Math.floor(Math.log(e/o)/Math.log(t)+(-r/2+.5))+i,0),void 0!==n&&(o=Math.min(o,n)),e/Math.pow(t,o)}}function jn(t){if(void 0!==t)return 0}function Kn(t,e){if(void 0!==t)return t+e}function Bn(t){var e=2*Math.PI/t;return function(t,n){if(void 0!==t)return t=Math.floor((t+n)/e+.5)*e}}function Xn(){var t=S(5);return function(e,n){if(void 0!==e)return Math.abs(e+n)<=t?0:e+n}}function Un(t,e){return t=void 0!==e?t.toFixed(e):""+t,e=t.indexOf("."),e=-1===e?t.length:e,2<e?t:Array(3-e).join("0")+t}function Yn(t){t=(""+t).split(".");for(var e=["1","3"],n=0;n<Math.max(t.length,e.length);n++){var o=parseInt(t[n]||"0",10),i=parseInt(e[n]||"0",10);if(o>i)return 1;if(i>o)return-1}return 0}function Gn(t,e){return t[0]+=e[0],t[1]+=e[1],t}function Wn(t,e){var n=e.pd(),o=e.wa();e=o[0];var o=o[1],i=t[0]-e;t=t[1]-o,i||t||(i=1);var r=Math.sqrt(i*i+t*t);return[e+n*i/r,o+n*t/r]}function zn(t,e){var n=t[0];t=t[1];var o=e[0],i=e[1];e=o[0];var o=o[1],r=i[0],i=i[1],a=r-e,s=i-o,n=a||s?(a*(n-e)+s*(t-o))/(a*a+s*s||0):0;return 0>=n?(t=e,n=o):1<=n?(t=r,n=i):(t=e+n*a,n=o+n*s),[t,n]}function Hn(t,e,n){e=C(e+180,360)-180;var o=Math.abs(3600*e);n=n||0;var i=Math.pow(10,n),r=Math.floor(o/3600),a=Math.floor((o-3600*r)/60),o=Math.ceil((o-3600*r-60*a)*i)/i;return 60<=o&&(o=0,a+=1),60<=a&&(a=0,r+=1),r+"° "+Un(a)+"′ "+Un(o,n)+"″"+(e?" "+t.charAt(0>e?1:0):"")}function qn(t,e,n){return t?e.replace("{x}",t[0].toFixed(n)).replace("{y}",t[1].toFixed(n)):""}function Vn(t,e){for(var n=!0,o=t.length-1;0<=o;--o)if(t[o]!=e[o]){n=!1;break}return n}function $n(t,e){var n=Math.cos(e);e=Math.sin(e);var o=t[1]*n+t[0]*e;return t[0]=t[0]*n-t[1]*e,t[1]=o,t}function Zn(t,e){t[0]*=e,t[1]*=e}function Jn(t,e){var n=t[0]-e[0];return t=t[1]-e[1],n*n+t*t}function Qn(t,e){return Math.sqrt(Jn(t,e))}function to(t,e){return Jn(t,zn(t,e))}function eo(t,e){return qn(t,"{x}, {y}",e)}function no(){return!0}function oo(){return!1}function io(){ve.call(this),this.l=j(),this.v=-1,this.f={},this.o=this.g=0}function ro(t,e,n,o,i,r){for(var a=r?r:[],s=0;e<n;e+=o){var u=t[e],h=t[e+1];a[s++]=i[0]*u+i[2]*h+i[4],a[s++]=i[1]*u+i[3]*h+i[5]}return r&&a.length!=s&&(a.length=s),a}function ao(t,e,n,o,i,r,a){for(var s,u=a?a:[],h=0;e<n;e+=o)for(u[h++]=t[e]+i,u[h++]=t[e+1]+r,s=e+2;s<e+o;++s)u[h++]=t[s];return a&&u.length!=h&&(u.length=h),u}function so(){io.call(this),this.ja="XY",this.a=2,this.A=null}function uo(t){var e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}function ho(t,e,n){t.a=uo(e),t.ja=e,t.A=n}function po(t,e,n,o){if(e)n=uo(e);else{for(e=0;e<o;++e){if(!n.length)return t.ja="XY",void(t.a=2);n=n[0]}n=n.length;var i;2==n?i="XY":3==n?i="XYZ":4==n&&(i="XYZM"),e=i}t.ja=e,t.a=n}function lo(t,e,n,o){for(var i=0,r=t[n-o],a=t[n-o+1];e<n;e+=o)var s=t[e],u=t[e+1],i=i+(a*s-r*u),r=s,a=u;return i/2}function co(t,e,n,o){var i,r=0,a=0;for(i=n.length;a<i;++a){var s=n[a],r=r+lo(t,e,s,o);e=s}return r}function fo(t,e,n,o,i,r,a){var s=t[e],u=t[e+1],h=t[n]-s,p=t[n+1]-u;if(h||p)if(r=((i-s)*h+(r-u)*p)/(h*h+p*p),1<r)e=n;else if(0<r){for(i=0;i<o;++i)a[i]=M(t[e+i],t[n+i],r);return void(a.length=o)}for(i=0;i<o;++i)a[i]=t[e+i];a.length=o}function yo(t,e,n,o,i){var r=t[e],a=t[e+1];for(e+=o;e<n;e+=o){var s=t[e],u=t[e+1],r=P(r,a,s,u);r>i&&(i=r),r=s,a=u}return i}function vo(t,e,n,o,i){var r,a=0;for(r=n.length;a<r;++a){var s=n[a];i=yo(t,e,s,o,i),e=s}return i}function go(t,e,n,o,i,r,a,s,u,h,p){if(e==n)return h;if(!i){var l=P(a,s,t[e],t[e+1]);if(l<h){for(p=0;p<o;++p)u[p]=t[e+p];return u.length=o,l}return h}for(var c=p?p:[NaN,NaN],f=e+o;f<n;)if(fo(t,f-o,f,o,a,s,c),l=P(a,s,c[0],c[1]),l<h){for(h=l,p=0;p<o;++p)u[p]=c[p];u.length=o,f+=o}else f+=o*Math.max((Math.sqrt(l)-Math.sqrt(h))/i|0,1);if(r&&(fo(t,n-o,e,o,a,s,c),l=P(a,s,c[0],c[1]),l<h)){for(h=l,p=0;p<o;++p)u[p]=c[p];u.length=o}return h}function mo(t,e,n,o,i,r,a,s,u,h,p){p=p?p:[NaN,NaN];var l,c=0;for(l=n.length;c<l;++c){var f=n[c];h=go(t,e,f,o,i,r,a,s,u,h,p),e=f}return h}function bo(t,e){var n,o=0,i=0;for(n=e.length;i<n;++i)t[o++]=e[i];return o}function _o(t,e,n,o){var i,r=0;for(i=n.length;r<i;++r){var a,s=n[r];for(a=0;a<o;++a)t[e++]=s[a]}return e}function xo(t,e,n,o,i){i=i?i:[];var r,a=0,s=0;for(r=n.length;s<r;++s)e=_o(t,e,n[s],o),i[a++]=e;return i.length=a,i}function wo(t,e,n,o,i){i=void 0!==i?i:[];for(var r=0;e<n;e+=o)i[r++]=t.slice(e,e+o);return i.length=r,i}function Po(t,e,n,o,i){i=void 0!==i?i:[];var r,a=0,s=0;for(r=n.length;s<r;++s){var u=n[s];i[a++]=wo(t,e,u,o,i[a]),e=u}return i.length=a,i}function So(t,e,n,o,i,r,a){var s=(n-e)/o;if(3>s){for(;e<n;e+=o)r[a++]=t[e],r[a++]=t[e+1];return a}var u=Array(s);u[0]=1,u[s-1]=1,n=[e,n-o];for(var h,p=0;0<n.length;){var l=n.pop(),c=n.pop(),f=0,d=t[c],y=t[c+1],v=t[l],g=t[l+1];for(h=c+o;h<l;h+=o){var m=w(t[h],t[h+1],d,y,v,g);m>f&&(p=h,f=m)}f>i&&(u[(p-e)/o]=1,c+o<p&&n.push(c,p),p+o<l&&n.push(p,l))}for(h=0;h<s;++h)u[h]&&(r[a++]=t[e+h*o],r[a++]=t[e+h*o+1]);return a}function Co(t,e,n,o,i,r,a,s){var u,h=0;for(u=n.length;h<u;++h){var p=n[h];t:{var l=t,c=p,f=o,d=i,y=r,v=a;if(e!=c){var g=d*Math.round(l[e]/d),m=d*Math.round(l[e+1]/d);e+=f,y[v++]=g,y[v++]=m;do{var b=d*Math.round(l[e]/d);if(a=d*Math.round(l[e+1]/d),e+=f,e==c){y[v++]=b,y[v++]=a,a=v;break t}}while(b==g&&a==m);for(;e<c;){var _=d*Math.round(l[e]/d),x=d*Math.round(l[e+1]/d);if(e+=f,_!=b||x!=a){var w=b-g,P=a-m,S=_-g,C=x-m;w*C==P*S&&(0>w&&S<w||w==S||0<w&&S>w)&&(0>P&&C<P||P==C||0<P&&C>P)||(y[v++]=b,y[v++]=a,g=b,m=a),b=_,a=x}}y[v++]=b,y[v++]=a}a=v}s.push(a),e=p}return a}function Mo(t,e){so.call(this),this.c=this.j=-1,this.ma(t,e)}function To(t,e,n){ho(t,e,n),t.s()}function Ao(t,e){so.call(this),this.ma(t,e)}function Eo(t,e,n,o,i){return!H(i,function(i){return!Io(t,e,n,o,i[0],i[1])})}function Io(t,e,n,o,i,r){for(var a=0,s=t[n-o],u=t[n-o+1];e<n;e+=o){var h=t[e],p=t[e+1];u<=r?p>r&&0<(h-s)*(r-u)-(i-s)*(p-u)&&a++:p<=r&&0>(h-s)*(r-u)-(i-s)*(p-u)&&a--,s=h,u=p}return!!a}function Lo(t,e,n,o,i,r){if(!n.length||!Io(t,e,n[0],o,i,r))return!1;var a;for(e=1,a=n.length;e<a;++e)if(Io(t,n[e-1],n[e],o,i,r))return!1;return!0}function No(t,n,o,i,r,a,s){var u,h=r[a+1],p=[],l=o[0],c=t[l-i],f=t[l-i+1];for(u=n;u<l;u+=i){var d=t[u],y=t[u+1];(h<=f&&y<=h||f<=h&&h<=y)&&(c=(h-f)/(y-f)*(d-c)+c,p.push(c)),c=d,f=y}for(l=NaN,f=-(1/0),p.sort(e),c=p[0],u=1,y=p.length;u<y;++u){d=p[u];var v=Math.abs(d-c);v>f&&(c=(c+d)/2,Lo(t,n,o,i,c,h)&&(l=c,f=v)),c=d}return isNaN(l)&&(l=r[a]),s?(s.push(l,h),s):[l,h]}function Oo(t,e,n,o,i,r){for(var a,s=[t[e],t[e+1]],u=[];e+o<n;e+=o){if(u[0]=t[e+o],u[1]=t[e+o+1],a=i.call(r,s,u))return a;s[0]=u[0],s[1]=u[1]}return!1}function ko(t,e,n,o,i){var r=z(j(),t,e,n,o);return!!it(i,r)&&(!!(R(i,r)||r[0]>=i[0]&&r[2]<=i[2]||r[1]>=i[1]&&r[3]<=i[3])||Oo(t,e,n,o,function(t,e){var n=!1,o=D(i,t),r=D(i,e);if(1===o||1===r)n=!0;else{var a=i[0],s=i[1],u=i[2],h=i[3],p=e[0];e=e[1],t=(e-t[1])/(p-t[0]),2&r&&!(2&o)&&(n=p-(e-h)/t,n=n>=a&&n<=u),n||!(4&r)||4&o||(n=e-(p-u)*t,n=n>=s&&n<=h),n||!(8&r)||8&o||(n=p-(e-s)/t,n=n>=a&&n<=u),n||!(16&r)||16&o||(n=e-(p-a)*t,n=n>=s&&n<=h)}return n}))}function Ro(t,e,n,o,i){var r=n[0];if(!(ko(t,e,r,o,i)||Io(t,e,r,o,i[0],i[1])||Io(t,e,r,o,i[0],i[3])||Io(t,e,r,o,i[2],i[1])||Io(t,e,r,o,i[2],i[3])))return!1;if(1===n.length)return!0;for(e=1,r=n.length;e<r;++e)if(Eo(t,n[e-1],n[e],o,i))return!1;return!0}function Fo(t,e,n,o){for(var i=0,r=t[n-o],a=t[n-o+1];e<n;e+=o)var s=t[e],u=t[e+1],i=i+(s-r)*(u+a),r=s,a=u;return 0<i}function Do(t,e,n,o){var i=0;o=void 0!==o&&o;var r,a=0;for(r=e.length;a<r;++a){var s=e[a],i=Fo(t,i,s,n);if(a){if(o&&!i||!o&&i)return!1}else if(o&&i||!o&&!i)return!1;i=s}return!0}function jo(t,e,n,o,i){i=void 0!==i&&i;var r,a=0;for(r=n.length;a<r;++a){var s=n[a],u=Fo(t,e,s,o);if(a?i&&!u||!i&&u:i&&u||!i&&!u)for(var u=t,h=s,p=o;e<h-p;){var l;for(l=0;l<p;++l){var c=u[e+l];u[e+l]=u[h-p+l],u[h-p+l]=c}e+=p,h-=p}e=s}return e}function Ko(t,e,n,o){var i,r=0,a=0;for(i=e.length;a<i;++a)r=jo(t,r,e[a],n,o);return r}function Bo(t,e){so.call(this),this.c=[],this.u=-1,this.D=null,this.I=this.C=this.B=-1,this.j=null,this.ma(t,e)}function Xo(t){if(t.u!=t.i){var e=Z(t.G());t.D=No(t.ec(),0,t.c,t.a,e,0),t.u=t.i}return t.D}function Uo(t,e,n,o){var r=o?o:32;o=[];var a;for(a=0;a<r;++a)i(o,t.offset(e,n,2*Math.PI*a/r));return o.push(o[0],o[1]),t=new Bo(null),t.ba("XY",o,[o.length]),t}function Yo(t){var e=t[0],n=t[1],o=t[2];return t=t[3],e=[e,n,e,t,o,t,o,n,e,n],n=new Bo(null),n.ba("XY",e,[e.length]),n}function Go(t,e,n){var o=e?e:32,i=t.qa();e=t.ja;for(var r=new Bo(null,e),o=i*(o+1),i=Array(o),a=0;a<o;a++)i[a]=0;return r.ba(e,i,[i.length]),Wo(r,t.wa(),t.pd(),n),r}function Wo(t,e,n,o){var i=t.ga(),r=t.ja,a=t.qa(),s=t.Bb(),u=i.length/a-1;o=o?o:0;for(var h,p,l=0;l<=u;++l)p=l*a,h=o+2*C(l,u)*Math.PI/u,i[p]=e[0]+n*Math.cos(h),i[p+1]=e[1]+n*Math.sin(h);t.ba(r,i,s)}function zo(t){ve.call(this),t=gv({},t),this.o=[0,0],this.c=[],this.wf=this.wf.bind(this),this.v=Pt(t.projection),Ho(this,t)}function Ho(t,e){var n={};n.center=void 0!==e.center?e.center:null;var o=void 0!==e.minZoom?e.minZoom:0,i=void 0!==e.maxZoom?e.maxZoom:28,r=void 0!==e.zoomFactor?e.zoomFactor:2;if(void 0!==e.resolutions){i=e.resolutions;var a=i[0],s=i[i.length-1];i=Fn(i)}else{a=Pt(e.projection),s=a.G();var u=(s?Math.max(ot(s),Q(s)):360*bv.degrees/a.sc())/256/Math.pow(2,0),h=u/Math.pow(2,28);a=e.maxResolution,void 0!==a?o=0:a=u/Math.pow(r,o),s=e.minResolution,void 0===s&&(s=void 0!==e.maxZoom?void 0!==e.maxResolution?a/Math.pow(r,i):u/Math.pow(r,i):h),i=o+Math.floor(Math.log(a/s)/Math.log(r)),s=a/Math.pow(r,i-o),i=Dn(r,a,i-o)}t.a=a,t.f=s,t.C=r,t.j=e.resolutions,t.l=o,(void 0!==e.enableRotation?e.enableRotation:1)?(o=e.constrainRotation,o=void 0===o||!0===o?Xn():!1===o?Kn:"number"==typeof o?Bn(o):Kn):o=jn,t.g={center:void 0!==e.extent?Zt(e.extent):Jt,resolution:i,rotation:o},void 0!==e.resolution?n.resolution=e.resolution:void 0!==e.zoom&&(n.resolution=t.constrainResolution(t.a,e.zoom-t.l)),n.rotation=void 0!==e.rotation?e.rotation:0,t.H(n),t.D=e}function qo(t,e){var n=gv({},t.D);return void 0!==n.resolution?n.resolution=t.Pa():n.zoom=t.Hh(),n.center=t.wa(),n.rotation=t.Qa(),gv({},n,e)}function Vo(t,e,n){var o=t.wa();if(void 0!==o){var i=[o[0]-n[0],o[1]-n[1]];$n(i,e-t.Qa()),Gn(i,n)}return i}function $o(t,e,n){var o,i=t.wa();return t=t.Pa(),void 0!==i&&void 0!==t&&(o=[n[0]-e*(n[0]-i[0])/t,n[1]-e*(n[1]-i[1])/t]),o}function Zo(t){var e=[100,100];return t='.ol-viewport[data-view="'+f(t)+'"]',(t=document.querySelector(t))&&(t=getComputedStyle(t),e[0]=parseInt(t.width,10),e[1]=parseInt(t.height,10)),e}function Jo(t,e){return void 0!==e?(e[0]=t.o[0],e[1]=t.o[1],e):t.o.slice()}function Qo(t){var e=t.a,n=Math.log(e/t.f)/Math.log(2);return function(t){return e/Math.pow(2,t*n)}}function ti(t){var e=t.a,n=Math.log(e/t.f)/Math.log(2);return function(t){return Math.log(e/t)/Math.log(2)/n}}function ei(t){return!!t.wa()&&void 0!==t.Pa()}function ni(t,e,n){t.o[e]+=n,t.s()}function oi(t,e,n){this.f=t,this.c=e,this.g=n,this.b=[],this.a=this.i=0}function ii(t){t.b.length=0,t.i=0,t.a=0}function ri(t){if(6>t.b.length)return!1;var e=Date.now()-t.g,n=t.b.length-3;if(t.b[n+2]<e)return!1;for(var o=n-3;0<o&&t.b[o+2]>e;)o-=3;if(e=t.b[n+2]-t.b[o+2],e<1e3/60)return!1;var i=t.b[n]-t.b[o],n=t.b[n+1]-t.b[o+1];return t.i=Math.atan2(n,i),t.a=Math.sqrt(i*i+n*n)/e,t.a>t.c}function ai(t){ve.call(this),this.v=null,this.Ha(!0),this.handleEvent=t.handleEvent}function si(t,e,n,o){if(void 0!==e){var i=t.Qa(),r=t.wa();void 0!==i&&r&&0<o?t.animate({rotation:e,anchor:n,duration:o,easing:Fe}):t.rotate(e,n)}}function ui(t,e,n,o){var i=t.Pa();if(e=t.constrainResolution(i,e,0),n&&void 0!==e&&e!==i){var r=t.wa();n=$o(t,e,n),n=t.Ec(n),n=[(e*r[0]-i*n[0])/(e-i),(e*r[1]-i*n[1])/(e-i)]}hi(t,e,n,o)}function hi(t,e,n,o){if(e){var i=t.Pa(),r=t.wa();void 0!==i&&r&&e!==i&&o?t.animate({resolution:e,anchor:n,duration:o,easing:Fe}):(n&&(n=$o(t,e,n),t.ob(n)),t.Vc(e))}}function pi(t){t=t?t:{},this.a=t.delta?t.delta:1,ai.call(this,{handleEvent:li}),this.g=void 0!==t.duration?t.duration:250}function li(t){var e=!1,n=t.originalEvent;if("dblclick"==t.type){var e=t.coordinate,n=n.shiftKey?-this.a:this.a,o=t.map.Z();ui(o,n,e,this.g),t.preventDefault(),e=!0}return!e}function ci(t){return t=t.originalEvent,t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function fi(t){return t=t.originalEvent,!(t.button||zv&&Hv&&t.ctrlKey)}function di(t){return"pointermove"==t.type}function yi(t){return"singleclick"==t.type}function vi(t){return t=t.originalEvent,!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}function gi(t){return t=t.originalEvent,!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function mi(t){return t=t.originalEvent.target.tagName,"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t}function bi(t){return y(t.b,56),"mouse"==t.b.pointerType}function _i(t){return t=t.b,t.isPrimary&&0===t.button}function xi(t){t=t?t:{},ai.call(this,{handleEvent:t.handleEvent?t.handleEvent:Pi}),this.yf=t.handleDownEvent?t.handleDownEvent:oo,this.If=t.handleDragEvent?t.handleDragEvent:c,this.Jf=t.handleMoveEvent?t.handleMoveEvent:c,this.sk=t.handleUpEvent?t.handleUpEvent:oo,this.D=!1,this.na={},this.o=[]}function wi(t){for(var e=t.length,n=0,o=0,i=0;i<e;i++)n+=t[i].clientX,o+=t[i].clientY;return[n/e,o/e]}function Pi(t){if(!(t instanceof Qe))return!0;var e=!1,n=t.type;return"pointerdown"!==n&&"pointerdrag"!==n&&"pointerup"!==n||(n=t.b,"pointerup"==t.type?delete this.na[n.pointerId]:"pointerdown"==t.type?this.na[n.pointerId]=n:n.pointerId in this.na&&(this.na[n.pointerId]=n),this.o=ht(this.na)),this.D?"pointerdrag"==t.type?this.If(t):"pointerup"==t.type&&(this.D=this.sk(t)&&0<this.o.length):"pointerdown"==t.type?(this.D=t=this.yf(t),e=this.Xc(t)):"pointermove"==t.type&&this.Jf(t),!e}function Si(t){xi.call(this,{handleDownEvent:Ti,handleDragEvent:Ci,handleUpEvent:Mi}),t=t?t:{},this.a=t.kinetic,this.g=null,this.u=t.condition?t.condition:vi,this.j=!1}function Ci(t){var e=this.o,n=wi(e);if(e.length==this.l){if(this.a&&this.a.b.push(n[0],n[1],Date.now()),this.g){var o=this.g[0]-n[0],i=n[1]-this.g[1];t=t.map.Z();var r=t.getState(),o=[o,i];Zn(o,r.resolution),$n(o,r.rotation),Gn(o,r.center),o=t.Ec(o),t.ob(o)}}else this.a&&ii(this.a);this.g=n,this.l=e.length}function Mi(t){var e=t.map;if(t=e.Z(),this.o.length)return this.a&&ii(this.a),this.g=null,!0;if(!this.j&&this.a&&ri(this.a)){var n=this.a;n=(n.c-n.a)/n.f;var o=this.a.i,i=t.wa(),i=e.Ja(i),e=e.Wa([i[0]-n*Math.cos(o),i[1]-n*Math.sin(o)]);t.animate({center:t.Ec(e),duration:500,easing:Fe})}return ni(t,1,-1),!1}function Ti(t){if(0<this.o.length&&this.u(t)){var e=t.map.Z();return this.g=null,this.D||ni(e,1,1),Jo(e)[0]&&e.ob(t.frameState.viewState.center),this.a&&ii(this.a),this.j=1<this.o.length,!0}return!1}function Ai(t){t=t?t:{},xi.call(this,{handleDownEvent:Li,handleDragEvent:Ei,handleUpEvent:Ii}),this.g=t.condition?t.condition:ci,this.a=void 0,this.j=void 0!==t.duration?t.duration:250}function Ei(t){if(bi(t)){var e=t.map,n=e.Z();if(n.g.rotation!==jn){if(e=e.Ob(),t=t.pixel,t=Math.atan2(e[1]/2-t[1],t[0]-e[0]/2),void 0!==this.a){var e=t-this.a,o=n.Qa();si(n,o-e)}this.a=t}}}function Ii(t){if(!bi(t))return!0;t=t.map.Z(),ni(t,1,-1);var e=t.Qa(),n=this.j,e=t.constrainRotation(e,0);return si(t,e,void 0,n),!1}function Li(t){return!!(bi(t)&&fi(t)&&this.g(t))&&(ni(t.map.Z(),1,1),this.a=void 0,!0)}function Ni(t){this.Gc=null,this.a=document.createElement("div"),this.a.style.position="absolute",this.a.className="ol-box "+t,this.i=this.c=this.b=null}function Oi(t){var e=t.c,n=t.i;t=t.a.style,t.left=Math.min(e[0],n[0])+"px",t.top=Math.min(e[1],n[1])+"px",t.width=Math.abs(n[0]-e[0])+"px",t.height=Math.abs(n[1]-e[1])+"px"}function ki(t){var e=t.c,n=t.i,e=[e,[e[0],n[1]],n,[n[0],e[1]]].map(t.b.Wa,t.b);e[4]=e[0].slice(),t.Gc?t.Gc.ma([e]):t.Gc=new Bo([e])}function Ri(t){xi.call(this,{handleDownEvent:Ki,handleDragEvent:Di,handleUpEvent:ji}),t=t?t:{},this.a=new Ni(t.className||"ol-dragbox"),this.u=void 0!==t.minArea?t.minArea:64,this.g=null,this.C=t.condition?t.condition:no,this.l=t.boxEndCondition?t.boxEndCondition:Fi}function Fi(t,e,n){return t=n[0]-e[0],e=n[1]-e[1],t*t+e*e>=this.u}function Di(t){if(bi(t)){var e=this.a,n=t.pixel;e.c=this.g,e.i=n,ki(e),Oi(e),this.b(new Bi(hg,t.coordinate,t))}}function ji(t){return!bi(t)||(this.a.setMap(null),this.l(t,this.g,t.pixel)&&(this.j(t),this.b(new Bi(pg,t.coordinate,t))),!1)}function Ki(t){if(bi(t)&&fi(t)&&this.C(t)){this.g=t.pixel,this.a.setMap(t.map);var e=this.a,n=this.g;return e.c=this.g,e.i=n,ki(e),Oi(e),this.b(new Bi(ug,t.coordinate,t)),!0}return!1}function Bi(t,e,n){le.call(this,t),this.coordinate=e,this.mapBrowserEvent=n}function Xi(t){t=t?t:{};var e=t.condition?t.condition:gi;this.B=void 0!==t.duration?t.duration:200,this.I=void 0!==t.out&&t.out,Ri.call(this,{condition:e,className:t.className||"ol-dragzoom"})}function Ui(t){ai.call(this,{handleEvent:Yi}),t=t||{},this.a=function(t){return vi(t)&&mi(t)},this.g=t.condition?t.condition:this.a,this.j=void 0!==t.duration?t.duration:100,this.o=void 0!==t.pixelDelta?t.pixelDelta:128}function Yi(t){var e=!1;if("keydown"==t.type){var n=t.originalEvent.keyCode;if(this.g(t)&&(40==n||37==n||39==n||38==n)){var e=t.map.Z(),o=e.Pa()*this.o,i=0,r=0;40==n?r=-o:37==n?i=-o:39==n?i=o:r=o,o=[i,r],$n(o,e.Qa()),n=this.j,(i=e.wa())&&(o=e.Ec([i[0]+o[0],i[1]+o[1]]),n?e.animate({duration:n,easing:je,center:o}):e.ob(o)),t.preventDefault(),e=!0}}return!e}function Gi(t){ai.call(this,{handleEvent:Wi}),t=t?t:{},this.g=t.condition?t.condition:mi,this.a=t.delta?t.delta:1,this.j=void 0!==t.duration?t.duration:100}function Wi(t){var e=!1;if("keydown"==t.type||"keypress"==t.type){var n=t.originalEvent.charCode;!this.g(t)||43!=n&&45!=n||(e=43==n?this.a:-this.a,n=t.map.Z(),ui(n,e,void 0,this.j),t.preventDefault(),e=!0)}return!e}function zi(t){ai.call(this,{handleEvent:Hi}),t=t||{},this.j=0,this.D=void 0!==t.duration?t.duration:250,this.na=void 0!==t.timeout?t.timeout:80,this.C=void 0===t.useAnchor||t.useAnchor,this.R=t.constrainResolution||!1,this.a=null,this.l=this.o=this.u=this.g=void 0}function Hi(t){var e=t.type;if("wheel"!==e&&"mousewheel"!==e)return!0;t.preventDefault();var e=t.map,n=t.originalEvent;if(this.C&&(this.a=t.coordinate),"wheel"==t.type){var o=n.deltaY;Gv&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(o/=qv),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)}else"mousewheel"==t.type&&(o=-n.wheelDeltaY,Wv&&(o/=3));if(0===o)return!1;if(t=Date.now(),void 0===this.g&&(this.g=t),(!this.o||400<t-this.g)&&(this.o=4>Math.abs(o)?lg:cg),this.o===lg){e=e.Z(),this.l?clearTimeout(this.l):ni(e,1,1),this.l=setTimeout(this.B.bind(this),400);var n=e.Pa()*Math.pow(2,o/300),i=e.f,r=e.a,a=0;if(n<i?(n=Math.max(n,i/1.5),a=1):n>r&&(n=Math.min(n,1.5*r),a=-1),this.a){var s=$o(e,n,this.a);e.ob(e.Ec(s))}return e.Vc(n),!a&&this.R&&e.animate({resolution:e.constrainResolution(n,0<o?-1:1),easing:Fe,anchor:this.a,duration:this.D}),0<a?e.animate({resolution:i,easing:Fe,anchor:this.a,duration:500}):0>a&&e.animate({resolution:r,easing:Fe,anchor:this.a,duration:500}),this.g=t,!1}return this.j+=o,o=Math.max(this.na-(t-this.g),0),clearTimeout(this.u),this.u=setTimeout(this.I.bind(this,e),o),
!1}function qi(t){xi.call(this,{handleDownEvent:Zi,handleDragEvent:Vi,handleUpEvent:$i}),t=t||{},this.g=null,this.j=void 0,this.a=!1,this.l=0,this.C=void 0!==t.threshold?t.threshold:.3,this.u=void 0!==t.duration?t.duration:250}function Vi(t){var e=0,n=this.o[0],o=this.o[1],n=Math.atan2(o.clientY-n.clientY,o.clientX-n.clientX);if(void 0!==this.j&&(e=n-this.j,this.l+=e,!this.a&&Math.abs(this.l)>this.C&&(this.a=!0)),this.j=n,t=t.map,n=t.Z(),n.g.rotation!==jn){var o=t.a.getBoundingClientRect(),i=wi(this.o);i[0]-=o.left,i[1]-=o.top,this.g=t.Wa(i),this.a&&(o=n.Qa(),t.render(),si(n,o+e,this.g))}}function $i(t){if(2>this.o.length){if(t=t.map.Z(),ni(t,1,-1),this.a){var e=t.Qa(),n=this.g,o=this.u,e=t.constrainRotation(e,0);si(t,e,n,o)}return!1}return!0}function Zi(t){return 2<=this.o.length&&(t=t.map,this.g=null,this.j=void 0,this.a=!1,this.l=0,this.D||ni(t.Z(),1,1),!0)}function Ji(t){xi.call(this,{handleDownEvent:er,handleDragEvent:Qi,handleUpEvent:tr}),t=t?t:{},this.l=t.constrainResolution||!1,this.g=null,this.u=void 0!==t.duration?t.duration:400,this.a=void 0,this.j=1}function Qi(t){var e=1,n=this.o[0],o=this.o[1],i=n.clientX-o.clientX,n=n.clientY-o.clientY,i=Math.sqrt(i*i+n*n);void 0!==this.a&&(e=this.a/i),this.a=i,t=t.map;var i=t.Z(),o=i.Pa(),r=i.a,a=i.f,n=o*e;n>r?(e=r/o,n=r):n<a&&(e=a/o,n=a),1!=e&&(this.j=e),e=t.a.getBoundingClientRect(),o=wi(this.o),o[0]-=e.left,o[1]-=e.top,this.g=t.Wa(o),t.render(),hi(i,n,this.g)}function tr(t){if(2>this.o.length){t=t.map.Z(),ni(t,1,-1);var e=t.Pa();if(this.l||e<t.f||e>t.a){var n=this.g,o=this.u,e=t.constrainResolution(e,0,this.j-1);hi(t,e,n,o)}return!1}return!0}function er(t){return 2<=this.o.length&&(t=t.map,this.g=null,this.a=void 0,this.j=1,this.D||ni(t.Z(),1,1),!0)}function nr(t){t=t?t:{};var e=new _e,n=new oi(-.005,.05,100);return(void 0!==t.altShiftDragRotate?t.altShiftDragRotate:1)&&e.push(new Ai),(void 0!==t.doubleClickZoom?t.doubleClickZoom:1)&&e.push(new pi({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0!==t.dragPan?t.dragPan:1)&&e.push(new Si({kinetic:n})),(void 0!==t.pinchRotate?t.pinchRotate:1)&&e.push(new qi),(void 0!==t.pinchZoom?t.pinchZoom:1)&&e.push(new Ji({constrainResolution:t.constrainResolution,duration:t.zoomDuration})),(void 0!==t.keyboard?t.keyboard:1)&&(e.push(new Ui),e.push(new Gi({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0!==t.mouseWheelZoom?t.mouseWheelZoom:1)&&e.push(new zi({constrainResolution:t.constrainResolution,duration:t.zoomDuration})),(void 0!==t.shiftDragZoom?t.shiftDragZoom:1)&&e.push(new Xi({duration:t.zoomDuration})),e}function or(t){ve.call(this);var e=gv({},t);e.opacity=void 0!==t.opacity?t.opacity:1,e.visible=void 0===t.visible||t.visible,e.zIndex=void 0!==t.zIndex?t.zIndex:0,e.maxResolution=void 0!==t.maxResolution?t.maxResolution:1/0,e.minResolution=void 0!==t.minResolution?t.minResolution:0,this.H(e),this.a={layer:this,Je:!0}}function ir(t){return t.a.opacity=_(t.hc(),0,1),t.a.yj=t.$f(),t.a.visible=t.Mb(),t.a.extent=t.G(),t.a.zIndex=t.Ba(),t.a.maxResolution=t.fc(),t.a.minResolution=Math.max(t.gc(),0),t.a}function rr(t){var e=t||{};t=gv({},e),delete t.layers,e=e.layers,or.call(this,t),this.f=[],this.c={},ie(this,ge(fg),this.Hl,this),e?Array.isArray(e)?e=new _e(e.slice(),{unique:!0}):y(e instanceof _e,43):e=new _e(void 0,{unique:!0}),this.xi(e)}function ar(t){var e=gv({},t);delete e.source,or.call(this,e),this.v=this.l=this.o=null,t.map&&this.setMap(t.map),ie(this,ge("source"),this.Ul,this),this.Wc(t.source?t.source:null)}function sr(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}function ur(){this.b={},this.a=0}function hr(){return[1,0,0,1,0,0]}function pr(t){return cr(t,1,0,0,1,0,0)}function lr(t,e){var n=t[0],o=t[1],i=t[2],r=t[3],a=t[4],s=t[5],u=e[0],h=e[1],p=e[2],l=e[3],c=e[4];return e=e[5],t[0]=n*u+i*h,t[1]=o*u+r*h,t[2]=n*p+i*l,t[3]=o*p+r*l,t[4]=n*c+i*e+a,t[5]=o*c+r*e+s,t}function cr(t,e,n,o,i,r,a){return t[0]=e,t[1]=n,t[2]=o,t[3]=i,t[4]=r,t[5]=a,t}function fr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function dr(t,e){var n=e[0],o=e[1];return e[0]=t[0]*n+t[2]*o+t[4],e[1]=t[1]*n+t[3]*o+t[5],e}function yr(t,e){var n=Math.cos(e);e=Math.sin(e),lr(t,cr(yg,n,e,-e,n,0,0))}function vr(t,e,n){return lr(t,cr(yg,e,0,0,n,0,0))}function gr(t,e,n){lr(t,cr(yg,1,0,0,1,e,n))}function mr(t,e,n,o,i,r,a,s){var u=Math.sin(r);return r=Math.cos(r),t[0]=o*r,t[1]=i*u,t[2]=-o*u,t[3]=i*r,t[4]=a*o*r-s*o*u+e,t[5]=a*i*u+s*i*r+n,t}function br(t){var e=t[0]*t[3]-t[1]*t[2];y(!!e,32);var n=t[0],o=t[1],i=t[2],r=t[3],a=t[4],s=t[5];return t[0]=r/e,t[1]=-o/e,t[2]=-i/e,t[3]=n/e,t[4]=(i*s-r*a)/e,t[5]=-(n*s-o*a)/e,t}function _r(t,e){this.o=e,this.c={},this.v={}}function xr(t){var e=t.viewState,n=t.coordinateToPixelTransform,o=t.pixelToCoordinateTransform;mr(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),br(fr(o,n))}function wr(){if(32<dg.a){var t,e=0;for(t in dg.b){var n=dg.b[t];3&e++||de(n)||(delete dg.b[t],--dg.a)}}}function Pr(t,e){var n=f(e).toString();return n in t.c?t.c[n]:(e=e.Fd(t),t.c[n]=e,t.v[n]=ie(e,"change",t.Fl,t),e)}function Sr(t,e){for(var n in t.c)if(!(n in e.layerStates)){e.postRenderFunctions.push(t.Rp.bind(t));break}}function Cr(t,e){return t.zIndex-e.zIndex}function Mr(t,e,n,o,i){le.call(this,t),this.vectorContext=e,this.frameState=n,this.context=o,this.glContext=i}function Tr(t,e,n,o){e&&(t.translate(n,o),t.rotate(e),t.translate(-n,-o))}function Ar(){}function Er(t,e,n,o,i){this.i=t,this.u=e,this.c=n,this.S=o,this.Yb=i,this.M=this.b=this.a=this.Ua=this.R=this.I=null,this.na=this.T=this.l=this.B=this.C=this.D=0,this.fa=!1,this.f=this.fb=0,this.pa=!1,this.oa=0,this.Ia="",this.va=this.Jb=0,this.Sa=!1,this.j=this.$a=0,this.ra=this.o=this.g=null,this.v=[],this.xb=hr()}function Ir(t,e,n){if(t.M){e=ro(e,0,n,2,t.S,t.v),n=t.i;var o=t.xb,i=n.globalAlpha;1!=t.l&&(n.globalAlpha=i*t.l);var r=t.fb;t.fa&&(r+=t.Yb);var a,s=0;for(a=e.length;s<a;s+=2){var u=e[s]-t.D,h=e[s+1]-t.C;if(t.pa&&(u=Math.round(u),h=Math.round(h)),r||1!=t.f){var p=u+t.D,l=h+t.C;mr(o,p,l,t.f,t.f,r,-p,-l),n.setTransform.apply(n,o)}n.drawImage(t.M,t.T,t.na,t.oa,t.B,u,h,t.oa,t.B)}(r||1!=t.f)&&n.setTransform(1,0,0,1,0,0),1!=t.l&&(n.globalAlpha=i)}}function Lr(t,e,n,o){var i=0;if(t.ra&&""!==t.Ia){t.g&&kr(t,t.g),t.o&&Rr(t,t.o);var r=t.ra,a=t.i,s=t.Ua;for(s?(s.font!=r.font&&(s.font=a.font=r.font),s.textAlign!=r.textAlign&&(s.textAlign=a.textAlign=r.textAlign),s.textBaseline!=r.textBaseline&&(s.textBaseline=a.textBaseline=r.textBaseline)):(a.font=r.font,a.textAlign=r.textAlign,a.textBaseline=r.textBaseline,t.Ua={font:r.font,textAlign:r.textAlign,textBaseline:r.textBaseline}),e=ro(e,i,n,o,t.S,t.v),r=t.i,a=t.$a,t.Sa&&(a+=t.Yb);i<n;i+=o){var s=e[i]+t.Jb,u=e[i+1]+t.va;if(a||1!=t.j){var h=mr(t.xb,s,u,t.j,t.j,a,-s,-u);r.setTransform.apply(r,h)}t.o&&r.strokeText(t.Ia,s,u),t.g&&r.fillText(t.Ia,s,u)}(a||1!=t.j)&&r.setTransform(1,0,0,1,0,0)}}function Nr(t,e,n,o,i,r){var a=t.i;for(t=ro(e,n,o,i,t.S,t.v),a.moveTo(t[0],t[1]),e=t.length,r&&(e-=2),n=2;n<e;n+=2)a.lineTo(t[n],t[n+1]);return r&&a.closePath(),o}function Or(t,e,n,o,i){var r,a=0;for(r=o.length;a<r;++a)n=Nr(t,e,n,o[a],i,!0);return n}function kr(t,e){var n=t.i,o=t.I;o?o.fillStyle!=e.fillStyle&&(o.fillStyle=n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,t.I={fillStyle:e.fillStyle})}function Rr(t,e){var n=t.i,o=t.R;o?(o.lineCap!=e.lineCap&&(o.lineCap=n.lineCap=e.lineCap),Vv&&!s(o.lineDash,e.lineDash)&&n.setLineDash(o.lineDash=e.lineDash),o.lineJoin!=e.lineJoin&&(o.lineJoin=n.lineJoin=e.lineJoin),o.lineWidth!=e.lineWidth&&(o.lineWidth=n.lineWidth=e.lineWidth),o.miterLimit!=e.miterLimit&&(o.miterLimit=n.miterLimit=e.miterLimit),o.strokeStyle!=e.strokeStyle&&(o.strokeStyle=n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,Vv&&n.setLineDash(e.lineDash),n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,t.R={lineCap:e.lineCap,lineDash:e.lineDash,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}function Fr(t,e){_r.call(this,0,e),this.i=Ae(),this.b=this.i.canvas,this.b.style.width="100%",this.b.style.height="100%",this.b.style.display="block",this.b.className="ol-unselectable",t.insertBefore(this.b,t.childNodes[0]||null),this.a=!0,this.f=hr()}function Dr(t,e,n){var o=t.o,i=t.i;if(de(o,e)){var r=n.extent,a=n.pixelRatio,s=n.viewState.rotation,u=n.viewState,h=n.pixelRatio/u.resolution;t=mr(t.f,t.b.width/2,t.b.height/2,h,-h,-u.rotation,-u.center[0],-u.center[1]),o.b(new Mr(e,new Er(i,a,r,t,s),n,i,null))}}function jr(){}function Kr(t){this.b=t}function Br(t){this.b=t}function Xr(t){this.b=t}function Ur(){this.b="precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}"}function Yr(){this.b="varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;if(f==0.0){offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}"}function Gr(t,e){this.B=t.getUniformLocation(e,"n"),this.oa=t.getUniformLocation(e,"k"),this.c=t.getUniformLocation(e,"j"),this.f=t.getUniformLocation(e,"i"),this.a=t.getUniformLocation(e,"m"),this.ra=t.getUniformLocation(e,"l"),this.i=t.getUniformLocation(e,"h"),this.I=t.getUniformLocation(e,"p"),this.R=t.getUniformLocation(e,"o"),this.j=t.getAttribLocation(e,"f"),this.b=t.getAttribLocation(e,"e"),this.S=t.getAttribLocation(e,"g")}function Wr(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function zr(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}function Hr(t,e){this.origin=Z(e),this.xb=hr(),this.Sa=hr(),this.$a=hr(),this.Jb=Wr(),this.b=[],this.o=null,this.i=[],this.f=[],this.a=[],this.l=null,this.g=void 0}function qr(t,e,n,o){t.drawElements(4,o-n,e.g?5125:5123,n*(e.g?4:2))}function Vr(t,e,n,o,i,r){return t=(n-t)*(r-e)-(i-t)*(o-e),t<=Cg&&t>=-Cg?void 0:0<t}function $r(t){this.b=void 0!==t?t:[],this.a=Mg}function Zr(t,e){Hr.call(this,0,e),this.v=null,this.j=[],this.u=[],this.S=0,this.c={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,s:!1}}function Jr(t,e,n,o){e.uniform4fv(t.v.R,n),e.uniform1f(t.v.oa,o)}function Qr(){this.b="precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}function ta(){this.b="varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}"}function ea(t,e){this.c=t.getUniformLocation(e,"j"),this.f=t.getUniformLocation(e,"i"),this.a=t.getUniformLocation(e,"k"),this.i=t.getUniformLocation(e,"h"),this.v=t.getAttribLocation(e,"e"),this.u=t.getAttribLocation(e,"f"),this.b=t.getAttribLocation(e,"c"),this.D=t.getAttribLocation(e,"g"),this.C=t.getAttribLocation(e,"d")}function na(t,e){this.j=t,this.b=e,this.a={},this.c={},this.i={},this.l=this.v=this.f=this.o=null,(this.g=n(cv,"OES_element_index_uint"))&&e.getExtension("OES_element_index_uint"),ie(this.j,"webglcontextlost",this.Xo,this),ie(this.j,"webglcontextrestored",this.Yo,this)}function oa(t,e,n){var o=t.b,i=n.b,r=String(f(n));if(r in t.a)o.bindBuffer(e,t.a[r].buffer);else{var a=o.createBuffer();o.bindBuffer(e,a);var s;34962==e?s=new Float32Array(i):34963==e&&(s=t.g?new Uint32Array(i):new Uint16Array(i)),o.bufferData(e,s,n.a),t.a[r]={lc:n,buffer:a}}}function ia(t,e){var n=t.b;e=String(f(e));var o=t.a[e];n.isContextLost()||n.deleteBuffer(o.buffer),delete t.a[e]}function ra(t){if(!t.f){var e=t.b,n=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,n);var o=ha(e,1,1),i=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,i),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,1,1),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,o,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,i),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),t.f=n,t.v=o,t.l=i}return t.f}function aa(t,e){var n=String(f(e));if(n in t.c)return t.c[n];var o=t.b,i=o.createShader(e.U());return o.shaderSource(i,e.b),o.compileShader(i),t.c[n]=i}function sa(t,e,n){var o=f(e)+"/"+f(n);if(o in t.i)return t.i[o];var i=t.b,r=i.createProgram();return i.attachShader(r,aa(t,e)),i.attachShader(r,aa(t,n)),i.linkProgram(r),t.i[o]=r}function ua(t,e,n){var o=t.createTexture();return t.bindTexture(t.TEXTURE_2D,o),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),void 0!==e&&t.texParameteri(3553,10242,e),void 0!==n&&t.texParameteri(3553,10243,n),o}function ha(t,e,n){var o=ua(t,void 0,void 0);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,n,0,t.RGBA,t.UNSIGNED_BYTE,null),o}function pa(t,e){var n=ua(t,33071,33071);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),n}function la(t,e){Hr.call(this,0,e),this.C=this.D=void 0,this.S=[],this.v=[],this.oa=void 0,this.j=[],this.c=[],this.I=this.ra=void 0,this.B=null,this.fb=this.fa=this.na=this.T=this.Ua=this.R=void 0,this.va=[],this.u=[],this.pa=void 0}function ca(t,e,n,o){var i,r=t.D,a=t.C,s=t.oa,u=t.ra,h=t.I,p=t.R,l=t.Ua,c=t.T,f=t.na?1:0,d=-t.fa,y=t.fb,v=t.pa,g=Math.cos(d),d=Math.sin(d),m=t.b.length,b=t.a.length;for(i=0;i<n;i+=o){var _=e[i]-t.origin[0],x=e[i+1]-t.origin[1],w=b/8,P=-y*r,S=-y*(s-a);t.a[b++]=_,t.a[b++]=x,t.a[b++]=P*g-S*d,t.a[b++]=P*d+S*g,t.a[b++]=l/h,t.a[b++]=(c+s)/u,t.a[b++]=p,t.a[b++]=f,P=y*(v-r),S=-y*(s-a),t.a[b++]=_,t.a[b++]=x,t.a[b++]=P*g-S*d,t.a[b++]=P*d+S*g,t.a[b++]=(l+v)/h,t.a[b++]=(c+s)/u,t.a[b++]=p,t.a[b++]=f,P=y*(v-r),S=y*a,t.a[b++]=_,t.a[b++]=x,t.a[b++]=P*g-S*d,t.a[b++]=P*d+S*g,t.a[b++]=(l+v)/h,t.a[b++]=c/u,t.a[b++]=p,t.a[b++]=f,P=-y*r,S=y*a,t.a[b++]=_,t.a[b++]=x,t.a[b++]=P*g-S*d,t.a[b++]=P*d+S*g,t.a[b++]=l/h,t.a[b++]=c/u,t.a[b++]=p,t.a[b++]=f,t.b[m++]=w,t.b[m++]=w+1,t.b[m++]=w+2,t.b[m++]=w,t.b[m++]=w+2,t.b[m++]=w+3}}function fa(t,e,n,o){var i,r=e.length;for(i=0;i<r;++i){var a=e[i],s=f(a).toString();s in n?a=n[s]:(a=pa(o,a),n[s]=a),t[i]=a}}function da(t,e,n){var o=e-n;return t[0]===t[o]&&t[1]===t[o+1]&&3<(e-0)/n&&!!lo(t,0,e,n)}function ya(){this.b="precision mediump float;varying float a;varying vec2 b;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((b.x+1.0)/2.0*o.x*p,(b.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}function va(){this.b="varying float a;varying vec2 b;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;b=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}"}function ga(t,e){this.B=t.getUniformLocation(e,"n"),this.oa=t.getUniformLocation(e,"k"),this.R=t.getUniformLocation(e,"l"),this.c=t.getUniformLocation(e,"j"),this.f=t.getUniformLocation(e,"i"),this.a=t.getUniformLocation(e,"m"),this.ra=t.getUniformLocation(e,"p"),this.i=t.getUniformLocation(e,"h"),this.I=t.getUniformLocation(e,"o"),this.g=t.getAttribLocation(e,"g"),this.o=t.getAttribLocation(e,"d"),this.l=t.getAttribLocation(e,"f"),this.b=t.getAttribLocation(e,"e")}function ma(t,e){Hr.call(this,0,e),this.v=null,this.u=[],this.j=[],this.c={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,s:!1}}function ba(t,e,n,o){var i,r=t.a.length,a=t.b.length,u="bevel"===t.c.lineJoin?0:"miter"===t.c.lineJoin?1:2,h="butt"===t.c.lineCap?0:"square"===t.c.lineCap?1:2,p=da(e,n,o),l=a,c=1;for(i=0;i<n;i+=o){var f=r/7,d=y,y=v||[e[i],e[i+1]];if(i){if(i===n-o){if(p)var v=g;else d=d||[0,0],r=_a(t,d,y,[0,0],c*Ng*(h||1),r),r=_a(t,d,y,[0,0],-c*Ng*(h||1),r),t.b[a++]=f,t.b[a++]=l-1,t.b[a++]=l,t.b[a++]=l,t.b[a++]=f+1,t.b[a++]=f,h&&(r=_a(t,d,y,[0,0],c*kg*h,r),r=_a(t,d,y,[0,0],-c*kg*h,r),t.b[a++]=f+2,t.b[a++]=f,t.b[a++]=f+1,t.b[a++]=f+1,t.b[a++]=f+3,t.b[a++]=f+2);break}v=[e[i+o],e[i+o+1]]}else{if(v=[e[i+o],e[i+o+1]],n-0===2*o&&s(y,v))break;if(!p){h&&(r=_a(t,[0,0],y,v,c*Og*h,r),r=_a(t,[0,0],y,v,-c*Og*h,r),t.b[a++]=f+2,t.b[a++]=f,t.b[a++]=f+1,t.b[a++]=f+1,t.b[a++]=f+3,t.b[a++]=f+2),r=_a(t,[0,0],y,v,c*Lg*(h||1),r),r=_a(t,[0,0],y,v,-c*Lg*(h||1),r),l=r/7-1;continue}d=[e[n-2*o],e[n-2*o+1]];var g=v}var m=Vr(d[0],d[1],y[0],y[1],v[0],v[1])?-1:1;r=_a(t,d,y,v,m*Rg*(u||1),r),r=_a(t,d,y,v,m*Fg*(u||1),r),r=_a(t,d,y,v,-m*Dg*(u||1),r),0<i&&(t.b[a++]=f,t.b[a++]=l-1,t.b[a++]=l,t.b[a++]=f+2,t.b[a++]=f,t.b[a++]=0<c*m?l:l-1),t.b[a++]=f,t.b[a++]=f+2,t.b[a++]=f+1,l=f+2,c=m,u&&(r=_a(t,d,y,v,m*jg*u,r),t.b[a++]=f+1,t.b[a++]=f+3,t.b[a++]=f)}p&&(f=f||r/7,m=Fo([d[0],d[1],y[0],y[1],v[0],v[1]],0,6,2)?1:-1,r=_a(t,d,y,v,m*Rg*(u||1),r),_a(t,d,y,v,-m*Dg*(u||1),r),t.b[a++]=f,t.b[a++]=l-1,t.b[a++]=l,t.b[a++]=f+1,t.b[a++]=f,t.b[a++]=0<c*m?l:l-1)}function _a(t,e,n,o,i,r){return t.a[r++]=e[0],t.a[r++]=e[1],t.a[r++]=n[0],t.a[r++]=n[1],t.a[r++]=o[0],t.a[r++]=o[1],t.a[r++]=i,r}function xa(t,e,n,o){return n-=e,!(n<2*o)&&(n!==2*o||!s([t[e],t[e+1]],[t[e+o],t[e+o+1]]))}function wa(t,e,n,o){if(da(e,e.length,o)||(e.push(e[0]),e.push(e[1])),ba(t,e,e.length,o),n.length){var i;for(e=0,i=n.length;e<i;++e)da(n[e],n[e].length,o)||(n[e].push(n[e][0]),n[e].push(n[e][1])),ba(t,n[e],n[e].length,o)}}function Pa(t,e,n){n=void 0===n?t.b.length:n,t.i.push(n),t.f.push(e),t.c.s&&(t.j.push(n),t.c.s=!1)}function Sa(t,e,n,o,i){e.uniform4fv(t.v.B,n),e.uniform1f(t.v.oa,o),e.uniform1f(t.v.R,i)}function Ca(){this.b="precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}function Ma(){this.b="attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}"}function Ta(t,e){this.B=t.getUniformLocation(e,"e"),this.c=t.getUniformLocation(e,"d"),this.f=t.getUniformLocation(e,"c"),this.a=t.getUniformLocation(e,"f"),this.i=t.getUniformLocation(e,"b"),this.b=t.getAttribLocation(e,"a")}function Aa(t){t=t||{},this.a=void 0!==t.color?t.color:null,this.f=t.lineCap,this.i=void 0!==t.lineDash?t.lineDash:null,this.g=t.lineDashOffset,this.j=t.lineJoin,this.o=t.miterLimit,this.c=t.width,this.b=void 0}function Ea(t){this.b=this.a=this.i=void 0,this.f=void 0===t||t,this.c=0}function Ia(t){var e=t.b;if(e){var n=e.next,o=e.ub;n&&(n.ub=o),o&&(o.next=n),t.b=n||o,t.i===t.a?(t.b=void 0,t.i=void 0,t.a=void 0):t.i===e?t.i=t.b:t.a===e&&(t.a=o?t.b.ub:t.b),t.c--}}function La(t){if(t.b=t.i,t.b)return t.b.data}function Na(t){if(t.b&&t.b.next)return t.b=t.b.next,t.b.data}function Oa(t){if(t.b&&t.b.next)return t.b.next.data}function ka(t){if(t.b&&t.b.ub)return t.b=t.b.ub,t.b.data}function Ra(t){if(t.b&&t.b.ub)return t.b.ub.data}function Fa(t){if(t.b)return t.b.data}function Da(t){this.a=Xg.$d(t),this.b={}}function ja(t,e,n){var o=t.b[f(n)];Y([o.ca,o.da,o.$,o.ia],e)||(t.remove(n),t.Ca(e,n))}function Ka(t){return t.a.all().map(function(t){return t.value})}function Ba(t,e){return t.a.search({ca:e[0],da:e[1],$:e[2],ia:e[3]}).map(function(t){return t.value})}function Xa(t,e,n,o){return Ua(Ba(t,e),n,o)}function Ua(t,e,n){for(var o,i=0,r=t.length;i<r&&!(o=e.call(n,t[i]));i++);return o}function Ya(t,e){Hr.call(this,0,e),this.g=new ma(0,e),this.v=null,this.u=[],this.c=[],this.j={fillColor:null,s:!1}}function Ga(t,e,n,o){var i=new Ea,r=new Da;if(e=Wa(t,e,o,i,r,!0),n.length){var a,s=[],u=0;for(a=n.length;u<a;++u){var h={list:new Ea,$:void 0,Mg:new Da};s.push(h),h.$=Wa(t,n[u],o,h.list,h.Mg,!1)}for(s.sort(function(t,e){return e.$[0]===t.$[0]?t.$[1]-e.$[1]:e.$[0]-t.$[0]}),u=0;u<s.length;++u){n=s[u].list,a=o=La(n);do{if(ns(a,r).length){var p=!0;break}a=Na(n)}while(o!==a);p||(za(n,s[u].Mg,!0),Ha(n,s[u].$[0],i,e[0],r)&&(r.concat(s[u].Mg),za(i,r,!1)))}}else za(i,r,!1);qa(t,i,r)}function Wa(t,e,n,o,i,r){var a,s,u=t.a.length/2,h=[],p=[];if(r===Fo(e,0,e.length,n)){var l=s=Ja(t,e[0],e[1],u++);r=e[0];var c=e[1],f=n;for(a=e.length;f<a;f+=n){var d=Ja(t,e[f],e[f+1],u++);p.push(Qa(l,d,o)),h.push([Math.min(l.x,d.x),Math.min(l.y,d.y),Math.max(l.x,d.x),Math.max(l.y,d.y)]),e[f]>r&&(r=e[f],c=e[f+1]),l=d}}else for(f=e.length-n,l=s=Ja(t,e[f],e[f+1],u++),r=e[f],c=e[f+1],f-=n,a=0;f>=a;f-=n)d=Ja(t,e[f],e[f+1],u++),p.push(Qa(l,d,o)),h.push([Math.min(l.x,d.x),Math.min(l.y,d.y),Math.max(l.x,d.x),Math.max(l.y,d.y)]),e[f]>r&&(r=e[f],c=e[f+1]),l=d;return p.push(Qa(d,s,o)),h.push([Math.min(l.x,d.x),Math.min(l.y,d.y),Math.max(l.x,d.x),Math.max(l.y,d.y)]),i.load(h,p),[r,c]}function za(t,e,n){var o=La(t),i=o,r=Na(t),a=!1;do{var s=n?Vr(r.W.x,r.W.y,i.W.x,i.W.y,i.aa.x,i.aa.y):Vr(i.aa.x,i.aa.y,i.W.x,i.W.y,r.W.x,r.W.y);void 0===s?(ts(i,r,t,e),a=!0,r===o&&(o=Oa(t)),r=i,ka(t)):i.W.Fb!==s&&(i.W.Fb=s,a=!0),i=r,r=Na(t)}while(i!==o);return a}function Ha(t,e,n,o,i){for(var r=La(t);r.W.x!==e;)r=Na(t);e=r.W,o={x:o,y:e.y,hb:-1};var a,s=1/0,u=ns({aa:e,W:o},i,!0),h=0;for(a=u.length;h<a;++h){var p=u[h],l=os(e,o,p.aa,p.W,!0),c=Math.abs(e.x-l[0]);if(c<s&&void 0!==Vr(e.x,e.y,p.aa.x,p.aa.y,p.W.x,p.W.y)){s=c;var f={x:l[0],y:l[1],hb:-1};r=p}}if(1/0===s)return!1;if(u=r.W,0<s&&(r=es(e,f,r.W,i),r.length))for(f=1/0,h=0,a=r.length;h<a;++h)s=r[h],p=Math.atan2(e.y-s.y,o.x-s.x),(p<f||p===f&&s.x<u.x)&&(f=p,u=s);for(r=La(n);r.W.x!==u.x||r.W.y!==u.y;)r=Na(n);return o={x:e.x,y:e.y,hb:e.hb,Fb:void 0},h={x:r.W.x,y:r.W.y,hb:r.W.hb,Fb:void 0},Oa(t).aa=o,Qa(e,r.W,t,i),Qa(h,o,t,i),r.W=h,t.f&&t.b&&(t.i=t.b,t.a=t.b.ub),n.concat(t),!0}function qa(t,e,n){for(var o=!1,i=Za(e,n);3<e.c;)if(i){if(!Va(t,e,n,i,o)&&!za(e,n,o)&&!$a(t,e,n,!0))break}else if(!Va(t,e,n,i,o)&&!za(e,n,o)&&!$a(t,e,n)){if(!(i=Za(e,n))){i=t,o=e,r=a=La(o);do{if(s=ns(r,n),s.length){for(a=s[0],s=os(r.aa,r.W,a.aa,a.W),s=Ja(i,s[0],s[1],i.a.length/2),u=new Ea,h=new Da,Qa(s,r.W,u,h),r.W=s,ja(n,[Math.min(r.aa.x,s.x),Math.min(r.aa.y,s.y),Math.max(r.aa.x,s.x),Math.max(r.aa.y,s.y)],r),r=Na(o);r!==a;)Qa(r.aa,r.W,u,h),n.remove(r),Ia(o),r=Fa(o);Qa(a.aa,s,u,h),a.aa=s,ja(n,[Math.min(a.W.x,s.x),Math.min(a.W.y,s.y),Math.max(a.W.x,s.x),Math.max(a.W.y,s.y)],a),za(o,n,!1),qa(i,o,n),za(u,h,!1),qa(i,u,h);break}r=Na(o)}while(r!==a);break}var o=e,r=2*o.c,a=Array(r),s=La(o),u=s,h=0;do a[h++]=u.aa.x,a[h++]=u.aa.y,u=Na(o);while(u!==s);o=!Fo(a,0,r,2),za(e,n,o)}3===e.c&&(i=t.b.length,t.b[i++]=Ra(e).aa.hb,t.b[i++]=Fa(e).aa.hb,t.b[i++]=Oa(e).aa.hb)}function Va(t,e,n,o,i){var r=t.b.length,a=La(e),s=Ra(e),u=a,h=Na(e),p=Oa(e),l=!1;do{var c=u.aa,f=u.W,d=h.W;if(!1===f.Fb){var y=i?is(p.W,d,f,c,s.aa):is(s.aa,c,f,d,p.W);!o&&ns({aa:c,W:d},n).length||!y||es(c,f,d,n,!0).length||!o&&!1!==c.Fb&&!1!==d.Fb&&Fo([s.aa.x,s.aa.y,c.x,c.y,f.x,f.y,d.x,d.y,p.W.x,p.W.y],0,10,2)!==!i||(t.b[r++]=c.hb,t.b[r++]=f.hb,t.b[r++]=d.hb,ts(u,h,e,n),h===a&&(a=p),l=!0)}s=Ra(e),u=Fa(e),h=Na(e),p=Oa(e)}while(u!==a&&3<e.c);return l}function $a(t,e,n,o){var i=La(e);Na(e);var r=i,a=Na(e),s=!1;do{var u=os(r.aa,r.W,a.aa,a.W,o);if(u){var s=t.b.length,h=t.a.length/2,p=ka(e);Ia(e),n.remove(p);var l=p===i;if(o?(u[0]===r.aa.x&&u[1]===r.aa.y?(ka(e),u=r.aa,a.aa=u,n.remove(r),l=l||r===i):(u=a.W,r.W=u,n.remove(a),l=l||a===i),Ia(e)):(u=Ja(t,u[0],u[1],h),r.W=u,a.aa=u,ja(n,[Math.min(r.aa.x,r.W.x),Math.min(r.aa.y,r.W.y),Math.max(r.aa.x,r.W.x),Math.max(r.aa.y,r.W.y)],r),ja(n,[Math.min(a.aa.x,a.W.x),Math.min(a.aa.y,a.W.y),Math.max(a.aa.x,a.W.x),Math.max(a.aa.y,a.W.y)],a)),t.b[s++]=p.aa.hb,t.b[s++]=p.W.hb,t.b[s++]=u.hb,s=!0,l)break}r=Ra(e),a=Na(e)}while(r!==i);return s}function Za(t,e){var n=La(t),o=n;do{if(ns(o,e).length)return!1;o=Na(t)}while(o!==n);return!0}function Ja(t,e,n,o){var i=t.a.length;return t.a[i++]=e,t.a[i++]=n,{x:e,y:n,hb:o,Fb:void 0}}function Qa(t,e,n,o){var i={aa:t,W:e},r={ub:void 0,next:void 0,data:i},a=n.b;if(a){var s=a.next;r.ub=a,r.next=s,a.next=r,s&&(s.ub=r),a===n.a&&(n.a=r)}else n.i=r,n.a=r,n.f&&(r.next=r,r.ub=r);return n.b=r,n.c++,o&&o.Ca([Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y)],i),i}function ts(t,e,n,o){Fa(n)===e&&(Ia(n),t.W=e.W,o.remove(e),ja(o,[Math.min(t.aa.x,t.W.x),Math.min(t.aa.y,t.W.y),Math.max(t.aa.x,t.W.x),Math.max(t.aa.y,t.W.y)],t))}function es(t,e,n,o,i){var r,a,s=[],u=Ba(o,[Math.min(t.x,e.x,n.x),Math.min(t.y,e.y,n.y),Math.max(t.x,e.x,n.x),Math.max(t.y,e.y,n.y)]);for(o=0,r=u.length;o<r;++o)for(a in u[o]){var h=u[o][a];"object"!=typeof h||i&&!h.Fb||h.x===t.x&&h.y===t.y||h.x===e.x&&h.y===e.y||h.x===n.x&&h.y===n.y||-1!==s.indexOf(h)||!Io([t.x,t.y,e.x,e.y,n.x,n.y],0,6,2,h.x,h.y)||s.push(h)}return s}function ns(t,e,n){var o=t.aa,i=t.W;e=Ba(e,[Math.min(o.x,i.x),Math.min(o.y,i.y),Math.max(o.x,i.x),Math.max(o.y,i.y)]);var r,a=[],s=0;for(r=e.length;s<r;++s){var u=e[s];t!==u&&(n||u.aa!==i||u.W!==o)&&os(o,i,u.aa,u.W,n)&&a.push(u)}return a}function os(t,e,n,o,i){var r=(o.y-n.y)*(e.x-t.x)-(o.x-n.x)*(e.y-t.y);if(r&&(o=((o.x-n.x)*(t.y-n.y)-(o.y-n.y)*(t.x-n.x))/r,n=((e.x-t.x)*(t.y-n.y)-(e.y-t.y)*(t.x-n.x))/r,!i&&o>Cg&&o<1-Cg&&n>Cg&&n<1-Cg||i&&0<=o&&1>=o&&0<=n&&1>=n))return[t.x+o*(e.x-t.x),t.y+o*(e.y-t.y)]}function is(t,e,n,o,i){if(void 0===e.Fb||void 0===o.Fb)return!1;var r=(n.x-o.x)*(e.y-o.y)>(n.y-o.y)*(e.x-o.x);return i=(i.x-o.x)*(e.y-o.y)<(i.y-o.y)*(e.x-o.x),t=(t.x-e.x)*(o.y-e.y)>(t.y-e.y)*(o.x-e.x),n=(n.x-e.x)*(o.y-e.y)<(n.y-e.y)*(o.x-e.x),e=e.Fb?n||t:n&&t,(o.Fb?i||r:i&&r)&&e}function rs(){}function as(t,e,n){this.f=e,this.g=t,this.c=n,this.a={}}function ss(t,e){var n,o=[];for(n in t.a){var i,r=t.a[n];for(i in r)o.push(r[i].Eb(e))}return function(){for(var t,e=o.length,n=0;n<e;n++)t=o[n].apply(this,arguments);return t}}function us(t,e){for(var n in t.a){var o,i=t.a[n];for(o in i)i[o].Db(e)}}function hs(t,e,n,o,i,r,a,s,u,h,p){var l=Ug,c=Object.keys(t.a).map(Number);c.sort(function(t,e){return e-t});var f,d,y=0;for(f=c.length;y<f;++y){var v=t.a[c[y].toString()];for(d=bg.length-1;0<=d;--d){var g=v[bg[d]];if(void 0!==g&&(g=g.La(e,n,o,i,l,r,a,s,u,h,p)))return g}}}function ps(t,e,n,o,i,r,a,s){var u=n.b;return u.bindFramebuffer(u.FRAMEBUFFER,ra(n)),void 0!==hs(t,n,e,o,i,r,a,s,function(){var t=new Uint8Array(4);return u.readPixels(0,0,1,1,u.RGBA,u.UNSIGNED_BYTE,t),0<t[3]},!1)}function ls(t,e,n,o,i,r,a){this.b=t,this.i=e,this.a=r,this.c=a,this.j=i,this.g=o,this.f=n,this.o=this.l=this.v=null}function cs(){this.c=0,this.b={},this.i=this.a=null}function fs(t,e){_r.call(this,0,e),this.b=document.createElement("CANVAS"),this.b.style.width="100%",this.b.style.height="100%",this.b.style.display="block",this.b.className="ol-unselectable",t.insertBefore(this.b,t.childNodes[0]||null),this.S=this.D=0,this.C=Ae(),this.l=!0,this.i=Je(this.b,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.f=new na(this.b,this.i),ie(this.b,"webglcontextlost",this.Yn,this),ie(this.b,"webglcontextrestored",this.Zn,this),this.a=new cs,this.u=null,this.j=new En(function(t){var e=t[1];t=t[2];var n=e[0]-this.u[0],e=e[1]-this.u[1];return 65536*Math.log(t)+Math.sqrt(n*n+e*e)/t}.bind(this),function(t){return t[0].bb()}),this.B=function(){if(this.j.b.length){On(this.j);var t=In(this.j);
ds(this,t[0],t[3],t[4])}return!1}.bind(this),this.g=0,vs(this)}function ds(t,e,n,o){var i=t.i,r=e.bb();if(t.a.b.hasOwnProperty(r))t=t.a.get(r),i.bindTexture(3553,t.Ib),9729!=t.Ph&&(i.texParameteri(3553,10240,9729),t.Ph=9729),9729!=t.Rh&&(i.texParameteri(3553,10241,9729),t.Rh=9729);else{var a=i.createTexture();if(i.bindTexture(3553,a),0<o){var s=t.C.canvas,u=t.C;t.D!==n[0]||t.S!==n[1]?(s.width=n[0],s.height=n[1],t.D=n[0],t.S=n[1]):u.clearRect(0,0,n[0],n[1]),u.drawImage(e.Y(),o,o,n[0],n[1],0,0,n[0],n[1]),i.texImage2D(3553,0,6408,6408,5121,s)}else i.texImage2D(3553,0,6408,6408,5121,e.Y());i.texParameteri(3553,10240,9729),i.texParameteri(3553,10241,9729),i.texParameteri(3553,10242,33071),i.texParameteri(3553,10243,33071),t.a.set(r,{Ib:a,Ph:9729,Rh:9729})}}function ys(t,e,n){var o=t.o;if(de(o,e)){t=t.f;var i=n.viewState;o.b(new Mr(e,new ls(t,i.center,i.resolution,i.rotation,n.size,n.extent,n.pixelRatio),n,null,t))}}function vs(t){t=t.i,t.activeTexture(33984),t.blendFuncSeparate(770,771,1,771),t.disable(2884),t.disable(2929),t.disable(3089),t.disable(2960)}function gs(t){ve.call(this);var e=ms(t);this.Cf=void 0!==t.loadTilesWhileAnimating&&t.loadTilesWhileAnimating,this.Df=void 0!==t.loadTilesWhileInteracting&&t.loadTilesWhileInteracting,this.If=void 0!==t.pixelRatio?t.pixelRatio:qv,this.yf=e.logos,this.pa=function(){this.j=void 0,this.Sp.call(this,Date.now())}.bind(this),this.Yb=hr(),this.Jf=hr(),this.ad=0,this.I=this.R=this.T=this.g=this.c=null,this.a=document.createElement("DIV"),this.a.className="ol-viewport"+(Qv?" ol-touch":""),this.a.style.position="relative",this.a.style.overflow="hidden",this.a.style.width="100%",this.a.style.height="100%",this.a.style.msTouchAction="none",this.a.style.touchAction="none",this.C=document.createElement("DIV"),this.C.className="ol-overlaycontainer",this.a.appendChild(this.C),this.D=document.createElement("DIV"),this.D.className="ol-overlaycontainer-stopevent";for(var n="click dblclick mousedown touchstart MSPointerDown pointerdown mousewheel wheel".split(" "),o=0,i=n.length;o<i;++o)ie(this.D,n[o],ce);this.a.appendChild(this.D),this.Sa=new Cn(this,t.moveTolerance);for(var r in rg)ie(this.Sa,rg[r],this.Ih,this);this.va=e.keyboardEventTarget,this.u=null,ie(this.a,"wheel",this.ld,this),ie(this.a,"mousewheel",this.ld,this),this.l=e.controls,this.o=e.interactions,this.v=e.overlays,this.rg={},this.B=new e.Up(this.a,this),this.na=null,this.xb=[],this.$a=new kn(this.ql.bind(this),this.Wl.bind(this)),this.fa={},ie(this,ge("layergroup"),this.El,this),ie(this,ge("view"),this.Xl,this),ie(this,ge("size"),this.Tl,this),ie(this,ge("target"),this.Vl,this),this.H(e.values),this.l.forEach(function(t){t.setMap(this)},this),ie(this.l,"add",function(t){t.element.setMap(this)},this),ie(this.l,"remove",function(t){t.element.setMap(null)},this),this.o.forEach(function(t){t.setMap(this)},this),ie(this.o,"add",function(t){t.element.setMap(this)},this),ie(this.o,"remove",function(t){t.element.setMap(null)},this),this.v.forEach(this.kh,this),ie(this.v,"add",function(t){this.kh(t.element)},this),ie(this.v,"remove",function(t){var e=t.element.g;void 0!==e&&delete this.rg[e.toString()],t.element.setMap(null)},this)}function ms(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n={},o={};if(void 0===t.logo||"boolean"==typeof t.logo&&t.logo)o["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="https://openlayers.org/";else{var i=t.logo;"string"==typeof i?o[i]="":i instanceof HTMLElement?o[f(i).toString()]=i:i&&(y("string"==typeof i.href,44),y("string"==typeof i.src,45),o[i.src]=i.href)}i=t.layers instanceof rr?t.layers:new rr({layers:t.layers}),n.layergroup=i,n.target=t.target,n.view=void 0!==t.view?t.view:new zo;var r,i=_r;void 0!==t.renderer?(Array.isArray(t.renderer)?r=t.renderer:"string"==typeof t.renderer?r=[t.renderer]:y(!1,46),0<=r.indexOf("dom")&&(r=r.concat(Gg))):r=Gg;var a,s=0;for(a=r.length;s<a;++s){var u=r[s];if("canvas"==u){if($v){i=Fr;break}}else if("webgl"==u&&Bv){i=fs;break}}return void 0!==t.controls?Array.isArray(t.controls)?r=new _e(t.controls.slice()):(y(t.controls instanceof _e,47),r=t.controls):r=Ue(),void 0!==t.interactions?Array.isArray(t.interactions)?s=new _e(t.interactions.slice()):(y(t.interactions instanceof _e,48),s=t.interactions):s=nr(),void 0!==t.overlays?Array.isArray(t.overlays)?t=new _e(t.overlays.slice()):(y(t.overlays instanceof _e,49),t=t.overlays):t=new _e,{controls:r,interactions:s,keyboardEventTarget:e,logos:o,overlays:t,Up:i,values:n}}function bs(t){ve.call(this),this.g=t.id,this.l=void 0===t.insertFirst||t.insertFirst,this.v=void 0===t.stopEvent||t.stopEvent,this.c=document.createElement("DIV"),this.c.className="ol-overlay-container ol-selectable",this.c.style.position="absolute",this.autoPan=void 0!==t.autoPan&&t.autoPan,this.j=t.autoPanAnimation||{},this.o=void 0!==t.autoPanMargin?t.autoPanMargin:20,this.a={re:"",Ie:"",nf:"",vf:"",visible:!0},this.f=null,ie(this,ge(Wg),this.zl,this),ie(this,ge(zg),this.Jl,this),ie(this,ge(Hg),this.Nl,this),ie(this,ge(qg),this.Pl,this),ie(this,ge(Vg),this.Ql,this),void 0!==t.element&&this.lj(t.element),this.rj(void 0!==t.offset?t.offset:[0,0]),this.uj(void 0!==t.positioning?t.positioning:"top-left"),void 0!==t.position&&this.Ne(t.position)}function _s(t,e){var n=t.getBoundingClientRect();return t=n.left+window.pageXOffset,n=n.top+window.pageYOffset,[t,n,t+e[0],n+e[1]]}function xs(t,e){t.a.visible!==e&&(t.c.style.display=e?"":"none",t.a.visible=e)}function ws(t){var e=t.Me(),n=t.Yh();if(e&&e.c&&n){var n=e.Ja(n),o=e.Ob(),e=t.c.style,i=t.Dh(),r=t.Eh();xs(t,!0);var a=i[0],i=i[1];"bottom-right"==r||"center-right"==r||"top-right"==r?(""!==t.a.Ie&&(t.a.Ie=e.left=""),a=Math.round(o[0]-n[0]-a)+"px",t.a.nf!=a&&(t.a.nf=e.right=a)):(""!==t.a.nf&&(t.a.nf=e.right=""),"bottom-center"!=r&&"center-center"!=r&&"top-center"!=r||(a-=t.c.offsetWidth/2),a=Math.round(n[0]+a)+"px",t.a.Ie!=a&&(t.a.Ie=e.left=a)),"bottom-left"==r||"bottom-center"==r||"bottom-right"==r?(""!==t.a.vf&&(t.a.vf=e.top=""),n=Math.round(o[1]-n[1]-i)+"px",t.a.re!=n&&(t.a.re=e.bottom=n)):(""!==t.a.re&&(t.a.re=e.bottom=""),"center-left"!=r&&"center-center"!=r&&"center-right"!=r||(i-=t.c.offsetHeight/2),n=Math.round(n[1]+i)+"px",t.a.vf!=n&&(t.a.vf=e.top=n))}else xs(t,!1)}function Ps(t){function e(t){t=s.Tf(t),u.a.Z().ob(t),window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",e)}function n(t){t=s.Tf({clientX:t.clientX-p.offsetWidth/2,clientY:t.clientY+p.offsetHeight/2}),h.Ne(t)}t=t?t:{},this.j=void 0===t.collapsed||t.collapsed,this.o=void 0===t.collapsible||t.collapsible,this.o||(this.j=!1);var o=void 0!==t.className?t.className:"ol-overviewmap",i=void 0!==t.tipLabel?t.tipLabel:"Overview map",r=void 0!==t.collapseLabel?t.collapseLabel:"«";"string"==typeof r?(this.u=document.createElement("span"),this.u.textContent=r):this.u=r,r=void 0!==t.label?t.label:"»","string"==typeof r?(this.D=document.createElement("span"),this.D.textContent=r):this.D=r;var a=this.o&&!this.j?this.u:this.D,r=document.createElement("button");r.setAttribute("type","button"),r.title=i,r.appendChild(a),ie(r,"click",this.an,this),this.C=document.createElement("DIV"),this.C.className="ol-overviewmap-map";var s=this.c=new gs({controls:new _e,interactions:new _e,view:t.view});t.layers&&t.layers.forEach(function(t){s.ih(t)},this),i=document.createElement("DIV"),i.className="ol-overviewmap-box",i.style.boxSizing="border-box",this.l=new bs({position:[0,0],positioning:"bottom-left",element:i}),this.c.jh(this.l),i=document.createElement("div"),i.className=o+" ol-unselectable ol-control"+(this.j&&this.o?" ol-collapsed":"")+(this.o?"":" ol-uncollapsible"),i.appendChild(this.C),i.appendChild(r),Le.call(this,{element:i,render:t.render?t.render:Ss,target:t.target});var u=this,h=this.l,p=this.l.Rd();p.addEventListener("mousedown",function(){window.addEventListener("mousemove",n),window.addEventListener("mouseup",e)})}function Ss(){var t=this.a,e=this.c;if(t.c&&e.c){var n=t.Ob(),t=t.Z().dd(n),o=e.Ob(),n=e.Z().dd(o),i=e.Ja(et(t)),r=e.Ja($(t)),e=Math.abs(i[0]-r[0]),i=Math.abs(i[1]-r[1]),r=o[0],o=o[1];e<.1*r||i<.1*o||e>.75*r||i>.75*o?Cs(this):R(n,t)||(t=this.c,n=this.a.Z(),t.Z().ob(n.wa()))}Ms(this)}function Cs(t){var e=t.a;t=t.c;var n=e.Ob(),e=e.Z().dd(n);t=t.Z(),at(e,1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2))),t.Qf(e)}function Ms(t){var e=t.a,n=t.c;if(e.c&&n.c){var o=e.Ob(),i=e.Z(),r=n.Z(),n=i.Qa(),e=t.l,a=t.l.Rd(),s=i.dd(o),o=r.Pa(),i=V(s),r=nt(s);if(t=t.a.Z().wa()){var u=[i[0]-t[0],i[1]-t[1]];$n(u,n),Gn(u,t)}e.Ne(u),a&&(a.style.width=Math.abs((i[0]-r[0])/o)+"px",a.style.height=Math.abs((r[1]-i[1])/o)+"px")}}function Ts(t){t.element.classList.toggle("ol-collapsed"),t.j?Ee(t.u,t.D):Ee(t.D,t.u),t.j=!t.j;var e=t.c;t.j||e.c||(e.Ad(),Cs(t),re(e,"postrender",function(){Ms(this)},t))}function As(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-scale-line";this.o=document.createElement("DIV"),this.o.className=e+"-inner",this.c=document.createElement("DIV"),this.c.className=e+" ol-unselectable",this.c.appendChild(this.o),this.u=null,this.l=void 0!==t.minWidth?t.minWidth:64,this.j=!1,this.B=void 0,this.D="",Le.call(this,{element:this.c,render:t.render?t.render:Es,target:t.target}),ie(this,ge(Zg),this.T,this),this.I(t.units||"metric")}function Es(t){(t=t.frameState)?this.u=t.viewState:this.u=null,Is(this)}function Is(t){var e=t.u;if(e){var n=e.projection,o=n.sc(),e=bt(n,e.resolution,e.center)*o,o=t.l*e,n="",i=t.C();"degrees"==i?(n=bv.degrees,e/=n,o<n/60?(n="″",e*=3600):o<n?(n="′",e*=60):n="°"):"imperial"==i?.9144>o?(n="in",e/=.0254):1609.344>o?(n="ft",e/=.3048):(n="mi",e/=1609.344):"nautical"==i?(e/=1852,n="nm"):"metric"==i?.001>o?(n="μm",e*=1e6):1>o?(n="mm",e*=1e3):1e3>o?n="m":(n="km",e/=1e3):"us"==i?.9144>o?(n="in",e*=39.37):1609.344>o?(n="ft",e/=.30480061):(n="mi",e/=1609.3472):y(!1,33);for(var r,i=3*Math.floor(Math.log(t.l*e)/Math.log(10));;){if(r=$g[(i%3+3)%3]*Math.pow(10,Math.floor(i/3)),o=Math.round(r/e),isNaN(o))return t.c.style.display="none",void(t.j=!1);if(o>=t.l)break;++i}e=r+" "+n,t.D!=e&&(t.o.innerHTML=e,t.D=e),t.B!=o&&(t.o.style.width=o+"px",t.B=o),t.j||(t.c.style.display="",t.j=!0)}else t.j&&(t.c.style.display="none",t.j=!1)}function Ls(t){t=t?t:{},this.c=void 0,this.j=Jg,this.D=this.l=0,this.I=null,this.na=!1,this.T=void 0!==t.duration?t.duration:200;var e=void 0!==t.className?t.className:"ol-zoomslider",n=document.createElement("button");n.setAttribute("type","button"),n.className=e+"-thumb ol-unselectable";var o=document.createElement("div");o.className=e+" ol-unselectable ol-control",o.appendChild(n),this.o=new yn(o),ie(this.o,"pointerdown",this.yl,this),ie(this.o,"pointermove",this.wl,this),ie(this.o,"pointerup",this.xl,this),ie(o,"click",this.vl,this),ie(n,"click",ce),Le.call(this,{element:o,render:t.render?t.render:Ns})}function Ns(t){if(t.frameState){if(!this.na){var e=this.element,n=e.offsetWidth,o=e.offsetHeight,i=e.firstElementChild,r=getComputedStyle(i),e=i.offsetWidth+parseFloat(r.marginRight)+parseFloat(r.marginLeft),i=i.offsetHeight+parseFloat(r.marginTop)+parseFloat(r.marginBottom);this.I=[e,i],n>o?(this.j=1,this.D=n-e):(this.j=Jg,this.l=o-i),this.na=!0}t=t.frameState.viewState.resolution,t!==this.c&&(this.c=t,Os(this,t))}}function Os(t,e){e=1-ti(t.a.Z())(e);var n=t.element.firstElementChild;1==t.j?n.style.left=t.D*e+"px":n.style.top=t.l*e+"px"}function ks(t,e){return Qo(t.a.Z())(1-e)}function Rs(t){t=t?t:{},this.c=t.extent?t.extent:null;var e=void 0!==t.className?t.className:"ol-zoom-extent",n=void 0!==t.label?t.label:"E",o=void 0!==t.tipLabel?t.tipLabel:"Fit to extent",i=document.createElement("button");i.setAttribute("type","button"),i.title=o,i.appendChild("string"==typeof n?document.createTextNode(n):n),ie(i,"click",this.j,this),n=document.createElement("div"),n.className=e+" ol-unselectable ol-control",n.appendChild(i),Le.call(this,{element:n,target:t.target})}function Fs(t){ve.call(this),t=t?t:{},this.a=null,ie(this,ge(om),this.vm,this),this.gg(void 0!==t.tracking&&t.tracking)}function Ds(t){this.f=t.opacity,this.l=t.rotateWithView,this.g=t.rotation,this.a=t.scale,this.v=t.snapToPixel}function js(t){this.D=this.u=this.c=null,this.Va=void 0!==t.fill?t.fill:null,this.oa=[0,0],this.o=t.points,this.b=void 0!==t.radius?t.radius:t.radius1,this.i=t.radius2,this.j=void 0!==t.angle?t.angle:0,this.Ya=void 0!==t.stroke?t.stroke:null,this.B=this.ra=this.C=null,this.S=t.atlasManager,Ks(this,this.S),Ds.call(this,{opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel})}function Ks(t,e){var n="",o="",i=0,r=null,a=0;if(t.Ya){var s=t.Ya.a;null===s&&(s=mg),s=Te(s),a=t.Ya.c,void 0===a&&(a=1),r=t.Ya.i,Vv||(r=null),o=t.Ya.j,void 0===o&&(o="round"),n=t.Ya.f,void 0===n&&(n="round"),i=t.Ya.o,void 0===i&&(i=10)}var u=2*(t.b+a)+1,n={strokeStyle:s,zj:a,size:u,lineCap:n,lineDash:r,lineJoin:o,miterLimit:i};if(void 0===e){var h=Ae(u,u);t.u=h.canvas,e=u=t.u.width,t.rh(n,h,0,0),t.Va?t.D=t.u:(h=Ae(n.size,n.size),t.D=h.canvas,t.qh(n,h,0,0))}else u=Math.round(u),(o=!t.Va)&&(h=t.qh.bind(t,n)),t.Ya?(i=t.Ya,void 0===i.b&&(i.b="s",i.b=i.a?"string"==typeof i.a?i.b+i.a:i.b+f(i.a).toString():i.b+"-",i.b+=","+(void 0!==i.f?i.f.toString():"-")+","+(i.i?i.i.toString():"-")+","+(void 0!==i.g?i.g:"-")+","+(void 0!==i.j?i.j:"-")+","+(void 0!==i.o?i.o.toString():"-")+","+(void 0!==i.c?i.c.toString():"-")),i=i.b):i="-",t.Va?(r=t.Va,void 0===r.a&&(r.a=r.b instanceof CanvasPattern||r.b instanceof CanvasGradient?f(r.b).toString():"f"+(r.b?Ce(r.b):"-")),r=r.a):r="-",t.c&&i==t.c[1]&&r==t.c[2]&&t.b==t.c[3]&&t.i==t.c[4]&&t.j==t.c[5]&&t.o==t.c[6]||(t.c=["r"+i+r+(void 0!==t.b?t.b.toString():"-")+(void 0!==t.i?t.i.toString():"-")+(void 0!==t.j?t.j.toString():"-")+(void 0!==t.o?t.o.toString():"-"),i,r,t.b,t.i,t.j,t.o]),h=e.add(t.c[0],u,u,t.rh.bind(t,n),h),t.u=h.image,t.oa=[h.offsetX,h.offsetY],e=h.image.width,t.D=o?h.Zl:t.u;t.C=[u/2,u/2],t.ra=[u,u],t.B=[e,e]}function Bs(t){t=t||{},js.call(this,{points:1/0,fill:t.fill,radius:t.radius,snapToPixel:t.snapToPixel,stroke:t.stroke,atlasManager:t.atlasManager})}function Xs(t){t=t||{},this.b=void 0!==t.color?t.color:null,this.a=void 0}function Us(t){t=t||{},this.Gc=null,this.Za=zs,void 0!==t.geometry&&this.Ra(t.geometry),this.Va=void 0!==t.fill?t.fill:null,this.M=void 0!==t.image?t.image:null,this.Ya=void 0!==t.stroke?t.stroke:null,this.Ia=void 0!==t.text?t.text:null,this.Fj=t.zIndex}function Ys(t){if("function"!=typeof t){if(Array.isArray(t))var e=t;else y(t instanceof Us,41),e=[t];t=function(){return e}}return t}function Gs(){if(!im){var t=new Xs({color:"rgba(255,255,255,0.4)"}),e=new Aa({color:"#3399CC",width:1.25});im=[new Us({image:new Bs({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return im}function Ws(){var t={},e=[255,255,255,1],n=[0,153,255,1];return t.Polygon=[new Us({fill:new Xs({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new Us({stroke:new Aa({color:e,width:5})}),new Us({stroke:new Aa({color:n,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new Us({image:new Bs({radius:6,fill:new Xs({color:n}),stroke:new Aa({color:e,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function zs(t){return t.V()}function Hs(t){ve.call(this),this.a=void 0,this.c="geometry",this.g=null,this.j=void 0,this.f=null,ie(this,ge(this.c),this.Ee,this),void 0!==t&&(t instanceof io||!t?this.Ra(t):this.H(t))}function qs(t){var e;if("function"==typeof t)e=2==t.length?function(e){return t(this,e)}:t;else{if(Array.isArray(t))var n=t;else y(t instanceof Us,41),n=[t];e=function(){return n}}return e}function Vs(t,e){return rm.createElementNS(t,e)}function $s(t,e){return Zs(t,e,[]).join("")}function Zs(t,e,n){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?n.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(t.nodeValue);else for(t=t.firstChild;t;t=t.nextSibling)Zs(t,e,n);return n}function Js(t){return t instanceof Document}function Qs(t){return t instanceof Node}function tu(t){return(new DOMParser).parseFromString(t,"application/xml")}function eu(t,e){return function(n,o){n=t.call(e,n,o),void 0!==n&&i(o[o.length-1],n)}}function nu(t,e){return function(n,o){n=t.call(void 0!==e?e:this,n,o),void 0!==n&&o[o.length-1].push(n)}}function ou(t,e){return function(n,o){n=t.call(void 0!==e?e:this,n,o),void 0!==n&&(o[o.length-1]=n)}}function iu(t){return function(e,n){var o=t.call(this,e,n);if(void 0!==o){n=n[n.length-1],e=e.localName;var i;i=e in n?n[e]:n[e]=[],i.push(o)}}}function ru(t,e){return function(n,o){var i=t.call(this,n,o);void 0!==i&&(o[o.length-1][void 0!==e?e:n.localName]=i)}}function au(t,e){return function(n,o,i){t.call(void 0!==e?e:this,n,o,i),i[i.length-1].node.appendChild(n)}}function su(t){var e,n;return function(o,i,r){if(!e){e={};var a={};a[o.localName]=t,e[o.namespaceURI]=a,n=uu(o.localName)}fu(e,n,i,r)}}function uu(t,e){return function(n,o,i){return n=o[o.length-1].node,o=t,void 0===o&&(o=i),i=e,void 0===e&&(i=n.namespaceURI),Vs(i,o)}}function hu(t,e){for(var n=e.length,o=Array(n),i=0;i<n;++i)o[i]=t[e[i]];return o}function pu(t,e,n){n=void 0!==n?n:{};var o,i=0;for(o=t.length;i<o;++i)n[t[i]]=e;return n}function lu(t,e,n,o){for(e=e.firstElementChild;e;e=e.nextElementSibling){var i=t[e.namespaceURI];void 0!==i&&(i=i[e.localName])&&i.call(o,e,n)}}function cu(t,e,n,o,i){return o.push(t),lu(e,n,o,i),o.pop()}function fu(t,e,n,o,i,r){for(var a,s,u=(void 0!==i?i:n).length,h=0;h<u;++h)a=n[h],void 0!==a&&(s=e.call(r,a,o,void 0!==i?i[h]:void 0),void 0!==s&&t[s.namespaceURI][s.localName].call(r,s,a,o))}function du(t,e,n,o,i,r,a){i.push(t),fu(e,n,o,i,r,a),i.pop()}function yu(t,e,n,o){return function(i,r,a){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(i,r,a):t,!0),"arraybuffer"==e.U()&&(s.responseType="arraybuffer"),s.onload=function(){if(!s.status||200<=s.status&&300>s.status){var t=e.U();if("json"==t||"text"==t)var i=s.responseText;else"xml"==t?(i=s.responseXML)||(i=tu(s.responseText)):"arraybuffer"==t&&(i=s.response);i?n.call(this,e.Oa(i,{featureProjection:a}),e.kb(i)):o.call(this)}else o.call(this)}.bind(this),s.onerror=function(){o.call(this)}.bind(this),s.send()}}function vu(t,e){return yu(t,e,function(t){this.cd(t)},c)}function gu(){this.f=this.defaultDataProjection=null}function mu(t,e,n){var o;return n&&(o={dataProjection:n.dataProjection?n.dataProjection:t.kb(e),featureProjection:n.featureProjection}),bu(t,o)}function bu(t,e){return gv({dataProjection:t.defaultDataProjection,featureProjection:t.f},e)}function _u(t,e,n){var o,i=n?Mt(n.featureProjection):null,r=n?Mt(n.dataProjection):null;if(o=i&&r&&!Tt(i,r)?t instanceof io?(e?t.clone():t).tb(e?i:r,e?r:i):Ot(t,r,i):t,e&&n&&void 0!==n.decimals){var a=Math.pow(10,n.decimals);o===t&&(o=o.clone()),o.Dc(function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*a)/a;return t})}return o}function xu(){gu.call(this)}function wu(t){return"string"==typeof t?(t=JSON.parse(t))?t:null:null!==t?t:null}function Pu(t,n,o,i,r,a){var s=NaN,u=NaN,h=(o-n)/i;if(1===h)s=t[n],u=t[n+1];else if(2==h)s=(1-r)*t[n]+r*t[n+i],u=(1-r)*t[n+1]+r*t[n+i+1];else if(h){var p,u=t[n],h=t[n+1],l=0,s=[0];for(p=n+i;p<o;p+=i){var c=t[p],f=t[p+1],l=l+Math.sqrt((c-u)*(c-u)+(f-h)*(f-h));s.push(l),u=c,h=f}for(o=r*l,h=0,l=s.length,p=!1;h<l;)r=h+(l-h>>1),u=+e(s[r],o),0>u?h=r+1:(l=r,p=!u);r=p?h:~h,0>r?(o=(o-s[-r-2])/(s[-r-1]-s[-r-2]),n+=(-r-2)*i,s=M(t[n],t[n+i],o),u=M(t[n+1],t[n+i+1],o)):(s=t[n+r*i],u=t[n+r*i+1])}return a?(a[0]=s,a[1]=u,a):[s,u]}function Su(t,e,n,o,i,r){if(n==e)return null;if(i<t[e+o-1])return r?(n=t.slice(e,e+o),n[o-1]=i,n):null;if(t[n-1]<i)return r?(n=t.slice(n-o,n),n[o-1]=i,n):null;if(i==t[e+o-1])return t.slice(e,e+o);for(e/=o,n/=o;e<n;)r=e+n>>1,i<t[(r+1)*o-1]?n=r:e=r+1;if(n=t[e*o-1],i==n)return t.slice((e-1)*o,(e-1)*o+o);r=(i-n)/(t[(e+1)*o-1]-n),n=[];var a;for(a=0;a<o-1;++a)n.push(M(t[(e-1)*o+a],t[e*o+a],r));return n.push(i),n}function Cu(t,e,n,o,i,r){var a=0;if(r)return Su(t,a,e[e.length-1],n,o,i);if(o<t[n-1])return i?(t=t.slice(0,n),t[n-1]=o,t):null;if(t[t.length-1]<o)return i?(t=t.slice(t.length-n),t[n-1]=o,t):null;for(i=0,r=e.length;i<r;++i){var s=e[i];if(a!=s){if(o<t[a+n-1])break;if(o<=t[s-1])return Su(t,a,s,n,o,!1);a=s}}return null}function Mu(t,e){so.call(this),this.c=null,this.u=this.D=this.j=-1,this.ma(t,e)}function Tu(t){return t.j!=t.i&&(t.c=t.wh(.5,t.c),t.j=t.i),t.c}function Au(t,e){so.call(this),this.c=[],this.j=this.u=-1,this.ma(t,e)}function Eu(t){var e=[],n=t.A,o=0,r=t.c;t=t.a;var a,s=0;for(a=r.length;s<a;++s){var u=r[s],o=Pu(n,o,u,t,.5);i(e,o),o=u}return e}function Iu(t,e){var n,o=t.ja,r=[],a=[],s=0;for(n=e.length;s<n;++s){var u=e[s];s||(o=u.ja),i(r,u.ga()),a.push(r.length)}t.ba(o,r,a)}function Lu(t,e){so.call(this),this.ma(t,e)}function Nu(t,e){so.call(this),this.c=[],this.u=-1,this.D=null,this.I=this.C=this.B=-1,this.j=null,this.ma(t,e)}function Ou(t){if(t.u!=t.i){var e,n=t.A,o=t.c,i=t.a,r=0,a=[],s=0;for(e=o.length;s<e;++s){var u=o[s],r=U(n,r,u[0],i);a.push((r[0]+r[2])/2,(r[1]+r[3])/2),r=u[u.length-1]}for(n=ku(t),o=t.c,i=t.a,s=0,e=[],u=0,r=o.length;u<r;++u){var h=o[u];e=No(n,s,h,i,a,2*u,e),s=h[h.length-1]}t.D=e,t.u=t.i}return t.D}function ku(t){if(t.I!=t.i){var e=t.A;t:{var n,o=t.c,i=0;for(n=o.length;i<n;++i)if(!Do(e,o[i],t.a,void 0)){o=!1;break t}o=!0}o?t.j=e:(t.j=e.slice(),t.j.length=Ko(t.j,t.c,t.a)),t.I=t.i}return t.j}function Ru(t,e,n,o){ho(t,e,n),t.c=o,t.s()}function Fu(t,e){var n,o=t.ja,r=[],a=[],s=0;for(n=e.length;s<n;++s){var u=e[s];s||(o=u.ja);var h,p=r.length,l=u.Bb(),c=0;for(h=l.length;c<h;++c)l[c]+=p;i(r,u.ga()),a.push(l)}Ru(t,o,r,a)}function Du(t){t=t?t:{},gu.call(this),this.b=t.geometryName}function ju(t,e){if(!t)return null;if("number"==typeof t.x&&"number"==typeof t.y)var n="Point";else if(t.points)n="MultiPoint";else if(t.paths)n=1===t.paths.length?"LineString":"MultiLineString";else if(t.rings){var o=t.rings,i=Ku(t),r=[],a=[];n=[];var s,u=0;for(s=o.length;u<s;++u)r.length=0,_o(r,0,o[u],i.length),Fo(r,0,r.length,i.length)?a.push([o[u]]):n.push(o[u]);for(;n.length;){for(o=n.shift(),i=!1,u=a.length-1;0<=u;u--)if(R(new Mo(a[u][0]).G(),new Mo(o).G())){a[u].push(o),i=!0;break}i||a.push([o.reverse()])}t=gv({},t),1===a.length?(n="Polygon",t.rings=a[0]):(n="MultiPolygon",t.rings=a)}return _u((0,sm[n])(t),!1,e)}function Ku(t){var e="XY";return!0===t.hasZ&&!0===t.hasM?e="XYZM":!0===t.hasZ?e="XYZ":!0===t.hasM&&(e="XYM"),e}function Bu(t){return t=t.ja,{hasZ:"XYZ"===t||"XYZM"===t,hasM:"XYM"===t||"XYZM"===t}}function Xu(t,e){return(0,um[t.U()])(_u(t,!0,e),e)}function Uu(t){this.kc=t}function Yu(t,e){this.kc=t,this.b=Array.prototype.slice.call(arguments,1),y(2<=this.b.length,57)}function Gu(t){var e=["And"].concat(Array.prototype.slice.call(arguments));Yu.apply(this,e)}function Wu(t,e,n){this.kc="BBOX",this.geometryName=t,this.extent=e,this.srsName=n}function zu(t,e){this.kc=t,this.b=e}function Hu(t,e,n){zu.call(this,"During",t),this.a=e,this.i=n}function qu(t,e,n,o){zu.call(this,t,e),this.i=n,this.a=o}function Vu(t,e,n){qu.call(this,"PropertyIsEqualTo",t,e,n)}function $u(t,e){qu.call(this,"PropertyIsGreaterThan",t,e)}function Zu(t,e){qu.call(this,"PropertyIsGreaterThanOrEqualTo",t,e)}function Ju(t,e,n,o){this.kc=t,this.geometryName=e||"the_geom",this.geometry=n,this.srsName=o}function Qu(t,e,n){Ju.call(this,"Intersects",t,e,n)}function th(t,e,n){zu.call(this,"PropertyIsBetween",t),this.a=e,this.i=n}function eh(t,e,n,o,i,r){zu.call(this,"PropertyIsLike",t),this.c=e,this.g=void 0!==n?n:"*",this.f=void 0!==o?o:".",this.i=void 0!==i?i:"!",this.a=r}function nh(t){zu.call(this,"PropertyIsNull",t)}function oh(t,e){qu.call(this,"PropertyIsLessThan",t,e)}function ih(t,e){qu.call(this,"PropertyIsLessThanOrEqualTo",t,e)}function rh(t){this.kc="Not",this.condition=t}function ah(t,e,n){qu.call(this,"PropertyIsNotEqualTo",t,e,n)}function sh(t){var e=["Or"].concat(Array.prototype.slice.call(arguments));Yu.apply(this,e)}function uh(t,e,n){Ju.call(this,"Within",t,e,n)}function hh(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(Gu,e))}function ph(t,e,n){return new Wu(t,e,n)}function lh(t){io.call(this),this.a=t?t:null,dh(this)}function ch(t){var e,n=[],o=0;for(e=t.length;o<e;++o)n.push(t[o].clone());return n}function fh(t){var e;if(t.a){var n=0;for(e=t.a.length;n<e;++n)ae(t.a[n],"change",t.s,t)}}function dh(t){var e;if(t.a){var n=0;for(e=t.a.length;n<e;++n)ie(t.a[n],"change",t.s,t)}}function yh(t){t=t?t:{},gu.call(this),this.defaultDataProjection=Mt(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326"),t.featureProjection&&(this.f=Mt(t.featureProjection)),this.b=t.geometryName}function vh(t,e){return t?_u((0,hm[t.type])(t),!1,e):null}function gh(t,e){return(0,pm[t.U()])(_u(t,!0,e),e)}function mh(){this.i=new XMLSerializer,gu.call(this)}function bh(t,e,n){return t=_h(t,e,n),0<t.length?t[0]:null}function _h(t,e,n){var o=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&i(o,t.zc(e,n));return o}function xh(t){t=t?t:{},this.featureType=t.featureType,this.featureNS=t.featureNS,this.srsName=t.srsName,this.schemaLocation="",this.b={},this.b["http://www.opengis.net/gml"]={featureMember:ou(xh.prototype.be),featureMembers:ou(xh.prototype.be)},mh.call(this)}function wh(t){return t=$s(t,!1),Ph(t)}function Ph(t){if(t=/^\s*(true|1)|(false|0)\s*$/.exec(t))return void 0!==t[1]||!1}function Sh(t){return t=$s(t,!1),t=Date.parse(t),isNaN(t)?void 0:t/1e3}function Ch(t){return t=$s(t,!1),Mh(t)}function Mh(t){if(t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t))return parseFloat(t[1])}function Th(t){return t=$s(t,!1),Ah(t)}function Ah(t){if(t=/^\s*(\d+)\s*$/.exec(t))return parseInt(t[1],10)}function Eh(t){return $s(t,!1).trim()}function Ih(t,e){Oh(t,e?"1":"0")}function Lh(t,e){t.appendChild(rm.createTextNode(e.toPrecision()))}function Nh(t,e){t.appendChild(rm.createTextNode(e.toString()))}function Oh(t,e){t.appendChild(rm.createTextNode(e))}function kh(t){t=t?t:{},xh.call(this,t),this.l=void 0!==t.surface&&t.surface,this.c=void 0!==t.curve&&t.curve,this.g=void 0===t.multiCurve||t.multiCurve,this.j=void 0===t.multiSurface||t.multiSurface,this.schemaLocation=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd"}function Rh(t,e,n){var o=n[n.length-1];n=o.hasZ,o=o.srsName,e=e.X();for(var i,r=e.length,a=Array(r),s=0;s<r;++s){i=e[s];var u=s,h=n,p="enu";o&&(p=Mt(o).b),p="en"===p.substr(0,2)?i[0]+" "+i[1]:i[1]+" "+i[0],h&&(p+=" "+(i[2]||0)),a[u]=p}Oh(t,a.join(" "))}function Fh(t){t=t?t:{},xh.call(this,t),this.b["http://www.opengis.net/gml"].featureMember=nu(xh.prototype.be),this.schemaLocation=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd"}function Dh(t){return t=Vs(t,"coordinates"),t.setAttribute("decimal","."),t.setAttribute("cs",","),t.setAttribute("ts"," "),t}function jh(t,e,n){var o=n[n.length-1];n=o.hasZ,o=o.srsName,e=e.X();for(var i,r=e.length,a=Array(r),s=0;s<r;++s)i=e[s],a[s]=Kh(i,o,n);Oh(t,a.join(" "))}function Kh(t,e,n){var o="enu";return e&&(o=Mt(e).b),e="en"===o.substr(0,2)?t[0]+","+t[1]:t[1]+","+t[0],n&&(e+=","+(t[2]||0)),e}function Bh(t){t=t?t:{},mh.call(this),this.defaultDataProjection=Mt("EPSG:4326"),this.b=t.readExtensions}function Xh(t,e,n,o){return t.push(parseFloat(n.getAttribute("lon")),parseFloat(n.getAttribute("lat"))),"ele"in o?(t.push(o.ele),delete o.ele,e.hasZ=!0):t.push(0),"time"in o?(t.push(o.time),delete o.time,e.hasM=!0):t.push(0),t}function Uh(t,e,n){var o="XY",i=2;if(t.hasZ&&t.hasM?(o="XYZM",i=4):t.hasZ?(o="XYZ",i=3):t.hasM&&(o="XYM",i=3),4!==i){var r,a=0;for(r=e.length/4;a<r;a++)e[a*i]=e[4*a],e[a*i+1]=e[4*a+1],t.hasZ&&(e[a*i+2]=e[4*a+2]),t.hasM&&(e[a*i+2]=e[4*a+3]);if(e.length=e.length/4*i,n)for(a=0,r=n.length;a<r;a++)n[a]=n[a]/4*i}return o}function Yh(t,e){var n=e[e.length-1],o=t.getAttribute("href");null!==o&&(n.link=o),lu(Em,t,e)}function Gh(t,e){e[e.length-1].extensionsNode_=t}function Wh(t,e){var n=e[0];if(t=cu({flatCoordinates:[],layoutOptions:{}},Im,t,e)){e=t.flatCoordinates,delete t.flatCoordinates;var o=t.layoutOptions;delete t.layoutOptions;var o=Uh(o,e),i=new Mu(null);return i.ba(o,e),_u(i,!1,n),n=new Hs(i),n.H(t),n}}function zh(t,e){var n=e[0];if(t=cu({flatCoordinates:[],ends:[],layoutOptions:{}},Nm,t,e)){e=t.flatCoordinates,delete t.flatCoordinates;var o=t.ends;delete t.ends;var i=t.layoutOptions;delete t.layoutOptions;var i=Uh(i,e,o),r=new Au(null);return r.ba(i,e,o),_u(r,!1,n),n=new Hs(r),n.H(t),n}}function Hh(t,e){var n=e[0];if(e=cu({},Rm,t,e)){var o={};return t=Xh([],o,t,e),o=Uh(o,t),t=new Ao(t,o),_u(t,!1,n),n=new Hs(t),n.H(e),n}}function qh(t,e){e||(e=[]);for(var n=0,o=e.length;n<o;++n){var i=e[n];if(t.b){var r=i.get("extensionsNode_")||null;t.b(i,r)}i.set("extensionsNode_",void 0)}}function Vh(t,e,n){t.setAttribute("href",e),e=n[n.length-1].properties,du({node:t},Dm,am,[e.linkText,e.linkType],n,Fm)}function $h(t,e,n){var o=n[n.length-1],i=o.node.namespaceURI,r=o.properties;switch(t.setAttributeNS(null,"lat",e[1]),t.setAttributeNS(null,"lon",e[0]),o.geometryLayout){case"XYZM":e[3]&&(r.time=e[3]);case"XYZ":e[2]&&(r.ele=e[2]);break;case"XYM":e[2]&&(r.time=e[2])}e="rtept"==t.nodeName?Bm[i]:Wm[i],o=hu(r,e),du({node:t,properties:r},zm,am,o,n,e)}function Zh(t,e){if((t=t.V())&&(t=Hm[t.U()]))return Vs(e[e.length-1].node.namespaceURI,t)}function Jh(){gu.call(this)}function Qh(t){return"string"==typeof t?t:""}function tp(t){t=t?t:{},gu.call(this),this.defaultDataProjection=Mt("EPSG:4326"),this.b=t.altitudeMode?t.altitudeMode:"none"}function ep(t,e,n,o,i,r){fe.call(this),this.j=null,this.M=t?t:new Image,null!==o&&(this.M.crossOrigin=o),this.c=r?document.createElement("CANVAS"):null,this.g=r,this.f=null,this.i=i,this.a=n,this.o=e,this.l=!1,2==this.i&&np(this)}function np(t){var e=Ae(1,1);try{e.drawImage(t.M,0,0),e.getImageData(0,0,1,1)}catch(e){t.l=!0}}function op(t){t=t||{},this.o=void 0!==t.anchor?t.anchor:[.5,.5],this.u=null,this.i=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.C=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.B=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.ra=void 0!==t.crossOrigin?t.crossOrigin:null;var e=void 0!==t.img?t.img:null,n=void 0!==t.imgSize?t.imgSize:null,o=t.src;y(!(void 0!==o&&e),4),y(!e||e&&n,5),void 0!==o&&o.length||!e||(o=e.src||f(e).toString()),y(void 0!==o&&0<o.length,6);var i=void 0!==t.src?0:2;this.j=void 0!==t.color?Se(t.color):null;
var r=this.ra,a=this.j,s=dg.get(o,r,a);s||(s=new ep(e,o,n,r,i,a),dg.set(o,r,a,s)),this.b=s,this.oa=void 0!==t.offset?t.offset:[0,0],this.c=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.S=null,this.D=void 0!==t.size?t.size:null,Ds.call(this,{opacity:void 0!==t.opacity?t.opacity:1,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView})}function ip(t){t=t||{},this.a=t.font,this.f=t.rotation,this.o=t.rotateWithView,this.b=t.scale,this.Ia=t.text,this.g=t.textAlign,this.j=t.textBaseline,this.Va=void 0!==t.fill?t.fill:new Xs({color:"#333"}),this.Ya=void 0!==t.stroke?t.stroke:null,this.i=void 0!==t.offsetX?t.offsetX:0,this.c=void 0!==t.offsetY?t.offsetY:0}function rp(t){t=t?t:{},mh.call(this),Qm||(tb=[255,255,255,1],eb=new Xs({color:tb}),nb=[20,2],ib=ob="pixels",rb=[64,64],ab="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",sb=.5,ub=new op({anchor:nb,anchorOrigin:"bottom-left",anchorXUnits:ob,anchorYUnits:ib,crossOrigin:"anonymous",rotation:0,scale:sb,size:rb,src:ab}),hb="NO_IMAGE",pb=new Aa({color:tb,width:1}),lb=new Aa({color:[51,51,51,1],width:2}),cb=new ip({font:"bold 16px Helvetica",fill:eb,stroke:lb,scale:.8}),fb=new Us({fill:eb,image:ub,text:cb,stroke:pb,zIndex:0}),Qm=[fb]),this.defaultDataProjection=Mt("EPSG:4326"),this.a=t.defaultStyle?t.defaultStyle:Qm,this.c=void 0===t.extractStyles||t.extractStyles,this.j=void 0===t.writeStyles||t.writeStyles,this.b={},this.g=void 0===t.showPointNames||t.showPointNames}function ap(t,e){var n=[0,0],o="start";if(t.Y()){var i=t.Y().ye();null===i&&(i=rb),2==i.length&&(o=t.Y().a,n[0]=o*i[0]/2,n[1]=-o*i[1]/2,o="left")}return null!==t.Na()?(i=t.Na(),t=i.clone(),t.nj(i.a||cb.a),t.Si(i.b||cb.b),t.pf(i.Fa()||cb.Fa()),t.qf(i.Ga()||lb)):t=cb.clone(),t.xd(e),t.sj(n[0]),t.tj(n[1]),t.vj(o),new Us({text:t})}function sp(t,e,n,o,i){return function(){var r=i,a="";if(r&&this.V()&&(r="Point"===this.V().U()),r&&(a=this.get("name"),r=r&&a),t)return r?(r=ap(t[0],a),t.concat(r)):t;if(e){var s=up(e,n,o);return r?(r=ap(s[0],a),s.concat(r)):s}return r?(r=ap(n[0],a),n.concat(r)):n}}function up(t,e,n){return Array.isArray(t)?t:"string"==typeof t?(!(t in n)&&"#"+t in n&&(t="#"+t),up(n[t],e,n)):e}function hp(t){if(t=$s(t,!1),t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t))return t=t[1],[parseInt(t.substr(6,2),16),parseInt(t.substr(4,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(0,2),16)/255]}function pp(t){t=$s(t,!1);for(var e,n=[],o=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;e=o.exec(t);)n.push(parseFloat(e[1]),parseFloat(e[2]),e[3]?parseFloat(e[3]):0),t=t.substr(e[0].length);if(""===t)return n}function lp(t){var e=$s(t,!1).trim();return t.baseURI&&"about:blank"!==t.baseURI?new URL(e,t.baseURI).href:e}function cp(t){return Ch(t)}function fp(t,e){return cu(null,Pb,t,e)}function dp(t,e){if(e=cu({A:[],Ej:[]},Cb,t,e)){t=e.A,e=e.Ej;var n,o=0;for(n=Math.min(t.length,e.length);o<n;++o)t[4*o+3]=e[o];return e=new Mu(null),e.ba("XYZM",t),e}}function yp(t,e){var n=cu({},wb,t,e);if(t=cu(null,Mb,t,e))return e=new Mu(null),e.ba("XYZ",t),e.H(n),e}function vp(t,e){var n=cu({},wb,t,e);if(t=cu(null,Mb,t,e))return e=new Bo(null),e.ba("XYZ",t,[t.length]),e.H(n),e}function gp(t,e){if(t=cu([],Nb,t,e),!t)return null;if(!t.length)return new lh(t);var n,o=!0,r=t[0].U(),a=1;for(n=t.length;a<n;++a)if(e=t[a],e.U()!=r){o=!1;break}if(o)if("Point"==r){var s=t[0];for(o=s.ja,r=s.ga(),a=1,n=t.length;a<n;++a)e=t[a],i(r,e.ga());s=new Lu(null),s.ba(o,r),xp(s,t)}else"LineString"==r?(s=new Au(null),Iu(s,t),xp(s,t)):"Polygon"==r?(s=new Nu(null),Fu(s,t),xp(s,t)):"GeometryCollection"==r?s=new lh(t):y(!1,37);else s=new lh(t);return s}function mp(t,e){var n=cu({},wb,t,e);if(t=cu(null,Mb,t,e))return e=new Ao(null),e.ba("XYZ",t),e.H(n),e}function bp(t,e){var n=cu({},wb,t,e);if((t=cu([null],Sb,t,e))&&t[0]){e=new Bo(null);var o,r=t[0],a=[r.length],s=1;for(o=t.length;s<o;++s)i(r,t[s]),a.push(r.length);return e.ba("XYZ",r,a),e.H(n),e}}function _p(t,e){if(e=cu({},Xb,t,e),!e)return null;t="fillStyle"in e?e.fillStyle:eb;var n=e.fill;void 0===n||n||(t=null),n="imageStyle"in e?e.imageStyle:ub,n==hb&&(n=void 0);var o="textStyle"in e?e.textStyle:cb,i="strokeStyle"in e?e.strokeStyle:pb;return e=e.outline,void 0===e||e||(i=null),[new Us({fill:t,image:n,stroke:i,text:o,zIndex:void 0})]}function xp(t,e){var n,o,i=e.length,r=Array(e.length),a=Array(e.length),s=o=!1;for(n=0;n<i;++n){var u=e[n];r[n]=u.get("extrude"),a[n]=u.get("altitudeMode"),s=s||void 0!==r[n],o=o||a[n]}s&&t.set("extrude",r),o&&t.set("altitudeMode",a)}function wp(t,e){lu(mb,t,e)}function Pp(t,e){lu(bb,t,e)}function Sp(t,e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE){var n=Cp(t,e);if(n)return n}}function Cp(t,e){var o;for(o=e.firstElementChild;o;o=o.nextElementSibling)if(n(yb,o.namespaceURI)&&"name"==o.localName)return Eh(o);for(o=e.firstElementChild;o;o=o.nextElementSibling)if(e=o.localName,n(yb,o.namespaceURI)&&("Document"==e||"Folder"==e||"Placemark"==e||"kml"==e)&&(e=Cp(t,o)))return e}function Mp(t,e){var n=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&i(n,Tp(t,e));return n}function Tp(t,e){var o,r=[];for(o=e.firstElementChild;o;o=o.nextElementSibling)if(n(yb,o.namespaceURI)&&"NetworkLink"==o.localName){var a=cu({},kb,o,[]);r.push(a)}for(o=e.firstElementChild;o;o=o.nextElementSibling)e=o.localName,!n(yb,o.namespaceURI)||"Document"!=e&&"Folder"!=e&&"kml"!=e||i(r,Tp(t,o));return r}function Ap(t,e){var n=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&i(n,t.lf(e));return n}function Ep(t,e){e=Se(e),e=[255*(4==e.length?e[3]:1),e[2],e[1],e[0]];var n;for(n=0;4>n;++n){var o=parseInt(e[n],10).toString(16);e[n]=1==o.length?"0"+o:o}Oh(t,e.join(""))}function Ip(t,e,n){t={node:t};var o=e.U();if("GeometryCollection"==o)var i=e.Vf(),r=jp;else"MultiPoint"==o?(i=e.Zd(),r=v_):"MultiLineString"==o?(i=e.gd(),r=g_):"MultiPolygon"==o?(i=e.Td(),r=b_):y(!1,39);du(t,o_,r,i,n)}function Lp(t,e,n){du({node:t},n_,m_,[e],n)}function Np(t,e,n){var o={node:t};e.a&&t.setAttribute("id",e.a),t=e.N();var i={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};i[e.c]=1;var r=Object.keys(t||{}).sort().filter(function(t){return!i[t]});if(0<r.length){var a=hu(t,r);du(o,r_,d_,[{names:r,values:a}],n)}(r=e.Lc())&&(r=r.call(e,0))&&(r=Array.isArray(r)?r[0]:r,this.j&&(t.Style=r),(r=r.Na())&&(t.name=r.Na())),r=i_[n[n.length-1].node.namespaceURI],t=hu(t,r),du(o,r_,am,t,n,r),t=n[0],(e=e.V())&&(e=_u(e,!0,t)),du(o,r_,jp,[e],n)}function Op(t,e,n){var o=e.ga();t={node:t},t.layout=e.ja,t.stride=e.qa(),du(t,a_,c_,[o],n)}function kp(t,e,n){e=e.Sd();var o=e.shift();t={node:t},du(t,s_,y_,e,n),du(t,s_,__,[o],n)}function Rp(t,e){Lh(t,Math.round(1e6*e)/1e6)}function Fp(t,e,n){return Vs(db[0],"gx:"+n)}function Dp(t,e){return Vs(e[e.length-1].node.namespaceURI,"Placemark")}function jp(t,e){if(t)return Vs(e[e.length-1].node.namespaceURI,Hb[t.U()])}function Kp(t,e,n,o,i){this.g=i,this.i=t,this.b=e,this.f=n,this.c=o}function Bp(t){gu.call(this),t=t?t:{},this.defaultDataProjection=new ct({code:"",units:"tile-pixels"}),this.b=t.featureClass?t.featureClass:Kp,this.a=t.geometryName,this.i=t.layerName?t.layerName:"layer",this.c=t.layers?t.layers:null}function Xp(t,e,n){for(var o=0,i=0,r=t.length;i<r;++i){var a,s=t[i],u=0;for(a=s.length;u<a;++u){var h=s[u];e.push(h.x,h.y)}o+=2*u,n.push(o)}}function Up(){mh.call(this),this.defaultDataProjection=Mt("EPSG:4326")}function Yp(t,e){e[e.length-1].fe[t.getAttribute("k")]=t.getAttribute("v")}function Gp(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}function Wp(){}function zp(){}function Hp(t,e,n,o){var i;i=void 0!==o?o:[];for(var r=o=0;r<e;){var a=t[r++];for(i[o++]=t[r++],i[o++]=a,a=2;a<n;++a)i[o++]=t[r++]}i.length=o}function qp(t){t=t?t:{},gu.call(this),this.defaultDataProjection=Mt("EPSG:4326"),this.b=t.factor?t.factor:1e5,this.a=t.geometryLayout?t.geometryLayout:"XY"}function Vp(t,e,n){var o,i=Array(e);for(o=0;o<e;++o)i[o]=0;var r,a=0;for(r=t.length;a<r;)for(o=0;o<e;++o,++a){var s=t[a],u=s-i[o];i[o]=s,t[a]=u}return Zp(t,n?n:1e5)}function $p(t,e,n){var o,i=Array(e);for(o=0;o<e;++o)i[o]=0;t=Jp(t,n?n:1e5);var r;for(n=0,r=t.length;n<r;)for(o=0;o<e;++o,++n)i[o]+=t[n],t[n]=i[o];return t}function Zp(t,e){e=e?e:1e5;var n,o=0;for(n=t.length;o<n;++o)t[o]=Math.round(t[o]*e);for(e=0,o=t.length;e<o;++e)n=t[e],t[e]=0>n?~(n<<1):n<<1;for(e="",o=0,n=t.length;o<n;++o){for(var i,r=t[o],a="";32<=r;)i=(32|31&r)+63,a+=String.fromCharCode(i),r>>=5;a+=String.fromCharCode(r+63),e+=a}return e}function Jp(t,e){e=e?e:1e5;var n,o=[],i=0,r=0,a=0;for(n=t.length;a<n;++a){var s=t.charCodeAt(a)-63,i=i|(31&s)<<r;32>s?(o.push(i),r=i=0):r+=5}for(t=0,i=o.length;t<i;++t)r=o[t],o[t]=1&r?~(r>>1):r>>1;for(t=0,i=o.length;t<i;++t)o[t]/=e;return o}function Qp(t){t=t?t:{},gu.call(this),this.a=t.layerName,this.b=t.layers?t.layers:null,this.defaultDataProjection=Mt(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326")}function tl(t,e){var n,o,i=[],r=0;for(o=t.length;r<o;++r){var a=t[r];0<r&&i.pop(),n=0<=a?e[a]:e[~a].slice().reverse(),i.push.apply(i,n)}for(t=0,e=i.length;t<e;++t)i[t]=i[t].slice();return i}function el(t,e,n,o,i,r,a){t=t.geometries;var s,u=[],h=0;for(s=t.length;h<s;++h)u[h]=nl(t[h],e,n,o,i,r,a);return u}function nl(t,e,n,o,i,r,a){var s=t.type,u=B_[s];return n="Point"===s||"MultiPoint"===s?u(t,n,o):u(t,e),e=new Hs,e.Ra(_u(n,!1,a)),void 0!==t.id&&e.jc(t.id),t=t.properties,i&&(t||(t={}),t[i]=r),t&&e.H(t),e}function ol(t,e,n){t[0]=t[0]*e[0]+n[0],t[1]=t[1]*e[1]+n[1]}function il(t){t=t?t:{},this.c=t.featureType,this.a=t.featureNS,this.b=t.gmlFormat?t.gmlFormat:new kh,this.o=t.schemaLocation?t.schemaLocation:X_["1.1.0"],mh.call(this)}function rl(t,e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return al(t,e)}function al(t,e){var n={},o=Ah(e.getAttribute("numberOfFeatures"));return n.numberOfFeatures=o,cu(n,U_,e,[],t.b)}function sl(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return cu({},z_,t,[])}function ul(t,e){var n=Vs("http://www.opengis.net/ogc","Filter"),o=Vs("http://www.opengis.net/ogc","FeatureId");n.appendChild(o),o.setAttribute("fid",e),t.appendChild(n)}function hl(t,e){return t=(t?t:"feature")+":",e.indexOf(t)?t+e:e}function pl(t,e,n){var o={node:t};e.b.forEach(function(t){du(o,V_,uu(t.kc),[t],n)})}function ll(t,e){void 0!==e.a&&t.setAttribute("matchCase",e.a.toString()),fl(t,e.b),dl(t,""+e.i)}function cl(t,e,n){t=Vs("http://www.opengis.net/ogc",t),Oh(t,n),e.appendChild(t)}function fl(t,e){cl("PropertyName",t,e)}function dl(t,e){cl("Literal",t,e)}function yl(t,e){var n=Vs("http://www.opengis.net/gml","TimeInstant");t.appendChild(n),t=Vs("http://www.opengis.net/gml","timePosition"),n.appendChild(t),Oh(t,e)}function vl(t){t=t?t:{},gu.call(this),this.b=void 0!==t.splitCollection&&t.splitCollection}function gl(t){return t=t.X(),t.length?t.join(" "):""}function ml(t){t=t.X();for(var e=[],n=0,o=t.length;n<o;++n)e.push(t[n].join(" "));return e.join(",")}function bl(t){var e=[];t=t.Sd();for(var n=0,o=t.length;n<o;++n)e.push("("+ml(t[n])+")");return e.join(",")}function _l(t){var e=t.U(),n=(0,$_[e])(t),e=e.toUpperCase();if(t instanceof so){t=t.ja;var o="";"XYZ"!==t&&"XYZM"!==t||(o+="Z"),"XYM"!==t&&"XYZM"!==t||(o+="M"),t=o,0<t.length&&(e+=" "+t)}return n.length?e+"("+n+")":e+" EMPTY"}function xl(t){this.a=t,this.b=-1}function wl(t){var e=t.a.charAt(++t.b),n={position:t.b,value:e};if("("==e)n.type=2;else if(","==e)n.type=5;else if(")"==e)n.type=3;else if("0"<=e&&"9">=e||"."==e||"-"==e){n.type=4;var e=t.b,o=!1,i=!1;do{"."==r?o=!0:"e"!=r&&"E"!=r||(i=!0);var r=t.a.charAt(++t.b)}while("0"<=r&&"9">=r||"."==r&&(void 0===o||!o)||!i&&("e"==r||"E"==r)||i&&("-"==r||"+"==r));t=parseFloat(t.a.substring(e,t.b--)),n.value=t}else if("a"<=e&&"z">=e||"A"<=e&&"Z">=e){n.type=1,e=t.b;do r=t.a.charAt(++t.b);while("a"<=r&&"z">=r||"A"<=r&&"Z">=r);t=t.a.substring(e,t.b--).toUpperCase(),n.value=t}else{if(" "==e||"\t"==e||"\r"==e||"\n"==e)return wl(t);if(""!==e)throw Error("Unexpected character: "+e);n.type=6}return n}function Pl(t){this.i=t,this.a="XY"}function Sl(t){t.b=wl(t.i)}function Cl(t,e){return(e=t.b.type==e)&&Sl(t),e}function Ml(t){var e=t.b;if(Cl(t,1)){var e=e.value,n="XY",o=t.b;if(1==t.b.type&&(o=o.value,"Z"===o?n="XYZ":"M"===o?n="XYM":"ZM"===o&&(n="XYZM"),"XY"!==n&&Sl(t)),t.a=n,"GEOMETRYCOLLECTION"==e){t:{if(Cl(t,2)){e=[];do e.push(Ml(t));while(Cl(t,5));if(Cl(t,3)){t=e;break t}}else if(Il(t)){t=[];break t}throw Error(Ll(t))}return new lh(t)}if(o=J_[e],n=Z_[e],!o||!n)throw Error("Invalid geometry type: "+e);return e=o.call(t),new n(e,t.a)}throw Error(Ll(t))}function Tl(t){for(var e=[],n=t.a.length,o=0;o<n;++o){var i=t.b;if(!Cl(t,4))break;e.push(i.value)}if(e.length==n)return e;throw Error(Ll(t))}function Al(t){for(var e=[Tl(t)];Cl(t,5);)e.push(Tl(t));return e}function El(t){for(var e=[t.sg()];Cl(t,5);)e.push(t.sg());return e}function Il(t){var e=1==t.b.type&&"EMPTY"==t.b.value;return e&&Sl(t),e}function Ll(t){return"Unexpected `"+t.b.value+"` at position "+t.b.position+" in `"+t.i.a+"`"}function Nl(){this.version=void 0}function Ol(t,e){return cu({},yx,t,e)}function kl(t,e){return cu({},lx,t,e)}function Rl(t,e){if(e=Ol(t,e))return t=[Ah(t.getAttribute("width")),Ah(t.getAttribute("height"))],e.size=t,e}function Fl(t,e){return cu([],vx,t,e)}function Dl(t){t=t?t:{},this.a="http://mapserver.gis.umn.edu/mapserver",this.b=new Fh,this.c=t.layers?t.layers:null,mh.call(this)}function jl(){this.i=new zp}function Kl(t){var e=Eh(t).split(" ");if(e&&2==e.length&&(t=+e[0],e=+e[1],!isNaN(t)&&!isNaN(e)))return[t,e]}function Bl(t){ve.call(this),t=t||{},this.a=null,this.f=It,this.c=void 0,ie(this,ge("projection"),this.Am,this),ie(this,ge("tracking"),this.Bm,this),void 0!==t.projection&&this.Wh(t.projection),void 0!==t.trackingOptions&&this.wj(t.trackingOptions),this.Ke(void 0!==t.tracking&&t.tracking)}function Xl(t,e,n){so.call(this),this.Ng(t,e?e:0,n)}function Ul(t){var e=t.A[t.a]-t.A[0];return t=t.A[t.a+1]-t.A[1],e*e+t*t}function Yl(t,e,n){for(var o,i,r,a,s,u=[],h=t(0),p=t(1),l=e(h),c=e(p),f=[p,h],d=[c,l],y=[1,0],v={},g=1e5;0<--g&&0<y.length;)r=y.pop(),h=f.pop(),l=d.pop(),p=r.toString(),p in v||(u.push(l[0],l[1]),v[p]=!0),a=y.pop(),p=f.pop(),c=d.pop(),s=(r+a)/2,o=t(s),i=e(o),w(i[0],i[1],l[0],l[1],c[0],c[1])<n?(u.push(c[0],c[1]),p=a.toString(),v[p]=!0):(y.push(a,s,s,r),d.push(c,i,i,l),f.push(p,o,o,h));return u}function Gl(t,e,n,o,i){var r=Mt("EPSG:4326");return Yl(function(o){return[t,e+(n-e)*o]},At(r,o),i)}function Wl(t,e,n,o,i){var r=Mt("EPSG:4326");return Yl(function(o){return[e+(n-e)*o,t]},At(r,o),i)}function zl(t){t=t||{},this.j=this.v=null,this.f=this.o=1/0,this.g=this.l=-(1/0),this.ra=this.oa=1/0,this.R=this.I=-(1/0),this.Jb=void 0!==t.targetSize?t.targetSize:100,this.fb=void 0!==t.maxLines?t.maxLines:100,this.i=[],this.c=[],this.pa=void 0!==t.strokeStyle?t.strokeStyle:Ix,this.D=this.u=void 0,this.a=this.b=this.S=null,1==t.showLabels&&(this.na=t.lonLabelFormatter?t.lonLabelFormatter:Hn.bind(this,"EW"),this.Ua=t.latLabelFormatter?t.latLabelFormatter:Hn.bind(this,"NS"),this.fa=void 0==t.lonLabelPosition?0:t.lonLabelPosition,this.T=void 0==t.latLabelPosition?1:t.latLabelPosition,this.B=void 0!==t.lonLabelStyle?t.lonLabelStyle:new ip({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new Xs({color:"rgba(0,0,0,1)"}),stroke:new Aa({color:"rgba(255,255,255,1)",width:3})}),this.C=void 0!==t.latLabelStyle?t.latLabelStyle:new ip({font:"12px Calibri,sans-serif",textAlign:"end",fill:new Xs({color:"rgba(0,0,0,1)"}),stroke:new Aa({color:"rgba(255,255,255,1)",width:3})}),this.b=[],this.a=[]),this.setMap(void 0!==t.map?t.map:null)}function Hl(t,e,n,o,i,r,a){var s=a;return n=Gl(e,n,o,t.j,i),s=void 0!==t.i[s]?t.i[s]:new Mu(null),s.ba("XY",n),it(s.G(),r)&&(t.b&&(n=a,o=s.ga(),r=[o[0],_(r[1]+Math.abs(r[1]-r[3])*t.fa,Math.max(r[1],o[1]),Math.min(r[3],o[o.length-1]))],n=t.b[n]?t.b[n].Qd:new Ao(null),n.ma(r),t.b[a]={Qd:n,text:t.na(e)}),t.i[a++]=s),a}function ql(t,e,n,o,i){var r=i;if(n=Wl(e,t.g,t.f,t.j,n),r=void 0!==t.c[r]?t.c[r]:new Mu(null),r.ba("XY",n),it(r.G(),o)){if(t.a){n=i;var a=r.ga();o=[_(o[0]+Math.abs(o[0]-o[2])*t.T,Math.max(o[0],a[0]),Math.min(o[2],a[a.length-2])),a[1]],n=t.a[n]?t.a[n].Qd:new Ao(null),n.ma(o),t.a[i]={Qd:n,text:t.Ua(e)}}t.c[i++]=r}return i}function Vl(t,e,n,o,i){fe.call(this),this.f=i,this.extent=t,this.a=n,this.resolution=e,this.state=o}function $l(t,e,n,o,i,r,a){Vl.call(this,t,e,n,0,o),this.j=i,this.M=new Image,null!==r&&(this.M.crossOrigin=r),this.c={},this.i=null,this.state=0,this.g=a}function Zl(t,e,n,o,i,r){this.c=r?r:null,Vl.call(this,t,e,n,r?0:2,o),this.i=i}function Jl(t,e){fe.call(this),this.ta=t,this.state=e,this.i=null,this.key=""}function Ql(t){if(!t.i)return t;var e=t.i;do{if(2==e.getState())return e;e=e.i}while(e);return t}function tc(t,e){t.state=e,t.s()}function ec(t,e,n,o,i){Jl.call(this,t,e),this.g=n,this.M=new Image,null!==o&&(this.M.crossOrigin=o),this.c=null,this.j=i}function nc(t){t.c.forEach(se),t.c=null}function oc(t){t=t?t:{},ai.call(this,{handleEvent:no}),this.g=t.formatConstructors?t.formatConstructors:[],this.o=t.projection?Mt(t.projection):null,this.a=null,this.target=t.target?t.target:null}function ic(t){t=t.dataTransfer.files;var e,n=0;for(e=t.length;n<e;++n){var o=t.item(n),i=new FileReader;i.addEventListener("load",this.j.bind(this,o)),i.readAsText(o)}}function rc(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}function ac(t){var e=t.v;e&&(e=t.target?t.target:e.a,t.a=[ie(e,"drop",ic,t),ie(e,"dragenter",rc,t),ie(e,"dragover",rc,t),ie(e,"drop",rc,t)])}function sc(t){t.a&&(t.a.forEach(se),t.a=null)}function uc(t,e,n,o){le.call(this,t),this.features=n,this.file=e,this.projection=o}function hc(t){t=t?t:{},xi.call(this,{handleDownEvent:cc,handleDragEvent:pc,handleUpEvent:lc}),this.l=t.condition?t.condition:gi,this.a=this.g=void 0,this.j=0,this.u=void 0!==t.duration?t.duration:400}function pc(t){if(bi(t)){var e=t.map,n=e.Ob(),o=t.pixel;t=o[0]-n[0]/2,o=n[1]/2-o[1],n=Math.atan2(o,t),t=Math.sqrt(t*t+o*o),e=e.Z(),e.g.rotation!==jn&&void 0!==this.g&&(o=n-this.g,si(e,e.Qa()-o)),this.g=n,void 0!==this.a&&(n=this.a*(e.Pa()/t),hi(e,n)),void 0!==this.a&&(this.j=this.a/t),this.a=t}}function lc(t){if(!bi(t))return!0;t=t.map.Z(),ni(t,1,-1);var e=this.j-1,n=t.Qa(),n=t.constrainRotation(n,0);si(t,n,void 0,void 0);var n=t.Pa(),o=this.u,n=t.constrainResolution(n,0,e);return hi(t,n,void 0,o),this.j=0,!1}function cc(t){return!(!bi(t)||!this.l(t))&&(ni(t.map.Z(),1,1),this.a=this.g=void 0,!0)}function fc(t,e,n,o){this.fb=t,this.Ua=e,this.overlaps=o,this.c=0,this.resolution=n,this.ra=this.oa=null,this.a=[],this.coordinates=[],this.T=hr(),this.b=[],this.B=null,this.fa=hr(),this.na=hr()}function dc(t,e,n,o,i,r,a){var s=t.coordinates.length,u=t.Sf();a&&(n+=i),a=[e[n],e[n+1]];var h,p=[NaN,NaN],l=!0;for(h=n+i;h<o;h+=i){p[0]=e[h],p[1]=e[h+1];var c=D(u,p);c!==f?(l&&(t.coordinates[s++]=a[0],t.coordinates[s++]=a[1]),t.coordinates[s++]=p[0],t.coordinates[s++]=p[1],l=!1):1===c?(t.coordinates[s++]=p[0],t.coordinates[s++]=p[1],l=!1):l=!0,a[0]=p[0],a[1]=p[1];var f=c}return(r&&l||h===n+i)&&(t.coordinates[s++]=a[0],t.coordinates[s++]=a[1]),s}function yc(t,e){t.oa=[0,e,0],t.a.push(t.oa),t.ra=[0,e,0],t.b.push(t.ra)}function vc(t,e,n,o,i,r,a,u,h){if(t.B&&s(o,t.T))var p=t.B;else t.B||(t.B=[]),p=ro(t.coordinates,0,t.coordinates.length,2,o,t.B),fr(t.T,o);o=!pt(r);for(var l,c,d,y,v,g=0,m=a.length,b=0,_=t.fa,x=t.na,w=0,P=0,S=t.a!=a||t.overlaps?0:200;g<m;){var C=a[g];switch(C[0]){case 0:b=C[1],o&&r[f(b).toString()]||!b.V()?g=C[2]:void 0===h||it(h,b.V().G())?++g:g=C[2]+1;break;case 1:w>S&&(t.Va(e,i),w=0),P>S&&(e.stroke(),P=0),w||P||(e.beginPath(),c=d=NaN),++g;break;case 2:b=C[1],l=p[b],C=p[b+1],y=p[b+2]-l,b=p[b+3]-C,b=Math.sqrt(y*y+b*b),e.moveTo(l+b,C),e.arc(l,C,b,0,2*Math.PI,!0),++g;break;case 3:e.closePath(),++g;break;case 4:b=C[1],l=C[2];var M=C[3],T=C[4]*n,A=C[5]*n,E=C[6],I=C[7],L=C[8],N=C[9],O=C[10];y=C[11],v=C[12];var k=C[13],R=C[14];for(O&&(y+=i);b<l;b+=2){if(C=p[b]-T,O=p[b+1]-A,k&&(C=Math.round(C),O=Math.round(O)),1!=v||y){var F=C+T,D=O+A;mr(_,F,D,v,v,y,-F,-D),e.setTransform.apply(e,_)}F=e.globalAlpha,1!=I&&(e.globalAlpha=F*I);var D=R+L>M.width?M.width-L:R,j=E+N>M.height?M.height-N:E;e.drawImage(M,L,N,D,j,C,O,D*n,j*n),1!=I&&(e.globalAlpha=F),(1!=v||y)&&e.setTransform.apply(e,x)}++g;break;case 5:for(b=C[1],l=C[2],A=C[3],E=C[4]*n,I=C[5]*n,y=C[6],v=C[7]*n,M=C[8],T=C[9],(O=C[10])&&(y+=i);b<l;b+=2){for(C=p[b]+E,O=p[b+1]+I,(1!=v||y)&&(mr(_,C,O,v,v,y,-C,-O),e.setTransform.apply(e,_)),L=A.split("\n"),N=L.length,1<N?(k=Math.round(1.5*e.measureText("M").width),O-=(N-1)/2*k):k=0,R=0;R<N;R++)F=L[R],T&&e.strokeText(F,C,O),M&&e.fillText(F,C,O),O+=k;(1!=v||y)&&e.setTransform.apply(e,x)}++g;break;case 6:if(u&&(b=C[1],b=u(b)))return b;++g;break;case 7:S?w++:t.Va(e,i),++g;break;case 8:for(b=C[1],l=C[2],C=p[b],O=p[b+1],y=C+.5|0,v=O+.5|0,y===c&&v===d||(e.moveTo(C,O),c=y,d=v),b+=2;b<l;b+=2)C=p[b],O=p[b+1],y=C+.5|0,v=O+.5|0,(b==l-2||y!==c||v!==d)&&(e.lineTo(C,O),c=y,d=v);++g;break;case 9:t.R=C[2],w&&(t.Va(e,i),w=0,P&&(e.stroke(),P=0)),e.fillStyle=C[1],++g;break;case 10:var b=void 0===C[8]||C[8],K=C[9];l=C[2],P&&(e.stroke(),P=0),e.strokeStyle=C[1],e.lineWidth=b?l*n:l,e.lineCap=C[3],e.lineJoin=C[4],e.miterLimit=C[5],Vv&&(l=C[6],y=C[7],b&&n!==K&&(l=l.map(function(t){return t*n/K}),y*=n/K,C[6]=l,C[7]=y,C[9]=n),e.lineDashOffset=y,e.setLineDash(l)),++g;break;case 11:e.font=C[1],e.textAlign=C[2],e.textBaseline=C[3],++g;break;case 12:S?P++:e.stroke(),++g;break;default:++g}}w&&t.Va(e,i),P&&e.stroke()}function gc(t){var e=t.b;e.reverse();var n,o=e.length,i=-1;for(n=0;n<o;++n){var r=e[n],a=r[0];if(6==a)i=n;else if(0==a){for(r[2]=n,r=t.b,a=n;i<a;){var s=r[i];r[i]=r[a],r[a]=s,++i,--a}i=-1}}}function mc(t,e){t.oa[2]=t.a.length,t.oa=null,t.ra[2]=t.b.length,t.ra=null,e=[6,e],t.a.push(e),t.b.push(e)}function bc(t,e,n,o){fc.call(this,t,e,n,o),this.M=this.I=null,this.C=this.D=this.S=this.u=this.v=this.l=this.o=this.j=this.g=this.f=this.i=void 0}function _c(t,e,n,o){fc.call(this,t,e,n,o),this.f=null,this.i={Md:void 0,Gd:void 0,Hd:null,Id:void 0,Jd:void 0,Kd:void 0,Ld:void 0,eg:0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function xc(t,e,n,o,i){var r=t.coordinates.length;return e=dc(t,e,n,o,i,!1,!1),r=[8,r,e],t.a.push(r),t.b.push(r),o}function wc(t){var e=t.i,n=e.strokeStyle,o=e.lineCap,i=e.lineDash,r=e.lineDashOffset,a=e.lineJoin,u=e.lineWidth,h=e.miterLimit;e.Md==n&&e.Gd==o&&s(e.Hd,i)&&e.Id==r&&e.Jd==a&&e.Kd==u&&e.Ld==h||(e.eg!=t.coordinates.length&&(t.a.push([12]),e.eg=t.coordinates.length),t.a.push([10,n,u,o,a,h,i,r,!0,1],[1]),e.Md=n,e.Gd=o,e.Hd=i,e.Id=r,e.Jd=a,e.Kd=u,e.Ld=h)}function Pc(t,e,n,o){fc.call(this,t,e,n,o),this.f=null,this.i={oh:void 0,Md:void 0,Gd:void 0,Hd:null,Id:void 0,Jd:void 0,Kd:void 0,Ld:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function Sc(t,e,n,o,i){var r=t.i,a=void 0!==r.fillStyle,r=void 0!=r.strokeStyle,s=o.length,u=[1];for(t.a.push(u),t.b.push(u),u=0;u<s;++u){var h=o[u],p=t.coordinates.length;n=dc(t,e,n,h,i,!0,!r),n=[8,p,n],t.a.push(n),t.b.push(n),r&&(n=[3],t.a.push(n),t.b.push(n)),n=h}return e=[7],t.b.push(e),a&&t.a.push(e),r&&(a=[12],t.a.push(a),t.b.push(a)),n}function Cc(t,e){var n=t.i,o=n.fillStyle,i=n.strokeStyle,r=n.lineCap,a=n.lineDash,u=n.lineDashOffset,h=n.lineJoin,p=n.lineWidth,l=n.miterLimit;if(void 0!==o&&("string"!=typeof o||n.oh!=o)){var c=[9,o];"string"!=typeof o&&(e=e.G(),c.push([e[0],e[3]])),t.a.push(c),n.oh=n.fillStyle}void 0===i||n.Md==i&&n.Gd==r&&s(n.Hd,a)&&n.Id==u&&n.Jd==h&&n.Kd==p&&n.Ld==l||(t.a.push([10,i,p,r,h,l,a,u,!0,1]),n.Md=i,n.Gd=r,n.Hd=a,n.Id=u,n.Jd=h,n.Kd=p,n.Ld=l)}function Mc(t,e,n,o){fc.call(this,t,e,n,o),this.C=this.D=this.S=null,this.Ia="",this.o=this.j=0,this.l=void 0,this.u=this.v=0,this.g=this.f=this.i=null}function Tc(t,e,n,o,i){this.v=t,this.c=e,this.o=o,this.l=n,this.f=i,this.a={},this.g=Ae(1,1),this.j=hr()}function Ac(t,e,n){var o,i=Math.floor(t.length/2);if(e>=i)for(o=i;o<e;o++)t[o][n]=!0;else if(e<i)for(o=e+1;o<i;o++)t[o][n]=!0}function Ec(t){if(void 0!==kx[t])return kx[t];for(var e=2*t+1,n=Array(e),o=0;o<e;o++)n[o]=Array(e);for(var e=t,i=o=0;e>=o;)Ac(n,t+e,t+o),Ac(n,t+o,t+e),Ac(n,t-o,t+e),Ac(n,t-e,t+o),Ac(n,t-e,t-o),Ac(n,t-o,t-e),Ac(n,t+o,t-e),Ac(n,t+e,t-o),o++,i+=1+2*o,0<2*(i-e)+1&&(--e,i+=1-2*e);return kx[t]=n}function Ic(t){for(var e in t.a){var n,o=t.a[e];for(n in o)o[n].Te()}}function Lc(t,e){var n=t.c;t=n[0];var o=n[1],i=n[2],n=n[3];return t=[t,o,t,n,i,n,i,o],ro(t,0,8,2,e,t),t}function Nc(t,e,n,o,i,r,a){var s=Object.keys(t.a).map(Number);s.sort(function(t,e){return e-t});var u,h,p=0;for(u=s.length;p<u;++p){var l=t.a[s[p].toString()];for(h=bg.length-1;0<=h;--h){var c=l[bg[h]];if(void 0!==c&&(c=vc(c,e,1,n,o,i,c.b,r,a)))return c}}}function Oc(t){ye.call(this),this.a=t}function kc(t,e){var n=e.getState();return 2!=n&&3!=n&&ie(e,"change",t.na,t),0==n&&(e.load(),n=e.getState()),2==n}function Rc(t){var e=t.a;e.Mb()&&"ready"==e.$f()&&t.s()}function Fc(t,e){e.Ki()&&t.postRenderFunctions.push(function(t,e,n){e=f(t).toString(),t.fd(n.viewState.projection,n.usedTiles[e])}.bind(null,e))}function Dc(t,e){if(e){var n,o=0;for(n=e.length;o<n;++o){var i=e[o];t[f(i).toString()]=i}}}function jc(t,e){e=e.D,void 0!==e&&("string"==typeof e?t.logos[e]="":e&&(y("string"==typeof e.href,44),y("string"==typeof e.src,45),t.logos[e.src]=e.href))}function Kc(t,e,n,o){e=f(e).toString(),n=n.toString(),e in t?n in t[e]?(t=t[e][n],o.ca<t.ca&&(t.ca=o.ca),o.$>t.$&&(t.$=o.$),o.da<t.da&&(t.da=o.da),o.ia>t.ia&&(t.ia=o.ia)):t[e][n]=o:(t[e]={},t[e][n]=o)}function Bc(t,e,n,o,i,r,a,s,u,h){var p=f(e).toString();p in t.wantedTiles||(t.wantedTiles[p]={});var l=t.wantedTiles[p];t=t.tileQueue;var c,d,y,v=n.minZoom;for(y=a;y>=v;--y){var g=Xt(n,r,y,g),m=n.Da(y);for(c=g.ca;c<=g.$;++c)for(d=g.da;d<=g.ia;++d)if(a-y<=s){var b=e.Nc(y,c,d,o,i);0==b.getState()&&(l[b.bb()]=!0,b.bb()in t.a||t.f([b,p,Ut(n,b.ta),m])),u&&u.call(h,b)}else e.Ug(y,c,d,i)}}function Xc(t){Oc.call(this,t),this.fa=hr()}function Uc(t,e,n){var o=e.pixelRatio,i=e.size[0]*o,r=e.size[1]*o,a=e.viewState.rotation,s=et(n),u=nt(n),h=$(n);n=V(n),dr(e.coordinateToPixelTransform,s),dr(e.coordinateToPixelTransform,u),dr(e.coordinateToPixelTransform,h),dr(e.coordinateToPixelTransform,n),t.save(),Tr(t,-a,i/2,r/2),t.beginPath(),t.moveTo(s[0]*o,s[1]*o),t.lineTo(u[0]*o,u[1]*o),t.lineTo(h[0]*o,h[1]*o),t.lineTo(n[0]*o,n[1]*o),t.clip(),Tr(t,a,i/2,r/2)}function Yc(t,e,n,o,i){var r=t.a;if(de(r,e)){var a=o.size[0]*o.pixelRatio,s=o.size[1]*o.pixelRatio,u=o.viewState.rotation;Tr(n,-u,a/2,s/2),t=i?i:Gc(t,o,0),r.b(new Mr(e,new Er(n,o.pixelRatio,o.extent,t,o.viewState.rotation),o,n,null)),Tr(n,u,a/2,s/2)}}function Gc(t,e,n){var o=e.viewState,i=e.pixelRatio,r=i/o.resolution;return mr(t.fa,i*e.size[0]/2,i*e.size[1]/2,r,-r,-o.rotation,-o.center[0]+n,-o.center[1])}function Wc(t,e){return f(t)-f(e)}function zc(t,e){return t=.5*t/e,t*t}function Hc(t,e,n,o,i,r){var a,s=!1;if(a=n.Y()){var u=a.Ye();2==u||3==u?a.Bj(i,r):(0==u&&a.load(),a.Nh(i,r),s=!0)}return(i=(0,n.Za)(e))&&(o=i.Vd(o),(0,Fx[o.U()])(t,o,n,e)),s}function qc(t){Xc.call(this,t),this.c=!1,this.v=-1,this.l=NaN,this.j=j(),this.f=this.o=null,this.g=Ae()}function Vc(){this.b="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"}function $c(){this.b="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}"}function Zc(t,e){this.i=t.getUniformLocation(e,"f"),this.c=t.getUniformLocation(e,"e"),this.g=t.getUniformLocation(e,"d"),this.f=t.getUniformLocation(e,"g"),this.b=t.getAttribLocation(e,"b"),this.a=t.getAttribLocation(e,"c")}function Jc(t,e){Oc.call(this,e),this.c=t,this.T=new $r([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.g=this.Ib=null,this.j=void 0,this.v=hr(),this.S=hr(),this.C=Wr(),this.u=null}function Qc(t,e,n){var o=t.c.i;if(void 0===t.j||t.j!=n){e.postRenderFunctions.push(function(t,e,n){t.isContextLost()||(t.deleteFramebuffer(e),t.deleteTexture(n))}.bind(null,o,t.g,t.Ib)),e=ha(o,n,n);var i=o.createFramebuffer();o.bindFramebuffer(36160,i),o.framebufferTexture2D(36160,36064,3553,e,0),t.Ib=e,t.g=i,t.j=n}else o.bindFramebuffer(36160,t.g)}function tf(t,e,n,o){if(t=t.a,de(t,e)){var i=o.viewState;t.b(new Mr(e,new ls(n,i.center,i.resolution,i.rotation,o.size,o.extent,o.pixelRatio),o,null,n))}}function ef(t,e){Jc.call(this,t,e),this.l=!1,this.R=-1,this.I=NaN,this.D=j(),this.o=this.f=this.B=null}function nf(t){t=t?t:{};var e=gv({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,ar.call(this,e),this.c=void 0!==t.renderBuffer?t.renderBuffer:100,this.u=null,this.f=void 0,this.g(t.style),this.T=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.na=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting}function of(){return[[-(1/0),-(1/0),1/0,1/0]]}function rf(t){ve.call(this),this.c=Mt(t.projection),this.j=af(t.attributions),this.D=t.logo,this.na=void 0!==t.state?t.state:"ready",this.u=void 0!==t.wrapX&&t.wrapX}function af(t){if("string"==typeof t)return[new $t({html:t})];if(t instanceof $t)return[t];if(Array.isArray(t)){for(var e=t.length,n=Array(e),o=0;o<e;o++){var i=t[o];n[o]="string"==typeof i?new $t({html:i}):i}return n}return null}function sf(t,e){t.na=e,t.s()}function uf(t){t=t||{},rf.call(this,{attributions:t.attributions,logo:t.logo,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX}),this.B=c,this.C=t.format,this.T=void 0==t.overlaps||t.overlaps,this.I=t.url,t.loader?this.B=t.loader:void 0!==this.I&&(y(this.C,7),this.B=vu(this.I,this.C)),this.fa=t.strategy?t.strategy:of;var e=void 0===t.useSpatialIndex||t.useSpatialIndex;if(this.a=e?new Da:null,this.R=new Da,this.g={},this.o={},this.l={},this.v={},this.f=null,t.features instanceof _e)var n=t.features,o=n.a;else Array.isArray(t.features)&&(o=t.features);e||n||(n=new _e(o)),o&&lf(this,o),n&&cf(this,n)}function hf(t,e,n){t.v[e]=[ie(n,"change",t.Oi,t),ie(n,"propertychange",t.Oi,t)]}function pf(t,e,n){var o=!0,i=n.a;return void 0!==i?i.toString()in t.o?o=!1:t.o[i.toString()]=n:(y(!(e in t.l),30),t.l[e]=n),o}function lf(t,e){var n,o=[],i=[],r=[],a=0;for(n=e.length;a<n;a++){var s=e[a],u=f(s).toString();pf(t,u,s)&&i.push(s)}for(a=0,n=i.length;a<n;a++)s=i[a],u=f(s).toString(),hf(t,u,s),(e=s.V())?(u=e.G(),o.push(u),r.push(s)):t.g[u]=s;for(t.a&&t.a.load(o,r),a=0,n=i.length;a<n;a++)t.b(new yf("addfeature",i[a]))}function cf(t,e){var n=!1;ie(t,"addfeature",function(t){n||(n=!0,e.push(t.feature),n=!1)}),ie(t,"removefeature",function(t){n||(n=!0,e.remove(t.feature),n=!1)}),ie(e,"add",function(t){n||(n=!0,this.yb(t.element),n=!1)},t),ie(e,"remove",function(t){n||(n=!0,this.Gb(t.element),n=!1)},t),t.f=e}function ff(t,e,n){t.$b([e[0],e[1],e[0],e[1]],function(t){if(t.V().sb(e))return n.call(void 0,t)})}function df(t,e){for(var n in t.o)if(t.o[n]===e){delete t.o[n];break}}function yf(t,e){le.call(this,t),this.feature=e}function vf(t){xi.call(this,{handleDownEvent:bf,handleEvent:mf,handleUpEvent:_f}),this.T=!1,this.fa=null,this.u=!1,this.Yb=t.source?t.source:null,this.$a=t.features?t.features:null,this.wk=t.snapTolerance?t.snapTolerance:12,this.R=t.type,this.g=Tf(this.R),this.Sa=t.minPoints?t.minPoints:this.g===Ux?3:2,this.va=t.maxPoints?t.maxPoints:1/0,this.Cf=t.finishCondition?t.finishCondition:no;var e=t.geometryFunction;if(!e)if("Circle"===this.R)e=function(t,e){return e=e?e:new Xl([NaN,NaN]),e.Ng(t[0],Math.sqrt(Jn(t[0],t[1]))),e};else{var n,o=this.g;o===Bx?n=Ao:o===Xx?n=Mu:o===Ux&&(n=Bo),e=function(t,e){return e?o===Ux?e.ma([t[0].concat([t[0][0]])]):e.ma(t):e=new n(t),e}}this.Za=e,this.I=this.C=this.a=this.B=this.j=this.l=null,this.ad=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,
this.pa=new nf({source:new uf({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:gf()}),this.xb=t.geometryName,this.vk=t.condition?t.condition:vi,this.Df=t.freehand?no:t.freehandCondition?t.freehandCondition:gi,ie(this,ge("active"),this.ri,this)}function gf(){var t=Ws();return function(e){return t[e.V().U()]}}function mf(t){this.u=this.g!==Bx&&this.Df(t);var e=!this.u;return this.u&&"pointerdrag"===t.type&&null!==this.j?(Sf(this,t),e=!1):"pointermove"===t.type?e=xf(this,t):"dblclick"===t.type&&(e=!1),Pi.call(this,t)&&e}function bf(t){return this.T=!this.u,this.u?(this.fa=t.pixel,this.l||Pf(this,t),!0):!!this.vk(t)&&(this.fa=t.pixel,!0)}function _f(t){var e=!0;xf(this,t);var n=this.g===Yx;return this.T?(this.l?this.u||n?this.Pd():wf(this,t)?this.Cf(t)&&this.Pd():Sf(this,t):(Pf(this,t),this.g===Bx&&this.Pd()),e=!1):this.u&&(this.l=null,Cf(this)),e}function xf(t,e){if(t.fa&&(!t.u&&t.T||t.u&&!t.T)){var n=t.fa,o=e.pixel,i=n[0]-o[0],n=n[1]-o[1],i=i*i+n*n;t.T=t.u?i>t.ad:i<=t.ad}return t.l?(i=e.coordinate,n=t.j.V(),t.g===Bx?o=t.a:t.g===Ux?(o=t.a[0],o=o[o.length-1],wf(t,e)&&(i=t.l.slice())):(o=t.a,o=o[o.length-1]),o[0]=i[0],o[1]=i[1],t.Za(t.a,n),t.B&&t.B.V().ma(i),n instanceof Bo&&t.g!==Ux?(t.C||(t.C=new Hs(new Mu(null))),i=n.Ch(0),e=t.C.V(),e.ba(i.ja,i.ga())):t.I&&(e=t.C.V(),e.ma(t.I)),Mf(t)):(e=e.coordinate.slice(),t.B?t.B.V().ma(e):(t.B=new Hs(new Ao(e)),Mf(t))),!0}function wf(t,e){var n=!1;if(t.j){var o=!1,i=[t.l];if(t.g===Xx?o=t.a.length>t.Sa:t.g===Ux&&(o=t.a[0].length>t.Sa,i=[t.a[0][0],t.a[0][t.a[0].length-2]]),o)for(var o=e.map,r=0,a=i.length;r<a;r++){var s=i[r],u=o.Ja(s),h=e.pixel,n=h[0]-u[0],u=h[1]-u[1];if(n=Math.sqrt(n*n+u*u)<=(t.u?1:t.wk)){t.l=s;break}}}return n}function Pf(t,e){e=e.coordinate,t.l=e,t.g===Bx?t.a=e.slice():t.g===Ux?(t.a=[[e.slice(),e.slice()]],t.I=t.a[0]):(t.a=[e.slice(),e.slice()],t.g===Yx&&(t.I=t.a)),t.I&&(t.C=new Hs(new Mu(t.I))),e=t.Za(t.a),t.j=new Hs,t.xb&&t.j.Tc(t.xb),t.j.Ra(e),Mf(t),t.b(new Af("drawstart",t.j))}function Sf(t,e){e=e.coordinate;var n,o=t.j.V();if(t.g===Xx){t.l=e.slice();var i=t.a;i.length>=t.va&&(t.u?i.pop():n=!0),i.push(e.slice()),t.Za(i,o)}else t.g===Ux&&(i=t.a[0],i.length>=t.va&&(t.u?i.pop():n=!0),i.push(e.slice()),n&&(t.l=i[0]),t.Za(t.a,o));Mf(t),n&&t.Pd()}function Cf(t){t.l=null;var e=t.j;return e&&(t.j=null,t.B=null,t.C=null,t.pa.ha().clear(!0)),e}function Mf(t){var e=[];t.j&&e.push(t.j),t.C&&e.push(t.C),t.B&&e.push(t.B),t=t.pa.ha(),t.clear(!0),t.cd(e)}function Tf(t){var e;return"Point"===t||"MultiPoint"===t?e=Bx:"LineString"===t||"MultiLineString"===t?e=Xx:"Polygon"===t||"MultiPolygon"===t?e=Ux:"Circle"===t&&(e=Yx),e}function Af(t,e){le.call(this,t),this.feature=e}function Ef(t){this.a=this.j=null,this.C=!1,this.B=this.l=null,t||(t={}),t.extent&&this.g(t.extent),xi.call(this,{handleDownEvent:Lf,handleDragEvent:Nf,handleEvent:If,handleUpEvent:Of}),this.u=new nf({source:new uf({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.boxStyle?t.boxStyle:kf(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.I=new nf({source:new uf({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.pointerStyle?t.pointerStyle:Rf(),updateWhileAnimating:!0,updateWhileInteracting:!0})}function If(t){if(!(t instanceof Qe))return!0;if("pointermove"==t.type&&!this.D){var e=t.pixel,n=t.map,o=jf(this,e,n);o||(o=n.Wa(e)),Kf(this,o)}return Pi.call(this,t),!1}function Lf(t){function e(t){var e=null,n=null;return t[0]==i[0]?e=i[2]:t[0]==i[2]&&(e=i[0]),t[1]==i[1]?n=i[3]:t[1]==i[3]&&(n=i[1]),null!==e&&null!==n?[e,n]:null}var n=t.pixel,o=t.map,i=this.G();return(t=jf(this,n,o))&&i?(n=t[0]==i[0]||t[0]==i[2]?t[0]:null,o=t[1]==i[1]||t[1]==i[3]?t[1]:null,null!==n&&null!==o?this.a=Ff(e(t)):null!==n?this.a=Df(e([n,i[1]]),e([n,i[3]])):null!==o&&(this.a=Df(e([i[0],o]),e([i[2],o])))):(t=o.Wa(n),this.g([t[0],t[1],t[0],t[1]]),this.a=Ff(t)),!0}function Nf(t){return this.a&&(t=t.coordinate,this.g(this.a(t)),Kf(this,t)),!0}function Of(){this.a=null;var t=this.G();return t&&q(t)||this.g(null),!1}function kf(){var t=Ws();return function(){return t.Polygon}}function Rf(){var t=Ws();return function(){return t.Point}}function Ff(t){return function(e){return I([t,e])}}function Df(t,e){return t[0]==e[0]?function(n){return I([t,[n[0],e[1]]])}:t[1]==e[1]?function(n){return I([t,[e[0],n[1]]])}:null}function jf(t,e,n){function o(t,e){return to(i,t)-to(i,e)}var i=n.Wa(e),r=t.G();if(r){r=[[[r[0],r[1]],[r[0],r[3]]],[[r[0],r[3]],[r[2],r[3]]],[[r[2],r[3]],[r[2],r[1]]],[[r[2],r[1]],[r[0],r[1]]]],r.sort(o);var r=r[0],a=zn(i,r),s=n.Ja(a);if(10>=Qn(e,s))return e=n.Ja(r[0]),n=n.Ja(r[1]),e=Jn(s,e),n=Jn(s,n),t.C=10>=Math.sqrt(Math.min(e,n)),t.C&&(a=e>n?r[1]:r[0]),a}return null}function Kf(t,e){var n=t.B;n?n.V().ma(e):(n=new Hs(new Ao(e)),t.B=n,t.I.ha().yb(n))}function Bf(t){le.call(this,Gx),this.b=t}function Xf(t){xi.call(this,{handleDownEvent:Hf,handleDragEvent:qf,handleEvent:$f,handleUpEvent:Vf}),this.ad=t.condition?t.condition:_i,this.$a=function(t){return vi(t)&&yi(t)},this.xb=t.deleteCondition?t.deleteCondition:this.$a,this.Yb=t.insertVertexCondition?t.insertVertexCondition:no,this.Sa=this.g=null,this.va=[0,0],this.C=this.I=!1,this.a=new Da,this.fa=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.l=this.pa=!1,this.j=[],this.B=new nf({source:new uf({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:ed(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.T={Point:this.Dn,LineString:this.ti,LinearRing:this.ti,Polygon:this.En,MultiPoint:this.Bn,MultiLineString:this.An,MultiPolygon:this.Cn,Circle:this.yn,GeometryCollection:this.zn},this.u=t.features,this.u.forEach(this.kg,this),ie(this.u,"add",this.wn,this),ie(this.u,"remove",this.xn,this),this.R=null}function Uf(t,e){t.C||(t.C=!0,t.b(new nd("modifystart",t.u,e)))}function Yf(t,e){Gf(t,e),t.g&&!t.u.dc()&&(t.B.ha().Gb(t.g),t.g=null),ae(e,"change",t.si,t)}function Gf(t,e){t=t.a;var n=[];t.forEach(function(t){e===t.feature&&n.push(t)});for(var o=n.length-1;0<=o;--o)t.remove(n[o])}function Wf(t,e){var n=t.g;n?n.V().ma(e):(n=new Hs(new Ao(e)),t.g=n,t.B.ha().yb(n))}function zf(t,e){return t.index-e.index}function Hf(t){if(!this.ad(t))return!1;Zf(this,t.pixel,t.map);var e=t.map.Wa(t.pixel);this.j.length=0,this.C=!1;var n=this.g;if(n){var o=[],n=n.V().X(),i=I([n]),i=Ba(this.a,i),r={};i.sort(zf);for(var a=0,s=i.length;a<s;++a){var u=i[a],h=u.la,p=f(u.feature),l=u.depth;l&&(p+="-"+l.join("-")),r[p]||(r[p]=Array(2)),"Circle"===u.geometry.U()&&1===u.index?(h=Qf(e,u),Vn(h,n)&&!r[p][0]&&(this.j.push([u,0]),r[p][0]=u)):Vn(h[0],n)&&!r[p][0]?(this.j.push([u,0]),r[p][0]=u):Vn(h[1],n)&&!r[p][1]?("LineString"!==u.geometry.U()&&"MultiLineString"!==u.geometry.U()||!r[p][0]||0!==r[p][0].index)&&(this.j.push([u,1]),r[p][1]=u):this.Yb(t)&&f(h)in this.Sa&&!r[p][0]&&!r[p][1]&&o.push([u,n])}for(o.length&&Uf(this,t),t=o.length-1;0<=t;--t)this.bm.apply(this,o[t])}return!!this.g}function qf(t){this.I=!1,Uf(this,t),t=t.coordinate;for(var e=0,n=this.j.length;e<n;++e){for(var o,i=this.j[e],r=i[0],a=r.depth,s=r.geometry,u=r.la,i=i[1];t.length<s.qa();)t.push(u[i][t.length]);switch(s.U()){case"Point":o=t,u[0]=u[1]=t;break;case"MultiPoint":o=s.X(),o[r.index]=t,u[0]=u[1]=t;break;case"LineString":o=s.X(),o[r.index+i]=t,u[i]=t;break;case"MultiLineString":o=s.X(),o[a[0]][r.index+i]=t,u[i]=t;break;case"Polygon":o=s.X(),o[a[0]][r.index+i]=t,u[i]=t;break;case"MultiPolygon":o=s.X(),o[a[1]][a[0]][r.index+i]=t,u[i]=t;break;case"Circle":u[0]=u[1]=t,0===r.index?(this.l=!0,s.ob(t)):(this.l=!0,s.Uc(Qn(s.wa(),t))),this.l=!1}o&&(r=s,a=o,this.l=!0,r.ma(a),this.l=!1)}Wf(this,t)}function Vf(t){for(var e,n,o=this.j.length-1;0<=o;--o)if(e=this.j[o][0],n=e.geometry,"Circle"===n.U()){var i=n.wa(),r=e.Pf[0];e=e.Pf[1],r.la[0]=r.la[1]=i,e.la[0]=e.la[1]=i,ja(this.a,X(i),r),ja(this.a,n.G(),e)}else ja(this.a,I(e.la),e);return this.C&&(this.b(new nd("modifyend",this.u,t)),this.C=!1),!1}function $f(t){if(!(t instanceof Qe))return!0;this.R=t;var e;return Jo(t.map.Z())[1]||"pointermove"!=t.type||this.D||(this.va=t.pixel,Zf(this,t.pixel,t.map)),this.g&&this.xb(t)&&(e=!("singleclick"!=t.type||!this.I)||this.hj()),"singleclick"==t.type&&(this.I=!1),Pi.call(this,t)&&!e}function Zf(t,e,n){function o(t,e){return Jf(i,t)-Jf(i,e)}var i=n.Wa(e),r=L(X(i),n.Z().Pa()*t.fa),r=Ba(t.a,r);if(0<r.length){r.sort(o);var a=r[0],s=a.la,u=Qf(i,a),h=n.Ja(u),p=Qn(e,h);if(p<=t.fa){if(e={},"Circle"===a.geometry.U()&&1===a.index)t.pa=!0,Wf(t,u);else for(p=n.Ja(s[0]),a=n.Ja(s[1]),n=Jn(h,p),h=Jn(h,a),p=Math.sqrt(Math.min(n,h)),t.pa=p<=t.fa,t.pa&&(u=n>h?s[1]:s[0]),Wf(t,u),h=1,n=r.length;h<n&&(u=r[h].la,Vn(s[0],u[0])&&Vn(s[1],u[1])||Vn(s[0],u[1])&&Vn(s[1],u[0]));++h)e[f(u)]=!0;return e[f(s)]=!0,void(t.Sa=e)}}t.g&&(t.B.ha().Gb(t.g),t.g=null)}function Jf(t,e){var n=e.geometry;return"Circle"===n.U()&&1===e.index?(t=Jn(n.wa(),t),n=Math.sqrt(t)-n.pd(),n*n):to(t,e.la)}function Qf(t,e){var n=e.geometry;return"Circle"===n.U()&&1===e.index?n.Ab(t):zn(t,e.la)}function td(t,e,n,o,i){Xa(t.a,e.G(),function(t){t.geometry===e&&(void 0===o||void 0===t.depth||s(t.depth,o))&&t.index>n&&(t.index+=i)})}function ed(){var t=Ws();return function(){return t.Point}}function nd(t,e,n){le.call(this,t),this.features=e,this.mapBrowserEvent=n}function od(t){if(ai.call(this,{handleEvent:id}),t=t?t:{},this.C=t.condition?t.condition:yi,this.D=t.addCondition?t.addCondition:oo,this.B=t.removeCondition?t.removeCondition:oo,this.I=t.toggleCondition?t.toggleCondition:gi,this.l=!!t.multi&&t.multi,this.o=t.filter?t.filter:no,this.j=t.hitTolerance?t.hitTolerance:0,this.g=new nf({source:new uf({useSpatialIndex:!1,features:t.features,wrapX:t.wrapX}),style:t.style?t.style:rd(),updateWhileAnimating:!0,updateWhileInteracting:!0}),t.layers)if("function"==typeof t.layers)t=t.layers;else{var e=t.layers;t=function(t){return n(e,t)}}else t=no;this.u=t,this.a={},t=this.g.ha().f,ie(t,"add",this.Fn,this),ie(t,"remove",this.Jn,this)}function id(t){if(!this.C(t))return!0;var e=this.D(t),o=this.B(t),i=this.I(t),r=!e&&!o&&!i,a=t.map,s=this.g.ha().f,u=[],h=[];if(r){for(ut(this.a),a.we(t.pixel,function(t,e){if(this.o(t,e))return h.push(t),t=f(t),this.a[t]=e,!this.l}.bind(this),{layerFilter:this.u,hitTolerance:this.j}),r=s.dc()-1;0<=r;--r){var a=s.item(r),p=h.indexOf(a);-1<p?h.splice(p,1):(s.remove(a),u.push(a))}h.length&&s.fg(h)}else{for(a.we(t.pixel,function(t,r){if(this.o(t,r))return!e&&!i||n(s.a,t)?(o||i)&&n(s.a,t)&&(u.push(t),r=f(t),delete this.a[r]):(h.push(t),t=f(t),this.a[t]=r),!this.l}.bind(this),{layerFilter:this.u,hitTolerance:this.j}),r=u.length-1;0<=r;--r)s.remove(u[r]);s.fg(h)}return(0<h.length||0<u.length)&&this.b(new ad(Wx,h,u,t)),di(t)}function rd(){var t=Ws();return i(t.Polygon,t.LineString),i(t.GeometryCollection,t.LineString),function(e){return e.V()?t[e.V().U()]:null}}function ad(t,e,n,o){le.call(this,t),this.selected=e,this.deselected=n,this.mapBrowserEvent=o}function sd(t){xi.call(this,{handleEvent:hd,handleDownEvent:no,handleUpEvent:pd}),t=t?t:{},this.l=t.source?t.source:null,this.R=void 0===t.vertex||t.vertex,this.C=void 0===t.edge||t.edge,this.j=t.features?t.features:null,this.pa=[],this.B={},this.T={},this.u={},this.I=null,this.g=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.va=ld.bind(this),this.a=new Da,this.fa={Point:this.Rn,LineString:this.wi,LinearRing:this.wi,Polygon:this.Sn,MultiPoint:this.Pn,MultiLineString:this.On,MultiPolygon:this.Qn,GeometryCollection:this.Nn,Circle:this.Mn}}function ud(t,e,n,o){var i=o.Wa([e[0]-t.g,e[1]+t.g]),r=o.Wa([e[0]+t.g,e[1]-t.g]),i=I([i,r]),a=Ba(t.a,i);t.R&&!t.C&&(a=a.filter(function(t){return"Circle"!==t.feature.V().U()}));var s=!1,i=!1,u=r=null;if(0<a.length){t.I=n,a.sort(t.va);var h=a[0].la,s="Circle"===a[0].feature.V().U();t.R&&!t.C?(n=o.Ja(h[0]),s=o.Ja(h[1]),n=Jn(e,n),e=Jn(e,s),s=Math.sqrt(Math.min(n,e)),(s=s<=t.g)&&(i=!0,r=n>e?h[1]:h[0],u=o.Ja(r))):t.C&&(r=s?Wn(n,a[0].feature.V()):zn(n,h),u=o.Ja(r),Qn(e,u)<=t.g&&(i=!0,t.R&&!s&&(n=o.Ja(h[0]),s=o.Ja(h[1]),n=Jn(u,n),e=Jn(u,s),s=Math.sqrt(Math.min(n,e)),s=s<=t.g)))&&(r=n>e?h[1]:h[0],u=o.Ja(r)),i&&(u=[Math.round(u[0]),Math.round(u[1])])}return{nq:i,vertex:r,wq:u}}function hd(t){var e=ud(this,t.pixel,t.coordinate,t.map);return e.nq&&(t.coordinate=e.vertex.slice(0,2),t.pixel=e.wq),Pi.call(this,t)}function pd(){var t=ht(this.u);return t.length&&(t.forEach(this.Dj,this),this.u={}),!1}function ld(t,e){return to(this.I,t.la)-to(this.I,e.la)}function cd(t){if(xi.call(this,{handleDownEvent:fd,handleDragEvent:yd,handleMoveEvent:vd,handleUpEvent:dd}),t=t?t:{},this.a=null,this.j=void 0!==t.features?t.features:null,t.layers)if("function"==typeof t.layers)var e=t.layers;else{var o=t.layers;e=function(t){return n(o,t)}}else e=no;this.C=e,this.l=t.hitTolerance?t.hitTolerance:0,this.g=null,ie(this,ge("active"),this.u,this)}function fd(t){if(this.g=gd(this,t.pixel,t.map),!this.a&&this.g){this.a=t.coordinate,vd.call(this,t);var e=this.j||new _e([this.g]);return this.b(new bd("translatestart",e,t.coordinate)),!0}return!1}function dd(t){if(this.a){this.a=null,vd.call(this,t);var e=this.j||new _e([this.g]);return this.b(new bd("translateend",e,t.coordinate)),!0}return!1}function yd(t){if(this.a){t=t.coordinate;var e=t[0]-this.a[0],n=t[1]-this.a[1],o=this.j||new _e([this.g]);o.forEach(function(t){var o=t.V();o.translate(e,n),t.Ra(o)}),this.a=t,this.b(new bd("translating",o,t))}}function vd(t){var e=t.map.a;gd(this,t.pixel,t.map)?(e.classList.remove(this.a?"ol-grab":"ol-grabbing"),e.classList.add(this.a?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")}function gd(t,e,o){return o.we(e,function(t){if(!this.j||n(this.j.a,t))return t}.bind(t),{layerFilter:t.C,hitTolerance:t.l})}function md(t,e){var n=t.v;t=t.c(),n&&t||(n||(n=e),n.a.classList.remove("ol-grab","ol-grabbing"))}function bd(t,e,n){le.call(this,t),this.features=e,this.coordinate=n}function _d(t){t=t?t:{};var e=gv({},t);delete e.gradient,delete e.radius,delete e.blur,delete e.shadow,delete e.weight,nf.call(this,e),this.j=null,this.R=void 0!==t.shadow?t.shadow:250,this.I=void 0,this.B=null,ie(this,ge(qx),this.Bl,this),this.pj(t.gradient?t.gradient:zx),this.jj(void 0!==t.blur?t.blur:15),this.Uc(void 0!==t.radius?t.radius:8),ie(this,ge(Hx),this.cg,this),ie(this,ge(Vx),this.cg,this),this.cg();var n,o=t.weight?t.weight:"weight";n="string"==typeof o?function(t){return t.get(o)}:o,this.g(function(t){t=n(t),t=void 0!==t?_(t,0,1):1;var e=255*t|0,o=this.B[e];return o||(o=[new Us({image:new op({opacity:t,src:this.I})})],this.B[e]=o),o}.bind(this)),this.set(Kx,null),ie(this,"render",this.Sl,this)}function xd(t){Xc.call(this,t),this.v=hr(),this.j=null}function wd(t){xd.call(this,t),this.M=null,this.c=hr()}function Pd(t,e,n,o){var i=Nt(n,e,t);return n=bt(e,o,n),e=e.sc(),void 0!==e&&(n*=e),e=t.sc(),void 0!==e&&(n/=e),t=bt(t,n,i)/n,isFinite(t)&&0<t&&(n/=t),n}function Sd(t,e,n,o){t=n-t,e=o-e;var i=Math.sqrt(t*t+e*e);return[Math.round(n+t/i),Math.round(o+e/i)]}function Cd(t,e,n,o,i,r,a,s,u,h,p){var l=Ae(Math.round(n*t),Math.round(n*e));if(!u.length)return l.canvas;l.scale(n,n);var c=j();u.forEach(function(t){G(c,t.extent)});var f=Ae(Math.round(n*ot(c)/o),Math.round(n*Q(c)/o)),d=n/o;u.forEach(function(t){f.drawImage(t.image,h,h,t.image.width-2*h,t.image.height-2*h,(t.extent[0]-c[0])*d,-(t.extent[3]-c[3])*d,ot(t.extent)*d,Q(t.extent)*d)});var y=et(a);return s.c.forEach(function(t){var e=t.source,i=t.target,a=e[1][0],s=e[1][1],u=e[2][0],h=e[2][1];t=(i[0][0]-y[0])/r;var p=-(i[0][1]-y[1])/r,d=(i[1][0]-y[0])/r,v=-(i[1][1]-y[1])/r,g=(i[2][0]-y[0])/r,m=-(i[2][1]-y[1])/r,i=e[0][0],e=e[0][1],a=a-i,s=s-e,u=u-i,h=h-e;t:{for(a=[[a,s,0,0,d-t],[u,h,0,0,g-t],[0,0,a,s,v-p],[0,0,u,h,m-p]],s=a.length,u=0;u<s;u++){for(var h=u,b=Math.abs(a[u][u]),_=u+1;_<s;_++){var x=Math.abs(a[_][u]);x>b&&(b=x,h=_)}if(!b){a=null;break t}for(b=a[h],a[h]=a[u],a[u]=b,h=u+1;h<s;h++)for(b=-a[h][u]/a[u][u],_=u;_<s+1;_++)a[h][_]=u==_?0:a[h][_]+b*a[u][_]}for(u=Array(s),h=s-1;0<=h;h--)for(u[h]=a[h][s]/a[h][h],b=h-1;0<=b;b--)a[b][s]-=a[b][h]*u[h];a=u}a&&(l.save(),l.beginPath(),u=(t+d+g)/3,h=(p+v+m)/3,s=Sd(u,h,t,p),d=Sd(u,h,d,v),g=Sd(u,h,g,m),l.moveTo(d[0],d[1]),l.lineTo(s[0],s[1]),l.lineTo(g[0],g[1]),l.clip(),l.transform(a[0],a[2],a[1],a[3],t,p),l.translate(c[0]-i,c[3]-e),l.scale(o/n,-o/n),l.drawImage(f.canvas,0,0),l.restore())}),p&&(l.save(),l.strokeStyle="black",l.lineWidth=1,s.c.forEach(function(t){var e=t.target;t=(e[0][0]-y[0])/r;var n=-(e[0][1]-y[1])/r,o=(e[1][0]-y[0])/r,i=-(e[1][1]-y[1])/r,a=(e[2][0]-y[0])/r,e=-(e[2][1]-y[1])/r;l.beginPath(),l.moveTo(o,i),l.lineTo(t,n),l.lineTo(a,e),l.closePath(),l.stroke()}),l.restore()),l.canvas}function Md(t,e,n,o,i){this.i=t,this.f=e;var r={},a=At(this.f,this.i);this.a=function(t){var e=t[0]+"/"+t[1];return r[e]||(r[e]=a(t)),r[e]},this.g=o,this.v=i*i,this.c=[],this.o=!1,this.l=this.i.i&&!!o&&!!this.i.G()&&ot(o)==ot(this.i.G()),this.b=this.i.G()?ot(this.i.G()):null,this.j=this.f.G()?ot(this.f.G()):null,t=et(n),e=nt(n),o=$(n),n=V(n),i=this.a(t);var s=this.a(e),u=this.a(o),h=this.a(n);if(Td(this,t,e,o,n,i,s,u,h,10),this.o){var p=1/0;this.c.forEach(function(t){p=Math.min(p,t.source[0][0],t.source[1][0],t.source[2][0])}),this.c.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-p>this.b/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-p>this.b/2&&(e[0][0]-=this.b),e[1][0]-p>this.b/2&&(e[1][0]-=this.b),e[2][0]-p>this.b/2&&(e[2][0]-=this.b),Math.max(e[0][0],e[1][0],e[2][0])-Math.min(e[0][0],e[1][0],e[2][0])<this.b/2&&(t.source=e)}},this)}r={}}function Td(t,e,n,o,i,r,a,s,u,h){var p=I([r,a,s,u]),l=t.b?ot(p)/t.b:null,c=t.b,f=t.i.i&&.5<l&&1>l,d=!1;if(0<h){if(t.f.c&&t.j)var y=I([e,n,o,i]),d=d|.25<ot(y)/t.j;!f&&t.i.c&&l&&(d|=.25<l)}if(d||!t.g||it(p,t.g)){if(!(d||isFinite(r[0])&&isFinite(r[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(u[0])&&isFinite(u[1]))){if(!(0<h))return;d=!0}if(0<h&&(d||(p=t.a([(e[0]+o[0])/2,(e[1]+o[1])/2]),c=f?(C(r[0],c)+C(s[0],c))/2-C(p[0],c):(r[0]+s[0])/2-p[0],p=(r[1]+s[1])/2-p[1],d=c*c+p*p>t.v),d))return void(Math.abs(e[0]-o[0])<=Math.abs(e[1]-o[1])?(f=[(n[0]+o[0])/2,(n[1]+o[1])/2],c=t.a(f),p=[(i[0]+e[0])/2,(i[1]+e[1])/2],l=t.a(p),Td(t,e,n,f,p,r,a,c,l,h-1),Td(t,p,f,o,i,l,c,s,u,h-1)):(f=[(e[0]+n[0])/2,(e[1]+n[1])/2],c=t.a(f),p=[(o[0]+i[0])/2,(o[1]+i[1])/2],l=t.a(p),Td(t,e,f,p,i,r,c,l,u,h-1),Td(t,f,n,o,p,c,a,s,l,h-1)));if(f){if(!t.l)return;t.o=!0}t.c.push({source:[r,s,u],target:[e,o,i]}),t.c.push({source:[r,a,s],target:[e,n,o]})}}function Ad(t){var e=j();return t.c.forEach(function(t){t=t.source,W(e,t[0]),W(e,t[1]),W(e,t[2])}),e}function Ed(t,e,n,o,i,r){this.v=e,this.l=t.G();var a=e.G(),s=a?tt(n,a):n,a=Pd(t,e,Z(s),o);this.j=new Md(t,e,s,this.l,.5*a),this.c=o,this.i=n,t=Ad(this.j),this.o=(this.Hb=r(t,a,i))?this.Hb.a:1,this.ee=this.g=null,i=2,r=[],this.Hb&&(i=0,r=this.Hb.f),Vl.call(this,n,o,this.o,i,r)}function Id(t){rf.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state}),this.C=void 0!==t.resolutions?t.resolutions:null,this.a=null,this.fa=0}function Ld(t,e){return t.C&&(e=t.C[o(t.C,e,0)]),e}function Nd(t,e){t.Y().src=e}function Od(t,e){le.call(this,t),this.image=e}function kd(t){Id.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions,state:t.state}),this.pa=t.canvasFunction,this.R=null,this.T=0,this.va=void 0!==t.ratio?t.ratio:1.5}function Rd(t){this.f=t.source,this.$a=hr(),this.g=Ae(),this.l=[0,0],this.Sa=void 0==t.renderBuffer?100:t.renderBuffer,this.B=null,kd.call(this,{attributions:t.attributions,canvasFunction:this.tk.bind(this),logo:t.logo,projection:t.projection,ratio:t.ratio,resolutions:t.resolutions,state:this.f.getState()}),this.I=null,this.v=void 0,this.Ii(t.style),ie(this.f,"change",this.ro,this)}function Fd(t,e,n,o,i){return n=o/n,mr(t.$a,i[0]/2,i[1]/2,n,-n,0,-e[0],-e[1])}function Dd(t,e){Jc.call(this,t,e),this.o=this.f=this.M=null}function jd(t,e){return e=e.Y(),pa(t.c.i,e)}function Kd(t,e,n,o,i,r,a,s){e*=r,n*=r,t=t.S,pr(t),vr(t,2*o/e,2*o/n),yr(t,-a),gr(t,s[0]-i[0],s[1]-i[1]),vr(t,(s[2]-s[0])/2,(s[3]-s[1])/2),gr(t,1,1)}function Bd(t){ar.call(this,t?t:{})}function Xd(t){xd.call(this,t),this.c=null===this.c?null:Ae(),this.o=null,this.g=[],this.l=j(),this.va=new v(0,0,0,0),this.B=hr(),this.T=0}function Ud(t,e){return e=e.getState(),t=t.a.kd(),2==e||4==e||3==e&&!t}function Yd(){this.b="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"}function Gd(){this.b="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}"}function Wd(t,e){this.i=t.getUniformLocation(e,"e"),this.c=t.getUniformLocation(e,"d"),this.b=t.getAttribLocation(e,"b"),this.a=t.getAttribLocation(e,"c")}function zd(t,e){Jc.call(this,t,e),this.I=Qx,this.fa=tw,this.f=null,this.B=new $r([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.D=this.o=null,this.l=-1,this.R=[0,0]}function Hd(t){t=t?t:{};var e=gv({},t);delete e.preload,delete e.useInterimTilesOnError,ar.call(this,e),this.zi(void 0!==t.preload?t.preload:0),this.Ai(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError)}function qd(t){this.c=null,Xd.call(this,t),this.I=!1,this.D=hr(),this.T="vector"==t.j?1:0}function Vd(t){t=t?t:{};var e=gv({},t);delete e.preload,delete e.useInterimTilesOnError,nf.call(this,e),this.Bi(t.preload?t.preload:0),this.Ci(!t.useInterimTilesOnError||t.useInterimTilesOnError),y(void 0==t.renderMode||"image"==t.renderMode||"hybrid"==t.renderMode||"vector"==t.renderMode,28),this.j=t.renderMode||"hybrid"}function $d(t,e,n,o){function i(){delete window[a],r.parentNode.removeChild(r)}var r=document.createElement("script"),a="olc_"+f(e);r.async=!0,r.src=t+(-1==t.indexOf("?")?"?":"&")+(o||"callback")+"="+a;var s=setTimeout(function(){i(),n&&n()},1e4);window[a]=function(t){clearTimeout(s),i(),e(t)},document.getElementsByTagName("head")[0].appendChild(r)}function Zd(t,e,n,o,i,r,a,s,u,h,p){if(Jl.call(this,i,0),this.D=void 0!==p&&p,this.S=a,this.u=s,this.v=null,this.c=e,this.j=o,this.o=r?r:i,this.a=[],this.yd=null,this.g=0,r=o.Aa(this.o),s=this.j.G(),i=this.c.G(),r=s?tt(r,s):r,q(r))if((s=t.G())&&(i=i?tt(i,s):s),o=Pd(t,n,Z(r),o.Da(this.o[0])),!isFinite(o)||0>=o)this.state=4;else if(this.l=new Md(t,n,r,i,o*(void 0!==h?h:.5)),this.l.c.length)if(this.g=e.tc(o),n=Ad(this.l),i&&(t.i?(n[1]=_(n[1],i[1],i[3]),n[3]=_(n[3],i[1],i[3])):n=tt(n,i)),q(n)){for(t=Xt(e,n,this.g),e=t.ca;e<=t.$;e++)for(n=t.da;n<=t.ia;n++)(h=u(this.g,e,n,a))&&this.a.push(h);this.a.length||(this.state=4)}else this.state=4;else this.state=4;else this.state=4}function Jd(t,e){var n=/\{z\}/g,o=/\{x\}/g,i=/\{y\}/g,r=/\{-y\}/g;return function(a){if(a)return t.replace(n,a[0].toString()).replace(o,a[1].toString()).replace(i,function(){return(-a[2]-1).toString()}).replace(r,function(){var t=e.a?e.a[a[0]]:null;return y(t,55),(t.ia-t.da+1+a[2]).toString()})}}function Qd(t,e){for(var n=t.length,o=Array(n),i=0;i<n;++i)o[i]=Jd(t[i],e);return ty(o)}function ty(t){return 1===t.length?t[0]:function(e,n,o){if(e)return t[C((e[1]<<e[0])+e[2],t.length)](e,n,o)}}function ey(){}function ny(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var o,i=n[2].charCodeAt(0);for(o=n[1].charCodeAt(0);o<=i;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=n=/\{(\d+)-(\d+)\}/.exec(t)){for(i=parseInt(n[2],10),o=parseInt(n[1],10);o<=i;o++)e.push(t.replace(n[0],o.toString()));return e}return e.push(t),e}function oy(t){cs.call(this),this.highWaterMark=void 0!==t?t:2048}function iy(t){return t.c>t.highWaterMark}function ry(t){rf.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.va=void 0!==t.opaque&&t.opaque,this.$a=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.a=new oy(t.cacheSize),this.o=[0,0],this.uc=""}function ay(t,e,n,o,i){if(e=t.Wd(e),!e)return!1;for(var r,a,s=!0,u=o.ca;u<=o.$;++u)for(var h=o.da;h<=o.ia;++h)r=t.Sb(n,u,h),a=!1,e.b.hasOwnProperty(r)&&(r=e.get(r),(a=2===r.getState())&&(a=!1!==i(r))),a||(s=!1);return s}function sy(t,e){t.uc!==e&&(t.uc=e,t.s())}function uy(t,e,n){var o=void 0!==n?n:t.c;if(n=t.Ta(o),t.u&&o.c){var i=e;e=i[0],t=Ut(n,i),o=Vt(o),k(o,t)?e=i:(i=ot(o),t[0]+=i*Math.ceil((o[0]-t[0])/i),e=n.bg(t,e))}if(i=e[0],o=e[1],t=e[2],n.minZoom>i||i>n.maxZoom)n=!1;else{var r=n.G();n=!(n=r?Xt(n,r,i):n.a?n.a[i]:null)||g(n,o,t)}return n?e:null}function hy(t,e){le.call(this,t),this.tile=e}function py(t){ry.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX}),this.tileLoadFunction=t.tileLoadFunction,this.tileUrlFunction=this.Fc?this.Fc.bind(this):ey,this.urls=null,t.urls?this.eb(t.urls):t.url&&this.jb(t.url),t.tileUrlFunction&&this.cb(t.tileUrlFunction)}function ly(t){py.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:dy,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=t.tileClass?t.tileClass:ec,this.g={},this.v={},this.Sa=t.reprojectionErrorThreshold,this.I=!1}function cy(t,e,n,o,i,r,a){return e=[e,n,o],i=(n=uy(t,e,r))?t.tileUrlFunction(n,i,r):void 0,i=new t.tileClass(e,void 0!==i?0:4,void 0!==i?i:"",t.crossOrigin,t.tileLoadFunction),i.key=a,ie(i,"change",t.Li,t),i}function fy(t,e,n,o,i,r){var a=t.Sb(e,n,o),s=t.uc;if(t.a.b.hasOwnProperty(a)){var u=t.a.get(a);if(u.key!=s){var h=u;if(u=cy(t,e,n,o,i,r,s),0==h.getState()?u.i=h.i:u.i=h,u.i){e=u.i,n=u;do{if(2==e.getState()){e.i=null;break}1==e.getState()?n=e:0==e.getState()?n.i=e.i:n=e,e=n.i}while(e)}t.a.replace(a,u)}}else u=cy(t,e,n,o,i,r,s),t.a.set(a,u);return u}function dy(t,e){t.Y().src=e}function yy(t){this.B=void 0!==t.hidpi&&t.hidpi,ly.call(this,{cacheSize:t.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:Mt("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,tilePixelRatio:this.B?2:1,wrapX:void 0===t.wrapX||t.wrapX}),this.R=void 0!==t.culture?t.culture:"en-us",this.C=void 0!==t.maxZoom?t.maxZoom:-1,this.f=t.key,this.l=t.imagerySet,$d("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.l+"?uriScheme=https&include=ImageryProviders&key="+this.f,this.pa.bind(this),void 0,"jsonp")}function vy(t){t=t||{};var e=void 0!==t.projection?t.projection:"EPSG:3857",n=void 0!==t.tileGrid?t.tileGrid:zt({extent:Vt(e),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});ly.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:t.opaque,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:n,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX})}function gy(t){this.C=t.account,this.B=t.map||"",this.f=t.config||{},this.l={},vy.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,maxZoom:void 0!==t.maxZoom?t.maxZoom:18,minZoom:t.minZoom,projection:t.projection,state:"loading",wrapX:t.wrapX}),my(this)}function my(t){var e=JSON.stringify(t.f);if(t.l[e])by(t,t.l[e]);else{var n="https://"+t.C+".cartodb.com/api/v1/map";t.B&&(n+="/named/"+t.B);var o=new XMLHttpRequest;o.addEventListener("load",t.Dl.bind(t,e)),o.addEventListener("error",t.Cl.bind(t)),o.open("POST",n),o.setRequestHeader("Content-type","application/json"),o.send(JSON.stringify(t.f))}}function by(t,e){t.jb("https://"+e.cdn_url.https+"/"+t.C+"/api/v1/map/"+e.layergroupid+"/{z}/{x}/{y}.png")}function _y(t){uf.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,wrapX:t.wrapX}),this.resolution=void 0,this.distance=void 0!==t.distance?t.distance:20,this.features=[],this.geometryFunction=t.geometryFunction||function(t){return t=t.V(),y(t instanceof Ao,10),t},this.source=t.source,this.source.J("change",_y.prototype.sa,this)}function xy(t){if(void 0!==t.resolution){t.features.length=0;for(var e=j(),n=t.distance*t.resolution,o=t.source.Xe(),i={},r=0,a=o.length;r<a;r++){var s=o[r];f(s).toString()in i||!(s=t.geometryFunction(s))||(s=s.X(),X(s,e),L(e,n,e),s=t.source.Uf(e),s=s.filter(function(t){return t=f(t).toString(),!(t in i)&&(i[t]=!0)}),t.features.push(wy(t,s)))}}}function wy(t,e){for(var n=[0,0],o=e.length-1;0<=o;--o){var i=t.geometryFunction(e[o]);i?Gn(n,i.X()):e.splice(o,1)}return Zn(n,1/e.length),t=new Hs(new Ao(n)),t.set("features",e),t}function Py(t,e){var n=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&n.push(t+"="+encodeURIComponent(e[t]))});var o=n.join("&");return t=t.replace(/[?&]$/,""),t=-1===t.indexOf("?")?t+"?":t+"&",t+o}function Sy(t){t=t||{},Id.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions}),this.R=void 0!==t.crossOrigin?t.crossOrigin:null,this.T=void 0===t.hidpi||t.hidpi,this.f=t.url,this.g=t.imageLoadFunction?t.imageLoadFunction:Nd,this.v=t.params||{},this.M=null,this.l=[0,0],this.I=0,this.B=void 0!==t.ratio?t.ratio:1.5}function Cy(t){Id.call(this,{projection:t.projection,resolutions:t.resolutions}),this.R=void 0!==t.crossOrigin?t.crossOrigin:null,this.l=void 0!==t.displayDpi?t.displayDpi:96,this.g=t.params||{},this.I=t.url,this.f=t.imageLoadFunction?t.imageLoadFunction:Nd,this.T=void 0===t.hidpi||t.hidpi,this.pa=void 0!==t.metersPerUnit?t.metersPerUnit:1,this.v=void 0!==t.ratio?t.ratio:1,this.va=void 0!==t.useOverlay&&t.useOverlay,this.M=null,this.B=0}function My(t){var e=t.imageExtent,n=void 0!==t.crossOrigin?t.crossOrigin:null,o=t.imageLoadFunction?t.imageLoadFunction:Nd;Id.call(this,{attributions:t.attributions,logo:t.logo,projection:Mt(t.projection)}),this.M=new $l(e,void 0,1,this.j,t.url,n,o),this.f=t.imageSize?t.imageSize:null,ie(this.M,"change",this.o,this)}function Ty(t){t=t||{},Id.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions}),this.pa=void 0!==t.crossOrigin?t.crossOrigin:null,this.g=t.url,this.v=t.imageLoadFunction?t.imageLoadFunction:Nd,this.f=t.params||{},this.l=!0,Ey(this),this.T=t.serverType,this.va=void 0===t.hidpi||t.hidpi,this.M=null,this.B=[0,0],this.R=0,this.I=void 0!==t.ratio?t.ratio:1.5}function Ay(t,e,n,o,i,r){if(y(void 0!==t.g,9),r[t.l?"CRS":"SRS"]=i.mb,"STYLES"in t.f||(r.STYLES=""),1!=o)switch(t.T){case"geoserver":o=90*o+.5|0,r.FORMAT_OPTIONS="FORMAT_OPTIONS"in r?r.FORMAT_OPTIONS+(";dpi:"+o):"dpi:"+o;break;case"mapserver":r.MAP_RESOLUTION=90*o;break;case"carmentaserver":case"qgis":r.DPI=90*o;break;default:y(!1,8)}r.WIDTH=n[0],r.HEIGHT=n[1],n=i.b;var a;return a=t.l&&"ne"==n.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,r.BBOX=a.join(","),Py(t.g,r)}function Ey(t){t.l=0<=Yn(t.f.VERSION||"1.3.0")}function Iy(t){t=t||{};var e;e=void 0!==t.attributions?t.attributions:[rw],vy.call(this,{attributions:e,cacheSize:t.cacheSize,crossOrigin:void 0!==t.crossOrigin?t.crossOrigin:"anonymous",opaque:void 0===t.opaque||t.opaque,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:t.wrapX})}function Ly(t){this.B=null,this.va=void 0!==t.operationType?t.operationType:"pixel",this.Sa=void 0!==t.threads?t.threads:1,this.g=Oy(t.sources);for(var e=0,n=this.g.length;e<n;++e)ie(this.g[e],"change",this.s,this);this.T=new kn(function(){return 1},this.s.bind(this));for(var e=Ny(this.g),n={},o=0,i=e.length;o<i;++o)n[f(e[o].layer)]=e[o];this.f=null,this.I={animate:!1,attributions:{},coordinateToPixelTransform:hr(),extent:null,focus:null,index:0,layerStates:n,layerStatesArray:e,logos:{},pixelRatio:1,pixelToCoordinateTransform:hr(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.T,time:Date.now(),
usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},Id.call(this,{}),t.operation&&this.v(t.operation,t.lib)}function Ny(t){return t.map(function(t){return ir(t.a)})}function Oy(t){for(var e=t.length,n=Array(e),o=0;o<e;++o){var i=o,r=t[o],a=null;r instanceof ry?(r=new Hd({source:r}),a=new Xd(r)):r instanceof Id&&(r=new Bd({source:r}),a=new wd(r)),n[i]=a}return n}function ky(t,e,n){le.call(this,t),this.extent=e.extent,this.resolution=e.viewState.resolution/e.pixelRatio,this.data=n}function Ry(t){var e=t.layer.indexOf("-"),e=lw[-1==e?t.layer:t.layer.slice(0,e)],n=pw[t.layer];vy.call(this,{attributions:hw,cacheSize:t.cacheSize,crossOrigin:"anonymous",maxZoom:void 0!=t.maxZoom?t.maxZoom:e.maxZoom,minZoom:void 0!=t.minZoom?t.minZoom:e.minZoom,opaque:n.opaque,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+t.layer+"/{z}/{x}/{y}."+n.Lb,wrapX:t.wrapX})}function Fy(t){t=t||{},ly.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX}),this.f=t.params||{},this.l=j(),sy(this,Dy(this))}function Dy(t){var e,n=0,o=[];for(e in t.f)o[n++]=e+"-"+t.f[e];return o.join("/")}function jy(t){ry.call(this,{opaque:!1,projection:t.projection,tileGrid:t.tileGrid,wrapX:void 0===t.wrapX||t.wrapX})}function Ky(t,e,n){Jl.call(this,t,2),this.c=e,this.Ia=n,this.a=null}function By(t){if(this.f=null,ly.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,projection:Mt("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,wrapX:void 0===t.wrapX||t.wrapX}),t.url)if(t.jsonp)$d(t.url,this.og.bind(this),this.Ve.bind(this));else{var e=new XMLHttpRequest;e.addEventListener("load",this.Ao.bind(this)),e.addEventListener("error",this.zo.bind(this)),e.open("GET",t.url),e.send()}else t.tileJSON?this.og(t.tileJSON):y(!1,51)}function Xy(t){if(ry.call(this,{projection:Mt("EPSG:3857"),state:"loading"}),this.v=void 0===t.preemptive||t.preemptive,this.l=ey,this.g=void 0,this.f=t.jsonp||!1,t.url)if(this.f)$d(t.url,this.pg.bind(this),this.We.bind(this));else{var e=new XMLHttpRequest;e.addEventListener("load",this.Eo.bind(this)),e.addEventListener("error",this.Do.bind(this)),e.open("GET",t.url),e.send()}else t.tileJSON?this.pg(t.tileJSON):y(!1,51)}function Uy(t,e,n,o,i,r){Jl.call(this,t,e),this.o=n,this.a=o,this.v=i,this.c=this.j=this.g=null,this.l=r}function Yy(t,e,n,o,i){0==t.state&&!0===i?(re(t,"change",function(){n.call(o,this.getData(e))},t),Gy(t)):!0===i?setTimeout(function(){n.call(o,this.getData(e))}.bind(t),0):n.call(o,t.getData(e))}function Gy(t){if(0==t.state)if(t.state=1,t.l)$d(t.o,t.Ji.bind(t),t.De.bind(t));else{var e=new XMLHttpRequest;e.addEventListener("load",t.Co.bind(t)),e.addEventListener("error",t.Bo.bind(t)),e.open("GET",t.o),e.send()}}function Wy(t){t=t||{};var e=t.params||{};ly.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:!("TRANSPARENT"in e?e.TRANSPARENT:1),projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX}),this.C=void 0!==t.gutter?t.gutter:0,this.f=e,this.l=!0,this.B=t.serverType,this.T=void 0===t.hidpi||t.hidpi,this.R="",Hy(this),this.fa=j(),Vy(this),sy(this,qy(this))}function zy(t,e,n,o,i,r,a){var s=t.urls;if(s){if(a.WIDTH=n[0],a.HEIGHT=n[1],a[t.l?"CRS":"SRS"]=r.mb,"STYLES"in t.f||(a.STYLES=""),1!=i)switch(t.B){case"geoserver":n=90*i+.5|0,a.FORMAT_OPTIONS="FORMAT_OPTIONS"in a?a.FORMAT_OPTIONS+(";dpi:"+n):"dpi:"+n;break;case"mapserver":a.MAP_RESOLUTION=90*i;break;case"carmentaserver":case"qgis":a.DPI=90*i;break;default:y(!1,52)}return r=r.b,t.l&&"ne"==r.substr(0,2)&&(t=o[0],o[0]=o[1],o[1]=t,t=o[2],o[2]=o[3],o[3]=t),a.BBOX=o.join(","),Py(1==s.length?s[0]:s[C((e[1]<<e[0])+e[2],s.length)],a)}}function Hy(t){var e=0,n=[];if(t.urls){var o,i=0;for(o=t.urls.length;i<o;++i)n[e++]=t.urls[i]}t.R=n.join("#")}function qy(t){var e,n=0,o=[];for(e in t.f)o[n++]=e+"-"+t.f[e];return o.join("/")}function Vy(t){t.l=0<=Yn(t.f.VERSION||"1.3.0")}function $y(t,e,n,o,i,r,a,s,u,h,p,l,c,f){if(Jl.call(this,t,e),this.j=null,this.o={Nd:!1,Kg:null,mf:-1,Lg:-1},this.c=h,this.a=[],this.u=n,this.v=r,this.g=[],this.l=[],r){var d=u.Aa(r),y=u.Da(t[0]);s.Rf(d,s.tc(y),function(t){var e=tt(d,s.Aa(t));if(.5<=ot(e)/y&&.5<=Q(e)/y){var e=t.toString(),n=h[e];n||(n=a(t,p,l),n=h[e]=new c(t,void 0==n?4:0,void 0==n?"":n,o,i),this.l.push(ie(n,"change",f))),n.j++,this.a.push(e)}}.bind(this))}}function Zy(t,e){t.Pg(yu(e,t.o,t.$o.bind(t),t.Zo.bind(t)))}function Jy(t,e,n,o,i){Jl.call(this,t,e),this.j=0,this.o=o,this.g=null,this.c={},this.u=i,this.l=n}function Qy(t){py.call(this,{attributions:t.attributions,cacheSize:void 0!==t.cacheSize?t.cacheSize:128,extent:t.extent,logo:t.logo,opaque:!1,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:Zy,tileUrlFunction:t.tileUrlFunction,tilePixelRatio:t.tilePixelRatio,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX}),this.g=t.format?t.format:null,this.v={},this.l=void 0==t.overlaps||t.overlaps,this.tileClass=t.tileClass?t.tileClass:Jy,this.f={},this.tileGrid||(this.tileGrid=this.Ta(Mt(t.projection||"EPSG:3857")))}function tv(t){this.o=t.matrixIds,Dt.call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes})}function ev(t,e,n){var o=[],i=[],r=[],s=[],u=[],h=void 0!==n?n:[];n=Mt(t.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var p=n.sc(),l="ne"==n.b.substr(0,2);return t.TileMatrix.sort(function(t,e){return e.ScaleDenominator-t.ScaleDenominator}),t.TileMatrix.forEach(function(t){var e;if(e=!(0<h.length)||a(h,function(e){return t.Identifier==e.TileMatrix})){i.push(t.Identifier),e=28e-5*t.ScaleDenominator/p;var n=t.TileWidth,c=t.TileHeight;l?r.push([t.TopLeftCorner[1],t.TopLeftCorner[0]]):r.push(t.TopLeftCorner),o.push(e),s.push(n==c?n:[n,c]),u.push([t.MatrixWidth,-t.MatrixHeight])}}),new tv({extent:e,origins:r,resolutions:o,matrixIds:i,tileSizes:s,sizes:u})}function nv(t){function e(t){return t="KVP"==o?Py(t,r):t.replace(/\{(\w+?)\}/g,function(t,e){return e.toLowerCase()in r?r[e.toLowerCase()]:t}),function(e){if(e){var n={TileMatrix:i.o[e[0]],TileCol:e[1],TileRow:-e[2]-1};return gv(n,a),e=t,e="KVP"==o?Py(e,n):e.replace(/\{(\w+?)\}/g,function(t,e){return n[e]})}}}this.fa=void 0!==t.version?t.version:"1.0.0",this.C=void 0!==t.format?t.format:"image/jpeg",this.f=t.dimensions?t.dimensions:{},this.B=t.layer,this.l=t.matrixSet,this.R=t.style;var n=t.urls;void 0===n&&void 0!==t.url&&(n=ny(t.url));var o=this.T=void 0!==t.requestEncoding?t.requestEncoding:"KVP",i=t.tileGrid,r={layer:this.B,style:this.R,tilematrixset:this.l};"KVP"==o&&gv(r,{Service:"WMTS",Request:"GetTile",Version:this.fa,Format:this.C});var a=this.f,s=n&&0<n.length?ty(n.map(e)):ey;ly.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:s,urls:n,wrapX:void 0!==t.wrapX&&t.wrapX}),sy(this,ov(this))}function ov(t){var e,n=0,o=[];for(e in t.f)o[n++]=e+"-"+t.f[e];return o.join("/")}function iv(t){t=t||{};var e=t.size,n=e[0],o=e[1],i=[],r=256;switch(void 0!==t.tierSizeCalculation?t.tierSizeCalculation:cw){case cw:for(;n>r||o>r;)i.push([Math.ceil(n/r),Math.ceil(o/r)]),r+=r;break;case fw:for(;n>r||o>r;)i.push([Math.ceil(n/r),Math.ceil(o/r)]),n>>=1,o>>=1;break;default:y(!1,53)}i.push([1,1]),i.reverse();for(var r=[1],a=[0],o=1,n=i.length;o<n;o++)r.push(1<<o),a.push(i[o-1][0]*i[o-1][1]+a[o-1]);r.reverse(),e=[0,-e[1],e[0],0],e=new Dt({extent:e,origin:et(e),resolutions:r}),(r=t.url)&&-1==r.indexOf("{TileGroup}")&&(r+="{TileGroup}/{z}-{x}-{y}.jpg"),r=ny(r),r=ty(r.map(function(t){return function(e){if(e){var n=e[0],o=e[1];e=-e[2]-1;var r={z:n,x:o,y:e,TileGroup:"TileGroup"+((o+e*i[n][0]+a[n])/256|0)};return t.replace(/\{(\w+?)\}/g,function(t,e){return r[e]})}}})),ly.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:rv,tileGrid:e,tileUrlFunction:r})}function rv(t,e,n,o,i){ec.call(this,t,e,n,o,i),this.a=null}function av(t,e){this.b=e,this.a=[{x:0,y:0,width:t,height:t}],this.c={},this.i=Ae(t,t),this.f=this.i.canvas}function sv(t,e,n,o){e=[e,1],0<n.width&&0<n.height&&e.push(n),0<o.width&&0<o.height&&e.push(o),t.a.splice.apply(t.a,e)}function uv(t){t=t||{},this.a=void 0!==t.initialSize?t.initialSize:256,this.i=void 0!==t.maxSize?t.maxSize:void 0!==lv?lv:2048,this.b=void 0!==t.space?t.space:1,this.f=[new av(this.a,this.b)],this.c=this.a,this.g=[new av(this.c,this.b)]}function hv(t,e,n,o,i,r,a){var s,u=e?t.g:t.f,h=0;for(s=u.length;h<s;++h){var p=u[h];if(p=p.add(n,o,i,r,a))return p;p||h!==s-1||(e?(p=Math.min(2*t.c,t.i),t.c=p):(p=Math.min(2*t.a,t.i),t.a=p),p=new av(p,t.b),u.push(p),++s)}return null}var pv,lv,cv,fv={},dv=this,yv=0;l(d,Error);var vv=function(){var t;return t="cosh"in Math?Math.cosh:function(t){return t=Math.exp(t),(t+1/t)/2}}(),gv="function"==typeof Object.assign?Object.assign:function(t,e){if(!t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),o=1,i=arguments.length;o<i;++o){var r=arguments[o];if(void 0!==r&&null!==r)for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])}return n};lt.prototype.a=function(t){for(var e=0,n=t.length,o=t[n-1][0],i=t[n-1][1],r=0;r<n;r++)var a=t[r][0],s=t[r][1],e=e+S(a-o)*(2+Math.sin(S(i))+Math.sin(S(s))),o=a,i=s;return e*this.radius*this.radius/2},lt.prototype.b=function(t,e){var n=S(t[1]),o=S(e[1]),i=(o-n)/2;return t=S(e[0]-t[0])/2,n=Math.sin(i)*Math.sin(i)+Math.sin(t)*Math.sin(t)*Math.cos(n)*Math.cos(o),2*this.radius*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))},lt.prototype.offset=function(t,e,n){var o=S(t[1]);e/=this.radius;var i=Math.asin(Math.sin(o)*Math.cos(e)+Math.cos(o)*Math.sin(e)*Math.cos(n));return[180*(S(t[0])+Math.atan2(Math.sin(n)*Math.sin(e)*Math.cos(o),Math.cos(e)-Math.sin(o)*Math.sin(i)))/Math.PI,180*i/Math.PI]};var mv=new lt(6370997),bv={};bv.degrees=2*Math.PI*mv.radius/360,bv.ft=.3048,bv.m=1,bv["us-ft"]=1200/3937;var _v=null;pv=ct.prototype,pv.Jk=function(){return this.mb},pv.G=function(){return this.f},pv.Un=function(){return this.a},pv.sc=function(){return this.l||bv[this.a]},pv.tl=function(){return this.g},pv.dm=function(){return this.c},pv.$p=function(t){this.c=t,this.i=!(!t||!this.f)},pv.Vn=function(t){this.f=t,this.i=!(!this.c||!t)},pv.kq=function(t){this.g=t},pv.Zp=function(t){this.o=t},l(ft,ct);var xv=6378137*Math.PI,wv=[-xv,-xv,xv,xv],Pv=[-180,-85,180,85],Sv="EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 urn:ogc:def:crs:EPSG::3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" ").map(function(t){return new ft(t)}),Cv=new lt(6378137);l(vt,ct);var Mv=[-180,-90,180,90],Tv=Math.PI*Cv.radius/180,Av=[new vt("CRS:84"),new vt("EPSG:4326","neu"),new vt("urn:ogc:def:crs:EPSG::4326","neu"),new vt("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new vt("urn:ogc:def:crs:OGC:1.3:CRS84"),new vt("urn:ogc:def:crs:OGC:2:84"),new vt("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new vt("urn:x-ogc:def:crs:EPSG:4326","neu")],Ev={},Iv={};kt();var Lv=[0,0,0];pv=Dt.prototype,pv.Rf=function(t,e,n){t=Xt(this,t,e);for(var o=t.ca,i=t.$;o<=i;++o)for(var r=t.da,a=t.ia;r<=a;++r)n([e,o,r])},pv.G=function(){return this.v},pv.Ti=function(){return this.maxZoom},pv.Ui=function(){return this.minZoom},pv.Pc=function(t){return this.i?this.i:this.c[t]},pv.Da=function(t){return this.b[t]},pv.Vi=function(){return this.b},pv.Aa=function(t,e){var n=this.Pc(t[0]),o=this.Da(t[0]),i=E(this.gb(t[0]),this.j),r=n[0]+t[1]*i[0]*o;return t=n[1]+t[2]*i[1]*o,K(r,t,r+i[0]*o,t+i[1]*o,e)},pv.Be=function(t,e,n){return Yt(this,t[0],t[1],e,!1,n)},pv.bg=function(t,e,n){return Yt(this,t[0],t[1],this.Da(e),!1,n)},pv.gb=function(t){return this.g?this.g:this.f[t]},pv.tc=function(t,e){return _(o(this.b,t,e||0),this.minZoom,this.maxZoom)},$t.prototype.i=function(){return this.b},he.prototype.Jb=!1,he.prototype.ka=c,le.prototype.preventDefault=le.prototype.stopPropagation=function(){this.qp=!0},l(fe,he),fe.prototype.addEventListener=function(t,e){var n=this.oa[t];n||(n=this.oa[t]=[]),-1===n.indexOf(e)&&n.push(e)},fe.prototype.b=function(t){var e="string"==typeof t?new le(t):t;t=e.type,e.target=this;var n=this.oa[t];if(n){t in this.ra||(this.ra[t]=0,this.Ua[t]=0),++this.ra[t];for(var o=0,i=n.length;o<i;++o)if(!1===n[o].call(this,e)||e.qp){var r=!1;break}if(--this.ra[t],!this.ra[t]){for(e=this.Ua[t],delete this.Ua[t];e--;)this.removeEventListener(t,c);delete this.ra[t]}return r}},fe.prototype.ka=function(){ue(this)},fe.prototype.removeEventListener=function(t,e){var n=this.oa[t];n&&(e=n.indexOf(e),t in this.Ua?(n[e]=c,++this.Ua[t]):(n.splice(e,1),n.length||delete this.oa[t]))},l(ye,fe),pv=ye.prototype,pv.s=function(){++this.i,this.b("change")},pv.L=function(){return this.i},pv.J=function(t,e,n){if(Array.isArray(t)){for(var o=t.length,i=Array(o),r=0;r<o;++r)i[r]=ie(this,t[r],e,n);return i}return ie(this,t,e,n)},pv.once=function(t,e,n){if(Array.isArray(t)){for(var o=t.length,i=Array(o),r=0;r<o;++r)i[r]=re(this,t[r],e,n);return i}return re(this,t,e,n)},pv.K=function(t,e,n){if(Array.isArray(t))for(var o=0,i=t.length;o<i;++o)ae(this,t[o],e,n);else ae(this,t,e,n)},l(ve,ye);var Nv={};pv=ve.prototype,pv.get=function(t){var e;return this.S.hasOwnProperty(t)&&(e=this.S[t]),e},pv.O=function(){return Object.keys(this.S)},pv.N=function(){return gv({},this.S)},pv.set=function(t,e,n){n?this.S[t]=e:(n=this.S[t],this.S[t]=e,n!==e&&me(this,t,n))},pv.H=function(t,e){for(var n in t)this.set(n,t[n],e)},pv.P=function(t,e){if(t in this.S){var n=this.S[t];delete this.S[t],e||me(this,t,n)}},l(be,le),l(_e,ve),pv=_e.prototype,pv.clear=function(){for(;0<this.dc();)this.pop()},pv.fg=function(t){var e,n=0;for(e=t.length;n<e;++n)this.push(t[n]);return this},pv.forEach=function(t,e){this.a.forEach(t,e)},pv.tm=function(){return this.a},pv.item=function(t){return this.a[t]},pv.dc=function(){return this.get(Ov)},pv.He=function(t,e){this.c&&we(this,e),this.a.splice(t,0,e),xe(this),this.b(new Pe("add",e))},pv.pop=function(){return this.Hg(this.dc()-1)},pv.push=function(t){this.c&&we(this,t);var e=this.dc();return this.He(e,t),this.dc()},pv.remove=function(t){var e,n=this.a,o=0;for(e=n.length;o<e;++o)if(n[o]===t)return this.Hg(o)},pv.Hg=function(t){var e=this.a[t];return this.a.splice(t,1),xe(this),this.b(new Pe("remove",e)),e},pv.Wp=function(t,e){var n=this.dc();if(t<n)this.c&&we(this,e,t),n=this.a[t],this.a[t]=e,this.b(new Pe("remove",n)),this.b(new Pe("add",e));else{for(;n<t;++n)this.He(n,void 0);this.He(t,e)}};var Ov="length";l(Pe,le);var kv=/^#(?:[0-9a-f]{3}){1,2}$/i,Rv=/^([a-z]*)$/i,Fv=function(){var t={},e=0;return function(n){if(t.hasOwnProperty(n))var o=t[n];else{if(1024<=e){o=0;for(var i in t)3&o++||(delete t[i],--e)}if(o=n,Rv.exec(o)&&(i=document.createElement("div"),i.style.color=o,document.body.appendChild(i),o=getComputedStyle(i).color,document.body.removeChild(i)),kv.exec(o)){var r=o.length-1;y(3==r||6==r,54);var a=3==r?1:2;r=parseInt(o.substr(1+0*a,a),16),i=parseInt(o.substr(1+1*a,a),16),o=parseInt(o.substr(1+2*a,a),16),1==a&&(r=(r<<4)+r,i=(i<<4)+i,o=(o<<4)+o),r=[r,i,o,1]}else o.indexOf("rgba(")?o.indexOf("rgb(")?y(!1,14):(o=o.slice(4,-1).split(",").map(Number),o.push(1),r=Me(o)):(o=o.slice(5,-1).split(",").map(Number),r=Me(o));o=r,t[n]=o,++e}return o}}();l(Le,ve),Le.prototype.ka=function(){Ie(this.element),ve.prototype.ka.call(this)},Le.prototype.g=function(){return this.a},Le.prototype.setMap=function(t){this.a&&Ie(this.element);for(var e=0,n=this.v.length;e<n;++e)se(this.v[e]);this.v.length=0,(this.a=t)&&((this.R?this.R:t.D).appendChild(this.element),this.render!==c&&this.v.push(ie(t,"postrender",this.render,this)),t.render())},Le.prototype.f=function(t){this.R="string"==typeof t?document.getElementById(t):t},l(Ne,Le),pv=Ne.prototype,pv.Vm=function(t){t.preventDefault(),ke(this)},pv.Um=function(){return this.o},pv.Xm=function(t){this.o!==t&&(this.o=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.c&&ke(this))},pv.Wm=function(t){this.o&&this.c!==t&&ke(this)},pv.Tm=function(){return this.c},l(Ke,Le),Ke.prototype.D=function(t){t.preventDefault(),this.o?this.o():(t=this.a.Z())&&void 0!==t.Qa()&&(0<this.l?t.animate({rotation:0,duration:this.l,easing:Fe}):t.Oe(0))},l(Xe,Le),Xe.prototype.j=function(t,e){if(e.preventDefault(),e=this.a.Z()){var n=e.Pa();n&&(t=e.constrainResolution(n,t),0<this.c?(e.Ic()&&e.ed(),e.animate({resolution:t,duration:this.c,easing:Fe})):e.Vc(t))}},l(Ye,Le),Ye.prototype.C=function(t){t.preventDefault(),Ge()&&(t=this.a)&&(We()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(t=this.j?"string"==typeof this.j?document.getElementById(this.j):this.j:t.jd(),this.D?t.mozRequestFullScreenWithKeys?t.mozRequestFullScreenWithKeys():t.webkitRequestFullscreen?t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):ze(t):ze(t)))},Ye.prototype.u=function(){var t=this.element.firstElementChild,e=this.a;We()?(t.className=this.c+"-true",Ee(this.l,this.o)):(t.className=this.c+"-false",Ee(this.o,this.l)),e&&e.Ad()},Ye.prototype.setMap=function(t){Le.prototype.setMap.call(this,t),t&&this.v.push(ie(document,Dv(),this.u,this))};var Dv=function(){var t;return function(){if(!t){var e=document.body;e.webkitRequestFullscreen?t="webkitfullscreenchange":e.mozRequestFullScreen?t="mozfullscreenchange":e.msRequestFullscreen?t="MSFullscreenChange":e.requestFullscreen&&(t="fullscreenchange")}return t}}();l(He,Le),pv=He.prototype,pv.Ym=function(){this.j=null},pv.xh=function(){return this.get(Kv)},pv.Zh=function(){return this.get(jv)},pv.Ll=function(t){this.o=this.a.xe(t),Ve(this,this.o)},pv.Ml=function(){Ve(this,null),this.o=null},pv.setMap=function(t){Le.prototype.setMap.call(this,t),t&&(t=t.a,this.v.push(ie(t,"mousemove",this.Ll,this),ie(t,"mouseout",this.Ml,this)))},pv.kj=function(t){this.set(Kv,t)},pv.$h=function(t){this.set(jv,Mt(t))};var jv="projection",Kv="coordinateFormat";l($e,le),l(Ze,$e),Ze.prototype.preventDefault=function(){$e.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},Ze.prototype.stopPropagation=function(){$e.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()};var Bv,Xv,Uv=["experimental-webgl","webgl","webkit-3d","moz-webgl"],Yv="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",Gv=-1!==Yv.indexOf("firefox"),Wv=-1!==Yv.indexOf("safari")&&-1==Yv.indexOf("chrom"),zv=-1!==Yv.indexOf("webkit")&&-1==Yv.indexOf("edge"),Hv=-1!==Yv.indexOf("macintosh"),qv=window.devicePixelRatio||1,Vv=!1,$v=function(){if(!("HTMLCanvasElement"in window))return!1;try{var t=document.createElement("CANVAS").getContext("2d");return!!t&&(void 0!==t.setLineDash&&(Vv=!0),!0)}catch(t){return!1}}(),Zv="DeviceOrientationEvent"in window,Jv="geolocation"in navigator,Qv="ontouchstart"in window,tg="PointerEvent"in window,eg=!!navigator.msPointerEnabled,ng=!1,og=[];if("WebGLRenderingContext"in window)try{var ig=Je(document.createElement("CANVAS"),{failIfMajorPerformanceCaveat:!0});ig&&(ng=!0,Xv=ig.getParameter(ig.MAX_TEXTURE_SIZE),og=ig.getSupportedExtensions())}catch(t){}Bv=ng,cv=og,lv=Xv;var rg={Iq:"singleclick",xq:"click",yq:"dblclick",Bq:"pointerdrag",Eq:"pointermove",Aq:"pointerdown",Hq:"pointerup",Gq:"pointerover",Fq:"pointerout",Cq:"pointerenter",Dq:"pointerleave",zq:"pointercancel"};l(Qe,Ze),l(en,tn),pv=en.prototype,pv.fm=function(t){if(!nn(this,t)){1..toString()in this.a&&this.cancel(t);var e=on(t);this.a[1..toString()]=t,Pn(this.b,"pointerdown",e,t)}},pv.gm=function(t){if(!nn(this,t)){var e=on(t);Pn(this.b,"pointermove",e,t)}},pv.jm=function(t){if(!nn(this,t)){var e=this.a[1..toString()];e&&e.button===t.button&&(e=on(t),Pn(this.b,"pointerup",e,t),delete this.a[1..toString()])}},pv.im=function(t){if(!nn(this,t)){var e=on(t);wn(this.b,e,t)}},pv.hm=function(t){if(!nn(this,t)){var e=on(t);xn(this.b,e,t)}},pv.cancel=function(t){var e=on(t);this.b.cancel(e,t),delete this.a[1..toString()]},l(rn,tn),pv=rn.prototype,pv.om=function(t){this.a[t.pointerId.toString()]=t;var e=an(this,t);Pn(this.b,"pointerdown",e,t)},pv.pm=function(t){var e=an(this,t);Pn(this.b,"pointermove",e,t)},pv.sm=function(t){var e=an(this,t);Pn(this.b,"pointerup",e,t),delete this.a[t.pointerId.toString()]},pv.qm=function(t){var e=an(this,t);xn(this.b,e,t)},pv.rm=function(t){var e=an(this,t);wn(this.b,e,t)},pv.nm=function(t){var e=an(this,t);this.b.cancel(e,t),delete this.a[t.pointerId.toString()]},pv.mm=function(t){this.b.b(new un("lostpointercapture",t,t))},pv.lm=function(t){this.b.b(new un("gotpointercapture",t,t))},l(sn,tn),pv=sn.prototype,pv.ip=function(t){Sn(this.b,t)},pv.jp=function(t){Sn(this.b,t)},pv.mp=function(t){Sn(this.b,t)},pv.kp=function(t){Sn(this.b,t)},pv.lp=function(t){Sn(this.b,t)},pv.hp=function(t){Sn(this.b,t)},pv.em=function(t){Sn(this.b,t)},pv.ul=function(t){Sn(this.b,t)},l(un,le);var ag=!1;try{ag=1===new MouseEvent("click",{buttons:1}).buttons}catch(t){}l(ln,tn),pv=ln.prototype,pv.ij=function(){this.g=0,this.c=void 0},pv.rq=function(t){var e=t.touches,n=Object.keys(this.a),o=n.length;if(o>=e.length){var i,r=[];for(i=0;i<o;++i){var a,s=n[i],u=this.a[s];if(!(a=1==s))t:{for(var h=e.length,p=0;p<h;p++)if(a=e[p],a.identifier===s-2){a=!0;break t}a=!1}a||r.push(u.out)}for(i=0;i<r.length;++i)this.Kf(t,r[i])}e=t.changedTouches[0],n=Object.keys(this.a).length,(!n||1===n&&1..toString()in this.a)&&(this.i=e.identifier,void 0!==this.c&&clearTimeout(this.c)),dn(this,t),this.g++,fn(this,t,this.cp)},pv.cp=function(t,e){this.a[e.pointerId]={target:e.target,out:e,Wi:e.target};var n=this.b;e.bubbles=!0,Pn(n,"pointerover",e,t),n=this.b,e.bubbles=!1,Pn(n,"pointerenter",e,t),Pn(this.b,"pointerdown",e,t)},pv.qq=function(t){t.preventDefault(),fn(this,t,this.km)},pv.km=function(t,e){var n=this.a[e.pointerId];if(n){var o=n.out,i=n.Wi;Pn(this.b,"pointermove",e,t),o&&i!==e.target&&(o.relatedTarget=e.target,e.relatedTarget=i,o.target=i,e.target?(xn(this.b,o,t),wn(this.b,e,t)):(e.target=i,e.relatedTarget=null,this.Kf(t,e))),n.out=e,n.Wi=e.target}},pv.pq=function(t){dn(this,t),fn(this,t,this.sq)},pv.sq=function(t,e){Pn(this.b,"pointerup",e,t),this.b.out(e,t),_n(this.b,e,t),delete this.a[e.pointerId],e.isPrimary&&(this.i=void 0,this.c=setTimeout(this.ij.bind(this),200))},pv.oq=function(t){fn(this,t,this.Kf)},pv.Kf=function(t,e){this.b.cancel(e,t),this.b.out(e,t),_n(this.b,e,t),delete this.a[e.pointerId],e.isPrimary&&(this.i=void 0,this.c=setTimeout(this.ij.bind(this),200))},l(yn,fe),yn.prototype.c=function(t){var e=this.f[t.type];e&&e(t)},yn.prototype.out=function(t,e){t.bubbles=!0,Pn(this,"pointerout",t,e)},yn.prototype.cancel=function(t,e){Pn(this,"pointercancel",t,e)},yn.prototype.ka=function(){for(var t,e=this.a.length,n=0;n<e;n++)t=this.a[n],mn(this,Object.keys(t.f));fe.prototype.ka.call(this)};var sg=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];l(Cn,fe),pv=Cn.prototype,pv.Jh=function(t){Tn(this,t);var e=new Qe("pointerup",this.i,t);this.b(e),this.o||t.button||Mn(this,this.c),this.S||(this.f.forEach(se),this.f.length=0,this.o=!1,this.c=null,pe(this.a),this.a=null)},pv.Ol=function(t){Tn(this,t);var e=new Qe("pointerdown",this.i,t);this.b(e),this.c=t,this.f.length||(this.a=new yn(document),this.f.push(ie(this.a,"pointermove",this.Hm,this),ie(this.a,"pointerup",this.Jh,this),ie(this.g,"pointercancel",this.Jh,this)))},pv.Hm=function(t){if(An(this,t)){this.o=!0;var e=new Qe("pointerdrag",this.i,t,this.o);this.b(e)}t.preventDefault()},pv.Lp=function(t){this.b(new Qe(t.type,this.i,t,!(!this.c||!An(this,t))))},pv.ka=function(){this.v&&(se(this.v),this.v=null),this.l&&(se(this.l),this.l=null),this.f.forEach(se),this.f.length=0,this.a&&(pe(this.a),this.a=null),this.g&&(pe(this.g),this.g=null),fe.prototype.ka.call(this)},En.prototype.clear=function(){this.b.length=0,this.i.length=0,ut(this.a)},En.prototype.f=function(t){y(!(this.c(t)in this.a),31);var e=this.l(t);return 1/0!=e&&(this.b.push(t),this.i.push(e),this.a[this.c(t)]=!0,Nn(this,0,this.b.length-1),!0)},l(kn,En),kn.prototype.f=function(t){var e=En.prototype.f.call(this,t);return e&&ie(t[0],"change",this.o,this),e},kn.prototype.o=function(t){t=t.target;var e=t.getState();2!==e&&3!==e&&4!==e&&5!==e||(ae(t,"change",this.o,this),t=t.bb(),t in this.g&&(delete this.g[t],--this.j),this.v())},l(io,ve),pv=io.prototype,pv.Ab=function(t,e){return e=e?e:[NaN,NaN],this.Kb(t[0],t[1],e,1/0),e},pv.sb=function(t){return this.Mc(t[0],t[1])},pv.Mc=oo,pv.G=function(t){this.v!=this.i&&(this.l=this.se(this.l),this.v=this.i);var e=this.l;return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):t=e,t},pv.Rb=function(t){return this.Vd(t*t)},pv.tb=function(t,e){return this.Dc(At(t,e)),this},l(so,io),pv=so.prototype,pv.Mc=oo,pv.se=function(t){return U(this.A,0,this.A.length,this.a,t)},pv.ac=function(){return this.A.slice(0,this.a)},pv.ga=function(){return this.A},pv.bc=function(){return this.A.slice(this.A.length-this.a)},pv.cc=function(){return this.ja},pv.Vd=function(t){if(this.o!=this.i&&(ut(this.f),this.g=0,this.o=this.i),0>t||this.g&&t<=this.g)return this;var e=t.toString();if(this.f.hasOwnProperty(e))return this.f[e];var n=this.hd(t);return n.ga().length<this.A.length?this.f[e]=n:(this.g=t,this)},pv.hd=function(){return this},pv.qa=function(){return this.a},pv.Dc=function(t){this.A&&(t(this.A,this.A,this.a),this.s())},pv.rotate=function(t,e){var n=this.ga();if(n){var o=n.length,i=this.qa(),r=n?n:[],a=Math.cos(t);t=Math.sin(t);var s=e[0];e=e[1];for(var u=0,h=0;h<o;h+=i){var p=n[h]-s,l=n[h+1]-e;for(r[u++]=s+p*a-l*t,r[u++]=e+p*t+l*a,p=h+2;p<h+i;++p)r[u++]=n[p]}n&&r.length!=u&&(r.length=u),this.s()}},pv.scale=function(t,e,n){var o=e;void 0===o&&(o=t);var i=n;if(i||(i=Z(this.G())),n=this.ga()){e=n.length;for(var r=this.qa(),a=n?n:[],s=i[0],i=i[1],u=0,h=0;h<e;h+=r){var p=n[h]-s,l=n[h+1]-i;for(a[u++]=s+t*p,a[u++]=i+o*l,p=h+2;p<h+r;++p)a[u++]=n[p]}n&&a.length!=u&&(a.length=u),this.s()}},pv.translate=function(t,e){var n=this.ga();n&&(ao(n,0,n.length,this.qa(),t,e,n),this.s())},l(Mo,so),pv=Mo.prototype,pv.clone=function(){var t=new Mo(null);return To(t,this.ja,this.A.slice()),t},pv.Kb=function(t,e,n,o){return o<O(this.G(),t,e)?o:(this.c!=this.i&&(this.j=Math.sqrt(yo(this.A,0,this.A.length,this.a,0)),this.c=this.i),go(this.A,0,this.A.length,this.a,this.j,!0,t,e,n,o))},pv.qn=function(){return lo(this.A,0,this.A.length,this.a)},pv.X=function(){return wo(this.A,0,this.A.length,this.a)},pv.hd=function(t){var e=[];return e.length=So(this.A,0,this.A.length,this.a,t,e,0),t=new Mo(null),To(t,"XY",e),t},pv.U=function(){return"LinearRing"},pv.Xa=function(){},pv.ma=function(t,e){t?(po(this,e,t,1),this.A||(this.A=[]),this.A.length=_o(this.A,0,t,this.a),this.s()):To(this,"XY",null)},l(Ao,so),pv=Ao.prototype,pv.clone=function(){var t=new Ao(null);return t.ba(this.ja,this.A.slice()),t},pv.Kb=function(t,e,n,o){var i=this.A;if(t=P(t,e,i[0],i[1]),t<o){for(o=this.a,e=0;e<o;++e)n[e]=i[e];return n.length=o,t}return o},pv.X=function(){return this.A?this.A.slice():[]},pv.se=function(t){return X(this.A,t)},pv.U=function(){return"Point"},pv.Xa=function(t){return F(t,this.A[0],this.A[1])},pv.ma=function(t,e){t?(po(this,e,t,0),this.A||(this.A=[]),this.A.length=bo(this.A,t),this.s()):this.ba("XY",null)},pv.ba=function(t,e){ho(this,t,e),this.s()},l(Bo,so),pv=Bo.prototype,pv.pk=function(t){this.A?i(this.A,t.ga()):this.A=t.ga().slice(),this.c.push(this.A.length),this.s()},pv.clone=function(){var t=new Bo(null);return t.ba(this.ja,this.A.slice(),this.c.slice()),t},pv.Kb=function(t,e,n,o){return o<O(this.G(),t,e)?o:(this.C!=this.i&&(this.B=Math.sqrt(vo(this.A,0,this.c,this.a,0)),this.C=this.i),mo(this.A,0,this.c,this.a,this.B,!0,t,e,n,o))},pv.Mc=function(t,e){return Lo(this.ec(),0,this.c,this.a,t,e)},pv.tn=function(){return co(this.ec(),0,this.c,this.a)},pv.X=function(t){if(void 0!==t){var e=this.ec().slice();jo(e,0,this.c,this.a,t)}else e=this.A;return Po(e,0,this.c,this.a)},pv.Bb=function(){return this.c},pv.Tk=function(){return new Ao(Xo(this))},pv.Zk=function(){return this.c.length},pv.Ch=function(t){if(0>t||this.c.length<=t)return null;var e=new Mo(null);return To(e,this.ja,this.A.slice(t?this.c[t-1]:0,this.c[t])),e},pv.Sd=function(){var t,e=this.ja,n=this.A,o=this.c,i=[],r=0,a=0;for(t=o.length;a<t;++a){var s=o[a],u=new Mo(null);To(u,e,n.slice(r,s)),i.push(u),r=s}return i},pv.ec=function(){if(this.I!=this.i){var t=this.A;Do(t,this.c,this.a)?this.j=t:(this.j=t.slice(),this.j.length=jo(this.j,0,this.c,this.a)),this.I=this.i}return this.j},pv.hd=function(t){var e=[],n=[];return e.length=Co(this.A,0,this.c,this.a,Math.sqrt(t),e,0,n),t=new Bo(null),t.ba("XY",e,n),t},pv.U=function(){return"Polygon"},pv.Xa=function(t){return Ro(this.ec(),0,this.c,this.a,t)},pv.ma=function(t,e){t?(po(this,e,t,2),this.A||(this.A=[]),t=xo(this.A,0,t,this.a,this.c),this.A.length=t.length?t[t.length-1]:0,this.s()):this.ba("XY",null,this.c)},pv.ba=function(t,e,n){ho(this,t,e),this.c=n,this.s()},l(zo,ve),pv=zo.prototype,pv.animate=function(t){var e=Date.now(),n=this.wa().slice(),o=this.Pa(),i=this.Qa(),r=arguments.length;if(1<r&&"function"==typeof arguments[r-1]){var a=arguments[r-1];--r}for(var s=[],u=0;u<r;++u){var h=arguments[u],p={start:e,complete:!1,anchor:h.anchor,duration:void 0!==h.duration?h.duration:1e3,easing:h.easing||De};h.center&&(p.Rg=n,p.Tg=h.center,n=p.Tg),void 0!==h.zoom?(p.tf=o,p.zd=this.constrainResolution(this.a,h.zoom-this.l,0),o=p.zd):h.resolution&&(p.tf=o,p.zd=h.resolution,o=p.zd),void 0!==h.rotation&&(p.Sg=i,p.uf=h.rotation,i=p.uf),p.callback=a,e+=p.duration,s.push(p)}this.c.push(s),ni(this,0,1),this.wf()},pv.Ic=function(){return 0<Jo(this)[0]},pv.Rk=function(){return 0<Jo(this)[1]},pv.ed=function(){ni(this,0,-Jo(this)[0]);for(var t=0,e=this.c.length;t<e;++t){var n=this.c[t];n[0].callback&&n[0].callback(!1)}this.c.length=0},pv.wf=function(){if(void 0!==this.u&&(cancelAnimationFrame(this.u),this.u=void 0),this.Ic()){for(var t=Date.now(),e=!1,n=this.c.length-1;0<=n;--n){for(var o=this.c[n],i=!0,r=0,a=o.length;r<a;++r){var s=o[r];if(!s.complete){if(e=t-s.start,e=0<s.duration?e/s.duration:1,1<=e?(s.complete=!0,e=1):i=!1,e=s.easing(e),s.Rg){var u=s.Rg[0],h=s.Rg[1];this.set("center",[u+e*(s.Tg[0]-u),h+e*(s.Tg[1]-h)])}if(s.tf&&s.zd&&(u=1===e?s.zd:s.tf+e*(s.zd-s.tf),s.anchor&&this.set("center",$o(this,u,s.anchor)),this.set("resolution",u)),void 0!==s.Sg&&void 0!==s.uf&&(e=1===e?s.uf:s.Sg+e*(s.uf-s.Sg),s.anchor&&this.set("center",Vo(this,e,s.anchor)),this.set("rotation",e)),e=!0,!s.complete)break}}i&&(this.c[n]=null,ni(this,0,-1),(o=o[0].callback)&&o(!0))}this.c=this.c.filter(Boolean),e&&void 0===this.u&&(this.u=requestAnimationFrame(this.wf))}},pv.Ec=function(t){return this.g.center(t)},pv.constrainResolution=function(t,e,n){return this.g.resolution(t,e||0,n||0)},pv.constrainRotation=function(t,e){return this.g.rotation(t,e||0)},pv.wa=function(){return this.get("center")},pv.dd=function(t){t=t||Zo(this);var e=this.wa();
y(e,1);var n=this.Pa();y(void 0!==n,2);var o=this.Qa();return y(void 0!==o,3),J(e,n,o,t)},pv.Nm=function(){return this.a},pv.Pm=function(){return this.f},pv.Om=function(){return this.Ce(this.f)},pv.eq=function(t){Ho(this,qo(this,{maxZoom:t}))},pv.Qm=function(){return this.Ce(this.a)},pv.fq=function(t){Ho(this,qo(this,{minZoom:t}))},pv.Rm=function(){return this.v},pv.Pa=function(){return this.get("resolution")},pv.Sm=function(){return this.j},pv.ze=function(t,e){return e=e||Zo(this),Math.max(ot(t)/e[0],Q(t)/e[1])},pv.Qa=function(){return this.get("rotation")},pv.getState=function(){var t=this.wa(),e=this.v,n=this.Pa(),o=this.Qa();return{center:t.slice(),projection:void 0!==e?e:null,resolution:n,rotation:o}},pv.Hh=function(){var t,e=this.Pa();return void 0!==e&&(t=this.Ce(e)),t},pv.Ce=function(t){if(t>=this.f&&t<=this.a){var e=this.l||0;if(this.j){var n=o(this.j,t,1);if(e+=n,n==this.j.length-1)return e;var i=this.j[n];n=i/this.j[n+1]}else i=this.a,n=this.C;e+=Math.log(i/t)/Math.log(n)}return e},pv.Qf=function(t,e){e=e||{};var n=e.size;if(n||(n=Zo(this)),t instanceof so)if("Circle"===t.U()){t=t.G();var o=Yo(t);o.rotate(this.Qa(),Z(t))}else o=t;else y(Array.isArray(t),24),y(!rt(t),25),o=Yo(t);var i,r=e.padding?e.padding:[0,0,0,0],a=void 0===e.constrainResolution||e.constrainResolution,s=void 0!==e.nearest&&e.nearest;i=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.constrainResolution(this.a,e.maxZoom-this.l,0):0;var u=o.ga(),h=this.Qa();t=Math.cos(-h);var h=Math.sin(-h),p=1/0,l=1/0,f=-(1/0),d=-(1/0);o=o.qa();for(var v=0,g=u.length;v<g;v+=o)var m=u[v]*t-u[v+1]*h,b=u[v]*h+u[v+1]*t,p=Math.min(p,m),l=Math.min(l,b),f=Math.max(f,m),d=Math.max(d,b);n=this.ze([p,l,f,d],[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]),n=isNaN(n)?i:Math.max(n,i),a&&(i=this.constrainResolution(n,0,0),!s&&i<n&&(i=this.constrainResolution(i,-1,0)),n=i),h=-h,i=(p+f)/2+(r[1]-r[3])/2*n,r=(l+d)/2+(r[0]-r[2])/2*n,t=[i*t-r*h,r*t+i*h],r=e.callback?e.callback:c,void 0!==e.duration?this.animate({resolution:n,center:t,duration:e.duration,easing:e.easing},r):(this.Vc(n),this.ob(t),setTimeout(r.bind(void 0,!0),0))},pv.uk=function(t,e,n){var o=this.Qa(),i=Math.cos(-o),o=Math.sin(-o),r=t[0]*i-t[1]*o;t=t[1]*i+t[0]*o;var a=this.Pa(),r=r+(e[0]/2-n[0])*a;t+=(n[1]-e[1]/2)*a,o=-o,this.ob([r*i-t*o,t*i+r*o])},pv.rotate=function(t,e){void 0!==e&&(e=Vo(this,t,e),this.ob(e)),this.Oe(t)},pv.ob=function(t){this.set("center",t),this.Ic()&&this.ed()},pv.Vc=function(t){this.set("resolution",t),this.Ic()&&this.ed()},pv.Oe=function(t){this.set("rotation",t),this.Ic()&&this.ed()},pv.lq=function(t){t=this.constrainResolution(this.a,t-this.l,0),this.Vc(t)},l(ai,ve),ai.prototype.c=function(){return this.get("active")},ai.prototype.f=function(){return this.v},ai.prototype.Ha=function(t){this.set("active",t)},ai.prototype.setMap=function(t){this.v=t},l(pi,ai),l(xi,ai),xi.prototype.Xc=function(t){return t},l(Si,xi),Si.prototype.Xc=oo,l(Ai,xi),Ai.prototype.Xc=oo,l(Ni,he),Ni.prototype.ka=function(){this.setMap(null)},Ni.prototype.setMap=function(t){if(this.b){this.b.C.removeChild(this.a);var e=this.a.style;e.left=e.top=e.width=e.height="inherit"}(this.b=t)&&this.b.C.appendChild(this.a)},Ni.prototype.V=function(){return this.Gc},l(Ri,xi),Ri.prototype.V=function(){return this.a.V()},Ri.prototype.j=c;var ug="boxstart",hg="boxdrag",pg="boxend";l(Bi,le),l(Xi,Ri),Xi.prototype.j=function(){var t=this.v,e=t.Z(),n=t.Ob(),o=this.V().G();if(this.I){var i,r=e.dd(n),o=[t.Ja(V(o)),t.Ja(nt(o))],t=B(void 0),a=0;for(i=o.length;a<i;++a)W(t,o[a]);o=e.ze(t,n),at(r,1/o),o=r}n=e.constrainResolution(e.ze(o,n)),r=Z(o),r=e.Ec(r),e.animate({resolution:n,center:r,duration:this.B,easing:Fe})},l(Ui,ai),l(Gi,ai),l(zi,ai),zi.prototype.B=function(){this.l=void 0,ni(this.v.Z(),1,-1)},zi.prototype.I=function(t){t=t.Z(),t.Ic()&&t.ed(),ui(t,-_(this.j,-1,1),this.a,this.D),this.o=void 0,this.j=0,this.a=null,this.u=this.g=void 0},zi.prototype.T=function(t){this.C=t,t||(this.a=null)};var lg="trackpad",cg="wheel";l(qi,xi),qi.prototype.Xc=oo,l(Ji,xi),Ji.prototype.Xc=oo,l(or,ve),pv=or.prototype,pv.G=function(){return this.get("extent")},pv.fc=function(){return this.get("maxResolution")},pv.gc=function(){return this.get("minResolution")},pv.hc=function(){return this.get("opacity")},pv.Mb=function(){return this.get("visible")},pv.Ba=function(){return this.get("zIndex")},pv.vc=function(t){this.set("extent",t)},pv.Ac=function(t){this.set("maxResolution",t)},pv.Bc=function(t){this.set("minResolution",t)},pv.wc=function(t){this.set("opacity",t)},pv.xc=function(t){this.set("visible",t)},pv.Vb=function(t){this.set("zIndex",t)},l(rr,or),pv=rr.prototype,pv.Fd=function(){},pv.Fe=function(){this.Mb()&&this.s()},pv.Hl=function(){this.f.forEach(se),this.f.length=0;var t=this.qd();this.f.push(ie(t,"add",this.Gl,this),ie(t,"remove",this.Il,this));for(var e in this.c)this.c[e].forEach(se);ut(this.c);var n,t=t.a;for(e=0,n=t.length;e<n;e++){var o=t[e];this.c[f(o).toString()]=[ie(o,"propertychange",this.Fe,this),ie(o,"change",this.Fe,this)]}this.s()},pv.Gl=function(t){t=t.element;var e=f(t).toString();this.c[e]=[ie(t,"propertychange",this.Fe,this),ie(t,"change",this.Fe,this)],this.s()},pv.Il=function(t){t=f(t.element).toString(),this.c[t].forEach(se),delete this.c[t],this.s()},pv.qd=function(){return this.get(fg)},pv.xi=function(t){this.set(fg,t)},pv.Yf=function(t){var e=void 0!==t?t:[],n=e.length;this.qd().forEach(function(t){t.Yf(e)}),t=ir(this);var o;for(o=e.length;n<o;n++){var i=e[n];i.opacity*=t.opacity,i.visible=i.visible&&t.visible,i.maxResolution=Math.min(i.maxResolution,t.maxResolution),i.minResolution=Math.max(i.minResolution,t.minResolution),void 0!==t.extent&&(i.extent=void 0!==i.extent?tt(i.extent,t.extent):t.extent)}return e},pv.$f=function(){return"ready"};var fg="layers";l(ar,or),pv=ar.prototype,pv.Yf=function(t){return t=t?t:[],t.push(ir(this)),t},pv.ha=function(){return this.get("source")||null},pv.$f=function(){var t=this.ha();return t?t.getState():"undefined"},pv.Tn=function(){this.s()},pv.Ul=function(){this.v&&(se(this.v),this.v=null);var t=this.ha();t&&(this.v=ie(t,"change",this.Tn,this)),this.s()},pv.setMap=function(t){this.o&&(se(this.o),this.o=null),t||this.s(),this.l&&(se(this.l),this.l=null),t&&(this.o=ie(t,"precompose",function(t){var e=ir(this);e.Je=!1,e.zIndex=1/0,t.frameState.layerStatesArray.push(e),t.frameState.layerStates[f(this)]=e},this),this.l=ie(this,"change",t.render,t),this.s())},pv.Wc=function(t){this.set("source",t)},ur.prototype.clear=function(){this.b={},this.a=0},ur.prototype.get=function(t,e,n){return t=e+":"+t+":"+(n?Ce(n):"null"),t in this.b?this.b[t]:null},ur.prototype.set=function(t,e,n,o){this.b[e+":"+t+":"+(n?Ce(n):"null")]=o,++this.a};var dg=new ur,yg=Array(6);l(_r,he),pv=_r.prototype,pv.ka=function(){for(var t in this.c)pe(this.c[t])},pv.Ea=function(t,e,n,o,i,r,a){function s(t,n){var r=f(t).toString(),a=e.layerStates[f(n)].Je;if(!(r in e.skippedFeatureUids)||a)return o.call(i,t,a?n:null)}var u,h=e.viewState,p=h.resolution,l=h.projection,h=t;if(l.i){var l=l.G(),c=ot(l),d=t[0];(d<l[0]||d>l[2])&&(h=[d+c*Math.ceil((l[0]-d)/c),t[1]])}for(l=e.layerStatesArray,c=l.length-1;0<=c;--c){var y=l[c],d=y.layer;if(sr(y,p)&&r.call(a,d)&&(y=Pr(this,d),d.ha()&&(u=y.Ea(d.ha().u?h:t,e,n,s,i)),u))return u}},pv.Ei=function(t,e,n,o,i){return void 0!==this.Ea(t,e,n,no,this,o,i)},pv.Fl=function(){this.o.render()},pv.Jg=c,pv.Rp=function(t,e){for(var n in this.c)if(!(e&&n in e.layerStates)){t=n;var o=this.c[t];delete this.c[t],se(this.v[t]),delete this.v[t],pe(o)}},l(Mr,le);var vg=[0,0,0,1],gg=[],mg=[0,0,0,1];pv=Ar.prototype,pv.zb=function(){},pv.rd=function(){},pv.Zb=function(){},pv.te=function(){},pv.ue=function(){},pv.mc=function(){},pv.nc=function(){},pv.oc=function(){},pv.pc=function(){},pv.qc=function(){},pv.rc=function(){},pv.yc=function(){},pv.Ma=function(){},pv.Ub=function(){},pv.Cb=function(){},l(Er,Ar),pv=Er.prototype,pv.Zb=function(t){if(it(this.c,t.G())){if(this.a||this.b){this.a&&kr(this,this.a),this.b&&Rr(this,this.b);var e=this.S,n=this.v,o=t.ga();e=o?ro(o,0,o.length,t.qa(),e,n):null,n=e[2]-e[0],o=e[3]-e[1],n=Math.sqrt(n*n+o*o),o=this.i,o.beginPath(),o.arc(e[0],e[1],n,0,2*Math.PI),this.a&&o.fill(),this.b&&o.stroke()}""!==this.Ia&&Lr(this,t.wa(),2,2)}},pv.rd=function(t){this.Ma(t.Fa(),t.Ga()),this.Ub(t.Y()),this.Cb(t.Na())},pv.zb=function(t){switch(t.U()){case"Point":this.qc(t);break;case"LineString":this.mc(t);break;case"Polygon":this.rc(t);break;case"MultiPoint":this.oc(t);break;case"MultiLineString":this.nc(t);break;case"MultiPolygon":this.pc(t);break;case"GeometryCollection":this.ue(t);break;case"Circle":this.Zb(t)}},pv.te=function(t,e){(t=(0,e.Za)(t))&&it(this.c,t.G())&&(this.rd(e),this.zb(t))},pv.ue=function(t){t=t.a;var e,n=0;for(e=t.length;n<e;++n)this.zb(t[n])},pv.qc=function(t){var e=t.ga();t=t.qa(),this.M&&Ir(this,e,e.length),""!==this.Ia&&Lr(this,e,e.length,t)},pv.oc=function(t){var e=t.ga();t=t.qa(),this.M&&Ir(this,e,e.length),""!==this.Ia&&Lr(this,e,e.length,t)},pv.mc=function(t){if(it(this.c,t.G())){if(this.b){Rr(this,this.b);var e=this.i,n=t.ga();e.beginPath(),Nr(this,n,0,n.length,t.qa(),!1),e.stroke()}""!==this.Ia&&(t=Tu(t),Lr(this,t,2,2))}},pv.nc=function(t){var e=t.G();if(it(this.c,e)){if(this.b){Rr(this,this.b);var e=this.i,n=t.ga(),o=0,i=t.Bb(),r=t.qa();e.beginPath();var a,s=0;for(a=i.length;s<a;++s)o=Nr(this,n,o,i[s],r,!1);e.stroke()}""!==this.Ia&&(t=Eu(t),Lr(this,t,t.length,2))}},pv.rc=function(t){if(it(this.c,t.G())){if(this.b||this.a){this.a&&kr(this,this.a),this.b&&Rr(this,this.b);var e=this.i;e.beginPath(),Or(this,t.ec(),0,t.Bb(),t.qa()),this.a&&e.fill(),this.b&&e.stroke()}""!==this.Ia&&(t=Xo(t),Lr(this,t,2,2))}},pv.pc=function(t){if(it(this.c,t.G())){if(this.b||this.a){this.a&&kr(this,this.a),this.b&&Rr(this,this.b);var e,n=this.i,o=ku(t),i=0,r=t.c,a=t.qa();n.beginPath();var s=0;for(e=r.length;s<e;++s)i=Or(this,o,i,r[s],a);this.a&&n.fill(),this.b&&n.stroke()}""!==this.Ia&&(t=Ou(t),Lr(this,t,t.length,2))}},pv.Ma=function(t,e){if(t?(t=t.b,this.a={fillStyle:Te(t?t:vg)}):this.a=null,e){t=e.a;var n=e.f,o=e.i,i=e.g,r=e.j,a=e.c;e=e.o,this.b={lineCap:void 0!==n?n:"round",lineDash:o?o:gg,lineDashOffset:i?i:0,lineJoin:void 0!==r?r:"round",lineWidth:this.u*(void 0!==a?a:1),miterLimit:void 0!==e?e:10,strokeStyle:Te(t?t:mg)}}else this.b=null},pv.Ub=function(t){if(t){var e=t.Hc(),n=t.Y(1),o=t.Oc(),i=t.ic();this.D=e[0],this.C=e[1],this.B=i[1],this.M=n,this.l=t.f,this.T=o[0],this.na=o[1],this.fa=t.l,this.fb=t.g,this.f=t.a,this.pa=t.v,this.oa=i[0]}else this.M=null},pv.Cb=function(t){if(t){var e=t.Fa();e?(e=e.b,this.g={fillStyle:Te(e?e:vg)}):this.g=null;var n=t.Ga();if(n){var e=n.a,o=n.f,i=n.i,r=n.g,a=n.j,s=n.c,n=n.o;this.o={lineCap:void 0!==o?o:"round",lineDash:i?i:gg,lineDashOffset:r?r:0,lineJoin:void 0!==a?a:"round",lineWidth:void 0!==s?s:1,miterLimit:void 0!==n?n:10,strokeStyle:Te(e?e:mg)}}else this.o=null;var e=t.a,o=t.i,i=t.c,r=t.o,a=t.f,s=t.b,n=t.Na(),u=t.g;t=t.j,this.ra={font:void 0!==e?e:"10px sans-serif",textAlign:void 0!==u?u:"center",textBaseline:void 0!==t?t:"middle"},this.Ia=void 0!==n?n:"",this.Jb=void 0!==o?this.u*o:0,this.va=void 0!==i?this.u*i:0,this.Sa=void 0!==r&&r,this.$a=void 0!==a?a:0,this.j=this.u*(void 0!==s?s:1)}else this.Ia=""},l(Fr,_r),Fr.prototype.U=function(){return"canvas"},Fr.prototype.Jg=function(t){if(t){var e=this.i,n=t.pixelRatio,o=Math.round(t.size[0]*n),i=Math.round(t.size[1]*n);this.b.width!=o||this.b.height!=i?(this.b.width=o,this.b.height=i):e.clearRect(0,0,o,i),n=t.viewState.rotation,xr(t),Dr(this,"precompose",t);var r=t.layerStatesArray;u(r),n&&(e.save(),Tr(e,n,o/2,i/2));var a,o=t.viewState.resolution,i=0;for(a=r.length;i<a;++i){var s=r[i],h=s.layer;h=Pr(this,h),sr(s,o)&&"ready"==s.yj&&h.sd(t,s)&&h.S(t,s,e)}n&&e.restore(),Dr(this,"postcompose",t),this.a||(this.b.style.display="",this.a=!0),Sr(this,t),t.postRenderFunctions.push(wr)}else this.a&&(this.b.style.display="none",this.a=!1)},Fr.prototype.Di=function(t,e,n,o,i,r){var a=e.viewState.resolution,s=e.layerStatesArray,u=s.length;for(t=dr(e.pixelToCoordinateTransform,t.slice()),--u;0<=u;--u){var h=s[u],p=h.layer;if(sr(h,a)&&i.call(r,p)&&(h=Pr(this,p).u(t,e,n,o)))return h}};var bg=["Polygon","Circle","LineString","Image","Text"];l(Br,Kr),Br.prototype.U=function(){return 35632},l(Xr,Kr),Xr.prototype.U=function(){return 35633},l(Ur,Br);var _g=new Ur;l(Yr,Xr);var xg=new Yr;l(Hr,Ar),Hr.prototype.La=function(t,e,n,o,i,r,a,s,u,h,p){var l=t.b;if(this.g){var c=l.isEnabled(l.STENCIL_TEST),f=l.getParameter(l.STENCIL_FUNC),d=l.getParameter(l.STENCIL_VALUE_MASK),y=l.getParameter(l.STENCIL_REF),v=l.getParameter(l.STENCIL_WRITEMASK),g=l.getParameter(l.STENCIL_FAIL),m=l.getParameter(l.STENCIL_PASS_DEPTH_PASS),b=l.getParameter(l.STENCIL_PASS_DEPTH_FAIL);l.enable(l.STENCIL_TEST),l.clear(l.STENCIL_BUFFER_BIT),l.stencilMask(255),l.stencilFunc(l.ALWAYS,1,255),l.stencilOp(l.KEEP,l.KEEP,l.REPLACE),this.g.La(t,e,n,o,i,r,a,s,u,h,p),l.stencilMask(0),l.stencilFunc(l.NOTEQUAL,1,255)}oa(t,34962,this.l),oa(t,34963,this.o),r=this.rf(l,t,i,r);var _=pr(this.xb);if(vr(_,2/(n*i[0]),2/(n*i[1])),yr(_,-o),gr(_,-(e[0]-this.origin[0]),-(e[1]-this.origin[1])),e=pr(this.$a),vr(e,2/i[0],2/i[1]),i=pr(this.Sa),o&&yr(i,-o),l.uniformMatrix4fv(r.i,!1,zr(this.Jb,_)),l.uniformMatrix4fv(r.f,!1,zr(this.Jb,e)),l.uniformMatrix4fv(r.c,!1,zr(this.Jb,i)),l.uniform1f(r.a,a),u){h?t=this.ve(l,t,s,u,p):(l.clear(l.COLOR_BUFFER_BIT|l.DEPTH_BUFFER_BIT),this.Od(l,t,s,!0),t=(t=u(null))?t:void 0);var x=t}else this.Od(l,t,s,!1);return this.sf(l,r),this.g&&(c||l.disable(l.STENCIL_TEST),l.clear(l.STENCIL_BUFFER_BIT),l.stencilFunc(f,y,d),l.stencilMask(v),l.stencilOp(g,b,m)),x};var wg=[0,0,0,1],Pg=[],Sg=[0,0,0,1],Cg=Number.EPSILON||2.220446049250313e-16,Mg=35044;l(Zr,Hr),pv=Zr.prototype,pv.Zb=function(t,e){var n=t.pd(),o=t.qa();if(n){this.i.push(this.b.length),this.f.push(e),this.c.s&&(this.u.push(this.b.length),this.c.s=!1),this.S=n,t=t.ga(),t=ao(t,0,2,o,-this.origin[0],-this.origin[1]),e=this.a.length;var i,n=this.b.length,r=e/4;for(i=0;2>i;i+=o)this.a[e++]=t[i],this.a[e++]=t[i+1],this.a[e++]=0,this.a[e++]=this.S,this.a[e++]=t[i],this.a[e++]=t[i+1],this.a[e++]=1,this.a[e++]=this.S,this.a[e++]=t[i],this.a[e++]=t[i+1],this.a[e++]=2,this.a[e++]=this.S,this.a[e++]=t[i],this.a[e++]=t[i+1],this.a[e++]=3,this.a[e++]=this.S,this.b[n++]=r,this.b[n++]=r+1,this.b[n++]=r+2,this.b[n++]=r+2,this.b[n++]=r+3,this.b[n++]=r,r+=4}else this.c.s&&(this.j.pop(),this.j.length&&(o=this.j[this.j.length-1],this.c.fillColor=o[0],this.c.strokeColor=o[1],this.c.lineWidth=o[2],this.c.s=!1))},pv.Db=function(){this.l=new $r(this.a),this.o=new $r(this.b),this.i.push(this.b.length),!this.u.length&&0<this.j.length&&(this.j=[]),this.b=this.a=null},pv.Eb=function(t){var e=this.l,n=this.o;return function(){ia(t,e),ia(t,n)}},pv.rf=function(t,e,n,o){var i=sa(e,_g,xg);if(this.v)var r=this.v;else this.v=r=new Gr(t,i);return e.Qc(i),t.enableVertexAttribArray(r.b),t.vertexAttribPointer(r.b,2,5126,!1,16,0),t.enableVertexAttribArray(r.j),t.vertexAttribPointer(r.j,1,5126,!1,16,8),t.enableVertexAttribArray(r.S),t.vertexAttribPointer(r.S,1,5126,!1,16,12),t.uniform2fv(r.I,n),t.uniform1f(r.ra,o),r},pv.sf=function(t,e){t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.j),t.disableVertexAttribArray(e.S)},pv.Od=function(t,e,n){if(pt(n)){var o=this.i[this.i.length-1];for(n=this.u.length-1;0<=n;--n){var i=this.u[n],r=this.j[n];t.uniform4fv(this.v.B,r[0]),Jr(this,t,r[1],r[2]),qr(t,e,i,o),o=i}}else{var a=this.i.length-2;for(r=o=this.i[a+1],i=this.u.length-1;0<=i;--i){var s=this.j[i];for(t.uniform4fv(this.v.B,s[0]),Jr(this,t,s[1],s[2]),s=this.u[i];0<=a&&this.i[a]>=s;){var u=this.i[a],h=this.f[a];h=f(h).toString(),n[h]&&(o!==r&&qr(t,e,o,r),r=u),a--,o=u}o!==r&&qr(t,e,o,r),o=r=s}}},pv.ve=function(t,e,n,o,i){var r,a,s=this.i.length-2,u=this.i[s+1];for(r=this.u.length-1;0<=r;--r){var h=this.j[r];for(t.uniform4fv(this.v.B,h[0]),Jr(this,t,h[1],h[2]),a=this.u[r];0<=s&&this.i[s]>=a;){h=this.i[s];var p=this.f[s],l=f(p).toString();if(void 0===n[l]&&p.V()&&(void 0===i||it(i,p.V().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),qr(t,e,h,u),u=o(p)))return u;s--,u=h}}},pv.Ma=function(t,e){if(e){var n=e.i;this.c.lineDash=n?n:Pg,n=e.g,this.c.lineDashOffset=n?n:0,n=e.a,n=n instanceof CanvasGradient||n instanceof CanvasPattern?Sg:Se(n).map(function(t,e){return 3!=e?t/255:t})||Sg,e=e.c,e=void 0!==e?e:1}else n=[0,0,0,0],e=0;t=t?t.b:[0,0,0,0],t=t instanceof CanvasGradient||t instanceof CanvasPattern?wg:Se(t).map(function(t,e){return 3!=e?t/255:t})||wg,this.c.strokeColor&&s(this.c.strokeColor,n)&&this.c.fillColor&&s(this.c.fillColor,t)&&this.c.lineWidth===e||(this.c.s=!0,this.c.fillColor=t,this.c.strokeColor=n,this.c.lineWidth=e,this.j.push([t,n,e]))},l(Qr,Br);var Tg=new Qr;l(ta,Xr);var Ag=new ta;l(na,he),pv=na.prototype,pv.ka=function(){ue(this.j);var t=this.b;if(!t.isContextLost()){for(var e in this.a)t.deleteBuffer(this.a[e].buffer);for(e in this.i)t.deleteProgram(this.i[e]);for(e in this.c)t.deleteShader(this.c[e]);t.deleteFramebuffer(this.f),t.deleteRenderbuffer(this.l),t.deleteTexture(this.v)}},pv.Wo=function(){return this.b},pv.Xo=function(){ut(this.a),ut(this.c),ut(this.i),this.l=this.v=this.f=this.o=null},pv.Yo=function(){},pv.Qc=function(t){return t!=this.o&&(this.b.useProgram(t),this.o=t,!0)},l(la,Hr),pv=la.prototype,pv.Eb=function(t){var e=this.l,n=this.o,o=this.va,i=this.u,r=t.b;return function(){if(!r.isContextLost()){var a,s=0;for(a=o.length;s<a;++s)r.deleteTexture(o[s]);for(s=0,a=i.length;s<a;++s)r.deleteTexture(i[s])}ia(t,e),ia(t,n)}},pv.oc=function(t,e){this.i.push(this.b.length),this.f.push(e),e=t.ga(),ca(this,e,e.length,t.qa())},pv.qc=function(t,e){this.i.push(this.b.length),this.f.push(e),e=t.ga(),ca(this,e,e.length,t.qa())},pv.Db=function(t){t=t.b,this.S.push(this.b.length),this.v.push(this.b.length),this.l=new $r(this.a),this.o=new $r(this.b);var e={};fa(this.va,this.j,e,t),fa(this.u,this.c,e,t),this.oa=this.C=this.D=void 0,this.c=this.j=null,this.I=this.ra=void 0,this.b=null,this.fb=this.fa=this.na=this.T=this.Ua=this.R=void 0,this.a=null,this.pa=void 0},pv.rf=function(t,e){var n=sa(e,Tg,Ag);if(this.B)var o=this.B;else this.B=o=new ea(t,n);return e.Qc(n),t.enableVertexAttribArray(o.b),t.vertexAttribPointer(o.b,2,5126,!1,32,0),t.enableVertexAttribArray(o.v),t.vertexAttribPointer(o.v,2,5126,!1,32,8),t.enableVertexAttribArray(o.C),t.vertexAttribPointer(o.C,2,5126,!1,32,16),t.enableVertexAttribArray(o.u),t.vertexAttribPointer(o.u,1,5126,!1,32,24),t.enableVertexAttribArray(o.D),t.vertexAttribPointer(o.D,1,5126,!1,32,28),o},pv.sf=function(t,e){t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.v),t.disableVertexAttribArray(e.C),t.disableVertexAttribArray(e.u),t.disableVertexAttribArray(e.D)},pv.Od=function(t,e,n,o){var i=o?this.u:this.va;if(o=o?this.v:this.S,pt(n)){var r;n=0;var a=i.length;for(r=0;n<a;++n){t.bindTexture(3553,i[n]);var s=o[n];qr(t,e,r,s),r=s}}else for(r=a=0,s=i.length;r<s;++r){t.bindTexture(3553,i[r]);for(var u=0<r?o[r-1]:0,h=o[r],p=u;a<this.i.length&&this.i[a]<=h;){var l=f(this.f[a]).toString();void 0!==n[l]?(p!==u&&qr(t,e,p,u),u=p=a===this.i.length-1?h:this.i[a+1]):u=a===this.i.length-1?h:this.i[a+1],a++}p!==u&&qr(t,e,p,u)}},pv.ve=function(t,e,n,o,i){var r,a,s=this.i.length-1;for(r=this.u.length-1;0<=r;--r){t.bindTexture(3553,this.u[r]);var u=0<r?this.v[r-1]:0;for(a=this.v[r];0<=s&&this.i[s]>=u;){var h=this.i[s],p=this.f[s],l=f(p).toString();if(void 0===n[l]&&p.V()&&(void 0===i||it(i,p.V().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),qr(t,e,h,a),a=o(p)))return a;a=h,s--}}},pv.Ub=function(t){var e=t.Hc(),n=t.Y(1),o=t.ye(),i=t.qg(1),r=t.f,a=t.Oc(),s=t.l,u=t.g,h=t.ic();if(t=t.a,this.j.length){var p=this.j[this.j.length-1];f(p)!=f(n)&&(this.S.push(this.b.length),this.j.push(n))}else this.j.push(n);this.c.length?(p=this.c[this.c.length-1],f(p)!=f(i)&&(this.v.push(this.b.length),this.c.push(i))):this.c.push(i),this.D=e[0],this.C=e[1],this.oa=h[1],this.ra=o[1],this.I=o[0],this.R=r,this.Ua=a[0],this.T=a[1],this.fa=u,this.na=s,this.fb=t,this.pa=h[0]},l(ya,Br);var Eg=new ya;l(va,Xr);var Ig=new va;l(ma,Hr),pv=ma.prototype,pv.mc=function(t,e){var n=t.ga();t=t.qa(),xa(n,0,n.length,t)&&(n=ao(n,0,n.length,t,-this.origin[0],-this.origin[1]),this.c.s&&(this.j.push(this.b.length),this.c.s=!1),this.i.push(this.b.length),this.f.push(e),ba(this,n,n.length,t))},pv.nc=function(t,e){var n=this.b.length,o=t.Bb();o.unshift(0);var i=t.ga();t=t.qa();var r;if(1<o.length){var a=1;for(r=o.length;a<r;++a)if(xa(i,o[a-1],o[a],t)){var s=ao(i,o[a-1],o[a],t,-this.origin[0],-this.origin[1]);ba(this,s,s.length,t)}}this.b.length>n&&(this.i.push(n),this.f.push(e),this.c.s&&(this.j.push(n),this.c.s=!1))},pv.Db=function(){this.l=new $r(this.a),this.o=new $r(this.b),this.i.push(this.b.length),!this.j.length&&0<this.u.length&&(this.u=[]),this.b=this.a=null},pv.Eb=function(t){var e=this.l,n=this.o;return function(){ia(t,e),ia(t,n)}},pv.rf=function(t,e,n,o){var i=sa(e,Eg,Ig);if(this.v)var r=this.v;else this.v=r=new ga(t,i);return e.Qc(i),t.enableVertexAttribArray(r.o),t.vertexAttribPointer(r.o,2,5126,!1,28,0),t.enableVertexAttribArray(r.b),t.vertexAttribPointer(r.b,2,5126,!1,28,8),t.enableVertexAttribArray(r.l),t.vertexAttribPointer(r.l,2,5126,!1,28,16),t.enableVertexAttribArray(r.g),t.vertexAttribPointer(r.g,1,5126,!1,28,24),t.uniform2fv(r.I,n),t.uniform1f(r.ra,o),r},pv.sf=function(t,e){t.disableVertexAttribArray(e.o),t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.l),t.disableVertexAttribArray(e.g)},pv.Od=function(t,e,n,o){var i=t.getParameter(t.DEPTH_FUNC),r=t.getParameter(t.DEPTH_WRITEMASK);if(o||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),pt(n)){var a=this.i[this.i.length-1];for(n=this.j.length-1;0<=n;--n){var s=this.j[n],u=this.u[n];Sa(this,t,u[0],u[1],u[2]),qr(t,e,s,a),t.clear(t.DEPTH_BUFFER_BIT),a=s}}else{var h=this.i.length-2;for(u=a=this.i[h+1],s=this.j.length-1;0<=s;--s){var p=this.u[s];for(Sa(this,t,p[0],p[1],p[2]),p=this.j[s];0<=h&&this.i[h]>=p;){var l=this.i[h],c=this.f[h];c=f(c).toString(),n[c]&&(a!==u&&(qr(t,e,a,u),t.clear(t.DEPTH_BUFFER_BIT)),u=l),h--,a=l}a!==u&&(qr(t,e,a,u),t.clear(t.DEPTH_BUFFER_BIT)),a=u=p}}o||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(r),t.depthFunc(i))},pv.ve=function(t,e,n,o,i){var r,a,s=this.i.length-2,u=this.i[s+1];for(r=this.j.length-1;0<=r;--r){var h=this.u[r];for(Sa(this,t,h[0],h[1],h[2]),a=this.j[r];0<=s&&this.i[s]>=a;){h=this.i[s];var p=this.f[s],l=f(p).toString();if(void 0===n[l]&&p.V()&&(void 0===i||it(i,p.V().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),qr(t,e,h,u),u=o(p)))return u;s--,u=h}}},pv.Ma=function(t,e){t=e.f,this.c.lineCap=void 0!==t?t:"round",t=e.i,this.c.lineDash=t?t:Pg,t=e.g,this.c.lineDashOffset=t?t:0,t=e.j,this.c.lineJoin=void 0!==t?t:"round",t=e.a,t=t instanceof CanvasGradient||t instanceof CanvasPattern?Sg:Se(t).map(function(t,e){return 3!=e?t/255:t})||Sg;var n=e.c,n=void 0!==n?n:1;e=e.o,e=void 0!==e?e:10,this.c.strokeColor&&s(this.c.strokeColor,t)&&this.c.lineWidth===n&&this.c.miterLimit===e||(this.c.s=!0,this.c.strokeColor=t,this.c.lineWidth=n,this.c.miterLimit=e,this.u.push([t,n,e]))};var Lg=3,Ng=5,Og=7,kg=11,Rg=13,Fg=17,Dg=19,jg=23;l(Ca,Br);var Kg=new Ca;l(Ma,Xr);var Bg=new Ma;pv=Aa.prototype,pv.clone=function(){var t=this.a;return new Aa({color:t&&t.slice?t.slice():t||void 0,lineCap:this.f,lineDash:this.i?this.i.slice():void 0,lineDashOffset:this.g,lineJoin:this.j,miterLimit:this.o,width:this.c})},pv.No=function(){return this.a},pv.Vk=function(){return this.f},pv.Oo=function(){return this.i},pv.Wk=function(){return this.g},pv.Xk=function(){return this.j},pv.bl=function(){return this.o},pv.Po=function(){return this.c},pv.Qo=function(t){this.a=t,this.b=void 0},pv.aq=function(t){this.f=t,this.b=void 0},pv.setLineDash=function(t){this.i=t,this.b=void 0},pv.bq=function(t){this.g=t,this.b=void 0},pv.cq=function(t){this.j=t,this.b=void 0},pv.gq=function(t){this.o=t,this.b=void 0},pv.jq=function(t){this.c=t,this.b=void 0},Ea.prototype.concat=function(t){if(t.b){if(this.b){var e=this.b.next;this.b.next=t.i,t.i.ub=this.b,e.ub=t.a,t.a.next=e,this.c+=t.c}else this.b=t.b,this.i=t.i,this.a=t.a,this.c=t.c;t.b=void 0,t.i=void 0,t.a=void 0,t.c=0}};var Xg={$d:function(){}};!function(t){function e(t,i,r,a,s){for(r=r||0,a=a||t.length-1,s=s||o;a>r;){if(600<a-r){var u=a-r+1,h=i-r+1,p=Math.log(u),l=.5*Math.exp(2*p/3),p=.5*Math.sqrt(p*l*(u-l)/u)*(0>h-u/2?-1:1);e(t,i,Math.max(r,Math.floor(i-h*l/u+p)),Math.min(a,Math.floor(i+(u-h)*l/u+p)),s)}for(u=t[i],h=r,l=a,n(t,r,i),0<s(t[a],u)&&n(t,r,a);h<l;){for(n(t,h,l),h++,l--;0>s(t[h],u);)h++;for(;0<s(t[l],u);)l--}0===s(t[r],u)?n(t,r,l):(l++,n(t,l,a)),l<=i&&(r=l+1),i<=l&&(a=l-1)}}function n(t,e,n){var o=t[e];t[e]=t[n],t[n]=o}function o(t,e){return t<e?-1:t>e?1:0}function i(t,e){return this instanceof i?(this.Hf=Math.max(4,t||9),this.fh=Math.max(2,Math.ceil(.4*this.Hf)),e&&this.ek(e),void this.clear()):new i(t,e)}function r(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,o,i){i||(i=d(null)),i.ca=1/0,i.da=1/0,i.$=-(1/0),i.ia=-(1/0);for(var r;e<n;e++)r=t.children[e],s(i,t.ib?o(r):r);return i}function s(t,e){t.ca=Math.min(t.ca,e.ca),t.da=Math.min(t.da,e.da),t.$=Math.max(t.$,e.$),t.ia=Math.max(t.ia,e.ia)}function u(t,e){return t.ca-e.ca}function h(t,e){return t.da-e.da}function p(t){return(t.$-t.ca)*(t.ia-t.da)}function l(t){return t.$-t.ca+(t.ia-t.da)}function c(t,e){return t.ca<=e.ca&&t.da<=e.da&&e.$<=t.$&&e.ia<=t.ia}function f(t,e){return e.ca<=t.$&&e.da<=t.ia&&e.$>=t.ca&&e.ia>=t.da}function d(t){return{children:t,height:1,ib:!0,ca:1/0,da:1/0,$:-(1/0),ia:-(1/0)}}function y(t,e,n,o,i){for(var r,a=[e,n];a.length;)n=a.pop(),e=a.pop(),n-e<=o||(r=e+Math.ceil((n-e)/o/2)*o,v(t,r,e,n,i),a.push(e,r,r,n))}var v=e;i.prototype={all:function(){return this.$g(this.data,[])},search:function(t){var e=this.data,n=[],o=this.wb;if(!f(t,e))return n;for(var i,r,a,s,u=[];e;){for(i=0,r=e.children.length;i<r;i++)a=e.children[i],s=e.ib?o(a):a,f(t,s)&&(e.ib?n.push(a):c(t,s)?this.$g(a,n):u.push(a));e=u.pop()}return n},load:function(t){if(!t||!t.length)return this;if(t.length<this.fh){for(var e=0,n=t.length;e<n;e++)this.Ca(t[e]);return this}return t=this.bh(t.slice(),0,t.length-1,0),this.data.children.length?this.data.height===t.height?this.hh(this.data,t):(this.data.height<t.height&&(e=this.data,this.data=t,t=e),this.eh(t,this.data.height-t.height-1,!0)):this.data=t,this},Ca:function(t){return t&&this.eh(t,this.data.height-1),this},clear:function(){return this.data=d([]),this},remove:function(t,e){if(!t)return this;for(var n,o,i,r,a=this.data,s=this.wb(t),u=[],h=[];a||u.length;){if(a||(a=u.pop(),o=u[u.length-1],n=h.pop(),r=!0),a.ib){t:{i=t;var p=a.children,l=e;if(l){for(var f=0;f<p.length;f++)if(l(i,p[f])){i=f;break t}i=-1}else i=p.indexOf(i)}if(-1!==i){a.children.splice(i,1),u.push(a),this.ck(u);break}}r||a.ib||!c(a,s)?o?(n++,a=o.children[n],r=!1):a=null:(u.push(a),h.push(n),n=0,o=a,a=a.children[0])}return this},wb:function(t){return t},Lf:u,Mf:h,toJSON:function(){return this.data},$g:function(t,e){for(var n=[];t;)t.ib?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},bh:function(t,e,n,o){var i=n-e+1,a=this.Hf;if(i<=a){var s=d(t.slice(e,n+1));return r(s,this.wb),s}o||(o=Math.ceil(Math.log(i)/Math.log(a)),a=Math.ceil(i/Math.pow(a,o-1))),s=d([]),s.ib=!1,s.height=o;var u,i=Math.ceil(i/a),a=i*Math.ceil(Math.sqrt(a));for(y(t,e,n,a,this.Lf);e<=n;e+=a){var h=Math.min(e+a-1,n);for(y(t,e,h,i,this.Mf),u=e;u<=h;u+=i){var p=Math.min(u+i-1,h);s.children.push(this.bh(t,u,p,o-1))}}return r(s,this.wb),s},bk:function(t,e,n,o){for(var i,r,a,s,u,h,l,c;o.push(e),!e.ib&&o.length-1!==n;){for(l=c=1/0,i=0,r=e.children.length;i<r;i++)a=e.children[i],u=p(a),h=(Math.max(a.$,t.$)-Math.min(a.ca,t.ca))*(Math.max(a.ia,t.ia)-Math.min(a.da,t.da))-u,h<c?(c=h,l=u<l?u:l,s=a):h===c&&u<l&&(l=u,s=a);e=s||e.children[0]}return e},eh:function(t,e,n){var o=this.wb;n=n?t:o(t);var o=[],i=this.bk(n,this.data,e,o);for(i.children.push(t),s(i,n);0<=e&&o[e].children.length>this.Hf;)this.jk(o,e),e--;this.Zj(n,o,e)},jk:function(t,e){var n=t[e],o=n.children.length,i=this.fh;this.$j(n,i,o),o=this.ak(n,i,o),o=d(n.children.splice(o,n.children.length-o)),o.height=n.height,o.ib=n.ib,r(n,this.wb),r(o,this.wb),e?t[e-1].children.push(o):this.hh(n,o)},hh:function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.ib=!1,r(this.data,this.wb)},ak:function(t,e,n){var o,i,r=i=1/0;for(o=e;o<=n-e;o++){var s=a(t,0,o,this.wb),u=a(t,o,n,this.wb),h=Math.max(0,Math.min(s.$,u.$)-Math.max(s.ca,u.ca))*Math.max(0,Math.min(s.ia,u.ia)-Math.max(s.da,u.da));if(s=p(s)+p(u),h<r){r=h;var l=o;i=s<i?s:i}else h===r&&s<i&&(i=s,l=o)}return l},$j:function(t,e,n){var o=t.ib?this.Lf:u,i=t.ib?this.Mf:h,r=this.ah(t,e,n,o);e=this.ah(t,e,n,i),r<e&&t.children.sort(o)},ah:function(t,e,n,o){t.children.sort(o),o=this.wb;var i,r=a(t,0,e,o),u=a(t,n-e,n,o),h=l(r)+l(u);for(i=e;i<n-e;i++){var p=t.children[i];s(r,t.ib?o(p):p),h+=l(r)}for(i=n-e-1;i>=e;i--)p=t.children[i],s(u,t.ib?o(p):p),h+=l(u);return h},Zj:function(t,e,n){for(;0<=n;n--)s(e[n],t)},ck:function(t){for(var e,n=t.length-1;0<=n;n--)0===t[n].children.length?0<n?(e=t[n-1].children,e.splice(e.indexOf(t[n]),1)):this.clear():r(t[n],this.wb)},ek:function(t){var e=["return a"," - b",";"];this.Lf=new Function("a","b",e.join(t[0])),this.Mf=new Function("a","b",e.join(t[1])),this.wb=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}},t.default=i}(Xg.$d=Xg.$d||{}),Xg.$d=Xg.$d.default,pv=Da.prototype,pv.Ca=function(t,e){t={ca:t[0],da:t[1],$:t[2],ia:t[3],value:e},this.a.Ca(t),this.b[f(e)]=t},pv.load=function(t,e){for(var n=Array(e.length),o=0,i=e.length;o<i;o++){var r=t[o],a=e[o],r={ca:r[0],da:r[1],$:r[2],ia:r[3],value:a};n[o]=r,this.b[f(a)]=r}this.a.load(n)},pv.remove=function(t){t=f(t);var e=this.b[t];return delete this.b[t],null!==this.a.remove(e)},pv.forEach=function(t,e){return Ua(Ka(this),t,e)},pv.clear=function(){this.a.clear(),this.b={}},pv.G=function(t){var e=this.a.data;return K(e.ca,e.da,e.$,e.ia,t)},pv.concat=function(t){this.a.load(t.a.all());for(var e in t.b)this.b[0|e]=t.b[0|e]},l(Ya,Hr),pv=Ya.prototype,pv.pc=function(t,e){var n=t.c,o=t.qa(),i=this.b.length,r=this.g.b.length;t=t.ga();var a,s,u,h=s=0;for(a=n.length;h<a;++h){var p=n[h];if(0<p.length){var l=ao(t,s,p[0],o,-this.origin[0],-this.origin[1]);if(l.length){var c=[];for(s=1,u=p.length;s<u;++s)if(p[s]!==p[s-1]){var f=ao(t,p[s-1],p[s],o,-this.origin[0],-this.origin[1]);c.push(f)}wa(this.g,l,c,o),Ga(this,l,c,o)}}s=p[p.length-1]}this.b.length>i&&(this.i.push(i),this.f.push(e),this.j.s&&(this.c.push(i),this.j.s=!1)),this.g.b.length>r&&Pa(this.g,e,r)},pv.rc=function(t,e){var n=t.Bb(),o=t.qa();if(0<n.length){t=t.ga().map(Number);var i=ao(t,0,n[0],o,-this.origin[0],-this.origin[1]);if(i.length){var r,a=[],s=1;for(r=n.length;s<r;++s)if(n[s]!==n[s-1]){var u=ao(t,n[s-1],n[s],o,-this.origin[0],-this.origin[1]);a.push(u)}this.i.push(this.b.length),this.f.push(e),this.j.s&&(this.c.push(this.b.length),this.j.s=!1),Pa(this.g,e),wa(this.g,i,a,o),Ga(this,i,a,o)}}},pv.Db=function(t){this.l=new $r(this.a),this.o=new $r(this.b),this.i.push(this.b.length),this.g.Db(t),!this.c.length&&0<this.u.length&&(this.u=[]),this.b=this.a=null},pv.Eb=function(t){var e=this.l,n=this.o,o=this.g.Eb(t);return function(){ia(t,e),ia(t,n),o()}},pv.rf=function(t,e){var n=sa(e,Kg,Bg);if(this.v)var o=this.v;else this.v=o=new Ta(t,n);return e.Qc(n),t.enableVertexAttribArray(o.b),t.vertexAttribPointer(o.b,2,5126,!1,8,0),o},pv.sf=function(t,e){t.disableVertexAttribArray(e.b)},pv.Od=function(t,e,n,o){var i=t.getParameter(t.DEPTH_FUNC),r=t.getParameter(t.DEPTH_WRITEMASK);if(o||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),pt(n)){var a=this.i[this.i.length-1];for(n=this.c.length-1;0<=n;--n){var s=this.c[n],u=this.u[n];t.uniform4fv(this.v.B,u),qr(t,e,s,a),a=s}}else{var h=this.i.length-2;for(u=a=this.i[h+1],s=this.c.length-1;0<=s;--s){var p=this.u[s];for(t.uniform4fv(this.v.B,p),p=this.c[s];0<=h&&this.i[h]>=p;){var l=this.i[h],c=this.f[h];c=f(c).toString(),n[c]&&(a!==u&&(qr(t,e,a,u),t.clear(t.DEPTH_BUFFER_BIT)),
u=l),h--,a=l}a!==u&&(qr(t,e,a,u),t.clear(t.DEPTH_BUFFER_BIT)),a=u=p}}o||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(r),t.depthFunc(i))},pv.ve=function(t,e,n,o,i){var r,a,s=this.i.length-2,u=this.i[s+1];for(r=this.c.length-1;0<=r;--r){var h=this.u[r];for(t.uniform4fv(this.v.B,h),a=this.c[r];0<=s&&this.i[s]>=a;){h=this.i[s];var p=this.f[s],l=f(p).toString();if(void 0===n[l]&&p.V()&&(void 0===i||it(i,p.V().G()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),qr(t,e,h,u),u=o(p)))return u;s--,u=h}}},pv.Ma=function(t,e){t=t?t.b:[0,0,0,0],t=t instanceof CanvasGradient||t instanceof CanvasPattern?wg:Se(t).map(function(t,e){return 3!=e?t/255:t})||wg,this.j.fillColor&&s(t,this.j.fillColor)||(this.j.fillColor=t,this.j.s=!0,this.u.push(t)),e?this.g.Ma(null,e):this.g.Ma(null,new Aa({color:[0,0,0,0],lineWidth:0}))},rs.prototype.La=function(){},l(as,jr),as.prototype.b=function(t,e){var n=void 0!==t?t.toString():"0";return t=this.a[n],void 0===t&&(t={},this.a[n]=t),n=t[e],void 0===n&&(n=new Yg[e](this.g,this.f),t[e]=n),n},as.prototype.i=function(){return pt(this.a)},as.prototype.La=function(t,n,o,i,r,a,s,u){var h=Object.keys(this.a).map(Number);h.sort(e);var p,l,c=0;for(p=h.length;c<p;++c){var f=this.a[h[c].toString()],d=0;for(l=bg.length;d<l;++d){var y=f[bg[d]];void 0!==y&&y.La(t,n,o,i,r,a,s,u,void 0,!1)}}},as.prototype.Ea=function(t,e,n,o,i,r,a,s,u,h){var p=e.b;p.bindFramebuffer(p.FRAMEBUFFER,ra(e));var l;return void 0!==this.c&&(l=L(X(t),o*this.c)),hs(this,e,t,o,i,a,s,u,function(t){var e=new Uint8Array(4);if(p.readPixels(0,0,1,1,p.RGBA,p.UNSIGNED_BYTE,e),0<e[3]&&(t=h(t)))return t},!0,l)};var Ug=[1,1],Yg={Circle:Zr,Image:la,LineString:ma,Polygon:Ya,Text:rs};l(ls,Ar),pv=ls.prototype,pv.rd=function(t){this.Ma(t.Fa(),t.Ga()),this.Ub(t.Y())},pv.zb=function(t){switch(t.U()){case"Point":this.qc(t,null);break;case"LineString":this.mc(t,null);break;case"Polygon":this.rc(t,null);break;case"MultiPoint":this.oc(t,null);break;case"MultiLineString":this.nc(t,null);break;case"MultiPolygon":this.pc(t,null);break;case"GeometryCollection":this.ue(t,null);break;case"Circle":this.Zb(t,null)}},pv.te=function(t,e){(t=(0,e.Za)(t))&&it(this.a,t.G())&&(this.rd(e),this.zb(t))},pv.ue=function(t){t=t.a;var e,n=0;for(e=t.length;n<e;++n)this.zb(t[n])},pv.qc=function(t,e){var n=this.b,o=new as(1,this.a).b(0,"Image");o.Ub(this.v),o.qc(t,e),o.Db(n),o.La(this.b,this.i,this.f,this.g,this.j,this.c,1,{},void 0,!1),o.Eb(n)()},pv.oc=function(t,e){var n=this.b,o=new as(1,this.a).b(0,"Image");o.Ub(this.v),o.oc(t,e),o.Db(n),o.La(this.b,this.i,this.f,this.g,this.j,this.c,1,{},void 0,!1),o.Eb(n)()},pv.mc=function(t,e){var n=this.b,o=new as(1,this.a).b(0,"LineString");o.Ma(null,this.o),o.mc(t,e),o.Db(n),o.La(this.b,this.i,this.f,this.g,this.j,this.c,1,{},void 0,!1),o.Eb(n)()},pv.nc=function(t,e){var n=this.b,o=new as(1,this.a).b(0,"LineString");o.Ma(null,this.o),o.nc(t,e),o.Db(n),o.La(this.b,this.i,this.f,this.g,this.j,this.c,1,{},void 0,!1),o.Eb(n)()},pv.rc=function(t,e){var n=this.b,o=new as(1,this.a).b(0,"Polygon");o.Ma(this.l,this.o),o.rc(t,e),o.Db(n),o.La(this.b,this.i,this.f,this.g,this.j,this.c,1,{},void 0,!1),o.Eb(n)()},pv.pc=function(t,e){var n=this.b,o=new as(1,this.a).b(0,"Polygon");o.Ma(this.l,this.o),o.pc(t,e),o.Db(n),o.La(this.b,this.i,this.f,this.g,this.j,this.c,1,{},void 0,!1),o.Eb(n)()},pv.Zb=function(t,e){var n=this.b,o=new as(1,this.a).b(0,"Circle");o.Ma(this.l,this.o),o.Zb(t,e),o.Db(n),o.La(this.b,this.i,this.f,this.g,this.j,this.c,1,{},void 0,!1),o.Eb(n)()},pv.Ub=function(t){this.v=t},pv.Ma=function(t,e){this.l=t,this.o=e},pv=cs.prototype,pv.clear=function(){this.c=0,this.b={},this.i=this.a=null},pv.forEach=function(t,e){for(var n=this.a;n;)t.call(e,n.Yc,n.uc,this),n=n.Nb},pv.get=function(t){return t=this.b[t],y(!!t,15),t===this.i?t.Yc:(t===this.a?(this.a=this.a.Nb,this.a.vd=null):(t.Nb.vd=t.vd,t.vd.Nb=t.Nb),t.Nb=null,t.vd=this.i,this.i=this.i.Nb=t,t.Yc)},pv.pop=function(){var t=this.a;return delete this.b[t.uc],t.Nb&&(t.Nb.vd=null),this.a=t.Nb,this.a||(this.i=null),--this.c,t.Yc},pv.replace=function(t,e){this.get(t),this.b[t].Yc=e},pv.set=function(t,e){y(!(t in this.b),16),e={uc:t,Nb:null,vd:this.i,Yc:e},this.i?this.i.Nb=e:this.a=e,this.i=e,this.b[t]=e,++this.c},l(fs,_r),pv=fs.prototype,pv.ka=function(){var t=this.i;t.isContextLost()||this.a.forEach(function(e){e&&t.deleteTexture(e.Ib)}),pe(this.f),_r.prototype.ka.call(this)},pv.xk=function(t,e){t=this.i;for(var n;1024<this.a.c-this.g;){if(n=this.a.a.Yc)t.deleteTexture(n.Ib);else{if(+this.a.a.uc==e.index)break;--this.g}this.a.pop()}},pv.U=function(){return"webgl"},pv.Yn=function(t){t.preventDefault(),this.a.clear(),this.g=0,t=this.c;for(var e in t)t[e].mg()},pv.Zn=function(){vs(this),this.o.render()},pv.Jg=function(t){var e=this.f,n=this.i;if(n.isContextLost())return!1;if(!t)return this.l&&(this.b.style.display="none",this.l=!1),!1;this.u=t.focus,this.a.set((-t.index).toString(),null),++this.g,ys(this,"precompose",t);var o=[],i=t.layerStatesArray;u(i);var r,a=t.viewState.resolution,s=0;for(r=i.length;s<r;++s){var h=i[s];if(sr(h,a)&&"ready"==h.yj){var p=Pr(this,h.layer);p.ng(t,h,e)&&o.push(h)}}for(i=t.size[0]*t.pixelRatio,a=t.size[1]*t.pixelRatio,this.b.width==i&&this.b.height==a||(this.b.width=i,this.b.height=a),n.bindFramebuffer(36160,null),n.clearColor(0,0,0,0),n.clear(16384),n.enable(3042),n.viewport(0,0,this.b.width,this.b.height),s=0,r=o.length;s<r;++s)h=o[s],p=Pr(this,h.layer),p.Gi(t,h,e);this.l||(this.b.style.display="",this.l=!0),xr(t),1024<this.a.c-this.g&&t.postRenderFunctions.push(this.xk.bind(this)),this.j.b.length&&(t.postRenderFunctions.push(this.B),t.animate=!0),ys(this,"postcompose",t),Sr(this,t),t.postRenderFunctions.push(wr)},pv.Ea=function(t,e,n,o,i,r,a){if(this.i.isContextLost())return!1;var s,u=e.viewState,h=e.layerStatesArray;for(s=h.length-1;0<=s;--s){var p=h[s],l=p.layer;if(sr(p,u.resolution)&&r.call(a,l)&&(p=Pr(this,l).Ea(t,e,n,o,i)))return p}},pv.Ei=function(t,e,n,o,i){if(n=!1,this.i.isContextLost())return!1;var r,a=e.viewState,s=e.layerStatesArray;for(r=s.length-1;0<=r;--r){var u=s[r],h=u.layer;if(sr(u,a.resolution)&&o.call(i,h)&&(n=Pr(this,h).Ue(t,e)))return!0}return n},pv.Di=function(t,e,n,o,i){if(this.i.isContextLost())return!1;var r,a=e.viewState,s=e.layerStatesArray;for(r=s.length-1;0<=r;--r){var u=s[r],h=u.layer;if(sr(u,a.resolution)&&i.call(o,h)&&(u=Pr(this,h).lg(t,e,n,o)))return u}};var Gg=["canvas","webgl"];l(gs,ve),pv=gs.prototype,pv.kk=function(t){this.l.push(t)},pv.lk=function(t){this.o.push(t)},pv.ih=function(t){this.Kc().qd().push(t)},pv.jh=function(t){this.v.push(t)},pv.kh=function(t){var e=t.g;void 0!==e&&(this.rg[e.toString()]=t),t.setMap(this)},pv.ka=function(){pe(this.Sa),pe(this.B),ae(this.a,"wheel",this.ld,this),ae(this.a,"mousewheel",this.ld,this),this.f&&(window.removeEventListener("resize",this.f,!1),this.f=void 0),this.j&&(cancelAnimationFrame(this.j),this.j=void 0),this.Le(null),ve.prototype.ka.call(this)},pv.we=function(t,e,n){if(this.c)return t=this.Wa(t),n=n?n:{},this.B.Ea(t,this.c,void 0!==n.hitTolerance?n.hitTolerance*this.c.pixelRatio:0,e,null,n.layerFilter?n.layerFilter:no,null)},pv.Im=function(t,e,n,o,i){if(this.c)return this.B.Di(t,this.c,e,void 0!==n?n:null,o?o:no,void 0!==i?i:null)},pv.Yl=function(t,e){return!!this.c&&(t=this.Wa(t),e=e?e:{},this.B.Ei(t,this.c,void 0!==e.hitTolerance?e.hitTolerance*this.c.pixelRatio:0,e.layerFilter?e.layerFilter:no,null))},pv.Tf=function(t){return this.Wa(this.xe(t))},pv.xe=function(t){var e=this.a.getBoundingClientRect();return t=t.changedTouches?t.changedTouches[0]:t,[t.clientX-e.left,t.clientY-e.top]},pv.ag=function(){return this.get("target")},pv.jd=function(){var t=this.ag();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},pv.Wa=function(t){var e=this.c;return e?dr(e.pixelToCoordinateTransform,t.slice()):null},pv.Lk=function(){return this.l},pv.fl=function(){return this.v},pv.el=function(t){return t=this.rg[t.toString()],void 0!==t?t:null},pv.Sk=function(){return this.o},pv.Kc=function(){return this.get("layergroup")},pv.Xh=function(){return this.Kc().qd()},pv.Ja=function(t){var e=this.c;return e?dr(e.coordinateToPixelTransform,t.slice(0,2)):null},pv.Ob=function(){return this.get("size")},pv.Z=function(){return this.get("view")},pv.sl=function(){return this.a},pv.ql=function(t,e,n,o){var i=this.c;return i&&e in i.wantedTiles&&i.wantedTiles[e][t.bb()]?(t=n[0]-i.focus[0],n=n[1]-i.focus[1],65536*Math.log(o)+Math.sqrt(t*t+n*n)/o):1/0},pv.ld=function(t,e){t=new Ze(e||t.type,this,t),this.Ih(t)},pv.Ih=function(t){if(this.c){this.na=t.coordinate,t.frameState=this.c;var e,n=this.o.a;if(!1!==this.b(t))for(e=n.length-1;0<=e;e--){var o=n[e];if(o.c()&&!o.handleEvent(t))break}}},pv.Rl=function(){var t=this.c,e=this.$a;if(e.b.length){var n=16,o=n;if(t){var i=t.viewHints;i[0]&&(n=this.Cf?8:0,o=2),i[1]&&(n=this.Df?8:0,o=2)}e.j<n&&(On(e),Rn(e,n,o))}for(e=this.xb,n=0,o=e.length;n<o;++n)e[n](this,t);e.length=0},pv.Tl=function(){this.render()},pv.Vl=function(){var t;if(this.ag()&&(t=this.jd()),this.u){for(var e=0,n=this.u.length;e<n;++e)se(this.u[e]);this.u=null}t?(t.appendChild(this.a),t=this.va?this.va:t,this.u=[ie(t,"keydown",this.ld,this),ie(t,"keypress",this.ld,this)],this.f||(this.f=this.Ad.bind(this),window.addEventListener("resize",this.f,!1))):(Ie(this.a),this.f&&(window.removeEventListener("resize",this.f,!1),this.f=void 0)),this.Ad()},pv.Wl=function(){this.render()},pv.Lh=function(){this.render()},pv.Xl=function(){this.T&&(se(this.T),this.T=null),this.R&&(se(this.R),this.R=null);var t=this.Z();t&&(this.a.setAttribute("data-view",f(t)),this.T=ie(t,"propertychange",this.Lh,this),this.R=ie(t,"change",this.Lh,this)),this.render()},pv.El=function(){this.I&&(this.I.forEach(se),this.I=null);var t=this.Kc();t&&(this.I=[ie(t,"propertychange",this.render,this),ie(t,"change",this.render,this)]),this.render()},pv.Tp=function(){this.j&&cancelAnimationFrame(this.j),this.pa()},pv.render=function(){void 0===this.j&&(this.j=requestAnimationFrame(this.pa))},pv.Mp=function(t){return this.l.remove(t)},pv.Np=function(t){return this.o.remove(t)},pv.Pp=function(t){return this.Kc().qd().remove(t)},pv.Qp=function(t){return this.v.remove(t)},pv.Sp=function(t){var e,n=this.Ob(),o=this.Z(),i=j(),r=this.c,a=null;if(void 0!==n&&0<n[0]&&0<n[1]&&o&&ei(o)){var a=Jo(o,this.c?this.c.viewHints:void 0),s=this.Kc().Yf(),u={},h=0;for(e=s.length;h<e;++h)u[f(s[h].layer)]=s[h];h=o.getState(),a={animate:!1,attributions:{},coordinateToPixelTransform:this.Yb,extent:i,focus:this.na?this.na:h.center,index:this.ad++,layerStates:u,layerStatesArray:s,logos:gv({},this.yf),pixelRatio:this.If,pixelToCoordinateTransform:this.Jf,postRenderFunctions:[],size:n,skippedFeatureUids:this.fa,tileQueue:this.$a,time:t,usedTiles:{},viewState:h,viewHints:a,wantedTiles:{}}}a&&(a.extent=J(h.center,h.resolution,h.rotation,a.size,i)),this.c=a,this.B.Jg(a),a&&(a.animate&&this.render(),Array.prototype.push.apply(this.xb,a.postRenderFunctions),!r||this.g&&(rt(this.g)||Y(a.extent,this.g))||(this.b(new $e("movestart",this,r)),this.g=B(this.g)),!this.g||a.viewHints[0]||a.viewHints[1]||Y(a.extent,this.g)||(this.b(new $e("moveend",this,a)),N(a.extent,this.g))),this.b(new $e("postrender",this,a)),setTimeout(this.Rl.bind(this),0)},pv.qj=function(t){this.set("layergroup",t)},pv.Qg=function(t){this.set("size",t)},pv.Le=function(t){this.set("target",t)},pv.iq=function(t){this.set("view",t)},pv.xj=function(t){t=f(t).toString(),this.fa[t]=!0,this.render()},pv.Ad=function(){var t=this.jd();if(t){var e=getComputedStyle(t);this.Qg([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.Qg(void 0)},pv.Cj=function(t){t=f(t).toString(),delete this.fa[t],this.render()},l(bs,ve),pv=bs.prototype,pv.Rd=function(){return this.get(Wg)},pv.Jm=function(){return this.g},pv.Me=function(){return this.get(zg)},pv.Dh=function(){return this.get(Hg)},pv.Yh=function(){return this.get(qg)},pv.Eh=function(){return this.get(Vg)},pv.zl=function(){for(var t=this.c;t.lastChild;)t.removeChild(t.lastChild);(t=this.Rd())&&this.c.appendChild(t)},pv.Jl=function(){this.f&&(Ie(this.c),se(this.f),this.f=null);var t=this.Me();t&&(this.f=ie(t,"postrender",this.render,this),ws(this),t=this.v?t.D:t.C,this.l?t.insertBefore(this.c,t.childNodes[0]||null):t.appendChild(this.c))},pv.render=function(){ws(this)},pv.Nl=function(){ws(this)},pv.Pl=function(){if(ws(this),this.get(qg)&&this.autoPan){var t=this.Me();if(t&&t.jd()){var e=_s(t.jd(),t.Ob()),n=this.Rd(),o=n.offsetWidth,i=getComputedStyle(n),o=o+(parseInt(i.marginLeft,10)+parseInt(i.marginRight,10)),i=n.offsetHeight,r=getComputedStyle(n),i=i+(parseInt(r.marginTop,10)+parseInt(r.marginBottom,10)),a=_s(n,[o,i]),n=this.o;R(e,a)||(o=a[0]-e[0],i=e[2]-a[2],r=a[1]-e[1],a=e[3]-a[3],e=[0,0],0>o?e[0]=o-n:0>i&&(e[0]=Math.abs(i)+n),0>r?e[1]=r-n:0>a&&(e[1]=Math.abs(a)+n),0===e[0]&&0===e[1])||(n=t.Z().wa(),n=t.Ja(n),e=[n[0]+e[0],n[1]+e[1]],t.Z().animate({center:t.Wa(e),duration:this.j.duration,easing:this.j.easing}))}}},pv.Ql=function(){ws(this)},pv.lj=function(t){this.set(Wg,t)},pv.setMap=function(t){this.set(zg,t)},pv.rj=function(t){this.set(Hg,t)},pv.Ne=function(t){this.set(qg,t)},pv.uj=function(t){this.set(Vg,t)};var Wg="element",zg="map",Hg="offset",qg="position",Vg="positioning";l(Ps,Le),pv=Ps.prototype,pv.setMap=function(t){var e=this.a;t!==e&&(e&&((e=e.Z())&&ae(e,ge("rotation"),this.Ge,this),this.c.Le(null)),Le.prototype.setMap.call(this,t),t&&(this.c.Le(this.C),this.v.push(ie(t,"propertychange",this.Kl,this)),this.c.Xh().dc()||this.c.qj(t.Kc()),t=t.Z()))&&(ie(t,ge("rotation"),this.Ge,this),ei(t)&&(this.c.Ad(),Cs(this)))},pv.Kl=function(t){"view"===t.key&&((t=t.oldValue)&&ae(t,ge("rotation"),this.Ge,this),t=this.a.Z(),ie(t,ge("rotation"),this.Ge,this))},pv.Ge=function(){this.c.Z().Oe(this.a.Z().Qa())},pv.an=function(t){t.preventDefault(),Ts(this)},pv.$m=function(){return this.o},pv.cn=function(t){this.o!==t&&(this.o=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.j&&Ts(this))},pv.bn=function(t){this.o&&this.j!==t&&Ts(this)},pv.Zm=function(){return this.j},pv.gl=function(){return this.c},l(As,Le);var $g=[1,2,5];As.prototype.C=function(){return this.get(Zg)},As.prototype.T=function(){Is(this)},As.prototype.I=function(t){this.set(Zg,t)};var Zg="units";l(Ls,Le),Ls.prototype.ka=function(){pe(this.o),Le.prototype.ka.call(this)};var Jg=0;pv=Ls.prototype,pv.setMap=function(t){Le.prototype.setMap.call(this,t),t&&t.render()},pv.vl=function(t){var e=this.a.Z();t=ks(this,_(1===this.j?(t.offsetX-this.I[0]/2)/this.D:(t.offsetY-this.I[1]/2)/this.l,0,1)),e.animate({resolution:e.constrainResolution(t),duration:this.T,easing:Fe})},pv.yl=function(t){this.u||t.b.target!==this.element.firstElementChild||(ni(this.a.Z(),1,1),this.C=t.clientX,this.B=t.clientY,this.u=!0)},pv.wl=function(t){if(this.u){var e=this.element.firstElementChild;this.c=ks(this,_(1===this.j?(t.clientX-this.C+parseInt(e.style.left,10))/this.D:(t.clientY-this.B+parseInt(e.style.top,10))/this.l,0,1)),this.a.Z().Vc(this.c),Os(this,this.c),this.C=t.clientX,this.B=t.clientY}},pv.xl=function(){if(this.u){var t=this.a.Z();ni(t,1,-1),t.animate({resolution:t.constrainResolution(this.c),duration:this.T,easing:Fe}),this.u=!1,this.B=this.C=void 0}},l(Rs,Le),Rs.prototype.j=function(t){t.preventDefault(),t=this.a.Z();var e=this.c?this.c:t.v.G();t.Qf(e)},l(Fs,ve),pv=Fs.prototype,pv.ka=function(){this.gg(!1),ve.prototype.ka.call(this)},pv.ap=function(t){if(null!==t.alpha){var e=S(t.alpha);this.set(Qg,e),"boolean"==typeof t.absolute&&t.absolute?this.set(nm,e):"number"==typeof t.webkitCompassHeading&&-1!=t.webkitCompassAccuracy&&this.set(nm,S(t.webkitCompassHeading))}null!==t.beta&&this.set(tm,S(t.beta)),null!==t.gamma&&this.set(em,S(t.gamma)),this.s()},pv.Fk=function(){return this.get(Qg)},pv.Ik=function(){return this.get(tm)},pv.Ok=function(){return this.get(em)},pv.um=function(){return this.get(nm)},pv.Th=function(){return this.get(om)},pv.vm=function(){if(Zv){var t=this.Th();t&&!this.a?this.a=ie(window,"deviceorientation",this.ap,this):t||null===this.a||(se(this.a),this.a=null)}},pv.gg=function(t){this.set(om,t)};var Qg="alpha",tm="beta",em="gamma",nm="heading",om="tracking";pv=Ds.prototype,pv.Ze=function(){return this.f},pv.$e=function(){return this.l},pv.af=function(){return this.g},pv.bf=function(){return this.a},pv.Ae=function(){return this.v},pv.td=function(t){this.f=t},pv.cf=function(t){this.g=t},pv.ud=function(t){this.a=t},l(js,Ds),pv=js.prototype,pv.clone=function(){var t=new js({fill:this.Fa()?this.Fa().clone():void 0,points:this.o,radius:this.b,radius2:this.i,angle:this.j,snapToPixel:this.v,stroke:this.Ga()?this.Ga().clone():void 0,rotation:this.g,rotateWithView:this.l,atlasManager:this.S});return t.td(this.f),t.ud(this.a),t},pv.Hc=function(){return this.C},pv.Pi=function(){return this.j},pv.Fa=function(){return this.Va},pv.qg=function(){return this.D},pv.Y=function(){return this.u},pv.ye=function(){return this.B},pv.Ye=function(){return 2},pv.Oc=function(){return this.oa},pv.Qi=function(){return this.o},pv.Ri=function(){return this.b},pv.Fh=function(){return this.i},pv.ic=function(){return this.ra},pv.Ga=function(){return this.Ya},pv.Nh=function(){},pv.load=function(){},pv.Bj=function(){},pv.rh=function(t,e,n,o){e.setTransform(1,0,0,1,0,0),e.translate(n,o),e.beginPath();var i=this.o;if(1/0===i)e.arc(t.size/2,t.size/2,this.b,0,2*Math.PI,!0);else{var r=void 0!==this.i?this.i:this.b;for(r!==this.b&&(i*=2),n=0;n<=i;n++){o=2*n*Math.PI/i-Math.PI/2+this.j;var a=n%2?r:this.b;e.lineTo(t.size/2+a*Math.cos(o),t.size/2+a*Math.sin(o))}}this.Va&&(n=this.Va.b,null===n&&(n=vg),e.fillStyle=Te(n),e.fill()),this.Ya&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.zj,t.lineDash&&e.setLineDash(t.lineDash),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},pv.qh=function(t,e,n,o){if(e.setTransform(1,0,0,1,0,0),e.translate(n,o),e.beginPath(),n=this.o,1/0===n)e.arc(t.size/2,t.size/2,this.b,0,2*Math.PI,!0);else{o=void 0!==this.i?this.i:this.b,o!==this.b&&(n*=2);var i;for(i=0;i<=n;i++){var r=2*i*Math.PI/n-Math.PI/2+this.j,a=i%2?o:this.b;e.lineTo(t.size/2+a*Math.cos(r),t.size/2+a*Math.sin(r))}}e.fillStyle=vg,e.fill(),this.Ya&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.zj,t.lineDash&&e.setLineDash(t.lineDash),e.stroke()),e.closePath()},l(Bs,js),Bs.prototype.clone=function(){var t=new Bs({fill:this.Fa()?this.Fa().clone():void 0,stroke:this.Ga()?this.Ga().clone():void 0,radius:this.b,snapToPixel:this.v,atlasManager:this.S});return t.td(this.f),t.ud(this.a),t},Bs.prototype.Uc=function(t){this.b=t,Ks(this,this.S)},Xs.prototype.clone=function(){var t=this.b;return new Xs({color:t&&t.slice?t.slice():t||void 0})},Xs.prototype.i=function(){return this.b},Xs.prototype.c=function(t){this.b=t,this.a=void 0},pv=Us.prototype,pv.clone=function(){var t=this.V();return t&&t.clone&&(t=t.clone()),new Us({geometry:t,fill:this.Fa()?this.Fa().clone():void 0,image:this.Y()?this.Y().clone():void 0,stroke:this.Ga()?this.Ga().clone():void 0,text:this.Na()?this.Na().clone():void 0,zIndex:this.Ba()})},pv.V=function(){return this.Gc},pv.Pk=function(){return this.Za},pv.Fa=function(){return this.Va},pv.pf=function(t){this.Va=t},pv.Y=function(){return this.M},pv.Og=function(t){this.M=t},pv.Ga=function(){return this.Ya},pv.qf=function(t){this.Ya=t},pv.Na=function(){return this.Ia},pv.xd=function(t){this.Ia=t},pv.Ba=function(){return this.Fj},pv.Ra=function(t){"function"==typeof t?this.Za=t:"string"==typeof t?this.Za=function(e){return e.get(t)}:t?t&&(this.Za=function(){return t}):this.Za=zs,this.Gc=t},pv.Vb=function(t){this.Fj=t};var im=null;l(Hs,ve),pv=Hs.prototype,pv.clone=function(){var t=new Hs(this.N());t.Tc(this.c);var e=this.V();return e&&t.Ra(e.clone()),(e=this.g)&&t.hg(e),t},pv.V=function(){return this.get(this.c)},pv.wm=function(){return this.a},pv.Qk=function(){return this.c},pv.xm=function(){return this.g},pv.Lc=function(){return this.j},pv.Al=function(){this.s()},pv.Ee=function(){this.f&&(se(this.f),this.f=null);var t=this.V();t&&(this.f=ie(t,"change",this.Al,this)),this.s()},pv.Ra=function(t){this.set(this.c,t)},pv.hg=function(t){this.j=(this.g=t)?qs(t):void 0,this.s()},pv.jc=function(t){this.a=t,this.s()},pv.Tc=function(t){ae(this,ge(this.c),this.Ee,this),this.c=t,ie(this,ge(this.c),this.Ee,this),this.Ee()};var rm=document.implementation.createDocument("","",null),am=uu();l(xu,gu),pv=xu.prototype,pv.U=function(){return"json"},pv.Tb=function(t,e){return this.Rc(wu(t),mu(this,t,e))},pv.Oa=function(t,e){return this.yg(wu(t),mu(this,t,e))},pv.Sc=function(t,e){return this.Cg(wu(t),mu(this,t,e))},pv.kb=function(t){return this.Fg(wu(t))},pv.Bd=function(t,e){return JSON.stringify(this.Zc(t,e))},pv.Wb=function(t,e){return JSON.stringify(this.he(t,e))},pv.$c=function(t,e){return JSON.stringify(this.je(t,e))},l(Mu,so),pv=Mu.prototype,pv.mk=function(t){this.A?i(this.A,t):this.A=t.slice(),this.s()},pv.clone=function(){var t=new Mu(null);return t.ba(this.ja,this.A.slice()),t},pv.Kb=function(t,e,n,o){return o<O(this.G(),t,e)?o:(this.u!=this.i&&(this.D=Math.sqrt(yo(this.A,0,this.A.length,this.a,0)),this.u=this.i),go(this.A,0,this.A.length,this.a,this.D,!1,t,e,n,o))},pv.Ck=function(t,e){return Oo(this.A,0,this.A.length,this.a,t,e)},pv.nn=function(t,e){return"XYM"!=this.ja&&"XYZM"!=this.ja?null:Su(this.A,0,this.A.length,this.a,t,void 0!==e&&e)},pv.X=function(){return wo(this.A,0,this.A.length,this.a)},pv.wh=function(t,e){return Pu(this.A,0,this.A.length,this.a,t,e)},pv.pn=function(){var t,e=this.A,n=this.a,o=e[0],i=e[1],r=0;for(t=0+n;t<this.A.length;t+=n)var a=e[t],s=e[t+1],r=r+Math.sqrt((a-o)*(a-o)+(s-i)*(s-i)),o=a,i=s;return r},pv.hd=function(t){var e=[];return e.length=So(this.A,0,this.A.length,this.a,t,e,0),t=new Mu(null),t.ba("XY",e),t},pv.U=function(){return"LineString"},pv.Xa=function(t){return ko(this.A,0,this.A.length,this.a,t)},pv.ma=function(t,e){t?(po(this,e,t,1),this.A||(this.A=[]),this.A.length=_o(this.A,0,t,this.a),this.s()):this.ba("XY",null)},pv.ba=function(t,e){ho(this,t,e),this.s()},l(Au,so),pv=Au.prototype,pv.nk=function(t){this.A?i(this.A,t.ga().slice()):this.A=t.ga().slice(),this.c.push(this.A.length),this.s()},pv.clone=function(){var t=new Au(null);return t.ba(this.ja,this.A.slice(),this.c.slice()),t},pv.Kb=function(t,e,n,o){return o<O(this.G(),t,e)?o:(this.j!=this.i&&(this.u=Math.sqrt(vo(this.A,0,this.c,this.a,0)),this.j=this.i),mo(this.A,0,this.c,this.a,this.u,!1,t,e,n,o))},pv.rn=function(t,e,n){return"XYM"!=this.ja&&"XYZM"!=this.ja||!this.A.length?null:Cu(this.A,this.c,this.a,t,void 0!==e&&e,void 0!==n&&n)},pv.X=function(){return Po(this.A,0,this.c,this.a)},pv.Bb=function(){return this.c},pv.Yk=function(t){if(0>t||this.c.length<=t)return null;var e=new Mu(null);return e.ba(this.ja,this.A.slice(t?this.c[t-1]:0,this.c[t])),e},pv.gd=function(){var t,e=this.A,n=this.c,o=this.ja,i=[],r=0,a=0;for(t=n.length;a<t;++a){var s=n[a],u=new Mu(null);u.ba(o,e.slice(r,s)),i.push(u),r=s}return i},pv.hd=function(t){var e,n=[],o=[],i=this.A,r=this.c,a=this.a,s=0,u=0,h=0;for(e=r.length;h<e;++h){var p=r[h],u=So(i,s,p,a,t,n,u);o.push(u),s=p}return n.length=u,t=new Au(null),t.ba("XY",n,o),t},pv.U=function(){return"MultiLineString"},pv.Xa=function(t){t:{var e,n=this.A,o=this.c,i=this.a,r=0,a=0;for(e=o.length;a<e;++a){if(ko(n,r,o[a],i,t)){t=!0;break t}r=o[a]}t=!1}return t},pv.ma=function(t,e){t?(po(this,e,t,2),this.A||(this.A=[]),t=xo(this.A,0,t,this.a,this.c),this.A.length=t.length?t[t.length-1]:0,this.s()):this.ba("XY",null,this.c)},pv.ba=function(t,e,n){ho(this,t,e),this.c=n,this.s()},l(Lu,so),pv=Lu.prototype,pv.qk=function(t){this.A?i(this.A,t.ga()):this.A=t.ga().slice(),this.s()},pv.clone=function(){var t=new Lu(null);return t.ba(this.ja,this.A.slice()),t},pv.Kb=function(t,e,n,o){if(o<O(this.G(),t,e))return o;var i,r=this.A,a=this.a,s=0;for(i=r.length;s<i;s+=a){var u=P(t,e,r[s],r[s+1]);if(u<o){for(o=u,u=0;u<a;++u)n[u]=r[s+u];n.length=a}}return o},pv.X=function(){return wo(this.A,0,this.A.length,this.a)},pv.il=function(t){var e=this.A?this.A.length/this.a:0;return 0>t||e<=t?null:(e=new Ao(null),e.ba(this.ja,this.A.slice(t*this.a,(t+1)*this.a)),e)},pv.Zd=function(){var t,e=this.A,n=this.ja,o=this.a,i=[],r=0;for(t=e.length;r<t;r+=o){var a=new Ao(null);a.ba(n,e.slice(r,r+o)),i.push(a)}return i},pv.U=function(){return"MultiPoint"},pv.Xa=function(t){var e,n=this.A,o=this.a,i=0;for(e=n.length;i<e;i+=o){var r=n[i],a=n[i+1];if(F(t,r,a))return!0}return!1},pv.ma=function(t,e){t?(po(this,e,t,1),this.A||(this.A=[]),this.A.length=_o(this.A,0,t,this.a),this.s()):this.ba("XY",null)},pv.ba=function(t,e){ho(this,t,e),this.s()},l(Nu,so),pv=Nu.prototype,pv.rk=function(t){if(this.A){var e=this.A.length;i(this.A,t.ga()),t=t.Bb().slice();var n,o=0;for(n=t.length;o<n;++o)t[o]+=e}else this.A=t.ga().slice(),t=t.Bb().slice(),this.c.push();this.c.push(t),this.s()},pv.clone=function(){for(var t=new Nu(null),e=this.c.length,n=Array(e),o=0;o<e;++o)n[o]=this.c[o].slice();return Ru(t,this.ja,this.A.slice(),n),t},pv.Kb=function(t,e,n,o){if(o<O(this.G(),t,e))return o;if(this.C!=this.i){var i,r=this.c,a=0,s=0,u=0;for(i=r.length;u<i;++u)var h=r[u],s=vo(this.A,a,h,this.a,s),a=h[h.length-1];this.B=Math.sqrt(s),this.C=this.i}r=ku(this),a=this.c,s=this.a,u=this.B,i=0;var p,h=[NaN,NaN],l=0;for(p=a.length;l<p;++l){var c=a[l];o=mo(r,i,c,s,u,!0,t,e,n,o,h),i=c[c.length-1]}return o},pv.Mc=function(t,e){t:{var n=ku(this),o=this.c,i=0;if(o.length){var r,a=0;for(r=o.length;a<r;++a){var s=o[a];if(Lo(n,i,s,this.a,t,e)){t=!0;break t}i=s[s.length-1]}}t=!1}return t},pv.sn=function(){var t,e=ku(this),n=this.c,o=0,i=0,r=0;for(t=n.length;r<t;++r)var a=n[r],i=i+co(e,o,a,this.a),o=a[a.length-1];return i},pv.X=function(t){if(void 0!==t){var e=ku(this).slice();Ko(e,this.c,this.a,t)}else e=this.A;t=e,e=this.c;var n,o=this.a,i=0,r=[],a=0,s=0;for(n=e.length;s<n;++s){var u=e[s];r[a++]=Po(t,i,u,o,r[a]),i=u[u.length-1]}return r.length=a,r},pv.Uk=function(){var t=new Lu(null);return t.ba("XY",Ou(this).slice()),t},pv.hd=function(t){var e=[],n=[],o=this.A,i=this.c,r=this.a;t=Math.sqrt(t);var a,s=0,u=0,h=0;for(a=i.length;h<a;++h){var p=i[h],l=[],u=Co(o,s,p,r,t,e,u,l);n.push(l),s=p[p.length-1]}return e.length=u,o=new Nu(null),Ru(o,"XY",e,n),o},pv.jl=function(t){if(0>t||this.c.length<=t)return null;if(t){var e=this.c[t-1];e=e[e.length-1]}else e=0;t=this.c[t].slice();var n=t[t.length-1];if(e){var o,i=0;for(o=t.length;i<o;++i)t[i]-=e}return i=new Bo(null),i.ba(this.ja,this.A.slice(e,n),t),i},pv.Td=function(){var t,e,n=this.ja,o=this.A,i=this.c,r=[],a=0,s=0;for(t=i.length;s<t;++s){var u=i[s].slice(),h=u[u.length-1];if(a){var p=0;for(e=u.length;p<e;++p)u[p]-=a}p=new Bo(null),p.ba(n,o.slice(a,h),u),r.push(p),a=h}return r},pv.U=function(){return"MultiPolygon"},pv.Xa=function(t){t:{var e,n=ku(this),o=this.c,i=this.a,r=0,a=0;for(e=o.length;a<e;++a){var s=o[a];if(Ro(n,r,s,i,t)){t=!0;break t}r=s[s.length-1]}t=!1}return t},pv.ma=function(t,e){if(t){po(this,e,t,3),this.A||(this.A=[]),e=this.A;var n,o=this.a,i=this.c,r=0,i=i?i:[],a=0,s=0;for(n=t.length;s<n;++s)r=xo(e,r,t[s],o,i[a]),i[a++]=r,r=r[r.length-1];i.length=a,i.length?(t=i[i.length-1],this.A.length=t.length?t[t.length-1]:0):this.A.length=0,this.s()}else Ru(this,"XY",null,this.c)},l(Du,xu);var sm={Point:function(t){return void 0!==t.m&&void 0!==t.z?new Ao([t.x,t.y,t.z,t.m],"XYZM"):void 0!==t.z?new Ao([t.x,t.y,t.z],"XYZ"):void 0!==t.m?new Ao([t.x,t.y,t.m],"XYM"):new Ao([t.x,t.y])},LineString:function(t){return new Mu(t.paths[0],Ku(t))},Polygon:function(t){return new Bo(t.rings,Ku(t))},MultiPoint:function(t){return new Lu(t.points,Ku(t))},MultiLineString:function(t){return new Au(t.paths,Ku(t))},MultiPolygon:function(t){return new Nu(t.rings,Ku(t))}},um={Point:function(t){var e,n=t.X();return t=t.ja,"XYZ"===t?e={x:n[0],y:n[1],z:n[2]}:"XYM"===t?e={x:n[0],y:n[1],m:n[2]}:"XYZM"===t?e={x:n[0],y:n[1],z:n[2],m:n[3]}:"XY"===t?e={x:n[0],y:n[1]}:y(!1,34),e},LineString:function(t){var e=Bu(t);return{hasZ:e.hasZ,hasM:e.hasM,paths:[t.X()]}},Polygon:function(t){var e=Bu(t);return{hasZ:e.hasZ,hasM:e.hasM,rings:t.X(!1)}},MultiPoint:function(t){var e=Bu(t);return{hasZ:e.hasZ,hasM:e.hasM,points:t.X()}},MultiLineString:function(t){var e=Bu(t);return{hasZ:e.hasZ,hasM:e.hasM,paths:t.X()}},MultiPolygon:function(t){var e=Bu(t);t=t.X(!1);for(var n=[],o=0;o<t.length;o++)for(var i=t[o].length-1;0<=i;i--)n.push(t[o][i]);return{hasZ:e.hasZ,hasM:e.hasM,rings:n}}};pv=Du.prototype,pv.Rc=function(t,e){var n=ju(t.geometry,e),o=new Hs;return this.b&&o.Tc(this.b),o.Ra(n),e&&e.dg&&t.attributes[e.dg]&&o.jc(t.attributes[e.dg]),t.attributes&&o.H(t.attributes),o},pv.yg=function(t,e){if(e=e?e:{},t.features){var n,o=[],i=t.features;for(e.dg=t.objectIdFieldName,t=0,n=i.length;t<n;++t)o.push(this.Rc(i[t],e));return o}return[this.Rc(t,e)]},pv.Cg=function(t,e){return ju(t,e)},pv.Fg=function(t){return t.spatialReference&&t.spatialReference.wkid?Mt("EPSG:"+t.spatialReference.wkid):null},pv.je=function(t,e){return Xu(t,bu(this,e))},pv.Zc=function(t,e){e=bu(this,e);var n={},o=t.V();return o&&(n.geometry=Xu(o,e)),o=t.N(),delete o[t.c],n.attributes=pt(o)?{}:o,e&&e.featureProjection&&(n.spatialReference={wkid:Mt(e.featureProjection).mb.split(":").pop()}),n},pv.he=function(t,e){e=bu(this,e);var n,o=[],i=0;for(n=t.length;i<n;++i)o.push(this.Zc(t[i],e));return{features:o}},l(Yu,Uu),l(Gu,Yu),l(Wu,Uu),l(zu,Uu),l(Hu,zu),l(qu,zu),l(Vu,qu),l($u,qu),l(Zu,qu),l(Ju,Uu),l(Qu,Ju),l(th,zu),l(eh,zu),l(nh,zu),l(oh,qu),l(ih,qu),l(rh,Uu),l(ah,qu),l(sh,Yu),l(uh,Ju),l(lh,io),pv=lh.prototype,pv.clone=function(){var t=new lh(null);return t.oj(this.a),t},pv.Kb=function(t,e,n,o){if(o<O(this.G(),t,e))return o;var i,r=this.a,a=0;for(i=r.length;a<i;++a)o=r[a].Kb(t,e,n,o);return o},pv.Mc=function(t,e){var n,o=this.a,i=0;for(n=o.length;i<n;++i)if(o[i].Mc(t,e))return!0;return!1},pv.se=function(t){B(t);for(var e=this.a,n=0,o=e.length;n<o;++n)G(t,e[n].G());return t},pv.Vf=function(){return ch(this.a)},pv.Vd=function(t){if(this.o!=this.i&&(ut(this.f),this.g=0,this.o=this.i),0>t||this.g&&t<this.g)return this;var e=t.toString();if(this.f.hasOwnProperty(e))return this.f[e];var n,o=[],i=this.a,r=!1,a=0;for(n=i.length;a<n;++a){var s=i[a],u=s.Vd(t);o.push(u),u!==s&&(r=!0)}return r?(t=new lh(null),fh(t),t.a=o,dh(t),t.s(),this.f[e]=t):(this.g=t,this)},pv.U=function(){return"GeometryCollection"},pv.Xa=function(t){var e,n=this.a,o=0;for(e=n.length;o<e;++o)if(n[o].Xa(t))return!0;return!1},pv.rotate=function(t,e){for(var n=this.a,o=0,i=n.length;o<i;++o)n[o].rotate(t,e);this.s()},pv.scale=function(t,e,n){n||(n=Z(this.G()));for(var o=this.a,i=0,r=o.length;i<r;++i)o[i].scale(t,e,n);this.s()},pv.oj=function(t){t=ch(t),fh(this),this.a=t,dh(this),this.s()},pv.Dc=function(t){var e,n=this.a,o=0;for(e=n.length;o<e;++o)n[o].Dc(t);this.s()},pv.translate=function(t,e){var n,o=this.a,i=0;for(n=o.length;i<n;++i)o[i].translate(t,e);this.s()},pv.ka=function(){fh(this),io.prototype.ka.call(this)},l(yh,xu);var hm={Point:function(t){return new Ao(t.coordinates)},LineString:function(t){return new Mu(t.coordinates)},Polygon:function(t){return new Bo(t.coordinates)},MultiPoint:function(t){return new Lu(t.coordinates)},MultiLineString:function(t){return new Au(t.coordinates)},MultiPolygon:function(t){return new Nu(t.coordinates)},GeometryCollection:function(t,e){return t=t.geometries.map(function(t){return vh(t,e)}),new lh(t)}},pm={Point:function(t){return{type:"Point",coordinates:t.X()}},LineString:function(t){return{type:"LineString",coordinates:t.X()}},Polygon:function(t,e){if(e)var n=e.rightHanded;return{type:"Polygon",coordinates:t.X(n)}},MultiPoint:function(t){return{type:"MultiPoint",coordinates:t.X()}},MultiLineString:function(t){return{type:"MultiLineString",coordinates:t.X()}},MultiPolygon:function(t,e){if(e)var n=e.rightHanded;return{type:"MultiPolygon",coordinates:t.X(n)}},GeometryCollection:function(t,e){return{type:"GeometryCollection",geometries:t.a.map(function(t){var n=gv({},e);return delete n.featureProjection,
gh(t,n)})}},Circle:function(){return{type:"GeometryCollection",geometries:[]}}};pv=yh.prototype,pv.Rc=function(t,e){t="Feature"===t.type?t:{type:"Feature",geometry:t},e=vh(t.geometry,e);var n=new Hs;return this.b&&n.Tc(this.b),n.Ra(e),void 0!==t.id&&n.jc(t.id),t.properties&&n.H(t.properties),n},pv.yg=function(t,e){if("FeatureCollection"===t.type){var n=[];t=t.features;var o,i=0;for(o=t.length;i<o;++i)n.push(this.Rc(t[i],e))}else n=[this.Rc(t,e)];return n},pv.Cg=function(t,e){return vh(t,e)},pv.Fg=function(t){t=t.crs;var e;return t?"name"==t.type?e=Mt(t.properties.name):"EPSG"==t.type?e=Mt("EPSG:"+t.properties.code):y(!1,36):e=this.defaultDataProjection,e},pv.Zc=function(t,e){e=bu(this,e);var n={type:"Feature"},o=t.a;return void 0!==o&&(n.id=o),(o=t.V())?n.geometry=gh(o,e):n.geometry=null,e=t.N(),delete e[t.c],pt(e)?n.properties=null:n.properties=e,n},pv.he=function(t,e){e=bu(this,e);var n,o=[],i=0;for(n=t.length;i<n;++i)o.push(this.Zc(t[i],e));return{type:"FeatureCollection",features:o}},pv.je=function(t,e){return gh(t,bu(this,e))},l(mh,gu),pv=mh.prototype,pv.U=function(){return"xml"},pv.Tb=function(t,e){return Js(t)?bh(this,t,e):Qs(t)?this.xg(t,e):"string"==typeof t?(t=tu(t),bh(this,t,e)):null},pv.xg=function(){return null},pv.Oa=function(t,e){return Js(t)?_h(this,t,e):Qs(t)?this.zc(t,e):"string"==typeof t?(t=tu(t),_h(this,t,e)):[]},pv.Sc=function(t,e){return Js(t)?null:Qs(t)?this.aj(t,e):("string"==typeof t&&tu(t),null)},pv.aj=function(){return null},pv.kb=function(t){return Js(t)?this.Eg(t):Qs(t)?this.kf(t):"string"==typeof t?(t=tu(t),this.Eg(t)):null},pv.Eg=function(){return this.defaultDataProjection},pv.kf=function(){return this.defaultDataProjection},pv.Bd=function(t,e){return this.i.serializeToString(this.Vg(t,e))},pv.Vg=function(){return null},pv.Wb=function(t,e){return t=this.Xb(t,e),this.i.serializeToString(t)},pv.Xb=function(){return null},pv.$c=function(t,e){return t=this.ie(t,e),this.i.serializeToString(t)},pv.ie=function(){return null},l(xh,mh);var lm=/^[\s\xa0]*$/;pv=xh.prototype,pv.be=function(t,e){var n=t.localName,o=null;if("FeatureCollection"==n)o="http://www.opengis.net/wfs"===t.namespaceURI?cu([],this.b,t,e,this):cu(null,this.b,t,e,this);else if("featureMembers"==n||"featureMember"==n){var i,r=e[0],a=r.featureType,s=r.featureNS;if(!a&&t.childNodes){a=[],s={};var u=0;for(i=t.childNodes.length;u<i;++u){var h=t.childNodes[u];if(1===h.nodeType){var p=h.nodeName.split(":").pop();if(-1===a.indexOf(p)){var l,c="",f=0,h=h.namespaceURI;for(l in s){if(s[l]===h){c=l;break}++f}c||(c="p"+f,s[c]=h),a.push(c+":"+p)}}}"featureMember"!=n&&(r.featureType=a,r.featureNS=s)}"string"==typeof s&&(u=s,s={},s.p0=u);var d,r={},a=Array.isArray(a)?a:[a];for(d in s){for(p={},u=0,i=a.length;u<i;++u)(-1===a[u].indexOf(":")?"p0":a[u].split(":")[0])===d&&(p[a[u].split(":").pop()]="featureMembers"==n?nu(this.wg,this):ou(this.wg,this));r[s[d]]=p}o="featureMember"==n?cu(void 0,r,t,e):cu([],r,t,e)}return null===o&&(o=[]),o},pv.gf=function(t,e){var n=e[0];if(n.srsName=t.firstElementChild.getAttribute("srsName"),t=cu(null,this.Zg,t,e,this))return _u(t,!1,n)},pv.wg=function(t,e){var n;(n=t.getAttribute("fid"))||(n=t.getAttributeNS("http://www.opengis.net/gml","id")||"");var o,i={};for(t=t.firstElementChild;t;t=t.nextElementSibling){var r=t.localName;if(0===t.childNodes.length||1===t.childNodes.length&&(3===t.firstChild.nodeType||4===t.firstChild.nodeType)){var a=$s(t,!1);lm.test(a)&&(a=void 0),i[r]=a}else"boundedBy"!==r&&(o=r),i[r]=this.gf(t,e)}return e=new Hs(i),o&&e.Tc(o),n&&e.jc(n),e},pv.fj=function(t,e){if(t=this.ff(t,e))return e=new Ao(null),e.ba("XYZ",t),e},pv.dj=function(t,e){if(t=cu([],this.Nj,t,e,this))return new Lu(t)},pv.cj=function(t,e){if(t=cu([],this.Mj,t,e,this))return e=new Au(null),Iu(e,t),e},pv.ej=function(t,e){if(t=cu([],this.Oj,t,e,this))return e=new Nu(null),Fu(e,t),e},pv.Xi=function(t,e){lu(this.Rj,t,e,this)},pv.Mh=function(t,e){lu(this.Kj,t,e,this)},pv.Yi=function(t,e){lu(this.Sj,t,e,this)},pv.hf=function(t,e){if(t=this.ff(t,e))return e=new Mu(null),e.ba("XYZ",t),e},pv.wp=function(t,e){if(t=cu(null,this.ke,t,e,this))return t},pv.bj=function(t,e){if(t=this.ff(t,e))return e=new Mo(null),To(e,"XYZ",t),e},pv.jf=function(t,e){if((t=cu([null],this.zf,t,e,this))&&t[0]){e=new Bo(null);var n,o=t[0],r=[o.length],a=1;for(n=t.length;a<n;++a)i(o,t[a]),r.push(o.length);return e.ba("XYZ",o,r),e}},pv.ff=function(t,e){return cu(null,this.ke,t,e,this)},pv.Nj={"http://www.opengis.net/gml":{pointMember:nu(xh.prototype.Xi),pointMembers:nu(xh.prototype.Xi)}},pv.Mj={"http://www.opengis.net/gml":{lineStringMember:nu(xh.prototype.Mh),lineStringMembers:nu(xh.prototype.Mh)}},pv.Oj={"http://www.opengis.net/gml":{polygonMember:nu(xh.prototype.Yi),polygonMembers:nu(xh.prototype.Yi)}},pv.Rj={"http://www.opengis.net/gml":{Point:nu(xh.prototype.ff)}},pv.Kj={"http://www.opengis.net/gml":{LineString:nu(xh.prototype.hf)}},pv.Sj={"http://www.opengis.net/gml":{Polygon:nu(xh.prototype.jf)}},pv.le={"http://www.opengis.net/gml":{LinearRing:ou(xh.prototype.wp)}},pv.aj=function(t,e){return(t=this.gf(t,[mu(this,t,e?e:{})]))?t:null},pv.zc=function(t,e){var n={featureType:this.featureType,featureNS:this.featureNS};return e&&gv(n,mu(this,t,e)),this.be(t,[n])||[]},pv.kf=function(t){return Mt(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},l(kh,xh),pv=kh.prototype,pv.Ap=function(t,e){if(t=cu([],this.Lj,t,e,this))return e=new Au(null),Iu(e,t),e},pv.Bp=function(t,e){if(t=cu([],this.Pj,t,e,this))return e=new Nu(null),Fu(e,t),e},pv.ph=function(t,e){lu(this.Hj,t,e,this)},pv.Aj=function(t,e){lu(this.Uj,t,e,this)},pv.Ep=function(t,e){return cu([null],this.Qj,t,e,this)},pv.Hp=function(t,e){return cu([null],this.Tj,t,e,this)},pv.Fp=function(t,e){return cu([null],this.zf,t,e,this)},pv.zp=function(t,e){return cu([null],this.ke,t,e,this)},pv.cm=function(t,e){(t=cu(void 0,this.le,t,e,this))&&e[e.length-1].push(t)},pv.yk=function(t,e){(t=cu(void 0,this.le,t,e,this))&&(e[e.length-1][0]=t)},pv.gj=function(t,e){if((t=cu([null],this.Vj,t,e,this))&&t[0]){e=new Bo(null);var n,o=t[0],r=[o.length],a=1;for(n=t.length;a<n;++a)i(o,t[a]),r.push(o.length);return e.ba("XYZ",o,r),e}},pv.Zi=function(t,e){if(t=cu([null],this.Ij,t,e,this))return e=new Mu(null),e.ba("XYZ",t),e},pv.vp=function(t,e){return t=cu([null],this.Jj,t,e,this),K(t[1][0],t[1][1],t[2][0],t[2][1])},pv.xp=function(t,e){var n=$s(t,!1),o=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/;t=[];for(var i;i=o.exec(n);)t.push(parseFloat(i[1])),n=n.substr(i[0].length);if(""===n){if(e=e[0].srsName,n="enu",e&&(n=Mt(e).b),"neu"===n)for(e=0,n=t.length;e<n;e+=3)o=t[e],t[e]=t[e+1],t[e+1]=o;if(e=t.length,2==e&&t.push(0),e)return t}},pv.Bg=function(t,e){var n=$s(t,!1).replace(/^\s*|\s*$/g,""),o=e[0].srsName,i=t.parentNode.getAttribute("srsDimension");e="enu",o&&(e=Mt(o).b),n=n.split(/\s+/),o=2,t.getAttribute("srsDimension")?o=Ah(t.getAttribute("srsDimension")):t.getAttribute("dimension")?o=Ah(t.getAttribute("dimension")):i&&(o=Ah(i));for(var r,a=[],s=0,u=n.length;s<u;s+=o)t=parseFloat(n[s]),i=parseFloat(n[s+1]),r=3===o?parseFloat(n[s+2]):0,"en"===e.substr(0,2)?a.push(t,i,r):a.push(i,t,r);return a},pv.ke={"http://www.opengis.net/gml":{pos:ou(kh.prototype.xp),posList:ou(kh.prototype.Bg)}},pv.zf={"http://www.opengis.net/gml":{interior:kh.prototype.cm,exterior:kh.prototype.yk}},pv.Zg={"http://www.opengis.net/gml":{Point:ou(xh.prototype.fj),MultiPoint:ou(xh.prototype.dj),LineString:ou(xh.prototype.hf),MultiLineString:ou(xh.prototype.cj),LinearRing:ou(xh.prototype.bj),Polygon:ou(xh.prototype.jf),MultiPolygon:ou(xh.prototype.ej),Surface:ou(kh.prototype.gj),MultiSurface:ou(kh.prototype.Bp),Curve:ou(kh.prototype.Zi),MultiCurve:ou(kh.prototype.Ap),Envelope:ou(kh.prototype.vp)}},pv.Lj={"http://www.opengis.net/gml":{curveMember:nu(kh.prototype.ph),curveMembers:nu(kh.prototype.ph)}},pv.Pj={"http://www.opengis.net/gml":{surfaceMember:nu(kh.prototype.Aj),surfaceMembers:nu(kh.prototype.Aj)}},pv.Hj={"http://www.opengis.net/gml":{LineString:nu(xh.prototype.hf),Curve:nu(kh.prototype.Zi)}},pv.Uj={"http://www.opengis.net/gml":{Polygon:nu(xh.prototype.jf),Surface:nu(kh.prototype.gj)}},pv.Vj={"http://www.opengis.net/gml":{patches:ou(kh.prototype.Ep)}},pv.Ij={"http://www.opengis.net/gml":{segments:ou(kh.prototype.Hp)}},pv.Jj={"http://www.opengis.net/gml":{lowerCorner:nu(kh.prototype.Bg),upperCorner:nu(kh.prototype.Bg)}},pv.Qj={"http://www.opengis.net/gml":{PolygonPatch:ou(kh.prototype.Fp)}},pv.Tj={"http://www.opengis.net/gml":{LineStringSegment:ou(kh.prototype.zp)}},pv.ni=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),o=Vs(t.namespaceURI,"pos"),t.appendChild(o),n=n[n.length-1],t=n.hasZ;var i=n.srsName;n="enu",i&&(n=Mt(i).b),e=e.X(),n="en"===n.substr(0,2)?e[0]+" "+e[1]:e[1]+" "+e[0],t&&(n+=" "+(e[2]||0)),Oh(o,n)};var cm={"http://www.opengis.net/gml":{lowerCorner:au(Oh),upperCorner:au(Oh)}};pv=kh.prototype,pv.jn=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),du({node:t},cm,am,[e[0]+" "+e[1],e[2]+" "+e[3]],n,["lowerCorner","upperCorner"],this)},pv.ki=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),o=Vs(t.namespaceURI,"posList"),t.appendChild(o),Rh(o,e,n)},pv.hn=function(t,e){t=e[e.length-1],e=t.node;var n=t.exteriorWritten;return void 0===n&&(t.exteriorWritten=!0),Vs(e.namespaceURI,void 0!==n?"interior":"exterior")},pv.Se=function(t,e,n){var o=n[n.length-1],i=o.hasZ,o=o.srsName;"PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName?(e=e.Sd(),du({node:t,hasZ:i,srsName:o},vm,this.hn,e,n,void 0,this)):"Surface"===t.nodeName&&(i=Vs(t.namespaceURI,"patches"),t.appendChild(i),t=Vs(i.namespaceURI,"PolygonPatch"),i.appendChild(t),this.Se(t,e,n))},pv.Re=function(t,e,n){var o=n[n.length-1].srsName;"LineStringSegment"!==t.nodeName&&o&&t.setAttribute("srsName",o),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName?(o=Vs(t.namespaceURI,"posList"),t.appendChild(o),Rh(o,e,n)):"Curve"===t.nodeName&&(o=Vs(t.namespaceURI,"segments"),t.appendChild(o),t=Vs(o.namespaceURI,"LineStringSegment"),o.appendChild(t),this.Re(t,e,n))},pv.mi=function(t,e,n){var o=n[n.length-1],i=o.hasZ,r=o.srsName,o=o.surface;r&&t.setAttribute("srsName",r),e=e.Td(),du({node:t,hasZ:i,srsName:r,surface:o},fm,this.o,e,n,void 0,this)},pv.kn=function(t,e,n){var o=n[n.length-1],i=o.srsName,o=o.hasZ;i&&t.setAttribute("srsName",i),e=e.Zd(),du({node:t,hasZ:o,srsName:i},dm,uu("pointMember"),e,n,void 0,this)},pv.li=function(t,e,n){var o=n[n.length-1],i=o.hasZ,r=o.srsName,o=o.curve;r&&t.setAttribute("srsName",r),e=e.gd(),du({node:t,hasZ:i,srsName:r,curve:o},ym,this.o,e,n,void 0,this)},pv.oi=function(t,e,n){var o=Vs(t.namespaceURI,"LinearRing");t.appendChild(o),this.ki(o,e,n)},pv.pi=function(t,e,n){var o=this.a(e,n);o&&(t.appendChild(o),this.Se(o,e,n))},pv.ln=function(t,e,n){var o=Vs(t.namespaceURI,"Point");t.appendChild(o),this.ni(o,e,n)},pv.ji=function(t,e,n){var o=this.a(e,n);o&&(t.appendChild(o),this.Re(o,e,n))},pv.od=function(t,e,n){var o=n[n.length-1],i=gv({},o);i.node=t;var r;r=Array.isArray(e)?o.dataProjection?Ot(e,o.featureProjection,o.dataProjection):e:_u(e,!0,o),du(i,gm,this.a,[r],n,void 0,this)},pv.ii=function(t,e,n){var o=e.a;o&&t.setAttribute("fid",o);var o=n[n.length-1],i=o.featureNS,r=e.c;o.lb||(o.lb={},o.lb[i]={});var a=e.N();e=[];var s=[];for(h in a){var u=a[h];null!==u&&(e.push(h),s.push(u),h==r||u instanceof io?h in o.lb[i]||(o.lb[i][h]=au(this.od,this)):h in o.lb[i]||(o.lb[i][h]=au(Oh)))}var h=gv({},o);h.node=t,du(h,o.lb,uu(void 0,i),s,n,e)};var fm={"http://www.opengis.net/gml":{surfaceMember:au(kh.prototype.pi),polygonMember:au(kh.prototype.pi)}},dm={"http://www.opengis.net/gml":{pointMember:au(kh.prototype.ln)}},ym={"http://www.opengis.net/gml":{lineStringMember:au(kh.prototype.ji),curveMember:au(kh.prototype.ji)}},vm={"http://www.opengis.net/gml":{exterior:au(kh.prototype.oi),interior:au(kh.prototype.oi)}},gm={"http://www.opengis.net/gml":{Curve:au(kh.prototype.Re),MultiCurve:au(kh.prototype.li),Point:au(kh.prototype.ni),MultiPoint:au(kh.prototype.kn),LineString:au(kh.prototype.Re),MultiLineString:au(kh.prototype.li),LinearRing:au(kh.prototype.ki),Polygon:au(kh.prototype.Se),MultiPolygon:au(kh.prototype.mi),Surface:au(kh.prototype.Se),MultiSurface:au(kh.prototype.mi),Envelope:au(kh.prototype.jn)}},mm={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};kh.prototype.o=function(t,e){return Vs("http://www.opengis.net/gml",mm[e[e.length-1].node.nodeName])},kh.prototype.a=function(t,e){var n=e[e.length-1];e=n.multiSurface;var o=n.surface,i=n.curve,n=n.multiCurve;return Array.isArray(t)?t="Envelope":(t=t.U(),"MultiPolygon"===t&&!0===e?t="MultiSurface":"Polygon"===t&&!0===o?t="Surface":"LineString"===t&&!0===i?t="Curve":"MultiLineString"===t&&!0===n&&(t="MultiCurve")),Vs("http://www.opengis.net/gml",t)},kh.prototype.ie=function(t,e){e=bu(this,e);var n=Vs("http://www.opengis.net/gml","geom"),o={node:n,hasZ:this.hasZ,srsName:this.srsName,curve:this.c,surface:this.l,multiSurface:this.j,multiCurve:this.g};return e&&gv(o,e),this.od(n,t,[o]),n},kh.prototype.Xb=function(t,e){e=bu(this,e);var n=Vs("http://www.opengis.net/gml","featureMembers");n.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var o={srsName:this.srsName,hasZ:this.hasZ,curve:this.c,surface:this.l,multiSurface:this.j,multiCurve:this.g,featureNS:this.featureNS,featureType:this.featureType};e&&gv(o,e),e=[o];var i=e[e.length-1],o=i.featureType,r=i.featureNS,a={};return a[r]={},a[r][o]=au(this.ii,this),i=gv({},i),i.node=n,du(i,a,uu(o,r),t,e),n},l(Fh,xh),pv=Fh.prototype,pv.$i=function(t,e){t=$s(t,!1).replace(/^\s*|\s*$/g,"");var n=e[0].srsName;e="enu",n&&(n=Mt(n))&&(e=n.b),t=t.trim().split(/\s+/);for(var o,i,r=[],a=0,s=t.length;a<s;a++)i=t[a].split(/,+/),n=parseFloat(i[0]),o=parseFloat(i[1]),i=3===i.length?parseFloat(i[2]):0,"en"===e.substr(0,2)?r.push(n,o,i):r.push(o,n,i);return r},pv.tp=function(t,e){return t=cu([null],this.Gj,t,e,this),K(t[1][0],t[1][1],t[1][3],t[1][4])},pv.am=function(t,e){(t=cu(void 0,this.le,t,e,this))&&e[e.length-1].push(t)},pv.bp=function(t,e){(t=cu(void 0,this.le,t,e,this))&&(e[e.length-1][0]=t)},pv.ke={"http://www.opengis.net/gml":{coordinates:ou(Fh.prototype.$i)}},pv.zf={"http://www.opengis.net/gml":{innerBoundaryIs:Fh.prototype.am,outerBoundaryIs:Fh.prototype.bp}},pv.Gj={"http://www.opengis.net/gml":{coordinates:nu(Fh.prototype.$i)}},pv.Zg={"http://www.opengis.net/gml":{Point:ou(xh.prototype.fj),MultiPoint:ou(xh.prototype.dj),LineString:ou(xh.prototype.hf),MultiLineString:ou(xh.prototype.cj),LinearRing:ou(xh.prototype.bj),Polygon:ou(xh.prototype.jf),MultiPolygon:ou(xh.prototype.ej),Box:ou(Fh.prototype.tp)}},pv.jg=function(t,e){var n=e[e.length-1];e=n.multiSurface;var o=n.surface,n=n.multiCurve;return Array.isArray(t)?t="Envelope":(t=t.U(),"MultiPolygon"===t&&!0===e?t="MultiSurface":"Polygon"===t&&!0===o?t="Surface":"MultiLineString"===t&&!0===n&&(t="MultiCurve")),Vs("http://www.opengis.net/gml",t)},pv.ai=function(t,e,n){var o=n[n.length-1],i=gv({},o);i.node=t;var r;r=Array.isArray(e)?o.dataProjection?Ot(e,o.featureProjection,o.dataProjection):e:_u(e,!0,o),du(i,bm,this.jg,[r],n,void 0,this)},pv.Pe=function(t,e,n){var o=n[n.length-1].srsName;"LineStringSegment"!==t.nodeName&&o&&t.setAttribute("srsName",o),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName?(o=Dh(t.namespaceURI),t.appendChild(o),jh(o,e,n)):"Curve"===t.nodeName&&(o=Vs(t.namespaceURI,"segments"),t.appendChild(o),t=Vs(o.namespaceURI,"LineStringSegment"),o.appendChild(t),this.Pe(t,e,n))},pv.Qe=function(t,e,n){var o=n[n.length-1],i=o.hasZ,o=o.srsName;"PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName?(e=e.Sd(),du({node:t,hasZ:i,srsName:o},_m,this.dn,e,n,void 0,this)):"Surface"===t.nodeName&&(i=Vs(t.namespaceURI,"patches"),t.appendChild(i),t=Vs(i.namespaceURI,"PolygonPatch"),i.appendChild(t),this.Qe(t,e,n))},pv.dn=function(t,e){t=e[e.length-1],e=t.node;var n=t.exteriorWritten;return void 0===n&&(t.exteriorWritten=!0),Vs(e.namespaceURI,void 0!==n?"innerBoundaryIs":"outerBoundaryIs")},pv.gi=function(t,e,n){var o=Vs(t.namespaceURI,"LinearRing");t.appendChild(o),this.ci(o,e,n)},pv.di=function(t,e,n){var o=n[n.length-1],i=o.hasZ,r=o.srsName,o=o.curve;r&&t.setAttribute("srsName",r),e=e.gd(),du({node:t,hasZ:i,srsName:r,curve:o},wm,this.a,e,n,void 0,this)},pv.fi=function(t,e,n){var o=n[n.length-1];n=o.hasZ;var i=o.srsName;i&&t.setAttribute("srsName",i),o=Dh(t.namespaceURI),t.appendChild(o),t=e.X(),t=Kh(t,i,n),Oh(o,t)},pv.fn=function(t,e,n){var o=n[n.length-1],i=o.hasZ;(o=o.srsName)&&t.setAttribute("srsName",o),e=e.Zd(),du({node:t,hasZ:i,srsName:o},xm,uu("pointMember"),e,n,void 0,this)},pv.gn=function(t,e,n){var o=Vs(t.namespaceURI,"Point");t.appendChild(o),this.fi(o,e,n)},pv.bi=function(t,e,n){var o=this.jg(e,n);o&&(t.appendChild(o),this.Pe(o,e,n))},pv.ci=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),o=Dh(t.namespaceURI),t.appendChild(o),jh(o,e,n)},pv.ei=function(t,e,n){var o=n[n.length-1],i=o.hasZ,r=o.srsName,o=o.surface;r&&t.setAttribute("srsName",r),e=e.Td(),du({node:t,hasZ:i,srsName:r,surface:o},Sm,this.a,e,n,void 0,this)},pv.hi=function(t,e,n){var o=this.jg(e,n);o&&(t.appendChild(o),this.Qe(o,e,n))},pv.en=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),du({node:t},Cm,am,[e[0]+" "+e[1],e[2]+" "+e[3]],n,["lowerCorner","upperCorner"],this)};var bm={"http://www.opengis.net/gml":{Curve:au(Fh.prototype.Pe),MultiCurve:au(Fh.prototype.di),Point:au(Fh.prototype.fi),MultiPoint:au(Fh.prototype.fn),LineString:au(Fh.prototype.Pe),MultiLineString:au(Fh.prototype.di),LinearRing:au(Fh.prototype.ci),Polygon:au(Fh.prototype.Qe),MultiPolygon:au(Fh.prototype.ei),Surface:au(Fh.prototype.Qe),MultiSurface:au(Fh.prototype.ei),Envelope:au(Fh.prototype.en)}},_m={"http://www.opengis.net/gml":{outerBoundaryIs:au(Fh.prototype.gi),innerBoundaryIs:au(Fh.prototype.gi)}},xm={"http://www.opengis.net/gml":{pointMember:au(Fh.prototype.gn)}},wm={"http://www.opengis.net/gml":{lineStringMember:au(Fh.prototype.bi),curveMember:au(Fh.prototype.bi)}};Fh.prototype.a=function(t,e){return Vs("http://www.opengis.net/gml",Pm[e[e.length-1].node.nodeName])};var Pm={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},Sm={"http://www.opengis.net/gml":{surfaceMember:au(Fh.prototype.hi),polygonMember:au(Fh.prototype.hi)}},Cm={"http://www.opengis.net/gml":{lowerCorner:au(Oh),upperCorner:au(Oh)}};l(Bh,mh);var Mm=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],Tm={rte:Wh,trk:zh,wpt:Hh},Am=pu(Mm,{rte:nu(Wh),trk:nu(zh),wpt:nu(Hh)}),Em=pu(Mm,{text:ru(Eh,"linkText"),type:ru(Eh,"linkType")}),Im=pu(Mm,{name:ru(Eh),cmt:ru(Eh),desc:ru(Eh),src:ru(Eh),link:Yh,number:ru(Th),extensions:Gh,type:ru(Eh),rtept:function(t,e){var n=cu({},Lm,t,e);n&&(e=e[e.length-1],Xh(e.flatCoordinates,e.layoutOptions,t,n))}}),Lm=pu(Mm,{ele:ru(Ch),time:ru(Sh)}),Nm=pu(Mm,{name:ru(Eh),cmt:ru(Eh),desc:ru(Eh),src:ru(Eh),link:Yh,number:ru(Th),type:ru(Eh),extensions:Gh,trkseg:function(t,e){var n=e[e.length-1];lu(Om,t,e),n.ends.push(n.flatCoordinates.length)}}),Om=pu(Mm,{trkpt:function(t,e){var n=cu({},km,t,e);n&&(e=e[e.length-1],Xh(e.flatCoordinates,e.layoutOptions,t,n))}}),km=pu(Mm,{ele:ru(Ch),time:ru(Sh)}),Rm=pu(Mm,{ele:ru(Ch),time:ru(Sh),magvar:ru(Ch),geoidheight:ru(Ch),name:ru(Eh),cmt:ru(Eh),desc:ru(Eh),src:ru(Eh),link:Yh,sym:ru(Eh),type:ru(Eh),fix:ru(Eh),sat:ru(Th),hdop:ru(Ch),vdop:ru(Ch),pdop:ru(Ch),ageofdgpsdata:ru(Ch),dgpsid:ru(Th),extensions:Gh});Bh.prototype.xg=function(t,e){if(!n(Mm,t.namespaceURI))return null;var o=Tm[t.localName];return o&&(t=o(t,[mu(this,t,e)]))?(qh(this,[t]),t):null},Bh.prototype.zc=function(t,e){return n(Mm,t.namespaceURI)&&"gpx"==t.localName&&(t=cu([],Am,t,[mu(this,t,e)]))?(qh(this,t),t):[]};var Fm=["text","type"],Dm=pu(Mm,{text:au(Oh),type:au(Oh)}),jm=pu(Mm,"name cmt desc src link number type rtept".split(" ")),Km=pu(Mm,{name:au(Oh),cmt:au(Oh),desc:au(Oh),src:au(Oh),link:au(Vh),number:au(Nh),type:au(Oh),rtept:su(au($h))}),Bm=pu(Mm,["ele","time"]),Xm=pu(Mm,"name cmt desc src link number type trkseg".split(" ")),Um=pu(Mm,{name:au(Oh),cmt:au(Oh),desc:au(Oh),src:au(Oh),link:au(Vh),number:au(Nh),type:au(Oh),trkseg:su(au(function(t,e,n){du({node:t,geometryLayout:e.ja,properties:{}},Gm,Ym,e.X(),n)}))}),Ym=uu("trkpt"),Gm=pu(Mm,{trkpt:au($h)}),Wm=pu(Mm,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),zm=pu(Mm,{ele:au(Lh),time:au(function(t,e){e=new Date(1e3*e),t.appendChild(rm.createTextNode(e.getUTCFullYear()+"-"+Un(e.getUTCMonth()+1)+"-"+Un(e.getUTCDate())+"T"+Un(e.getUTCHours())+":"+Un(e.getUTCMinutes())+":"+Un(e.getUTCSeconds())+"Z"))}),magvar:au(Lh),geoidheight:au(Lh),name:au(Oh),cmt:au(Oh),desc:au(Oh),src:au(Oh),link:au(Vh),sym:au(Oh),type:au(Oh),fix:au(Oh),sat:au(Nh),hdop:au(Lh),vdop:au(Lh),pdop:au(Lh),ageofdgpsdata:au(Lh),dgpsid:au(Nh)}),Hm={Point:"wpt",LineString:"rte",MultiLineString:"trk"},qm=pu(Mm,{rte:au(function(t,e,n){var o=n[0],i=e.N();t={node:t,properties:i},(e=e.V())&&(e=_u(e,!0,o),t.geometryLayout=e.ja,i.rtept=e.X()),o=jm[n[n.length-1].node.namespaceURI],i=hu(i,o),du(t,Km,am,i,n,o)}),trk:au(function(t,e,n){var o=n[0],i=e.N();t={node:t,properties:i},(e=e.V())&&(e=_u(e,!0,o),i.trkseg=e.gd()),o=Xm[n[n.length-1].node.namespaceURI],i=hu(i,o),du(t,Um,am,i,n,o)}),wpt:au(function(t,e,n){var o=n[0],i=n[n.length-1];i.properties=e.N(),(e=e.V())&&(e=_u(e,!0,o),i.geometryLayout=e.ja,$h(t,e.X(),n))})});Bh.prototype.Xb=function(t,e){e=bu(this,e);var n=Vs("http://www.topografix.com/GPX/1/1","gpx");return n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),n.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),n.setAttribute("version","1.1"),n.setAttribute("creator","OpenLayers"),du({node:n},qm,Zh,t,[e]),n},l(Jh,gu),pv=Jh.prototype,pv.U=function(){return"text"},pv.Tb=function(t,e){return this.ae(Qh(t),bu(this,e))},pv.Oa=function(t,e){return this.zg(Qh(t),bu(this,e))},pv.Sc=function(t,e){return this.wd(Qh(t),bu(this,e))},pv.kb=function(){return this.defaultDataProjection},pv.Bd=function(t,e){return this.ge(t,bu(this,e))},pv.Wb=function(t,e){return this.Wg(t,bu(this,e))},pv.$c=function(t,e){return this.Cd(t,bu(this,e))},l(tp,Jh);var Vm=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,$m=/^H.([A-Z]{3}).*?:(.*)/,Zm=/^HFDTE(\d{2})(\d{2})(\d{2})/,Jm=/\r\n|\r|\n/;pv=tp.prototype,pv.ae=function(t,e){var n=this.b,o=t.split(Jm);t={};var i,r=[],a=2e3,s=0,u=1,h=-1,p=0;for(i=o.length;p<i;++p){var l,c=o[p];if("B"==c.charAt(0)){if(l=Vm.exec(c)){var c=parseInt(l[1],10),f=parseInt(l[2],10),d=parseInt(l[3],10),y=parseInt(l[4],10)+parseInt(l[5],10)/6e4;"S"==l[6]&&(y=-y);var v=parseInt(l[7],10)+parseInt(l[8],10)/6e4;"W"==l[9]&&(v=-v),r.push(v,y),"none"!=n&&r.push("gps"==n?parseInt(l[11],10):"barometric"==n?parseInt(l[12],10):0),l=Date.UTC(a,s,u,c,f,d),l<h&&(l=Date.UTC(a,s,u+1,c,f,d)),r.push(l/1e3),h=l}}else"H"==c.charAt(0)&&((l=Zm.exec(c))?(u=parseInt(l[1],10),s=parseInt(l[2],10)-1,a=2e3+parseInt(l[3],10)):(l=$m.exec(c))&&(t[l[1]]=l[2].trim()))}return r.length?(o=new Mu(null),o.ba("none"==n?"XYM":"XYZM",r),e=new Hs(_u(o,!1,e)),e.H(t),e):null},pv.zg=function(t,e){return(t=this.ae(t,e))?[t]:[]},pv.ge=function(){},pv.Wg=function(){},pv.Cd=function(){},pv.wd=function(){},l(ep,fe),ep.prototype.v=function(){this.i=3,this.f.forEach(se),this.f=null,this.b("change")},ep.prototype.u=function(){if(this.i=2,this.a&&(this.M.width=this.a[0],this.M.height=this.a[1]),this.a=[this.M.width,this.M.height],this.f.forEach(se),this.f=null,np(this),!this.l&&null!==this.g){this.c.width=this.M.width,this.c.height=this.M.height;var t=this.c.getContext("2d");t.drawImage(this.M,0,0);for(var e=t.getImageData(0,0,this.M.width,this.M.height),n=e.data,o=this.g[0]/255,i=this.g[1]/255,r=this.g[2]/255,a=0,s=n.length;a<s;a+=4)n[a]*=o,n[a+1]*=i,n[a+2]*=r;t.putImageData(e,0,0)}this.b("change")},ep.prototype.Y=function(){return this.c?this.c:this.M},ep.prototype.load=function(){if(0==this.i){this.i=1,this.f=[re(this.M,"error",this.v,this),re(this.M,"load",this.u,this)];try{this.M.src=this.o}catch(t){this.v()}}},l(op,Ds),pv=op.prototype,pv.clone=function(){var t=this.Y(1);if(2===this.b.i)if("IMG"===t.tagName.toUpperCase())var e=t.cloneNode(!0);else{e=document.createElement("canvas");var n=e.getContext("2d");e.width=t.width,e.height=t.height,n.drawImage(t,0,0)}return new op({anchor:this.o.slice(),anchorOrigin:this.i,anchorXUnits:this.C,anchorYUnits:this.B,crossOrigin:this.ra,color:this.j&&this.j.slice?this.j.slice():this.j||void 0,img:e?e:void 0,imgSize:e?this.b.a.slice():void 0,src:e?void 0:this.b.o,offset:this.oa.slice(),offsetOrigin:this.c,size:null!==this.D?this.D.slice():void 0,opacity:this.f,scale:this.a,snapToPixel:this.v,rotation:this.g,rotateWithView:this.l})},pv.Hc=function(){if(this.u)return this.u;var t=this.o,e=this.ic();if("fraction"==this.C||"fraction"==this.B){if(!e)return null;t=this.o.slice(),"fraction"==this.C&&(t[0]*=e[0]),"fraction"==this.B&&(t[1]*=e[1])}if("top-left"!=this.i){if(!e)return null;t===this.o&&(t=this.o.slice()),"top-right"!=this.i&&"bottom-right"!=this.i||(t[0]=-t[0]+e[0]),"bottom-left"!=this.i&&"bottom-right"!=this.i||(t[1]=-t[1]+e[1])}return this.u=t},pv.Lo=function(){return this.j},pv.Y=function(t){return this.b.Y(t)},pv.ye=function(){return this.b.a},pv.Ye=function(){return this.b.i},pv.qg=function(){var t=this.b;if(!t.j)if(t.l){var e=t.a[0],n=t.a[1],o=Ae(e,n);o.fillRect(0,0,e,n),t.j=o.canvas}else t.j=t.M;return t.j},pv.Oc=function(){if(this.S)return this.S;var t=this.oa;if("top-left"!=this.c){var e=this.ic(),n=this.b.a;if(!e||!n)return null;t=t.slice(),"top-right"!=this.c&&"bottom-right"!=this.c||(t[0]=n[0]-e[0]-t[0]),"bottom-left"!=this.c&&"bottom-right"!=this.c||(t[1]=n[1]-e[1]-t[1])}return this.S=t},pv.Mo=function(){return this.b.o},pv.ic=function(){return this.D?this.D:this.b.a},pv.Nh=function(t,e){return ie(this.b,"change",t,e)},pv.load=function(){this.b.load()},pv.Bj=function(t,e){ae(this.b,"change",t,e)},pv=ip.prototype,pv.clone=function(){return new ip({font:this.a,rotation:this.f,rotateWithView:this.o,scale:this.b,text:this.Na(),textAlign:this.g,textBaseline:this.j,fill:this.Fa()?this.Fa().clone():void 0,stroke:this.Ga()?this.Ga().clone():void 0,offsetX:this.i,offsetY:this.c})},pv.Nk=function(){return this.a},pv.cl=function(){return this.i},pv.dl=function(){return this.c},pv.Fa=function(){return this.Va},pv.Ro=function(){return this.o},pv.So=function(){return this.f},pv.To=function(){return this.b},pv.Ga=function(){return this.Ya},pv.Na=function(){return this.Ia},pv.nl=function(){return this.g},pv.ol=function(){return this.j},pv.nj=function(t){this.a=t},pv.sj=function(t){this.i=t},pv.tj=function(t){this.c=t},pv.pf=function(t){this.Va=t},pv.Uo=function(t){this.f=t},pv.Si=function(t){this.b=t},pv.qf=function(t){this.Ya=t},pv.xd=function(t){this.Ia=t},pv.vj=function(t){this.g=t},pv.hq=function(t){this.j=t};var Qm,tb,eb,nb,ob,ib,rb,ab,sb,ub,hb,pb,lb,cb,fb;l(rp,mh);var db=["http://www.google.com/kml/ext/2.2"],yb=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],vb={fraction:"fraction",pixels:"pixels",insetPixels:"pixels"},gb=pu(yb,{displayName:ru(Eh),value:ru(Eh)}),mb=pu(yb,{Data:function(t,e){var n=t.getAttribute("name");lu(gb,t,e),t=e[e.length-1],null!==n?t[n]=t.value:null!==t.displayName&&(t[t.displayName]=t.value)},SchemaData:function(t,e){lu(Bb,t,e)}}),bb=pu(yb,{LatLonAltBox:function(t,e){(t=cu({},_b,t,e))&&(e=e[e.length-1],e.extent=[parseFloat(t.west),parseFloat(t.south),parseFloat(t.east),parseFloat(t.north)],e.altitudeMode=t.altitudeMode,e.minAltitude=parseFloat(t.minAltitude),e.maxAltitude=parseFloat(t.maxAltitude))},Lod:function(t,e){(t=cu({},xb,t,e))&&(e=e[e.length-1],e.minLodPixels=parseFloat(t.minLodPixels),e.maxLodPixels=parseFloat(t.maxLodPixels),e.minFadeExtent=parseFloat(t.minFadeExtent),e.maxFadeExtent=parseFloat(t.maxFadeExtent))}}),_b=pu(yb,{altitudeMode:ru(Eh),minAltitude:ru(Ch),maxAltitude:ru(Ch),north:ru(Ch),south:ru(Ch),east:ru(Ch),west:ru(Ch)}),xb=pu(yb,{minLodPixels:ru(Ch),maxLodPixels:ru(Ch),minFadeExtent:ru(Ch),maxFadeExtent:ru(Ch)}),wb=pu(yb,{extrude:ru(wh),altitudeMode:ru(Eh)}),Pb=pu(yb,{coordinates:ou(pp)}),Sb=pu(yb,{innerBoundaryIs:function(t,e){(t=cu(void 0,Eb,t,e))&&e[e.length-1].push(t)},outerBoundaryIs:function(t,e){(t=cu(void 0,Fb,t,e))&&(e[e.length-1][0]=t)}}),Cb=pu(yb,{when:function(t,e){e=e[e.length-1].Ej,t=$s(t,!1),t=Date.parse(t),e.push(isNaN(t)?0:t)}},pu(db,{coord:function(t,e){e=e[e.length-1].A,t=$s(t,!1),(t=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(t))?e.push(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]),0):e.push(0,0,0,0)}})),Mb=pu(yb,{coordinates:ou(pp)}),Tb=pu(yb,{href:ru(lp)},pu(db,{x:ru(Ch),y:ru(Ch),w:ru(Ch),h:ru(Ch)})),Ab=pu(yb,{Icon:ru(function(t,e){return(t=cu({},Tb,t,e))?t:null}),heading:ru(Ch),hotSpot:ru(function(t){var e=t.getAttribute("xunits"),n=t.getAttribute("yunits"),o="insetPixels"!==e?"insetPixels"!==n?"bottom-left":"top-left":"insetPixels"!==n?"bottom-right":"top-right";return{x:parseFloat(t.getAttribute("x")),Xg:vb[e],y:parseFloat(t.getAttribute("y")),Yg:vb[n],origin:o}}),scale:ru(cp)}),Eb=pu(yb,{LinearRing:ou(fp)}),Ib=pu(yb,{color:ru(hp),scale:ru(cp)}),Lb=pu(yb,{color:ru(hp),width:ru(Ch)}),Nb=pu(yb,{LineString:nu(yp),LinearRing:nu(vp),MultiGeometry:nu(gp),Point:nu(mp),Polygon:nu(bp)}),Ob=pu(db,{Track:nu(dp)}),kb=pu(yb,{ExtendedData:wp,Region:Pp,Link:function(t,e){lu(Rb,t,e)},address:ru(Eh),description:ru(Eh),name:ru(Eh),open:ru(wh),phoneNumber:ru(Eh),visibility:ru(wh)}),Rb=pu(yb,{href:ru(lp)}),Fb=pu(yb,{LinearRing:ou(fp)}),Db=pu(yb,{Style:ru(_p),key:ru(Eh),styleUrl:ru(lp)}),jb=pu(yb,{ExtendedData:wp,Region:Pp,MultiGeometry:ru(gp,"geometry"),LineString:ru(yp,"geometry"),LinearRing:ru(vp,"geometry"),Point:ru(mp,"geometry"),Polygon:ru(bp,"geometry"),Style:ru(_p),StyleMap:function(t,e){(t=cu(void 0,Ub,t,e))&&(e=e[e.length-1],Array.isArray(t)?e.Style=t:"string"==typeof t?e.styleUrl=t:y(!1,38))},address:ru(Eh),description:ru(Eh),name:ru(Eh),open:ru(wh),phoneNumber:ru(Eh),styleUrl:ru(lp),visibility:ru(wh)},pu(db,{MultiTrack:ru(function(t,e){if(t=cu([],Ob,t,e))return e=new Au(null),Iu(e,t),e},"geometry"),Track:ru(dp,"geometry")})),Kb=pu(yb,{color:ru(hp),fill:ru(wh),outline:ru(wh)}),Bb=pu(yb,{SimpleData:function(t,e){var n=t.getAttribute("name");null!==n&&(t=Eh(t),e[e.length-1][n]=t)}}),Xb=pu(yb,{IconStyle:function(t,e){if(t=cu({},Ab,t,e)){e=e[e.length-1];var n,o="Icon"in t?t.Icon:{},i=!("Icon"in t)||0<Object.keys(o).length,r=o.href;r?n=r:i&&(n=ab);var r="bottom-left",a=t.hotSpot;if(a){var s=[a.x,a.y],u=a.Xg,h=a.Yg;r=a.origin}else n===ab?(s=nb,u=ob,h=ib):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(n)&&(s=[.5,0],h=u="fraction");var p,a=o.x,l=o.y;void 0!==a&&void 0!==l&&(p=[a,l]);var c,a=o.w,o=o.h;void 0!==a&&void 0!==o&&(c=[a,o]);var f,o=t.heading;void 0!==o&&(f=S(o)),t=t.scale,i?(n==ab&&(c=rb,void 0===t&&(t=sb)),n=new op({anchor:s,anchorOrigin:r,anchorXUnits:u,anchorYUnits:h,crossOrigin:"anonymous",offset:p,offsetOrigin:"bottom-left",rotation:f,scale:t,size:c,src:n}),e.imageStyle=n):e.imageStyle=hb}},LabelStyle:function(t,e){(t=cu({},Ib,t,e))&&(e[e.length-1].textStyle=new ip({fill:new Xs({color:"color"in t?t.color:tb}),scale:t.scale}))},LineStyle:function(t,e){(t=cu({},Lb,t,e))&&(e[e.length-1].strokeStyle=new Aa({color:"color"in t?t.color:tb,width:"width"in t?t.width:1}))},PolyStyle:function(t,e){if(t=cu({},Kb,t,e)){e=e[e.length-1],e.fillStyle=new Xs({color:"color"in t?t.color:tb});var n=t.fill;void 0!==n&&(e.fill=n),
t=t.outline,void 0!==t&&(e.outline=t)}}}),Ub=pu(yb,{Pair:function(t,e){if(t=cu({},Db,t,e)){var n=t.key;n&&"normal"==n&&((n=t.styleUrl)&&(e[e.length-1]=n),(t=t.Style)&&(e[e.length-1]=t))}}});pv=rp.prototype,pv.vg=function(t,e){var n=pu(yb,{Document:eu(this.vg,this),Folder:eu(this.vg,this),Placemark:nu(this.Dg,this),Style:this.Jp.bind(this),StyleMap:this.Ip.bind(this)});if(t=cu([],n,t,e,this))return t},pv.Dg=function(t,e){var n=cu({geometry:null},jb,t,e);if(n){var o=new Hs;return t=t.getAttribute("id"),null!==t&&o.jc(t),e=e[0],(t=n.geometry)&&_u(t,!1,e),o.Ra(t),delete n.geometry,this.c&&o.hg(sp(n.Style,n.styleUrl,this.a,this.b,this.g)),delete n.Style,o.H(n),o}},pv.Jp=function(t,e){var n=t.getAttribute("id");null!==n&&(e=_p(t,e))&&(t=t.baseURI&&"about:blank"!==t.baseURI?new URL("#"+n,t.baseURI).href:"#"+n,this.b[t]=e)},pv.Ip=function(t,e){var n=t.getAttribute("id");null!==n&&(e=cu(void 0,Ub,t,e))&&(t=t.baseURI&&"about:blank"!==t.baseURI?new URL("#"+n,t.baseURI).href:"#"+n,this.b[t]=e)},pv.xg=function(t,e){return n(yb,t.namespaceURI)&&(t=this.Dg(t,[mu(this,t,e)]))?t:null},pv.zc=function(t,e){if(!n(yb,t.namespaceURI))return[];var o=t.localName;if("Document"==o||"Folder"==o)return(o=this.vg(t,[mu(this,t,e)]))?o:[];if("Placemark"==o)return(e=this.Dg(t,[mu(this,t,e)]))?[e]:[];if("kml"==o){for(o=[],t=t.firstElementChild;t;t=t.nextElementSibling){var r=this.zc(t,e);r&&i(o,r)}return o}return[]},pv.Cp=function(t){return Js(t)?Sp(this,t):Qs(t)?Cp(this,t):"string"==typeof t?(t=tu(t),Sp(this,t)):void 0},pv.Dp=function(t){var e=[];return Js(t)?i(e,Mp(this,t)):Qs(t)?i(e,Tp(this,t)):"string"==typeof t&&(t=tu(t),i(e,Mp(this,t))),e},pv.Gp=function(t){var e=[];return Js(t)?i(e,Ap(this,t)):Qs(t)?i(e,this.lf(t)):"string"==typeof t&&(t=tu(t),i(e,Ap(this,t))),e},pv.lf=function(t){var e,o=[];for(e=t.firstElementChild;e;e=e.nextElementSibling)if(n(yb,e.namespaceURI)&&"Region"==e.localName){var r=cu({},bb,e,[]);o.push(r)}for(e=t.firstElementChild;e;e=e.nextElementSibling)t=e.localName,!n(yb,e.namespaceURI)||"Document"!=t&&"Folder"!=t&&"kml"!=t||i(o,this.lf(e));return o};var Yb=pu(yb,["Document","Placemark"]),Gb=pu(yb,{Document:au(function(t,e,n){du({node:t},Wb,Dp,e,n,void 0,this)}),Placemark:au(Np)}),Wb=pu(yb,{Placemark:au(Np)}),zb=pu(yb,{Data:au(function(t,e,n){t.setAttribute("name",e.name),t={node:t},e=e.value,"object"==typeof e?(null!==e&&e.displayName&&du(t,zb,am,[e.displayName],n,["displayName"]),null!==e&&e.value&&du(t,zb,am,[e.value],n,["value"])):du(t,zb,am,[e],n,["value"])}),value:au(function(t,e){Oh(t,e)}),displayName:au(function(t,e){t.appendChild(rm.createCDATASection(e))})}),Hb={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},qb=pu(yb,["href"],pu(db,["x","y","w","h"])),Vb=pu(yb,{href:au(Oh)},pu(db,{x:au(Lh),y:au(Lh),w:au(Lh),h:au(Lh)})),$b=pu(yb,["scale","heading","Icon","hotSpot"]),Zb=pu(yb,{Icon:au(function(t,e,n){t={node:t};var o=qb[n[n.length-1].node.namespaceURI],i=hu(e,o);du(t,Vb,am,i,n,o),o=qb[db[0]],i=hu(e,o),du(t,Vb,Fp,i,n,o)}),heading:au(Lh),hotSpot:au(function(t,e){t.setAttribute("x",e.x),t.setAttribute("y",e.y),t.setAttribute("xunits",e.Xg),t.setAttribute("yunits",e.Yg)}),scale:au(Rp)}),Jb=pu(yb,["color","scale"]),Qb=pu(yb,{color:au(Ep),scale:au(Rp)}),t_=pu(yb,["color","width"]),e_=pu(yb,{color:au(Ep),width:au(Lh)}),n_=pu(yb,{LinearRing:au(Op)}),o_=pu(yb,{LineString:au(Op),Point:au(Op),Polygon:au(kp),GeometryCollection:au(Ip)}),i_=pu(yb,"name open visibility address phoneNumber description styleUrl Style".split(" ")),r_=pu(yb,{ExtendedData:au(function(t,e,n){t={node:t};var o=e.names;e=e.values;for(var i=o.length,r=0;r<i;r++)du(t,zb,f_,[{name:o[r],value:e[r]}],n)}),MultiGeometry:au(Ip),LineString:au(Op),LinearRing:au(Op),Point:au(Op),Polygon:au(kp),Style:au(function(t,e,n){t={node:t};var o={},i=e.Fa(),r=e.Ga(),a=e.Y();e=e.Na(),a instanceof op&&(o.IconStyle=a),e&&(o.LabelStyle=e),r&&(o.LineStyle=r),i&&(o.PolyStyle=i),e=h_[n[n.length-1].node.namespaceURI],o=hu(o,e),du(t,p_,am,o,n,e)}),address:au(Oh),description:au(Oh),name:au(Oh),open:au(Ih),phoneNumber:au(Oh),styleUrl:au(Oh),visibility:au(Ih)}),a_=pu(yb,{coordinates:au(function(t,e,n){n=n[n.length-1];var o=n.layout;n=n.stride;var i;"XY"==o||"XYM"==o?i=2:"XYZ"==o||"XYZM"==o?i=3:y(!1,34);var r,a=e.length,s="";if(0<a){for(s+=e[0],o=1;o<i;++o)s+=","+e[o];for(r=n;r<a;r+=n)for(s+=" "+e[r],o=1;o<i;++o)s+=","+e[r+o]}Oh(t,s)})}),s_=pu(yb,{outerBoundaryIs:au(Lp),innerBoundaryIs:au(Lp)}),u_=pu(yb,{color:au(Ep)}),h_=pu(yb,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),p_=pu(yb,{IconStyle:au(function(t,e,n){t={node:t};var o={},i=e.ic(),r=e.ye(),a={href:e.b.o};if(i){a.w=i[0],a.h=i[1];var s=e.Hc(),u=e.Oc();u&&r&&u[0]&&u[1]!==i[1]&&(a.x=u[0],a.y=r[1]-(u[1]+i[1])),s&&s[0]&&s[1]!==i[1]&&(o.hotSpot={x:s[0],Xg:"pixels",y:i[1]-s[1],Yg:"pixels"})}o.Icon=a,i=e.a,1!==i&&(o.scale=i),(e=e.g)&&(o.heading=e),e=$b[n[n.length-1].node.namespaceURI],o=hu(o,e),du(t,Zb,am,o,n,e)}),LabelStyle:au(function(t,e,n){t={node:t};var o={},i=e.Fa();i&&(o.color=i.b),(e=e.b)&&1!==e&&(o.scale=e),e=Jb[n[n.length-1].node.namespaceURI],o=hu(o,e),du(t,Qb,am,o,n,e)}),LineStyle:au(function(t,e,n){t={node:t};var o=t_[n[n.length-1].node.namespaceURI];e=hu({color:e.a,width:e.c},o),du(t,e_,am,e,n,o)}),PolyStyle:au(function(t,e,n){du({node:t},u_,l_,[e.b],n)})}),l_=uu("color"),c_=uu("coordinates"),f_=uu("Data"),d_=uu("ExtendedData"),y_=uu("innerBoundaryIs"),v_=uu("Point"),g_=uu("LineString"),m_=uu("LinearRing"),b_=uu("Polygon"),__=uu("outerBoundaryIs");rp.prototype.Xb=function(t,e){e=bu(this,e);var n=Vs(yb[4],"kml");n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:gx",db[0]),n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),n.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var o={node:n},i={};return 1<t.length?i.Document=t:1==t.length&&(i.Placemark=t[0]),t=Yb[n.namespaceURI],i=hu(i,t),du(o,Gb,am,i,[e],t,this),n},Xg.Dd=function(){},function(t){function e(t){this.lc=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.type=this.ea=0,this.length=this.lc.length}function n(t,e,n){var i=n.lc,r=i[n.ea++],a=(112&r)>>4;if(128>r)return o(t,a,e);if(r=i[n.ea++],a|=(127&r)<<3,128>r)return o(t,a,e);if(r=i[n.ea++],a|=(127&r)<<10,128>r)return o(t,a,e);if(r=i[n.ea++],a|=(127&r)<<17,128>r)return o(t,a,e);if(r=i[n.ea++],a|=(127&r)<<24,128>r)return o(t,a,e);if(r=i[n.ea++],128>r)return o(t,a|(1&r)<<31,e);throw Error("Expected varint not more than 10 bytes")}function o(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}var i={read:function(t,e,n,o,i){var r=8*i-o-1,a=(1<<r)-1,s=a>>1,u=-7;i=n?i-1:0;var h=n?-1:1,p=t[e+i];for(i+=h,n=p&(1<<-u)-1,p>>=-u,u+=r;0<u;n=256*n+t[e+i],i+=h,u-=8);for(r=n&(1<<-u)-1,n>>=-u,u+=o;0<u;r=256*r+t[e+i],i+=h,u-=8);if(0===n)n=1-s;else{if(n===a)return r?NaN:1/0*(p?-1:1);r+=Math.pow(2,o),n-=s}return(p?-1:1)*r*Math.pow(2,n-o)},write:function(t,e,n,o,i,r){var a,s=8*r-i-1,u=(1<<s)-1,h=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0;r=o?0:r-1;var l=o?1:-1,c=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(e=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),1>e*(a=Math.pow(2,-o))&&(o--,a*=2),e=1<=o+h?e+p/a:e+p*Math.pow(2,1-h),2<=e*a&&(o++,a/=2),o+h>=u?(e=0,o=u):1<=o+h?(e=(e*a-1)*Math.pow(2,i),o+=h):(e=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));8<=i;t[n+r]=255&e,r+=l,e/=256,i-=8);for(o=o<<i|e,s+=i;0<s;t[n+r]=255&o,r+=l,o/=256,s-=8);t[n+r-l]|=128*c}};e.c=0,e.i=1,e.b=2,e.a=5,e.prototype={Ag:function(t,e,n){for(n=n||this.length;this.ea<n;){var o=this.Ka(),i=o>>3,r=this.ea;this.type=7&o,t(i,e,this),this.ea===r&&this.mq(o)}return e},yp:function(){var t=i.read(this.lc,this.ea,!0,23,4);return this.ea+=4,t},up:function(){var t=i.read(this.lc,this.ea,!0,52,8);return this.ea+=8,t},Ka:function(t){var e=this.lc,o=e[this.ea++],i=127&o;return 128>o?i:(o=e[this.ea++],i|=(127&o)<<7,128>o?i:(o=e[this.ea++],i|=(127&o)<<14,128>o?i:(o=e[this.ea++],i|=(127&o)<<21,128>o?i:(o=e[this.ea],n(i|(15&o)<<28,t,this)))))},Kp:function(){return this.Ka(!0)},ce:function(){var t=this.Ka();return 1===t%2?(t+1)/-2:t/2},sp:function(){return!!this.Ka()},Gg:function(){for(var t=this.Ka()+this.ea,e=this.lc,n="",o=this.ea;o<t;){var i=e[o],r=null,a=239<i?4:223<i?3:191<i?2:1;if(o+a>t)break;if(1===a)128>i&&(r=i);else if(2===a){var s=e[o+1];128===(192&s)&&(r=(31&i)<<6|63&s,127>=r&&(r=null))}else if(3===a){s=e[o+1];var u=e[o+2];128===(192&s)&&128===(192&u)&&(r=(15&i)<<12|(63&s)<<6|63&u,2047>=r||55296<=r&&57343>=r)&&(r=null)}else if(4===a){s=e[o+1],u=e[o+2];var h=e[o+3];128===(192&s)&&128===(192&u)&&128===(192&h)&&(r=(15&i)<<18|(63&s)<<12|(63&u)<<6|63&h,65535>=r||1114112<=r)&&(r=null)}null===r?(r=65533,a=1):65535<r&&(r-=65536,n+=String.fromCharCode(r>>>10&1023|55296),r=56320|1023&r),n+=String.fromCharCode(r),o+=a}return this.ea=t,n},mq:function(t){if(t&=7,t===e.c)for(;127<this.lc[this.ea++];);else if(t===e.b)this.ea=this.Ka()+this.ea;else if(t===e.a)this.ea+=4;else{if(t!==e.i)throw Error("Unimplemented type: "+t);this.ea+=8}}},t.default=e}(Xg.Dd=Xg.Dd||{}),Xg.Dd=Xg.Dd.default,Xg.xf={},Xg.xf.Bf=function(){},function(t){function e(t,e){this.layers=t.Ag(u,{},e)}function n(t,e){this.x=t,this.y=e}function o(t,e,n,o,r){this.properties={},this.extent=n,this.type=0,this.Cc=t,this.Ef=-1,this.ne=o,this.pe=r,t.Ag(i,this,e)}function i(t,e,n){if(1==t)e.id=n.Ka();else if(2==t)for(t=n.Ka()+n.ea;n.ea<t;){var o=e.ne[n.Ka()],i=e.pe[n.Ka()];e.properties[o]=i}else 3==t?e.type=n.Ka():4==t&&(e.Ef=n.ea)}function r(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this.Cc=t,this.ne=[],this.pe=[],this.me=[],t.Ag(a,this,e),this.length=this.me.length}function a(t,e,n){15===t?e.version=n.Ka():1===t?e.name=n.Gg():5===t?e.extent=n.Ka():2===t?e.me.push(n.ea):3===t?e.ne.push(n.Gg()):4===t&&e.pe.push(s(n))}function s(t){for(var e=null,n=t.Ka()+t.ea;t.ea<n;)e=t.Ka()>>3,e=1===e?t.Gg():2===e?t.yp():3===e?t.up():4===e?t.Kp():5===e?t.Ka():6===e?t.ce():7===e?t.sp():null;return e}function u(t,e,n){3===t&&(t=new h(n,n.Ka()+n.ea),t.length&&(e[t.name]=t))}n.prototype={clone:function(){return new n(this.x,this.y)},add:function(t){return this.clone().Yj(t)},rotate:function(t){return this.clone().hk(t)},round:function(){return this.clone().ik()},angle:function(){return Math.atan2(this.y,this.x)},Yj:function(t){return this.x+=t.x,this.y+=t.y,this},hk:function(t){var e=Math.cos(t);t=Math.sin(t);var n=t*this.x+e*this.y;return this.x=e*this.x-t*this.y,this.y=n,this},ik:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},n.Kq=function(t){return t instanceof n?t:Array.isArray(t)?new n(t[0],t[1]):t},o.b=["Unknown","Point","LineString","Polygon"],o.prototype.Oh=function(){var t=this.Cc;t.ea=this.Ef;for(var e,o=t.Ka()+t.ea,i=1,r=0,a=0,s=0,u=[];t.ea<o;)if(r||(r=t.Ka(),i=7&r,r>>=3),r--,1===i||2===i)a+=t.ce(),s+=t.ce(),1===i&&(e&&u.push(e),e=[]),e.push(new n(a,s));else{if(7!==i)throw Error("unknown command "+i);e&&e.push(e[0].clone())}return e&&u.push(e),u},o.prototype.bbox=function(){var t=this.Cc;t.ea=this.Ef;for(var e=t.Ka()+t.ea,n=1,o=0,i=0,r=0,a=1/0,s=-(1/0),u=1/0,h=-(1/0);t.ea<e;)if(o||(o=t.Ka(),n=7&o,o>>=3),o--,1===n||2===n)i+=t.ce(),r+=t.ce(),i<a&&(a=i),i>s&&(s=i),r<u&&(u=r),r>h&&(h=r);else if(7!==n)throw Error("unknown command "+n);return[a,u,s,h]};var h=r;r.prototype.feature=function(t){if(0>t||t>=this.me.length)throw Error("feature index out of bounds");return this.Cc.ea=this.me[t],t=this.Cc.Ka()+this.Cc.ea,new o(this.Cc,t,this.extent,this.ne,this.pe)};var p=h;t.default={Bf:e,Wj:o,Xj:p},t.Bf=e,t.Wj=o,t.Xj=p}(Xg.xf=Xg.xf||{}),pv=Kp.prototype,pv.get=function(t){return this.c[t]},pv.Bb=function(){return this.f},pv.G=function(){return this.a||(this.a="Point"===this.i?X(this.b):U(this.b,0,this.b.length,2)),this.a},pv.Wn=function(){return this.g},pv.ec=function(){return this.b},pv.ga=Kp.prototype.ec,pv.V=function(){return this},pv.Xn=function(){return this.c},pv.Vd=Kp.prototype.V,pv.qa=function(){return 2},pv.Lc=c,pv.U=function(){return this.i},l(Bp,gu),pv=Bp.prototype,pv.U=function(){return"arraybuffer"},pv.Oa=function(t,e){var n=this.c;t=new Xg.Dd(t),t=new Xg.xf.Bf(t);var o,i=[],r=this.b;for(o in t.layers)if(!n||-1!=n.indexOf(o))for(var a=t.layers[o],s=0,u=a.length;s<u;++s){if(r===Kp){var h=void 0,p=a.feature(s),l=o,c=p.Oh(),f=[],d=[];Xp(c,d,f);var y=p.type;1===y?h=1===c.length?"Point":"MultiPoint":2===y?h=1===c.length?"LineString":"MultiLineString":3===y&&(h="Polygon"),c=p.properties,c[this.i]=l,h=new this.b(h,d,f,c,p.id)}else{if(y=a.feature(s),d=o,f=e,h=new this.b,p=y.id,l=y.properties,l[this.i]=d,this.a&&h.Tc(this.a),d=void 0,c=y.type,0===c)d=null;else{var y=y.Oh(),v=[],g=[];Xp(y,g,v),1===c?d=1===y.length?new Ao(null):new Lu(null):2===c?d=1===y.length?new Mu(null):new Au(null):3===c&&(d=new Bo(null)),d.ba("XY",g,v)}f=_u(d,!1,bu(this,f)),h.Ra(f),h.jc(p),h.H(l)}i.push(h)}return i},pv.kb=function(){return this.defaultDataProjection},pv.mn=function(t){this.c=t},pv.Tb=function(){},pv.Sc=function(){},pv.Bd=function(){},pv.$c=function(){},pv.Wb=function(){},l(Up,mh);var x_=[null],w_=pu(x_,{nd:function(t,e){e[e.length-1].md.push(t.getAttribute("ref"))},tag:Yp}),P_=pu(x_,{node:function(t,e){var n=e[0],o=e[e.length-1],i=t.getAttribute("id"),r=[parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))];o.Sh[i]=r,t=cu({fe:{}},S_,t,e),pt(t.fe)||(r=new Ao(r),_u(r,!1,n),n=new Hs(r),n.jc(i),n.H(t.fe),o.features.push(n))},way:function(t,e){var n=e[0],o=t.getAttribute("id");t=cu({md:[],fe:{}},w_,t,e),e=e[e.length-1];for(var r=[],a=0,s=t.md.length;a<s;a++)i(r,e.Sh[t.md[a]]);t.md[0]==t.md[t.md.length-1]?(a=new Bo(null),a.ba("XY",r,[r.length])):(a=new Mu(null),a.ba("XY",r)),_u(a,!1,n),n=new Hs(a),n.jc(o),n.H(t.fe),e.features.push(n)}}),S_=pu(x_,{tag:Yp});Up.prototype.zc=function(t,e){return e=mu(this,t,e),"osm"==t.localName&&(t=cu({Sh:{},features:[]},P_,t,[e]),t.features)?t.features:[]},Up.prototype.Vg=function(){},Up.prototype.Xb=function(){},Up.prototype.ie=function(){},Wp.prototype.read=function(t){return Js(t)?this.a(t):Qs(t)?this.b(t):"string"==typeof t?(t=tu(t),this.a(t)):null},l(zp,Wp),zp.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},zp.prototype.b=function(t){return(t=cu({},M_,t,[]))?t:null};var C_=[null,"http://www.opengis.net/ows/1.1"],M_=pu(C_,{ServiceIdentification:ru(function(t,e){return cu({},j_,t,e)}),ServiceProvider:ru(function(t,e){return cu({},K_,t,e)}),OperationsMetadata:ru(function(t,e){return cu({},k_,t,e)})}),T_=pu(C_,{DeliveryPoint:ru(Eh),City:ru(Eh),AdministrativeArea:ru(Eh),PostalCode:ru(Eh),Country:ru(Eh),ElectronicMailAddress:ru(Eh)}),A_=pu(C_,{Value:iu(function(t){return Eh(t)})}),E_=pu(C_,{AllowedValues:ru(function(t,e){return cu({},A_,t,e)})}),I_=pu(C_,{Phone:ru(function(t,e){return cu({},R_,t,e)}),Address:ru(function(t,e){return cu({},T_,t,e)})}),L_=pu(C_,{HTTP:ru(function(t,e){return cu({},N_,t,e)})}),N_=pu(C_,{Get:iu(function(t,e){var n=Gp(t);if(n)return cu({href:n},F_,t,e)}),Post:void 0}),O_=pu(C_,{DCP:ru(function(t,e){return cu({},L_,t,e)})}),k_=pu(C_,{Operation:function(t,e){var n=t.getAttribute("name");(t=cu({},O_,t,e))&&(e[e.length-1][n]=t)}}),R_=pu(C_,{Voice:ru(Eh),Facsimile:ru(Eh)}),F_=pu(C_,{Constraint:iu(function(t,e){var n=t.getAttribute("name");if(n)return cu({name:n},E_,t,e)})}),D_=pu(C_,{IndividualName:ru(Eh),PositionName:ru(Eh),ContactInfo:ru(function(t,e){return cu({},I_,t,e)})}),j_=pu(C_,{Title:ru(Eh),ServiceTypeVersion:ru(Eh),ServiceType:ru(Eh)}),K_=pu(C_,{ProviderName:ru(Eh),ProviderSite:ru(Gp),ServiceContact:ru(function(t,e){return cu({},D_,t,e)})});l(qp,Jh),pv=qp.prototype,pv.ae=function(t,e){return t=this.wd(t,e),new Hs(t)},pv.zg=function(t,e){return[this.ae(t,e)]},pv.wd=function(t,e){var n=uo(this.a);return t=$p(t,n,this.b),Hp(t,t.length,n,t),n=wo(t,0,t.length,n),_u(new Mu(n,this.a),!1,bu(this,e))},pv.ge=function(t,e){return(t=t.V())?this.Cd(t,e):(y(!1,40),"")},pv.Wg=function(t,e){return this.ge(t[0],e)},pv.Cd=function(t,e){return t=_u(t,!0,bu(this,e)),e=t.ga(),t=t.qa(),Hp(e,e.length,t,e),Vp(e,t,this.b)},l(Qp,xu),Qp.prototype.yg=function(t,e){if("Topology"==t.type){var n=null,o=null;if(t.transform){var i=t.transform;n=i.scale,o=i.translate}var r=t.arcs;if(i){i=n;var a,s=o,u=0;for(a=r.length;u<a;++u){var h,p=r[u],l=i,c=s,f=0,d=0,y=0;for(h=p.length;y<h;++y){var v=p[y];f+=v[0],d+=v[1],v[0]=f,v[1]=d,ol(v,l,c)}}}i=[],t=t.objects;var g,s=this.a;for(g in t)this.b&&-1==this.b.indexOf(g)||("GeometryCollection"===t[g].type?(u=t[g],i.push.apply(i,el(u,r,n,o,s,g,e))):(u=t[g],i.push(nl(u,r,n,o,s,g,e))));return i}return[]},Qp.prototype.Fg=function(){return this.defaultDataProjection};var B_={Point:function(t,e,n){return t=t.coordinates,e&&n&&ol(t,e,n),new Ao(t)},LineString:function(t,e){return t=tl(t.arcs,e),new Mu(t)},Polygon:function(t,e){var n,o=[],i=0;for(n=t.arcs.length;i<n;++i)o[i]=tl(t.arcs[i],e);return new Bo(o)},MultiPoint:function(t,e,n){t=t.coordinates;var o;if(e&&n){var i=0;for(o=t.length;i<o;++i)ol(t[i],e,n)}return new Lu(t)},MultiLineString:function(t,e){var n,o=[],i=0;for(n=t.arcs.length;i<n;++i)o[i]=tl(t.arcs[i],e);return new Au(o)},MultiPolygon:function(t,e){var n,o,i=[],r=0;for(o=t.arcs.length;r<o;++r){var a=t.arcs[r],s=[],u=0;for(n=a.length;u<n;++u)s[u]=tl(a[u],e);i[r]=s}return new Nu(i)}};pv=Qp.prototype,pv.Zc=function(){},pv.he=function(){},pv.je=function(){},pv.Cg=function(){},pv.Rc=function(){},l(il,mh);var X_={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"};il.prototype.zc=function(t,e){var n={featureType:this.c,featureNS:this.a};return gv(n,mu(this,t,e?e:{})),e=[n],this.b.b["http://www.opengis.net/gml"].featureMember=nu(xh.prototype.be),(t=cu([],this.b.b,t,e,this.b))||(t=[]),t},il.prototype.j=function(t){return Js(t)?sl(t):Qs(t)?cu({},z_,t,[]):"string"==typeof t?(t=tu(t),sl(t)):void 0},il.prototype.g=function(t){return Js(t)?rl(this,t):Qs(t)?al(this,t):"string"==typeof t?(t=tu(t),rl(this,t)):void 0};var U_={"http://www.opengis.net/gml":{boundedBy:ru(xh.prototype.gf,"bounds")}},Y_={"http://www.opengis.net/wfs":{totalInserted:ru(Th),totalUpdated:ru(Th),totalDeleted:ru(Th)}},G_={"http://www.opengis.net/ogc":{FeatureId:nu(function(t){return t.getAttribute("fid")})}},W_={"http://www.opengis.net/wfs":{Feature:function(t,e){lu(G_,t,e)}}},z_={"http://www.opengis.net/wfs":{TransactionSummary:ru(function(t,e){return cu({},Y_,t,e)},"transactionSummary"),InsertResults:ru(function(t,e){return cu([],W_,t,e)},"insertIds")}},H_={"http://www.opengis.net/wfs":{PropertyName:au(Oh)}},q_={"http://www.opengis.net/wfs":{Insert:au(function(t,e,n){var o=n[n.length-1],i=o.gmlVersion,o=Vs(o.featureNS,o.featureType);if(t.appendChild(o),2===i){t=Fh.prototype,(i=e.a)&&o.setAttribute("fid",i);var i=n[n.length-1],r=i.featureNS,a=e.c;i.lb||(i.lb={},i.lb[r]={});var s=e.N();e=[];var u=[];for(p in s){var h=s[p];null!==h&&(e.push(p),u.push(h),p==a||h instanceof io?p in i.lb[r]||(i.lb[r][p]=au(t.ai,t)):p in i.lb[r]||(i.lb[r][p]=au(Oh)))}var p=gv({},i);p.node=o,du(p,i.lb,uu(void 0,r),u,n,e)}else kh.prototype.ii(o,e,n)}),Update:au(function(t,e,n){var o=n[n.length-1];y(void 0!==e.a,27);var i=o.featurePrefix,r=o.featureNS;if(t.setAttribute("typeName",hl(i,o.featureType)),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+i,r),i=e.a,void 0!==i){for(var r=e.O(),a=[],s=0,u=r.length;s<u;s++){var h=e.get(r[s]);void 0!==h&&a.push({name:r[s],value:h})}du({gmlVersion:o.gmlVersion,node:t,hasZ:o.hasZ,srsName:o.srsName},q_,uu("Property"),a,n),ul(t,i)}}),Delete:au(function(t,e,n){n=n[n.length-1],y(void 0!==e.a,26);var o=n.featurePrefix,i=n.featureNS;t.setAttribute("typeName",hl(o,n.featureType)),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+o,i),e=e.a,void 0!==e&&ul(t,e)}),Property:au(function(t,e,n){var o=Vs("http://www.opengis.net/wfs","Name"),i=n[n.length-1].gmlVersion;t.appendChild(o),Oh(o,e.name),void 0!==e.value&&null!==e.value&&(o=Vs("http://www.opengis.net/wfs","Value"),t.appendChild(o),e.value instanceof io?2===i?Fh.prototype.ai(o,e.value,n):kh.prototype.od(o,e.value,n):Oh(o,e.value))}),Native:au(function(t,e){e.vq&&t.setAttribute("vendorId",e.vq),void 0!==e.Vp&&t.setAttribute("safeToIgnore",e.Vp),void 0!==e.value&&Oh(t,e.value)})}},V_={"http://www.opengis.net/wfs":{Query:au(function(t,e,n){var o=n[n.length-1],i=o.featurePrefix,r=o.featureNS,a=o.propertyNames,s=o.srsName;t.setAttribute("typeName",i?hl(i,e):e),s&&t.setAttribute("srsName",s),r&&t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+i,r),e=gv({},o),e.node=t,du(e,H_,uu("PropertyName"),a,n),(o=o.filter)&&(a=Vs("http://www.opengis.net/ogc","Filter"),t.appendChild(a),du({node:a},V_,uu(o.kc),[o],n))})},"http://www.opengis.net/ogc":{During:au(function(t,e){var n=Vs("http://www.opengis.net/fes","ValueReference");Oh(n,e.b),t.appendChild(n),n=Vs("http://www.opengis.net/gml","TimePeriod"),t.appendChild(n),t=Vs("http://www.opengis.net/gml","begin"),n.appendChild(t),yl(t,e.a),t=Vs("http://www.opengis.net/gml","end"),n.appendChild(t),yl(t,e.i)}),And:au(pl),Or:au(pl),Not:au(function(t,e,n){e=e.condition,du({node:t},V_,uu(e.kc),[e],n)}),BBOX:au(function(t,e,n){n[n.length-1].srsName=e.srsName,fl(t,e.geometryName),kh.prototype.od(t,e.extent,n)}),Intersects:au(function(t,e,n){n[n.length-1].srsName=e.srsName,fl(t,e.geometryName),kh.prototype.od(t,e.geometry,n)}),Within:au(function(t,e,n){n[n.length-1].srsName=e.srsName,fl(t,e.geometryName),kh.prototype.od(t,e.geometry,n)}),PropertyIsEqualTo:au(ll),PropertyIsNotEqualTo:au(ll),PropertyIsLessThan:au(ll),PropertyIsLessThanOrEqualTo:au(ll),PropertyIsGreaterThan:au(ll),PropertyIsGreaterThanOrEqualTo:au(ll),PropertyIsNull:au(function(t,e){fl(t,e.b)}),PropertyIsBetween:au(function(t,e){fl(t,e.b);var n=Vs("http://www.opengis.net/ogc","LowerBoundary");t.appendChild(n),dl(n,""+e.a),n=Vs("http://www.opengis.net/ogc","UpperBoundary"),t.appendChild(n),dl(n,""+e.i)}),PropertyIsLike:au(function(t,e){t.setAttribute("wildCard",e.g),t.setAttribute("singleChar",e.f),t.setAttribute("escapeChar",e.i),void 0!==e.a&&t.setAttribute("matchCase",e.a.toString()),fl(t,e.b),dl(t,""+e.c)})}};il.prototype.l=function(t){var e=Vs("http://www.opengis.net/wfs","GetFeature");if(e.setAttribute("service","WFS"),e.setAttribute("version","1.1.0"),t){t.handle&&e.setAttribute("handle",t.handle),t.outputFormat&&e.setAttribute("outputFormat",t.outputFormat),void 0!==t.maxFeatures&&e.setAttribute("maxFeatures",t.maxFeatures),t.resultType&&e.setAttribute("resultType",t.resultType),void 0!==t.startIndex&&e.setAttribute("startIndex",t.startIndex),void 0!==t.count&&e.setAttribute("count",t.count);var n=t.filter;if(t.bbox){y(t.geometryName,12);var o=ph(t.geometryName,t.bbox,t.srsName);n=n?hh(n,o):o}}return e.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.o),n={node:e,srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.a,featurePrefix:t.featurePrefix,geometryName:t.geometryName,filter:n,propertyNames:t.propertyNames?t.propertyNames:[]},y(Array.isArray(t.featureTypes),11),t=t.featureTypes,n=[n],o=gv({},n[n.length-1]),o.node=e,du(o,V_,uu("Query"),t,n),e},il.prototype.v=function(t,e,n,o){var i=[],r=Vs("http://www.opengis.net/wfs","Transaction"),a=o.version?o.version:"1.1.0",s="1.0.0"===a?2:3;if(r.setAttribute("service","WFS"),r.setAttribute("version",a),o){var u=o.gmlOptions?o.gmlOptions:{};o.handle&&r.setAttribute("handle",o.handle)}return r.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",X_[a]),t&&(a={node:r,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:o.featurePrefix,gmlVersion:s,hasZ:o.hasZ,srsName:o.srsName},gv(a,u),du(a,q_,uu("Insert"),t,i)),e&&(a={node:r,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:o.featurePrefix,gmlVersion:s,hasZ:o.hasZ,srsName:o.srsName},gv(a,u),du(a,q_,uu("Update"),e,i)),n&&du({node:r,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:o.featurePrefix,gmlVersion:s,srsName:o.srsName},q_,uu("Delete"),n,i),o.nativeElements&&du({node:r,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:o.featurePrefix,gmlVersion:s,srsName:o.srsName},q_,uu("Native"),o.nativeElements,i),r},il.prototype.Eg=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.kf(t);return null},il.prototype.kf=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild)for(t=t.firstElementChild.firstElementChild,t=t.firstElementChild;t;t=t.nextElementSibling)if(0!==t.childNodes.length&&(1!==t.childNodes.length||3!==t.firstChild.nodeType)){var e=[{}];return this.b.gf(t,e),Mt(e.pop().srsName)}return null},l(vl,Jh);var $_={Point:gl,LineString:ml,Polygon:bl,MultiPoint:function(t){var e=[];t=t.Zd();for(var n=0,o=t.length;n<o;++n)e.push("("+gl(t[n])+")");return e.join(",")},MultiLineString:function(t){var e=[];t=t.gd();for(var n=0,o=t.length;n<o;++n)e.push("("+ml(t[n])+")");return e.join(",")},MultiPolygon:function(t){var e=[];t=t.Td();for(var n=0,o=t.length;n<o;++n)e.push("("+bl(t[n])+")");return e.join(",")},GeometryCollection:function(t){var e=[];t=t.Vf();for(var n=0,o=t.length;n<o;++n)e.push(_l(t[n]));return e.join(",")}};pv=vl.prototype,pv.ae=function(t,e){return(t=this.wd(t,e))?(e=new Hs,e.Ra(t),e):null},pv.zg=function(t,e){var n=[];t=this.wd(t,e),n=this.b&&"GeometryCollection"==t.U()?t.a:[t],e=[];for(var o=0,i=n.length;o<i;++o)t=new Hs,t.Ra(n[o]),e.push(t);return e},pv.wd=function(t,e){return t=new Pl(new xl(t)),Sl(t),(t=Ml(t))?_u(t,!1,e):null},pv.ge=function(t,e){return(t=t.V())?this.Cd(t,e):""},pv.Wg=function(t,e){if(1==t.length)return this.ge(t[0],e);for(var n=[],o=0,i=t.length;o<i;++o)n.push(t[o].V());return t=new lh(n),this.Cd(t,e)},pv.Cd=function(t,e){return _l(_u(t,!0,e))},pv=Pl.prototype,pv.tg=function(){if(Cl(this,2)){var t=Tl(this);if(Cl(this,3))return t}else if(Il(this))return null;throw Error(Ll(this))},pv.sg=function(){if(Cl(this,2)){var t=Al(this);if(Cl(this,3))return t}else if(Il(this))return[];throw Error(Ll(this))},pv.ug=function(){if(Cl(this,2)){var t=El(this);if(Cl(this,3))return t}else if(Il(this))return[];throw Error(Ll(this))},pv.fp=function(){if(Cl(this,2)){var t;if(2==this.b.type)for(t=[this.tg()];Cl(this,5);)t.push(this.tg());else t=Al(this);if(Cl(this,3))return t}else if(Il(this))return[];throw Error(Ll(this))},pv.ep=function(){if(Cl(this,2)){var t=El(this);if(Cl(this,3))return t}else if(Il(this))return[];throw Error(Ll(this))},pv.gp=function(){if(Cl(this,2)){for(var t=[this.ug()];Cl(this,5);)t.push(this.ug());if(Cl(this,3))return t}else if(Il(this))return[];throw Error(Ll(this))};var Z_={POINT:Ao,LINESTRING:Mu,POLYGON:Bo,MULTIPOINT:Lu,MULTILINESTRING:Au,MULTIPOLYGON:Nu},J_={POINT:Pl.prototype.tg,LINESTRING:Pl.prototype.sg,POLYGON:Pl.prototype.ug,MULTIPOINT:Pl.prototype.fp,MULTILINESTRING:Pl.prototype.ep,MULTIPOLYGON:Pl.prototype.gp};l(Nl,Wp),Nl.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},Nl.prototype.b=function(t){return this.version=t.getAttribute("version").trim(),(t=cu({version:this.version},tx,t,[]))?t:null};var Q_=[null,"http://www.opengis.net/wms"],tx=pu(Q_,{Service:ru(function(t,e){return cu({},nx,t,e)}),Capability:ru(function(t,e){return cu({},ex,t,e)})}),ex=pu(Q_,{Request:ru(function(t,e){return cu({},px,t,e)}),Exception:ru(function(t,e){return cu([],ax,t,e)}),Layer:ru(function(t,e){return cu({},sx,t,e)})}),nx=pu(Q_,{Name:ru(Eh),Title:ru(Eh),Abstract:ru(Eh),KeywordList:ru(Fl),OnlineResource:ru(Gp),ContactInformation:ru(function(t,e){return cu({},ox,t,e)}),Fees:ru(Eh),AccessConstraints:ru(Eh),LayerLimit:ru(Th),MaxWidth:ru(Th),MaxHeight:ru(Th)}),ox=pu(Q_,{ContactPersonPrimary:ru(function(t,e){return cu({},ix,t,e)}),ContactPosition:ru(Eh),ContactAddress:ru(function(t,e){return cu({},rx,t,e)}),ContactVoiceTelephone:ru(Eh),ContactFacsimileTelephone:ru(Eh),ContactElectronicMailAddress:ru(Eh)}),ix=pu(Q_,{ContactPerson:ru(Eh),ContactOrganization:ru(Eh)}),rx=pu(Q_,{AddressType:ru(Eh),Address:ru(Eh),City:ru(Eh),StateOrProvince:ru(Eh),PostCode:ru(Eh),Country:ru(Eh)}),ax=pu(Q_,{Format:nu(Eh)}),sx=pu(Q_,{Name:ru(Eh),Title:ru(Eh),Abstract:ru(Eh),KeywordList:ru(Fl),CRS:iu(Eh),EX_GeographicBoundingBox:ru(function(t,e){var n=cu({},hx,t,e);if(n){t=n.westBoundLongitude,e=n.southBoundLatitude;var o=n.eastBoundLongitude,n=n.northBoundLatitude;if(void 0!==t&&void 0!==e&&void 0!==o&&void 0!==n)return[t,e,o,n]}}),BoundingBox:iu(function(t){var e=[Mh(t.getAttribute("minx")),Mh(t.getAttribute("miny")),Mh(t.getAttribute("maxx")),Mh(t.getAttribute("maxy"))],n=[Mh(t.getAttribute("resx")),Mh(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:e,res:n}}),Dimension:iu(function(t){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:Ph(t.getAttribute("multipleValues")),nearestValue:Ph(t.getAttribute("nearestValue")),current:Ph(t.getAttribute("current")),values:Eh(t)}}),Attribution:ru(function(t,e){return cu({},ux,t,e)}),AuthorityURL:iu(function(t,e){if(e=Ol(t,e))return e.name=t.getAttribute("name"),e}),Identifier:iu(Eh),MetadataURL:iu(function(t,e){if(e=Ol(t,e))return e.type=t.getAttribute("type"),e}),DataURL:iu(Ol),FeatureListURL:iu(Ol),Style:iu(function(t,e){return cu({},dx,t,e)}),MinScaleDenominator:ru(Ch),MaxScaleDenominator:ru(Ch),Layer:iu(function(t,e){var n=e[e.length-1],o=cu({},sx,t,e);if(o)return e=Ph(t.getAttribute("queryable")),void 0===e&&(e=n.queryable),o.queryable=void 0!==e&&e,e=Ah(t.getAttribute("cascaded")),void 0===e&&(e=n.cascaded),o.cascaded=e,e=Ph(t.getAttribute("opaque")),void 0===e&&(e=n.opaque),o.opaque=void 0!==e&&e,e=Ph(t.getAttribute("noSubsets")),void 0===e&&(e=n.noSubsets),o.noSubsets=void 0!==e&&e,(e=Mh(t.getAttribute("fixedWidth")))||(e=n.fixedWidth),o.fixedWidth=e,(t=Mh(t.getAttribute("fixedHeight")))||(t=n.fixedHeight),o.fixedHeight=t,["Style","CRS","AuthorityURL"].forEach(function(t){t in n&&(o[t]=(o[t]||[]).concat(n[t]))}),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(t){t in o||(o[t]=n[t])}),o})}),ux=pu(Q_,{Title:ru(Eh),OnlineResource:ru(Gp),LogoURL:ru(Rl)}),hx=pu(Q_,{westBoundLongitude:ru(Ch),eastBoundLongitude:ru(Ch),southBoundLatitude:ru(Ch),northBoundLatitude:ru(Ch)}),px=pu(Q_,{GetCapabilities:ru(kl),GetMap:ru(kl),GetFeatureInfo:ru(kl)}),lx=pu(Q_,{Format:iu(Eh),DCPType:iu(function(t,e){return cu({},cx,t,e)})}),cx=pu(Q_,{HTTP:ru(function(t,e){return cu({},fx,t,e)})}),fx=pu(Q_,{Get:ru(Ol),Post:ru(Ol)}),dx=pu(Q_,{Name:ru(Eh),Title:ru(Eh),Abstract:ru(Eh),LegendURL:iu(Rl),StyleSheetURL:ru(Ol),StyleURL:ru(Ol)}),yx=pu(Q_,{Format:ru(Eh),OnlineResource:ru(Gp)}),vx=pu(Q_,{Keyword:nu(Eh)});l(Dl,mh),Dl.prototype.zc=function(t,e){var o={};e&&gv(o,mu(this,t,e)),o=[o],t.setAttribute("namespaceURI",this.a);var r=t.localName;if(e=[],t.childNodes.length){if("msGMLOutput"==r)for(var a=0,s=t.childNodes.length;a<s;a++){var u=t.childNodes[a];if(u.nodeType===Node.ELEMENT_NODE){var h=o[0],p=u.localName.replace("_layer","");if(!this.c||n(this.c,p)){p+="_feature",h.featureType=p,h.featureNS=this.a;var l={};l[p]=nu(this.b.wg,this.b),h=pu([h.featureNS,null],l),u.setAttribute("namespaceURI",this.a),(u=cu([],h,u,o,this.b))&&i(e,u)}}}"FeatureCollection"==r&&(t=cu([],this.b.b,t,[{}],this.b))&&(e=t)}return e},Dl.prototype.Vg=function(){},Dl.prototype.Xb=function(){},Dl.prototype.ie=function(){},l(jl,Wp),jl.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},jl.prototype.b=function(t){var e=t.getAttribute("version").trim(),n=this.i.b(t);return n?(n.version=e,(n=cu(n,bx,t,[]))?n:null):null};var gx=[null,"http://www.opengis.net/wmts/1.0"],mx=[null,"http://www.opengis.net/ows/1.1"],bx=pu(gx,{Contents:ru(function(t,e){
return cu({},_x,t,e)})}),_x=pu(gx,{Layer:iu(function(t,e){return cu({},xx,t,e)}),TileMatrixSet:iu(function(t,e){return cu({},Ax,t,e)})}),xx=pu(gx,{Style:iu(function(t,e){if(e=cu({},wx,t,e))return t="true"===t.getAttribute("isDefault"),e.isDefault=t,e}),Format:iu(Eh),TileMatrixSetLink:iu(function(t,e){return cu({},Px,t,e)}),Dimension:iu(function(t,e){return cu({},Mx,t,e)}),ResourceURL:iu(function(t){var e=t.getAttribute("format"),n=t.getAttribute("template");t=t.getAttribute("resourceType");var o={};return e&&(o.format=e),n&&(o.template=n),t&&(o.resourceType=t),o})},pu(mx,{Title:ru(Eh),Abstract:ru(Eh),WGS84BoundingBox:ru(function(t,e){if(t=cu([],Tx,t,e),2==t.length)return I(t)}),Identifier:ru(Eh)})),wx=pu(gx,{LegendURL:iu(function(t){var e={};return e.format=t.getAttribute("format"),e.href=Gp(t),e})},pu(mx,{Title:ru(Eh),Identifier:ru(Eh)})),Px=pu(gx,{TileMatrixSet:ru(Eh),TileMatrixSetLimits:ru(function(t,e){return cu([],Sx,t,e)})}),Sx=pu(gx,{TileMatrixLimits:nu(function(t,e){return cu({},Cx,t,e)})}),Cx=pu(gx,{TileMatrix:ru(Eh),MinTileRow:ru(Th),MaxTileRow:ru(Th),MinTileCol:ru(Th),MaxTileCol:ru(Th)}),Mx=pu(gx,{Default:ru(Eh),Value:iu(Eh)},pu(mx,{Identifier:ru(Eh)})),Tx=pu(mx,{LowerCorner:nu(Kl),UpperCorner:nu(Kl)}),Ax=pu(gx,{WellKnownScaleSet:ru(Eh),TileMatrix:iu(function(t,e){return cu({},Ex,t,e)})},pu(mx,{SupportedCRS:ru(Eh),Identifier:ru(Eh)})),Ex=pu(gx,{TopLeftCorner:ru(Kl),ScaleDenominator:ru(Ch),TileWidth:ru(Th),TileHeight:ru(Th),MatrixWidth:ru(Th),MatrixHeight:ru(Th)},pu(mx,{Identifier:ru(Eh)}));l(Bl,ve),pv=Bl.prototype,pv.ka=function(){this.Ke(!1),ve.prototype.ka.call(this)},pv.Am=function(){var t=this.Uh();t&&(this.f=Et(Mt("EPSG:4326"),t),this.a&&this.set("position",this.f(this.a)))},pv.Bm=function(){if(Jv){var t=this.Vh();t&&void 0===this.c?this.c=navigator.geolocation.watchPosition(this.np.bind(this),this.op.bind(this),this.Gh()):t||void 0===this.c||(navigator.geolocation.clearWatch(this.c),this.c=void 0)}},pv.np=function(t){t=t.coords,this.set("accuracy",t.accuracy),this.set("altitude",null===t.altitude?void 0:t.altitude),this.set("altitudeAccuracy",null===t.altitudeAccuracy?void 0:t.altitudeAccuracy),this.set("heading",null===t.heading?void 0:S(t.heading)),this.a?(this.a[0]=t.longitude,this.a[1]=t.latitude):this.a=[t.longitude,t.latitude];var e=this.f(this.a);this.set("position",e),this.set("speed",null===t.speed?void 0:t.speed),t=Uo(Cv,this.a,t.accuracy),t.Dc(this.f),this.set("accuracyGeometry",t),this.s()},pv.op=function(t){t.type="error",this.Ke(!1),this.b(t)},pv.Dk=function(){return this.get("accuracy")},pv.Ek=function(){return this.get("accuracyGeometry")||null},pv.Gk=function(){return this.get("altitude")},pv.Hk=function(){return this.get("altitudeAccuracy")},pv.ym=function(){return this.get("heading")},pv.zm=function(){return this.get("position")},pv.Uh=function(){return this.get("projection")},pv.ll=function(){return this.get("speed")},pv.Vh=function(){return this.get("tracking")},pv.Gh=function(){return this.get("trackingOptions")},pv.Wh=function(t){this.set("projection",Mt(t))},pv.Ke=function(t){this.set("tracking",t)},pv.wj=function(t){this.set("trackingOptions",t)},l(Xl,so),pv=Xl.prototype,pv.clone=function(){var t=new Xl(null);return ho(t,this.ja,this.A.slice()),t.s(),t},pv.Kb=function(t,e,n,o){var i=this.A;t-=i[0];var r=e-i[1];if(e=t*t+r*r,e<o){if(e)for(o=this.pd()/Math.sqrt(e),n[0]=i[0]+o*t,n[1]=i[1]+o*r,o=2;o<this.a;++o)n[o]=i[o];else for(o=0;o<this.a;++o)n[o]=i[o];return n.length=this.a,e}return o},pv.Mc=function(t,e){var n=this.A;return t-=n[0],e-=n[1],t*t+e*e<=Ul(this)},pv.wa=function(){return this.A.slice(0,this.a)},pv.se=function(t){var e=this.A,n=e[this.a]-e[0];return K(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)},pv.pd=function(){return Math.sqrt(Ul(this))},pv.U=function(){return"Circle"},pv.Xa=function(t){var e=this.G();return!!it(t,e)&&(e=this.wa(),t[0]<=e[0]&&t[2]>=e[0]||t[1]<=e[1]&&t[3]>=e[1]||H(t,this.sb,this))},pv.ob=function(t){var e=this.a,n=t.slice();n[e]=n[0]+(this.A[e]-this.A[0]);var o;for(o=1;o<e;++o)n[e+o]=t[o];ho(this,this.ja,n),this.s()},pv.Ng=function(t,e,n){if(t){po(this,n,t,0),this.A||(this.A=[]),n=this.A,t=bo(n,t),n[t++]=n[0]+e;var o;for(e=1,o=this.a;e<o;++e)n[t++]=n[e];n.length=t}else ho(this,"XY",null);this.s()},pv.X=function(){},pv.ma=function(){},pv.Uc=function(t){this.A[this.a]=this.A[0]+t,this.s()};var Ix=new Aa({color:"rgba(0,0,0,0.2)"}),Lx=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];pv=zl.prototype,pv.Cm=function(){return this.v},pv.al=function(){return this.i},pv.hl=function(){return this.c},pv.Kh=function(t){var e=t.vectorContext,n=t.frameState,o=n.extent;t=n.viewState;var i=t.center,r=t.projection,a=t.resolution;if(t=n.pixelRatio,t=a*a/(4*t*t),!this.j||!Tt(this.j,r)){var s=Mt("EPSG:4326"),u=r.G(),h=r.g,p=Ot(h,s,r),l=h[2],c=h[1],f=h[0],d=p[3],y=p[2],v=p[1],p=p[0];this.o=h[3],this.f=l,this.l=c,this.g=f,this.oa=d,this.ra=y,this.I=v,this.R=p,this.u=At(s,r),this.D=At(r,s),this.S=this.D(Z(u)),this.j=r}for(r.i&&(r=r.G(),s=ot(r),n=n.focus[0],n<r[0]||n>r[2])&&(n=s*Math.ceil((r[0]-n)/s),o=[o[0]+n,o[1],o[2]+n,o[3]]),n=this.S[0],r=this.S[1],s=-1,h=Math.pow(this.Jb*a,2),l=[],c=[],a=0,u=Lx.length;a<u&&(f=Lx[a]/2,l[0]=n-f,l[1]=r-f,c[0]=n+f,c[1]=r+f,this.u(l,l),this.u(c,c),f=Math.pow(c[0]-l[0],2)+Math.pow(c[1]-l[1],2),!(f<=h));++a)s=Lx[a];if(a=s,-1==a)this.i.length=this.c.length=0,this.b&&(this.b.length=0),this.a&&(this.a.length=0);else{for(n=this.D(i),i=n[0],n=n[1],r=this.fb,s=[Math.max(o[0],this.R),Math.max(o[1],this.I),Math.min(o[2],this.ra),Math.min(o[3],this.oa)],s=Ot(s,this.j,"EPSG:4326"),h=s[3],c=s[1],i=Math.floor(i/a)*a,l=_(i,this.g,this.f),u=Hl(this,l,c,h,t,o,0),s=0;l!=this.g&&s++<r;)l=Math.max(l-a,this.g),u=Hl(this,l,c,h,t,o,u);for(l=_(i,this.g,this.f),s=0;l!=this.f&&s++<r;)l=Math.min(l+a,this.f),u=Hl(this,l,c,h,t,o,u);for(this.i.length=u,this.b&&(this.b.length=u),n=Math.floor(n/a)*a,i=_(n,this.l,this.o),u=ql(this,i,t,o,0),s=0;i!=this.l&&s++<r;)i=Math.max(i-a,this.l),u=ql(this,i,t,o,u);for(i=_(n,this.l,this.o),s=0;i!=this.o&&s++<r;)i=Math.min(i+a,this.o),u=ql(this,i,t,o,u);this.c.length=u,this.a&&(this.a.length=u)}for(e.Ma(null,this.pa),t=0,i=this.i.length;t<i;++t)a=this.i[t],e.zb(a);for(t=0,i=this.c.length;t<i;++t)a=this.c[t],e.zb(a);if(this.b)for(t=0,i=this.b.length;t<i;++t)a=this.b[t],this.B.xd(a.text),e.Cb(this.B),e.zb(a.Qd);if(this.a)for(t=0,i=this.a.length;t<i;++t)a=this.a[t],this.C.xd(a.text),e.Cb(this.C),e.zb(a.Qd)},pv.setMap=function(t){this.v&&(this.v.K("postcompose",this.Kh,this),this.v.render()),t&&(t.J("postcompose",this.Kh,this),t.render()),this.v=t},l(Vl,fe),Vl.prototype.s=function(){this.b("change")},Vl.prototype.G=function(){return this.extent},Vl.prototype.getState=function(){return this.state},l($l,Vl),pv=$l.prototype,pv.Y=function(t){if(void 0!==t){var e;return t=f(t),t in this.c?this.c[t]:(e=pt(this.c)?this.M:this.M.cloneNode(!1),this.c[t]=e)}return this.M},pv.Fm=function(){this.state=3,this.i.forEach(se),this.i=null,this.s()},pv.Gm=function(){void 0===this.resolution&&(this.resolution=Q(this.extent)/this.M.height),this.state=2,this.i.forEach(se),this.i=null,this.s()},pv.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.s(),this.i=[re(this.M,"error",this.Fm,this),re(this.M,"load",this.Gm,this)],this.g(this,this.j))},pv.Og=function(t){this.M=t},l(Zl,Vl),Zl.prototype.g=function(t){this.state=t?3:2,this.s()},Zl.prototype.load=function(){0==this.state&&(this.state=1,this.s(),this.c(this.g.bind(this)))},Zl.prototype.Y=function(){return this.i},l(Jl,fe),Jl.prototype.s=function(){this.b("change")},Jl.prototype.bb=function(){return this.key+"/"+this.ta},Jl.prototype.f=function(){return this.ta},Jl.prototype.getState=function(){return this.state},l(ec,Jl),pv=ec.prototype,pv.ka=function(){1==this.state&&nc(this),this.i&&pe(this.i),this.state=5,this.s(),Jl.prototype.ka.call(this)},pv.Y=function(){return this.M},pv.bb=function(){return this.g},pv.Dm=function(){this.state=3,this.M=Nx,nc(this),this.s()},pv.Em=function(){this.state=this.M.naturalWidth&&this.M.naturalHeight?2:4,nc(this),this.s()},pv.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.s(),this.c=[re(this.M,"error",this.Dm,this),re(this.M,"load",this.Em,this)],this.j(this,this.g))};var Nx=new Image;Nx.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",l(oc,ai),oc.prototype.j=function(t,e){e=e.target.result;var n=this.v,o=this.o;o||(o=n.Z().v);var i,n=this.g,r=[],a=0;for(i=n.length;a<i;++a){var s=new n[a],u={featureProjection:o};try{r=s.Oa(e,u)}catch(t){r=null}if(r&&0<r.length)break}this.b(new uc(Ox,t,r,o))},oc.prototype.Ha=function(t){ai.prototype.Ha.call(this,t),t?ac(this):sc(this)},oc.prototype.setMap=function(t){sc(this),ai.prototype.setMap.call(this,t),this.c()&&ac(this)};var Ox="addfeatures";l(uc,le),l(hc,xi),l(fc,Ar),fc.prototype.Va=function(t,e){if(this.R){var n=dr(this.T,this.R.slice());t.translate(n[0],n[1]),t.rotate(e)}t.fill(),this.R&&t.setTransform.apply(t,this.na)},fc.prototype.La=function(t,e,n,o,i){vc(this,t,e,n,o,i,this.a,void 0,void 0)},fc.prototype.Te=c,fc.prototype.Sf=function(){return this.Ua},l(bc,fc),bc.prototype.qc=function(t,e){if(this.M){yc(this,e);var n=t.ga(),o=this.coordinates.length;t=dc(this,n,0,n.length,t.qa(),!1,!1),this.a.push([4,o,t,this.M,this.i,this.f,this.g,this.j,this.o,this.l,this.v,this.u,this.S,this.D,this.C]),this.b.push([4,o,t,this.I,this.i,this.f,this.g,this.j,this.o,this.l,this.v,this.u,this.S,this.D,this.C]),mc(this,e)}},bc.prototype.oc=function(t,e){if(this.M){yc(this,e);var n=t.ga(),o=this.coordinates.length;t=dc(this,n,0,n.length,t.qa(),!1,!1),this.a.push([4,o,t,this.M,this.i,this.f,this.g,this.j,this.o,this.l,this.v,this.u,this.S,this.D,this.C]),this.b.push([4,o,t,this.I,this.i,this.f,this.g,this.j,this.o,this.l,this.v,this.u,this.S,this.D,this.C]),mc(this,e)}},bc.prototype.Te=function(){gc(this),this.f=this.i=void 0,this.M=this.I=null,this.C=this.D=this.u=this.v=this.l=this.o=this.j=this.S=this.g=void 0},bc.prototype.Ub=function(t){var e=t.Hc(),n=t.ic(),o=t.qg(1),i=t.Y(1),r=t.Oc();this.i=e[0],this.f=e[1],this.I=o,this.M=i,this.g=n[1],this.j=t.f,this.o=r[0],this.l=r[1],this.v=t.l,this.u=t.g,this.S=t.a,this.D=t.v,this.C=n[0]},l(_c,fc),pv=_c.prototype,pv.Sf=function(){return this.f||(this.f=N(this.Ua),0<this.c&&L(this.f,this.resolution*(this.c+1)/2,this.f)),this.f},pv.mc=function(t,e){var n=this.i,o=n.lineWidth;void 0!==n.strokeStyle&&void 0!==o&&(wc(this),yc(this,e),this.b.push([10,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset,!0,1],[1]),n=t.ga(),xc(this,n,0,n.length,t.qa()),this.b.push([12]),mc(this,e))},pv.nc=function(t,e){var n=this.i,o=n.lineWidth;if(void 0!==n.strokeStyle&&void 0!==o){wc(this),yc(this,e),this.b.push([10,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset,!0,1],[1]),n=t.Bb(),o=t.ga(),t=t.qa();var i,r=0,a=0;for(i=n.length;a<i;++a)r=xc(this,o,r,n[a],t);this.b.push([12]),mc(this,e)}},pv.Te=function(){this.i.eg!=this.coordinates.length&&this.a.push([12]),gc(this),this.i=null},pv.Ma=function(t,e){t=e.a,this.i.strokeStyle=Te(t?t:mg),t=e.f,this.i.lineCap=void 0!==t?t:"round",t=e.i,this.i.lineDash=t?t:gg,t=e.g,this.i.lineDashOffset=t?t:0,t=e.j,this.i.lineJoin=void 0!==t?t:"round",t=e.c,this.i.lineWidth=void 0!==t?t:1,e=e.o,this.i.miterLimit=void 0!==e?e:10,this.i.lineWidth>this.c&&(this.c=this.i.lineWidth,this.f=null)},l(Pc,fc),pv=Pc.prototype,pv.Zb=function(t,e){var n=this.i,o=n.strokeStyle;if(void 0!==n.fillStyle||void 0!==o){Cc(this,t),yc(this,e),this.b.push([9,Ce(vg)]),void 0!==n.strokeStyle&&this.b.push([10,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset,!0,1]);var i=t.ga(),o=this.coordinates.length;dc(this,i,0,i.length,t.qa(),!1,!1),t=[1],o=[2,o],this.a.push(t,o),this.b.push(t,o),t=[7],this.b.push(t),void 0!==n.fillStyle&&this.a.push(t),void 0!==n.strokeStyle&&(n=[12],this.a.push(n),this.b.push(n)),mc(this,e)}},pv.rc=function(t,e){var n=this.i;Cc(this,t),yc(this,e),this.b.push([9,Ce(vg)]),void 0!==n.strokeStyle&&this.b.push([10,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset,!0,1]);var n=t.Bb(),o=t.ec();Sc(this,o,0,n,t.qa()),mc(this,e)},pv.pc=function(t,e){var n=this.i,o=n.strokeStyle;if(void 0!==n.fillStyle||void 0!==o){Cc(this,t),yc(this,e),this.b.push([9,Ce(vg)]),void 0!==n.strokeStyle&&this.b.push([10,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset,!0,1]),n=t.c,o=ku(t),t=t.qa();var i,r=0,a=0;for(i=n.length;a<i;++a)r=Sc(this,o,r,n[a],t);mc(this,e)}},pv.Te=function(){gc(this),this.i=null;var t=this.fb;if(t){var e,n=this.coordinates,o=0;for(e=n.length;o<e;++o)n[o]=t*Math.round(n[o]/t)}},pv.Sf=function(){return this.f||(this.f=N(this.Ua),0<this.c&&L(this.f,this.resolution*(this.c+1)/2,this.f)),this.f},pv.Ma=function(t,e){var n=this.i;t?(t=t.b,n.fillStyle=Te(t?t:vg)):n.fillStyle=void 0,e?(t=e.a,n.strokeStyle=Te(t?t:mg),t=e.f,n.lineCap=void 0!==t?t:"round",t=e.i,n.lineDash=t?t.slice():gg,t=e.g,n.lineDashOffset=t?t:0,t=e.j,n.lineJoin=void 0!==t?t:"round",t=e.c,n.lineWidth=void 0!==t?t:1,e=e.o,n.miterLimit=void 0!==e?e:10,n.lineWidth>this.c&&(this.c=n.lineWidth,this.f=null)):(n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0)},l(Mc,fc),Mc.prototype.yc=function(t,e,n,o,i,r){if(""!==this.Ia&&this.g&&(this.i||this.f)){if(this.i){i=this.i;var a=this.S;if(!a||a.fillStyle!=i.fillStyle){var s=[9,i.fillStyle];this.a.push(s),this.b.push(s),a?a.fillStyle=i.fillStyle:this.S={fillStyle:i.fillStyle}}}this.f&&(i=this.f,a=this.D,a&&a.lineCap==i.lineCap&&a.lineDash==i.lineDash&&a.lineDashOffset==i.lineDashOffset&&a.lineJoin==i.lineJoin&&a.lineWidth==i.lineWidth&&a.miterLimit==i.miterLimit&&a.strokeStyle==i.strokeStyle||(s=[10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset,!1,1],this.a.push(s),this.b.push(s),a?(a.lineCap=i.lineCap,a.lineDash=i.lineDash,a.lineDashOffset=i.lineDashOffset,a.lineJoin=i.lineJoin,a.lineWidth=i.lineWidth,a.miterLimit=i.miterLimit,a.strokeStyle=i.strokeStyle):this.D={lineCap:i.lineCap,lineDash:i.lineDash,lineDashOffset:i.lineDashOffset,lineJoin:i.lineJoin,lineWidth:i.lineWidth,miterLimit:i.miterLimit,strokeStyle:i.strokeStyle})),i=this.g,a=this.C,a&&a.font==i.font&&a.textAlign==i.textAlign&&a.textBaseline==i.textBaseline||(s=[11,i.font,i.textAlign,i.textBaseline],this.a.push(s),this.b.push(s),a?(a.font=i.font,a.textAlign=i.textAlign,a.textBaseline=i.textBaseline):this.C={font:i.font,textAlign:i.textAlign,textBaseline:i.textBaseline}),yc(this,r),i=this.coordinates.length,t=dc(this,t,e,n,o,!1,!1),t=[5,i,t,this.Ia,this.j,this.o,this.v,this.u,!!this.i,!!this.f,this.l],this.a.push(t),this.b.push(t),mc(this,r)}},Mc.prototype.Cb=function(t){if(t){var e=t.Fa();e?(e=e.b,e=Te(e?e:vg),this.i?this.i.fillStyle=e:this.i={fillStyle:e}):this.i=null;var n=t.Ga();if(n){var e=n.a,o=n.f,i=n.i,r=n.g,a=n.j,s=n.c,n=n.o,o=void 0!==o?o:"round",i=i?i.slice():gg,r=void 0!==r?r:0,a=void 0!==a?a:"round",s=void 0!==s?s:1,n=void 0!==n?n:10,e=Te(e?e:mg);if(this.f){var u=this.f;u.lineCap=o,u.lineDash=i,u.lineDashOffset=r,u.lineJoin=a,u.lineWidth=s,u.miterLimit=n,u.strokeStyle=e}else this.f={lineCap:o,lineDash:i,lineDashOffset:r,lineJoin:a,lineWidth:s,miterLimit:n,strokeStyle:e}}else this.f=null;var h=t.a,e=t.i,o=t.c,i=t.o,s=t.f,n=t.b,r=t.Na(),a=t.g,u=t.j;t=void 0!==h?h:"10px sans-serif",a=void 0!==a?a:"center",u=void 0!==u?u:"middle",this.g?(h=this.g,h.font=t,h.textAlign=a,h.textBaseline=u):this.g={font:t,textAlign:a,textBaseline:u},this.Ia=void 0!==r?r:"",this.j=void 0!==e?e:0,this.o=void 0!==o?o:0,this.l=void 0!==i&&i,this.v=void 0!==s?s:0,this.u=void 0!==n?n:1}else this.Ia=""},l(Tc,jr);var kx={0:[[!0]]};Tc.prototype.Ea=function(t,e,n,o,i,r){o=Math.round(o);var a=2*o+1,s=mr(this.j,o+.5,o+.5,1/e,-1/e,-n,-t[0],-t[1]),u=this.g;if(u.canvas.width!==a||u.canvas.height!==a?(u.canvas.width=a,u.canvas.height=a):u.clearRect(0,0,a,a),void 0!==this.f){var h=j();W(h,t),L(h,e*(this.f+o),h)}var p=Ec(o);return Nc(this,u,s,n,i,function(t){for(var e=u.getImageData(0,0,a,a).data,n=0;n<a;n++)for(var o=0;o<a;o++)if(p[n][o]&&0<e[4*(o*a+n)+3])return(t=r(t))?t:void u.clearRect(0,0,a,a)},h)},Tc.prototype.b=function(t,e){var n=void 0!==t?t.toString():"0";return t=this.a[n],void 0===t&&(t={},this.a[n]=t),n=t[e],void 0===n&&(n=new Rx[e](this.v,this.c,this.l,this.o),t[e]=n),n},Tc.prototype.i=function(){return pt(this.a)},Tc.prototype.La=function(t,n,o,i,r,a){var s=Object.keys(this.a).map(Number);s.sort(e);var u=Lc(this,o);t.save(),t.beginPath(),t.moveTo(u[0],u[1]),t.lineTo(u[2],u[3]),t.lineTo(u[4],u[5]),t.lineTo(u[6],u[7]),t.clip(),a=a?a:bg;var h,p,u=0;for(h=s.length;u<h;++u){var l=this.a[s[u].toString()],c=0;for(p=a.length;c<p;++c){var f=l[a[c]];void 0!==f&&f.La(t,n,o,i,r)}}t.restore()};var Rx={Circle:Pc,Image:bc,LineString:_c,Polygon:Pc,Text:Mc};l(Oc,ye),Oc.prototype.Ea=c,Oc.prototype.Ue=oo,Oc.prototype.Nf=function(t,e,n){return function(o,i){return ay(t,e,o,i,function(t){n[o]||(n[o]={}),n[o][t.ta.toString()]=t})}},Oc.prototype.na=function(t){2===t.target.getState()&&Rc(this)},l(Xc,Oc),Xc.prototype.u=function(t,e,n,o){if(this.Ea(t,e,0,no,this))return n.call(o,this.a,null)},Xc.prototype.ef=function(t,e,n,o){Yc(this,"postcompose",t,e,o)};var Fx={Point:function(t,e,n,o){var i=n.Y();if(i){if(2!=i.Ye())return;var r=t.b(n.Ba(),"Image");r.Ub(i),r.qc(e,o)}(i=n.Na())&&(t=t.b(n.Ba(),"Text"),t.Cb(i),t.yc(e.ga(),0,2,2,e,o))},LineString:function(t,e,n,o){var i=n.Ga();if(i){var r=t.b(n.Ba(),"LineString");r.Ma(null,i),r.mc(e,o)}(i=n.Na())&&(t=t.b(n.Ba(),"Text"),t.Cb(i),t.yc(Tu(e),0,2,2,e,o))},Polygon:function(t,e,n,o){var i=n.Fa(),r=n.Ga();if(i||r){var a=t.b(n.Ba(),"Polygon");a.Ma(i,r),a.rc(e,o)}(i=n.Na())&&(t=t.b(n.Ba(),"Text"),t.Cb(i),t.yc(Xo(e),0,2,2,e,o))},MultiPoint:function(t,e,n,o){var i=n.Y();if(i){if(2!=i.Ye())return;var r=t.b(n.Ba(),"Image");r.Ub(i),r.oc(e,o)}(i=n.Na())&&(t=t.b(n.Ba(),"Text"),t.Cb(i),n=e.ga(),t.yc(n,0,n.length,e.qa(),e,o))},MultiLineString:function(t,e,n,o){var i=n.Ga();if(i){var r=t.b(n.Ba(),"LineString");r.Ma(null,i),r.nc(e,o)}(i=n.Na())&&(t=t.b(n.Ba(),"Text"),t.Cb(i),n=Eu(e),t.yc(n,0,n.length,2,e,o))},MultiPolygon:function(t,e,n,o){var i=n.Fa(),r=n.Ga();if(r||i){var a=t.b(n.Ba(),"Polygon");a.Ma(i,r),a.pc(e,o)}(i=n.Na())&&(t=t.b(n.Ba(),"Text"),t.Cb(i),n=Ou(e),t.yc(n,0,n.length,2,e,o))},GeometryCollection:function(t,e,n,o){e=e.a;var i,r=0;for(i=e.length;r<i;++r)(0,Fx[e[r].U()])(t,e[r],n,o)},Circle:function(t,e,n,o){var i=n.Fa(),r=n.Ga();if(i||r){var a=t.b(n.Ba(),"Circle");a.Ma(i,r),a.Zb(e,o)}(i=n.Na())&&(t=t.b(n.Ba(),"Text"),t.Cb(i),t.yc(e.wa(),0,2,2,e,o))}};l(qc,Xc),qc.prototype.S=function(t,e,n){var o=t.extent,i=t.pixelRatio,r=e.Je?t.skippedFeatureUids:{},a=t.viewState,s=a.projection,a=a.rotation,u=s.G(),h=this.a.ha(),p=Gc(this,t,0);Yc(this,"precompose",n,t,p);var l=e.extent,c=void 0!==l;if(c&&Uc(n,t,l),(l=this.f)&&!l.i()){var f=0,d=0;if(de(this.a,"render")){var y=n.canvas.width,v=n.canvas.height;if(a){var g=Math.round(Math.sqrt(y*y+v*v)),f=(g-y)/2,d=(g-v)/2;y=v=g}this.g.canvas.width=y,this.g.canvas.height=v,y=this.g}else y=n;v=y.globalAlpha,y.globalAlpha=e.opacity,y!=n&&y.translate(f,d);var g=t.size[0]*i,m=t.size[1]*i;if(Tr(y,-a,g/2,m/2),l.La(y,i,p,a,r),h.u&&s.i&&!R(u,o)){for(var s=o[0],h=ot(u),b=0;s<u[0];)--b,p=h*b,p=Gc(this,t,p),l.La(y,i,p,a,r),s+=h;for(b=0,s=o[2];s>u[2];)++b,p=h*b,p=Gc(this,t,p),l.La(y,i,p,a,r),s-=h;p=Gc(this,t,0)}Tr(y,a,g/2,m/2),y!=n&&(Yc(this,"render",y,t,p),n.drawImage(y.canvas,-f,-d),y.translate(-f,-d)),y.globalAlpha=v}c&&n.restore(),this.ef(n,t,e,p)},qc.prototype.Ea=function(t,e,n,o,i){if(this.f){var r=this.a,a={};return this.f.Ea(t,e.viewState.resolution,e.viewState.rotation,n,{},function(t){var e=f(t).toString();if(!(e in a))return a[e]=!0,o.call(i,t,r)})}},qc.prototype.D=function(){Rc(this)},qc.prototype.sd=function(t){function e(t){var e=t.Lc();if(e)var o=e.call(t,h);else(e=n.f)&&(o=e(t,h));if(o){if(o){if(e=!1,Array.isArray(o))for(var i=0,r=o.length;i<r;++i)e=Hc(c,t,o[i],zc(h,p),this.D,this)||e;else e=Hc(c,t,o,zc(h,p),this.D,this)||e;t=e}else t=!1;this.c=this.c||t}}var n=this.a,o=n.ha();Dc(t.attributions,o.j),jc(t,o);var i=t.viewHints[0],r=t.viewHints[1],a=n.T,s=n.na;if(!this.c&&!a&&i||!s&&r)return!0;var u=t.extent,s=t.viewState,i=s.projection,h=s.resolution,p=t.pixelRatio,r=n.i,l=n.c,a=n.get(Kx);if(void 0===a&&(a=Wc),u=L(u,l*h),l=s.projection.G(),o.u&&s.projection.i&&!R(l,t.extent)&&(t=Math.max(ot(u)/2,ot(l)),u[0]=l[0]-t,u[2]=l[2]+t),!this.c&&this.l==h&&this.v==r&&this.o==a&&R(this.j,u))return!0;this.f=null,this.c=!1;var c=new Tc(.5*h/p,u,h,o.T,n.c);if(o.Yd(u,h,i),a){var f=[];o.$b(u,function(t){f.push(t)},this),f.sort(a),f.forEach(e,this)}else o.$b(u,e,this);return Ic(c),this.l=h,this.v=r,this.o=a,this.j=u,this.f=c,!0},l(Vc,Br);var Dx=new Vc;l($c,Xr);var jx=new $c;l(Jc,Oc),Jc.prototype.Gi=function(t,e,n){tf(this,"precompose",n,t),oa(n,34962,this.T);var o=n.b,i=sa(n,Dx,jx);if(this.u)var r=this.u;else this.u=r=new Zc(o,i);n.Qc(i)&&(o.enableVertexAttribArray(r.b),o.vertexAttribPointer(r.b,2,5126,!1,16,0),o.enableVertexAttribArray(r.a),o.vertexAttribPointer(r.a,2,5126,!1,16,8),o.uniform1i(r.f,0)),o.uniformMatrix4fv(r.g,!1,zr(this.C,this.v)),o.uniformMatrix4fv(r.c,!1,zr(this.C,this.S)),o.uniform1f(r.i,e.opacity),o.bindTexture(3553,this.Ib),o.drawArrays(5,0,4),tf(this,"postcompose",n,t)},Jc.prototype.mg=function(){this.g=this.Ib=null,this.j=void 0},l(ef,Jc),pv=ef.prototype,pv.Gi=function(t,e,n){this.o=e;var o=t.viewState,i=this.f,r=t.size,a=t.pixelRatio,s=this.c.i;i&&!i.i()&&(s.enable(s.SCISSOR_TEST),s.scissor(0,0,r[0]*a,r[1]*a),i.La(n,o.center,o.resolution,o.rotation,r,a,e.opacity,e.Je?t.skippedFeatureUids:{}),s.disable(s.SCISSOR_TEST))},pv.ka=function(){var t=this.f;t&&(ss(t,this.c.f)(),this.f=null),Jc.prototype.ka.call(this)},pv.Ea=function(t,e,n,o,i){if(this.f&&this.o){n=e.viewState;var r=this.a,a={};return this.f.Ea(t,this.c.f,n.center,n.resolution,n.rotation,e.size,e.pixelRatio,this.o.opacity,{},function(t){var e=f(t).toString();if(!(e in a))return a[e]=!0,o.call(i,t,r)})}},pv.Ue=function(t,e){if(this.f&&this.o){var n=e.viewState;return ps(this.f,t,this.c.f,n.resolution,n.rotation,e.pixelRatio,this.o.opacity,e.skippedFeatureUids)}return!1},pv.lg=function(t,e,n,o){if(t=dr(e.pixelToCoordinateTransform,t.slice()),this.Ue(t,e))return n.call(o,this.a,null)},pv.Hi=function(){Rc(this)},pv.ng=function(t,e,n){function o(t){var e=t.Lc();if(e)var n=e.call(t,h);else(e=i.f)&&(n=e(t,h));if(n){if(n){if(e=!1,Array.isArray(n))for(var o=n.length-1;0<=o;--o)e=Hc(c,t,n[o],zc(h,p),this.Hi,this)||e;else e=Hc(c,t,n,zc(h,p),this.Hi,this)||e;t=e}else t=!1;this.l=this.l||t}}var i=this.a;e=i.ha(),Dc(t.attributions,e.j),jc(t,e);var r=t.viewHints[0],a=t.viewHints[1],s=i.T,u=i.na;if(!this.l&&!s&&r||!u&&a)return!0;var a=t.extent,s=t.viewState,r=s.projection,h=s.resolution,p=t.pixelRatio,s=i.i,l=i.c,u=i.get(Kx);if(void 0===u&&(u=Wc),a=L(a,l*h),!this.l&&this.I==h&&this.R==s&&this.B==u&&R(this.D,a))return!0;this.f&&t.postRenderFunctions.push(ss(this.f,n)),this.l=!1;var c=new as(.5*h/p,a,i.c);if(e.Yd(a,h,r),u){var f=[];e.$b(a,function(t){f.push(t)},this),f.sort(u),f.forEach(o,this)}else e.$b(a,o,this);return us(c,n),this.I=h,this.R=s,this.B=u,this.D=a,this.f=c,!0},l(nf,ar),nf.prototype.Fd=function(t){var e=null,n=t.U();return"canvas"===n?e=new qc(this):"webgl"===n&&(e=new ef(t,this)),e},nf.prototype.D=function(){return this.u},nf.prototype.C=function(){return this.f},nf.prototype.g=function(t){this.u=void 0!==t?t:Gs,this.f=null===t?void 0:Ys(this.u),this.s()};var Kx="renderOrder";l(rf,ve),pv=rf.prototype,pv.Ea=c,pv.ya=function(){return this.j},pv.xa=function(){return this.D},pv.za=function(){return this.c},pv.getState=function(){return this.na},pv.sa=function(){this.s()},pv.ua=function(t){this.j=af(t),this.s()},l(uf,rf),pv=uf.prototype,pv.yb=function(t){var e=f(t).toString();if(pf(this,e,t)){hf(this,e,t);var n=t.V();n?(e=n.G(),this.a&&this.a.Ca(e,t)):this.g[e]=t,this.b(new yf("addfeature",t))}this.s()},pv.cd=function(t){lf(this,t),this.s()},pv.clear=function(t){if(t){for(var e in this.v)this.v[e].forEach(se);this.f||(this.v={},this.o={},this.l={})}else if(this.a){this.a.forEach(this.Ig,this);for(var n in this.g)this.Ig(this.g[n])}this.f&&this.f.clear(),this.a&&this.a.clear(),this.R.clear(),this.g={},this.b(new yf("clear")),this.s()},pv.sh=function(t,e){return this.a?this.a.forEach(t,e):this.f?this.f.forEach(t,e):void 0},pv.$b=function(t,e,n){return this.a?Xa(this.a,t,e,n):this.f?this.f.forEach(e,n):void 0},pv.th=function(t,e,n){return this.$b(t,function(o){if(o.V().Xa(t)&&(o=e.call(n,o)))return o})},pv.Ah=function(){return this.f},pv.Xe=function(){if(this.f)var t=this.f.a;else this.a&&(t=Ka(this.a),pt(this.g)||i(t,ht(this.g)));return t},pv.zh=function(t){var e=[];return ff(this,t,function(t){e.push(t)}),e},pv.Uf=function(t){return Ba(this.a,t)},pv.vh=function(t,e){var n=t[0],o=t[1],i=null,r=[NaN,NaN],a=1/0,s=[-(1/0),-(1/0),1/0,1/0],u=e?e:no;return Xa(this.a,s,function(t){if(u(t)){var e=t.V(),h=a;a=e.Kb(n,o,r,a),a<h&&(i=t,t=Math.sqrt(a),s[0]=n-t,s[1]=o-t,s[2]=n+t,s[3]=o+t)}}),i},pv.G=function(t){return this.a.G(t)},pv.yh=function(t){return t=this.o[t.toString()],void 0!==t?t:null},pv.Mi=function(){return this.C},pv.Ni=function(){return this.I},pv.Oi=function(t){t=t.target;var e=f(t).toString(),n=t.V();n?(n=n.G(),e in this.g?(delete this.g[e],this.a&&this.a.Ca(n,t)):this.a&&ja(this.a,n,t)):e in this.g||(this.a&&this.a.remove(t),this.g[e]=t),n=t.a,void 0!==n?(n=n.toString(),e in this.l?(delete this.l[e],this.o[n]=t):this.o[n]!==t&&(df(this,t),this.o[n]=t)):e in this.l||(df(this,t),this.l[e]=t),this.s(),this.b(new yf("changefeature",t))},pv.Yd=function(t,e,n){var o=this.R;t=this.fa(t,e);var i,r=0;for(i=t.length;r<i;++r){var a=t[r];Xa(o,a,function(t){return R(t.extent,a)})||(this.B.call(this,a,e,n),o.Ca(a,{extent:a.slice()}))}},pv.Gb=function(t){var e=f(t).toString();e in this.g?delete this.g[e]:this.a&&this.a.remove(t),this.Ig(t),this.s()},pv.Ig=function(t){var e=f(t).toString();this.v[e].forEach(se),delete this.v[e];var n=t.a;void 0!==n?delete this.o[n.toString()]:delete this.l[e],this.b(new yf("removefeature",t))},l(yf,le),l(vf,xi),pv=vf.prototype,pv.setMap=function(t){xi.prototype.setMap.call(this,t),this.ri()},pv.Op=function(){if(this.j){var t=this.j.V();if(this.g===Xx){var e=this.a;e.splice(-2,1),this.Za(e,t),2<=e.length&&(this.l=e[e.length-2].slice())}else if(this.g===Ux){e=this.a[0],e.splice(-2,1);var n=this.C.V();n.ma(e),this.Za(this.a,t)}0===e.length&&(this.l=null),Mf(this)}},pv.Pd=function(){var t=Cf(this),e=this.a,n=t.V();this.g===Xx?(e.pop(),this.Za(e,n)):this.g===Ux&&(e[0].pop(),this.Za(e,n),e=n.X()),"MultiPoint"===this.R?t.Ra(new Lu([e])):"MultiLineString"===this.R?t.Ra(new Au([e])):"MultiPolygon"===this.R&&t.Ra(new Nu([e])),this.b(new Af("drawend",t)),this.$a&&this.$a.push(t),this.Yb&&this.Yb.yb(t)},pv.vn=function(t){var e=t.V();this.j=t,this.a=e.X(),t=this.a[this.a.length-1],this.l=t.slice(),this.a.push(t.slice()),Mf(this),this.b(new Af("drawstart",this.j))},pv.Xc=oo,pv.ri=function(){var t=this.v,e=this.c();t&&e||Cf(this),this.pa.setMap(e?t:null)};var Bx="Point",Xx="LineString",Ux="Polygon",Yx="Circle";l(Af,le),l(Ef,xi),Ef.prototype.setMap=function(t){this.u.setMap(t),this.I.setMap(t),xi.prototype.setMap.call(this,t)},Ef.prototype.G=function(){return this.j},Ef.prototype.g=function(t){this.j=t?t:null;var e=this.l;e?t?e.Ra(Yo(t)):e.Ra(void 0):(this.l=e=new Hs(t?Yo(t):{}),this.u.ha().yb(e)),this.b(new Bf(this.j))},l(Bf,le);var Gx="extentchanged";l(Xf,xi),pv=Xf.prototype,pv.kg=function(t){var e=t.V();e&&e.U()in this.T&&this.T[e.U()].call(this,t,e),(e=this.v)&&e.c&&this.c()&&Zf(this,this.va,e),ie(t,"change",this.si,this)},pv.Ha=function(t){this.g&&!t&&(this.B.ha().Gb(this.g),this.g=null),xi.prototype.Ha.call(this,t)},pv.setMap=function(t){this.B.setMap(t),xi.prototype.setMap.call(this,t)},pv.wn=function(t){this.kg(t.element)},pv.si=function(t){this.l||(t=t.target,Yf(this,t),this.kg(t))},pv.xn=function(t){Yf(this,t.element)},pv.Dn=function(t,e){var n=e.X();t={feature:t,geometry:e,la:[n,n]},this.a.Ca(e.G(),t)},pv.Bn=function(t,e){var n,o=e.X(),i=0;for(n=o.length;i<n;++i){var r=o[i];r={feature:t,geometry:e,depth:[i],index:i,la:[r,r]},this.a.Ca(e.G(),r)}},pv.ti=function(t,e){var n,o=e.X(),i=0;for(n=o.length-1;i<n;++i){var r=o.slice(i,i+2),a={feature:t,geometry:e,index:i,la:r};this.a.Ca(I(r),a)}},pv.An=function(t,e){var n,o,i=e.X(),r=0;for(o=i.length;r<o;++r){var a=i[r],s=0;for(n=a.length-1;s<n;++s){var u=a.slice(s,s+2),h={feature:t,geometry:e,depth:[r],index:s,la:u};this.a.Ca(I(u),h)}}},pv.En=function(t,e){var n,o,i=e.X(),r=0;for(o=i.length;r<o;++r){var a=i[r],s=0;for(n=a.length-1;s<n;++s){var u=a.slice(s,s+2),h={feature:t,geometry:e,depth:[r],index:s,la:u};this.a.Ca(I(u),h)}}},pv.Cn=function(t,e){var n,o,i,r=e.X(),a=0;for(i=r.length;a<i;++a){var s=r[a],u=0;for(o=s.length;u<o;++u){var h=s[u],p=0;for(n=h.length-1;p<n;++p){var l=h.slice(p,p+2),c={feature:t,geometry:e,depth:[u,a],index:p,la:l};this.a.Ca(I(l),c)}}}},pv.yn=function(t,e){var n=e.wa(),o={feature:t,geometry:e,index:0,la:[n,n]};t={feature:t,geometry:e,index:1,la:[n,n]},o.Pf=t.Pf=[o,t],this.a.Ca(X(n),o),this.a.Ca(e.G(),t)},pv.zn=function(t,e){var n=e.a;for(e=0;e<n.length;++e)this.T[n[e].U()].call(this,t,n[e])},pv.bm=function(t,e){for(var n,o=t.la,i=t.feature,r=t.geometry,a=t.depth,s=t.index;e.length<r.qa();)e.push(0);switch(r.U()){case"MultiLineString":n=r.X(),n[a[0]].splice(s+1,0,e);break;case"Polygon":n=r.X(),n[a[0]].splice(s+1,0,e);break;case"MultiPolygon":n=r.X(),n[a[1]][a[0]].splice(s+1,0,e);break;case"LineString":n=r.X(),n.splice(s+1,0,e);break;default:return}this.l=!0,r.ma(n),this.l=!1,n=this.a,n.remove(t),td(this,r,s,a,1),t={la:[o[0],e],feature:i,geometry:r,depth:a,index:s},n.Ca(I(t.la),t),this.j.push([t,1]),e={la:[e,o[1]],feature:i,geometry:r,depth:a,index:s+1},n.Ca(I(e.la),e),this.j.push([e,0]),this.I=!0},pv.hj=function(){if(this.R&&"pointerdrag"!=this.R.type){var t=this.R;Uf(this,t);var e,n,o=this.j,i={};for(n=o.length-1;0<=n;--n){var r=o[n],a=r[0],s=f(a.feature);a.depth&&(s+="-"+a.depth.join("-")),s in i||(i[s]={}),0===r[1]?(i[s].right=a,i[s].index=a.index):1==r[1]&&(i[s].left=a,i[s].index=a.index+1)}for(s in i){var u=i[s].right,h=i[s].left;n=i[s].index;var p=n-1;a=void 0!==h?h:u,0>p&&(p=0),r=a.geometry;var l=e=r.X(),c=!1;switch(r.U()){case"MultiLineString":2<e[a.depth[0]].length&&(e[a.depth[0]].splice(n,1),c=!0);break;case"LineString":2<e.length&&(e.splice(n,1),c=!0);break;case"MultiPolygon":l=l[a.depth[1]];case"Polygon":l=l[a.depth[0]],4<l.length&&(n==l.length-1&&(n=0),l.splice(n,1),c=!0,0===n&&(l.pop(),l.push(l[0]),p=l.length-1))}c&&(c=r,this.l=!0,c.ma(e),this.l=!1,e=[],void 0!==h&&(this.a.remove(h),e.push(h.la[0])),void 0!==u&&(this.a.remove(u),e.push(u.la[1])),void 0!==h&&void 0!==u&&(h={depth:a.depth,feature:a.feature,geometry:a.geometry,index:p,la:e},this.a.Ca(I(h.la),h)),td(this,r,n,a.depth,-1),this.g&&(this.B.ha().Gb(this.g),this.g=null),o.length=0)}return this.b(new nd("modifyend",this.u,t)),this.C=!1,!0}return!1},l(nd,le),l(od,ai),pv=od.prototype,pv.Gn=function(){return this.g.ha().f},pv.Hn=function(){return this.j},pv.In=function(t){return t=f(t),this.a[t]},pv.Kn=function(t){this.j=t},pv.setMap=function(t){var e=this.v,n=this.g.ha().f;e&&n.forEach(e.Cj,e),ai.prototype.setMap.call(this,t),this.g.setMap(t),t&&n.forEach(t.xj,t)},pv.Fn=function(t){var e=this.v;e&&e.xj(t.element)},pv.Jn=function(t){var e=this.v;e&&e.Cj(t.element)},l(ad,le);var Wx="select";l(sd,xi),pv=sd.prototype,pv.yb=function(t,e){e=void 0===e||e;var n=f(t),o=t.V();if(o){var i=this.fa[o.U()];i&&(this.T[n]=o.G(j()),i.call(this,t,o))}e&&(this.B[n]=ie(t,"change",this.Ln,this))},pv.Ak=function(t){this.yb(t)},pv.Bk=function(t){this.Gb(t)},pv.ui=function(t){if(t instanceof yf)var e=t.feature;else t instanceof Pe&&(e=t.element);this.yb(e)},pv.vi=function(t){if(t instanceof yf)var e=t.feature;else t instanceof Pe&&(e=t.element);this.Gb(e)},pv.Ln=function(t){if(t=t.target,this.D){var e=f(t);e in this.u||(this.u[e]=t);
}else this.Dj(t)},pv.Gb=function(t,e){e=void 0===e||e;var n=f(t),o=this.T[n];if(o){var i=this.a,r=[];for(Xa(i,o,function(e){t===e.feature&&r.push(e)}),o=r.length-1;0<=o;--o)i.remove(r[o])}e&&(se(this.B[n]),delete this.B[n])},pv.setMap=function(t){var e,n=this.v,o=this.pa;this.j?e=this.j:this.l&&(e=this.l.Xe()),n&&(o.forEach(se),o.length=0,e.forEach(this.Bk,this)),xi.prototype.setMap.call(this,t),t&&(this.j?o.push(ie(this.j,"add",this.ui,this),ie(this.j,"remove",this.vi,this)):this.l&&o.push(ie(this.l,"addfeature",this.ui,this),ie(this.l,"removefeature",this.vi,this)),e.forEach(this.Ak,this))},pv.Xc=oo,pv.Dj=function(t){this.Gb(t,!1),this.yb(t,!1)},pv.Mn=function(t,e){e=Go(e).X()[0];var n,o=0;for(n=e.length-1;o<n;++o){var i=e.slice(o,o+2),r={feature:t,la:i};this.a.Ca(I(i),r)}},pv.Nn=function(t,e){var n=e.a;for(e=0;e<n.length;++e){var o=this.fa[n[e].U()];o&&o.call(this,t,n[e])}},pv.wi=function(t,e){e=e.X();var n,o=0;for(n=e.length-1;o<n;++o){var i=e.slice(o,o+2),r={feature:t,la:i};this.a.Ca(I(i),r)}},pv.On=function(t,e){e=e.X();var n,o,i=0;for(o=e.length;i<o;++i){var r=e[i],a=0;for(n=r.length-1;a<n;++a){var s=r.slice(a,a+2),u={feature:t,la:s};this.a.Ca(I(s),u)}}},pv.Pn=function(t,e){var n,o=e.X(),i=0;for(n=o.length;i<n;++i){var r=o[i];r={feature:t,la:[r,r]},this.a.Ca(e.G(),r)}},pv.Qn=function(t,e){e=e.X();var n,o,i,r=0;for(i=e.length;r<i;++r){var a=e[r],s=0;for(o=a.length;s<o;++s){var u=a[s],h=0;for(n=u.length-1;h<n;++h){var p=u.slice(h,h+2),l={feature:t,la:p};this.a.Ca(I(p),l)}}}},pv.Rn=function(t,e){var n=e.X();t={feature:t,la:[n,n]},this.a.Ca(e.G(),t)},pv.Sn=function(t,e){e=e.X();var n,o,i=0;for(o=e.length;i<o;++i){var r=e[i],a=0;for(n=r.length-1;a<n;++a){var s=r.slice(a,a+2),u={feature:t,la:s};this.a.Ca(I(s),u)}}},l(cd,xi),cd.prototype.B=function(){return this.l},cd.prototype.I=function(t){this.l=t},cd.prototype.setMap=function(t){var e=this.v;xi.prototype.setMap.call(this,t),md(this,e)},cd.prototype.u=function(){md(this,null)},l(bd,le),l(_d,nf);var zx=["#00f","#0ff","#0f0","#ff0","#f00"];pv=_d.prototype,pv.uh=function(){return this.get(Hx)},pv.Bh=function(){return this.get(qx)},pv.yi=function(){return this.get(Vx)},pv.Bl=function(){for(var t=this.Bh(),e=Ae(1,256),n=e.createLinearGradient(0,0,1,256),o=1/(t.length-1),i=0,r=t.length;i<r;++i)n.addColorStop(i*o,t[i]);e.fillStyle=n,e.fillRect(0,0,1,256),this.j=e.getImageData(0,0,1,256).data},pv.cg=function(){var t=this.yi(),e=this.uh(),n=t+e+1,o=2*n,o=Ae(o,o);o.shadowOffsetX=o.shadowOffsetY=this.R,o.shadowBlur=e,o.shadowColor="#000",o.beginPath(),e=n-this.R,o.arc(e,e,t,0,2*Math.PI,!0),o.fill(),this.I=o.canvas.toDataURL(),this.B=Array(256),this.s()},pv.Sl=function(t){t=t.context;var e,n,o=t.canvas,o=t.getImageData(0,0,o.width,o.height),i=o.data,r=0;for(e=i.length;r<e;r+=4)(n=4*i[r+3])&&(i[r]=this.j[n],i[r+1]=this.j[n+1],i[r+2]=this.j[n+2]);t.putImageData(o,0,0)},pv.jj=function(t){this.set(Hx,t)},pv.pj=function(t){this.set(qx,t)},pv.Uc=function(t){this.set(Vx,t)};var Hx="blur",qx="gradient",Vx="radius";l(xd,Xc),xd.prototype.S=function(t,e,n){Yc(this,"precompose",n,t,void 0);var o=this.Y();if(o){var i=e.extent,r=void 0!==i&&!R(i,t.extent)&&it(i,t.extent);r&&Uc(n,t,i);var i=this.C(),a=n.globalAlpha;n.globalAlpha=e.opacity,n.drawImage(o,0,0,+o.width,+o.height,Math.round(i[4]),Math.round(i[5]),Math.round(o.width*i[0]),Math.round(o.height*i[3])),n.globalAlpha=a,r&&n.restore()}this.ef(n,t,e)},xd.prototype.Ea=function(t,e,n,o,i){var r=this.a;return r.ha().Ea(t,e.viewState.resolution,e.viewState.rotation,n,e.skippedFeatureUids,function(t){return o.call(i,t,r)})},xd.prototype.u=function(t,e,n,o){if(this.Y()){if(this.a.ha().Ea!==c)return Xc.prototype.u.apply(this,arguments);var i=dr(this.v,t.slice());if(Zn(i,e.viewState.resolution/this.f),this.j||(this.j=Ae(1,1)),this.j.clearRect(0,0,1,1),this.j.drawImage(this.Y(),i[0],i[1],1,1,0,0,1,1),i=this.j.getImageData(0,0,1,1).data,0<i[3])return n.call(o,this.a,i)}},l(wd,xd),wd.prototype.Y=function(){return this.M?this.M.Y():null},wd.prototype.C=function(){return this.c},wd.prototype.sd=function(t,e){var n=t.pixelRatio,o=t.size,i=t.viewState,r=i.center,a=i.resolution,s=this.a.ha(),u=t.viewHints,h=t.extent;if(void 0!==e.extent&&(h=tt(h,e.extent)),u[0]||u[1]||rt(h)||(e=s.Y(h,a,n,i.projection))&&kc(this,e)&&(this.M=e),this.M){e=this.M;var u=e.G(),h=e.resolution,i=e.a,p=n*h/(a*i),u=mr(this.c,n*o[0]/2,n*o[1]/2,p,p,0,i*(u[0]-r[0])/h,i*(r[1]-u[3])/h);mr(this.v,n*o[0]/2-u[4],n*o[1]/2-u[5],n/a,-n/a,0,-r[0],-r[1]),Dc(t.attributions,e.f),jc(t,s),this.f=a*n/i}return!!this.M},l(Ed,Vl),Ed.prototype.ka=function(){1==this.state&&(se(this.ee),this.ee=null),Vl.prototype.ka.call(this)},Ed.prototype.Y=function(){return this.g},Ed.prototype.de=function(){var t=this.Hb.getState();2==t&&(this.g=Cd(ot(this.i)/this.c,Q(this.i)/this.c,this.o,this.Hb.resolution,0,this.c,this.i,this.j,[{extent:this.Hb.G(),image:this.Hb.Y()}],0)),this.state=t,this.s()},Ed.prototype.load=function(){if(0==this.state){this.state=1,this.s();var t=this.Hb.getState();2==t||3==t?this.de():(this.ee=ie(this.Hb,"change",function(){var t=this.Hb.getState();2!=t&&3!=t||(se(this.ee),this.ee=null,this.de())},this),this.Hb.load())}},l(Id,rf),Id.prototype.Y=function(t,e,n,o){var i=this.c;if(i&&o&&!Tt(i,o)){if(this.a){if(this.fa==this.i&&Tt(this.a.v,o)&&this.a.resolution==e&&this.a.a==n&&Y(this.a.G(),t))return this.a;pe(this.a),this.a=null}return this.a=new Ed(i,o,t,e,n,function(t,e,n){return this.Jc(t,e,n,i)}.bind(this)),this.fa=this.i,this.a}return i&&(o=i),this.Jc(t,e,n,o)},Id.prototype.o=function(t){switch(t=t.target,t.getState()){case 1:this.b(new Od($x,t));break;case 2:this.b(new Od(Zx,t));break;case 3:this.b(new Od(Jx,t))}},l(Od,le);var $x="imageloadstart",Zx="imageloadend",Jx="imageloaderror";l(kd,Id),kd.prototype.Jc=function(t,e,n,o){e=Ld(this,e);var i=this.R;return i&&this.T==this.i&&i.resolution==e&&i.a==n&&R(i.G(),t)?i:(t=t.slice(),at(t,this.va),(o=this.pa(t,e,n,[ot(t)/e*n,Q(t)/e*n],o))&&(i=new Zl(t,e,n,this.j,o)),this.R=i,this.T=this.i,i)},l(Rd,kd),pv=Rd.prototype,pv.tk=function(t,e,n,o,i){var r=new Tc(.5*e/n,t,e,this.f.T,this.Sa);this.f.Yd(t,e,i);var a=!1;return this.f.$b(t,function(t){var o;if(!(o=a)){var i;if((o=t.Lc())?i=o.call(t,e):this.v&&(i=this.v(t,e)),i){var s,u=!1;for(Array.isArray(i)||(i=[i]),o=0,s=i.length;o<s;++o)u=Hc(r,t,i[o],zc(e,n),this.qo,this)||u;o=u}else o=!1}a=o},this),Ic(r),a?null:(this.l[0]!=o[0]||this.l[1]!=o[1]?(this.g.canvas.width=o[0],this.g.canvas.height=o[1],this.l[0]=o[0],this.l[1]=o[1]):this.g.clearRect(0,0,o[0],o[1]),t=Fd(this,Z(t),e,n,o),r.La(this.g,n,t,0,{}),this.B=r,this.g.canvas)},pv.Ea=function(t,e,n,o,i,r){if(this.B){var a={};return this.B.Ea(t,e,0,o,i,function(t){var e=f(t).toString();if(!(e in a))return a[e]=!0,r(t)})}},pv.no=function(){return this.f},pv.oo=function(){return this.I},pv.po=function(){return this.v},pv.qo=function(){this.s()},pv.ro=function(){sf(this,this.f.getState())},pv.Ii=function(t){this.I=void 0!==t?t:Gs,this.v=t?Ys(this.I):void 0,this.s()},l(Dd,Jc),Dd.prototype.Ea=function(t,e,n,o,i){var r=this.a;return r.ha().Ea(t,e.viewState.resolution,e.viewState.rotation,n,e.skippedFeatureUids,function(t){return o.call(i,t,r)})},Dd.prototype.ng=function(t,e){var n=this.c.i,o=t.pixelRatio,i=t.viewState,r=i.center,a=i.resolution,s=i.rotation,u=this.M,h=this.Ib,p=this.a.ha(),l=t.viewHints,c=t.extent;return void 0!==e.extent&&(c=tt(c,e.extent)),l[0]||l[1]||rt(c)||(e=p.Y(c,a,o,i.projection))&&kc(this,e)&&(u=e,h=jd(this,e),this.Ib&&t.postRenderFunctions.push(function(t,e){t.isContextLost()||t.deleteTexture(e)}.bind(null,n,this.Ib))),u&&(n=this.c.f.j,Kd(this,n.width,n.height,o,r,a,s,u.G()),this.o=null,o=this.v,pr(o),vr(o,1,-1),gr(o,0,-1),this.M=u,this.Ib=h,Dc(t.attributions,u.f),jc(t,p)),!!u},Dd.prototype.Ue=function(t,e){return void 0!==this.Ea(t,e,0,no,this)},Dd.prototype.lg=function(t,e,n,o){if(this.M&&this.M.Y())if(this.a.ha()instanceof Rd){var i=dr(e.pixelToCoordinateTransform,t.slice());if(this.Ea(i,e,0,no,this))return n.call(o,this.a,null)}else{if(i=[this.M.Y().width,this.M.Y().height],!this.o){var r=e.size;e=hr(),gr(e,-1,-1),vr(e,2/r[0],2/r[1]),gr(e,0,r[1]),vr(e,1,-1);var r=br(this.S.slice()),a=hr();gr(a,0,i[1]),vr(a,1,-1),vr(a,i[0]/2,i[1]/2),gr(a,1,1),lr(a,r),lr(a,e),this.o=a}if(t=dr(this.o,t.slice()),!(0>t[0]||t[0]>i[0]||0>t[1]||t[1]>i[1])&&(this.f||(this.f=Ae(1,1)),this.f.clearRect(0,0,1,1),this.f.drawImage(this.M.Y(),t[0],t[1],1,1,0,0,1,1),i=this.f.getImageData(0,0,1,1).data,0<i[3]))return n.call(o,this.a,i)}},l(Bd,ar),Bd.prototype.Fd=function(t){var e=null,n=t.U();return"canvas"===n?e=new wd(this):"webgl"===n&&(e=new Dd(t,this)),e},l(Xd,xd),Xd.prototype.sd=function(t,n){var o=t.pixelRatio,i=t.size,r=t.viewState,a=r.projection,s=r.resolution,r=r.center,u=this.a,h=u.ha(),p=h.i,l=h.Ta(a),c=l.tc(s,this.T),f=l.Da(c),d=Math.round(s/f)||1,y=t.extent;if(void 0!==n.extent&&(y=tt(y,n.extent)),rt(y))return!1;var v=Bt(l,y,f),g=l.Pc(c),m=l.Da(c),b=E(l.gb(c),l.j);g=K(g[0]+v.ca*b[0]*m,g[1]+v.da*b[1]*m,g[0]+(v.$+1)*b[0]*m,g[1]+(v.ia+1)*b[1]*m,void 0),m=h.nb(o),b={},b[c]={};var _,x,w=this.Nf(h,a,b),P=this.l,S=this.va,C=!1;for(_=v.ca;_<=v.$;++_)for(x=v.da;x<=v.ia;++x){var M=h.Nc(c,_,x,o,a);3!=M.getState()||this.a.kd()||tc(M,2),Ud(this,M)||(M=Ql(M)),Ud(this,M)?2==M.getState()&&(b[c][M.ta.toString()]=M,C||-1!=this.g.indexOf(M)||(C=!0)):jt(l,M.ta,w,S,P)||(M=Kt(l,M.ta,S,P))&&w(c+1,M)}if(_=t.viewHints,_=_[0]||_[1],!(this.f&&16<Date.now()-t.time&&_||!C&&this.o&&R(this.o,y)&&this.mf==p&&d==this.R&&(_||f*o/m*d==this.f))){(_=this.c)&&(x=h.Xd(c,o,a),M=Math.round((v.$-v.ca+1)*x[0]/d),x=Math.round((v.ia-v.da+1)*x[1]/d),C=_.canvas,C.width!=M||C.height!=x?(this.R=d,C.width=M,C.height=x):(_.clearRect(0,0,M,x),d=this.R)),this.g.length=0,C=Object.keys(b).map(Number),C.sort(e);var T,S=0;for(T=C.length;S<T;++S){_=C[S],w=h.Xd(_,o,a),M=l.Da(_);var A=M/f,I=m*h.Wf(a),L=b[_];for(var N in L){M=L[N],x=l.Aa(M.ta,P),_=(x[0]-g[0])/f*m/d,x=(g[3]-x[3])/f*m/d;var O=w[0]*A/d,k=w[1]*A/d;this.Of(M,t,n,_,x,O,k,I),this.g.push(M)}}this.mf=p,this.f=f*o/m*d,this.o=g}return n=this.f/s,n=mr(this.B,o*i[0]/2,o*i[1]/2,n,n,0,(this.o[0]-r[0])/this.f*o,(r[1]-this.o[3])/this.f*o),mr(this.v,o*i[0]/2-n[4],o*i[1]/2-n[5],o/s,-o/s,0,-r[0],-r[1]),Kc(t.usedTiles,h,c,v),Bc(t,h,l,o,a,y,c,u.Ud()),Fc(t,h),jc(t,h),0<this.g.length},Xd.prototype.Of=function(t,e,n,o,i,r,a,s){this.a.ha().Zf(e.viewState.projection)||this.c.clearRect(o,i,r,a),(t=t.Y())&&this.c.drawImage(t,s,s,t.width-2*s,t.height-2*s,o,i,r,a)},Xd.prototype.Y=function(){var t=this.c;return t?t.canvas:null},Xd.prototype.C=function(){return this.B},l(Yd,Br);var Qx=new Yd;l(Gd,Xr);var tw=new Gd;l(zd,Jc),pv=zd.prototype,pv.ka=function(){ia(this.c.f,this.B),Jc.prototype.ka.call(this)},pv.Nf=function(t,e,n){var o=this.c;return function(i,r){return ay(t,e,i,r,function(t){var e=o.a.b.hasOwnProperty(t.bb());return e&&(n[i]||(n[i]={}),n[i][t.ta.toString()]=t),e})}},pv.mg=function(){Jc.prototype.mg.call(this),this.f=null},pv.ng=function(t,n,o){var i=this.c,r=o.b,a=t.viewState,s=a.projection,u=this.a,h=u.ha(),p=h.Ta(s),l=p.tc(a.resolution),c=p.Da(l),f=h.Xd(l,t.pixelRatio,s),d=f[0]/E(p.gb(l),this.R)[0],y=c/d,g=h.nb(d)*h.Wf(s),b=a.center,_=t.extent,w=Bt(p,_,c);if(this.o&&m(this.o,w)&&this.l==h.i)y=this.D;else{var P=[w.$-w.ca+1,w.ia-w.da+1],S=x(Math.max(P[0]*f[0],P[1]*f[1])),P=y*S,C=p.Pc(l),M=C[0]+w.ca*f[0]*y,y=C[1]+w.da*f[1]*y,y=[M,y,M+P,y+P];Qc(this,t,S),r.viewport(0,0,S,S),r.clearColor(0,0,0,0),r.clear(16384),r.disable(3042),S=sa(o,this.I,this.fa),o.Qc(S),this.f||(this.f=new Wd(r,S)),oa(o,34962,this.B),r.enableVertexAttribArray(this.f.b),r.vertexAttribPointer(this.f.b,2,5126,!1,16,0),r.enableVertexAttribArray(this.f.a),r.vertexAttribPointer(this.f.a,2,5126,!1,16,8),r.uniform1i(this.f.i,0),o={},o[l]={};var T,A,I=this.Nf(h,s,o),L=u.kd(),S=!0,M=j(),N=new v(0,0,0,0);for(T=w.ca;T<=w.$;++T)for(A=w.da;A<=w.ia;++A){if(C=h.Nc(l,T,A,d,s),void 0!==n.extent){var O=p.Aa(C.ta,M);if(!it(O,n.extent))continue}if(O=C.getState(),(O=2==O||4==O||3==O&&!L)||(C=Ql(C)),O=C.getState(),2==O){if(i.a.b.hasOwnProperty(C.bb())){o[l][C.ta.toString()]=C;continue}}else if(4==O||3==O&&!L)continue;S=!1,O=jt(p,C.ta,I,N,M),O||(C=Kt(p,C.ta,N,M))&&I(l+1,C)}n=Object.keys(o).map(Number),n.sort(e);for(var k,I=new Float32Array(4),L=0,N=n.length;L<N;++L)for(k in T=o[n[L]])C=T[k],O=p.Aa(C.ta,M),I[0]=2*(O[2]-O[0])/P,I[1]=2*(O[3]-O[1])/P,I[2]=2*(O[0]-y[0])/P-1,I[3]=2*(O[1]-y[1])/P-1,r.uniform4fv(this.f.c,I),ds(i,C,f,g*d),r.drawArrays(5,0,4);S?(this.o=w,this.D=y,this.l=h.i):(this.D=this.o=null,this.l=-1,t.animate=!0)}Kc(t.usedTiles,h,l,w);var R=i.j;return Bc(t,h,p,d,s,_,l,u.Ud(),function(t){2!=t.getState()||i.a.b.hasOwnProperty(t.bb())||t.bb()in R.a||R.f([t,Ut(p,t.ta),p.Da(t.ta[0]),f,g*d])},this),Fc(t,h),jc(t,h),r=this.v,pr(r),gr(r,(Math.round(b[0]/c)*c-y[0])/(y[2]-y[0]),(Math.round(b[1]/c)*c-y[1])/(y[3]-y[1])),a.rotation&&yr(r,a.rotation),vr(r,t.size[0]*a.resolution/(y[2]-y[0]),t.size[1]*a.resolution/(y[3]-y[1])),gr(r,-.5,-.5),!0},pv.lg=function(t,e,n,o){if(this.g){t=dr(this.v,[t[0]/e.size[0],(e.size[1]-t[1])/e.size[1]].slice()),t=[t[0]*this.j,t[1]*this.j],e=this.c.f.b,e.bindFramebuffer(e.FRAMEBUFFER,this.g);var i=new Uint8Array(4);if(e.readPixels(t[0],t[1],1,1,e.RGBA,e.UNSIGNED_BYTE,i),0<i[3])return n.call(o,this.a,i)}},l(Hd,ar),pv=Hd.prototype,pv.Fd=function(t){var e=null,n=t.U();return"canvas"===n?e=new Xd(this):"webgl"===n&&(e=new zd(t,this)),e},pv.Ud=function(){return this.get("preload")},pv.zi=function(t){this.set("preload",t)},pv.kd=function(){return this.get("useInterimTilesOnError")},pv.Ai=function(t){this.set("useInterimTilesOnError",t)},l(qd,Xd);var ew={image:bg,hybrid:["Polygon","LineString"]},nw={hybrid:["Image","Text"],vector:bg};pv=qd.prototype,pv.sd=function(t,e){var n=this.a,o=n.i;return this.pa!=o&&(this.g.length=0,n=n.j,this.c||"vector"==n||(this.c=Ae()),this.c&&"vector"==n&&(this.c=null)),this.pa=o,Xd.prototype.sd.apply(this,arguments)},pv.Of=function(t,e,n,o,i,r,a,s){var u=t,h=this.a,p=e.pixelRatio,l=e.viewState.projection,c=h.i,f=h.get(Kx)||null,d=u.o;if(d.Nd||d.mf!=c||d.Kg!=f){for(var y=0,v=u.a.length;y<v;++y){var g=u.c[u.a[y]];g.S=null,d.Nd=!1;var m=h.ha(),b=m.tileGrid,_=g.ta,x=g.a,w=m.Ta(l),P=w.Da(u.ta[0]),S=b.Da(g.ta[0]),w=w.Aa(u.v),_=b.Aa(_),w=tt(w,_);if("tile-pixels"==x.a)var C=b=m.nb(),S=mr(this.D,0,0,1/S*C,-1/S*C,0,-_[0],-_[3]),S=dr(S,[w[0],w[3]]).concat(dr(S,[w[2],w[1]]));else if(b=P,S=w,!Tt(l,x)){var M=!0;g.ig(l)}for(d.Nd=!1,m=new Tc(0,S,b,m.l,h.c),S=zc(b,p),b=g.g,f&&f!==d.Kg&&b.sort(f),_=0,w=b.length;_<w;++_){C=b[_],M&&C.V().tb(x,l);var T=void 0,A=C.Lc();if(A?T=A.call(C,P):(A=h.f)&&(T=A(C,P)),T){Array.isArray(T)||(T=[T]);var A=S,E=m;if(T){var I=!1;if(Array.isArray(T))for(var L=0,N=T.length;L<N;++L)I=Hc(E,C,T[L],A,this.Fi,this)||I;else I=Hc(E,C,T,A,this.Fi,this)||I;C=I}else C=!1;this.I=this.I||C,d.Nd=d.Nd||C}}Ic(m),g.c[u.ta.toString()]=m}d.mf=c,d.Kg=f}if(this.c){if(y=e,l=this.a,p=u.o,c=l.i,(h=ew[l.j])&&p.Lg!==c)for(p.Lg=c,v=u.v,g=v[0],p=y.pixelRatio,P=l.ha(),l=P.tileGrid,x=P.Ta(y.viewState.projection),c=x.Da(g),f=P.nb(),u.j||(u.j=Ae()),d=u.j,y=P.Xd(g,p,y.viewState.projection),d.canvas.width=y[0],d.canvas.height=y[1],y=x.Aa(v),v=0,g=u.a.length;v<g;++v)x=u.c[u.a[v]],m=x.ta,M=p/c,P=pr(this.D),"tile-pixels"==x.a.a?(M=l.Aa(m,this.l),m=l.Da(m[0]),S=p/f*m/c,vr(P,S,S),gr(P,Math.round((M[0]-y[0])/m*f),Math.round((y[3]-M[3])/m*f))):(vr(P,M,-M),gr(P,-y[0],-y[3])),x.c[u.ta.toString()].La(d,p,P,0,{},h);Xd.prototype.Of.apply(this,arguments)}},pv.Ea=function(t,e,n,o,i){var r=e.viewState.resolution,a=e.viewState.rotation;n=void 0==n?0:n;var s=this.a,u={},h=this.g,p=s.ha();e=p.Ta(e.viewState.projection);var l,c=p.tileGrid,d=0;for(l=h.length;d<l;++d){var y=h[d],v=y.ta;v=e.Aa(v,this.l);var g=L(v,n*r,g);if(k(g,t)){v=0;for(var m=y.a.length;v<m;++v){var b=y.c[y.a[v]];if("tile-pixels"===b.a.a){var _=b.ta;r=c.Aa(_,this.l);var x=et(r);r=p.nb(),_=c.Da(_[0])/r,x=[(t[0]-x[0])/_,(x[1]-t[1])/_]}else x=t;b=b.c[y.ta];var w=w||b.Ea(x,r,a,n,{},function(t){var e=f(t).toString();if(!(e in u))return u[e]=!0,o.call(i,t,s)})}}}return w},pv.Fi=function(){Rc(this)},pv.ef=function(t,e,n){var o=this.a,i=o.ha(),r=nw[o.j];if(r)for(var a=e.pixelRatio,s=e.viewState.rotation,u=e.size,h=Math.round(a*u[0]/2),u=Math.round(a*u[1]/2),p=this.g,o=o.ha().nb(),l=i.tileGrid,i=i.Ta(e.viewState.projection),c=[],f=[],d=p.length-1;0<=d;--d){var y=p[d];if(5!=y.getState())for(var v=y.ta,g=i.Aa(v)[0]-i.Aa(y.v)[0],m=0,b=y.a.length;m<b;++m){var _=y.c[y.a[m]],x=_.ta[0],w=l.Da(x),P=_,S=e;if("tile-pixels"==P.a.a){var C=this.a.ha(),M=C.tileGrid,T=P.ta,C=M.Da(T[0])/C.nb(),P=S.viewState,A=S.pixelRatio,E=P.resolution/A,T=M.Aa(T,this.l),M=P.center,T=et(T);S=S.size,S=mr(this.D,Math.round(A*S[0]/2),Math.round(A*S[1]/2),C/E,C/E,P.rotation,(T[0]-M[0])/C,(M[1]-T[1])/C)}else S=Gc(this,S,0);for(gr(S,g*o/w,0),_=_.c[v.toString()],w=Lc(_,S),t.save(),t.globalAlpha=n.opacity,Tr(t,-s,h,u),C=0,P=c.length;C<P;++C)A=c[C],x<f[C]&&(t.beginPath(),t.moveTo(w[0],w[1]),t.lineTo(w[2],w[3]),t.lineTo(w[4],w[5]),t.lineTo(w[6],w[7]),t.moveTo(A[6],A[7]),t.lineTo(A[4],A[5]),t.lineTo(A[2],A[3]),t.lineTo(A[0],A[1]),t.clip());_.La(t,a,S,s,{},r),t.restore(),c.push(w),f.push(x)}}Xd.prototype.ef.apply(this,arguments)},l(Vd,nf),pv=Vd.prototype,pv.Fd=function(t){var e=null;return"canvas"===t.U()&&(e=new qd(this)),e},pv.Ud=function(){return this.get("preload")},pv.kd=function(){return this.get("useInterimTilesOnError")},pv.Bi=function(t){this.set("preload",t)},pv.Ci=function(t){this.set("useInterimTilesOnError",t)},l(Zd,Jl),Zd.prototype.ka=function(){1==this.state&&(this.yd.forEach(se),this.yd=null),Jl.prototype.ka.call(this)},Zd.prototype.Y=function(){return this.v},Zd.prototype.de=function(){var t=[];if(this.a.forEach(function(e){e&&2==e.getState()&&t.push({extent:this.c.Aa(e.ta),image:e.Y()})},this),this.a.length=0,t.length){var e=this.o[0],n=this.j.gb(e),o="number"==typeof n?n:n[0],n="number"==typeof n?n:n[1],e=this.j.Da(e),i=this.c.Da(this.g),r=this.j.Aa(this.o);this.v=Cd(o,n,this.S,i,this.c.G(),e,r,this.l,t,this.u,this.D),this.state=2}else this.state=3;this.s()},Zd.prototype.load=function(){if(0==this.state){this.state=1,this.s();var t=0;this.yd=[],this.a.forEach(function(e){var n=e.getState();if(0==n||1==n){t++;var o=ie(e,"change",function(){var n=e.getState();2!=n&&3!=n&&4!=n||(se(o),t--,t||(this.yd.forEach(se),this.yd=null,this.de()))},this);this.yd.push(o)}},this),this.a.forEach(function(t){0==t.getState()&&t.load()}),t||setTimeout(this.de.bind(this),0)}},l(oy,cs),oy.prototype.fd=function(t){for(var e,n;iy(this);){e=this.a.Yc,n=e.ta[0].toString();var o;if((o=n in t)&&(e=e.ta,o=g(t[n],e[1],e[2])),o)break;pe(this.pop())}},l(ry,rf),pv=ry.prototype,pv.Ki=function(){return iy(this.a)},pv.fd=function(t,e){(t=this.Wd(t))&&t.fd(e)},pv.Wf=function(){return 0},pv.Sb=function(t,e,n){return t+"/"+e+"/"+n},pv.Zf=function(){return this.va},pv.ab=function(){return this.tileGrid},pv.Ta=function(t){return this.tileGrid?this.tileGrid:Wt(t)},pv.Wd=function(t){var e=this.c;return e&&!Tt(e,t)?null:this.a},pv.nb=function(){return this.$a},pv.Xd=function(t,e,n){return n=this.Ta(n),e=this.nb(e),t=E(n.gb(t),this.o),1==e?t:A(t,e,this.o)},pv.sa=function(){this.a.clear(),this.s()},pv.Ug=c,l(hy,le),l(py,ry),pv=py.prototype,pv.pb=function(){return this.tileLoadFunction},pv.qb=function(){return this.tileUrlFunction},pv.rb=function(){return this.urls},pv.Li=function(t){switch(t=t.target,t.getState()){case 1:this.b(new hy("tileloadstart",t));break;case 2:this.b(new hy("tileloadend",t));break;case 3:this.b(new hy("tileloaderror",t))}},pv.vb=function(t){this.a.clear(),this.tileLoadFunction=t,this.s()},pv.cb=function(t,e){this.tileUrlFunction=t,"undefined"!=typeof e?sy(this,e):this.s()},pv.jb=function(t){var e=this.urls=ny(t);this.cb(this.Fc?this.Fc.bind(this):Qd(e,this.tileGrid),t)},pv.eb=function(t){this.urls=t;var e=t.join("\n");this.cb(this.Fc?this.Fc.bind(this):Qd(t,this.tileGrid),e)},pv.Ug=function(t,e,n){t=this.Sb(t,e,n),this.a.b.hasOwnProperty(t)&&this.a.get(t)},l(ly,py),pv=ly.prototype,pv.Ki=function(){if(iy(this.a))return!0;for(var t in this.g)if(iy(this.g[t]))return!0;return!1},pv.fd=function(t,e){t=this.Wd(t),this.a.fd(this.a==t?e:{});for(var n in this.g){var o=this.g[n];o.fd(o==t?e:{})}},pv.Wf=function(t){return this.c&&t&&!Tt(this.c,t)?0:this.Xf()},pv.Xf=function(){return 0},pv.Zf=function(t){return!(this.c&&t&&!Tt(this.c,t))&&py.prototype.Zf.call(this,t)},pv.Ta=function(t){var e=this.c;return!this.tileGrid||e&&!Tt(e,t)?(e=f(t).toString(),e in this.v||(this.v[e]=Wt(t)),this.v[e]):this.tileGrid},pv.Wd=function(t){var e=this.c;return!e||Tt(e,t)?this.a:(t=f(t).toString(),t in this.g||(this.g[t]=new oy(this.a.highWaterMark)),this.g[t])},pv.Nc=function(t,e,n,o,i){if(this.c&&i&&!Tt(this.c,i)){var r=this.Wd(i);n=[t,e,n];var a;if(t=this.Sb.apply(this,n),r.b.hasOwnProperty(t)&&(a=r.get(t)),e=this.uc,a&&a.key==e)return a;var s=this.c,u=this.Ta(s),h=this.Ta(i),p=uy(this,n,i);return o=new Zd(s,u,i,h,n,p,this.nb(o),this.Xf(),function(t,e,n,o){return fy(this,t,e,n,o,s)}.bind(this),this.Sa,this.I),o.key=e,a?(o.i=a,r.replace(t,o)):r.set(t,o),o}return fy(this,t,e,n,o,i)},pv.Pb=function(t){if(this.I!=t){this.I=t;for(var e in this.g)this.g[e].clear();this.s()}},pv.Qb=function(t,e){(t=Mt(t))&&(t=f(t).toString(),t in this.v||(this.v[t]=e))},l(yy,ly);var ow=new $t({html:'<a class="ol-attribution-bing-tos" href="http://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'});yy.prototype.T=function(){return this.f},yy.prototype.fa=function(){return this.l},yy.prototype.pa=function(t){if(200!=t.statusCode||"OK"!=t.statusDescription||"ValidCredentials"!=t.authenticationResultCode||1!=t.resourceSets.length||1!=t.resourceSets[0].resources.length)sf(this,"error");else{var e=t.brandLogoUri;-1==e.indexOf("https")&&(e=e.replace("http","https"));var n=t.resourceSets[0].resources[0],o=-1==this.C?n.zoomMax:this.C;t=Vt(this.c);var i=zt({extent:t,minZoom:n.zoomMin,maxZoom:o,tileSize:(n.imageWidth==n.imageHeight?n.imageWidth:[n.imageWidth,n.imageHeight])/this.nb()});this.tileGrid=i;var r=this.R,a=this.B;if(this.tileUrlFunction=ty(n.imageUrlSubdomains.map(function(t){var e=[0,0,0],o=n.imageUrl.replace("{subdomain}",t).replace("{culture}",r);return function(t){if(t)return Rt(t[0],t[1],-t[2]-1,e),t=o,a&&(t+="&dpi=d1&device=mobile"),t.replace("{quadkey}",Ft(e))}})),n.imageryProviders){var s=Et(Mt("EPSG:4326"),this.c);t=n.imageryProviders.map(function(t){var e=t.attribution,n={};return t.coverageAreas.forEach(function(t){var e=t.zoomMin,r=Math.min(t.zoomMax,o);t=t.bbox,t=st([t[1],t[0],t[3],t[2]],s);var a;for(a=e;a<=r;++a){var u=a.toString();e=Xt(i,t,a),u in n?n[u].push(e):n[u]=[e]}}),new $t({html:e,tileRanges:n})}),t.push(ow),this.ua(t)}this.D=e,sf(this,"ready")}},l(vy,ly),l(gy,vy),pv=gy.prototype,pv.Kk=function(){return this.f},pv.tq=function(t){gv(this.f,t),my(this)},pv.Xp=function(t){this.f=t||{},my(this)},pv.Dl=function(t,e){if(e=e.target,!e.status||200<=e.status&&300>e.status){try{var n=JSON.parse(e.responseText)}catch(t){return void sf(this,"error")}by(this,n),this.l[t]=n,sf(this,"ready")}else sf(this,"error")},pv.Cl=function(){sf(this,"error")},l(_y,uf),pv=_y.prototype,pv.$n=function(){return this.distance},pv.ao=function(){return this.source},pv.Yd=function(t,e,n){this.source.Yd(t,e,n),e!==this.resolution&&(this.clear(),this.resolution=e,xy(this),this.cd(this.features))},pv.Yp=function(t){this.distance=t,this.sa()},pv.sa=function(){this.clear(),xy(this),this.cd(this.features),uf.prototype.sa.call(this)},l(Sy,Id),pv=Sy.prototype,pv.co=function(){return this.v},pv.Jc=function(t,e,n,o){if(void 0===this.f)return null;e=Ld(this,e),n=this.T?n:1;var i=this.M;if(i&&this.I==this.i&&i.resolution==e&&i.a==n&&R(i.G(),t))return i;i={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},gv(i,this.v),t=t.slice();var r=(t[0]+t[2])/2,a=(t[1]+t[3])/2;if(1!=this.B){var s=this.B*ot(t)/2,u=this.B*Q(t)/2;t[0]=r-s,t[1]=a-u,t[2]=r+s,t[3]=a+u}var s=e/n,u=Math.ceil(ot(t)/s),h=Math.ceil(Q(t)/s);return t[0]=r-s*u/2,t[2]=r+s*u/2,t[1]=a-s*h/2,t[3]=a+s*h/2,this.l[0]=u,this.l[1]=h,r=t,a=this.l,s=n,o=o.mb.split(":").pop(),i.SIZE=a[0]+","+a[1],i.BBOX=r.join(","),i.BBOXSR=o,i.IMAGESR=o,i.DPI=Math.round(90*s),o=this.f,r=o.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),r==o&&y(!1,50),i=Py(r,i),this.M=new $l(t,e,n,this.j,i,this.R,this.g),this.I=this.i,ie(this.M,"change",this.o,this),this.M},pv.bo=function(){return this.g},pv.eo=function(){return this.f},pv.fo=function(t){this.M=null,this.g=t,this.s()},pv.ho=function(t){t!=this.f&&(this.f=t,this.M=null,this.s())},pv.io=function(t){gv(this.v,t),this.M=null,this.s()},l(Cy,Id),pv=Cy.prototype,pv.ko=function(){return this.g},pv.Jc=function(t,e,n){e=Ld(this,e),n=this.T?n:1;var o=this.M;if(o&&this.B==this.i&&o.resolution==e&&o.a==n&&R(o.G(),t))return o;1!=this.v&&(t=t.slice(),at(t,this.v));var i=[ot(t)/e*n,Q(t)/e*n];if(void 0!==this.I){var o=this.I,r=Z(t),a=this.pa,s=ot(t),u=Q(t),h=i[0],p=i[1],l=.0254/this.l,i={OPERATION:this.va?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.l,SETDISPLAYWIDTH:Math.round(i[0]),SETDISPLAYHEIGHT:Math.round(i[1]),SETVIEWSCALE:p*s>h*u?s*a/(h*l):u*a/(p*l),SETVIEWCENTERX:r[0],SETVIEWCENTERY:r[1]};gv(i,this.g),o=Py(o,i),o=new $l(t,e,n,this.j,o,this.R,this.f),ie(o,"change",this.o,this)}else o=null;return this.M=o,this.B=this.i,o},pv.jo=function(){return this.f},pv.mo=function(t){gv(this.g,t),this.s()},pv.lo=function(t){this.M=null,this.f=t,this.s()},l(My,Id),My.prototype.Jc=function(t){return it(t,this.M.G())?this.M:null},My.prototype.o=function(t){if(2==this.M.getState()){var e=this.M.G(),n=this.M.Y();if(this.f)var o=this.f[0],i=this.f[1];else o=n.width,i=n.height;if(e=Math.ceil(ot(e)/(Q(e)/i)),e!=o){var e=Ae(e,i),r=e.canvas;e.drawImage(n,0,0,o,i,0,0,r.width,r.height),this.M.Og(r)}}Id.prototype.o.call(this,t)},l(Ty,Id);var iw=[101,101];pv=Ty.prototype,pv.so=function(t,e,n,o){if(void 0!==this.g){var i=J(t,e,0,iw),r={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.f.LAYERS};return gv(r,this.f,o),o=Math.floor((i[3]-t[1])/e),r[this.l?"I":"X"]=Math.floor((t[0]-i[0])/e),r[this.l?"J":"Y"]=o,Ay(this,i,iw,1,Mt(n),r)}},pv.uo=function(){return this.f},pv.Jc=function(t,e,n,o){if(void 0===this.g)return null;e=Ld(this,e),1==n||this.va&&void 0!==this.T||(n=1);var i=e/n,r=Z(t),a=J(r,i,0,[Math.ceil(ot(t)/i),Math.ceil(Q(t)/i)]);return t=J(r,i,0,[Math.ceil(this.I*ot(t)/i),Math.ceil(this.I*Q(t)/i)]),(r=this.M)&&this.R==this.i&&r.resolution==e&&r.a==n&&R(r.G(),a)?r:(a={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},gv(a,this.f),this.B[0]=Math.round(ot(t)/i),this.B[1]=Math.round(Q(t)/i),o=Ay(this,t,this.B,n,o,a),this.M=new $l(t,e,n,this.j,o,this.pa,this.v),this.R=this.i,ie(this.M,"change",this.o,this),this.M)},pv.to=function(){return this.v},pv.vo=function(){return this.g},pv.wo=function(t){this.M=null,this.v=t,this.s()},pv.xo=function(t){t!=this.g&&(this.g=t,this.M=null,this.s())},pv.yo=function(t){gv(this.f,t),Ey(this),this.M=null,this.s()},l(Iy,vy);var rw=new $t({html:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'});Xg.df={},Xg.df.Af=function(){},function(t){function e(t,e,n){return a?new ImageData(t,e,n):(e=s.createImageData(e,n),e.data.set(t),e)}function n(t){var e=!0;try{new ImageData(10,10)}catch(t){e=!1}return function(n){var o=n.buffers,i=n.meta,r=n.width,a=n.height,s=o.length,u=o[0].byteLength;if(n.imageOps){for(u=Array(s),n=0;n<s;++n){var h=n,p=new Uint8ClampedArray(o[n]),l=r,c=a;p=e?new ImageData(p,l,c):{data:p,width:l,height:c},u[h]=p}r=t(u,i).data}else{for(r=new Uint8ClampedArray(u),a=Array(s),h=Array(s),n=0;n<s;++n)a[n]=new Uint8ClampedArray(o[n]),h[n]=[0,0,0,0];for(o=0;o<u;o+=4){for(n=0;n<s;++n)p=a[n],h[n][0]=p[o],h[n][1]=p[o+1],h[n][2]=p[o+2],h[n][3]=p[o+3];n=t(h,i),r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3]}}return r.buffer}}function o(t,e){var o=Object.keys(t.lib||{}).map(function(e){return"var "+e+" = "+t.lib[e].toString()+";"}).concat(["var __minion__ = ("+n.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),o=URL.createObjectURL(new Blob(o,{type:"text/javascript"})),o=new Worker(o);return o.addEventListener("message",e),o}function i(t,e){var o=n(t.operation);return{postMessage:function(t){setTimeout(function(){e({data:{buffer:o(t),meta:t.meta}})},0)}}}function r(t){this.Ff=!!t.$l;var e;e=0===t.threads?0:this.Ff?1:t.threads||1;var n=[];if(e)for(var r=0;r<e;++r)n[r]=o(t,this.gh.bind(this,r));else n[0]=i(t,this.gh.bind(this,0));this.qe=n,this.Ed=[],this.fk=t.rp||1/0,this.oe=0,this.bd={},this.Gf=null}var a=!0;try{new ImageData(10,10)}catch(t){a=!1}var s=document.createElement("canvas").getContext("2d");r.prototype.pp=function(t,e,n){this.dk({inputs:t,Qh:e,callback:n}),this.dh()},r.prototype.dk=function(t){for(this.Ed.push(t);this.Ed.length>this.fk;)this.Ed.shift().callback(null,null)},r.prototype.dh=function(){if(0===this.oe&&0<this.Ed.length){var t=this.Gf=this.Ed.shift(),e=t.inputs[0].width,n=t.inputs[0].height,o=t.inputs.map(function(t){return t.data.buffer}),i=this.qe.length;if(this.oe=i,1===i)this.qe[0].postMessage({buffers:o,meta:t.Qh,imageOps:this.Ff,width:e,height:n},o);else for(var r=4*Math.ceil(t.inputs[0].data.length/4/i),a=0;a<i;++a){for(var s=a*r,u=[],h=0,p=o.length;h<p;++h)u.push(o[a].slice(s,s+r));this.qe[a].postMessage({buffers:u,meta:t.Qh,imageOps:this.Ff,width:e,height:n},u)}}},r.prototype.gh=function(t,e){this.Jq||(this.bd[t]=e.data,--this.oe,0===this.oe&&this.gk())},r.prototype.gk=function(){var t=this.Gf,n=this.qe.length;if(1===n)var o=new Uint8ClampedArray(this.bd[0].buffer),i=this.bd[0].meta;else{var r=t.inputs[0].data.length;o=new Uint8ClampedArray(r),i=Array(r);for(var r=4*Math.ceil(r/4/n),a=0;a<n;++a){var s=a*r;o.set(new Uint8ClampedArray(this.bd[a].buffer),s),i[a]=this.bd[a].meta}}this.Gf=null,this.bd={},t.callback(null,e(o,t.inputs[0].width,t.inputs[0].height),i),this.dh()},t.default={Af:r},t.Af=r}(Xg.df=Xg.df||{}),l(Ly,Id),Ly.prototype.v=function(t,e){this.B=new Xg.df.Af({operation:t,$l:"image"===this.va,rp:1,lib:e,threads:this.Sa}),this.s()},Ly.prototype.Y=function(t,e,n,o){n=!0;for(var i,r=0,a=this.g.length;r<a;++r)if(i=this.g[r].a.ha(),"ready"!==i.getState()){n=!1;break}if(!n)return null;if(n=gv({},this.I),n.viewState=gv({},n.viewState),i=Z(t),n.extent=t.slice(),n.focus=i,n.size[0]=Math.round(ot(t)/e),n.size[1]=Math.round(Q(t)/e),r=n.viewState,r.center=i,r.projection=o,r.resolution=e,this.l=n,Rn(n.tileQueue,16,16),this.f&&(o=this.f.resolution,n=this.f.G(),e===o&&Y(t,n)||(this.f=null)),!this.f||this.i!==this.R)t:{for(t=this.l,o=this.g.length,e=Array(o),n=0;n<o;++n){if(i=this.g[n],r=t,a=t.layerStatesArray[n],i.sd(r,a)){var s=r.size[0],u=r.size[1];if(aw){var h=aw.canvas;h.width!==s||h.height!==u?aw=Ae(s,u):aw.clearRect(0,0,s,u)}else aw=Ae(s,u);i.S(r,a,aw),i=aw.getImageData(0,0,s,u)}else i=null;if(!i)break t;e[n]=i}o={},this.b(new ky(sw,t,o)),this.B.pp(e,o,this.pa.bind(this,t))}return this.f},Ly.prototype.pa=function(t,e,n,o){if(!e&&n){e=t.extent;var i=t.viewState.resolution;if(i===this.l.viewState.resolution&&Y(e,this.l.extent)){if(this.f)var r=this.f.Y().getContext("2d");else r=Ae(Math.round(ot(e)/i),Math.round(Q(e)/i)),this.f=new Zl(e,i,1,this.j,r.canvas);r.putImageData(n,0,0),this.s(),this.R=this.i,this.b(new ky(uw,t,o))}}};var aw=null;l(ky,le),Ly.prototype.Jc=function(){return null};var sw="beforeoperations",uw="afteroperations";l(Ry,vy);var hw=[new $t({html:'Map tiles by <a href="http://stamen.com/">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.'}),rw],pw={terrain:{Lb:"jpg",opaque:!0},"terrain-background":{Lb:"jpg",opaque:!0},"terrain-labels":{Lb:"png",opaque:!1},"terrain-lines":{Lb:"png",opaque:!1},"toner-background":{Lb:"png",opaque:!0},toner:{Lb:"png",opaque:!0},"toner-hybrid":{Lb:"png",opaque:!1},"toner-labels":{Lb:"png",opaque:!1},"toner-lines":{Lb:"png",
opaque:!1},"toner-lite":{Lb:"png",opaque:!0},watercolor:{Lb:"jpg",opaque:!0}},lw={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}};l(Fy,ly),Fy.prototype.C=function(){return this.f},Fy.prototype.nb=function(t){return t},Fy.prototype.Fc=function(t,e,n){var o=this.tileGrid;if(o||(o=this.Ta(n)),!(o.b.length<=t[0])){var i=o.Aa(t,this.l),r=E(o.gb(t[0]),this.o);1!=e&&(r=A(r,e,this.o)),o={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},gv(o,this.f);var a=this.urls;return a?(n=n.mb.split(":").pop(),o.SIZE=r[0]+","+r[1],o.BBOX=i.join(","),o.BBOXSR=n,o.IMAGESR=n,o.DPI=Math.round(o.DPI?o.DPI*e:90*e),t=(1==a.length?a[0]:a[C((t[1]<<t[0])+t[2],a.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),t=Py(t,o)):t=void 0,t}},Fy.prototype.B=function(t){gv(this.f,t),sy(this,Dy(this))},l(jy,ry),jy.prototype.Nc=function(t,e,n){var o=this.Sb(t,e,n);if(this.a.b.hasOwnProperty(o))return this.a.get(o);var i=E(this.tileGrid.gb(t));return t=[t,e,n],e=(e=uy(this,t))?uy(this,e).toString():"",i=new Ky(t,i,e),this.a.set(o,i),i},l(Ky,Jl),Ky.prototype.Y=function(){if(this.a)return this.a;var t=this.c,e=Ae(t[0],t[1]);return e.strokeStyle="black",e.strokeRect(.5,.5,t[0]+.5,t[1]+.5),e.fillStyle="black",e.textAlign="center",e.textBaseline="middle",e.font="24px sans-serif",e.fillText(this.Ia,t[0]/2,t[1]/2),this.a=e.canvas},Ky.prototype.load=function(){},l(By,ly),pv=By.prototype,pv.Ao=function(t){if(t=t.target,!t.status||200<=t.status&&300>t.status){try{var e=JSON.parse(t.responseText)}catch(t){return void this.Ve()}this.og(e)}else this.Ve()},pv.zo=function(){this.Ve()},pv.pl=function(){return this.f},pv.og=function(t){var e=Mt("EPSG:4326"),n=this.c;if(t.bounds)var o=Et(e,n),i=st(t.bounds,o);var r=t.minzoom||0,o=t.maxzoom||22;if(this.tileGrid=n=zt({extent:Vt(n),maxZoom:o,minZoom:r}),this.tileUrlFunction=Qd(t.tiles,n),void 0!==t.attribution&&!this.j){e=void 0!==i?i:e.G(),i={};for(var a;r<=o;++r)a=r.toString(),i[a]=[Xt(n,e,r)];this.ua([new $t({html:t.attribution,tileRanges:i})])}this.f=t,sf(this,"ready")},pv.Ve=function(){sf(this,"error")},l(Xy,ry),pv=Xy.prototype,pv.Eo=function(t){if(t=t.target,!t.status||200<=t.status&&300>t.status){try{var e=JSON.parse(t.responseText)}catch(t){return void this.We()}this.pg(e)}else this.We()},pv.Do=function(){this.We()},pv.ml=function(){return this.g},pv.zk=function(t,e,n,o,i){this.tileGrid?(e=this.tileGrid.Be(t,e),Yy(this.Nc(e[0],e[1],e[2],1,this.c),t,n,o,i)):!0===i?setTimeout(function(){n.call(o,null)},0):n.call(o,null)},pv.We=function(){sf(this,"error")},pv.pg=function(t){var e=Mt("EPSG:4326"),n=this.c;if(t.bounds)var o=Et(e,n),i=st(t.bounds,o);var r=t.minzoom||0,o=t.maxzoom||22;this.tileGrid=n=zt({extent:Vt(n),maxZoom:o,minZoom:r}),this.g=t.template;var a=t.grids;if(a){if(this.l=Qd(a,n),void 0!==t.attribution){for(e=void 0!==i?i:e.G(),i={};r<=o;++r)a=r.toString(),i[a]=[Xt(n,e,r)];this.ua([new $t({html:t.attribution,tileRanges:i})])}sf(this,"ready")}else sf(this,"error")},pv.Nc=function(t,e,n,o,i){var r=this.Sb(t,e,n);return this.a.b.hasOwnProperty(r)?this.a.get(r):(t=[t,e,n],e=uy(this,t,i),o=this.l(e,o,i),o=new Uy(t,void 0!==o?0:4,void 0!==o?o:"",this.tileGrid.Aa(t),this.v,this.f),this.a.set(r,o),o)},pv.Ug=function(t,e,n){t=this.Sb(t,e,n),this.a.b.hasOwnProperty(t)&&this.a.get(t)},l(Uy,Jl),pv=Uy.prototype,pv.Y=function(){return null},pv.getData=function(t){if(!this.g||!this.j)return null;var e=this.g[Math.floor((1-(t[1]-this.a[1])/(this.a[3]-this.a[1]))*this.g.length)];return"string"!=typeof e?null:(e=e.charCodeAt(Math.floor((t[0]-this.a[0])/(this.a[2]-this.a[0])*e.length)),93<=e&&e--,35<=e&&e--,e-=32,t=null,e in this.j&&(e=this.j[e],t=this.c&&e in this.c?this.c[e]:e),t)},pv.bb=function(){return this.o},pv.De=function(){this.state=3,this.s()},pv.Ji=function(t){this.g=t.grid,this.j=t.keys,this.c=t.data,this.state=4,this.s()},pv.Co=function(t){if(t=t.target,!t.status||200<=t.status&&300>t.status){try{var e=JSON.parse(t.responseText)}catch(t){return void this.De()}this.Ji(e)}else this.De()},pv.Bo=function(){this.De()},pv.load=function(){this.v&&Gy(this)},l(Wy,ly),pv=Wy.prototype,pv.Fo=function(t,e,n,o){n=Mt(n);var i=this.tileGrid;if(i||(i=this.Ta(n)),e=i.Be(t,e),!(i.b.length<=e[0])){var r=i.Da(e[0]),a=i.Aa(e,this.fa),i=E(i.gb(e[0]),this.o),s=this.C;return s&&(i=T(i,s,this.o),a=L(a,r*s,a)),s={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.f.LAYERS},gv(s,this.f,o),o=Math.floor((a[3]-t[1])/r),s[this.l?"I":"X"]=Math.floor((t[0]-a[0])/r),s[this.l?"J":"Y"]=o,zy(this,e,i,a,1,n,s)}},pv.Xf=function(){return this.C},pv.Sb=function(t,e,n){return this.R+ly.prototype.Sb.call(this,t,e,n)},pv.Go=function(){return this.f},pv.nb=function(t){return this.T&&void 0!==this.B?t:1},pv.Fc=function(t,e,n){var o=this.tileGrid;if(o||(o=this.Ta(n)),!(o.b.length<=t[0])){1==e||this.T&&void 0!==this.B||(e=1);var i=o.Da(t[0]),r=o.Aa(t,this.fa),o=E(o.gb(t[0]),this.o),a=this.C;return a&&(o=T(o,a,this.o),r=L(r,i*a,r)),1!=e&&(o=A(o,e,this.o)),i={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},gv(i,this.f),zy(this,t,o,r,e,n,i)}},pv.eb=function(t){ly.prototype.eb.call(this,t),Hy(this)},pv.Ho=function(t){gv(this.f,t),Hy(this),Vy(this),sy(this,qy(this))},l($y,Jl),$y.prototype.ka=function(){for(var t=0,e=this.a.length;t<e;++t){var n=this.a[t],o=this.c[n];o.j--,o.j||(delete this.c[n],pe(o))}this.a.length=0,this.c=null,1==this.state&&(this.g.forEach(se),this.g.length=0),this.i&&pe(this.i),this.state=5,this.s(),this.l.forEach(se),this.l.length=0,Jl.prototype.ka.call(this)},$y.prototype.Y=function(){return-1==this.o.Lg?null:this.j.canvas},$y.prototype.bb=function(){return this.a.join("/")+"/"+this.u},$y.prototype.load=function(){var t=0,e=!1;0==this.state&&tc(this,1),1==this.state&&this.a.forEach(function(n){var o=this.c[n];if(0==o.state?(o.Pg(this.S),o.load()):3==o.state?e=!0:4==o.state&&r(this.a,n),1==o.state){var i=ie(o,"change",function(){var a=o.getState();2!=a&&3!=a||(--t,se(i),r(this.g,i),3==a&&(r(this.a,n),e=!0),t||tc(this,0<this.a.length?2:3))}.bind(this));this.g.push(i),++t}}.bind(this)),t||setTimeout(function(){tc(this,0<this.a.length?2:e?3:4)}.bind(this),0)},l(Jy,Jl),pv=Jy.prototype,pv.ka=function(){this.g=null,this.c={},this.state=5,this.s(),Jl.prototype.ka.call(this)},pv.Lm=function(){return this.o},pv.Km=function(){return this.g},pv.bb=function(){return this.l},pv.Mm=function(){return this.a},pv.load=function(){0==this.state&&(tc(this,1),this.u(this,this.l),this.v(null,NaN,null))},pv.$o=function(t,e){this.ig(e),this.mj(t)},pv.Zo=function(){tc(this,3)},pv.mj=function(t){this.g=t,tc(this,2)},pv.ig=function(t){this.a=t},pv.Pg=function(t){this.v=t},l(Qy,py),Qy.prototype.Nc=function(t,e,n,o,i){var r=this.Sb(t,e,n);return this.a.b.hasOwnProperty(r)?this.a.get(r):(t=[t,e,n],n=(e=uy(this,t,i))?this.tileUrlFunction(e,o,i):void 0,o=new $y(t,void 0!==n?0:4,void 0!==n?n:"",this.g,this.tileLoadFunction,e,this.tileUrlFunction,this.tileGrid,this.Ta(i),this.v,o,i,this.tileClass,this.Li.bind(this)),this.a.set(r,o),o)},Qy.prototype.Ta=function(t){var e=t.mb,n=this.f[e];return n||(n=this.tileGrid,n=this.f[e]=qt(t,void 0,n?n.gb(n.minZoom):void 0)),n},Qy.prototype.nb=function(t){return void 0==t?py.prototype.nb.call(this,t):t},Qy.prototype.Xd=function(t,e,n){return t=E(this.Ta(n).gb(t)),[Math.round(t[0]*e),Math.round(t[1]*e)]},l(tv,Dt),tv.prototype.l=function(){return this.o},l(nv,ly),pv=nv.prototype,pv.Mk=function(){return this.f},pv.Io=function(){return this.C},pv.Jo=function(){return this.B},pv.$k=function(){return this.l},pv.kl=function(){return this.T},pv.Ko=function(){return this.R},pv.rl=function(){return this.fa},pv.uq=function(t){gv(this.f,t),sy(this,ov(this))},l(iv,ly),l(rv,ec),rv.prototype.Y=function(){if(this.a)return this.a;var t=ec.prototype.Y.call(this);if(2==this.state){if(256==t.width&&256==t.height)return this.a=t;var e=Ae(256,256);return e.drawImage(t,0,0),this.a=e.canvas}return t};var cw="default",fw="truncated";av.prototype.get=function(t){return this.c[t]||null},av.prototype.add=function(t,e,n,o,i){var r,a=0;for(r=this.a.length;a<r;++a){var s=this.a[a];if(s.width>=e+this.b&&s.height>=n+this.b)return r={offsetX:s.x+this.b,offsetY:s.y+this.b,image:this.f},this.c[t]=r,o.call(i,this.i,s.x+this.b,s.y+this.b),t=a,e+=this.b,o=n+this.b,s.width-e>s.height-o?(n={x:s.x+e,y:s.y,width:s.width-e,height:s.height},e={x:s.x,y:s.y+o,width:e,height:s.height-o},sv(this,t,n,e)):(n={x:s.x+e,y:s.y,width:s.width-e,height:o},e={x:s.x,y:s.y+o,width:s.width,height:s.height-o},sv(this,t,n,e)),r}return null},uv.prototype.add=function(t,e,n,o,i,r){return e+this.b>this.i||n+this.b>this.i?null:(o=hv(this,!1,t,e,n,o,r))?(t=hv(this,!0,t,e,n,i?i:c,r),{offsetX:o.offsetX,offsetY:o.offsetY,image:o.image,Zl:t.image}):null},d.prototype.code=d.prototype.code,t("ol.Attribution",$t),$t.prototype.getHTML=$t.prototype.i,t("ol.Collection",_e),_e.prototype.clear=_e.prototype.clear,_e.prototype.extend=_e.prototype.fg,_e.prototype.forEach=_e.prototype.forEach,_e.prototype.getArray=_e.prototype.tm,_e.prototype.item=_e.prototype.item,_e.prototype.getLength=_e.prototype.dc,_e.prototype.insertAt=_e.prototype.He,_e.prototype.pop=_e.prototype.pop,_e.prototype.push=_e.prototype.push,_e.prototype.remove=_e.prototype.remove,_e.prototype.removeAt=_e.prototype.Hg,_e.prototype.setAt=_e.prototype.Wp,Pe.prototype.element=Pe.prototype.element,t("ol.color.asArray",Se),t("ol.color.asString",Ce),t("ol.colorlike.asColorLike",Te),t("ol.control.defaults",Ue),t("ol.coordinate.add",Gn),t("ol.coordinate.createStringXY",function(t){return function(e){return eo(e,t)}}),t("ol.coordinate.format",qn),t("ol.coordinate.rotate",$n),t("ol.coordinate.toStringHDMS",function(t,e){return t?Hn("NS",t[1],e)+" "+Hn("EW",t[0],e):""}),t("ol.coordinate.toStringXY",eo),t("ol.DeviceOrientation",Fs),Fs.prototype.getAlpha=Fs.prototype.Fk,Fs.prototype.getBeta=Fs.prototype.Ik,Fs.prototype.getGamma=Fs.prototype.Ok,Fs.prototype.getHeading=Fs.prototype.um,Fs.prototype.getTracking=Fs.prototype.Th,Fs.prototype.setTracking=Fs.prototype.gg,t("ol.easing.easeIn",Re),t("ol.easing.easeOut",Fe),t("ol.easing.inAndOut",De),t("ol.easing.linear",je),t("ol.easing.upAndDown",function(t){return.5>t?De(2*t):1-De(2*(t-.5))}),t("ol.extent.boundingExtent",I),t("ol.extent.buffer",L),t("ol.extent.containsCoordinate",k),t("ol.extent.containsExtent",R),t("ol.extent.containsXY",F),t("ol.extent.createEmpty",j),t("ol.extent.equals",Y),t("ol.extent.extend",G),t("ol.extent.getArea",q),t("ol.extent.getBottomLeft",V),t("ol.extent.getBottomRight",$),t("ol.extent.getCenter",Z),t("ol.extent.getHeight",Q),t("ol.extent.getIntersection",tt),t("ol.extent.getSize",function(t){return[t[2]-t[0],t[3]-t[1]]}),t("ol.extent.getTopLeft",et),t("ol.extent.getTopRight",nt),t("ol.extent.getWidth",ot),t("ol.extent.intersects",it),t("ol.extent.isEmpty",rt),t("ol.extent.applyTransform",st),t("ol.Feature",Hs),Hs.prototype.clone=Hs.prototype.clone,Hs.prototype.getGeometry=Hs.prototype.V,Hs.prototype.getId=Hs.prototype.wm,Hs.prototype.getGeometryName=Hs.prototype.Qk,Hs.prototype.getStyle=Hs.prototype.xm,Hs.prototype.getStyleFunction=Hs.prototype.Lc,Hs.prototype.setGeometry=Hs.prototype.Ra,Hs.prototype.setStyle=Hs.prototype.hg,Hs.prototype.setId=Hs.prototype.jc,Hs.prototype.setGeometryName=Hs.prototype.Tc,t("ol.featureloader.xhr",vu),t("ol.Geolocation",Bl),Bl.prototype.getAccuracy=Bl.prototype.Dk,Bl.prototype.getAccuracyGeometry=Bl.prototype.Ek,Bl.prototype.getAltitude=Bl.prototype.Gk,Bl.prototype.getAltitudeAccuracy=Bl.prototype.Hk,Bl.prototype.getHeading=Bl.prototype.ym,Bl.prototype.getPosition=Bl.prototype.zm,Bl.prototype.getProjection=Bl.prototype.Uh,Bl.prototype.getSpeed=Bl.prototype.ll,Bl.prototype.getTracking=Bl.prototype.Vh,Bl.prototype.getTrackingOptions=Bl.prototype.Gh,Bl.prototype.setProjection=Bl.prototype.Wh,Bl.prototype.setTracking=Bl.prototype.Ke,Bl.prototype.setTrackingOptions=Bl.prototype.wj,t("ol.Graticule",zl),zl.prototype.getMap=zl.prototype.Cm,zl.prototype.getMeridians=zl.prototype.al,zl.prototype.getParallels=zl.prototype.hl,zl.prototype.setMap=zl.prototype.setMap,t("ol.has.DEVICE_PIXEL_RATIO",qv),t("ol.has.CANVAS",$v),t("ol.has.DEVICE_ORIENTATION",Zv),t("ol.has.GEOLOCATION",Jv),t("ol.has.TOUCH",Qv),t("ol.has.WEBGL",Bv),$l.prototype.getImage=$l.prototype.Y,$l.prototype.load=$l.prototype.load,ec.prototype.getImage=ec.prototype.Y,t("ol.inherits",l),t("ol.interaction.defaults",nr),t("ol.Kinetic",oi),t("ol.loadingstrategy.all",of),t("ol.loadingstrategy.bbox",function(t){return[t]}),t("ol.loadingstrategy.tile",function(t){return function(e,n){n=t.tc(n),e=Xt(t,e,n);var o=[];for(n=[n,0,0],n[1]=e.ca;n[1]<=e.$;++n[1])for(n[2]=e.da;n[2]<=e.ia;++n[2])o.push(t.Aa(n));return o}}),t("ol.Map",gs),gs.prototype.addControl=gs.prototype.kk,gs.prototype.addInteraction=gs.prototype.lk,gs.prototype.addLayer=gs.prototype.ih,gs.prototype.addOverlay=gs.prototype.jh,gs.prototype.forEachFeatureAtPixel=gs.prototype.we,gs.prototype.forEachLayerAtPixel=gs.prototype.Im,gs.prototype.hasFeatureAtPixel=gs.prototype.Yl,gs.prototype.getEventCoordinate=gs.prototype.Tf,gs.prototype.getEventPixel=gs.prototype.xe,gs.prototype.getTarget=gs.prototype.ag,gs.prototype.getTargetElement=gs.prototype.jd,gs.prototype.getCoordinateFromPixel=gs.prototype.Wa,gs.prototype.getControls=gs.prototype.Lk,gs.prototype.getOverlays=gs.prototype.fl,gs.prototype.getOverlayById=gs.prototype.el,gs.prototype.getInteractions=gs.prototype.Sk,gs.prototype.getLayerGroup=gs.prototype.Kc,gs.prototype.getLayers=gs.prototype.Xh,gs.prototype.getPixelFromCoordinate=gs.prototype.Ja,gs.prototype.getSize=gs.prototype.Ob,gs.prototype.getView=gs.prototype.Z,gs.prototype.getViewport=gs.prototype.sl,gs.prototype.renderSync=gs.prototype.Tp,gs.prototype.render=gs.prototype.render,gs.prototype.removeControl=gs.prototype.Mp,gs.prototype.removeInteraction=gs.prototype.Np,gs.prototype.removeLayer=gs.prototype.Pp,gs.prototype.removeOverlay=gs.prototype.Qp,gs.prototype.setLayerGroup=gs.prototype.qj,gs.prototype.setSize=gs.prototype.Qg,gs.prototype.setTarget=gs.prototype.Le,gs.prototype.setView=gs.prototype.iq,gs.prototype.updateSize=gs.prototype.Ad,Ze.prototype.originalEvent=Ze.prototype.originalEvent,Ze.prototype.pixel=Ze.prototype.pixel,Ze.prototype.coordinate=Ze.prototype.coordinate,Ze.prototype.dragging=Ze.prototype.dragging,$e.prototype.map=$e.prototype.map,$e.prototype.frameState=$e.prototype.frameState,t("ol.Object",ve),ve.prototype.get=ve.prototype.get,ve.prototype.getKeys=ve.prototype.O,ve.prototype.getProperties=ve.prototype.N,ve.prototype.set=ve.prototype.set,ve.prototype.setProperties=ve.prototype.H,ve.prototype.unset=ve.prototype.P,be.prototype.key=be.prototype.key,be.prototype.oldValue=be.prototype.oldValue,t("ol.Observable",ye),t("ol.Observable.unByKey",function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)se(t[e]);else se(t)}),ye.prototype.changed=ye.prototype.s,ye.prototype.dispatchEvent=ye.prototype.b,ye.prototype.getRevision=ye.prototype.L,ye.prototype.on=ye.prototype.J,ye.prototype.once=ye.prototype.once,ye.prototype.un=ye.prototype.K,t("ol.Overlay",bs),bs.prototype.getElement=bs.prototype.Rd,bs.prototype.getId=bs.prototype.Jm,bs.prototype.getMap=bs.prototype.Me,bs.prototype.getOffset=bs.prototype.Dh,bs.prototype.getPosition=bs.prototype.Yh,bs.prototype.getPositioning=bs.prototype.Eh,bs.prototype.setElement=bs.prototype.lj,bs.prototype.setMap=bs.prototype.setMap,bs.prototype.setOffset=bs.prototype.rj,bs.prototype.setPosition=bs.prototype.Ne,bs.prototype.setPositioning=bs.prototype.uj,t("ol.proj.METERS_PER_UNIT",bv),t("ol.proj.setProj4",function(t){_v=t}),t("ol.proj.getPointResolution",bt),t("ol.proj.addEquivalentProjections",_t),t("ol.proj.addProjection",wt),t("ol.proj.addCoordinateTransforms",St),t("ol.proj.fromLonLat",function(t,e){return Nt(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}),t("ol.proj.toLonLat",function(t,e){return Nt(t,void 0!==e?e:"EPSG:3857","EPSG:4326")}),t("ol.proj.get",Mt),t("ol.proj.equivalent",Tt),t("ol.proj.getTransform",At),t("ol.proj.transform",Nt),t("ol.proj.transformExtent",Ot),t("ol.render.toContext",function(t,e){var n=t.canvas,o=e?e:{};return e=o.pixelRatio||qv,(o=o.size)&&(n.width=o[0]*e,n.height=o[1]*e,n.style.width=o[0]+"px",n.style.height=o[1]+"px"),n=[0,0,n.width,n.height],o=vr(hr(),e,e),new Er(t,e,n,o,0)}),t("ol.size.toSize",E),t("ol.Sphere",lt),lt.prototype.geodesicArea=lt.prototype.a,lt.prototype.haversineDistance=lt.prototype.b,Jl.prototype.getTileCoord=Jl.prototype.f,Jl.prototype.load=Jl.prototype.load,t("ol.tilegrid.createXYZ",zt),Jy.prototype.getFormat=Jy.prototype.Lm;Jy.prototype.getFeatures=Jy.prototype.Km;Jy.prototype.getProjection=Jy.prototype.Mm,Jy.prototype.setFeatures=Jy.prototype.mj,Jy.prototype.setProjection=Jy.prototype.ig,Jy.prototype.setLoader=Jy.prototype.Pg,t("ol.View",zo),zo.prototype.animate=zo.prototype.animate,zo.prototype.getAnimating=zo.prototype.Ic,zo.prototype.getInteracting=zo.prototype.Rk,zo.prototype.cancelAnimations=zo.prototype.ed,zo.prototype.constrainCenter=zo.prototype.Ec,zo.prototype.constrainResolution=zo.prototype.constrainResolution,zo.prototype.constrainRotation=zo.prototype.constrainRotation,zo.prototype.getCenter=zo.prototype.wa,zo.prototype.calculateExtent=zo.prototype.dd,zo.prototype.getMaxResolution=zo.prototype.Nm,zo.prototype.getMinResolution=zo.prototype.Pm,zo.prototype.getMaxZoom=zo.prototype.Om,zo.prototype.setMaxZoom=zo.prototype.eq,zo.prototype.getMinZoom=zo.prototype.Qm,zo.prototype.setMinZoom=zo.prototype.fq,zo.prototype.getProjection=zo.prototype.Rm,zo.prototype.getResolution=zo.prototype.Pa,zo.prototype.getResolutions=zo.prototype.Sm,zo.prototype.getResolutionForExtent=zo.prototype.ze,zo.prototype.getRotation=zo.prototype.Qa,zo.prototype.getZoom=zo.prototype.Hh,zo.prototype.getZoomForResolution=zo.prototype.Ce,zo.prototype.fit=zo.prototype.Qf,zo.prototype.centerOn=zo.prototype.uk,zo.prototype.rotate=zo.prototype.rotate,zo.prototype.setCenter=zo.prototype.ob,zo.prototype.setResolution=zo.prototype.Vc,zo.prototype.setRotation=zo.prototype.Oe,zo.prototype.setZoom=zo.prototype.lq,t("ol.xml.getAllTextContent",$s),t("ol.xml.parse",tu),na.prototype.getGL=na.prototype.Wo,na.prototype.useProgram=na.prototype.Qc,t("ol.tilegrid.TileGrid",Dt),Dt.prototype.forEachTileCoord=Dt.prototype.Rf,Dt.prototype.getMaxZoom=Dt.prototype.Ti,Dt.prototype.getMinZoom=Dt.prototype.Ui,Dt.prototype.getOrigin=Dt.prototype.Pc,Dt.prototype.getResolution=Dt.prototype.Da,Dt.prototype.getResolutions=Dt.prototype.Vi,Dt.prototype.getTileCoordExtent=Dt.prototype.Aa,Dt.prototype.getTileCoordForCoordAndResolution=Dt.prototype.Be,Dt.prototype.getTileCoordForCoordAndZ=Dt.prototype.bg,Dt.prototype.getTileSize=Dt.prototype.gb,Dt.prototype.getZForResolution=Dt.prototype.tc,t("ol.tilegrid.WMTS",tv),tv.prototype.getMatrixIds=tv.prototype.l,t("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",ev),t("ol.style.AtlasManager",uv),t("ol.style.Circle",Bs),Bs.prototype.setRadius=Bs.prototype.Uc,t("ol.style.Fill",Xs),Xs.prototype.clone=Xs.prototype.clone,Xs.prototype.getColor=Xs.prototype.i,Xs.prototype.setColor=Xs.prototype.c,t("ol.style.Icon",op),op.prototype.clone=op.prototype.clone,op.prototype.getAnchor=op.prototype.Hc,op.prototype.getColor=op.prototype.Lo,op.prototype.getImage=op.prototype.Y,op.prototype.getOrigin=op.prototype.Oc,op.prototype.getSrc=op.prototype.Mo,op.prototype.getSize=op.prototype.ic,op.prototype.load=op.prototype.load,t("ol.style.Image",Ds),Ds.prototype.getOpacity=Ds.prototype.Ze,Ds.prototype.getRotateWithView=Ds.prototype.$e,Ds.prototype.getRotation=Ds.prototype.af,Ds.prototype.getScale=Ds.prototype.bf,Ds.prototype.getSnapToPixel=Ds.prototype.Ae,Ds.prototype.setOpacity=Ds.prototype.td,Ds.prototype.setRotation=Ds.prototype.cf,Ds.prototype.setScale=Ds.prototype.ud,t("ol.style.RegularShape",js),js.prototype.clone=js.prototype.clone,js.prototype.getAnchor=js.prototype.Hc,js.prototype.getAngle=js.prototype.Pi,js.prototype.getFill=js.prototype.Fa,js.prototype.getImage=js.prototype.Y,js.prototype.getOrigin=js.prototype.Oc,js.prototype.getPoints=js.prototype.Qi,js.prototype.getRadius=js.prototype.Ri,js.prototype.getRadius2=js.prototype.Fh,js.prototype.getSize=js.prototype.ic,js.prototype.getStroke=js.prototype.Ga,t("ol.style.Stroke",Aa),Aa.prototype.clone=Aa.prototype.clone,Aa.prototype.getColor=Aa.prototype.No,Aa.prototype.getLineCap=Aa.prototype.Vk,Aa.prototype.getLineDash=Aa.prototype.Oo,Aa.prototype.getLineDashOffset=Aa.prototype.Wk,Aa.prototype.getLineJoin=Aa.prototype.Xk,Aa.prototype.getMiterLimit=Aa.prototype.bl,Aa.prototype.getWidth=Aa.prototype.Po,Aa.prototype.setColor=Aa.prototype.Qo,Aa.prototype.setLineCap=Aa.prototype.aq,Aa.prototype.setLineDash=Aa.prototype.setLineDash,Aa.prototype.setLineDashOffset=Aa.prototype.bq,Aa.prototype.setLineJoin=Aa.prototype.cq,Aa.prototype.setMiterLimit=Aa.prototype.gq,Aa.prototype.setWidth=Aa.prototype.jq,t("ol.style.Style",Us),Us.prototype.clone=Us.prototype.clone,Us.prototype.getGeometry=Us.prototype.V,Us.prototype.getGeometryFunction=Us.prototype.Pk,Us.prototype.getFill=Us.prototype.Fa,Us.prototype.setFill=Us.prototype.pf,Us.prototype.getImage=Us.prototype.Y,Us.prototype.setImage=Us.prototype.Og,Us.prototype.getStroke=Us.prototype.Ga,Us.prototype.setStroke=Us.prototype.qf,Us.prototype.getText=Us.prototype.Na,Us.prototype.setText=Us.prototype.xd,Us.prototype.getZIndex=Us.prototype.Ba,Us.prototype.setGeometry=Us.prototype.Ra,Us.prototype.setZIndex=Us.prototype.Vb,t("ol.style.Text",ip),ip.prototype.clone=ip.prototype.clone,ip.prototype.getFont=ip.prototype.Nk,ip.prototype.getOffsetX=ip.prototype.cl,ip.prototype.getOffsetY=ip.prototype.dl,ip.prototype.getFill=ip.prototype.Fa,ip.prototype.getRotateWithView=ip.prototype.Ro,ip.prototype.getRotation=ip.prototype.So,ip.prototype.getScale=ip.prototype.To,ip.prototype.getStroke=ip.prototype.Ga,ip.prototype.getText=ip.prototype.Na,ip.prototype.getTextAlign=ip.prototype.nl,ip.prototype.getTextBaseline=ip.prototype.ol,ip.prototype.setFont=ip.prototype.nj,ip.prototype.setOffsetX=ip.prototype.sj,ip.prototype.setOffsetY=ip.prototype.tj,ip.prototype.setFill=ip.prototype.pf,ip.prototype.setRotation=ip.prototype.Uo,ip.prototype.setScale=ip.prototype.Si,ip.prototype.setStroke=ip.prototype.qf,ip.prototype.setText=ip.prototype.xd,ip.prototype.setTextAlign=ip.prototype.vj,ip.prototype.setTextBaseline=ip.prototype.hq,t("ol.source.BingMaps",yy),t("ol.source.BingMaps.TOS_ATTRIBUTION",ow),yy.prototype.getApiKey=yy.prototype.T,yy.prototype.getImagerySet=yy.prototype.fa,t("ol.source.CartoDB",gy),gy.prototype.getConfig=gy.prototype.Kk,gy.prototype.updateConfig=gy.prototype.tq,gy.prototype.setConfig=gy.prototype.Xp,t("ol.source.Cluster",_y),_y.prototype.getDistance=_y.prototype.$n,_y.prototype.getSource=_y.prototype.ao,_y.prototype.setDistance=_y.prototype.Yp,t("ol.source.Image",Id),Od.prototype.image=Od.prototype.image,t("ol.source.ImageArcGISRest",Sy),Sy.prototype.getParams=Sy.prototype.co,Sy.prototype.getImageLoadFunction=Sy.prototype.bo,Sy.prototype.getUrl=Sy.prototype.eo,Sy.prototype.setImageLoadFunction=Sy.prototype.fo,Sy.prototype.setUrl=Sy.prototype.ho,Sy.prototype.updateParams=Sy.prototype.io,t("ol.source.ImageCanvas",kd),t("ol.source.ImageMapGuide",Cy),Cy.prototype.getParams=Cy.prototype.ko,Cy.prototype.getImageLoadFunction=Cy.prototype.jo,Cy.prototype.updateParams=Cy.prototype.mo,Cy.prototype.setImageLoadFunction=Cy.prototype.lo,t("ol.source.ImageStatic",My),t("ol.source.ImageVector",Rd),Rd.prototype.getSource=Rd.prototype.no,Rd.prototype.getStyle=Rd.prototype.oo,Rd.prototype.getStyleFunction=Rd.prototype.po,Rd.prototype.setStyle=Rd.prototype.Ii,t("ol.source.ImageWMS",Ty),Ty.prototype.getGetFeatureInfoUrl=Ty.prototype.so,Ty.prototype.getParams=Ty.prototype.uo,Ty.prototype.getImageLoadFunction=Ty.prototype.to,Ty.prototype.getUrl=Ty.prototype.vo,Ty.prototype.setImageLoadFunction=Ty.prototype.wo,Ty.prototype.setUrl=Ty.prototype.xo,Ty.prototype.updateParams=Ty.prototype.yo,t("ol.source.OSM",Iy),t("ol.source.OSM.ATTRIBUTION",rw),t("ol.source.Raster",Ly),Ly.prototype.setOperation=Ly.prototype.v,ky.prototype.extent=ky.prototype.extent,ky.prototype.resolution=ky.prototype.resolution,ky.prototype.data=ky.prototype.data,t("ol.source.Source",rf),rf.prototype.getAttributions=rf.prototype.ya,rf.prototype.getLogo=rf.prototype.xa,rf.prototype.getProjection=rf.prototype.za,rf.prototype.getState=rf.prototype.getState,rf.prototype.refresh=rf.prototype.sa,rf.prototype.setAttributions=rf.prototype.ua,t("ol.source.Stamen",Ry);t("ol.source.Tile",ry);ry.prototype.getTileGrid=ry.prototype.ab,hy.prototype.tile=hy.prototype.tile,t("ol.source.TileArcGISRest",Fy),Fy.prototype.getParams=Fy.prototype.C,Fy.prototype.updateParams=Fy.prototype.B,t("ol.source.TileDebug",jy),t("ol.source.TileImage",ly),ly.prototype.setRenderReprojectionEdges=ly.prototype.Pb,ly.prototype.setTileGridForProjection=ly.prototype.Qb,t("ol.source.TileJSON",By),By.prototype.getTileJSON=By.prototype.pl,t("ol.source.TileUTFGrid",Xy),Xy.prototype.getTemplate=Xy.prototype.ml,Xy.prototype.forDataAtCoordinateAndResolution=Xy.prototype.zk,t("ol.source.TileWMS",Wy),Wy.prototype.getGetFeatureInfoUrl=Wy.prototype.Fo,Wy.prototype.getParams=Wy.prototype.Go,Wy.prototype.updateParams=Wy.prototype.Ho,py.prototype.getTileLoadFunction=py.prototype.pb,py.prototype.getTileUrlFunction=py.prototype.qb,py.prototype.getUrls=py.prototype.rb,py.prototype.setTileLoadFunction=py.prototype.vb,py.prototype.setTileUrlFunction=py.prototype.cb,py.prototype.setUrl=py.prototype.jb,py.prototype.setUrls=py.prototype.eb,t("ol.source.Vector",uf),uf.prototype.addFeature=uf.prototype.yb,uf.prototype.addFeatures=uf.prototype.cd,uf.prototype.clear=uf.prototype.clear,uf.prototype.forEachFeature=uf.prototype.sh,uf.prototype.forEachFeatureInExtent=uf.prototype.$b,uf.prototype.forEachFeatureIntersectingExtent=uf.prototype.th,uf.prototype.getFeaturesCollection=uf.prototype.Ah,uf.prototype.getFeatures=uf.prototype.Xe,uf.prototype.getFeaturesAtCoordinate=uf.prototype.zh,uf.prototype.getFeaturesInExtent=uf.prototype.Uf,uf.prototype.getClosestFeatureToCoordinate=uf.prototype.vh,uf.prototype.getExtent=uf.prototype.G,uf.prototype.getFeatureById=uf.prototype.yh,uf.prototype.getFormat=uf.prototype.Mi,uf.prototype.getUrl=uf.prototype.Ni,uf.prototype.removeFeature=uf.prototype.Gb,yf.prototype.feature=yf.prototype.feature,t("ol.source.VectorTile",Qy),t("ol.source.WMTS",nv),nv.prototype.getDimensions=nv.prototype.Mk,nv.prototype.getFormat=nv.prototype.Io,nv.prototype.getLayer=nv.prototype.Jo,nv.prototype.getMatrixSet=nv.prototype.$k,nv.prototype.getRequestEncoding=nv.prototype.kl,nv.prototype.getStyle=nv.prototype.Ko,nv.prototype.getVersion=nv.prototype.rl,nv.prototype.updateDimensions=nv.prototype.uq,t("ol.source.WMTS.optionsFromCapabilities",function(t,e){var o=a(t.Contents.Layer,function(t){return t.Identifier==e.layer});if(null===o)return null;var i=t.Contents.TileMatrixSet,r=1<o.TileMatrixSetLink.length?"projection"in e?h(o.TileMatrixSetLink,function(t){var n=a(i,function(e){return e.Identifier==t.TileMatrixSet}).SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"),o=Mt(n),r=Mt(e.projection);return o&&r?Tt(o,r):n==e.projection}):h(o.TileMatrixSetLink,function(t){return t.TileMatrixSet==e.matrixSet}):0;0>r&&(r=0);var s=o.TileMatrixSetLink[r].TileMatrixSet,u=o.TileMatrixSetLink[r].TileMatrixSetLimits,p=o.Format[0];"format"in e&&(p=e.format),r=h(o.Style,function(t){return"style"in e?t.Title==e.style:t.isDefault}),0>r&&(r=0),r=o.Style[r].Identifier;var l={};"Dimension"in o&&o.Dimension.forEach(function(t){var e=t.Identifier,n=t.Default;void 0===n&&(n=t.Value[0]),l[e]=n});var c=a(t.Contents.TileMatrixSet,function(t){return t.Identifier==s}),f=Mt("projection"in e?e.projection:c.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3")),d=o.WGS84BoundingBox;if(void 0!==d){var y=Mt("EPSG:4326").G();y=d[0]==y[0]&&d[2]==y[2];var v=Ot(d,"EPSG:4326",f);(d=f.G())&&(R(d,v)||(v=void 0))}u=ev(c,v,u);var g=[],c=e.requestEncoding,c=void 0!==c?c:"";if("OperationsMetadata"in t&&"GetTile"in t.OperationsMetadata)for(t=t.OperationsMetadata.GetTile.DCP.HTTP.Get,v=0,d=t.length;v<d;++v){var m=a(t[v].Constraint,function(t){return"GetEncoding"==t.name}).AllowedValues.Value;if(""===c&&(c=m[0]),"KVP"!==c)break;n(m,"KVP")&&g.push(t[v].href)}return g.length||(c="REST",o.ResourceURL.forEach(function(t){"tile"===t.resourceType&&(p=t.format,g.push(t.template))})),{urls:g,layer:e.layer,matrixSet:s,format:p,projection:f,requestEncoding:c,tileGrid:u,style:r,dimensions:l,wrapX:y,crossOrigin:e.crossOrigin}}),t("ol.source.XYZ",vy),t("ol.source.Zoomify",iv),Mr.prototype.vectorContext=Mr.prototype.vectorContext,Mr.prototype.frameState=Mr.prototype.frameState,Mr.prototype.context=Mr.prototype.context,Mr.prototype.glContext=Mr.prototype.glContext,Kp.prototype.get=Kp.prototype.get,Kp.prototype.getExtent=Kp.prototype.G,Kp.prototype.getId=Kp.prototype.Wn,Kp.prototype.getGeometry=Kp.prototype.V,Kp.prototype.getProperties=Kp.prototype.Xn,Kp.prototype.getType=Kp.prototype.U,t("ol.render.VectorContext",Ar),ls.prototype.setStyle=ls.prototype.rd,ls.prototype.drawGeometry=ls.prototype.zb,ls.prototype.drawFeature=ls.prototype.te,Er.prototype.drawCircle=Er.prototype.Zb,Er.prototype.setStyle=Er.prototype.rd,Er.prototype.drawGeometry=Er.prototype.zb,Er.prototype.drawFeature=Er.prototype.te,t("ol.proj.common.add",kt),t("ol.proj.Projection",ct),ct.prototype.getCode=ct.prototype.Jk,ct.prototype.getExtent=ct.prototype.G,ct.prototype.getUnits=ct.prototype.Un,ct.prototype.getMetersPerUnit=ct.prototype.sc,ct.prototype.getWorldExtent=ct.prototype.tl,ct.prototype.isGlobal=ct.prototype.dm,ct.prototype.setGlobal=ct.prototype.$p,ct.prototype.setExtent=ct.prototype.Vn,ct.prototype.setWorldExtent=ct.prototype.kq,ct.prototype.setGetPointResolution=ct.prototype.Zp,t("ol.proj.Units.METERS_PER_UNIT",bv),t("ol.layer.Base",or),or.prototype.getExtent=or.prototype.G,or.prototype.getMaxResolution=or.prototype.fc,or.prototype.getMinResolution=or.prototype.gc,or.prototype.getOpacity=or.prototype.hc,or.prototype.getVisible=or.prototype.Mb,or.prototype.getZIndex=or.prototype.Ba,or.prototype.setExtent=or.prototype.vc,or.prototype.setMaxResolution=or.prototype.Ac,or.prototype.setMinResolution=or.prototype.Bc,or.prototype.setOpacity=or.prototype.wc,or.prototype.setVisible=or.prototype.xc,or.prototype.setZIndex=or.prototype.Vb,t("ol.layer.Group",rr),rr.prototype.getLayers=rr.prototype.qd,rr.prototype.setLayers=rr.prototype.xi,t("ol.layer.Heatmap",_d),_d.prototype.getBlur=_d.prototype.uh,_d.prototype.getGradient=_d.prototype.Bh,_d.prototype.getRadius=_d.prototype.yi,_d.prototype.setBlur=_d.prototype.jj,_d.prototype.setGradient=_d.prototype.pj,_d.prototype.setRadius=_d.prototype.Uc,t("ol.layer.Image",Bd),Bd.prototype.getSource=Bd.prototype.ha,t("ol.layer.Layer",ar),ar.prototype.getSource=ar.prototype.ha,ar.prototype.setMap=ar.prototype.setMap,ar.prototype.setSource=ar.prototype.Wc,t("ol.layer.Tile",Hd),Hd.prototype.getPreload=Hd.prototype.Ud,Hd.prototype.getSource=Hd.prototype.ha,Hd.prototype.setPreload=Hd.prototype.zi,Hd.prototype.getUseInterimTilesOnError=Hd.prototype.kd,Hd.prototype.setUseInterimTilesOnError=Hd.prototype.Ai,t("ol.layer.Vector",nf),nf.prototype.getSource=nf.prototype.ha,nf.prototype.getStyle=nf.prototype.D,nf.prototype.getStyleFunction=nf.prototype.C,nf.prototype.setStyle=nf.prototype.g,t("ol.layer.VectorTile",Vd),Vd.prototype.getPreload=Vd.prototype.Ud,Vd.prototype.getUseInterimTilesOnError=Vd.prototype.kd,Vd.prototype.setPreload=Vd.prototype.Bi,Vd.prototype.setUseInterimTilesOnError=Vd.prototype.Ci,t("ol.interaction.DoubleClickZoom",pi),t("ol.interaction.DoubleClickZoom.handleEvent",li),t("ol.interaction.DragAndDrop",oc),t("ol.interaction.DragAndDrop.handleEvent",no),uc.prototype.features=uc.prototype.features,uc.prototype.file=uc.prototype.file,uc.prototype.projection=uc.prototype.projection,t("ol.interaction.DragBox",Ri),Ri.prototype.getGeometry=Ri.prototype.V,Bi.prototype.coordinate=Bi.prototype.coordinate,Bi.prototype.mapBrowserEvent=Bi.prototype.mapBrowserEvent,
t("ol.interaction.DragPan",Si),t("ol.interaction.DragRotate",Ai),t("ol.interaction.DragRotateAndZoom",hc),t("ol.interaction.DragZoom",Xi),t("ol.interaction.Draw",vf),t("ol.interaction.Draw.handleEvent",mf),vf.prototype.removeLastPoint=vf.prototype.Op,vf.prototype.finishDrawing=vf.prototype.Pd,vf.prototype.extend=vf.prototype.vn,t("ol.interaction.Draw.createRegularPolygon",function(t,e){return function(n,o){var i=n[0];n=n[1];var r=Math.sqrt(Jn(i,n));return o=o?o:Go(new Xl(i),t),Wo(o,i,r,e?e:Math.atan((n[1]-i[1])/(n[0]-i[0]))),o}}),t("ol.interaction.Draw.createBox",function(){return function(t,e){return t=I(t),e=e||new Bo(null),e.ma([[V(t),$(t),nt(t),et(t),V(t)]]),e}}),Af.prototype.feature=Af.prototype.feature,t("ol.interaction.Extent",Ef),Ef.prototype.getExtent=Ef.prototype.G,Ef.prototype.setExtent=Ef.prototype.g,Bf.prototype.extent_=Bf.prototype.b,t("ol.interaction.Interaction",ai),ai.prototype.getActive=ai.prototype.c,ai.prototype.getMap=ai.prototype.f,ai.prototype.setActive=ai.prototype.Ha,t("ol.interaction.KeyboardPan",Ui),t("ol.interaction.KeyboardPan.handleEvent",Yi),t("ol.interaction.KeyboardZoom",Gi),t("ol.interaction.KeyboardZoom.handleEvent",Wi),t("ol.interaction.Modify",Xf),t("ol.interaction.Modify.handleEvent",$f),Xf.prototype.removePoint=Xf.prototype.hj,nd.prototype.features=nd.prototype.features,nd.prototype.mapBrowserEvent=nd.prototype.mapBrowserEvent,t("ol.interaction.MouseWheelZoom",zi),t("ol.interaction.MouseWheelZoom.handleEvent",Hi),zi.prototype.setMouseAnchor=zi.prototype.T,t("ol.interaction.PinchRotate",qi),t("ol.interaction.PinchZoom",Ji),t("ol.interaction.Pointer",xi),t("ol.interaction.Pointer.handleEvent",Pi),t("ol.interaction.Select",od),od.prototype.getFeatures=od.prototype.Gn,od.prototype.getHitTolerance=od.prototype.Hn,od.prototype.getLayer=od.prototype.In,t("ol.interaction.Select.handleEvent",id),od.prototype.setHitTolerance=od.prototype.Kn,od.prototype.setMap=od.prototype.setMap,ad.prototype.selected=ad.prototype.selected,ad.prototype.deselected=ad.prototype.deselected,ad.prototype.mapBrowserEvent=ad.prototype.mapBrowserEvent,t("ol.interaction.Snap",sd),sd.prototype.addFeature=sd.prototype.yb,sd.prototype.removeFeature=sd.prototype.Gb,t("ol.interaction.Translate",cd),cd.prototype.getHitTolerance=cd.prototype.B,cd.prototype.setHitTolerance=cd.prototype.I,bd.prototype.features=bd.prototype.features,bd.prototype.coordinate=bd.prototype.coordinate,t("ol.geom.Circle",Xl),Xl.prototype.clone=Xl.prototype.clone,Xl.prototype.getCenter=Xl.prototype.wa;Xl.prototype.getRadius=Xl.prototype.pd;Xl.prototype.getType=Xl.prototype.U,Xl.prototype.intersectsExtent=Xl.prototype.Xa,Xl.prototype.setCenter=Xl.prototype.ob,Xl.prototype.setCenterAndRadius=Xl.prototype.Ng,Xl.prototype.setRadius=Xl.prototype.Uc,Xl.prototype.transform=Xl.prototype.tb,t("ol.geom.Geometry",io),io.prototype.getClosestPoint=io.prototype.Ab,io.prototype.intersectsCoordinate=io.prototype.sb,io.prototype.getExtent=io.prototype.G,io.prototype.rotate=io.prototype.rotate,io.prototype.scale=io.prototype.scale,io.prototype.simplify=io.prototype.Rb,io.prototype.transform=io.prototype.tb,t("ol.geom.GeometryCollection",lh),lh.prototype.clone=lh.prototype.clone,lh.prototype.getGeometries=lh.prototype.Vf,lh.prototype.getType=lh.prototype.U,lh.prototype.intersectsExtent=lh.prototype.Xa,lh.prototype.setGeometries=lh.prototype.oj,lh.prototype.applyTransform=lh.prototype.Dc,lh.prototype.translate=lh.prototype.translate,t("ol.geom.LinearRing",Mo),Mo.prototype.clone=Mo.prototype.clone,Mo.prototype.getArea=Mo.prototype.qn,Mo.prototype.getCoordinates=Mo.prototype.X,Mo.prototype.getType=Mo.prototype.U,Mo.prototype.setCoordinates=Mo.prototype.ma,t("ol.geom.LineString",Mu),Mu.prototype.appendCoordinate=Mu.prototype.mk,Mu.prototype.clone=Mu.prototype.clone,Mu.prototype.forEachSegment=Mu.prototype.Ck,Mu.prototype.getCoordinateAtM=Mu.prototype.nn,Mu.prototype.getCoordinates=Mu.prototype.X,Mu.prototype.getCoordinateAt=Mu.prototype.wh,Mu.prototype.getLength=Mu.prototype.pn,Mu.prototype.getType=Mu.prototype.U,Mu.prototype.intersectsExtent=Mu.prototype.Xa,Mu.prototype.setCoordinates=Mu.prototype.ma,t("ol.geom.MultiLineString",Au),Au.prototype.appendLineString=Au.prototype.nk,Au.prototype.clone=Au.prototype.clone,Au.prototype.getCoordinateAtM=Au.prototype.rn,Au.prototype.getCoordinates=Au.prototype.X,Au.prototype.getLineString=Au.prototype.Yk,Au.prototype.getLineStrings=Au.prototype.gd,Au.prototype.getType=Au.prototype.U,Au.prototype.intersectsExtent=Au.prototype.Xa,Au.prototype.setCoordinates=Au.prototype.ma,t("ol.geom.MultiPoint",Lu),Lu.prototype.appendPoint=Lu.prototype.qk,Lu.prototype.clone=Lu.prototype.clone,Lu.prototype.getCoordinates=Lu.prototype.X,Lu.prototype.getPoint=Lu.prototype.il,Lu.prototype.getPoints=Lu.prototype.Zd,Lu.prototype.getType=Lu.prototype.U,Lu.prototype.intersectsExtent=Lu.prototype.Xa,Lu.prototype.setCoordinates=Lu.prototype.ma,t("ol.geom.MultiPolygon",Nu),Nu.prototype.appendPolygon=Nu.prototype.rk,Nu.prototype.clone=Nu.prototype.clone,Nu.prototype.getArea=Nu.prototype.sn,Nu.prototype.getCoordinates=Nu.prototype.X,Nu.prototype.getInteriorPoints=Nu.prototype.Uk,Nu.prototype.getPolygon=Nu.prototype.jl,Nu.prototype.getPolygons=Nu.prototype.Td,Nu.prototype.getType=Nu.prototype.U,Nu.prototype.intersectsExtent=Nu.prototype.Xa,Nu.prototype.setCoordinates=Nu.prototype.ma,t("ol.geom.Point",Ao),Ao.prototype.clone=Ao.prototype.clone,Ao.prototype.getCoordinates=Ao.prototype.X,Ao.prototype.getType=Ao.prototype.U,Ao.prototype.intersectsExtent=Ao.prototype.Xa,Ao.prototype.setCoordinates=Ao.prototype.ma,t("ol.geom.Polygon",Bo),Bo.prototype.appendLinearRing=Bo.prototype.pk,Bo.prototype.clone=Bo.prototype.clone,Bo.prototype.getArea=Bo.prototype.tn,Bo.prototype.getCoordinates=Bo.prototype.X,Bo.prototype.getInteriorPoint=Bo.prototype.Tk,Bo.prototype.getLinearRingCount=Bo.prototype.Zk,Bo.prototype.getLinearRing=Bo.prototype.Ch,Bo.prototype.getLinearRings=Bo.prototype.Sd,Bo.prototype.getType=Bo.prototype.U,Bo.prototype.intersectsExtent=Bo.prototype.Xa,Bo.prototype.setCoordinates=Bo.prototype.ma,t("ol.geom.Polygon.circular",Uo),t("ol.geom.Polygon.fromExtent",Yo),t("ol.geom.Polygon.fromCircle",Go),t("ol.geom.SimpleGeometry",so),so.prototype.getFirstCoordinate=so.prototype.ac,so.prototype.getLastCoordinate=so.prototype.bc,so.prototype.getLayout=so.prototype.cc,so.prototype.applyTransform=so.prototype.Dc,so.prototype.translate=so.prototype.translate,t("ol.format.EsriJSON",Du),Du.prototype.readFeature=Du.prototype.Tb,Du.prototype.readFeatures=Du.prototype.Oa,Du.prototype.readGeometry=Du.prototype.Sc,Du.prototype.readProjection=Du.prototype.kb,Du.prototype.writeGeometry=Du.prototype.$c,Du.prototype.writeGeometryObject=Du.prototype.je,Du.prototype.writeFeature=Du.prototype.Bd,Du.prototype.writeFeatureObject=Du.prototype.Zc,Du.prototype.writeFeatures=Du.prototype.Wb,Du.prototype.writeFeaturesObject=Du.prototype.he,t("ol.format.Feature",gu),t("ol.format.filter.and",hh),t("ol.format.filter.or",function(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(sh,e))}),t("ol.format.filter.not",function(t){return new rh(t)}),t("ol.format.filter.bbox",ph),t("ol.format.filter.intersects",function(t,e,n){return new Qu(t,e,n)}),t("ol.format.filter.within",function(t,e,n){return new uh(t,e,n)}),t("ol.format.filter.equalTo",function(t,e,n){return new Vu(t,e,n)}),t("ol.format.filter.notEqualTo",function(t,e,n){return new ah(t,e,n)}),t("ol.format.filter.lessThan",function(t,e){return new oh(t,e)}),t("ol.format.filter.lessThanOrEqualTo",function(t,e){return new ih(t,e)}),t("ol.format.filter.greaterThan",function(t,e){return new $u(t,e)}),t("ol.format.filter.greaterThanOrEqualTo",function(t,e){return new Zu(t,e)}),t("ol.format.filter.isNull",function(t){return new nh(t)}),t("ol.format.filter.between",function(t,e,n){return new th(t,e,n)}),t("ol.format.filter.like",function(t,e,n,o,i,r){return new eh(t,e,n,o,i,r)}),t("ol.format.filter.during",function(t,e,n){return new Hu(t,e,n)}),t("ol.format.GeoJSON",yh),yh.prototype.readFeature=yh.prototype.Tb,yh.prototype.readFeatures=yh.prototype.Oa,yh.prototype.readGeometry=yh.prototype.Sc,yh.prototype.readProjection=yh.prototype.kb,yh.prototype.writeFeature=yh.prototype.Bd,yh.prototype.writeFeatureObject=yh.prototype.Zc,yh.prototype.writeFeatures=yh.prototype.Wb,yh.prototype.writeFeaturesObject=yh.prototype.he,yh.prototype.writeGeometry=yh.prototype.$c,yh.prototype.writeGeometryObject=yh.prototype.je,t("ol.format.GML",kh),kh.prototype.writeFeatures=kh.prototype.Wb,kh.prototype.writeFeaturesNode=kh.prototype.Xb,t("ol.format.GML2",Fh),t("ol.format.GML3",kh),kh.prototype.writeGeometryNode=kh.prototype.ie,kh.prototype.writeFeatures=kh.prototype.Wb,kh.prototype.writeFeaturesNode=kh.prototype.Xb,xh.prototype.readFeatures=xh.prototype.Oa,t("ol.format.GPX",Bh),Bh.prototype.readFeature=Bh.prototype.Tb,Bh.prototype.readFeatures=Bh.prototype.Oa,Bh.prototype.readProjection=Bh.prototype.kb,Bh.prototype.writeFeatures=Bh.prototype.Wb,Bh.prototype.writeFeaturesNode=Bh.prototype.Xb,t("ol.format.IGC",tp),tp.prototype.readFeature=tp.prototype.Tb,tp.prototype.readFeatures=tp.prototype.Oa,tp.prototype.readProjection=tp.prototype.kb,t("ol.format.KML",rp),rp.prototype.readFeature=rp.prototype.Tb,rp.prototype.readFeatures=rp.prototype.Oa,rp.prototype.readName=rp.prototype.Cp,rp.prototype.readNetworkLinks=rp.prototype.Dp,rp.prototype.readRegion=rp.prototype.Gp,rp.prototype.readRegionFromNode=rp.prototype.lf,rp.prototype.readProjection=rp.prototype.kb,rp.prototype.writeFeatures=rp.prototype.Wb,rp.prototype.writeFeaturesNode=rp.prototype.Xb,t("ol.format.MVT",Bp),Bp.prototype.readFeatures=Bp.prototype.Oa,Bp.prototype.readProjection=Bp.prototype.kb,Bp.prototype.setLayers=Bp.prototype.mn,t("ol.format.OSMXML",Up),Up.prototype.readFeatures=Up.prototype.Oa,Up.prototype.readProjection=Up.prototype.kb,t("ol.format.Polyline",qp),t("ol.format.Polyline.encodeDeltas",Vp),t("ol.format.Polyline.decodeDeltas",$p),t("ol.format.Polyline.encodeFloats",Zp),t("ol.format.Polyline.decodeFloats",Jp),qp.prototype.readFeature=qp.prototype.Tb,qp.prototype.readFeatures=qp.prototype.Oa,qp.prototype.readGeometry=qp.prototype.Sc,qp.prototype.readProjection=qp.prototype.kb,qp.prototype.writeGeometry=qp.prototype.$c,t("ol.format.TopoJSON",Qp),Qp.prototype.readFeatures=Qp.prototype.Oa,Qp.prototype.readProjection=Qp.prototype.kb,t("ol.format.WFS",il),il.prototype.readFeatures=il.prototype.Oa,il.prototype.readTransactionResponse=il.prototype.j,il.prototype.readFeatureCollectionMetadata=il.prototype.g,t("ol.format.WFS.writeFilter",function(t){var e=Vs("http://www.opengis.net/ogc","Filter");return du({node:e},V_,uu(t.kc),[t],[]),e}),il.prototype.writeGetFeature=il.prototype.l,il.prototype.writeTransaction=il.prototype.v,il.prototype.readProjection=il.prototype.kb,t("ol.format.WKT",vl),vl.prototype.readFeature=vl.prototype.Tb,vl.prototype.readFeatures=vl.prototype.Oa,vl.prototype.readGeometry=vl.prototype.Sc,vl.prototype.writeFeature=vl.prototype.Bd,vl.prototype.writeFeatures=vl.prototype.Wb,vl.prototype.writeGeometry=vl.prototype.$c,t("ol.format.WMSCapabilities",Nl);Nl.prototype.read=Nl.prototype.read;t("ol.format.WMSGetFeatureInfo",Dl),Dl.prototype.readFeatures=Dl.prototype.Oa,t("ol.format.WMTSCapabilities",jl),jl.prototype.read=jl.prototype.read,t("ol.format.filter.And",Gu),t("ol.format.filter.Bbox",Wu),t("ol.format.filter.Comparison",zu),t("ol.format.filter.ComparisonBinary",qu),t("ol.format.filter.During",Hu),t("ol.format.filter.EqualTo",Vu),t("ol.format.filter.Filter",Uu),t("ol.format.filter.GreaterThan",$u),t("ol.format.filter.GreaterThanOrEqualTo",Zu),t("ol.format.filter.Intersects",Qu),t("ol.format.filter.IsBetween",th),t("ol.format.filter.IsLike",eh),t("ol.format.filter.IsNull",nh),t("ol.format.filter.LessThan",oh),t("ol.format.filter.LessThanOrEqualTo",ih),t("ol.format.filter.Not",rh),t("ol.format.filter.NotEqualTo",ah),t("ol.format.filter.Or",sh),t("ol.format.filter.Spatial",Ju),t("ol.format.filter.Within",uh),t("ol.events.condition.altKeyOnly",function(t){return t=t.originalEvent,t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}),t("ol.events.condition.altShiftKeysOnly",ci),t("ol.events.condition.always",no),t("ol.events.condition.click",function(t){return"click"==t.type}),t("ol.events.condition.never",oo),t("ol.events.condition.pointerMove",di),t("ol.events.condition.singleClick",yi),t("ol.events.condition.doubleClick",function(t){return"dblclick"==t.type}),t("ol.events.condition.noModifierKeys",vi),t("ol.events.condition.platformModifierKeyOnly",function(t){return t=t.originalEvent,!t.altKey&&(Hv?t.metaKey:t.ctrlKey)&&!t.shiftKey}),t("ol.events.condition.shiftKeyOnly",gi),t("ol.events.condition.targetNotEditable",mi),t("ol.events.condition.mouseOnly",bi),t("ol.events.condition.primaryAction",_i),le.prototype.type=le.prototype.type,le.prototype.target=le.prototype.target,le.prototype.preventDefault=le.prototype.preventDefault,le.prototype.stopPropagation=le.prototype.stopPropagation,t("ol.control.Attribution",Ne),t("ol.control.Attribution.render",Oe),Ne.prototype.getCollapsible=Ne.prototype.Um,Ne.prototype.setCollapsible=Ne.prototype.Xm,Ne.prototype.setCollapsed=Ne.prototype.Wm,Ne.prototype.getCollapsed=Ne.prototype.Tm,t("ol.control.Control",Le),Le.prototype.getMap=Le.prototype.g,Le.prototype.setMap=Le.prototype.setMap,Le.prototype.setTarget=Le.prototype.f,t("ol.control.FullScreen",Ye),t("ol.control.MousePosition",He),t("ol.control.MousePosition.render",qe),He.prototype.getCoordinateFormat=He.prototype.xh,He.prototype.getProjection=He.prototype.Zh,He.prototype.setCoordinateFormat=He.prototype.kj,He.prototype.setProjection=He.prototype.$h,t("ol.control.OverviewMap",Ps),t("ol.control.OverviewMap.render",Ss),Ps.prototype.getCollapsible=Ps.prototype.$m,Ps.prototype.setCollapsible=Ps.prototype.cn,Ps.prototype.setCollapsed=Ps.prototype.bn,Ps.prototype.getCollapsed=Ps.prototype.Zm,Ps.prototype.getOverviewMap=Ps.prototype.gl,t("ol.control.Rotate",Ke),t("ol.control.Rotate.render",Be),t("ol.control.ScaleLine",As),As.prototype.getUnits=As.prototype.C,t("ol.control.ScaleLine.render",Es),As.prototype.setUnits=As.prototype.I,t("ol.control.Zoom",Xe),t("ol.control.ZoomSlider",Ls),t("ol.control.ZoomSlider.render",Ns),t("ol.control.ZoomToExtent",Rs),ve.prototype.changed=ve.prototype.s,ve.prototype.dispatchEvent=ve.prototype.b,ve.prototype.getRevision=ve.prototype.L,ve.prototype.on=ve.prototype.J,ve.prototype.once=ve.prototype.once,ve.prototype.un=ve.prototype.K,_e.prototype.get=_e.prototype.get,_e.prototype.getKeys=_e.prototype.O,_e.prototype.getProperties=_e.prototype.N,_e.prototype.set=_e.prototype.set,_e.prototype.setProperties=_e.prototype.H,_e.prototype.unset=_e.prototype.P,_e.prototype.changed=_e.prototype.s,_e.prototype.dispatchEvent=_e.prototype.b,_e.prototype.getRevision=_e.prototype.L,_e.prototype.on=_e.prototype.J,_e.prototype.once=_e.prototype.once,_e.prototype.un=_e.prototype.K,Pe.prototype.type=Pe.prototype.type,Pe.prototype.target=Pe.prototype.target,Pe.prototype.preventDefault=Pe.prototype.preventDefault,Pe.prototype.stopPropagation=Pe.prototype.stopPropagation,Fs.prototype.get=Fs.prototype.get,Fs.prototype.getKeys=Fs.prototype.O,Fs.prototype.getProperties=Fs.prototype.N,Fs.prototype.set=Fs.prototype.set,Fs.prototype.setProperties=Fs.prototype.H,Fs.prototype.unset=Fs.prototype.P,Fs.prototype.changed=Fs.prototype.s,Fs.prototype.dispatchEvent=Fs.prototype.b,Fs.prototype.getRevision=Fs.prototype.L,Fs.prototype.on=Fs.prototype.J,Fs.prototype.once=Fs.prototype.once,Fs.prototype.un=Fs.prototype.K,Hs.prototype.get=Hs.prototype.get,Hs.prototype.getKeys=Hs.prototype.O,Hs.prototype.getProperties=Hs.prototype.N,Hs.prototype.set=Hs.prototype.set,Hs.prototype.setProperties=Hs.prototype.H,Hs.prototype.unset=Hs.prototype.P,Hs.prototype.changed=Hs.prototype.s,Hs.prototype.dispatchEvent=Hs.prototype.b,Hs.prototype.getRevision=Hs.prototype.L,Hs.prototype.on=Hs.prototype.J,Hs.prototype.once=Hs.prototype.once,Hs.prototype.un=Hs.prototype.K,Bl.prototype.get=Bl.prototype.get,Bl.prototype.getKeys=Bl.prototype.O,Bl.prototype.getProperties=Bl.prototype.N,Bl.prototype.set=Bl.prototype.set,Bl.prototype.setProperties=Bl.prototype.H,Bl.prototype.unset=Bl.prototype.P,Bl.prototype.changed=Bl.prototype.s,Bl.prototype.dispatchEvent=Bl.prototype.b,Bl.prototype.getRevision=Bl.prototype.L,Bl.prototype.on=Bl.prototype.J,Bl.prototype.once=Bl.prototype.once,Bl.prototype.un=Bl.prototype.K,ec.prototype.getTileCoord=ec.prototype.f,ec.prototype.load=ec.prototype.load,gs.prototype.get=gs.prototype.get,gs.prototype.getKeys=gs.prototype.O,gs.prototype.getProperties=gs.prototype.N,gs.prototype.set=gs.prototype.set,gs.prototype.setProperties=gs.prototype.H,gs.prototype.unset=gs.prototype.P,gs.prototype.changed=gs.prototype.s,gs.prototype.dispatchEvent=gs.prototype.b,gs.prototype.getRevision=gs.prototype.L,gs.prototype.on=gs.prototype.J,gs.prototype.once=gs.prototype.once,gs.prototype.un=gs.prototype.K,$e.prototype.type=$e.prototype.type,$e.prototype.target=$e.prototype.target,$e.prototype.preventDefault=$e.prototype.preventDefault,$e.prototype.stopPropagation=$e.prototype.stopPropagation,Ze.prototype.map=Ze.prototype.map,Ze.prototype.frameState=Ze.prototype.frameState,Ze.prototype.type=Ze.prototype.type,Ze.prototype.target=Ze.prototype.target,Ze.prototype.preventDefault=Ze.prototype.preventDefault,Ze.prototype.stopPropagation=Ze.prototype.stopPropagation,Qe.prototype.originalEvent=Qe.prototype.originalEvent,Qe.prototype.pixel=Qe.prototype.pixel,Qe.prototype.coordinate=Qe.prototype.coordinate,Qe.prototype.dragging=Qe.prototype.dragging,Qe.prototype.preventDefault=Qe.prototype.preventDefault,Qe.prototype.stopPropagation=Qe.prototype.stopPropagation,Qe.prototype.map=Qe.prototype.map,Qe.prototype.frameState=Qe.prototype.frameState,Qe.prototype.type=Qe.prototype.type,Qe.prototype.target=Qe.prototype.target,be.prototype.type=be.prototype.type,be.prototype.target=be.prototype.target,be.prototype.preventDefault=be.prototype.preventDefault,be.prototype.stopPropagation=be.prototype.stopPropagation,bs.prototype.get=bs.prototype.get,bs.prototype.getKeys=bs.prototype.O,bs.prototype.getProperties=bs.prototype.N,bs.prototype.set=bs.prototype.set,bs.prototype.setProperties=bs.prototype.H,bs.prototype.unset=bs.prototype.P,bs.prototype.changed=bs.prototype.s,bs.prototype.dispatchEvent=bs.prototype.b,bs.prototype.getRevision=bs.prototype.L,bs.prototype.on=bs.prototype.J,bs.prototype.once=bs.prototype.once,bs.prototype.un=bs.prototype.K,$y.prototype.getTileCoord=$y.prototype.f,$y.prototype.load=$y.prototype.load,Jy.prototype.getTileCoord=Jy.prototype.f,Jy.prototype.load=Jy.prototype.load,zo.prototype.get=zo.prototype.get,zo.prototype.getKeys=zo.prototype.O,zo.prototype.getProperties=zo.prototype.N,zo.prototype.set=zo.prototype.set,zo.prototype.setProperties=zo.prototype.H,zo.prototype.unset=zo.prototype.P,zo.prototype.changed=zo.prototype.s,zo.prototype.dispatchEvent=zo.prototype.b,zo.prototype.getRevision=zo.prototype.L,zo.prototype.on=zo.prototype.J,zo.prototype.once=zo.prototype.once,zo.prototype.un=zo.prototype.K;tv.prototype.forEachTileCoord=tv.prototype.Rf;tv.prototype.getMaxZoom=tv.prototype.Ti,tv.prototype.getMinZoom=tv.prototype.Ui,tv.prototype.getOrigin=tv.prototype.Pc,tv.prototype.getResolution=tv.prototype.Da,tv.prototype.getResolutions=tv.prototype.Vi,tv.prototype.getTileCoordExtent=tv.prototype.Aa,tv.prototype.getTileCoordForCoordAndResolution=tv.prototype.Be,tv.prototype.getTileCoordForCoordAndZ=tv.prototype.bg,tv.prototype.getTileSize=tv.prototype.gb,tv.prototype.getZForResolution=tv.prototype.tc,js.prototype.getOpacity=js.prototype.Ze,js.prototype.getRotateWithView=js.prototype.$e,js.prototype.getRotation=js.prototype.af,js.prototype.getScale=js.prototype.bf,js.prototype.getSnapToPixel=js.prototype.Ae,js.prototype.setOpacity=js.prototype.td,js.prototype.setRotation=js.prototype.cf,js.prototype.setScale=js.prototype.ud,Bs.prototype.clone=Bs.prototype.clone,Bs.prototype.getAngle=Bs.prototype.Pi,Bs.prototype.getFill=Bs.prototype.Fa,Bs.prototype.getPoints=Bs.prototype.Qi,Bs.prototype.getRadius=Bs.prototype.Ri,Bs.prototype.getRadius2=Bs.prototype.Fh,Bs.prototype.getStroke=Bs.prototype.Ga,Bs.prototype.getOpacity=Bs.prototype.Ze,Bs.prototype.getRotateWithView=Bs.prototype.$e,Bs.prototype.getRotation=Bs.prototype.af,Bs.prototype.getScale=Bs.prototype.bf,Bs.prototype.getSnapToPixel=Bs.prototype.Ae,Bs.prototype.setOpacity=Bs.prototype.td,Bs.prototype.setRotation=Bs.prototype.cf,Bs.prototype.setScale=Bs.prototype.ud,op.prototype.getOpacity=op.prototype.Ze,op.prototype.getRotateWithView=op.prototype.$e,op.prototype.getRotation=op.prototype.af,op.prototype.getScale=op.prototype.bf,op.prototype.getSnapToPixel=op.prototype.Ae,op.prototype.setOpacity=op.prototype.td,op.prototype.setRotation=op.prototype.cf,op.prototype.setScale=op.prototype.ud,rf.prototype.get=rf.prototype.get,rf.prototype.getKeys=rf.prototype.O,rf.prototype.getProperties=rf.prototype.N,rf.prototype.set=rf.prototype.set,rf.prototype.setProperties=rf.prototype.H,rf.prototype.unset=rf.prototype.P,rf.prototype.changed=rf.prototype.s,rf.prototype.dispatchEvent=rf.prototype.b,rf.prototype.getRevision=rf.prototype.L,rf.prototype.on=rf.prototype.J,rf.prototype.once=rf.prototype.once,rf.prototype.un=rf.prototype.K,ry.prototype.getAttributions=ry.prototype.ya,ry.prototype.getLogo=ry.prototype.xa,ry.prototype.getProjection=ry.prototype.za,ry.prototype.getState=ry.prototype.getState,ry.prototype.refresh=ry.prototype.sa,ry.prototype.setAttributions=ry.prototype.ua,ry.prototype.get=ry.prototype.get,ry.prototype.getKeys=ry.prototype.O,ry.prototype.getProperties=ry.prototype.N,ry.prototype.set=ry.prototype.set,ry.prototype.setProperties=ry.prototype.H,ry.prototype.unset=ry.prototype.P,ry.prototype.changed=ry.prototype.s,ry.prototype.dispatchEvent=ry.prototype.b,ry.prototype.getRevision=ry.prototype.L,ry.prototype.on=ry.prototype.J,ry.prototype.once=ry.prototype.once,ry.prototype.un=ry.prototype.K,py.prototype.getTileGrid=py.prototype.ab,py.prototype.refresh=py.prototype.sa,py.prototype.getAttributions=py.prototype.ya,py.prototype.getLogo=py.prototype.xa,py.prototype.getProjection=py.prototype.za,py.prototype.getState=py.prototype.getState,py.prototype.setAttributions=py.prototype.ua,py.prototype.get=py.prototype.get,py.prototype.getKeys=py.prototype.O,py.prototype.getProperties=py.prototype.N,py.prototype.set=py.prototype.set,py.prototype.setProperties=py.prototype.H,py.prototype.unset=py.prototype.P,py.prototype.changed=py.prototype.s,py.prototype.dispatchEvent=py.prototype.b,py.prototype.getRevision=py.prototype.L,py.prototype.on=py.prototype.J,py.prototype.once=py.prototype.once,py.prototype.un=py.prototype.K,ly.prototype.getTileLoadFunction=ly.prototype.pb,ly.prototype.getTileUrlFunction=ly.prototype.qb,ly.prototype.getUrls=ly.prototype.rb,ly.prototype.setTileLoadFunction=ly.prototype.vb,ly.prototype.setTileUrlFunction=ly.prototype.cb,ly.prototype.setUrl=ly.prototype.jb,ly.prototype.setUrls=ly.prototype.eb,ly.prototype.getTileGrid=ly.prototype.ab,ly.prototype.refresh=ly.prototype.sa,ly.prototype.getAttributions=ly.prototype.ya,ly.prototype.getLogo=ly.prototype.xa,ly.prototype.getProjection=ly.prototype.za,ly.prototype.getState=ly.prototype.getState,ly.prototype.setAttributions=ly.prototype.ua,ly.prototype.get=ly.prototype.get,ly.prototype.getKeys=ly.prototype.O,ly.prototype.getProperties=ly.prototype.N,ly.prototype.set=ly.prototype.set,ly.prototype.setProperties=ly.prototype.H,ly.prototype.unset=ly.prototype.P,ly.prototype.changed=ly.prototype.s,ly.prototype.dispatchEvent=ly.prototype.b,ly.prototype.getRevision=ly.prototype.L,ly.prototype.on=ly.prototype.J,ly.prototype.once=ly.prototype.once,ly.prototype.un=ly.prototype.K,yy.prototype.setRenderReprojectionEdges=yy.prototype.Pb,yy.prototype.setTileGridForProjection=yy.prototype.Qb,yy.prototype.getTileLoadFunction=yy.prototype.pb,yy.prototype.getTileUrlFunction=yy.prototype.qb,yy.prototype.getUrls=yy.prototype.rb,yy.prototype.setTileLoadFunction=yy.prototype.vb,yy.prototype.setTileUrlFunction=yy.prototype.cb,yy.prototype.setUrl=yy.prototype.jb,yy.prototype.setUrls=yy.prototype.eb,yy.prototype.getTileGrid=yy.prototype.ab,yy.prototype.refresh=yy.prototype.sa,yy.prototype.getAttributions=yy.prototype.ya,yy.prototype.getLogo=yy.prototype.xa,yy.prototype.getProjection=yy.prototype.za,yy.prototype.getState=yy.prototype.getState,yy.prototype.setAttributions=yy.prototype.ua,yy.prototype.get=yy.prototype.get,yy.prototype.getKeys=yy.prototype.O,yy.prototype.getProperties=yy.prototype.N,yy.prototype.set=yy.prototype.set,yy.prototype.setProperties=yy.prototype.H,yy.prototype.unset=yy.prototype.P,yy.prototype.changed=yy.prototype.s,yy.prototype.dispatchEvent=yy.prototype.b,yy.prototype.getRevision=yy.prototype.L,yy.prototype.on=yy.prototype.J,yy.prototype.once=yy.prototype.once,yy.prototype.un=yy.prototype.K,vy.prototype.setRenderReprojectionEdges=vy.prototype.Pb,vy.prototype.setTileGridForProjection=vy.prototype.Qb,vy.prototype.getTileLoadFunction=vy.prototype.pb,vy.prototype.getTileUrlFunction=vy.prototype.qb,vy.prototype.getUrls=vy.prototype.rb,vy.prototype.setTileLoadFunction=vy.prototype.vb,vy.prototype.setTileUrlFunction=vy.prototype.cb,vy.prototype.setUrl=vy.prototype.jb,vy.prototype.setUrls=vy.prototype.eb,vy.prototype.getTileGrid=vy.prototype.ab,vy.prototype.refresh=vy.prototype.sa,vy.prototype.getAttributions=vy.prototype.ya,vy.prototype.getLogo=vy.prototype.xa,vy.prototype.getProjection=vy.prototype.za,vy.prototype.getState=vy.prototype.getState,vy.prototype.setAttributions=vy.prototype.ua,vy.prototype.get=vy.prototype.get,vy.prototype.getKeys=vy.prototype.O,vy.prototype.getProperties=vy.prototype.N,vy.prototype.set=vy.prototype.set,vy.prototype.setProperties=vy.prototype.H,vy.prototype.unset=vy.prototype.P,vy.prototype.changed=vy.prototype.s,vy.prototype.dispatchEvent=vy.prototype.b,vy.prototype.getRevision=vy.prototype.L,vy.prototype.on=vy.prototype.J,vy.prototype.once=vy.prototype.once,vy.prototype.un=vy.prototype.K,gy.prototype.setRenderReprojectionEdges=gy.prototype.Pb,gy.prototype.setTileGridForProjection=gy.prototype.Qb,gy.prototype.getTileLoadFunction=gy.prototype.pb,gy.prototype.getTileUrlFunction=gy.prototype.qb,gy.prototype.getUrls=gy.prototype.rb,gy.prototype.setTileLoadFunction=gy.prototype.vb,gy.prototype.setTileUrlFunction=gy.prototype.cb,gy.prototype.setUrl=gy.prototype.jb,gy.prototype.setUrls=gy.prototype.eb,gy.prototype.getTileGrid=gy.prototype.ab,gy.prototype.refresh=gy.prototype.sa,gy.prototype.getAttributions=gy.prototype.ya,gy.prototype.getLogo=gy.prototype.xa,gy.prototype.getProjection=gy.prototype.za,gy.prototype.getState=gy.prototype.getState,gy.prototype.setAttributions=gy.prototype.ua,gy.prototype.get=gy.prototype.get,gy.prototype.getKeys=gy.prototype.O,gy.prototype.getProperties=gy.prototype.N,gy.prototype.set=gy.prototype.set,gy.prototype.setProperties=gy.prototype.H,gy.prototype.unset=gy.prototype.P,gy.prototype.changed=gy.prototype.s,gy.prototype.dispatchEvent=gy.prototype.b,gy.prototype.getRevision=gy.prototype.L,gy.prototype.on=gy.prototype.J,gy.prototype.once=gy.prototype.once,gy.prototype.un=gy.prototype.K;uf.prototype.getAttributions=uf.prototype.ya;uf.prototype.getLogo=uf.prototype.xa,uf.prototype.getProjection=uf.prototype.za,uf.prototype.getState=uf.prototype.getState,uf.prototype.refresh=uf.prototype.sa,uf.prototype.setAttributions=uf.prototype.ua,uf.prototype.get=uf.prototype.get,uf.prototype.getKeys=uf.prototype.O,uf.prototype.getProperties=uf.prototype.N,uf.prototype.set=uf.prototype.set,uf.prototype.setProperties=uf.prototype.H,uf.prototype.unset=uf.prototype.P,uf.prototype.changed=uf.prototype.s,uf.prototype.dispatchEvent=uf.prototype.b,uf.prototype.getRevision=uf.prototype.L,uf.prototype.on=uf.prototype.J,uf.prototype.once=uf.prototype.once,uf.prototype.un=uf.prototype.K,_y.prototype.addFeature=_y.prototype.yb,_y.prototype.addFeatures=_y.prototype.cd,_y.prototype.clear=_y.prototype.clear,_y.prototype.forEachFeature=_y.prototype.sh,_y.prototype.forEachFeatureInExtent=_y.prototype.$b,_y.prototype.forEachFeatureIntersectingExtent=_y.prototype.th,_y.prototype.getFeaturesCollection=_y.prototype.Ah,_y.prototype.getFeatures=_y.prototype.Xe,_y.prototype.getFeaturesAtCoordinate=_y.prototype.zh,_y.prototype.getFeaturesInExtent=_y.prototype.Uf,_y.prototype.getClosestFeatureToCoordinate=_y.prototype.vh,_y.prototype.getExtent=_y.prototype.G,_y.prototype.getFeatureById=_y.prototype.yh,_y.prototype.getFormat=_y.prototype.Mi,_y.prototype.getUrl=_y.prototype.Ni,_y.prototype.removeFeature=_y.prototype.Gb,_y.prototype.getAttributions=_y.prototype.ya,_y.prototype.getLogo=_y.prototype.xa,_y.prototype.getProjection=_y.prototype.za,_y.prototype.getState=_y.prototype.getState,_y.prototype.refresh=_y.prototype.sa,_y.prototype.setAttributions=_y.prototype.ua,_y.prototype.get=_y.prototype.get,_y.prototype.getKeys=_y.prototype.O,_y.prototype.getProperties=_y.prototype.N,_y.prototype.set=_y.prototype.set,_y.prototype.setProperties=_y.prototype.H,_y.prototype.unset=_y.prototype.P,_y.prototype.changed=_y.prototype.s,_y.prototype.dispatchEvent=_y.prototype.b,_y.prototype.getRevision=_y.prototype.L,_y.prototype.on=_y.prototype.J,_y.prototype.once=_y.prototype.once,_y.prototype.un=_y.prototype.K,Id.prototype.getAttributions=Id.prototype.ya,Id.prototype.getLogo=Id.prototype.xa,Id.prototype.getProjection=Id.prototype.za,Id.prototype.getState=Id.prototype.getState,Id.prototype.refresh=Id.prototype.sa,Id.prototype.setAttributions=Id.prototype.ua,Id.prototype.get=Id.prototype.get,Id.prototype.getKeys=Id.prototype.O,Id.prototype.getProperties=Id.prototype.N,Id.prototype.set=Id.prototype.set,Id.prototype.setProperties=Id.prototype.H,Id.prototype.unset=Id.prototype.P,Id.prototype.changed=Id.prototype.s,Id.prototype.dispatchEvent=Id.prototype.b,Id.prototype.getRevision=Id.prototype.L,Id.prototype.on=Id.prototype.J,Id.prototype.once=Id.prototype.once,Id.prototype.un=Id.prototype.K,Od.prototype.type=Od.prototype.type,Od.prototype.target=Od.prototype.target,Od.prototype.preventDefault=Od.prototype.preventDefault,Od.prototype.stopPropagation=Od.prototype.stopPropagation,Sy.prototype.getAttributions=Sy.prototype.ya,Sy.prototype.getLogo=Sy.prototype.xa,Sy.prototype.getProjection=Sy.prototype.za,Sy.prototype.getState=Sy.prototype.getState,Sy.prototype.refresh=Sy.prototype.sa,Sy.prototype.setAttributions=Sy.prototype.ua,Sy.prototype.get=Sy.prototype.get,Sy.prototype.getKeys=Sy.prototype.O,Sy.prototype.getProperties=Sy.prototype.N,Sy.prototype.set=Sy.prototype.set,Sy.prototype.setProperties=Sy.prototype.H,Sy.prototype.unset=Sy.prototype.P,Sy.prototype.changed=Sy.prototype.s,Sy.prototype.dispatchEvent=Sy.prototype.b,Sy.prototype.getRevision=Sy.prototype.L,Sy.prototype.on=Sy.prototype.J,Sy.prototype.once=Sy.prototype.once,Sy.prototype.un=Sy.prototype.K,kd.prototype.getAttributions=kd.prototype.ya,kd.prototype.getLogo=kd.prototype.xa,kd.prototype.getProjection=kd.prototype.za,kd.prototype.getState=kd.prototype.getState,kd.prototype.refresh=kd.prototype.sa,kd.prototype.setAttributions=kd.prototype.ua,kd.prototype.get=kd.prototype.get,kd.prototype.getKeys=kd.prototype.O,kd.prototype.getProperties=kd.prototype.N,kd.prototype.set=kd.prototype.set,kd.prototype.setProperties=kd.prototype.H,kd.prototype.unset=kd.prototype.P,kd.prototype.changed=kd.prototype.s,kd.prototype.dispatchEvent=kd.prototype.b,kd.prototype.getRevision=kd.prototype.L,kd.prototype.on=kd.prototype.J,kd.prototype.once=kd.prototype.once,kd.prototype.un=kd.prototype.K,Cy.prototype.getAttributions=Cy.prototype.ya,Cy.prototype.getLogo=Cy.prototype.xa,Cy.prototype.getProjection=Cy.prototype.za,Cy.prototype.getState=Cy.prototype.getState,Cy.prototype.refresh=Cy.prototype.sa,Cy.prototype.setAttributions=Cy.prototype.ua,Cy.prototype.get=Cy.prototype.get,Cy.prototype.getKeys=Cy.prototype.O,Cy.prototype.getProperties=Cy.prototype.N,Cy.prototype.set=Cy.prototype.set,Cy.prototype.setProperties=Cy.prototype.H,Cy.prototype.unset=Cy.prototype.P,
Cy.prototype.changed=Cy.prototype.s,Cy.prototype.dispatchEvent=Cy.prototype.b,Cy.prototype.getRevision=Cy.prototype.L,Cy.prototype.on=Cy.prototype.J,Cy.prototype.once=Cy.prototype.once,Cy.prototype.un=Cy.prototype.K,My.prototype.getAttributions=My.prototype.ya,My.prototype.getLogo=My.prototype.xa,My.prototype.getProjection=My.prototype.za,My.prototype.getState=My.prototype.getState,My.prototype.refresh=My.prototype.sa,My.prototype.setAttributions=My.prototype.ua,My.prototype.get=My.prototype.get,My.prototype.getKeys=My.prototype.O,My.prototype.getProperties=My.prototype.N,My.prototype.set=My.prototype.set,My.prototype.setProperties=My.prototype.H,My.prototype.unset=My.prototype.P,My.prototype.changed=My.prototype.s,My.prototype.dispatchEvent=My.prototype.b,My.prototype.getRevision=My.prototype.L,My.prototype.on=My.prototype.J,My.prototype.once=My.prototype.once,My.prototype.un=My.prototype.K,Rd.prototype.getAttributions=Rd.prototype.ya,Rd.prototype.getLogo=Rd.prototype.xa,Rd.prototype.getProjection=Rd.prototype.za,Rd.prototype.getState=Rd.prototype.getState,Rd.prototype.refresh=Rd.prototype.sa,Rd.prototype.setAttributions=Rd.prototype.ua,Rd.prototype.get=Rd.prototype.get,Rd.prototype.getKeys=Rd.prototype.O,Rd.prototype.getProperties=Rd.prototype.N,Rd.prototype.set=Rd.prototype.set,Rd.prototype.setProperties=Rd.prototype.H,Rd.prototype.unset=Rd.prototype.P,Rd.prototype.changed=Rd.prototype.s,Rd.prototype.dispatchEvent=Rd.prototype.b,Rd.prototype.getRevision=Rd.prototype.L,Rd.prototype.on=Rd.prototype.J,Rd.prototype.once=Rd.prototype.once,Rd.prototype.un=Rd.prototype.K,Ty.prototype.getAttributions=Ty.prototype.ya,Ty.prototype.getLogo=Ty.prototype.xa,Ty.prototype.getProjection=Ty.prototype.za,Ty.prototype.getState=Ty.prototype.getState,Ty.prototype.refresh=Ty.prototype.sa,Ty.prototype.setAttributions=Ty.prototype.ua,Ty.prototype.get=Ty.prototype.get,Ty.prototype.getKeys=Ty.prototype.O,Ty.prototype.getProperties=Ty.prototype.N,Ty.prototype.set=Ty.prototype.set,Ty.prototype.setProperties=Ty.prototype.H,Ty.prototype.unset=Ty.prototype.P,Ty.prototype.changed=Ty.prototype.s,Ty.prototype.dispatchEvent=Ty.prototype.b,Ty.prototype.getRevision=Ty.prototype.L,Ty.prototype.on=Ty.prototype.J,Ty.prototype.once=Ty.prototype.once,Ty.prototype.un=Ty.prototype.K,Iy.prototype.setRenderReprojectionEdges=Iy.prototype.Pb,Iy.prototype.setTileGridForProjection=Iy.prototype.Qb,Iy.prototype.getTileLoadFunction=Iy.prototype.pb,Iy.prototype.getTileUrlFunction=Iy.prototype.qb,Iy.prototype.getUrls=Iy.prototype.rb,Iy.prototype.setTileLoadFunction=Iy.prototype.vb,Iy.prototype.setTileUrlFunction=Iy.prototype.cb,Iy.prototype.setUrl=Iy.prototype.jb,Iy.prototype.setUrls=Iy.prototype.eb,Iy.prototype.getTileGrid=Iy.prototype.ab,Iy.prototype.refresh=Iy.prototype.sa,Iy.prototype.getAttributions=Iy.prototype.ya,Iy.prototype.getLogo=Iy.prototype.xa,Iy.prototype.getProjection=Iy.prototype.za,Iy.prototype.getState=Iy.prototype.getState,Iy.prototype.setAttributions=Iy.prototype.ua,Iy.prototype.get=Iy.prototype.get,Iy.prototype.getKeys=Iy.prototype.O,Iy.prototype.getProperties=Iy.prototype.N;Iy.prototype.set=Iy.prototype.set;Iy.prototype.setProperties=Iy.prototype.H,Iy.prototype.unset=Iy.prototype.P,Iy.prototype.changed=Iy.prototype.s,Iy.prototype.dispatchEvent=Iy.prototype.b,Iy.prototype.getRevision=Iy.prototype.L,Iy.prototype.on=Iy.prototype.J,Iy.prototype.once=Iy.prototype.once,Iy.prototype.un=Iy.prototype.K,Ly.prototype.getAttributions=Ly.prototype.ya,Ly.prototype.getLogo=Ly.prototype.xa,Ly.prototype.getProjection=Ly.prototype.za,Ly.prototype.getState=Ly.prototype.getState,Ly.prototype.refresh=Ly.prototype.sa,Ly.prototype.setAttributions=Ly.prototype.ua,Ly.prototype.get=Ly.prototype.get,Ly.prototype.getKeys=Ly.prototype.O,Ly.prototype.getProperties=Ly.prototype.N,Ly.prototype.set=Ly.prototype.set,Ly.prototype.setProperties=Ly.prototype.H,Ly.prototype.unset=Ly.prototype.P,Ly.prototype.changed=Ly.prototype.s,Ly.prototype.dispatchEvent=Ly.prototype.b,Ly.prototype.getRevision=Ly.prototype.L,Ly.prototype.on=Ly.prototype.J,Ly.prototype.once=Ly.prototype.once,Ly.prototype.un=Ly.prototype.K,ky.prototype.type=ky.prototype.type,ky.prototype.target=ky.prototype.target,ky.prototype.preventDefault=ky.prototype.preventDefault,ky.prototype.stopPropagation=ky.prototype.stopPropagation,Ry.prototype.setRenderReprojectionEdges=Ry.prototype.Pb,Ry.prototype.setTileGridForProjection=Ry.prototype.Qb,Ry.prototype.getTileLoadFunction=Ry.prototype.pb,Ry.prototype.getTileUrlFunction=Ry.prototype.qb,Ry.prototype.getUrls=Ry.prototype.rb,Ry.prototype.setTileLoadFunction=Ry.prototype.vb,Ry.prototype.setTileUrlFunction=Ry.prototype.cb,Ry.prototype.setUrl=Ry.prototype.jb,Ry.prototype.setUrls=Ry.prototype.eb,Ry.prototype.getTileGrid=Ry.prototype.ab,Ry.prototype.refresh=Ry.prototype.sa,Ry.prototype.getAttributions=Ry.prototype.ya,Ry.prototype.getLogo=Ry.prototype.xa,Ry.prototype.getProjection=Ry.prototype.za,Ry.prototype.getState=Ry.prototype.getState,Ry.prototype.setAttributions=Ry.prototype.ua,Ry.prototype.get=Ry.prototype.get,Ry.prototype.getKeys=Ry.prototype.O,Ry.prototype.getProperties=Ry.prototype.N,Ry.prototype.set=Ry.prototype.set,Ry.prototype.setProperties=Ry.prototype.H,Ry.prototype.unset=Ry.prototype.P,Ry.prototype.changed=Ry.prototype.s,Ry.prototype.dispatchEvent=Ry.prototype.b,Ry.prototype.getRevision=Ry.prototype.L,Ry.prototype.on=Ry.prototype.J,Ry.prototype.once=Ry.prototype.once,Ry.prototype.un=Ry.prototype.K,hy.prototype.type=hy.prototype.type,hy.prototype.target=hy.prototype.target,hy.prototype.preventDefault=hy.prototype.preventDefault,hy.prototype.stopPropagation=hy.prototype.stopPropagation,Fy.prototype.setRenderReprojectionEdges=Fy.prototype.Pb,Fy.prototype.setTileGridForProjection=Fy.prototype.Qb,Fy.prototype.getTileLoadFunction=Fy.prototype.pb,Fy.prototype.getTileUrlFunction=Fy.prototype.qb,Fy.prototype.getUrls=Fy.prototype.rb,Fy.prototype.setTileLoadFunction=Fy.prototype.vb,Fy.prototype.setTileUrlFunction=Fy.prototype.cb,Fy.prototype.setUrl=Fy.prototype.jb,Fy.prototype.setUrls=Fy.prototype.eb,Fy.prototype.getTileGrid=Fy.prototype.ab,Fy.prototype.refresh=Fy.prototype.sa,Fy.prototype.getAttributions=Fy.prototype.ya,Fy.prototype.getLogo=Fy.prototype.xa,Fy.prototype.getProjection=Fy.prototype.za,Fy.prototype.getState=Fy.prototype.getState,Fy.prototype.setAttributions=Fy.prototype.ua,Fy.prototype.get=Fy.prototype.get,Fy.prototype.getKeys=Fy.prototype.O,Fy.prototype.getProperties=Fy.prototype.N,Fy.prototype.set=Fy.prototype.set,Fy.prototype.setProperties=Fy.prototype.H,Fy.prototype.unset=Fy.prototype.P,Fy.prototype.changed=Fy.prototype.s,Fy.prototype.dispatchEvent=Fy.prototype.b,Fy.prototype.getRevision=Fy.prototype.L,Fy.prototype.on=Fy.prototype.J,Fy.prototype.once=Fy.prototype.once,Fy.prototype.un=Fy.prototype.K,jy.prototype.getTileGrid=jy.prototype.ab,jy.prototype.refresh=jy.prototype.sa,jy.prototype.getAttributions=jy.prototype.ya,jy.prototype.getLogo=jy.prototype.xa,jy.prototype.getProjection=jy.prototype.za,jy.prototype.getState=jy.prototype.getState,jy.prototype.setAttributions=jy.prototype.ua,jy.prototype.get=jy.prototype.get,jy.prototype.getKeys=jy.prototype.O,jy.prototype.getProperties=jy.prototype.N,jy.prototype.set=jy.prototype.set,jy.prototype.setProperties=jy.prototype.H,jy.prototype.unset=jy.prototype.P,jy.prototype.changed=jy.prototype.s,jy.prototype.dispatchEvent=jy.prototype.b,jy.prototype.getRevision=jy.prototype.L,jy.prototype.on=jy.prototype.J,jy.prototype.once=jy.prototype.once,jy.prototype.un=jy.prototype.K,By.prototype.setRenderReprojectionEdges=By.prototype.Pb,By.prototype.setTileGridForProjection=By.prototype.Qb,By.prototype.getTileLoadFunction=By.prototype.pb,By.prototype.getTileUrlFunction=By.prototype.qb,By.prototype.getUrls=By.prototype.rb,By.prototype.setTileLoadFunction=By.prototype.vb,By.prototype.setTileUrlFunction=By.prototype.cb,By.prototype.setUrl=By.prototype.jb,By.prototype.setUrls=By.prototype.eb,By.prototype.getTileGrid=By.prototype.ab,By.prototype.refresh=By.prototype.sa,By.prototype.getAttributions=By.prototype.ya,By.prototype.getLogo=By.prototype.xa,By.prototype.getProjection=By.prototype.za,By.prototype.getState=By.prototype.getState,By.prototype.setAttributions=By.prototype.ua,By.prototype.get=By.prototype.get,By.prototype.getKeys=By.prototype.O,By.prototype.getProperties=By.prototype.N,By.prototype.set=By.prototype.set,By.prototype.setProperties=By.prototype.H,By.prototype.unset=By.prototype.P,By.prototype.changed=By.prototype.s,By.prototype.dispatchEvent=By.prototype.b,By.prototype.getRevision=By.prototype.L,By.prototype.on=By.prototype.J,By.prototype.once=By.prototype.once,By.prototype.un=By.prototype.K,Xy.prototype.getTileGrid=Xy.prototype.ab,Xy.prototype.refresh=Xy.prototype.sa,Xy.prototype.getAttributions=Xy.prototype.ya,Xy.prototype.getLogo=Xy.prototype.xa,Xy.prototype.getProjection=Xy.prototype.za,Xy.prototype.getState=Xy.prototype.getState,Xy.prototype.setAttributions=Xy.prototype.ua,Xy.prototype.get=Xy.prototype.get,Xy.prototype.getKeys=Xy.prototype.O,Xy.prototype.getProperties=Xy.prototype.N,Xy.prototype.set=Xy.prototype.set,Xy.prototype.setProperties=Xy.prototype.H,Xy.prototype.unset=Xy.prototype.P,Xy.prototype.changed=Xy.prototype.s,Xy.prototype.dispatchEvent=Xy.prototype.b,Xy.prototype.getRevision=Xy.prototype.L,Xy.prototype.on=Xy.prototype.J,Xy.prototype.once=Xy.prototype.once,Xy.prototype.un=Xy.prototype.K,Wy.prototype.setRenderReprojectionEdges=Wy.prototype.Pb,Wy.prototype.setTileGridForProjection=Wy.prototype.Qb,Wy.prototype.getTileLoadFunction=Wy.prototype.pb,Wy.prototype.getTileUrlFunction=Wy.prototype.qb,Wy.prototype.getUrls=Wy.prototype.rb,Wy.prototype.setTileLoadFunction=Wy.prototype.vb,Wy.prototype.setTileUrlFunction=Wy.prototype.cb,Wy.prototype.setUrl=Wy.prototype.jb,Wy.prototype.setUrls=Wy.prototype.eb,Wy.prototype.getTileGrid=Wy.prototype.ab,Wy.prototype.refresh=Wy.prototype.sa,Wy.prototype.getAttributions=Wy.prototype.ya,Wy.prototype.getLogo=Wy.prototype.xa,Wy.prototype.getProjection=Wy.prototype.za,Wy.prototype.getState=Wy.prototype.getState,Wy.prototype.setAttributions=Wy.prototype.ua,Wy.prototype.get=Wy.prototype.get,Wy.prototype.getKeys=Wy.prototype.O,Wy.prototype.getProperties=Wy.prototype.N,Wy.prototype.set=Wy.prototype.set,Wy.prototype.setProperties=Wy.prototype.H,Wy.prototype.unset=Wy.prototype.P,Wy.prototype.changed=Wy.prototype.s,Wy.prototype.dispatchEvent=Wy.prototype.b,Wy.prototype.getRevision=Wy.prototype.L,Wy.prototype.on=Wy.prototype.J,Wy.prototype.once=Wy.prototype.once,Wy.prototype.un=Wy.prototype.K,yf.prototype.type=yf.prototype.type,yf.prototype.target=yf.prototype.target,yf.prototype.preventDefault=yf.prototype.preventDefault,yf.prototype.stopPropagation=yf.prototype.stopPropagation,Qy.prototype.getTileLoadFunction=Qy.prototype.pb,Qy.prototype.getTileUrlFunction=Qy.prototype.qb,Qy.prototype.getUrls=Qy.prototype.rb,Qy.prototype.setTileLoadFunction=Qy.prototype.vb,Qy.prototype.setTileUrlFunction=Qy.prototype.cb,Qy.prototype.setUrl=Qy.prototype.jb,Qy.prototype.setUrls=Qy.prototype.eb,Qy.prototype.getTileGrid=Qy.prototype.ab,Qy.prototype.refresh=Qy.prototype.sa,Qy.prototype.getAttributions=Qy.prototype.ya,Qy.prototype.getLogo=Qy.prototype.xa,Qy.prototype.getProjection=Qy.prototype.za;Qy.prototype.getState=Qy.prototype.getState;return Qy.prototype.setAttributions=Qy.prototype.ua,Qy.prototype.get=Qy.prototype.get,Qy.prototype.getKeys=Qy.prototype.O,Qy.prototype.getProperties=Qy.prototype.N,Qy.prototype.set=Qy.prototype.set,Qy.prototype.setProperties=Qy.prototype.H,Qy.prototype.unset=Qy.prototype.P,Qy.prototype.changed=Qy.prototype.s,Qy.prototype.dispatchEvent=Qy.prototype.b,Qy.prototype.getRevision=Qy.prototype.L,Qy.prototype.on=Qy.prototype.J,Qy.prototype.once=Qy.prototype.once,Qy.prototype.un=Qy.prototype.K,nv.prototype.setRenderReprojectionEdges=nv.prototype.Pb,nv.prototype.setTileGridForProjection=nv.prototype.Qb,nv.prototype.getTileLoadFunction=nv.prototype.pb,nv.prototype.getTileUrlFunction=nv.prototype.qb,nv.prototype.getUrls=nv.prototype.rb,nv.prototype.setTileLoadFunction=nv.prototype.vb,nv.prototype.setTileUrlFunction=nv.prototype.cb,nv.prototype.setUrl=nv.prototype.jb,nv.prototype.setUrls=nv.prototype.eb,nv.prototype.getTileGrid=nv.prototype.ab,nv.prototype.refresh=nv.prototype.sa,nv.prototype.getAttributions=nv.prototype.ya,nv.prototype.getLogo=nv.prototype.xa,nv.prototype.getProjection=nv.prototype.za,nv.prototype.getState=nv.prototype.getState,nv.prototype.setAttributions=nv.prototype.ua,nv.prototype.get=nv.prototype.get,nv.prototype.getKeys=nv.prototype.O,nv.prototype.getProperties=nv.prototype.N,nv.prototype.set=nv.prototype.set,nv.prototype.setProperties=nv.prototype.H,nv.prototype.unset=nv.prototype.P,nv.prototype.changed=nv.prototype.s,nv.prototype.dispatchEvent=nv.prototype.b,nv.prototype.getRevision=nv.prototype.L,nv.prototype.on=nv.prototype.J,nv.prototype.once=nv.prototype.once,nv.prototype.un=nv.prototype.K,iv.prototype.setRenderReprojectionEdges=iv.prototype.Pb,iv.prototype.setTileGridForProjection=iv.prototype.Qb,iv.prototype.getTileLoadFunction=iv.prototype.pb,iv.prototype.getTileUrlFunction=iv.prototype.qb,iv.prototype.getUrls=iv.prototype.rb,iv.prototype.setTileLoadFunction=iv.prototype.vb,iv.prototype.setTileUrlFunction=iv.prototype.cb,iv.prototype.setUrl=iv.prototype.jb,iv.prototype.setUrls=iv.prototype.eb,iv.prototype.getTileGrid=iv.prototype.ab,iv.prototype.refresh=iv.prototype.sa,iv.prototype.getAttributions=iv.prototype.ya,iv.prototype.getLogo=iv.prototype.xa,iv.prototype.getProjection=iv.prototype.za,iv.prototype.getState=iv.prototype.getState,iv.prototype.setAttributions=iv.prototype.ua,iv.prototype.get=iv.prototype.get,iv.prototype.getKeys=iv.prototype.O,iv.prototype.getProperties=iv.prototype.N,iv.prototype.set=iv.prototype.set,iv.prototype.setProperties=iv.prototype.H,iv.prototype.unset=iv.prototype.P,iv.prototype.changed=iv.prototype.s,iv.prototype.dispatchEvent=iv.prototype.b,iv.prototype.getRevision=iv.prototype.L,iv.prototype.on=iv.prototype.J,iv.prototype.once=iv.prototype.once,iv.prototype.un=iv.prototype.K,Zd.prototype.getTileCoord=Zd.prototype.f,Zd.prototype.load=Zd.prototype.load,Oc.prototype.changed=Oc.prototype.s,Oc.prototype.dispatchEvent=Oc.prototype.b,Oc.prototype.getRevision=Oc.prototype.L,Oc.prototype.on=Oc.prototype.J,Oc.prototype.once=Oc.prototype.once,Oc.prototype.un=Oc.prototype.K,Jc.prototype.changed=Jc.prototype.s,Jc.prototype.dispatchEvent=Jc.prototype.b,Jc.prototype.getRevision=Jc.prototype.L,Jc.prototype.on=Jc.prototype.J,Jc.prototype.once=Jc.prototype.once,Jc.prototype.un=Jc.prototype.K,Dd.prototype.changed=Dd.prototype.s,Dd.prototype.dispatchEvent=Dd.prototype.b,Dd.prototype.getRevision=Dd.prototype.L,Dd.prototype.on=Dd.prototype.J,Dd.prototype.once=Dd.prototype.once,Dd.prototype.un=Dd.prototype.K,zd.prototype.changed=zd.prototype.s,zd.prototype.dispatchEvent=zd.prototype.b,zd.prototype.getRevision=zd.prototype.L,zd.prototype.on=zd.prototype.J,zd.prototype.once=zd.prototype.once,zd.prototype.un=zd.prototype.K,ef.prototype.changed=ef.prototype.s,ef.prototype.dispatchEvent=ef.prototype.b,ef.prototype.getRevision=ef.prototype.L,ef.prototype.on=ef.prototype.J,ef.prototype.once=ef.prototype.once,ef.prototype.un=ef.prototype.K,Xc.prototype.changed=Xc.prototype.s,Xc.prototype.dispatchEvent=Xc.prototype.b,Xc.prototype.getRevision=Xc.prototype.L,Xc.prototype.on=Xc.prototype.J,Xc.prototype.once=Xc.prototype.once,Xc.prototype.un=Xc.prototype.K,xd.prototype.changed=xd.prototype.s,xd.prototype.dispatchEvent=xd.prototype.b,xd.prototype.getRevision=xd.prototype.L,xd.prototype.on=xd.prototype.J,xd.prototype.once=xd.prototype.once,xd.prototype.un=xd.prototype.K,wd.prototype.changed=wd.prototype.s,wd.prototype.dispatchEvent=wd.prototype.b,wd.prototype.getRevision=wd.prototype.L,wd.prototype.on=wd.prototype.J,wd.prototype.once=wd.prototype.once,wd.prototype.un=wd.prototype.K,Xd.prototype.changed=Xd.prototype.s,Xd.prototype.dispatchEvent=Xd.prototype.b,Xd.prototype.getRevision=Xd.prototype.L,Xd.prototype.on=Xd.prototype.J,Xd.prototype.once=Xd.prototype.once,Xd.prototype.un=Xd.prototype.K,qc.prototype.changed=qc.prototype.s,qc.prototype.dispatchEvent=qc.prototype.b,qc.prototype.getRevision=qc.prototype.L,qc.prototype.on=qc.prototype.J,qc.prototype.once=qc.prototype.once,qc.prototype.un=qc.prototype.K,qd.prototype.changed=qd.prototype.s,qd.prototype.dispatchEvent=qd.prototype.b,qd.prototype.getRevision=qd.prototype.L,qd.prototype.on=qd.prototype.J,qd.prototype.once=qd.prototype.once,qd.prototype.un=qd.prototype.K,Mr.prototype.type=Mr.prototype.type,Mr.prototype.target=Mr.prototype.target,Mr.prototype.preventDefault=Mr.prototype.preventDefault,Mr.prototype.stopPropagation=Mr.prototype.stopPropagation,un.prototype.type=un.prototype.type,un.prototype.target=un.prototype.target,un.prototype.preventDefault=un.prototype.preventDefault,un.prototype.stopPropagation=un.prototype.stopPropagation,or.prototype.get=or.prototype.get,or.prototype.getKeys=or.prototype.O,or.prototype.getProperties=or.prototype.N,or.prototype.set=or.prototype.set,or.prototype.setProperties=or.prototype.H,or.prototype.unset=or.prototype.P,or.prototype.changed=or.prototype.s,or.prototype.dispatchEvent=or.prototype.b,or.prototype.getRevision=or.prototype.L,or.prototype.on=or.prototype.J,or.prototype.once=or.prototype.once,or.prototype.un=or.prototype.K,rr.prototype.getExtent=rr.prototype.G,rr.prototype.getMaxResolution=rr.prototype.fc,rr.prototype.getMinResolution=rr.prototype.gc,rr.prototype.getOpacity=rr.prototype.hc,rr.prototype.getVisible=rr.prototype.Mb,rr.prototype.getZIndex=rr.prototype.Ba,rr.prototype.setExtent=rr.prototype.vc,rr.prototype.setMaxResolution=rr.prototype.Ac,rr.prototype.setMinResolution=rr.prototype.Bc,rr.prototype.setOpacity=rr.prototype.wc,rr.prototype.setVisible=rr.prototype.xc,rr.prototype.setZIndex=rr.prototype.Vb,rr.prototype.get=rr.prototype.get,rr.prototype.getKeys=rr.prototype.O,rr.prototype.getProperties=rr.prototype.N,rr.prototype.set=rr.prototype.set,rr.prototype.setProperties=rr.prototype.H,rr.prototype.unset=rr.prototype.P,rr.prototype.changed=rr.prototype.s,rr.prototype.dispatchEvent=rr.prototype.b,rr.prototype.getRevision=rr.prototype.L,rr.prototype.on=rr.prototype.J,rr.prototype.once=rr.prototype.once,rr.prototype.un=rr.prototype.K,ar.prototype.getExtent=ar.prototype.G,ar.prototype.getMaxResolution=ar.prototype.fc,ar.prototype.getMinResolution=ar.prototype.gc,ar.prototype.getOpacity=ar.prototype.hc,ar.prototype.getVisible=ar.prototype.Mb,ar.prototype.getZIndex=ar.prototype.Ba,ar.prototype.setExtent=ar.prototype.vc,ar.prototype.setMaxResolution=ar.prototype.Ac,ar.prototype.setMinResolution=ar.prototype.Bc,ar.prototype.setOpacity=ar.prototype.wc,ar.prototype.setVisible=ar.prototype.xc,ar.prototype.setZIndex=ar.prototype.Vb,ar.prototype.get=ar.prototype.get,ar.prototype.getKeys=ar.prototype.O,ar.prototype.getProperties=ar.prototype.N,ar.prototype.set=ar.prototype.set,ar.prototype.setProperties=ar.prototype.H,ar.prototype.unset=ar.prototype.P,ar.prototype.changed=ar.prototype.s,ar.prototype.dispatchEvent=ar.prototype.b,ar.prototype.getRevision=ar.prototype.L,ar.prototype.on=ar.prototype.J,ar.prototype.once=ar.prototype.once,ar.prototype.un=ar.prototype.K,nf.prototype.setMap=nf.prototype.setMap,nf.prototype.setSource=nf.prototype.Wc,nf.prototype.getExtent=nf.prototype.G,nf.prototype.getMaxResolution=nf.prototype.fc,nf.prototype.getMinResolution=nf.prototype.gc,nf.prototype.getOpacity=nf.prototype.hc,nf.prototype.getVisible=nf.prototype.Mb,nf.prototype.getZIndex=nf.prototype.Ba,nf.prototype.setExtent=nf.prototype.vc,nf.prototype.setMaxResolution=nf.prototype.Ac,nf.prototype.setMinResolution=nf.prototype.Bc,nf.prototype.setOpacity=nf.prototype.wc,nf.prototype.setVisible=nf.prototype.xc,nf.prototype.setZIndex=nf.prototype.Vb,nf.prototype.get=nf.prototype.get,nf.prototype.getKeys=nf.prototype.O,nf.prototype.getProperties=nf.prototype.N,nf.prototype.set=nf.prototype.set,nf.prototype.setProperties=nf.prototype.H,nf.prototype.unset=nf.prototype.P,nf.prototype.changed=nf.prototype.s,nf.prototype.dispatchEvent=nf.prototype.b,nf.prototype.getRevision=nf.prototype.L,nf.prototype.on=nf.prototype.J,nf.prototype.once=nf.prototype.once,nf.prototype.un=nf.prototype.K,_d.prototype.getSource=_d.prototype.ha,_d.prototype.getStyle=_d.prototype.D,_d.prototype.getStyleFunction=_d.prototype.C,_d.prototype.setStyle=_d.prototype.g,_d.prototype.setMap=_d.prototype.setMap,_d.prototype.setSource=_d.prototype.Wc,_d.prototype.getExtent=_d.prototype.G,_d.prototype.getMaxResolution=_d.prototype.fc,_d.prototype.getMinResolution=_d.prototype.gc,_d.prototype.getOpacity=_d.prototype.hc,_d.prototype.getVisible=_d.prototype.Mb,_d.prototype.getZIndex=_d.prototype.Ba,_d.prototype.setExtent=_d.prototype.vc,_d.prototype.setMaxResolution=_d.prototype.Ac,_d.prototype.setMinResolution=_d.prototype.Bc,_d.prototype.setOpacity=_d.prototype.wc,_d.prototype.setVisible=_d.prototype.xc,_d.prototype.setZIndex=_d.prototype.Vb,_d.prototype.get=_d.prototype.get,_d.prototype.getKeys=_d.prototype.O,_d.prototype.getProperties=_d.prototype.N,_d.prototype.set=_d.prototype.set,_d.prototype.setProperties=_d.prototype.H,_d.prototype.unset=_d.prototype.P,_d.prototype.changed=_d.prototype.s,_d.prototype.dispatchEvent=_d.prototype.b,_d.prototype.getRevision=_d.prototype.L,_d.prototype.on=_d.prototype.J,_d.prototype.once=_d.prototype.once,_d.prototype.un=_d.prototype.K,Bd.prototype.setMap=Bd.prototype.setMap,Bd.prototype.setSource=Bd.prototype.Wc,Bd.prototype.getExtent=Bd.prototype.G,Bd.prototype.getMaxResolution=Bd.prototype.fc,Bd.prototype.getMinResolution=Bd.prototype.gc,Bd.prototype.getOpacity=Bd.prototype.hc,Bd.prototype.getVisible=Bd.prototype.Mb,Bd.prototype.getZIndex=Bd.prototype.Ba,Bd.prototype.setExtent=Bd.prototype.vc,Bd.prototype.setMaxResolution=Bd.prototype.Ac,Bd.prototype.setMinResolution=Bd.prototype.Bc,Bd.prototype.setOpacity=Bd.prototype.wc,Bd.prototype.setVisible=Bd.prototype.xc,Bd.prototype.setZIndex=Bd.prototype.Vb,Bd.prototype.get=Bd.prototype.get,Bd.prototype.getKeys=Bd.prototype.O,Bd.prototype.getProperties=Bd.prototype.N,Bd.prototype.set=Bd.prototype.set,Bd.prototype.setProperties=Bd.prototype.H,Bd.prototype.unset=Bd.prototype.P,Bd.prototype.changed=Bd.prototype.s,Bd.prototype.dispatchEvent=Bd.prototype.b,Bd.prototype.getRevision=Bd.prototype.L,Bd.prototype.on=Bd.prototype.J,Bd.prototype.once=Bd.prototype.once,Bd.prototype.un=Bd.prototype.K,Hd.prototype.setMap=Hd.prototype.setMap,Hd.prototype.setSource=Hd.prototype.Wc,Hd.prototype.getExtent=Hd.prototype.G,Hd.prototype.getMaxResolution=Hd.prototype.fc,Hd.prototype.getMinResolution=Hd.prototype.gc,Hd.prototype.getOpacity=Hd.prototype.hc,Hd.prototype.getVisible=Hd.prototype.Mb,Hd.prototype.getZIndex=Hd.prototype.Ba,Hd.prototype.setExtent=Hd.prototype.vc,Hd.prototype.setMaxResolution=Hd.prototype.Ac,Hd.prototype.setMinResolution=Hd.prototype.Bc,Hd.prototype.setOpacity=Hd.prototype.wc,Hd.prototype.setVisible=Hd.prototype.xc,Hd.prototype.setZIndex=Hd.prototype.Vb,Hd.prototype.get=Hd.prototype.get,Hd.prototype.getKeys=Hd.prototype.O,Hd.prototype.getProperties=Hd.prototype.N,Hd.prototype.set=Hd.prototype.set,Hd.prototype.setProperties=Hd.prototype.H,Hd.prototype.unset=Hd.prototype.P,Hd.prototype.changed=Hd.prototype.s,Hd.prototype.dispatchEvent=Hd.prototype.b,Hd.prototype.getRevision=Hd.prototype.L,Hd.prototype.on=Hd.prototype.J,Hd.prototype.once=Hd.prototype.once,Hd.prototype.un=Hd.prototype.K,Vd.prototype.getSource=Vd.prototype.ha,Vd.prototype.getStyle=Vd.prototype.D,Vd.prototype.getStyleFunction=Vd.prototype.C,Vd.prototype.setStyle=Vd.prototype.g,Vd.prototype.setMap=Vd.prototype.setMap,Vd.prototype.setSource=Vd.prototype.Wc,Vd.prototype.getExtent=Vd.prototype.G,Vd.prototype.getMaxResolution=Vd.prototype.fc,Vd.prototype.getMinResolution=Vd.prototype.gc,Vd.prototype.getOpacity=Vd.prototype.hc,Vd.prototype.getVisible=Vd.prototype.Mb,Vd.prototype.getZIndex=Vd.prototype.Ba,Vd.prototype.setExtent=Vd.prototype.vc,Vd.prototype.setMaxResolution=Vd.prototype.Ac,Vd.prototype.setMinResolution=Vd.prototype.Bc,Vd.prototype.setOpacity=Vd.prototype.wc,Vd.prototype.setVisible=Vd.prototype.xc,Vd.prototype.setZIndex=Vd.prototype.Vb,Vd.prototype.get=Vd.prototype.get,Vd.prototype.getKeys=Vd.prototype.O,Vd.prototype.getProperties=Vd.prototype.N,Vd.prototype.set=Vd.prototype.set,Vd.prototype.setProperties=Vd.prototype.H,Vd.prototype.unset=Vd.prototype.P,Vd.prototype.changed=Vd.prototype.s,Vd.prototype.dispatchEvent=Vd.prototype.b,Vd.prototype.getRevision=Vd.prototype.L,Vd.prototype.on=Vd.prototype.J,Vd.prototype.once=Vd.prototype.once,Vd.prototype.un=Vd.prototype.K,ai.prototype.get=ai.prototype.get,ai.prototype.getKeys=ai.prototype.O,ai.prototype.getProperties=ai.prototype.N,ai.prototype.set=ai.prototype.set,ai.prototype.setProperties=ai.prototype.H,ai.prototype.unset=ai.prototype.P,ai.prototype.changed=ai.prototype.s,ai.prototype.dispatchEvent=ai.prototype.b,ai.prototype.getRevision=ai.prototype.L,ai.prototype.on=ai.prototype.J,ai.prototype.once=ai.prototype.once,ai.prototype.un=ai.prototype.K,pi.prototype.getActive=pi.prototype.c,pi.prototype.getMap=pi.prototype.f,pi.prototype.setActive=pi.prototype.Ha,pi.prototype.get=pi.prototype.get,pi.prototype.getKeys=pi.prototype.O,pi.prototype.getProperties=pi.prototype.N,pi.prototype.set=pi.prototype.set,pi.prototype.setProperties=pi.prototype.H,pi.prototype.unset=pi.prototype.P,pi.prototype.changed=pi.prototype.s,pi.prototype.dispatchEvent=pi.prototype.b,pi.prototype.getRevision=pi.prototype.L,pi.prototype.on=pi.prototype.J,pi.prototype.once=pi.prototype.once,pi.prototype.un=pi.prototype.K,oc.prototype.getActive=oc.prototype.c,oc.prototype.getMap=oc.prototype.f,oc.prototype.setActive=oc.prototype.Ha,oc.prototype.get=oc.prototype.get,oc.prototype.getKeys=oc.prototype.O,oc.prototype.getProperties=oc.prototype.N,oc.prototype.set=oc.prototype.set,oc.prototype.setProperties=oc.prototype.H,oc.prototype.unset=oc.prototype.P,oc.prototype.changed=oc.prototype.s,oc.prototype.dispatchEvent=oc.prototype.b,oc.prototype.getRevision=oc.prototype.L,oc.prototype.on=oc.prototype.J,oc.prototype.once=oc.prototype.once,oc.prototype.un=oc.prototype.K,uc.prototype.type=uc.prototype.type,uc.prototype.target=uc.prototype.target,uc.prototype.preventDefault=uc.prototype.preventDefault,uc.prototype.stopPropagation=uc.prototype.stopPropagation,xi.prototype.getActive=xi.prototype.c,xi.prototype.getMap=xi.prototype.f,xi.prototype.setActive=xi.prototype.Ha,xi.prototype.get=xi.prototype.get,xi.prototype.getKeys=xi.prototype.O,xi.prototype.getProperties=xi.prototype.N,xi.prototype.set=xi.prototype.set,xi.prototype.setProperties=xi.prototype.H,xi.prototype.unset=xi.prototype.P,xi.prototype.changed=xi.prototype.s,xi.prototype.dispatchEvent=xi.prototype.b,xi.prototype.getRevision=xi.prototype.L,xi.prototype.on=xi.prototype.J,xi.prototype.once=xi.prototype.once,xi.prototype.un=xi.prototype.K,Ri.prototype.getActive=Ri.prototype.c,Ri.prototype.getMap=Ri.prototype.f,Ri.prototype.setActive=Ri.prototype.Ha,Ri.prototype.get=Ri.prototype.get,Ri.prototype.getKeys=Ri.prototype.O,Ri.prototype.getProperties=Ri.prototype.N,Ri.prototype.set=Ri.prototype.set,Ri.prototype.setProperties=Ri.prototype.H,Ri.prototype.unset=Ri.prototype.P,Ri.prototype.changed=Ri.prototype.s,Ri.prototype.dispatchEvent=Ri.prototype.b,Ri.prototype.getRevision=Ri.prototype.L,Ri.prototype.on=Ri.prototype.J,Ri.prototype.once=Ri.prototype.once,Ri.prototype.un=Ri.prototype.K,Bi.prototype.type=Bi.prototype.type,Bi.prototype.target=Bi.prototype.target,Bi.prototype.preventDefault=Bi.prototype.preventDefault,Bi.prototype.stopPropagation=Bi.prototype.stopPropagation,Si.prototype.getActive=Si.prototype.c,Si.prototype.getMap=Si.prototype.f,Si.prototype.setActive=Si.prototype.Ha,Si.prototype.get=Si.prototype.get,Si.prototype.getKeys=Si.prototype.O,Si.prototype.getProperties=Si.prototype.N,Si.prototype.set=Si.prototype.set,Si.prototype.setProperties=Si.prototype.H,Si.prototype.unset=Si.prototype.P,Si.prototype.changed=Si.prototype.s,Si.prototype.dispatchEvent=Si.prototype.b,Si.prototype.getRevision=Si.prototype.L,Si.prototype.on=Si.prototype.J,Si.prototype.once=Si.prototype.once,Si.prototype.un=Si.prototype.K,Ai.prototype.getActive=Ai.prototype.c,Ai.prototype.getMap=Ai.prototype.f,Ai.prototype.setActive=Ai.prototype.Ha,Ai.prototype.get=Ai.prototype.get,Ai.prototype.getKeys=Ai.prototype.O,Ai.prototype.getProperties=Ai.prototype.N,Ai.prototype.set=Ai.prototype.set,Ai.prototype.setProperties=Ai.prototype.H,Ai.prototype.unset=Ai.prototype.P,Ai.prototype.changed=Ai.prototype.s,Ai.prototype.dispatchEvent=Ai.prototype.b,Ai.prototype.getRevision=Ai.prototype.L,Ai.prototype.on=Ai.prototype.J,Ai.prototype.once=Ai.prototype.once,Ai.prototype.un=Ai.prototype.K,hc.prototype.getActive=hc.prototype.c,hc.prototype.getMap=hc.prototype.f,hc.prototype.setActive=hc.prototype.Ha,hc.prototype.get=hc.prototype.get,hc.prototype.getKeys=hc.prototype.O,hc.prototype.getProperties=hc.prototype.N,hc.prototype.set=hc.prototype.set,hc.prototype.setProperties=hc.prototype.H,hc.prototype.unset=hc.prototype.P,hc.prototype.changed=hc.prototype.s,hc.prototype.dispatchEvent=hc.prototype.b,hc.prototype.getRevision=hc.prototype.L,hc.prototype.on=hc.prototype.J,hc.prototype.once=hc.prototype.once,hc.prototype.un=hc.prototype.K,Xi.prototype.getGeometry=Xi.prototype.V,Xi.prototype.getActive=Xi.prototype.c,Xi.prototype.getMap=Xi.prototype.f,Xi.prototype.setActive=Xi.prototype.Ha,Xi.prototype.get=Xi.prototype.get,Xi.prototype.getKeys=Xi.prototype.O,Xi.prototype.getProperties=Xi.prototype.N,Xi.prototype.set=Xi.prototype.set,Xi.prototype.setProperties=Xi.prototype.H,Xi.prototype.unset=Xi.prototype.P,Xi.prototype.changed=Xi.prototype.s,Xi.prototype.dispatchEvent=Xi.prototype.b,Xi.prototype.getRevision=Xi.prototype.L,Xi.prototype.on=Xi.prototype.J,Xi.prototype.once=Xi.prototype.once,Xi.prototype.un=Xi.prototype.K,vf.prototype.getActive=vf.prototype.c,vf.prototype.getMap=vf.prototype.f,vf.prototype.setActive=vf.prototype.Ha,vf.prototype.get=vf.prototype.get,vf.prototype.getKeys=vf.prototype.O,vf.prototype.getProperties=vf.prototype.N,vf.prototype.set=vf.prototype.set,vf.prototype.setProperties=vf.prototype.H,vf.prototype.unset=vf.prototype.P,vf.prototype.changed=vf.prototype.s,vf.prototype.dispatchEvent=vf.prototype.b,vf.prototype.getRevision=vf.prototype.L,vf.prototype.on=vf.prototype.J,vf.prototype.once=vf.prototype.once,vf.prototype.un=vf.prototype.K,Af.prototype.type=Af.prototype.type,Af.prototype.target=Af.prototype.target,Af.prototype.preventDefault=Af.prototype.preventDefault,Af.prototype.stopPropagation=Af.prototype.stopPropagation,Ef.prototype.getActive=Ef.prototype.c,Ef.prototype.getMap=Ef.prototype.f,Ef.prototype.setActive=Ef.prototype.Ha,Ef.prototype.get=Ef.prototype.get,Ef.prototype.getKeys=Ef.prototype.O,Ef.prototype.getProperties=Ef.prototype.N,Ef.prototype.set=Ef.prototype.set,Ef.prototype.setProperties=Ef.prototype.H,Ef.prototype.unset=Ef.prototype.P,Ef.prototype.changed=Ef.prototype.s,Ef.prototype.dispatchEvent=Ef.prototype.b,Ef.prototype.getRevision=Ef.prototype.L,Ef.prototype.on=Ef.prototype.J,Ef.prototype.once=Ef.prototype.once,Ef.prototype.un=Ef.prototype.K,Bf.prototype.type=Bf.prototype.type,Bf.prototype.target=Bf.prototype.target,Bf.prototype.preventDefault=Bf.prototype.preventDefault,Bf.prototype.stopPropagation=Bf.prototype.stopPropagation,Ui.prototype.getActive=Ui.prototype.c,Ui.prototype.getMap=Ui.prototype.f,Ui.prototype.setActive=Ui.prototype.Ha,Ui.prototype.get=Ui.prototype.get,Ui.prototype.getKeys=Ui.prototype.O,Ui.prototype.getProperties=Ui.prototype.N,Ui.prototype.set=Ui.prototype.set,Ui.prototype.setProperties=Ui.prototype.H,Ui.prototype.unset=Ui.prototype.P,Ui.prototype.changed=Ui.prototype.s,Ui.prototype.dispatchEvent=Ui.prototype.b,Ui.prototype.getRevision=Ui.prototype.L,Ui.prototype.on=Ui.prototype.J,Ui.prototype.once=Ui.prototype.once,Ui.prototype.un=Ui.prototype.K,Gi.prototype.getActive=Gi.prototype.c,Gi.prototype.getMap=Gi.prototype.f,Gi.prototype.setActive=Gi.prototype.Ha,Gi.prototype.get=Gi.prototype.get,
Gi.prototype.getKeys=Gi.prototype.O,Gi.prototype.getProperties=Gi.prototype.N,Gi.prototype.set=Gi.prototype.set,Gi.prototype.setProperties=Gi.prototype.H,Gi.prototype.unset=Gi.prototype.P,Gi.prototype.changed=Gi.prototype.s,Gi.prototype.dispatchEvent=Gi.prototype.b,Gi.prototype.getRevision=Gi.prototype.L,Gi.prototype.on=Gi.prototype.J,Gi.prototype.once=Gi.prototype.once,Gi.prototype.un=Gi.prototype.K,Xf.prototype.getActive=Xf.prototype.c,Xf.prototype.getMap=Xf.prototype.f,Xf.prototype.setActive=Xf.prototype.Ha,Xf.prototype.get=Xf.prototype.get,Xf.prototype.getKeys=Xf.prototype.O,Xf.prototype.getProperties=Xf.prototype.N,Xf.prototype.set=Xf.prototype.set,Xf.prototype.setProperties=Xf.prototype.H,Xf.prototype.unset=Xf.prototype.P,Xf.prototype.changed=Xf.prototype.s,Xf.prototype.dispatchEvent=Xf.prototype.b,Xf.prototype.getRevision=Xf.prototype.L,Xf.prototype.on=Xf.prototype.J,Xf.prototype.once=Xf.prototype.once,Xf.prototype.un=Xf.prototype.K,nd.prototype.type=nd.prototype.type,nd.prototype.target=nd.prototype.target,nd.prototype.preventDefault=nd.prototype.preventDefault,nd.prototype.stopPropagation=nd.prototype.stopPropagation,zi.prototype.getActive=zi.prototype.c,zi.prototype.getMap=zi.prototype.f,zi.prototype.setActive=zi.prototype.Ha,zi.prototype.get=zi.prototype.get,zi.prototype.getKeys=zi.prototype.O,zi.prototype.getProperties=zi.prototype.N,zi.prototype.set=zi.prototype.set,zi.prototype.setProperties=zi.prototype.H,zi.prototype.unset=zi.prototype.P,zi.prototype.changed=zi.prototype.s,zi.prototype.dispatchEvent=zi.prototype.b,zi.prototype.getRevision=zi.prototype.L,zi.prototype.on=zi.prototype.J,zi.prototype.once=zi.prototype.once,zi.prototype.un=zi.prototype.K,qi.prototype.getActive=qi.prototype.c,qi.prototype.getMap=qi.prototype.f,qi.prototype.setActive=qi.prototype.Ha,qi.prototype.get=qi.prototype.get,qi.prototype.getKeys=qi.prototype.O,qi.prototype.getProperties=qi.prototype.N,qi.prototype.set=qi.prototype.set,qi.prototype.setProperties=qi.prototype.H,qi.prototype.unset=qi.prototype.P,qi.prototype.changed=qi.prototype.s,qi.prototype.dispatchEvent=qi.prototype.b,qi.prototype.getRevision=qi.prototype.L,qi.prototype.on=qi.prototype.J,qi.prototype.once=qi.prototype.once,qi.prototype.un=qi.prototype.K,Ji.prototype.getActive=Ji.prototype.c,Ji.prototype.getMap=Ji.prototype.f,Ji.prototype.setActive=Ji.prototype.Ha,Ji.prototype.get=Ji.prototype.get,Ji.prototype.getKeys=Ji.prototype.O,Ji.prototype.getProperties=Ji.prototype.N,Ji.prototype.set=Ji.prototype.set,Ji.prototype.setProperties=Ji.prototype.H,Ji.prototype.unset=Ji.prototype.P,Ji.prototype.changed=Ji.prototype.s,Ji.prototype.dispatchEvent=Ji.prototype.b,Ji.prototype.getRevision=Ji.prototype.L,Ji.prototype.on=Ji.prototype.J,Ji.prototype.once=Ji.prototype.once,Ji.prototype.un=Ji.prototype.K,od.prototype.getActive=od.prototype.c,od.prototype.getMap=od.prototype.f,od.prototype.setActive=od.prototype.Ha,od.prototype.get=od.prototype.get,od.prototype.getKeys=od.prototype.O,od.prototype.getProperties=od.prototype.N,od.prototype.set=od.prototype.set,od.prototype.setProperties=od.prototype.H,od.prototype.unset=od.prototype.P,od.prototype.changed=od.prototype.s,od.prototype.dispatchEvent=od.prototype.b,od.prototype.getRevision=od.prototype.L,od.prototype.on=od.prototype.J,od.prototype.once=od.prototype.once,od.prototype.un=od.prototype.K,ad.prototype.type=ad.prototype.type,ad.prototype.target=ad.prototype.target,ad.prototype.preventDefault=ad.prototype.preventDefault,ad.prototype.stopPropagation=ad.prototype.stopPropagation,sd.prototype.getActive=sd.prototype.c,sd.prototype.getMap=sd.prototype.f,sd.prototype.setActive=sd.prototype.Ha,sd.prototype.get=sd.prototype.get,sd.prototype.getKeys=sd.prototype.O,sd.prototype.getProperties=sd.prototype.N,sd.prototype.set=sd.prototype.set,sd.prototype.setProperties=sd.prototype.H,sd.prototype.unset=sd.prototype.P,sd.prototype.changed=sd.prototype.s,sd.prototype.dispatchEvent=sd.prototype.b,sd.prototype.getRevision=sd.prototype.L,sd.prototype.on=sd.prototype.J,sd.prototype.once=sd.prototype.once,sd.prototype.un=sd.prototype.K,cd.prototype.getActive=cd.prototype.c,cd.prototype.getMap=cd.prototype.f,cd.prototype.setActive=cd.prototype.Ha,cd.prototype.get=cd.prototype.get,cd.prototype.getKeys=cd.prototype.O,cd.prototype.getProperties=cd.prototype.N,cd.prototype.set=cd.prototype.set,cd.prototype.setProperties=cd.prototype.H,cd.prototype.unset=cd.prototype.P,cd.prototype.changed=cd.prototype.s,cd.prototype.dispatchEvent=cd.prototype.b,cd.prototype.getRevision=cd.prototype.L,cd.prototype.on=cd.prototype.J,cd.prototype.once=cd.prototype.once,cd.prototype.un=cd.prototype.K,bd.prototype.type=bd.prototype.type,bd.prototype.target=bd.prototype.target,bd.prototype.preventDefault=bd.prototype.preventDefault,bd.prototype.stopPropagation=bd.prototype.stopPropagation,io.prototype.get=io.prototype.get,io.prototype.getKeys=io.prototype.O,io.prototype.getProperties=io.prototype.N,io.prototype.set=io.prototype.set,io.prototype.setProperties=io.prototype.H,io.prototype.unset=io.prototype.P,io.prototype.changed=io.prototype.s,io.prototype.dispatchEvent=io.prototype.b,io.prototype.getRevision=io.prototype.L,io.prototype.on=io.prototype.J,io.prototype.once=io.prototype.once,io.prototype.un=io.prototype.K,so.prototype.getClosestPoint=so.prototype.Ab,so.prototype.intersectsCoordinate=so.prototype.sb,so.prototype.getExtent=so.prototype.G,so.prototype.rotate=so.prototype.rotate,so.prototype.scale=so.prototype.scale,so.prototype.simplify=so.prototype.Rb,so.prototype.transform=so.prototype.tb,so.prototype.get=so.prototype.get,so.prototype.getKeys=so.prototype.O,so.prototype.getProperties=so.prototype.N,so.prototype.set=so.prototype.set,so.prototype.setProperties=so.prototype.H,so.prototype.unset=so.prototype.P,so.prototype.changed=so.prototype.s,so.prototype.dispatchEvent=so.prototype.b,so.prototype.getRevision=so.prototype.L,so.prototype.on=so.prototype.J,so.prototype.once=so.prototype.once,so.prototype.un=so.prototype.K,Xl.prototype.getFirstCoordinate=Xl.prototype.ac,Xl.prototype.getLastCoordinate=Xl.prototype.bc,Xl.prototype.getLayout=Xl.prototype.cc,Xl.prototype.rotate=Xl.prototype.rotate,Xl.prototype.scale=Xl.prototype.scale,Xl.prototype.getClosestPoint=Xl.prototype.Ab,Xl.prototype.intersectsCoordinate=Xl.prototype.sb,Xl.prototype.getExtent=Xl.prototype.G,Xl.prototype.simplify=Xl.prototype.Rb,Xl.prototype.get=Xl.prototype.get,Xl.prototype.getKeys=Xl.prototype.O,Xl.prototype.getProperties=Xl.prototype.N,Xl.prototype.set=Xl.prototype.set,Xl.prototype.setProperties=Xl.prototype.H,Xl.prototype.unset=Xl.prototype.P,Xl.prototype.changed=Xl.prototype.s,Xl.prototype.dispatchEvent=Xl.prototype.b,Xl.prototype.getRevision=Xl.prototype.L,Xl.prototype.on=Xl.prototype.J,Xl.prototype.once=Xl.prototype.once,Xl.prototype.un=Xl.prototype.K,lh.prototype.getClosestPoint=lh.prototype.Ab,lh.prototype.intersectsCoordinate=lh.prototype.sb,lh.prototype.getExtent=lh.prototype.G,lh.prototype.rotate=lh.prototype.rotate,lh.prototype.scale=lh.prototype.scale,lh.prototype.simplify=lh.prototype.Rb,lh.prototype.transform=lh.prototype.tb,lh.prototype.get=lh.prototype.get,lh.prototype.getKeys=lh.prototype.O,lh.prototype.getProperties=lh.prototype.N,lh.prototype.set=lh.prototype.set,lh.prototype.setProperties=lh.prototype.H,lh.prototype.unset=lh.prototype.P,lh.prototype.changed=lh.prototype.s,lh.prototype.dispatchEvent=lh.prototype.b,lh.prototype.getRevision=lh.prototype.L,lh.prototype.on=lh.prototype.J,lh.prototype.once=lh.prototype.once,lh.prototype.un=lh.prototype.K,Mo.prototype.getFirstCoordinate=Mo.prototype.ac,Mo.prototype.getLastCoordinate=Mo.prototype.bc,Mo.prototype.getLayout=Mo.prototype.cc,Mo.prototype.rotate=Mo.prototype.rotate,Mo.prototype.scale=Mo.prototype.scale,Mo.prototype.getClosestPoint=Mo.prototype.Ab,Mo.prototype.intersectsCoordinate=Mo.prototype.sb,Mo.prototype.getExtent=Mo.prototype.G,Mo.prototype.simplify=Mo.prototype.Rb,Mo.prototype.transform=Mo.prototype.tb,Mo.prototype.get=Mo.prototype.get,Mo.prototype.getKeys=Mo.prototype.O,Mo.prototype.getProperties=Mo.prototype.N,Mo.prototype.set=Mo.prototype.set,Mo.prototype.setProperties=Mo.prototype.H,Mo.prototype.unset=Mo.prototype.P,Mo.prototype.changed=Mo.prototype.s,Mo.prototype.dispatchEvent=Mo.prototype.b,Mo.prototype.getRevision=Mo.prototype.L,Mo.prototype.on=Mo.prototype.J,Mo.prototype.once=Mo.prototype.once,Mo.prototype.un=Mo.prototype.K,Mu.prototype.getFirstCoordinate=Mu.prototype.ac,Mu.prototype.getLastCoordinate=Mu.prototype.bc,Mu.prototype.getLayout=Mu.prototype.cc,Mu.prototype.rotate=Mu.prototype.rotate,Mu.prototype.scale=Mu.prototype.scale,Mu.prototype.getClosestPoint=Mu.prototype.Ab,Mu.prototype.intersectsCoordinate=Mu.prototype.sb,Mu.prototype.getExtent=Mu.prototype.G,Mu.prototype.simplify=Mu.prototype.Rb,Mu.prototype.transform=Mu.prototype.tb,Mu.prototype.get=Mu.prototype.get,Mu.prototype.getKeys=Mu.prototype.O,Mu.prototype.getProperties=Mu.prototype.N,Mu.prototype.set=Mu.prototype.set,Mu.prototype.setProperties=Mu.prototype.H,Mu.prototype.unset=Mu.prototype.P,Mu.prototype.changed=Mu.prototype.s,Mu.prototype.dispatchEvent=Mu.prototype.b,Mu.prototype.getRevision=Mu.prototype.L,Mu.prototype.on=Mu.prototype.J,Mu.prototype.once=Mu.prototype.once,Mu.prototype.un=Mu.prototype.K,Au.prototype.getFirstCoordinate=Au.prototype.ac,Au.prototype.getLastCoordinate=Au.prototype.bc,Au.prototype.getLayout=Au.prototype.cc,Au.prototype.rotate=Au.prototype.rotate,Au.prototype.scale=Au.prototype.scale,Au.prototype.getClosestPoint=Au.prototype.Ab,Au.prototype.intersectsCoordinate=Au.prototype.sb,Au.prototype.getExtent=Au.prototype.G,Au.prototype.simplify=Au.prototype.Rb,Au.prototype.transform=Au.prototype.tb,Au.prototype.get=Au.prototype.get,Au.prototype.getKeys=Au.prototype.O,Au.prototype.getProperties=Au.prototype.N,Au.prototype.set=Au.prototype.set,Au.prototype.setProperties=Au.prototype.H,Au.prototype.unset=Au.prototype.P,Au.prototype.changed=Au.prototype.s,Au.prototype.dispatchEvent=Au.prototype.b,Au.prototype.getRevision=Au.prototype.L,Au.prototype.on=Au.prototype.J,Au.prototype.once=Au.prototype.once,Au.prototype.un=Au.prototype.K,Lu.prototype.getFirstCoordinate=Lu.prototype.ac,Lu.prototype.getLastCoordinate=Lu.prototype.bc,Lu.prototype.getLayout=Lu.prototype.cc,Lu.prototype.rotate=Lu.prototype.rotate,Lu.prototype.scale=Lu.prototype.scale,Lu.prototype.getClosestPoint=Lu.prototype.Ab,Lu.prototype.intersectsCoordinate=Lu.prototype.sb,Lu.prototype.getExtent=Lu.prototype.G,Lu.prototype.simplify=Lu.prototype.Rb,Lu.prototype.transform=Lu.prototype.tb,Lu.prototype.get=Lu.prototype.get,Lu.prototype.getKeys=Lu.prototype.O,Lu.prototype.getProperties=Lu.prototype.N,Lu.prototype.set=Lu.prototype.set,Lu.prototype.setProperties=Lu.prototype.H,Lu.prototype.unset=Lu.prototype.P,Lu.prototype.changed=Lu.prototype.s,Lu.prototype.dispatchEvent=Lu.prototype.b,Lu.prototype.getRevision=Lu.prototype.L,Lu.prototype.on=Lu.prototype.J,Lu.prototype.once=Lu.prototype.once,Lu.prototype.un=Lu.prototype.K,Nu.prototype.getFirstCoordinate=Nu.prototype.ac,Nu.prototype.getLastCoordinate=Nu.prototype.bc,Nu.prototype.getLayout=Nu.prototype.cc,Nu.prototype.rotate=Nu.prototype.rotate,Nu.prototype.scale=Nu.prototype.scale,Nu.prototype.getClosestPoint=Nu.prototype.Ab,Nu.prototype.intersectsCoordinate=Nu.prototype.sb,Nu.prototype.getExtent=Nu.prototype.G,Nu.prototype.simplify=Nu.prototype.Rb,Nu.prototype.transform=Nu.prototype.tb,Nu.prototype.get=Nu.prototype.get,Nu.prototype.getKeys=Nu.prototype.O,Nu.prototype.getProperties=Nu.prototype.N,Nu.prototype.set=Nu.prototype.set,Nu.prototype.setProperties=Nu.prototype.H,Nu.prototype.unset=Nu.prototype.P,Nu.prototype.changed=Nu.prototype.s,Nu.prototype.dispatchEvent=Nu.prototype.b,Nu.prototype.getRevision=Nu.prototype.L,Nu.prototype.on=Nu.prototype.J,Nu.prototype.once=Nu.prototype.once,Nu.prototype.un=Nu.prototype.K,Ao.prototype.getFirstCoordinate=Ao.prototype.ac,Ao.prototype.getLastCoordinate=Ao.prototype.bc,Ao.prototype.getLayout=Ao.prototype.cc,Ao.prototype.rotate=Ao.prototype.rotate,Ao.prototype.scale=Ao.prototype.scale,Ao.prototype.getClosestPoint=Ao.prototype.Ab,Ao.prototype.intersectsCoordinate=Ao.prototype.sb,Ao.prototype.getExtent=Ao.prototype.G,Ao.prototype.simplify=Ao.prototype.Rb,Ao.prototype.transform=Ao.prototype.tb,Ao.prototype.get=Ao.prototype.get,Ao.prototype.getKeys=Ao.prototype.O,Ao.prototype.getProperties=Ao.prototype.N,Ao.prototype.set=Ao.prototype.set,Ao.prototype.setProperties=Ao.prototype.H,Ao.prototype.unset=Ao.prototype.P,Ao.prototype.changed=Ao.prototype.s,Ao.prototype.dispatchEvent=Ao.prototype.b,Ao.prototype.getRevision=Ao.prototype.L,Ao.prototype.on=Ao.prototype.J,Ao.prototype.once=Ao.prototype.once,Ao.prototype.un=Ao.prototype.K,Bo.prototype.getFirstCoordinate=Bo.prototype.ac,Bo.prototype.getLastCoordinate=Bo.prototype.bc,Bo.prototype.getLayout=Bo.prototype.cc,Bo.prototype.rotate=Bo.prototype.rotate,Bo.prototype.scale=Bo.prototype.scale,Bo.prototype.getClosestPoint=Bo.prototype.Ab,Bo.prototype.intersectsCoordinate=Bo.prototype.sb,Bo.prototype.getExtent=Bo.prototype.G,Bo.prototype.simplify=Bo.prototype.Rb,Bo.prototype.transform=Bo.prototype.tb,Bo.prototype.get=Bo.prototype.get,Bo.prototype.getKeys=Bo.prototype.O,Bo.prototype.getProperties=Bo.prototype.N,Bo.prototype.set=Bo.prototype.set,Bo.prototype.setProperties=Bo.prototype.H,Bo.prototype.unset=Bo.prototype.P,Bo.prototype.changed=Bo.prototype.s,Bo.prototype.dispatchEvent=Bo.prototype.b,Bo.prototype.getRevision=Bo.prototype.L,Bo.prototype.on=Bo.prototype.J,Bo.prototype.once=Bo.prototype.once,Bo.prototype.un=Bo.prototype.K,kh.prototype.readFeatures=kh.prototype.Oa,Fh.prototype.readFeatures=Fh.prototype.Oa,kh.prototype.readFeatures=kh.prototype.Oa,Le.prototype.get=Le.prototype.get,Le.prototype.getKeys=Le.prototype.O,Le.prototype.getProperties=Le.prototype.N,Le.prototype.set=Le.prototype.set,Le.prototype.setProperties=Le.prototype.H,Le.prototype.unset=Le.prototype.P,Le.prototype.changed=Le.prototype.s,Le.prototype.dispatchEvent=Le.prototype.b,Le.prototype.getRevision=Le.prototype.L,Le.prototype.on=Le.prototype.J,Le.prototype.once=Le.prototype.once,Le.prototype.un=Le.prototype.K,Ne.prototype.getMap=Ne.prototype.g,Ne.prototype.setMap=Ne.prototype.setMap,Ne.prototype.setTarget=Ne.prototype.f,Ne.prototype.get=Ne.prototype.get,Ne.prototype.getKeys=Ne.prototype.O,Ne.prototype.getProperties=Ne.prototype.N,Ne.prototype.set=Ne.prototype.set,Ne.prototype.setProperties=Ne.prototype.H,Ne.prototype.unset=Ne.prototype.P,Ne.prototype.changed=Ne.prototype.s,Ne.prototype.dispatchEvent=Ne.prototype.b,Ne.prototype.getRevision=Ne.prototype.L,Ne.prototype.on=Ne.prototype.J,Ne.prototype.once=Ne.prototype.once,Ne.prototype.un=Ne.prototype.K,Ye.prototype.getMap=Ye.prototype.g,Ye.prototype.setMap=Ye.prototype.setMap,Ye.prototype.setTarget=Ye.prototype.f,Ye.prototype.get=Ye.prototype.get,Ye.prototype.getKeys=Ye.prototype.O,Ye.prototype.getProperties=Ye.prototype.N,Ye.prototype.set=Ye.prototype.set,Ye.prototype.setProperties=Ye.prototype.H,Ye.prototype.unset=Ye.prototype.P,Ye.prototype.changed=Ye.prototype.s,Ye.prototype.dispatchEvent=Ye.prototype.b,Ye.prototype.getRevision=Ye.prototype.L,Ye.prototype.on=Ye.prototype.J,Ye.prototype.once=Ye.prototype.once,Ye.prototype.un=Ye.prototype.K,He.prototype.getMap=He.prototype.g,He.prototype.setMap=He.prototype.setMap,He.prototype.setTarget=He.prototype.f,He.prototype.get=He.prototype.get,He.prototype.getKeys=He.prototype.O,He.prototype.getProperties=He.prototype.N,He.prototype.set=He.prototype.set,He.prototype.setProperties=He.prototype.H,He.prototype.unset=He.prototype.P,He.prototype.changed=He.prototype.s,He.prototype.dispatchEvent=He.prototype.b,He.prototype.getRevision=He.prototype.L,He.prototype.on=He.prototype.J,He.prototype.once=He.prototype.once,He.prototype.un=He.prototype.K,Ps.prototype.getMap=Ps.prototype.g,Ps.prototype.setMap=Ps.prototype.setMap,Ps.prototype.setTarget=Ps.prototype.f,Ps.prototype.get=Ps.prototype.get,Ps.prototype.getKeys=Ps.prototype.O,Ps.prototype.getProperties=Ps.prototype.N,Ps.prototype.set=Ps.prototype.set,Ps.prototype.setProperties=Ps.prototype.H,Ps.prototype.unset=Ps.prototype.P,Ps.prototype.changed=Ps.prototype.s,Ps.prototype.dispatchEvent=Ps.prototype.b,Ps.prototype.getRevision=Ps.prototype.L,Ps.prototype.on=Ps.prototype.J,Ps.prototype.once=Ps.prototype.once,Ps.prototype.un=Ps.prototype.K,Ke.prototype.getMap=Ke.prototype.g,Ke.prototype.setMap=Ke.prototype.setMap,Ke.prototype.setTarget=Ke.prototype.f,Ke.prototype.get=Ke.prototype.get,Ke.prototype.getKeys=Ke.prototype.O,Ke.prototype.getProperties=Ke.prototype.N,Ke.prototype.set=Ke.prototype.set,Ke.prototype.setProperties=Ke.prototype.H,Ke.prototype.unset=Ke.prototype.P,Ke.prototype.changed=Ke.prototype.s,Ke.prototype.dispatchEvent=Ke.prototype.b,Ke.prototype.getRevision=Ke.prototype.L,Ke.prototype.on=Ke.prototype.J,Ke.prototype.once=Ke.prototype.once,Ke.prototype.un=Ke.prototype.K,As.prototype.getMap=As.prototype.g,As.prototype.setMap=As.prototype.setMap,As.prototype.setTarget=As.prototype.f,As.prototype.get=As.prototype.get,As.prototype.getKeys=As.prototype.O,As.prototype.getProperties=As.prototype.N,As.prototype.set=As.prototype.set,As.prototype.setProperties=As.prototype.H,As.prototype.unset=As.prototype.P,As.prototype.changed=As.prototype.s,As.prototype.dispatchEvent=As.prototype.b,As.prototype.getRevision=As.prototype.L,As.prototype.on=As.prototype.J,As.prototype.once=As.prototype.once,As.prototype.un=As.prototype.K,Xe.prototype.getMap=Xe.prototype.g,Xe.prototype.setMap=Xe.prototype.setMap,Xe.prototype.setTarget=Xe.prototype.f,Xe.prototype.get=Xe.prototype.get,Xe.prototype.getKeys=Xe.prototype.O,Xe.prototype.getProperties=Xe.prototype.N,Xe.prototype.set=Xe.prototype.set,Xe.prototype.setProperties=Xe.prototype.H,Xe.prototype.unset=Xe.prototype.P,Xe.prototype.changed=Xe.prototype.s,Xe.prototype.dispatchEvent=Xe.prototype.b,Xe.prototype.getRevision=Xe.prototype.L,Xe.prototype.on=Xe.prototype.J,Xe.prototype.once=Xe.prototype.once,Xe.prototype.un=Xe.prototype.K,Ls.prototype.getMap=Ls.prototype.g,Ls.prototype.setMap=Ls.prototype.setMap,Ls.prototype.setTarget=Ls.prototype.f,Ls.prototype.get=Ls.prototype.get,Ls.prototype.getKeys=Ls.prototype.O,Ls.prototype.getProperties=Ls.prototype.N,Ls.prototype.set=Ls.prototype.set,Ls.prototype.setProperties=Ls.prototype.H,Ls.prototype.unset=Ls.prototype.P,Ls.prototype.changed=Ls.prototype.s,Ls.prototype.dispatchEvent=Ls.prototype.b,Ls.prototype.getRevision=Ls.prototype.L,Ls.prototype.on=Ls.prototype.J,Ls.prototype.once=Ls.prototype.once,Ls.prototype.un=Ls.prototype.K,Rs.prototype.getMap=Rs.prototype.g,Rs.prototype.setMap=Rs.prototype.setMap,Rs.prototype.setTarget=Rs.prototype.f,Rs.prototype.get=Rs.prototype.get,Rs.prototype.getKeys=Rs.prototype.O,Rs.prototype.getProperties=Rs.prototype.N,Rs.prototype.set=Rs.prototype.set,Rs.prototype.setProperties=Rs.prototype.H,Rs.prototype.unset=Rs.prototype.P,Rs.prototype.changed=Rs.prototype.s,Rs.prototype.dispatchEvent=Rs.prototype.b,Rs.prototype.getRevision=Rs.prototype.L,Rs.prototype.on=Rs.prototype.J,Rs.prototype.once=Rs.prototype.once,Rs.prototype.un=Rs.prototype.K,fv.ol})},function(t,e,n){"use strict";function o(t,e,n){e=e||1;for(var o,a,u,p,l=0;l<t[0].length;l++){var c=t[0][l];(!l||c[0]<o)&&(o=c[0]),(!l||c[1]<a)&&(a=c[1]),(!l||c[0]>u)&&(u=c[0]),(!l||c[1]>p)&&(p=c[1])}var f=u-o,d=p-a,y=Math.min(f,d),v=y/2,g=new h(null,i);if(0===y)return[o,a];for(var m=o;m<u;m+=y)for(var b=a;b<p;b+=y)g.push(new r(m+v,b+v,v,t));var _=s(t),x=new r(o+f/2,a+d/2,0,t);x.d>_.d&&(_=x);for(var w=g.length;g.length;){var P=g.pop();P.d>_.d&&(_=P,n&&console.log("found best %d after %d probes",Math.round(1e4*P.d)/1e4,w)),P.max-_.d<=e||(v=P.h/2,g.push(new r(P.x-v,P.y-v,v,t)),g.push(new r(P.x+v,P.y-v,v,t)),g.push(new r(P.x-v,P.y+v,v,t)),g.push(new r(P.x+v,P.y+v,v,t)),w+=4)}return n&&(console.log("num probes: "+w),console.log("best distance: "+_.d)),[_.x,_.y]}function i(t,e){return e.max-t.max}function r(t,e,n,o){this.x=t,this.y=e,this.h=n,this.d=a(t,e,o),this.max=this.d+this.h*Math.SQRT2}function a(t,e,n){for(var o=!1,i=1/0,r=0;r<n.length;r++)for(var a=n[r],s=0,h=a.length,p=h-1;s<h;p=s++){var l=a[s],c=a[p];l[1]>e!=c[1]>e&&t<(c[0]-l[0])*(e-l[1])/(c[1]-l[1])+l[0]&&(o=!o),i=Math.min(i,u(t,e,l,c))}return(o?1:-1)*Math.sqrt(i)}function s(t){for(var e=0,n=0,o=0,i=t[0],a=0,s=i.length,u=s-1;a<s;u=a++){var h=i[a],p=i[u],l=h[0]*p[1]-p[0]*h[1];n+=(h[0]+p[0])*l,o+=(h[1]+p[1])*l,e+=3*l}return 0===e?new r(i[0][0],i[0][1],0,t):new r(n/e,o/e,0,t)}function u(t,e,n,o){var i=n[0],r=n[1],a=o[0]-i,s=o[1]-r;if(0!==a||0!==s){var u=((t-i)*a+(e-r)*s)/(a*a+s*s);u>1?(i=o[0],r=o[1]):u>0&&(i+=a*u,r+=s*u)}return a=t-i,s=e-r,a*a+s*s}var h=n(188);t.exports=o,t.exports.default=o},function(t,e,n){"use strict";t.exports=n(33),n(182),n(183),n(184)},function(t,e,n){"use strict";var o=n(33),i=n(25);t.exports=o,o.prototype.done=function(t,e){var n=arguments.length?this.then.apply(this,arguments):this;n.then(null,function(t){i(function(){throw t})})}},function(t,e,n){"use strict";function o(t){this.then=function(e){return"function"!=typeof e?this:new i(function(n,o){r(function(){try{n(e(t))}catch(t){o(t)}})})}}var i=n(33),r=n(25);t.exports=i,o.prototype=i.prototype;var a=new o(!0),s=new o(!1),u=new o(null),h=new o(void 0),p=new o(0),l=new o("");i.resolve=function(t){if(t instanceof i)return t;if(null===t)return u;if(void 0===t)return h;if(t===!0)return a;if(t===!1)return s;if(0===t)return p;if(""===t)return l;if("object"==typeof t||"function"==typeof t)try{var e=t.then;if("function"==typeof e)return new i(e.bind(t))}catch(t){return new i(function(e,n){n(t)})}return new o(t)},i.all=function(t){var e=Array.prototype.slice.call(t);return new i(function(t,n){function o(r,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){o(r,t)},n)}e[r]=a,0===--i&&t(e)}catch(t){n(t)}}if(0===e.length)return t([]);for(var i=e.length,r=0;r<e.length;r++)o(r,e[r])})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){t.forEach(function(t){i.resolve(t).then(e,n)})})},i.prototype.catch=function(t){return this.then(null,t)}},function(t,e,n){"use strict";var o=n(33),i=n(25);t.exports=o,o.denodeify=function(t,e){return e=e||1/0,function(){var n=this,i=Array.prototype.slice.call(arguments);return new o(function(o,r){for(;i.length&&i.length>e;)i.pop();i.push(function(t,e){t?r(t):o(e)});var a=t.apply(n,i);!a||"object"!=typeof a&&"function"!=typeof a||"function"!=typeof a.then||o(a)})}},o.nodeify=function(t){return function(){var e=Array.prototype.slice.call(arguments),n="function"==typeof e[e.length-1]?e.pop():null,r=this;try{return t.apply(this,arguments).nodeify(n,r)}catch(t){if(null===n||"undefined"==typeof n)return new o(function(e,n){n(t)});i(function(){n.call(r,t)})}}},o.prototype.nodeify=function(t,e){return"function"!=typeof t?this:void this.then(function(n){i(function(){t.call(e,null,n)})},function(n){i(function(){t.call(e,n)})})}},function(t,e,n){var o,i;/*!
	  * $script.js JS loader & dependency manager
	  * https://github.com/ded/script.js
	  * (c) Dustin Diaz 2014 | License MIT
	  */
!function(r,a){"undefined"!=typeof t&&t.exports?t.exports=a():(o=a,i="function"==typeof o?o.call(e,n,e,t):o,!(void 0!==i&&(t.exports=i)))}("$script",function(){function t(t,e){for(var n=0,o=t.length;n<o;++n)if(!e(t[n]))return u;return 1}function e(e,n){t(e,function(t){return!n(t)})}function n(r,a,s){function u(t){return t.call?t():c[t]}function p(){if(!--m){c[g]=1,v&&v();for(var n in d)t(n.split("|"),u)&&!e(d[n],u)&&(d[n]=[])}}r=r[h]?r:[r];var l=a&&a.call,v=l?a:s,g=l?r.join(""):a,m=r.length;return setTimeout(function(){e(r,function t(e,n){return null===e?p():(n||/^https?:\/\//.test(e)||!i||(e=e.indexOf(".js")===-1?i+e+".js":i+e),y[e]?(g&&(f[g]=1),2==y[e]?p():setTimeout(function(){t(e,!0)},0)):(y[e]=1,g&&(f[g]=1),void o(e,p)))})},0),n}function o(t,e){var n,o=a.createElement("script");o.onload=o.onerror=o[l]=function(){o[p]&&!/^c|loade/.test(o[p])||n||(o.onload=o[l]=null,n=1,y[t]=2,e())},o.async=1,o.src=r?t+(t.indexOf("?")===-1?"?":"&")+r:t,s.insertBefore(o,s.lastChild)}var i,r,a=document,s=a.getElementsByTagName("head")[0],u=!1,h="push",p="readyState",l="onreadystatechange",c={},f={},d={},y={};return n.get=o,n.order=function(t,e,o){!function i(r){r=t.shift(),t.length?n(r,i):n(r,e,o)}()},n.path=function(t){i=t},n.urlArgs=function(t){r=t},n.ready=function(o,i,r){o=o[h]?o:[o];var a=[];return!e(o,function(t){c[t]||a[h](t)})&&t(o,function(t){return c[t]})?i():!function(t){d[t]=d[t]||[],d[t][h](i),r&&r(a)}(o.join("|")),n},n.done=function(t){n([null],t)},n})},function(t,e,n){(function(t,e){!function(t,n){"use strict";function o(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return y[d]=o,f(d),d++}function i(t){delete y[t]}function r(t){var e=t.callback,o=t.args;switch(o.length){case 0:e();break;case 1:e(o[0]);break;case 2:e(o[0],o[1]);break;case 3:e(o[0],o[1],o[2]);break;default:e.apply(n,o)}}function a(t){if(v)setTimeout(a,0,t);else{var e=y[t];if(e){v=!0;try{r(e)}finally{i(t),v=!1}}}}function s(){f=function(t){e.nextTick(function(){a(t)})}}function u(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}function h(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&a(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),f=function(n){t.postMessage(e+n,"*")}}function p(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;a(e)},f=function(e){t.port2.postMessage(e)}}function l(){var t=g.documentElement;f=function(e){var n=g.createElement("script");n.onreadystatechange=function(){a(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}function c(){f=function(t){setTimeout(a,0,t)}}if(!t.setImmediate){var f,d=1,y={},v=!1,g=t.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(t);m=m&&m.setTimeout?m:t,"[object process]"==={}.toString.call(t.process)?s():u()?h():t.MessageChannel?p():g&&"onreadystatechange"in g.createElement("script")?l():c(),m.setImmediate=o,m.clearImmediate=i}}("undefined"==typeof self?"undefined"==typeof t?this:t:self)}).call(e,function(){return this}(),n(71))},function(t,e,n){function o(t,e){this._id=t,this._clearFn=e}var i=Function.prototype.apply;e.setTimeout=function(){return new o(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(186),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e){"use strict";function n(t,e){if(!(this instanceof n))return new n(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||o,this.length>0)for(var i=this.length>>1;i>=0;i--)this._down(i)}function o(t,e){return t<e?-1:t>e?1:0}t.exports=n,n.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,o=e[t];t>0;){var i=t-1>>1,r=e[i];if(n(o,r)>=0)break;e[t]=r,t=i}e[t]=o},_down:function(t){for(var e=this.data,n=this.compare,o=this.length,i=o>>1,r=e[t];t<i;){var a=(t<<1)+1,s=a+1,u=e[a];if(s<o&&n(e[s],u)<0&&(a=s,u=e[s]),n(u,r)>=0)break;e[t]=u,t=a}e[t]=r}}},function(t,e,n){var o,i;/*!
	 * Unipointer v2.2.0
	 * base class for doing one thing with pointer event
	 * MIT license
	 */
!function(r,a){o=[n(70)],i=function(t){return a(r,t)}.apply(e,o),!(void 0!==i&&(t.exports=i))}(window,function(t,e){"use strict";function n(){}function o(){}var i=o.prototype=Object.create(e.prototype);i.bindStartEvent=function(t){this._bindStartEvent(t,!0)},i.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},i._bindStartEvent=function(e,n){n=void 0===n||!!n;var o=n?"addEventListener":"removeEventListener";t.PointerEvent?e[o]("pointerdown",this):(e[o]("mousedown",this),e[o]("touchstart",this))},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.getTouch=function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.identifier==this.pointerIdentifier)return n}},i.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},i.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},i.onpointerdown=function(t){this._pointerDown(t,t)},i._pointerDown=function(t,e){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},i.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var r={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return i._bindPostStartEvents=function(e){if(e){var n=r[e.type];n.forEach(function(e){t.addEventListener(e,this)},this),this._boundPointerEvents=n}},i._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(e){t.removeEventListener(e,this)},this),delete this._boundPointerEvents)},i.onmousemove=function(t){this._pointerMove(t,t)},i.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},i.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},i._pointerMove=function(t,e){this.pointerMove(t,e)},i.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},i.onmouseup=function(t){this._pointerUp(t,t)},i.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},i.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},i._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},i.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},i._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},i.pointerDone=n,i.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},i.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},i._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},i.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},o.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},o})},,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},,,function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(o[r]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){function o(t,e){for(var n=0;n<t.length;n++){var o=t[n],i=l[o.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](o.parts[r]);for(;r<o.parts.length;r++)i.parts.push(u(o.parts[r],e))}else{for(var a=[],r=0;r<o.parts.length;r++)a.push(u(o.parts[r],e));l[o.id]={id:o.id,refs:1,parts:a}}}}function i(t){for(var e=[],n={},o=0;o<t.length;o++){var i=t[o],r=i[0],a=i[1],s=i[2],u=i[3],h={css:a,media:s,sourceMap:u};n[r]?n[r].parts.push(h):e.push(n[r]={id:r,parts:[h]})}return e}function r(t,e){var n=d(),o=g[g.length-1];if("top"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),g.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=g.indexOf(t);e>=0&&g.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",r(t,e),e}function u(t,e){var n,o,i;if(e.singleton){var r=v++;n=y||(y=s(e)),o=h.bind(null,n,r,!1),i=h.bind(null,n,r,!0)}else n=s(e),o=p.bind(null,n),i=function(){a(n)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else i()}}function h(t,e,n,o){var i=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=m(e,i);else{var r=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function p(t,e){var n=e.css,o=e.media,i=e.sourceMap;if(o&&t.setAttribute("media",o),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var l={},c=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},f=c(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),d=c(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,v=0,g=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=f()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=i(t);return o(n,e),function(t){for(var r=[],a=0;a<n.length;a++){var s=n[a],u=l[s.id];u.refs--,r.push(u)}if(t){var h=i(t);o(h,e)}for(var a=0;a<r.length;a++){var u=r[a];if(0===u.refs){for(var p=0;p<u.parts.length;p++)u.parts[p]();delete l[u.id]}}}};var m=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()}]);
//# sourceMappingURL=vendor.a830fbadb19dc76789a6.js.map
	webpackJsonp([2,0],[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(52),a=n(r),o=i(85),s=n(o),c=i(106),d=n(c),u=i(190),l=n(u);window.application=new a.default({store:s.default,el:"#app",template:"<App/>",components:{App:l.default}}),window.eventBus=window.application.$children[0],window.eventBus.$on("initTimetravel",function(){console.warn("init timetravel"),d.default.init(s.default)})},,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(14),a=n(r),o=i(38),s=n(o),c=i(98),d=n(c),u={map:d.default,displayNameForKey:function(e,t){return this.map[e].keymap[t]?this.map[e].keymap[t].private?null:this.map[e].keymap[t].displayName:t},valueForKey:function(e,t,i,n){return this.map[i].keymap[n]&&this.map[i].keymap[n].get?this.map[i].keymap[n].get(e,t):e[n]},setValueForKey:function(e,t,i,n,r){var a={success:!0};if(this.map[i].keymap[n]&&this.map[i].keymap[n].validator){var o=this.map[i].keymap[n].validator(e,t,r,i);if(a.success=o.success,!o.success)return a.error=o.error,a}return"stories"===i?t.dispatch("models/updateStoryWithData",(0,s.default)({story:e},n,r)):"spaces"===i?t.dispatch("models/updateSpaceWithData",(0,s.default)({space:e},n,r)):"shading"===i?t.dispatch("models/updateShadingWithData",(0,s.default)({shading:e},n,r)):"images"===i?t.dispatch("models/updateImageWithData",(0,s.default)({image:e},n,r)):t.dispatch("models/updateObjectWithData",(0,s.default)({object:e},n,r)),a},defaultKeysForType:function(e){return this.map[e]?(0,a.default)(this.map[e].keymap):[]},keyIsPrivate:function(e,t){return!!this.map[e].keymap[t]&&this.map[e].keymap[t].private},keyIsReadonly:function(e,t){return!!this.map[e].keymap[t]&&this.map[e].keymap[t].readonly},inputTypeForKey:function(e,t){return this.map[e].keymap[t]&&!this.map[e].keymap[t].readonly?this.map[e].keymap[t].input_type:null},selectOptionsForKey:function(e,t,i,n){return this.map[i].keymap[n]&&!this.map[i].keymap[n].readonly&&"select"===this.map[i].keymap[n].input_type?this.map[i].keymap[n].select_data(e,t):[]},libraryObjectWithId:function(e,t){var i;for(var n in e.library)e.library.hasOwnProperty(n)&&!i&&e.library[n].find(function(e){return e.id===t})&&(i=e.library[n].find(function(e){return e.id===t}),i.type=n);if(!i&&e.stories.find(function(e){return e.id===t})&&(i=e.stories.find(function(e){return e.id===t}),i.type="story"),!i)for(var r=0;r<e.stories.length;r++){var a=e.stories[r];!i&&a.spaces.find(function(e){return e.id===t})&&(i=a.spaces.find(function(e){return e.id===t}),i.type="space"),!i&&a.shading.find(function(e){return e.id===t})&&(i=a.shading.find(function(e){return e.id===t}),i.type="shading"),!i&&a.images.find(function(e){return e.id===t})&&(i=a.images.find(function(e){return e.id===t}),i.type="image")}return i},modelForFace:function(e,t){for(var i=0;i<e.stories.length;i++){var n=e.stories[i],r=n.shading.find(function(e){return e.face_id===t}),a=n.spaces.find(function(e){return e.face_id===t});if(r)return r.type="shading",r;if(a)return a.type="space",a}},generateName:function(e,t,i){var n=this.modelsForType(e,t),r=d.default[t].displayName+" ";if(i){var a=e.stories.findIndex(function(e){return e.id===i.id})+1;r=r.concat(a+" - ")}for(var o="",s=1;!o;)o=r+s,n.find(function(e){return e.name===o})&&(o=""),s+=1;return o},modelsForType:function(e,t){switch(t){case"stories":return e.stories;case"shading":case"spaces":case"images":return e.stories.reduce(function(e,i){return e.concat(i[t])},[]);default:return e.library[t]}}};t.default=u},,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(21),s=n(o),c=i(24),d=n(c),u=i(177),l=n(u),f=i(37),p={clipScale:100,offset:.01,setOperation:function(e,t,i){var n=t.map(function(e){return{X:e.x,Y:e.y}}),r=i.map(function(e){return{X:e.x,Y:e.y}}),a=new l.default.ClipperOffset,o=new l.default.Paths,s=new l.default.Paths;a.AddPaths([n],l.default.JoinType.jtMiter,l.default.EndType.etClosedPolygon),a.Execute(o,this.offset),a.Clear(),a.AddPaths([r],l.default.JoinType.jtMiter,l.default.EndType.etClosedPolygon),a.Execute(s,this.offset),a.Clear(),l.default.JS.ScaleUpPaths(o,this.clipScale),l.default.JS.ScaleUpPaths(s,this.clipScale);var c=new l.default.Clipper,d=new l.default.Paths;c.AddPaths(o,l.default.PolyType.ptSubject,!0),c.AddPaths(s,l.default.PolyType.ptClip,!0);var u="union"===e?l.default.ClipType.ctUnion:"intersection"===e?l.default.ClipType.ctIntersection:"difference"===e?l.default.ClipType.ctDifference:null;if(null===u)throw new Error('invalid operation "'+e+'". expected union, intersection, or difference');c.Execute(u,d,l.default.PolyFillType.pftEvenOdd,l.default.PolyFillType.pftEvenOdd),l.default.JS.ScaleDownPaths(d,this.clipScale);var f=new l.default.Paths;return a.AddPaths(d,l.default.JoinType.jtMiter,l.default.EndType.etClosedPolygon),a.Execute(f,-this.offset),1===f.length?f[0].map(function(e){return{x:e.X,y:e.Y}}):0===f.length&&[]},intersection:function(e,t){return this.setOperation("intersection",e,t)},union:function(e,t){return this.setOperation("union",e,t)},difference:function(e,t){return this.setOperation("difference",e,t)},areaOfSelection:function(e){var t=e.map(function(e){return{X:e.x,Y:e.y}});return l.default.JS.AreaOfPolygon(t)},splittingVerticesForEdgeId:function(e,t){var i=this,n=t.edges.find(function(t){return t.id===e}),r=this.vertexForId(n.v1,t),a=this.vertexForId(n.v2,t);return t.vertices.filter(function(e){if(!(n.v1===e.id||n.v2===e.id||r.x===e.x&&r.y===e.y||a.x===e.x&&a.y===e.y)){var t=i.projectionOfPointToLine(e,{p1:r,p2:a});return i.distanceBetweenPoints(e,t)<=1/i.clipScale}})},projectionOfPointToLine:function(e,t){var i=t.p1,n=i.x,r=i.y,a=t.p2,o=a.x,s=a.y,c=e.x-n,d=e.y-r,u=o-n,l=s-r,f=c*u+d*l,p=u*u+l*l||2,h=f/p;return h<=0?t.p1:h>1?t.p2:{x:n+h*u,y:r+h*l}},distanceBetweenPoints:function(e,t){var i=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return Math.sqrt(i*i+n*n)},intersectionOfLines:function(e,t,i,n){var r=1e-7,a=function(e,t,i){return e-r<=t&&t<=i+r},o=((e.x*t.y-e.y*t.x)*(i.x-n.x)-(e.x-t.x)*(i.x*n.y-i.y*n.x))/((e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x)),s=((e.x*t.y-e.y*t.x)*(i.y-n.y)-(e.y-t.y)*(i.x*n.y-i.y*n.x))/((e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x));if(isNaN(o)||isNaN(s)||this.distanceBetweenPoints({x:o,y:s},e)<r||this.distanceBetweenPoints({x:o,y:s},t)<r||this.distanceBetweenPoints({x:o,y:s},i)<r||this.distanceBetweenPoints({x:o,y:s},n)<r)return!1;if(e.x>=t.x){if(!a(t.x,o,e.x))return!1}else if(!a(e.x,o,t.x))return!1;if(e.y>=t.y){if(!a(t.y,s,e.y))return!1}else if(!a(e.y,s,t.y))return!1;if(i.x>=n.x){if(!a(n.x,o,i.x))return!1}else if(!a(i.x,o,n.x))return!1;if(i.y>=n.y){if(!a(n.y,s,i.y))return!1}else if(!a(i.y,s,n.y))return!1;return{x:o,y:s}},vertexForId:function(e,t){return t.vertices.find(function(t){return t.id===e})},vertexForCoordinates:function(e,t){var i=this;e.x,e.y;return t.vertices.find(function(t){return i.distanceBetweenPoints(t,e)<1e-5})},verticesForFaceId:function(e,t){var i=this;return t.faces.find(function(t){return t.id===e}).edgeRefs.map(function(e){var n=i.edgeForId(e.edge_id,t),r=e.reverse?n.v2:n.v1;return i.vertexForId(r,t)})},edgeForId:function(e,t){return t.edges.find(function(t){return t.id===e})},edgesForVertexId:function(e,t){return t.edges.filter(function(t){return t.v1===e||t.v2===e})},edgesForFaceId:function(e,t){var i=this;return t.faces.find(function(t){return t.id===e}).edgeRefs.map(function(e){return i.edgeForId(e.edge_id,t)})},faceForId:function(e,t){return t.faces.find(function(t){return t.id===e})},facesForVertexId:function(e,t){var i=this;return t.faces.filter(function(n){return n.edgeRefs.find(function(n){var r=i.edgeForId(n.edge_id,t);return r.v1===e||r.v2===e})})},facesForEdgeId:function(e,t){return t.faces.filter(function(t){return t.edgeRefs.find(function(t){return t.edge_id===e})})},ptsAreCollinear:function(e,t,i){var n=[e.x,e.y],r=n[0],a=n[1],o=[t.x,t.y],s=o[0],c=o[1],d=i.x,u=i.y;return Math.abs((c-a)*(d-s)-(u-c)*(s-r))<1e-5},syntheticRectangleSnaps:function(e,t,i){var n=(t.x+i.x)/2,r=(t.y+i.y)/2;return[].concat((0,s.default)(e.map(function(e){var t=e.x,i=e.y;return{y:i,x:t+2*(n-t),synthetic:!0,originalPt:{x:t,y:i}}})),(0,s.default)(e.map(function(e){var t=e.x,i=e.y;return{x:t,y:i+2*(r-i),synthetic:!0,originalPt:{x:t,y:i}}})))},edgeDirection:function(e){var t=e.start,i=e.end,n=i.x-t.x,r=i.y-t.y;return 0===n?.5*Math.PI:Math.atan(r/n)},haveSimilarAngles:function(e,t){var i=this.edgeDirection(e)-this.edgeDirection(t),n=Math.min(Math.abs(i),Math.PI-i);return n<.05*Math.PI},pointDistanceToSegment:function(e,t){var i=t.start,n=t.end,r=p.projectionOfPointToLine(e,{p1:i,p2:n});return{dist:p.distanceBetweenPoints(e,r),proj:r}},denormalize:function(e){var t=this,i=e.edges.map(function(i){return(0,a.default)({},i,{v1:t.vertexForId(i.v1,e),v2:t.vertexForId(i.v2,e)})}),n=d.default.zipObject(d.default.map(i,"id"),i),r=e.faces.map(function(e){return{id:e.id,edges:e.edgeRefs.map(function(e){var t=e.edge_id,i=e.reverse;return(0,a.default)({},n[t],{edge_id:t,reverse:i})}),get vertices(){return(0,f.dropConsecutiveDups)(d.default.flatMap(this.edges,function(e){return e.reverse?[e.v2,e.v1]:[e.v1,e.v2]}),function(e){return e.id})}}});return(0,a.default)({},e,{edges:i,faces:r})},normalize:function(e){var t=d.default.uniqBy([].concat((0,s.default)(e.edges),(0,s.default)(d.default.flatMap(e.faces,function(e){return e.edges}))),"id"),i=d.default.uniqBy([].concat((0,s.default)(e.vertices),(0,s.default)(d.default.flatMap(t,function(e){return[e.v1,e.v2]}))),"id");return{id:e.id,vertices:i.map(function(e){return d.default.pick(e,["id","x","y"])}),edges:t.map(function(e){return{id:e.id,v1:e.v1.id,v2:e.v2.id}}),faces:e.faces.map(function(e){return{id:e.id,edgeRefs:e.edges.map(function(e){return{edge_id:e.id,reverse:e.reverse}})}})}}};t.default=p},,,,,,,,,,,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(52),a=n(r);t.default=new a.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=1;t.default={setId:function(e){i=e},generate:function(){return function(){return String(i++)}}()}},,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ResizeGroup=t.Resize=t.ResizeEvents=void 0;var r=i(26),a=n(r),o=i(199),s=n(o),c=i(200),d=n(c);t.ResizeEvents=a.default,t.Resize=s.default,t.ResizeGroup=d.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={modes:{stories:"Story",images:"Image",spaces:"Space",shading:"Shading",building_units:"Building Unit",thermal_zones:"Thermal Zone",space_types:"Space Type"},palette:{shading:"#bbc3c7",neutral:"#bbc3c7",colors:["#002626","#007373","#000000","#004749","#009196","#8BC600","#b9ff14","#001516","#557a00","#E54C00","#ff7633","#993300","#EF9300","#ffb43d","#a36400"]}};t.default=i},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(35),a=n(r),o={displayNameForMode:function(e){return a.default.modes[e]},config:a.default};t.default=o},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=Date.now();return function(){var n=Date.now();if(i+t<n){i=n;for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];e.apply(this,a)}}}function a(e,t){var i;return function(){for(var n=this,r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];clearTimeout(i),i=setTimeout(function(){i=null,e.apply(n,a)},t)}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default,i={};return e.filter(function(e){var n=t(e);return!i[n]&&(i[n]=!0,!0)})}function s(e){return f.default.flatten(e.map(function(t,i){return e.slice(i+1).map(function(e){return[t,e]})}))}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.default;return e.filter(function(i,n){return 0===n||t(i)!==t(e[n-1])})}Object.defineProperty(t,"__esModule",{value:!0});var d=i(6),u=n(d);t.throttle=r,t.debounce=a,t.uniq=o,t.allPairs=s,t.dropConsecutiveDups=c;var l=i(24),f=n(l)},,,,,,,,,,,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(27),a=n(r),o=i(10);n(o);t.default={Vertex:function(e,t){return{id:a.default.generate(),x:e,y:t}},Edge:function(e,t){return{id:a.default.generate(),v1:e,v2:t}},Face:function(e){return{id:a.default.generate(),edgeRefs:e}},Geometry:function(){return{id:a.default.generate(),vertices:[],edges:[],faces:[]}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(27),a=n(r),o=i(108),s=n(o),c=i(35),d=n(c);t.default={Story:function(e){return{id:a.default.generate(),name:e,handle:null,geometry_id:null,below_floor_plenum_height:0,floor_to_ceiling_height:0,multiplier:0,spaces:[],windows:[],shading:[],images:[]}},Space:function(e){return{id:a.default.generate(),name:e,color:(0,s.default)("space"),handle:null,face_id:null,daylighting_controls:[],building_unit_id:null,thermal_zone_id:null,space_type_id:null,construction_set_id:null}},Shading:function(e){return{id:a.default.generate(),name:e,color:d.default.palette.shading,handle:null,face_id:null}},Image:function(e,t){return{id:a.default.generate(),src:t,name:e,visible:!0,height:0,width:0,x:0,y:0,z:0,r:0,opacity:1}},BuildingUnit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:a.default.generate(),color:(0,s.default)("building_unit"),name:e.name}},ThermalZone:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:a.default.generate(),color:(0,s.default)("thermal_zone"),name:e.name}},SpaceType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:a.default.generate(),color:(0,s.default)("space_type"),name:e.name}},ConstructionSet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:a.default.generate(),name:e.name}},Window:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:a.default.generate(),name:e.name}},DaylightingControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:a.default.generate(),name:e.name}}}},,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(5),s=i(198),c=n(s),d=i(194),u=n(d),l=i(191),f=n(l),p=i(201),h=n(p),m=i(195),y=n(m),g=i(196),v=n(g),_=i(34);t.default={name:"app",data:function(){return{error:null,success:null}},beforeCreate:function(){this.$store.dispatch("models/initStory")},mounted:function(){var e=this;this.$on("uploadImage",function(e){document.getElementById("upload-image-input").click()}),this.$on("error",function(t){e.error=t,setTimeout(function(){e.error=null},5e3)}),this.$on("success",function(t){e.success=t,setTimeout(function(){e.success=null},5e3)}),document.addEventListener("keydown",function(t){e.$store.timetravel&&(90===t.keyCode&&(t.ctrlKey||t.metaKey)?t.shiftKey?e.$store.timetravel.redo():e.$store.timetravel.undo():89==t.keyCode&&(t.ctrlKey||t.metaKey)&&e.$store.timetravel.redo())})},computed:(0,a.default)({},(0,o.mapState)({tool:function(e){return e.application.currentSelections.tool}})),components:{"grid-view":u.default,"canvas-view":f.default,"inspector-view":y.default,library:v.default,navigation:c.default,toolbar:h.default,resize:_.Resize,"resize-group":_.ResizeGroup}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(193),s=n(o),c=i(192),d=n(c),u=i(5);t.default={name:"app",data:function(){return{}},computed:(0,a.default)({},(0,u.mapState)({mapEnabled:function(e){return e.project.map.enabled},mapVisible:function(e){return e.project.map.visible},northAxis:function(e){return e.project.config.north_axis}})),components:{"map-view":s.default,"images-view":d.default}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(14),a=n(r),o=i(1),s=n(o),c=i(6),d=n(c),u=i(5),l=i(36),f=n(l),p=i(26),h=n(p),m=i(178),y=i(23);t.default={name:"images",data:function(){return{stage:null,layer:null,imageCache:[]}},mounted:function(){h.default.$on("resize-resize",this.renderImages),window.addEventListener("resize",this.renderImages),this.renderImages()},beforeDestroy:function(){h.default.$off("resize-resize",this.renderImages),window.removeEventListener("resize",this.renderImages)},methods:{renderImages:function(){this.imageCache=JSON.parse((0,d.default)(this.images)),this.stage=new m.Stage({container:"images",width:document.getElementById("canvas").clientWidth,height:document.getElementById("canvas").clientHeight}),this.layer=new m.Layer,this.stage.add(this.layer),this.images.forEach(this.renderImage),this.scaleAndPlaceStage()},renderImage:function(e){var t=this,i=-1*this.scaleY.invert(e.y),n=this.scaleX.invert(e.x),r=this.scaleX.invert(e.width),a=this.scaleY.invert(e.height),o=new m.Group({x:n,y:i,offset:{x:r/2,y:a/2},draggable:!0}),s=new m.Image({x:0,y:0,width:r,height:a,opacity:e.opacity,name:"image",stroke:"#6AAC15",strokeWidth:3,strokeEnabled:this.currentImage&&this.currentImage.id===e.id}),c=new m.Circle({x:r/2,y:a/2,radius:3,name:"center"});o.imageId=e.id,this.layer.add(o),o.add(s).add(c).setZIndex(e.z).rotation(e.r);var d=new Image;d.onload=function(){s.image(d),t.layer.draw()},d.src=e.src,this.initRotation(o),this.initResize(o),o.on("click",function(){t.currentImage=e}),o.on("dragend",function(){t.currentImage=e;var i=s.size().width,n=s.size().height,r=o.rotation(),a=c.getAbsolutePosition(t.layer).x,d=-1*c.getAbsolutePosition(t.layer).y;t.$store.dispatch("models/updateImageWithData",{image:e,x:t.scaleX(a),y:t.scaleY(d),r:r,width:t.scaleX(i),height:t.scaleY(n)})})},initRotation:function(e){var t=this,i=e.get(".center")[0],n=new m.Circle({radius:6,name:"rotateAnchorCircle",stroke:f.default.config.palette.neutral,strokeWidth:2}),r=new m.Line({stroke:f.default.config.palette.neutral,strokeWidth:2,name:"rotateAnchorLine"}),a=n.clone({name:"rotateAnchor",draggable:!0,strokeEnabled:!1});e.add(n).add(r).add(a),r.setZIndex(-10),a.on("dragmove",function(){var t=a.position(),n=t.x,r=t.y,o=i.position(),s=o.x,c=o.y,d=270+e.rotation(),u=180/Math.PI,l=u*Math.atan((r-c)/(n-s)),f=d+l;n<s&&(f-=180),e.rotation(f%360)}),a.on("dragend",function(){n.setRadius(6),a.position(n.position()),t.layer.draw()}),a.on("dragstart mouseover mousedown",function(){document.body.style.cursor="pointer",n.setRadius(10),t.layer.draw()}),a.on("mouseout",function(){document.body.style.cursor="default",n.setRadius(6),t.layer.draw()})},initResize:function(e){var t=e.get(".image")[0].size(),i=t.width,n=t.height;this.addResizeAnchor(e,0,0,"topLeft"),this.addResizeAnchor(e,i,0,"topRight"),this.addResizeAnchor(e,i,n,"bottomRight"),this.addResizeAnchor(e,0,n,"bottomLeft"),this.redrawAnchors(e)},redrawAnchors:function(e){var t=e.get(".image")[0],i=e.get(".center")[0],n=e.get(".rotateAnchor")[0],r=e.get(".rotateAnchorCircle")[0],a=e.get(".rotateAnchorLine")[0],o=t.position(),s=t.size(),c=s.width,d=s.height;i.position({x:o.x+c/2,y:o.y+d/2}),r.position({x:o.x+c/2,y:o.y+1.25*d}),n.position({x:o.x+c/2,y:o.y+1.25*d}),a.points([r.getX(),r.getY(),i.getX(),i.getY()]),e.draw()},addResizeAnchor:function(e,t,i,n){var r=this,a=new m.Circle({x:t,y:i,fill:f.default.config.palette.neutral,radius:3,name:n,draggable:!0});a.on("dragmove",function(){var t=e.get(".topLeft")[0],i=e.get(".topRight")[0],n=e.get(".bottomRight")[0],o=e.get(".bottomLeft")[0],s=a.position(),c=s.x,d=e.get(".image")[0],u=r.images.find(function(t){return t.id===e.imageId}),l=u.width/u.height,f=i.getX()-t.getX(),p=f/l,h=void 0;switch(a.getName()){case"topLeft":t.position({x:c,y:n.getY()-p}),i.setY(n.getY()-p),o.setX(c),h={x:n.getX()-f,y:n.getY()-p};break;case"topRight":t.setY(n.getY()-p),i.setY(n.getY()-p),n.setX(c),h={x:o.getX(),y:o.getY()-p};break;case"bottomRight":i.setX(c),n.position({x:c,y:p}),o.setY(p),h=d.position();break;case"bottomLeft":t.setX(c),n.setY(p),o.position({x:c,y:p}),h={x:i.getX()-f,y:i.getY()}}d.size({width:f,height:p}).position(h),r.redrawAnchors(e)}),a.on("mouseover",function(){document.body.style.cursor="pointer",a.setRadius(6).draw()}),a.on("mouseout",function(){document.body.style.cursor="default",a.setRadius(3).draw()}),e.add(a)},scaleAndPlaceStage:function(){var e=(this.scaleX.range()[1]-this.scaleX.range()[0])/(this.scaleX.domain()[1]-this.scaleX.domain()[0]),t=(this.view.max_x-this.view.min_x)/this.$refs.images.clientWidth,i=e/t;this.stage.scale({x:i,y:i}).position({x:this.rwuToPx(0,"x"),y:this.rwuToPx(0,"y")}).draw()},rwuToPx:function(e,t){var i=void 0;return"x"===t?i=y.scaleLinear().range([0,this.$refs.images.clientWidth]).domain([this.view.min_x,this.view.max_x]):"y"===t&&(i=y.scaleLinear().range([this.$refs.images.clientHeight,0]).domain([this.view.min_y,this.view.max_y])),i(e)}},computed:(0,s.default)({},(0,u.mapGetters)({currentStory:"application/currentStory"}),(0,u.mapState)({currentTool:function(e){return e.application.currentSelections.tool},scaleX:function(e){return e.application.scale.x},scaleY:function(e){return e.application.scale.y},view:function(e){return e.project.view}}),{images:function(){return this.currentStory.images},currentImage:{get:function(){return this.$store.getters["application/currentImage"]},set:function(e){this.$store.dispatch("application/setCurrentSubSelectionId",{id:e.id})}}}),watch:{images:{handler:function(e){var t=this;if(e.length!==this.imageCache.length)return void this.renderImages();var i=["height","width","x","y","r"];e.forEach(function(e,n){var r=t.imageCache[n];(0,a.default)(e).forEach(function(n){e[n]!==r[n]&&i.indexOf(n)===-1&&t.renderImages()})})},deep:!0},currentImage:function(){this.renderImages()},view:{handler:function(){this.scaleAndPlaceStage()},deep:!0}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(5),s=i(34),c=i(197),d=n(c),u=i(175)("AIzaSyDIja3lnhq63SxukBm9_mA-jn5R0Bj9RN8",["places"]),l=i(179),f=i(23);t.default={name:"map",data:function(){return{view:null,map:null,autocomplete:null,mapModalVisible:!window.api||window.api.config.showMapDialogOnStart,showGrid:!1}},mounted:function(){this.showGrid=this.gridVisible,this.initAutoComplete(),this.loadMap(),s.ResizeEvents.$on("resize-resize",this.map.updateSize)},beforeDestroy:function(){s.ResizeEvents.$off("resize-resize",this.map.updateSize)},methods:{initAutoComplete:function(){var e=this;u().then(function(t){var i=new t.places.Autocomplete(e.$refs.addressSearch);i.addListener("place_changed",function(){var t=i.getPlace();t.geometry&&(e.latitude=t.geometry.location.lat(),e.longitude=t.geometry.location.lng())})})},loadMap:function(){this.$refs.map.innerHTML="",this.view=new l.View,this.map=new l.Map({layers:[new l.layer.Tile({source:new l.source.OSM})],target:"map",view:this.view}),this.updateMapView()},updateMapView:function(){var e=(this.min_x+this.max_x)/2,t=(this.min_y+this.max_y)/2,i=(this.max_x-this.min_x)/this.$refs.map.clientWidth;if("ft"===this.units){var n=l.proj.METERS_PER_UNIT["us-ft"];i*=n,e*=n,t*=n}var r=l.proj.fromLonLat([this.longitude,this.latitude]),a=e*Math.cos(this.rotation)-t*Math.sin(this.rotation),o=t*Math.cos(this.rotation)+e*Math.sin(this.rotation);if(this.view.getCenter()){var s=1/l.proj.getPointResolution(this.view.getProjection(),1,this.view.getCenter());i*=s,a*=s,o*=s}r[0]+=a,r[1]+=o,this.view.setResolution(i),this.view.setCenter(r),this.view.setRotation(this.rotation)},finishSetup:function(){var e=l.proj.transform(this.view.getCenter(),"EPSG:3857","EPSG:4326");this.longitude=e[0],this.latitude=e[1],this.rotation=this.view.getRotation(),this.$store.dispatch("project/setMapInitialized",{initialized:!0}),this.tool="Rectangle",f.select("#reticle").remove(),this.gridVisible=this.showGrid,this.$store.timetravel||(!this.$store.state.project.map.enabled||this.$store.state.project.map.enabled&&this.$store.state.project.map.initialized)&&window.eventBus.$emit("initTimetravel")},showReticle:function(){if("Map"===this.tool){this.gridVisible=!1;var e=100,t=this.$refs.map.clientWidth/2,i=this.$refs.map.clientHeight/2;f.select("#reticle").selectAll("#reticle path").data([[{x:t,y:i-e},{x:t,y:i+e}],[{x:t-e,y:i},{x:t+e,y:i}]]).enter().append("path").attr("stroke-width","1").attr("stroke","gray").attr("d",f.line().x(function(e){return e.x}).y(function(e){return e.y}))}}},computed:(0,a.default)({},(0,o.mapState)({projectView:function(e){return e.project.view},min_x:function(e){return e.project.view.min_x},max_x:function(e){return e.project.view.max_x},min_y:function(e){return e.project.view.min_y},max_y:function(e){return e.project.view.max_y},units:function(e){return e.project.config.units},mapInitialized:function(e){return e.project.map.initialized}}),{gridVisible:{get:function(){return this.$store.state.project.grid.visible},set:function(e){this.$store.dispatch("project/setGridVisible",{visible:e})}},tool:{get:function(){return this.$store.state.application.currentSelections.tool},set:function(e){this.$store.dispatch("application/setCurrentTool",{tool:e})}},latitude:{get:function(){return this.$store.state.project.map.latitude},set:function(e){this.$store.dispatch("project/setMapLatitude",{latitude:e})}},longitude:{get:function(){return this.$store.state.project.map.longitude},set:function(e){this.$store.dispatch("project/setMapLongitude",{longitude:e})}},rotation:{get:function(){return this.$store.state.project.map.rotation},set:function(e){this.$store.dispatch("project/setMapRotation",{rotation:e})}}}),watch:{latitude:function(){this.updateMapView()},longitude:function(){this.updateMapView()},rotation:function(){this.updateMapView()},projectView:{handler:function(){this.updateMapView()},deep:!0}},components:{MapModal:d.default}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(5),s=i(37),c=i(84),d=n(c),u=i(10),l=n(u),f=i(7),p=n(f),h=i(36),m=n(h),y=i(34),g=i(23);t.default={name:"grid",data:function(){return{points:[],original_bounds:{min_x:null,min_y:null,max_x:null,max_y:null,pxWidth:null,pxHeight:null},axis:{x:null,y:null},axis_generator:{x:null,y:null},transform:{x:0,y:0,k:1,kAbs:1},handleMouseMove:null,forceGridHide:!1}},mounted:function(){this.handleMouseMove=(0,s.throttle)(this.highlightSnapTarget,100),this.renderGrid=(0,s.debounce)(this.renderGrid,5),this.$refs.grid.addEventListener("reloadGrid",this.renderGrid),this.$refs.grid.addEventListener("click",this.gridClicked),this.$refs.grid.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("keyup",this.escapeAction),window.addEventListener("resize",this.renderGrid),y.ResizeEvents.$on("resize-resize",this.renderGrid),this.renderGrid()},beforeDestroy:function(){this.$refs.grid.removeEventListener("reloadGrid",this.renderGrid),this.$refs.grid.removeEventListener("click",this.gridClicked),this.$refs.grid.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("keyup",this.escapeAction),window.removeEventListener("resize",this.renderGrid),y.ResizeEvents.$off("resize-resize",this.renderGrid)},computed:(0,a.default)({},(0,o.mapState)({currentMode:function(e){return e.application.currentSelections.mode},currentTool:function(e){return e.application.currentSelections.tool},previousStoryVisible:function(e){return e.project.previous_story.visible},gridVisible:function(e){return e.project.grid.visible},units:function(e){return e.project.config.units},spacing:function(e){return e.project.grid.spacing},scaleX:function(e){return e.application.scale.x},scaleY:function(e){return e.application.scale.y}}),(0,o.mapGetters)({currentStory:"application/currentStory",currentStoryGeometry:"application/currentStoryGeometry",currentSpace:"application/currentSpace",currentShading:"application/currentShading"}),{currentSubSelection:{get:function(){return this.$store.getters["application/currentSubSelection"]},set:function(e){this.$store.dispatch("application/setCurrentSubSelectionId",{id:e.id})}},min_x:{get:function(){return this.$store.state.project.view.min_x},set:function(e){this.$store.dispatch("project/setViewMinX",{min_x:e})}},min_y:{get:function(){return this.$store.state.project.view.min_y},set:function(e){this.$store.dispatch("project/setViewMinY",{min_y:e})}},max_x:{get:function(){return this.$store.state.project.view.max_x},set:function(e){this.$store.dispatch("project/setViewMaxX",{max_x:e})}},max_y:{get:function(){return this.$store.state.project.view.max_y},set:function(e){this.$store.dispatch("project/setViewMaxY",{max_y:e})}},previousStory:function(){var e=this,t=this.$store.state.models.stories.findIndex(function(t){return t===e.currentStory});return 0===t?null:this.$store.state.models.stories[t-1]},previousStoryGeometry:function(){var e=this;return this.previousStory?this.$store.state.geometry.find(function(t){return t.id===e.previousStory.geometry_id}):null},previousStoryPolygons:function(){var e=this;return this.previousStoryVisible&&this.previousStoryGeometry?this.previousStoryGeometry.faces.map(function(t){var i=p.default.modelForFace(e.$store.state.models,t.id),n={face_id:t.id,previous_story:!0,color:i.color,points:t.edgeRefs.map(function(t){var i=l.default.edgeForId(t.edge_id,e.previousStoryGeometry),n=t.reverse?i.v2:i.v1;return l.default.vertexForId(n,e.previousStoryGeometry)})};if("space"===i.type)if("thermal_zones"===e.currentMode){var r=p.default.libraryObjectWithId(e.$store.state.models,i.thermal_zone_id);n.color=r?r.color:m.default.config.palette.neutral}else if("space_types"===e.currentMode){var a=p.default.libraryObjectWithId(e.$store.state.models,i.space_type_id);n.color=a?a.color:m.default.config.palette.neutral}else if("building_units"===e.currentMode){var o=p.default.libraryObjectWithId(e.$store.state.models,i.building_unit_id);n.color=o?o.color:m.default.config.palette.neutral}return n}):[]},polygons:function(){var e=this,t=this.currentStoryGeometry.faces.map(function(t){var i=p.default.modelForFace(e.$store.state.models,t.id),n={face_id:t.id,name:i.name,color:i.color,points:t.edgeRefs.map(function(t){var i=l.default.edgeForId(t.edge_id,e.currentStoryGeometry),n=t.reverse?i.v2:i.v1;return l.default.vertexForId(n,e.currentStoryGeometry)})};if("space"===i.type)if("thermal_zones"===e.currentMode){var r=p.default.libraryObjectWithId(e.$store.state.models,i.thermal_zone_id);n.color=r?r.color:m.default.config.palette.neutral}else if("space_types"===e.currentMode){var a=p.default.libraryObjectWithId(e.$store.state.models,i.space_type_id);n.color=a?a.color:m.default.config.palette.neutral}else if("building_units"===e.currentMode){var o=p.default.libraryObjectWithId(e.$store.state.models,i.building_unit_id);n.color=o?o.color:m.default.config.palette.neutral}return n});return this.previousStoryPolygons?this.previousStoryPolygons.concat(t):t}}),watch:{gridVisible:function(){this.updateGrid()},spacing:function(){this.updateGrid()},forceGridHide:function(){this.updateGrid()},currentMode:function(){this.drawPolygons()},polygons:function(){this.drawPolygons()},currentTool:function(){this.points=[],this.drawPolygons()},currentSpace:function(){this.points=[],this.drawPolygons()},currentShading:function(){this.points=[],this.drawPolygons()},points:function(){0===this.points.length&&this.eraseGuidelines(),this.drawPoints()},transform:function(e,t){this.forceGridHide=e.kAbs<.1,e.kAbs<.5?g.select("#svg-grid").selectAll(".polygon-text").style("display","none"):g.select("#svg-grid").selectAll(".polgyon-text").style("display","initial"),this.points.length&&(e.kAbs!==t.kAbs||Math.abs(t.y-e.y)>3||Math.abs(t.x-e.x)>3)&&(this.points=[]);
}},methods:d.default}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(5),s=i(10),c=n(s);t.default={name:"inspector",data:function(){return{geometryInspector:!0,storyInspector:!1}},methods:{startpoint:function(e){var t=this.edgeForId(e.edge_id);if(e.reverse){var i=this.vertexForId(t.v2);return"v2 "+i.id+" ("+i.x+", "+i.y+")"}var n=this.vertexForId(t.v1);return"v1 "+n.id+" ("+n.x+", "+n.y+")"},endpoint:function(e){var t=this.edgeForId(e.edge_id);if(!e.reverse){var i=this.vertexForId(t.v2);return i.id+" (v2) ("+i.x+", "+i.y+")"}var n=this.vertexForId(t.v1);return n.id+" (v1) ("+n.x+", "+n.y+")"},edgeForId:function(e){return c.default.edgeForId(e,this.currentStoryGeometry)},vertexForId:function(e){return c.default.vertexForId(e,this.currentStoryGeometry)}},computed:(0,a.default)({},(0,o.mapGetters)({currentStory:"application/currentStory",currentSubSelectionFace:"application/currentSubSelectionFace",currentStoryGeometry:"application/currentStoryGeometry",currentSpace:"application/currentSpace",currentShading:"application/currentShading"}))}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(14),a=n(r),o=i(6),s=n(o),c=i(1),d=n(c),u=i(5),l=i(7),f=n(l),p=i(176);t.default={name:"library",data:function(){return{search:"",sortKey:"id",sortDescending:!0,type:null,huebs:{}}},mounted:function(){this.type=this.mode,this.configurePickers()},computed:(0,d.default)({},(0,u.mapState)({mode:function(e){return e.application.currentSelections.mode},stories:function(e){return e.models.stories}}),(0,u.mapGetters)({currentSpace:"application/currentSpace",currentShading:"application/currentShading",currentImage:"application/currentImage"}),{currentStory:{get:function(){return this.$store.getters["application/currentStory"]},set:function(e){this.$store.dispatch("application/setCurrentStoryId",{id:e.id})}},currentSubSelection:{get:function(){return this.$store.getters["application/currentSubSelection"]},set:function(e){this.$store.dispatch("application/setCurrentSubSelectionId",{id:e.id})}},currentThermalZone:{get:function(){return this.$store.getters["application/currentThermalZone"]},set:function(e){this.$store.dispatch("application/setCurrentThermalZoneId",{id:e.id})}},currentBuildingUnit:{get:function(){return this.$store.getters["application/currentBuildingUnit"]},set:function(e){this.$store.dispatch("application/setCurrentBuildingUnitId",{id:e.id})}},currentSpaceType:{get:function(){return this.$store.getters["application/currentSpaceType"]},set:function(e){this.$store.dispatch("application/setCurrentSpaceTypeId",{id:e.id})}},selectedObject:{get:function(){switch(this.type){case"stories":return this.currentStory;case"building_units":return this.currentBuildingUnit;case"thermal_zones":return this.currentThermalZone;case"space_types":return this.currentSpaceType;default:return this.currentSubSelection}},set:function(e){switch(this.type){case"stories":this.currentStory=e;break;case"building_units":this.currentBuildingUnit=e;break;case"thermal_zones":this.currentThermalZone=e;break;case"space_types":this.currentSpaceType=e;break;default:this.currentSubSelection=e}}},extendedLibrary:function(){for(var e=[],t=[],i=[],n=0;n<this.$store.state.models.stories.length;n++)e=e.concat(this.$store.state.models.stories[n].spaces),t=t.concat(this.$store.state.models.stories[n].shading),i=i.concat(this.$store.state.models.stories[n].images);return JSON.parse((0,s.default)((0,d.default)({},this.$store.state.models.library,{stories:this.$store.state.models.stories,spaces:e,shading:t,images:i})))},displayObjects:function(){var e=this;return(this.extendedLibrary[this.type]||[]).filter(function(t){return(0,a.default)(t).some(function(i){var n=String(e.valueForKey(t,i)).toLowerCase();return n.includes(e.search.toLowerCase())})}).sort(function(t,i){return t[e.sortKey]===i[e.sortKey]?0:e.sortDescending?t[e.sortKey]>i[e.sortKey]?-1:1:t[e.sortKey]<i[e.sortKey]?-1:1})},columns:function e(){var t=this,e=[];this.displayObjects.forEach(function(i){(0,a.default)(i).forEach(function(i){e.indexOf(i)!==-1||t.keyIsPrivate(t.type,i)||e.push(i)})});var i=f.default.defaultKeysForType(this.type);return i.forEach(function(i){e.indexOf(i)!==-1||t.keyIsPrivate(t.type,i)||e.push(i)}),e}}),methods:{configurePickers:function(){for(var e=this,t=document.querySelectorAll(".input-color > input"),i=function(i){var n=t[i].getAttribute("object-id");e.huebs[n]=new p(t[i],{saturations:1}),e.huebs[n].handler=function(t){var i=f.default.libraryObjectWithId(e.$store.state.models,n);e.setValueForKey(i,"color",t)},e.huebs[n].on("change",e.huebs[n].handler)},n=0;n<t.length;n++)i(n)},valueForKey:function(e,t){return f.default.valueForKey(e,this.$store.state,this.type,t)},setValueForKey:function(e,t,i){var n=f.default.setValueForKey(e,this.$store,this.type,t,i);n.success||window.eventBus.$emit("error",n.error)},keyIsReadonly:function(e,t){return f.default.keyIsReadonly(this.type,t)},keyIsPrivate:function(e,t){return f.default.keyIsPrivate(this.type,t)},inputTypeForKey:function(e){return f.default.inputTypeForKey(this.type,e)},selectOptionsForObjectAndKey:function(e,t){return f.default.selectOptionsForKey(e,this.$store.state,this.type,t)},createObject:function(){switch(this.type){case"stories":return void this.$store.dispatch("models/initStory");case"spaces":this.$store.dispatch("models/initSpace",{story:this.currentStory});break;case"shading":this.$store.dispatch("models/initShading",{story:this.currentStory});break;case"images":window.eventBus.$emit("uploadImage");break;default:this.$store.dispatch("models/createObjectWithType",{type:this.type})}this.displayObjects.length&&(this.selectedObject=this.displayObjects[this.displayObjects.length-1])},destroyObject:function(e){var t=this;switch(this.type){case"stories":return void this.$store.dispatch("models/destroyStory",{story:e});case"spaces":this.$store.dispatch("models/destroySpace",{space:e,story:this.$store.state.models.stories.find(function(i){return i[t.type].find(function(t){return t.id===e.id})})});break;case"shading":this.$store.dispatch("models/destroyShading",{shading:e,story:this.$store.state.models.stories.find(function(i){return i[t.type].find(function(t){return t.id===e.id})})});break;case"images":this.$store.dispatch("models/destroyImage",{image:e,story:this.$store.state.models.stories.find(function(i){return i[t.type].find(function(t){return t.id===e.id})})});break;default:this.$store.dispatch("models/destroyObject",{object:e})}},displayTypeForType:function(e){return f.default.map[e].displayName},displayNameForKey:function(e){return f.default.displayNameForKey(this.type,e)},sortBy:function(e){this.sortDescending=this.sortKey!==e||!this.sortDescending,this.sortKey=e}},watch:{displayObjects:function(){this.$nextTick(this.configurePickers)},type:function(){this.search="",this.sortKey="id",this.sortDescending=!0}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"MapModal",data:function(){return{address:""}},computed:{mapEnabled:{get:function(){return this.$store.state.project.map.enabled},set:function(e){this.$store.dispatch("project/setMapEnabled",{enabled:e}),e||window.eventBus.$emit("initTimetravel")}},tool:{get:function(){return this.$store.state.application.currentSelections.tool},set:function(e){this.$store.dispatch("application/setCurrentTool",{tool:e})}}},methods:{importModelAsFile:function(e){var t=this,i=e.target.files[0],n=new FileReader;n.addEventListener("load",function(){t.importModel(n.result)},!1),i&&n.readAsText(i)},importModel:function(e){this.$store.dispatch("importModel",{clientWidth:document.getElementById("svg-grid").clientWidth,clientHeight:document.getElementById("svg-grid").clientHeight,data:JSON.parse(e)}),this.$emit("close")}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(5),s=i(36),c=n(s),d=i(7),u=n(d);t.default={name:"navigation",data:function(){return{}},mounted:function(){this.selectedObject=this.items[0]},computed:(0,a.default)({},(0,o.mapState)({modes:function(e){return e.application.modes},stories:function(e){return e.models.stories},building_units:function(e){return e.models.library.building_units},space_types:function(e){return e.models.library.space_types},thermal_zones:function(e){return e.models.library.thermal_zones},max_x:function(e){return e.project.view.max_x},max_y:function(e){return e.project.view.max_y},min_x:function(e){return e.project.view.min_x},min_y:function(e){return e.project.view.min_y},scaleX:function(e){return e.application.scale.x},scaleY:function(e){return e.application.scale.y}}),(0,o.mapGetters)({currentSpace:"application/currentSpace",currentShading:"application/currentShading",currentImage:"application/currentImage"}),{currentStory:{get:function(){return this.$store.getters["application/currentStory"]},set:function(e){this.$store.dispatch("application/setCurrentStoryId",{id:e.id})}},currentSubSelection:{get:function(){return this.$store.getters["application/currentSubSelection"]},set:function(e){this.$store.dispatch("application/setCurrentSubSelectionId",{id:e?e.id:null})}},spaces:function(){return this.currentStory.spaces},shading:function(){return this.currentStory.shading},images:function(){return this.currentStory.images},items:function(){return this[this.mode]},mode:{get:function(){return this.$store.state.application.currentSelections.mode},set:function(e){this.$store.dispatch("application/setCurrentMode",{mode:e})}},currentThermalZone:{get:function(){return this.$store.getters["application/currentThermalZone"]},set:function(e){this.$store.dispatch("application/setCurrentThermalZoneId",{id:e.id})}},currentBuildingUnit:{get:function(){return this.$store.getters["application/currentBuildingUnit"]},set:function(e){this.$store.dispatch("application/setCurrentBuildingUnitId",{id:e.id})}},currentSpaceType:{get:function(){return this.$store.getters["application/currentSpaceType"]},set:function(e){this.$store.dispatch("application/setCurrentSpaceTypeId",{id:e.id})}},selectedObject:{get:function(){switch(this.mode){case"stories":return this.currentStory;case"building_units":return this.currentBuildingUnit;case"thermal_zones":return this.currentThermalZone;case"space_types":return this.currentSpaceType;default:return this.currentSubSelection}},set:function(e){switch(this.mode){case"stories":this.currentStory=e;break;case"building_units":this.currentBuildingUnit=e;break;case"thermal_zones":this.currentThermalZone=e;break;case"space_types":this.currentSpaceType=e;break;default:this.currentSubSelection=e}}}}),methods:{uploadImage:function(e){for(var t=e.target.files,i=this,n=function(e){var n=t[e],r=new FileReader;r.addEventListener("load",function(){var e=new Image;e.onload=function(){var t=document.getElementById("grid").clientWidth/(i.max_x-i.min_x),n=e.height/t/4,r=e.width/t/4;i.$store.dispatch("models/createImageForStory",{story_id:i.currentStory.id,src:e.src,name:u.default.generateName(i.$store.state.models,"images",i.currentStory),height:n,width:r,x:i.min_x+r/2,y:i.max_y-n/2})},e.src=r.result},!1),n&&r.readAsDataURL(n)},r=0;r<t.length;r++)n(r)},createItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mode;switch(e){case"stories":return void this.$store.dispatch("models/initStory");case"spaces":this.$store.dispatch("models/initSpace",{story:this.currentStory});break;case"shading":this.$store.dispatch("models/initShading",{story:this.currentStory});break;case"building_units":case"thermal_zones":case"space_types":this.$store.dispatch("models/createObjectWithType",{type:e})}this.selectItem(this.items[this.items.length-1],e)},destroyItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mode;if(!(this[t].length<=1)||"stories"!==t&&"spaces"!==t)switch(t){case"stories":this.$store.dispatch("models/destroyStory",{story:e});break;case"spaces":this.$store.dispatch("models/destroySpace",{space:e,story:this.currentStory});break;case"shading":this.$store.dispatch("models/destroyShading",{shading:e,story:this.currentStory});break;case"images":this.$store.dispatch("models/destroyImage",{image:e,story:this.currentStory});break;case"building_units":case"thermal_zones":case"space_types":this.$store.dispatch("models/destroyObject",{object:e})}},selectItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mode;switch(t){case"stories":this.currentStory=e;break;case"building_units":this.currentBuildingUnit=e;break;case"thermal_zones":this.currentThermalZone=e;break;case"space_types":this.currentSpaceType=e;break;default:this.currentSubSelection=e}},displayNameForMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mode;return c.default.displayNameForMode(e)}},watch:{}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(26),a=n(r);t.default={name:"resize",data:function(){return{}},props:["resize-top","resize-right","resize-right-min","resize-top-min"],mounted:function(){this.$el.classList.add("resize"),this.resizeTop&&this.$refs.topbar.addEventListener("mousedown",this.initTop),this.resizeRight&&this.$refs.rightbar.addEventListener("mousedown",this.initRight)},methods:{initTop:function(){function e(e){e.preventDefault();var t=window.innerHeight,a=t-e.clientY;i.style.top=(a<r?t-r:e.clientY)+"px",n()}function t(i){window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t)}var i=this.$el,n=this.notify,r=this.resizeTopMin||0;window.addEventListener("mousemove",e),window.addEventListener("mouseup",t)},initRight:function(){function e(e){e.preventDefault(),i.style.width=(e.clientX<r?r:e.clientX)+"px",n()}function t(i){window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t)}var i=this.$el,n=this.notify,r=this.resizeRightMin||0;window.addEventListener("mousemove",e),window.addEventListener("mouseup",t)},notify:function(){a.default.$emit("resize-resize",{top:this.resizeTop&&this.$el.style.top,right:this.resizeRight&&this.$el.style.width})}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(26),a=n(r);t.default={name:"resizegroup",props:["vertical","horizontal"],data:function(){return{}},mounted:function(){a.default.$on("resize-resize",this.handleResize)},beforeDestroy:function(){a.default.$off("resize-resize",this.handleResize)},methods:{handleResize:function(e){if(this.vertical){for(var t,i=this.$el.children.length;i--;){var n=this.$el.children[i];if(~n.className.indexOf("resize")){t=n.style.top.match(/\d+/),t=t&&t[0];break}}if(t)for(var r=this.$el.children.length;r--;){var a=this.$el.children[r];~a.className.indexOf("resize")||(a.style.bottom=window.innerHeight-t+"px")}}if(this.horizontal){for(var o,s=this.$el.children.length;s--;){var c=this.$el.children[s];if(~c.className.indexOf("resize")){o=c.style.width.match(/\d+/),o=o&&o[0];break}}if(o)for(var d=this.$el.children.length;d--;){var u=this.$el.children[d];~u.className.indexOf("resize")||(u.style.left=o+"px")}}}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(6),s=n(o),c=i(5);t.default={name:"toolbar",methods:{exportData:function(){var e=this.$store.getters.exportData,t=document.createElement("a");return t.setAttribute("href","data:text/json;charset=utf-8,"+encodeURIComponent((0,s.default)(e))),t.setAttribute("download","floorplan.json"),t.click(),console.log("exporting:\n"+(0,s.default)(e)),e},importDataAsFile:function(e,t){var i=this,n=e.target.files[0],r=new FileReader;r.addEventListener("load",function(){var e=void 0;try{e=JSON.parse(r.result)}catch(e){return void window.eventBus.$emit("error","Invalid JSON")}"library"===t?i.$store.dispatch("importLibrary",{data:e}):"floorplan"===t&&i.$store.dispatch("importModel",{clientWidth:document.getElementById("svg-grid").clientWidth,clientHeight:document.getElementById("svg-grid").clientHeight,data:e})},!1),n&&r.readAsText(n)},undo:function(){this.$store.timetravel.undo()},redo:function(){this.$store.timetravel.redo()}},computed:(0,a.default)({},(0,c.mapState)({currentMode:function(e){return e.application.currentSelections.mode},mapEnabled:function(e){return e.project.map.enabled},timetravelInitialized:function(e){return e.timetravelInitialized}}),{availableTools:function(){var e=this;return this.$store.state.application.tools.filter(function(t){return"Rectangle"===t||"Polygon"===t||"Eraser"===t||"Select"===t?"spaces"===e.currentMode||"shading"===e.currentMode:"Drag"===t||"Pan"===t?"images"===e.currentMode:"Fill"!==t||e.previousStoryVisible&&("spaces"===e.currentMode||"shading"===e.currentMode)}).filter(function(e){return"Map"!==e})},northAxis:{get:function(){return this.$store.state.project.config.north_axis+"°"},set:function(e){this.$store.dispatch("project/setNorthAxis",{north_axis:e})}},gridVisible:{get:function(){return this.$store.state.project.grid.visible},set:function(e){this.$store.dispatch("project/setGridVisible",{visible:e})}},mapVisible:{get:function(){return this.$store.state.project.map.visible},set:function(e){this.$store.dispatch("project/setMapVisible",{visible:e})}},previousStoryVisible:{get:function(){return this.$store.state.project.previous_story.visible},set:function(e){this.$store.dispatch("project/setPreviousStoryVisible",{visible:e})}},tool:{get:function(){return this.$store.state.application.currentSelections.tool},set:function(e){this.$store.dispatch("application/setCurrentTool",{tool:e})}},spacing:{get:function(){return this.$store.state.project.grid.spacing+" "+this.$store.state.project.config.units},set:function(e){this.$store.dispatch("project/setSpacing",{spacing:e})}}}),watch:{tool:function(e){this.availableTools.indexOf(e)===-1&&"Map"!==e&&(this.tool=this.availableTools[0])},currentMode:function(){this.tool=this.availableTools[0]}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(56),a=n(r),o=i(6),s=n(o),c=i(1),d=n(c),u=i(21),l=n(u),f=i(10),p=n(f),h=i(7),m=n(h),y=i(23),g=i(180);t.default={gridClicked:function(e){"Eraser"!==this.currentTool&&("Rectangle"!==this.currentTool&&"Polygon"!==this.currentTool||!this.currentSpace&&!this.currentShading)||this.addPoint(e)},addPoint:function(e){var t={x:this.pxToGrid(e.offsetX,"x"),y:this.pxToGrid(e.offsetY,"y")},i=this.findSnapTarget(t);if("vertex"===i.type&&i.origin&&"Polygon"===this.currentTool)return void this.savePolygonFace();var n="edge"===i.type?i.projection:i;this.points.push(n),"Eraser"===this.currentTool&&2===this.points.length&&this.eraseRectangularSelection(),"Rectangle"===this.currentTool&&2===this.points.length&&this.saveRectuangularFace()},highlightSnapTarget:function(e){if("Eraser"===this.currentTool||("Rectangle"===this.currentTool||"Polygon"===this.currentTool)&&(this.currentSpace||this.currentShading)){y.selectAll("#grid .highlight, #grid .gridpoint").remove();var t={x:this.pxToGrid(e.offsetX,"x"),y:this.pxToGrid(e.offsetY,"y")},i=this.findSnapTarget(t),n="edge"===i.type?i.projection:i,r=i.synthetic?i.originalPt:n;this.drawGuideLines(e,n),"edge"===i.type||"vertex"===i.type?y.select("#grid svg").append("ellipse").attr("cx",r.x,"x").attr("cy",r.y,"y").attr("rx",this.scaleX(5)).attr("ry",this.scaleY(5)).classed("highlight",!0).attr("vector-effect","non-scaling-stroke"):y.select("#grid svg").append("ellipse").attr("cx",r.x).attr("cy",r.y).attr("rx",this.scaleX(2)).attr("ry",this.scaleY(2)).classed("gridpoint",!0).attr("vector-effect","non-scaling-stroke"),"edge"===i.type&&"Eraser"!==this.currentTool&&y.select("#grid svg").append("line").attr("x1",i.v1GridCoords.x).attr("y1",i.v1GridCoords.y).attr("x2",i.v2GridCoords.x).attr("y2",i.v2GridCoords.y).attr("stroke-width",1).classed("highlight",!0).attr("vector-effect","non-scaling-stroke")}},drawGuideLines:function(e,t){var i=this;if(this.points.length){this.eraseGuidelines();var n,r;"Polygon"===this.currentTool?(n=[t,this.points[this.points.length-1]],r=[n]):"Rectangle"!==this.currentTool&&"Eraser"!==this.currentTool||(n=[this.points[0],{x:t.x,y:this.points[0].y},t,{x:this.points[0].x,y:t.y},this.points[0]],r=[[n[0],n[1]],[n[1],n[2]]]);var a="Polygon"===this.currentTool?[].concat((0,l.default)(this.points),[t,this.points[0]]):n,o=[a,this.points],s=y.select("#grid svg");if(s.selectAll(".guideline-line").append("path").datum(n).attr("fill","none").classed("guideline guideline-line",!0).attr("vector-effect","non-scaling-stroke").attr("d",y.line().x(function(e){return e.x}).y(function(e){return e.y})).lower(),s.selectAll(".guideline-area").data(o).enter().append("polygon").attr("points",function(e){return e.map(function(e){return[e.x,e.y].join(",")}).join(" ")}).classed("guideline guideline-area guideLine",!0).attr("vector-effect","non-scaling-stroke").attr("fill",function(){return"Eraser"===i.currentTool?"none":i.currentSpace?i.currentSpace.color:i.currentShading?i.currentShading.color:void 0}),"Eraser"!==this.currentTool){if(s.selectAll(".guideline-text").data(r).enter().append("text").attr("x",function(e){return e[0].x+(e[1].x-e[0].x)/2}).attr("y",function(e){return e[0].y+(e[1].y-e[0].y)/2}).attr("dx",-1.25*(this.transform.k>1?1:this.transform.k)+"em").text(function(e){var t=i.transform.k,n=i.distanceBetweenPoints({x:e[0].x/t,y:e[0].y/t},{x:e[1].x/t,y:e[1].y/t});return n?n.toFixed(2):""}).classed("guideline guideline-text",!0).attr("font-family","sans-serif").attr("fill","red").style("font-size","1em"),a.length>3){var c=a.map(function(e){var t=i.gridToRWU(e.x,"x"),n=i.gridToRWU(e.y,"y");return{x:t,y:n,X:t,Y:n}}),d=this.polygonLabelPosition(c),u=d.x,f=d.y,p=d.area,h=p?p.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):"";if(h+=" "+this.units+"²",null===u||null===f)return;s.append("text").attr("x",u).attr("y",f).text(h).classed("guideline guideline-text guideLine",!0).attr("text-anchor","middle").attr("font-family","sans-serif").attr("fill","red").style("font-size","1em").raise()}y.selectAll(".vertical, .horizontal").lower()}}},eraseGuidelines:function(){y.selectAll("#grid .guideline").remove()},escapeAction:function(e){"Escape"!==e.code&&27!==e.which||(this.points=[])},savePolygonFace:function(){var e=this,t={points:this.points.map(function(t){return{x:e.gridToRWU(t.x,"x"),y:e.gridToRWU(t.y,"y")}})};this.currentSpace?t.model_id=this.currentSpace.id:this.currentShading&&(t.model_id=this.currentShading.id),this.$store.dispatch("geometry/createFaceFromPoints",t),this.points=[]},saveRectuangularFace:function(){var e=this,t={};t.points=[this.points[0],{x:this.points[1].x,y:this.points[0].y},this.points[1],{x:this.points[0].x,y:this.points[1].y}].map(function(t){return{x:e.gridToRWU(t.x,"x"),y:e.gridToRWU(t.y,"y")}}),this.currentSpace?t.model_id=this.currentSpace.id:this.currentShading&&(t.model_id=this.currentShading.id),this.$store.dispatch("geometry/createFaceFromPoints",t),this.points=[]},eraseRectangularSelection:function(){var e=this,t={points:[this.points[0],{x:this.points[1].x,y:this.points[0].y},this.points[1],{x:this.points[0].x,y:this.points[1].y}]};t.points=t.points.map(function(t){return{x:e.gridToRWU(t.x,"x"),y:e.gridToRWU(t.y,"y")}}),this.$store.dispatch("geometry/eraseSelection",t),this.points=[]},drawPoints:function(){y.selectAll("#grid ellipse, #grid path").remove(),y.select("#grid svg").selectAll("ellipse").data(this.points).enter().append("ellipse").attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}).attr("rx",this.scaleX(2)).attr("ry",this.scaleY(2)).attr("vector-effect","non-scaling-stroke"),y.select("#grid svg").select("ellipse").attr("rx",this.scaleX(7)).attr("ry",this.scaleY(7)).classed("origin",!0).attr("vector-effect","non-scaling-stroke").attr("fill","none"),y.select("#grid svg").append("path").datum(this.points).attr("fill","none").attr("vector-effect","non-scaling-stroke").attr("d",y.line().x(function(e){return e.x}).y(function(e){return e.y})).lower(),y.selectAll(".vertical, .horizontal").lower()},registerDrag:function(){var e=this,t=y.select("#grid svg").selectAll("polygon"),i=0,n=0,r=this,a=y.drag().on("start",function(t){y.select("#text-"+t.face_id).remove(),"Select"!==e.currentTool||t.previous_story?"Fill"===e.currentTool&&(e.currentSpace||e.currentShading)&&(e.points=t.points.map(function(t){return{x:e.rwuToGrid(t.x,"x"),y:e.rwuToGrid(t.y,"y")}}),e.savePolygonFace()):e.currentSubSelection=m.default.modelForFace(e.$store.state.models,t.face_id)}).on("drag",function(e){"Select"!==r.currentTool||e.previous_story||(i+=y.event.dx,n+=y.event.dy,y.select("#face-"+e.face_id).attr("transform",function(){return"translate("+[i,n]+")"}),y.select("#text-"+e.face_id).attr("transform",function(){return"translate("+[i,n]+")"}))}).on("end",function(t){"Select"!==e.currentTool||t.previous_story||e.$store.dispatch("geometry/moveFaceByOffset",{face_id:t.face_id,dx:e.gridToRWU(i,"x")-e.min_x,dy:e.gridToRWU(n,"y")-e.max_y})});"Select"===this.currentTool&&t.call(a)},drawPolygons:function(){var e=this,t=this;y.select("#grid svg").selectAll("polygon, .polygon-text").remove(),y.select("#grid svg").selectAll("polygon").data(this.polygons).enter().append("polygon").attr("id",function(e){return"face-"+e.face_id}).attr("points",function(t){return t.points.map(function(t){return[e.rwuToGrid(t.x,"x"),e.rwuToGrid(t.y,"y")].join(",")}).join(" ")}).attr("class",function(t){return e.currentSpace&&t.face_id===e.currentSpace.face_id||e.currentShading&&t.face_id===e.currentShading.face_id?"current":t.previous_story?"previousStory":null}).attr("fill",function(e){return e.color}).attr("vector-effect","non-scaling-stroke").select(function(e){var i=this,n=t.polygonLabelPosition(e.points),r=n.x,a=n.y;y.select("#grid svg").append("text").attr("id","text-"+e.face_id).attr("x",r).attr("y",a).text(e.name).attr("text-anchor","middle").style("font-size",t.scaleY(12)+"px").style("font-weight","bold").attr("font-family","sans-serif").attr("fill","red").attr("class",function(){return i.getAttribute("class")}).classed("polygon-text",!0)}),this.registerDrag(),y.select(".current").raise(),y.select("text.current").raise()},findSnapTarget:function(e){var t=this;if(event.shiftKey)return(0,d.default)({type:"gridpoint"},e);var i={x:this.gridToRWU(e.x,"x"),y:this.gridToRWU(e.y,"y")},n=this.snappingVertexData(i);if(n)return n;var r=this.snappingEdgeData(i);if(r)return r;if(this.gridVisible){var a=+this.axis.x.select(".tick").attr("transform").replace("translate(","").replace(")","").split(",")[0],o=+this.axis.y.select(".tick").attr("transform").replace("translate(","").replace(")","").split(",")[1],s=this.rwuToGrid(this.spacing+this.min_x,"x"),c=this.rwuToGrid(this.max_y-this.spacing,"y"),u={type:"gridpoint",x:this.round(e.x,this.rwuToGrid(this.spacing+this.min_x,"x"))+a-.5,y:this.round(e.y,this.rwuToGrid(this.max_y-this.spacing,"y"))+o-.5};return u.x=Math.abs(e.x-(u.x-s))>Math.abs(e.x-u.x)?u.x:u.x-s,u.y=Math.abs(e.y-(u.y-c))>Math.abs(e.y-u.y)?u.y:u.y-c,u}if(this.points.length){var l,f=[-180,-90,0,90,180],p=this.points[this.points.length-1],h=Math.atan2(p.y-e.y,p.x-e.x)*(180/Math.PI);if(f.some(function(i){if(Math.abs(h-i)<t.$store.getters["project/angleTolerance"]){if(i===-180||0===i||180===i)return{x:e.x,y:t.rotatePoint(p,e,i-h).y};if(i===-90||90===i)return{x:t.rotatePoint(p,e,i-h).x,y:e.y}}}),l)return(0,d.default)({type:"gridpoint"},l)}return(0,d.default)({type:"gridpoint"},e)},snappingVertexData:function(e){var t=this,i=[].concat((0,l.default)(this.currentStoryGeometry.vertices));if(this.previousStoryGeometry&&(i=i.concat(JSON.parse((0,s.default)(this.previousStoryGeometry.vertices)))),this.points.length>=3&&"Polygon"===this.currentTool&&i.push({x:this.gridToRWU(this.points[0].x,"x"),y:this.gridToRWU(this.points[0].y,"y"),origin:!0}),1===this.points.length&&"Rectangle"===this.currentTool&&(i=i.concat(p.default.syntheticRectangleSnaps(i,{x:this.gridToRWU(this.points[0].x,"x"),y:this.gridToRWU(this.points[0].y,"y")},e))),i.length){var n=i.reduce(function(i,n){var r=t.distanceBetweenPoints(i,e),a=t.distanceBetweenPoints(n,e);return r<a?i:n});if(this.distanceBetweenPoints(n,e)<this.$store.getters["project/snapTolerance"]){var r=(0,d.default)({},n,{x:this.rwuToGrid(n.x,"x"),y:this.rwuToGrid(n.y,"y"),type:"vertex"});return r.synthetic&&(r.originalPt.x=this.rwuToGrid(r.originalPt.x,"x"),r.originalPt.y=this.rwuToGrid(r.originalPt.y,"y")),r}}},snappingEdgeData:function(e){var t=this,i=[].concat((0,l.default)(this.currentStoryGeometry.edges));if(this.previousStoryGeometry&&(i=i.concat(JSON.parse((0,s.default)(this.previousStoryGeometry.edges.map(function(e){return(0,d.default)({},e,{previous_story:!0})}))))),i.length){var n=i.reduce(function(i,n){var r=i.previous_story?t.previousStoryGeometry:t.currentStoryGeometry,a=n.previous_story?t.previousStoryGeometry:t.currentStoryGeometry,o=p.default.vertexForId(i.v1,r),s=p.default.vertexForId(i.v2,r),c=p.default.vertexForId(n.v1,a),d=p.default.vertexForId(n.v2,a),u=p.default.projectionOfPointToLine(e,{p1:o,p2:s}),l=p.default.projectionOfPointToLine(e,{p1:c,p2:d}),f=p.default.distanceBetweenPoints(u,e),h=p.default.distanceBetweenPoints(l,e);return f<h?i:n}),r=n.previous_story?this.previousStoryGeometry:this.currentStoryGeometry,a=p.default.vertexForId(n.v1,r),o=p.default.vertexForId(n.v2,r),c=p.default.projectionOfPointToLine(e,{p1:a,p2:o}),u=this.distanceBetweenPoints(c,e),f=[-180,-90,0,90,180],h=Math.atan2(e.y-c.y,e.x-c.x)*(180/Math.PI);return f.some(function(i){if(Math.abs(h-i)<t.$store.getters["project/angleTolerance"]){var n,r;return 180===i||0===i||i===-180?(n={x:e.x-2*u,y:e.y},r={x:e.x+2*u,y:e.y}):90!==i&&i!==-90||(n={x:e.x,y:e.y-2*u},r={x:e.x,y:e.y+2*u}),c=p.default.ptsAreCollinear(n,a,r)?a:p.default.ptsAreCollinear(n,o,r)?o:p.default.intersectionOfLines(n,r,a,o),!0}return!1}),u<this.$store.getters["project/snapTolerance"]?{snappingEdge:n,dist:n.dist,type:"edge",projection:{x:this.rwuToGrid(c.x,"x"),y:this.rwuToGrid(c.y,"y")},v1GridCoords:{x:this.rwuToGrid(a.x,"x"),y:this.rwuToGrid(a.y,"y")},v2GridCoords:{x:this.rwuToGrid(o.x,"x"),y:this.rwuToGrid(o.y,"y")}}:void 0}},distanceBetweenPoints:function(e,t){var i=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return Math.sqrt(i*i+n*n)},round:function(e,t){var i,n=e<0?-1:1;return e=Math.abs(e),i=e%t<t/2?e-e%t:e+t-e%t,i*=n},rotatePoint:function(e,t,i){var n=i*Math.PI/180,r=Math.cos(n),a=Math.sin(n),o=t.x-e.x,s=t.y-e.y;return{x:r*o-a*s+e.x,y:a*o+r*s+e.y}},renderGrid:function(){var e=this.$refs.grid.clientWidth,t=this.$refs.grid.clientHeight;this.original_bounds&&(this.max_x-=this.min_x,this.min_x=0,this.max_y-=this.min_y,this.min_y=0),this.original_bounds={min_x:this.min_x,min_y:this.min_y,max_x:this.max_x,max_y:this.max_y,pxWidth:e,pxHeight:t},this.max_y=t/e*this.max_x,this.$refs.grid.setAttribute("viewBox","0 0 "+(this.max_x-this.min_x)+" "+(this.max_y-this.min_y)),this.$store.dispatch("application/setScaleX",{scaleX:y.scaleLinear().domain([0,e]).range([this.min_x,this.max_x])}),this.$store.dispatch("application/setScaleY",{scaleY:y.scaleLinear().domain([0,t]).range([this.min_y,this.max_y])}),this.$store.timetravel||(!this.$store.state.project.map.enabled||this.$store.state.project.map.enabled&&this.$store.state.project.map.initialized)&&window.eventBus.$emit("initTimetravel"),this.calcGrid(),this.centerGrid(),this.drawPolygons()},calcGrid:function(){var e=this,t=y.select("#grid svg"),i=this.max_y-this.min_y,n=this.max_x-this.min_x,r=y.scaleLinear().domain([this.min_x,this.max_x]).range([this.min_x,this.max_x]),o=y.scaleLinear().domain([this.max_y,this.min_y]).range([this.min_y,this.max_y]),s=this.scaleY(1),c=this.scaleY(12)+"px";t.selectAll("*").remove(),this.axis_generator.x=y.axisBottom(r).ticks(n/this.spacing).tickSize(i).tickPadding(this.scaleY(-20)).tickFormat(this.formatTickX.bind(this,Math.floor(10*this.$refs.grid.clientWidth/this.$refs.grid.clientHeight))),
this.axis_generator.y=y.axisRight(o).ticks(i/this.spacing).tickSize(n).tickFormat(this.formatTickY.bind(this,10)),this.axis.x=t.append("g").attr("class","axis axis--x").attr("stroke-width",s).style("font-size",c).style("display",this.gridVisible?"inline":"none").call(this.axis_generator.x),this.axis.y=t.append("g").attr("class","axis axis--y").attr("stroke-width",s).style("font-size",c).style("display",this.gridVisible?"inline":"none").call(this.axis_generator.y),this.zoomBehavior=y.zoom().scaleExtent([.02,1/0]).on("zoom",function(){var t=y.event.transform,i=t.k/e.scaleX(1);e.transform=(0,d.default)({},t,{kAbs:i});var n=t.rescaleX(r),s=t.rescaleY(o),c=n.domain(),u=(0,a.default)(c,2);e.min_x=u[0],e.max_x=u[1];var l=s.domain(),f=(0,a.default)(l,2);e.max_y=f[0],e.min_y=f[1];var p=e.max_y-e.min_y,h=e.max_x-e.min_x;e.axis.y.call(e.axis_generator.y.ticks(p/e.spacing)),e.axis.x.call(e.axis_generator.x.ticks(h/e.spacing)),e.axis.x.call(e.axis_generator.x.scale(n)),e.axis.y.call(e.axis_generator.y.scale(s)),e.padTickY(-12),e.drawPolygons()}),t.call(this.zoomBehavior)},centerGrid:function(){var e=this.min_x+(this.max_x-this.min_x)/2,t=this.min_y-(this.max_y-this.min_y)/2;y.select("#grid svg").call(this.zoomBehavior.transform,y.zoomIdentity.translate(e,t))},updateGrid:function(){this.axis.x.style("display",this.gridVisible&&!this.forceGridHide?"inline":"none"),this.axis.y.style("display",this.gridVisible&&!this.forceGridHide?"inline":"none");var e=this.max_y-this.min_y,t=this.max_x-this.min_x;this.axis.y.call(this.axis_generator.y.ticks(e/this.spacing)),this.axis.x.call(this.axis_generator.x.ticks(t/this.spacing))},pxToRWU:function(e,t){if("x"===t){var i=y.scaleLinear().domain([0,this.$refs.grid.clientWidth]).range([this.min_x,this.max_x]);return i(e)}if("y"===t){var n=y.scaleLinear().domain([this.$refs.grid.clientHeight,0]).range([this.min_y,this.max_y]);return n(e)}},pxToGrid:function(e,t){return"x"===t?this.scaleX&&this.scaleX(e):"y"===t?this.scaleY&&this.scaleY(e):void 0},rwuToGrid:function(e,t){if("x"===t){var i=y.scaleLinear().domain([0,this.$refs.grid.clientWidth]).range([this.min_x,this.max_x]),n=i.invert(e);return this.pxToGrid(n,t)}if("y"===t){var r=y.scaleLinear().domain([this.$refs.grid.clientHeight,0]).range([this.min_y,this.max_y]),a=r.invert(e);return this.pxToGrid(a,t)}},gridToRWU:function(e,t){var i;if("x"===t){var n=y.scaleLinear().domain([0,this.$refs.grid.clientWidth]).range([this.min_x,this.max_x]),r=this.scaleX.invert(e);i=n(r)}else if("y"===t){var a=y.scaleLinear().domain([this.$refs.grid.clientHeight,0]).range([this.min_y,this.max_y]),o=this.scaleY.invert(e);i=a(o)}return Math.round(1e11*i)/1e11},polygonLabelPosition:function(e){var t=this,i=[e.map(function(e){return[t.rwuToGrid(e.x,"x"),t.rwuToGrid(e.y,"y")]})],n=Math.abs(Math.round(p.default.areaOfSelection(e))),r=n?g(i,1):[null,null],o=(0,a.default)(r,2),s=o[0],c=o[1];return{x:s,y:c,area:n}},formatTickX:function(e,t){var i=this.max_x-this.min_x,n=this.spacing,r=Math.ceil(i/e/n)*n;return 0===r||t%r===0?t:""},formatTickY:function(e,t){var i=this.max_y-this.min_y,n=this.spacing,r=Math.ceil(i/e/n)*n;return 0===r||t%r===0?t:""},padTickY:function(e){var t=Math.abs(this.min_y),i=Math.abs(this.max_y),n=(t<i?i:t).toFixed(0).length,r=this.scaleX(e*n);this.axis.y.call(this.axis_generator.y.tickPadding(r))}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(52),a=n(r),o=i(5),s=n(o),c=i(88),d=n(c),u=i(103),l=n(u),f=i(93),p=n(f),h=i(97),m=n(h),y=i(107),g=n(y),v=i(110),_=n(v),x=i(109),b=n(x),S=i(105),w=n(S);a.default.use(s.default);var M=new s.default.Store({strict:!1,modules:{application:d.default,project:l.default,geometry:p.default,models:m.default},getters:{exportData:g.default},actions:{importModel:_.default,importLibrary:b.default},mutations:w.default});t.default=M},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={setCurrentStoryId:function(e,t){var i=t.id;e.rootState.models.stories.map(function(e){return e.id}).indexOf(i)!==-1&&e.commit("setCurrentStoryId",{id:i})},setCurrentSubSelectionId:function(e,t){var i=t.id;e.getters.currentStory&&(e.getters.currentStory.spaces.find(function(e){return e.id===i})||e.getters.currentStory.shading.find(function(e){return e.id===i})||e.getters.currentStory.images.find(function(e){return e.id===i}))&&e.commit("setCurrentSubSelectionId",{id:i})},setCurrentTool:function(e,t){var i=t.tool;e.state.tools.indexOf(i)!==-1&&e.commit("setCurrentTool",{tool:i})},setCurrentMode:function(e,t){var i=t.mode;e.state.modes.indexOf(i)!==-1&&e.commit("setCurrentMode",{mode:i})},setCurrentBuildingUnitId:function(e,t){var i=t.id;e.rootState.models.library.building_units.map(function(e){return e.id}).indexOf(i)!==-1&&e.commit("setCurrentBuildingUnitId",{id:i})},setCurrentThermalZoneId:function(e,t){var i=t.id;e.rootState.models.library.thermal_zones.map(function(e){return e.id}).indexOf(i)!==-1&&e.commit("setCurrentThermalZoneId",{id:i})},setCurrentSpaceTypeId:function(e,t){var i=t.id;e.rootState.models.library.space_types.map(function(e){return e.id}).indexOf(i)!==-1&&e.commit("setCurrentSpaceTypeId",{id:i})},setScaleX:function(e,t){var i=t.scaleX;e.commit("setScaleX",{scaleX:i})},setScaleY:function(e,t){var i=t.scaleY;e.commit("setScaleY",{scaleY:i})}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={currentStory:function(e,t,i){return i.models.stories.find(function(t){return t.id===e.currentSelections.story_id})},currentSubSelection:function(e,t){var i=t.currentStory,n=e.currentSelections.subselection_id;return i.spaces.find(function(e){return e.id===n})||i.shading.find(function(e){return e.id===n})||i.images.find(function(e){return e.id===n})},currentSubSelectionType:function(e,t){var i=t.currentStory,n=e.currentSelections.subselection_id;return i.spaces.find(function(e){return e.id===n})?"spaces":i.shading.find(function(e){return e.id===n})?"shading":i.images.find(function(e){return e.id===n})?"images":null},currentSpace:function(e,t){return"spaces"===t.currentSubSelectionType?t.currentSubSelection:null},currentShading:function(e,t){return"shading"===t.currentSubSelectionType?t.currentSubSelection:null},currentImage:function(e,t){return"images"===t.currentSubSelectionType?t.currentSubSelection:null},currentBuildingUnit:function(e,t,i){return i.models.library.building_units.find(function(t){return t.id===e.currentSelections.building_unit_id})},currentThermalZone:function(e,t,i){return i.models.library.thermal_zones.find(function(t){return t.id===e.currentSelections.thermal_zone_id})},currentSpaceType:function(e,t,i){return i.models.library.space_types.find(function(t){return t.id===e.currentSelections.space_type_id})},currentStoryGeometry:function(e,t,i){return i.geometry.find(function(e){return e.id===t.currentStory.geometry_id})},currentSubSelectionFace:function(e,t){return t.currentSubSelection&&t.currentSubSelection.face_id?t.currentStoryGeometry.faces.find(function(e){return e.id===t.currentSubSelection.face_id}):null}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(86),a=n(r),o=i(89),s=n(o),c=i(87),d=n(c),u=i(23);t.default={namespaced:!0,state:{currentSelections:{story:null,story_id:null,subselection_id:null,building_unit_id:null,thermal_zone_id:null,space_type_id:null,tool:"Rectangle",mode:"spaces"},modes:["spaces","shading","building_units","thermal_zones","space_types","images"],tools:["Pan","Drag","Rectangle","Polygon","Eraser","Select","Map","Fill"],scale:{x:u.scaleLinear().range([0,0]).domain([0,0]),y:u.scaleLinear().range([0,0]).domain([0,0])}},actions:a.default,mutations:s.default,getters:d.default}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={setCurrentStoryId:function(e,t){e.currentSelections.story_id=t.id},setCurrentSubSelectionId:function(e,t){e.currentSelections.subselection_id=t.id},setCurrentBuildingUnitId:function(e,t){e.currentSelections.building_unit_id=t.id},setCurrentThermalZoneId:function(e,t){e.currentSelections.thermal_zone_id=t.id},setCurrentSpaceTypeId:function(e,t){e.currentSelections.space_type_id=t.id},setCurrentTool:function(e,t){e.currentSelections.tool=t.tool},setCurrentMode:function(e,t){e.currentSelections.mode=t.mode},setScaleX:function(e,t){e.scale.x=t.scaleX},setScaleY:function(e,t){e.scale.y=t.scaleY}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return f.default.vertexForCoordinates(t,0,e)||u.default.Vertex(t.x,t.y)}Object.defineProperty(t,"__esModule",{value:!0});var a=i(38),o=n(a),s=i(24),c=n(s),d=i(53),u=n(d),l=i(10),f=n(l),p=i(7),h=n(p),m=i(91),y=n(m);t.default={initGeometry:function(e,t){var i=t.story_id,n=new u.default.Geometry;e.commit("initGeometry",{geometry:n}),e.dispatch("models/updateStoryWithData",{story:e.rootState.models.stories.find(function(e){return e.id===i}),geometry_id:n.id},{root:!0})},eraseSelection:function(e,t){var i=t.points,n=(0,m.eraseSelection)(i,e);n||window.eventBus.$emit("error","Operation cancelled - no split faces")},moveFaceByOffset:function(e,t){var i,n=t.face_id,r=t.dx,a=t.dy,s=e.rootGetters["application/currentStoryGeometry"],c=f.default.faceForId(n,s),d=f.default.verticesForFaceId(c.id,s).map(function(e){return{x:e.x+r,y:e.y+a}}),u=h.default.modelForFace(e.rootState.models,c.id);e.dispatch("space"===u.type?"models/updateSpaceWithData":"models/updateShadingWithData",(i={},(0,o.default)(i,u.type,u),(0,o.default)(i,"face_id",null),i),{root:!0}),e.dispatch("destroyFaceAndDescendents",{geometry_id:s.id,face:c}),e.dispatch("createFaceFromPoints",{model_id:u.id,points:d})},createFaceFromPoints:y.default,splitEdge:function(e,t){var i=t.edge,n=t.vertex,r=e.rootGetters["application/currentStoryGeometry"],a=new u.default.Edge;a.v1=i.v1,a.v2=n.id,e.commit("createEdge",{geometry_id:r.id,edge:a});var o=new u.default.Edge;o.v1=n.id,o.v2=i.v2,e.commit("createEdge",{geometry_id:r.id,edge:o}),f.default.facesForEdgeId(i.id,r).forEach(function(t){e.commit("createEdgeRef",{geometry_id:r.id,face_id:t.id,edgeRef:{edge_id:a.id,reverse:!1}}),e.commit("createEdgeRef",{geometry_id:r.id,face_id:t.id,edgeRef:{edge_id:o.id,reverse:!1}}),e.commit("destroyEdgeRef",{geometry_id:r.id,edge_id:i.id,face_id:t.id})}),e.commit("destroyGeometry",{id:i.id})},destroyFaceAndDescendents:function(e,t){var i=t.geometry_id,n=t.face,r=e.state.find(function(e){return e.id===i}),a=(!!r.faces.find(function(e){return e.id===n.id}),n.edgeRefs.map(function(e){var t=f.default.edgeForId(e.edge_id,r),i=e.reverse?t.v2:t.v1;return f.default.vertexForId(i,r)}).filter(function(e){return f.default.facesForVertexId(e.id,r).length<2})),o=n.edgeRefs.filter(function(e){return f.default.facesForEdgeId(e.edge_id,r).length<2});e.commit("destroyGeometry",{id:n.id}),o.forEach(function(t){return e.commit("destroyGeometry",{id:t.edge_id})}),a.forEach(function(t){return e.commit("destroyGeometry",{id:t.id})})},replaceFacePoints:function(e,t){var i=t.geometry_id,n=t.face,a=t.newVerts,o=c.default.find(e.state,{id:i}),s=c.default.map(a,function(e){return r(o,e)}),d=(0,m.matchOrCreateEdges)(s,o.edges);e.commit("replaceFacePoints",{geometry_id:i,verts:s,edges:d,face:n})}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=t.model_id,n=t.points;if(!((0,N.uniq)(n).length<3)){var r,o=e.rootGetters["application/currentStoryGeometry"],c=R.default.libraryObjectWithId(e.rootState.models,i),d=c.face_id?C.default.faceForId(c.face_id,o):null;if(d){var u=C.default.verticesForFaceId(d.id,o);if(r=C.default.setOperation("union",u,n),!r)return void window.eventBus.$emit("error","Operation cancelled - no split faces")}else r=n;var l=m(r,e.rootGetters["application/currentStoryGeometry"],e.rootGetters["project/snapTolerance"]);if(!l.success)return window.eventBus.$emit("error",l.error),console.error(l.error),void!l.error;var f=a(r,o);if(!f)return void window.eventBus.$emit("error","Operation cancelled - no split faces");f.forEach(function(t){return e.dispatch("replaceFacePoints",t)}),s(l,c,e),_(e)}}function a(e,t){if(e.length<3||!C.default.areaOfSelection(e))return!1;var i=C.default.denormalize(t),n=i.faces.filter(function(t){return C.default.intersection(t.vertices,e).length>0}),r=n.map(function(t){return C.default.difference(t.vertices,e)});return!!r.every(k.default.identity)&&k.default.zip(n,r).map(function(e){var i=(0,F.default)(e,2),n=i[0],r=i[1];return{geometry_id:t.id,face:n,newVerts:r}})}function o(e,t){var i=t.rootGetters["application/currentStoryGeometry"];if(!(e.length<3)&&C.default.areaOfSelection(e)){var n=i.faces.filter(function(t){var n=C.default.verticesForFaceId(t.id,i),r=C.default.setOperation("intersection",n,e);return r.length}),r=!0;return n.forEach(function(t){var n=C.default.verticesForFaceId(t.id,i);C.default.setOperation("difference",n,e)||(r=!1)}),!!r&&(n.forEach(function(n){var r,a=C.default.verticesForFaceId(n.id,i),o=R.default.modelForFace(t.rootState.models,n.id),s=C.default.setOperation("difference",a,e);t.dispatch("space"===o.type?"models/updateSpaceWithData":"models/updateShadingWithData",(r={},(0,T.default)(r,o.type,o),(0,T.default)(r,"face_id",null),r),{root:!0}),t.dispatch("destroyFaceAndDescendents",{geometry_id:i.id,face:n}),t.dispatch("createFaceFromPoints",{model_id:o.id,points:s})}),!0)}}function s(e,t,i){var n,r=i.rootGetters["application/currentStoryGeometry"];e.vertices.forEach(function(e){C.default.vertexForId(e.id,r)||i.commit("createVertex",{vertex:e,geometry_id:r.id})});var a=e.edges.map(function(e){var t={edge_id:e.id,reverse:!!e.reverse};return delete e.reverse,t}),o=new z.default.Face(a);e.edges.forEach(function(e){C.default.edgeForId(e.id,r)||i.commit("createEdge",{edge:e,geometry_id:r.id})}),i.dispatch("space"===t.type?"models/updateSpaceWithData":"models/updateShadingWithData",(n={},(0,T.default)(n,t.type,t),(0,T.default)(n,"face_id",o.id),n),{root:!0}),i.commit("createFace",{face:o,geometry_id:r.id})}function c(e,t,i){var n=i.find(function(i){return i.v1===e.id&&i.v2===t.id||i.v2===e.id&&i.v1===t.id});return n&&(0,I.default)({},n,{reverse:n.v1===t.id})}function d(e,t){return k.default.zip(e,[].concat((0,w.default)(e.slice(1)),[e[0]])).map(function(e){var i=(0,F.default)(e,2),n=i[0],r=i[1];return c(n,r,t)||new z.default.Edge(n.id,r.id)})}function u(){}function l(e){if(e.length<3)throw new u("can't make a polygon with fewer than three vertices: "+(0,b.default)(e))}function f(e){e.forEach(function(t){if(k.default.find(e,{x:t.x,y:t.y}).length>=2)throw new u("Duplicate vertex at ("+t.x+", "+t.y+")")})}function p(e,t){t.forEach(function(t){var i=t.v1,n=t.v2,r=k.default.find(e,{id:i}),a=k.default.find(e,{id:n});e.forEach(function(e){if(e.id!==i&&e.id!==n&&C.default.ptsAreCollinear(r,a,e)){var t=k.default.reject([(e.x-r.x)/(a.x-r.x),(e.y-r.y)/(a.y-r.y)],isNaN)[0];if(!(t>1||t<0))throw new u("An edge is being touched by a vertex on the same face at ("+e.x+", "+e.y+")")}})})}function h(e,t){(0,N.allPairs)(t).forEach(function(t){var i=(0,F.default)(t,2),n=i[0],r=i[1],a=k.default.find(e,{id:n.v1}),o=k.default.find(e,{id:n.v2}),s=k.default.find(e,{id:r.v1}),c=k.default.find(e,{id:r.v2}),d=C.default.intersectionOfLines(a,o,s,c);if(d)throw new u("Self intersection at "+d.x+", "+d.y)})}function m(e,t){if(e.length<=2)return{success:!1,error:"need at least 3 points to make a face"};var i=e.map(function(e){return C.default.vertexForCoordinates(e,t)||new z.default.Vertex(e.x,e.y)});i=(0,N.dropConsecutiveDups)(i);var n=d(i,t.edges);try{l(i),f(i),p(i,n),h(i,n)}catch(e){if(e instanceof u)return{success:!1,error:""+e};throw e}return{success:!0,vertices:i,edges:n}}function y(e){return k.default.zip(e.slice(0,-1),e.slice(1)).map(function(e){var t=(0,F.default)(e,2),i=t[0],n=t[1];return z.default.Edge(i.id,n.id)})}function g(e,t,i){var n=C.default.facesForEdgeId(t,e),r=n.map(function(n){return{type:"replaceEdgeRef",geometry_id:e.id,edge_id:t,face_id:n.id,newEdges:k.default.map(i,"id")}});return r}function v(e){return k.default.compact(e.edges.map(function(t){var i=C.default.splittingVerticesForEdgeId(t.id,e);if(!i.length)return!1;var n=C.default.vertexForId(t.v1,e),r=C.default.vertexForId(t.v2,e);k.default.sortBy(i,function(e){return C.default.distanceBetweenPoints(e,n)}),i=[n].concat((0,w.default)(i),[r]);var a=y(i),o=g(e,t.id,a);return{edgeToDelete:t.id,newEdges:a,replaceEdgeRefs:o}}))}function _(e){var t=e.rootGetters["application/currentStoryGeometry"],i=v(t);i.forEach(function(i){return e.commit((0,I.default)({type:"splitEdge",geometry_id:t.id},i))})}Object.defineProperty(t,"__esModule",{value:!0});var x=i(6),b=n(x),S=i(21),w=n(S),M=i(1),I=n(M),j=i(38),T=n(j),$=i(56),F=n($);t.default=r,t.newGeometriesOfOverlappedFaces=a,t.eraseSelection=o,t.findExistingEdge=c,t.matchOrCreateEdges=d,t.errOnTooFewVerts=l,t.errOnDuplicateVerts=f,t.errOnVertexIntersectsEdge=p,t.errOnEdgeIntersectsEdge=h,t.validateFaceGeometry=m,t.edgesToSplit=v;var P=i(24),k=n(P),O=i(53),z=n(O),E=i(10),C=n(E),G=i(7),R=n(G),N=i(37);u.prototype=new Error},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(10),a=n(r);t.default={exportData:function(e,t,i,n){return e.map(function(e){return{id:e.id,vertices:e.vertices.map(function(t){return{id:t.id,x:Number(t.x),y:Number(t.y),edge_ids:a.default.edgesForVertexId(t.id,e).map(function(e){return e.id})}}),edges:e.edges.map(function(t){return{id:t.id,vertex_ids:[t.v1,t.v2],face_ids:a.default.facesForEdgeId(t.id,e).map(function(e){return e.id})}}),faces:e.faces.map(function(e){return{id:e.id,edge_ids:e.edgeRefs.map(function(e){return e.edge_id}),edge_order:e.edgeRefs.map(function(e){return e.reverse?0:1})}})}})}}},function(e,t,i){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(90),o=r(a),s=i(94),c=n(s),d=i(92),u=r(d);t.default={namespaced:!0,state:[],actions:o.default,mutations:c,getters:u.default}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=t.geometry;e.push(i)}function a(e,t){var i=t.geometry_id,n=t.vertex;e.find(function(e){return e.id===i}).vertices.push(n)}function o(e,t){var i=t.geometry_id,n=t.edge;e.find(function(e){return e.id===i}).edges.push(n)}function s(e,t){var i=t.geometry_id,n=t.face;e.find(function(e){return e.id===i}).faces.push(n)}function c(e,t){for(var i=t.id,n=0;n<e.length;n++){var r=e[n];if(r.id===i){e.splice(e.findIndex(function(e){return e.id===i}),1);break}if(~r.faces.map(function(e){return e.id}).indexOf(i)){r.faces.splice(r.faces.findIndex(function(e){return e.id===i}),1);break}if(~r.edges.map(function(e){return e.id}).indexOf(i)){r.edges.splice(r.edges.findIndex(function(e){return e.id===i}),1);break}if(~r.vertices.map(function(e){return e.id}).indexOf(i)){r.vertices.splice(r.vertices.findIndex(function(e){return e.id===i}),1);break}}}function d(e,t){var i=t.geometry_id,n=t.face_id,r=t.edgeRef,a=e.find(function(e){return e.id===i}),o=a.faces.find(function(e){return e.id===n}),s=a.edges.find(function(e){return e.id===r.edge_id});s&&o.edgeRefs.push(r)}function u(e,t){var i=t.geometry_id,n=t.face_id,r=t.edgeRefs,a=e.find(function(e){return e.id===i}),o=a.faces.find(function(e){return e.id===n});o.edgeRefs=r.filter(function(e){return a.edges.find(function(t){return t.id===e.edge_id})})}function l(e,t){var i=t.geometry_id,n=t.face_id,r=t.edge_id,a=e.find(function(e){return e.id===i}),o=a.faces.find(function(e){return e.id===n});o.edgeRefs.splice(o.edgeRefs.findIndex(function(e){return e.edge_id===r}),1)}function f(e,t){var i,n=t.geometry_id,r=t.face_id,a=t.edge_id,o=t.newEdges,s=e.find(function(e){return e.id===n}),c=s.faces.find(function(e){return e.id===r}),d=x.default.findIndex(c.edgeRefs,{edge_id:a}),u=c.edgeRefs[d];(i=c.edgeRefs).splice.apply(i,[d,1].concat((0,v.default)(o.map(function(e){return{edge_id:e,reverse:u.reverse}}))))}function p(e,t){var i=t.geometry_id,n=t.edgeToDelete,r=t.newEdges,a=t.replaceEdgeRefs;r.forEach(function(t){return o(e,{edge:t,geometry_id:i})}),a.forEach(function(t){return f(e,t)}),c(e,{id:n})}function h(e,t){t.forEach(function(t){x.default.find(e.vertices,{id:t.id})||e.vertices.push(t)})}function m(e,t){t.forEach(function(t){x.default.find(e.edges,{id:t.id})||e.edges.push(t)})}function y(e,t){var i=t.geometry_id,n=t.verts,r=t.edges,a=t.face.id,o=x.default.find(e,{id:i});h(o,n),m(o,r);var s=x.default.find(o.faces,{id:a});s.edgeRefs=r.map(function(e){return{edge_id:e.id,reverse:!!e.reverse}})}Object.defineProperty(t,"__esModule",{value:!0});var g=i(21),v=n(g);t.initGeometry=r,t.createVertex=a,t.createEdge=o,t.createFace=s,t.destroyGeometry=c,t.createEdgeRef=d,t.setEdgeRefsForFace=u,t.destroyEdgeRef=l,t.replaceEdgeRef=f,t.splitEdge=p,t.replaceFacePoints=y;var _=i(24),x=n(_)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(14),a=n(r),o=i(54),s=n(o),c=i(7),d=n(c);t.default={initStory:function(e){var t=d.default.generateName(e.state,"stories"),i=new s.default.Story(t);e.commit("initStory",{story:i}),e.dispatch("geometry/initGeometry",{story_id:i.id},{root:!0}),e.dispatch("initSpace",{story:i}),e.dispatch("selectStoryAndSpace",{story:i})},initSpace:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story.id}),n=d.default.generateName(e.state,"spaces",i),r=new s.default.Space(n);e.commit("initSpace",{story:i,space:r})},initShading:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story.id}),n=d.default.generateName(e.state,"shading",i),r=new s.default.Shading(n);e.commit("initShading",{story:i,shading:r})},destroyStory:function(e,t){var i=e.state.stories,n=i.findIndex(function(e){return e.id===t.story.id}),r=i[n];e.commit("destroyStory",{story:r}),0===i.length?e.dispatch("initStory"):e.dispatch("selectStoryAndSpace",{story:i[n-1]})},destroySpace:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story.id}),n=i.spaces.find(function(e){return e.id===t.space.id});e.commit("destroySpace",{space:n,story:i});var r=e.rootGetters["application/currentStoryGeometry"].faces.find(function(e){return e.id===n.face_id});r&&e.dispatch("geometry/destroyFaceAndDescendents",{face:r,geometry_id:e.rootGetters["application/currentStoryGeometry"].id},{root:!0})},destroyShading:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story.id}),n=i.shading.find(function(e){return e.id===t.shading.id});e.commit("destroyShading",{shading:n,story:i});var r=e.rootGetters["application/currentStoryGeometry"].faces.find(function(e){return e.id===n.face_id});r&&e.dispatch("geometry/destroyFaceAndDescendents",{face:r,geometry_id:e.rootGetters["application/currentStoryGeometry"].id},{root:!0})},destroyImage:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story.id}),n=i.images.find(function(e){return e.id===t.image.id});e.commit("destroyImage",{image:n,story:i})},destroyObject:function(e,t){e.commit("destroyObject",{object:t.object})},updateStoryWithData:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story.id}),n=(0,a.default)(i),r={};for(var o in t)t.hasOwnProperty(o)&&~n.indexOf(o)&&(r[o]=t[o]);r.story=i,e.commit("updateStoryWithData",r)},updateSpaceWithData:function(e,t){var i=e.getters.allSpaces.find(function(e){return e.id===t.space.id}),n=(0,a.default)(i),r={};for(var o in t)t.hasOwnProperty(o)&&~n.indexOf(o)&&(r[o]=t[o]);r.space=i,e.commit("updateSpaceWithData",r)},updateShadingWithData:function(e,t){var i=e.getters.allShading.find(function(e){return e.id===t.shading.id}),n=(0,a.default)(i),r={};for(var o in t)t.hasOwnProperty(o)&&~n.indexOf(o)&&(r[o]=t[o]);r.shading=i,e.commit("updateShadingWithData",r)},updateImageWithData:function(e,t){var i=e.getters.allImages.find(function(e){return e.id===t.image.id}),n=(0,a.default)(i),r={};for(var o in t)t.hasOwnProperty(o)&&~n.indexOf(o)&&(r[o]=t[o]);r.image=i,e.commit("updateImageWithData",r)},updateObjectWithData:function(e,t){var i=d.default.libraryObjectWithId(e.state,t.object.id);t.object=i,e.commit("updateObjectWithData",t)},createImageForStory:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story_id}),n=d.default.generateName(e.state,"images",i),r=new Image;r.onload=function(){var r=new s.default.Image(n,t.src);r.height=t.height,r.width=t.width,r.x=t.x,r.y=t.y,e.commit("createImageForStory",{story_id:i.id,image:r})},r.src=t.src},createObjectWithType:function(e,t){var i=t.type,n=d.default.generateName(e.state,i),r=new d.default.map[i].init({name:n});e.commit("initObject",{type:i,object:r})},selectStoryAndSpace:function(e,t){var i=t.story,n=i.spaces[i.spaces.length-1];e.dispatch("application/setCurrentStoryId",{id:i.id},{root:!0}),e.dispatch("application/setCurrentSubSelectionId",{id:n.id},{root:!0}),e.dispatch("application/setCurrentMode",{mode:"spaces"},{root:!0})}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(21),a=n(r),o=i(14),s=n(o),c=i(1),d=n(c);t.default={allSpaces:function(e,t,i,n){return i.models.stories.reduce(function(e,t){return e.concat(t.spaces)},[])},allShading:function(e,t,i,n){return i.models.stories.reduce(function(e,t){return e.concat(t.shading)},[])},allImages:function(e,t,i,n){return i.models.stories.reduce(function(e,t){return e.concat(t.images)},[])},all:function(e,t,i,n){var r=(0,d.default)({},i.models.library,{stories:i.models.stories,spaces:t.allSpaces,shading:t.allShading,images:t.allImages});return(0,s.default)(r).reduce(function(e,t){return e.push.apply(e,(0,a.default)(r[t])),e},[])}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(95),a=n(r),o=i(99),s=n(o),c=i(96),d=n(c);t.default={namespaced:!0,state:{stories:[],library:{building_units:[],thermal_zones:[],space_types:[],construction_sets:[],windows:[],daylighting_controls:[]}},actions:a.default,mutations:s.default,getters:d.default}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(54),a=n(r),o=i(100),s=n(o),c={building_units:{displayName:"Building Unit",keymap:{id:{displayName:"ID",readonly:!0,private:!1},name:{displayName:"Name",readonly:!1,input_type:"text",private:!1,validator:s.default.name},color:{displayName:"Color",readonly:!1,input_type:"color",private:!1,validator:s.default.color}},init:a.default.BuildingUnit},thermal_zones:{displayName:"Thermal Zone",keymap:{id:{displayName:"ID",readonly:!0,private:!1},name:{displayName:"Name",readonly:!1,input_type:"text",private:!1,validator:s.default.name},color:{displayName:"Color",readonly:!1,input_type:"color",private:!1,validator:s.default.color}},init:a.default.ThermalZone},space_types:{displayName:"Space Type",keymap:{id:{displayName:"ID",readonly:!0,private:!1},name:{displayName:"Name",readonly:!1,input_type:"text",private:!1,validator:s.default.name},color:{displayName:"Color",readonly:!1,input_type:"color",private:!1,validator:s.default.color}},init:a.default.SpaceType},construction_sets:{displayName:"Construction Set",keymap:{id:{displayName:"ID",readonly:!0,private:!1},name:{displayName:"Name",readonly:!1,input_type:"text",private:!1,validator:s.default.name}},init:a.default.ConstructionSet},windows:{displayName:"Window",keymap:{id:{displayName:"ID",readonly:!0,private:!1},name:{displayName:"Name",readonly:!1,input_type:"text",private:!1,validator:s.default.name},story:{displayName:"Story",readonly:!0,private:!1,get:function(e,t){var i=t.models.stories.find(function(t){return t.windows.map(function(e){return e.id}).indexOf(e.id)!==-1});return i.name}}},init:a.default.Window},daylighting_controls:{displayName:"Daylighting Control",keymap:{id:{displayName:"ID",readonly:!0,private:!1},name:{displayName:"Name",readonly:!1,input_type:"text",private:!1,validator:s.default.name}},init:a.default.DaylightingControl},stories:{displayName:"Story",keymap:{id:{displayName:"ID",readonly:!0,private:!1},name:{displayName:"Name",readonly:!1,input_type:"text",private:!1,validator:s.default.name},handle:{readonly:!0,private:!0},geometry_id:{readonly:!0,private:!0},below_floor_plenum_height:{displayName:"Below Floor Plenum Height",readonly:!1,input_type:"text",private:!1,validator:s.default.number},floor_to_ceiling_height:{displayName:"Floor To Ceiling Height",readonly:!1,input_type:"text",private:!1,validator:s.default.number},multiplier:{displayName:"Multiplier",readonly:!1,input_type:"text",private:!1,validator:s.default.number},spaces:{displayName:"Spaces",readonly:!0,private:!1,get:function(e,t){return e.spaces.map(function(e){return e.name}).join(", ")}},windows:{displayName:"Windows",readonly:!0,private:!1,get:function(e,t){return e.windows.map(function(e){return e.name}).join(", ")}},shading:{displayName:"Shading",readonly:!0,private:!1,get:function(e,t){return e.shading.map(function(e){return e.name}).join(", ")}},images:{readonly:!0,private:!0}}},spaces:{displayName:"Space",keymap:{id:{displayName:"ID",readonly:!0,private:!1},name:{displayName:"Name",readonly:!1,input_type:"text",private:!1,validator:s.default.name},handle:{readonly:!0,private:!0},face_id:{readonly:!0,private:!0},daylighting_controls:{displayName:"Daylighting Controls",readonly:!0,private:!1,get:function(e,t){return e.daylighting_controls.map(function(e){return e.name}).join(", ")}},story:{displayName:"Story",readonly:!0,private:!1,get:function(e,t){var i=t.models.stories.find(function(t){return~t.spaces.map(function(e){return e.id}).indexOf(e.id)});return i.name}},building_unit_id:{displayName:"Building Unit",readonly:!1,input_type:"select",select_data:function(e,t){var i={};return t.models.library.building_units.forEach(function(e){return i[e.name]=e.id}),i},private:!1,get:function(e,t){var i=t.models.library.building_units.find(function(t){return t.id===e.building_unit_id});return i?i.name:null}},thermal_zone_id:{displayName:"Thermal Zone",readonly:!1,input_type:"select",select_data:function(e,t){var i={};return t.models.library.thermal_zones.forEach(function(e){return i[e.name]=e.id}),i},private:!1,get:function(e,t){var i=t.models.library.thermal_zones.find(function(t){return t.id===e.thermal_zone_id});return i?i.name:null}},space_type_id:{displayName:"Space Type",readonly:!1,input_type:"select",select_data:function(e,t){var i={};return t.models.library.space_types.forEach(function(e){return i[e.name]=e.id}),i},private:!1,get:function(e,t){var i=t.models.library.space_types.find(function(t){return t.id===e.space_type_id});return i?i.name:null}},construction_set_id:{displayName:"Construction Set",readonly:!1,input_type:"select",select_data:function(e,t){var i={};return t.models.library.construction_sets.forEach(function(e){return i[e.name]=e.id}),i},private:!1,get:function(e,t){var i=t.models.library.construction_sets.find(function(t){return t.id===e.construction_set_id});return i?i.name:null}},color:{displayName:"Color",readonly:!1,input_type:"color",private:!1,validator:s.default.color}}},shading:{displayName:"Shading",keymap:{id:{displayName:"ID",readonly:!0,private:!1},name:{displayName:"Name",readonly:!1,input_type:"text",private:!1,validator:s.default.name},handle:{readonly:!0,private:!0},face_id:{readonly:!0,private:!0},color:{readonly:!0,private:!0}}},images:{displayName:"Image",keymap:{id:{displayName:"ID",readonly:!0,private:!1},name:{displayName:"Name",readonly:!1,input_type:"text",private:!1,validator:s.default.name},height:{displayName:"Height",readonly:!1,input_type:"text",private:!1,validator:s.default.number},z:{displayName:"z",readonly:!1,input_type:"text",private:!1,
validator:s.default.number},opacity:{displayName:"opacity",readonly:!1,input_type:"text",private:!1,validator:s.default.number},x:{displayName:"x",readonly:!1,input_type:"text",private:!1,validator:s.default.number},y:{displayName:"y",readonly:!1,input_type:"text",private:!1,validator:s.default.number},src:{readonly:!0,private:!0}}}};t.default=c},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(55),a=n(r),o=i(7);n(o);t.default={initStory:function(e,t){e.stories.push(t.story)},initSpace:function(e,t){t.story.spaces.push(t.space)},initShading:function(e,t){t.story.shading.push(t.shading)},initObject:function(e,t){e.library[t.type].push(t.object)},destroySpace:function(e,t){t.story.spaces.splice(t.story.spaces.findIndex(function(e){return e.id===t.space.id}),1)},destroyShading:function(e,t){t.story.shading.splice(t.story.shading.findIndex(function(e){return e.id===t.shading.id}),1)},destroyImage:function(e,t){t.story.images.splice(t.story.images.findIndex(function(e){return e.id===t.image.id}),1)},destroyStory:function(e,t){e.stories.splice(e.stories.findIndex(function(e){return e.id===t.story.id}),1)},destroyObject:function(e,t){for(var i in e.library)e.library.hasOwnProperty(i)&&e.library[i].splice(e.library[i].findIndex(function(e){return e.id===t.object.id}),1)},updateStoryWithData:function(e,t){var i=t.story;delete t.story,(0,a.default)(i,t)},createImageForStory:function(e,t){var i=e.stories.find(function(e){return e.id===t.story_id});i.images.push(t.image)},updateSpaceWithData:function(e,t){var i=t.space;(0,a.default)(i,t),delete i.space},updateShadingWithData:function(e,t){var i=t.shading;(0,a.default)(i,t),delete i.shading},updateImageWithData:function(e,t){var i=t.image;(0,a.default)(i,t),delete i.image},updateObjectWithData:function(e,t){var i=t.object;(0,a.default)(i,t),delete i.object}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:function(e,t,i,n){var r=t.getters["models/all"];switch(n){case"stories":r=t.state.models.stories;break;case"spaces":r=t.getters["models/allSpaces"];break;case"shading":r=t.getters["models/allShading"];break;case"images":r=t.getters["models/allImages"];break;default:r=t.state.models.library[n]}var a="";return r.filter(function(t){return t.name===i&&t.id!==e.id}).length?a="Names must be unique.":i.length<5&&(a="Names must be at least 5 characters long."),a?{success:!1,error:a}:{success:!0}},number:function(e,t,i,n){var r="";return isNaN(i)&&(r="Value must be numeric."),r?{success:!1,error:r}:{success:!0}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(111),a=n(r);t.default={setUnits:function(e,t){"m"!==t.units&&"ft"!==t.units||e.commit("setUnits",t)},setLanguage:function(e,t){"EN-US"===t.language&&e.commit("setLanguage",t)},setNorthAxis:function(e,t){var i=t.north_axis;i>360||i<0||e.commit("setConfigNorthAxis",{north_axis:i})},setMapVisible:function(e,t){"boolean"==typeof t.visible&&e.commit("setMapVisible",t)},setMapEnabled:function(e,t){"boolean"==typeof t.enabled&&e.commit("setMapEnabled",t)},setMapInitialized:function(e,t){"boolean"==typeof t.initialized&&e.commit("setMapInitialized",t)},setGridVisible:function(e,t){"boolean"==typeof t.visible&&e.commit("setGridVisible",t)},setSpacing:function(e,t){e.commit("setSpacing",t)},setViewMinX:function(e,t){e.commit("setViewMinX",t)},setViewMinY:function(e,t){e.commit("setViewMinY",t)},setViewMaxX:function(e,t){var i=new a.default(t);i.validateInt("max_x"),i.validateMin("max_x",e.state.view.min_x),e.commit("setViewMaxX",i.validatedPayload)},setViewMaxY:function(e,t){var i=new a.default(t);i.validateInt("max_y"),i.validateMin("max_y",e.state.view.min_y),e.commit("setViewMaxY",i.validatedPayload)},setZoom:function(e,t){e.commit("setMapZoom",t)},setMapLatitude:function(e,t){var i=new a.default(t);i.validateFloat("latitude"),i.validateMax("latitude",180),i.validateMin("latitude",-180),e.commit("setMapLatitude",i.validatedPayload)},setMapLongitude:function(e,t){var i=new a.default(t);i.validateFloat("longitude"),i.validateMax("longitude",180),i.validateMin("longitude",-180),e.commit("setMapLongitude",i.validatedPayload)},setMapZoom:function(e,t){var i=new a.default(t);i.validateFloat("zoom"),e.commit("setMapZoom",{zoom:t.zoom})},setMapRotation:function(e,t){e.dispatch("setNorthAxis",{north_axis:t.rotation/(2*Math.PI)*360}),e.commit("setMapRotation",{rotation:t.rotation})},setPreviousStoryVisible:function(e,t){e.commit("setPreviousStoryVisible",{visible:t.visible})}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={snapTolerance:function(e){var t=.025*Math.abs(e.view.max_x-e.view.min_x);return e.grid.visible?.5*e.grid.spacing:t},angleTolerance:function(){return 20}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(101),a=n(r),o=i(104),s=n(o),c=i(102),d=n(c);t.default={namespaced:!0,state:{config:{units:"ft",language:"EN-US",north_axis:0},grid:{visible:!0,spacing:50},view:{min_x:0,min_y:0,max_x:1e3,max_y:1e3},map:{initialized:!1,enabled:!0,visible:!0,latitude:39.7653,longitude:-104.9863,zoom:4.5,rotation:0,elevation:0},previous_story:{visible:!0}},actions:a.default,mutations:s.default,getters:d.default}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={setUnits:function(e,t){"units"in t&&(e.config.units=t.units)},setLanguage:function(e,t){"language"in t&&(e.config.language=t.language)},setConfigNorthAxis:function(e,t){"north_axis"in t&&(e.config.north_axis=t.north_axis)},setGridVisible:function(e,t){"visible"in t&&(e.grid.visible=t.visible)},setSpacing:function(e,t){e.grid.spacing=t.spacing},setViewMinX:function(e,t){"min_x"in t&&(e.view.min_x=t.min_x)},setViewMinY:function(e,t){"min_y"in t&&(e.view.min_y=t.min_y)},setViewMaxX:function(e,t){"max_x"in t&&(e.view.max_x=t.max_x)},setViewMaxY:function(e,t){"max_y"in t&&(e.view.max_y=t.max_y)},setMapEnabled:function(e,t){"enabled"in t&&(e.map.enabled=t.enabled)},setMapInitialized:function(e,t){"initialized"in t&&(e.map.initialized=t.initialized)},setMapVisible:function(e,t){"visible"in t&&(e.map.visible=t.visible)},setMapLatitude:function(e,t){"latitude"in t&&(e.map.latitude=t.latitude)},setMapLongitude:function(e,t){"longitude"in t&&(e.map.longitude=t.longitude)},setMapZoom:function(e,t){"zoom"in t&&(e.map.zoom=t.zoom)},setMapRotation:function(e,t){"rotation"in t&&(e.map.rotation=t.rotation)},setPreviousStoryVisible:function(e,t){"visible"in t&&(e.previous_story.visible=t.visible)}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={importState:function(e,t){e.project=t.project,e.application=t.application,e.models=t.models,e.geometry=t.geometry},importLibrary:function(e,t){e.models.library=t}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),o=i(6),s=n(o),c=function(e){var t=JSON.parse((0,s.default)(e));return t},d=["application/setScaleX","application/setCurrentTool","application/setScaleY","project/setSpacing","project/setViewMinX","project/setViewMinY","project/setViewMaxX","project/setViewMaxY","application/clearSubSelections","application/setCurrentStoryId","application/setCurrentStory","application/setCurrentSpace","application/setCurrentShading","application/setCurrentImage","application/setCurrentBuildingUnit","application/setCurrentThermalZone","application/setCurrentSpaceType","project/setPreviousStoryVisible","project/setGridVisible"],u=function(e){return e};t.default={store:null,pastTimetravelStates:[],futureTimetravelStates:[],currentlyInBatch:!1,triggeringAction:"(none)",init:function(e){var t=this;this.store=e,e.timetravel=this,this.pastTimetravelStates=[],this.futureTimetravelStates=[],this.store.replaceState((0,a.default)({},e.state,{timetravelInitialized:!0}));var i=e.replaceState;e.replaceState=function(){window.api&&window.api.config.onChange();for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];r.application.scale=this.state.application.scale,r.project.view=this.state.project.view,r.project.grid=this.state.project.grid,r.project.previous_story=this.state.project.previous_story,i.apply(this,t)};var n=e.commit;e.commit=function(){window.api&&window.api.config.onChange();for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];n.apply(this,t)};var r=e.dispatch;e.dispatch=function(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];var a=i[0];d.indexOf(a)===-1&&(t.maybeSaveCheckpoint(a),console.log("dispatching action:",i[0])),r.apply(this,i)}},maybeSaveCheckpoint:function(e){var t=this;this.currentlyInBatch||this.saveCheckpoint(e),this.currentlyInBatch=!0,clearTimeout(this.resetBatchFlag),this.resetBatchFlag=setTimeout(function(){t.currentlyInBatch=!1},0)},saveCheckpoint:function(e){this.pastTimetravelStates.push({triggeringAction:this.triggeringAction,state:c(this.store.state)}),this.triggeringAction=e,console.warn("saving state:",this.pastTimetravelStates[this.pastTimetravelStates.length-1]),this.futureTimetravelStates=[]},undo:function(){if(this.pastTimetravelStates.length){var e=this.pastTimetravelStates.pop(),t=e.state,i=e.triggeringAction,n=this.triggeringAction;this.futureTimetravelStates.push({triggeringAction:this.triggeringAction,state:c(this.store.state)}),this.triggeringAction=i,this.store.replaceState(t),console.log("undo",t),window.eventBus.$emit("success","undo "+n)}},redo:function(){if(this.futureTimetravelStates.length){var e=this.futureTimetravelStates.pop(),t=e.state,i=e.triggeringAction;this.pastTimetravelStates.push({state:c(this.store.state),triggeringAction:this.triggeringAction}),this.triggeringAction=i,this.store.replaceState(t),window.eventBus.$emit("success","redo "+i),console.log("redo",t)}},logTimetravel:function(){console.log("past:",this.pastTimetravelStates.map(function(e){return u(e)})),console.log("current",u(this.store.state)),console.log("future:",this.futureTimetravelStates.map(function(e){return u(e)}))}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=(0,l.default)({application:e.application,project:e.project,stories:e.models.stories},e.models.library),n=t["geometry/exportData"];return i=JSON.parse((0,d.default)(i)),i.stories.forEach(function(e){e.geometry=n.find(function(t){return t.id===e.geometry_id}),delete e.geometry_id}),a(i),i}function a(e){for(var t in e)"id"!==t&&!~t.indexOf("_id")||"number"!=typeof e[t]||(e[t]=String(e[t])),~t.indexOf("_ids")&&"object"===(0,s.default)(e[t])&&(e[t]=e[t].map(function(e){return String(e)})),null!==e[t]&&"object"===(0,s.default)(e[t])&&a(e[t])}Object.defineProperty(t,"__esModule",{value:!0});var o=i(57),s=n(o),c=i(6),d=n(c),u=i(1),l=n(u);t.default=r},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(35),a=n(r);t.default=function(){var e={space:0,building_unit:0,thermal_zone:0,space_type:0};return function(t){return e[t]++,a.default.palette.colors[e[t]%a.default.palette.colors.length]}}()},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=0,n=(0,o.default)(t.data);n.forEach(function(n){if("project"!==n){var r=e.state.models.library[n].map(function(e){return/_\d+[\w\s]?$/.test(e.name)?e.name.split("_").slice(0,-1).join("_"):e.name});t.data[n]=t.data[n].map(function(e){var t=e;t.id=c.default.generate();var n=r.filter(function(t){return t===e.name}).length;return n&&(t.name+="_"+n),i+=1,t})}}),window.eventBus.$emit("success","Imported "+i+" object"+(1!==i?"s":"")),e.commit("importLibrary",{building_units:e.state.models.library.building_units.concat(t.data.building_units||[]),thermal_zones:e.state.models.library.thermal_zones.concat(t.data.thermal_zones||[]),space_types:e.state.models.library.space_types.concat(t.data.space_types||[]),construction_sets:e.state.models.library.construction_sets.concat(t.data.construction_sets||[]),windows:e.state.models.library.windows.concat(t.data.windows||[]),daylighting_controls:e.state.models.library.daylighting_controls.concat(t.data.daylighting_controls||[])})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(14),o=n(a);t.default=r;var s=i(27),c=n(s)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){window.api&&(window.versionNumber=0);for(var i=JSON.parse((0,c.default)(t.data.stories.map(function(e){return e.geometry}))),n=0;n<i.length;n++)i[n].faces=i[n].faces.map(function(e){return{id:e.id,edgeRefs:e.edge_ids.map(function(t,i){return{edge_id:t,reverse:!e.edge_order[i]}})}}),i[n].edges=i[n].edges.map(function(e){return{id:e.id,v1:e.vertex_ids[0],v2:e.vertex_ids[1]}}),i[n].vertices=i[n].vertices.map(function(e){return{id:e.id,x:e.x,y:e.y}});t.data.stories.forEach(function(e){e.geometry_id=e.geometry.id,delete e.geometry}),t.data.application.scale.x=e.state.application.scale.x,t.data.application.scale.y=e.state.application.scale.y;var r=0;!function e(t){for(var i in t)t.hasOwnProperty(i)&&(r="id"===i&&Number(t[i])>r?Number(t[i]):r,null!==t[i]&&"object"===(0,o.default)(t[i])&&e(t[i]))}(t),r++,u.default.setId(r),e.commit("importState",{project:t.data.project,application:t.data.application,models:{stories:t.data.stories,library:{building_units:t.data.building_units,thermal_zones:t.data.thermal_zones,space_types:t.data.space_types,construction_sets:t.data.construction_sets,windows:t.data.windows,daylighting_controls:t.data.daylighting_controls}},geometry:i}),document.getElementById("svg-grid").dispatchEvent(new Event("reloadGrid"))}Object.defineProperty(t,"__esModule",{value:!0});var a=i(57),o=n(a),s=i(6),c=n(s);t.default=r;var d=i(27),u=n(d)},function(e,t){"use strict";function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[];return{invalidKeys:i,validatedPayload:t,validateLength:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n in e&&i.indexOf(n)===-1&&(n in e&&e[n].length>=r?t[n]=e[n]:(delete t[n],i.push(n)))},validateMin:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n in e&&i.indexOf(n)===-1&&(e[n]>r?t[n]=e[n]:(delete t[n],i.push(n)))},validateMax:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n in e&&i.indexOf(n)===-1&&(n in e&&e[n]<r?t[n]=e[n]:(delete t[n],i.push(n)))},validateFloat:function(n){n in e&&i.indexOf(n)===-1&&(n in e&&!isNaN(parseFloat(e[n]))?t[n]=parseFloat(e[n]):(delete t[n],i.push(n)))},validateInt:function(n){n in e&&i.indexOf(n)===-1&&(n in e&&!isNaN(parseInt(e[n]))?t[n]=parseInt(e[n]):(delete t[n],i.push(n)))},validateBoolean:function(n){n in e&&i.indexOf(n)===-1&&(n in e?t[n]=!!e[n]:(delete t[n],i.push(n)))}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,,,,,,function(e,t,i){i(170),i(171);var n=i(3)(i(72),i(210),"data-v-782d1b60",null);e.exports=n.exports},function(e,t,i){i(173);var n=i(3)(i(73),i(212),"data-v-d8d46712",null);e.exports=n.exports},function(e,t,i){i(164);var n=i(3)(i(74),i(205),"data-v-312b6cd2",null);e.exports=n.exports},function(e,t,i){i(163);var n=i(3)(i(75),i(204),"data-v-2a0d4266",null);e.exports=n.exports},function(e,t,i){i(169);var n=i(3)(i(76),i(209),"data-v-6c2e0a12",null);e.exports=n.exports},function(e,t,i){i(165);var n=i(3)(i(77),i(206),"data-v-37303d42",null);e.exports=n.exports},function(e,t,i){i(174);var n=i(3)(i(78),i(213),"data-v-e5aa45ba",null);e.exports=n.exports},function(e,t,i){i(168);var n=i(3)(i(79),i(208),"data-v-64853c42",null);e.exports=n.exports},function(e,t,i){i(172);var n=i(3)(i(80),i(211),"data-v-7b01355c",null);e.exports=n.exports},function(e,t,i){i(161),i(162);var n=i(3)(i(81),i(203),"data-v-1ee3ccf7",null);e.exports=n.exports},function(e,t,i){i(166),i(167);var n=i(3)(i(82),i(207),"data-v-386bfa78",null);e.exports=n.exports},function(e,t,i){i(160);var n=i(3)(i(83),i(202),"data-v-1dbce3e3",null);e.exports=n.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("nav",{attrs:{id:"toolbar"}},[i("section",{staticClass:"settings"},[i("div",{staticClass:"input-checkbox"},[i("label",[e._v("Story Below")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.previousStoryVisible,expression:"previousStoryVisible"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.previousStoryVisible)?e._i(e.previousStoryVisible,null)>-1:e.previousStoryVisible},on:{__c:function(t){var i=e.previousStoryVisible,n=t.target,r=!!n.checked;if(Array.isArray(i)){var a=null,o=e._i(i,a);n.checked?o<0&&(e.previousStoryVisible=i.concat(a)):o>-1&&(e.previousStoryVisible=i.slice(0,o).concat(i.slice(o+1)))}else e.previousStoryVisible=r}}})]),e._v(" "),e.mapEnabled?i("div",{staticClass:"input-checkbox"},[i("label",[e._v("map")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.mapVisible,expression:"mapVisible"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.mapVisible)?e._i(e.mapVisible,null)>-1:e.mapVisible},on:{__c:function(t){var i=e.mapVisible,n=t.target,r=!!n.checked;if(Array.isArray(i)){var a=null,o=e._i(i,a);n.checked?o<0&&(e.mapVisible=i.concat(a)):o>-1&&(e.mapVisible=i.slice(0,o).concat(i.slice(o+1)))}else e.mapVisible=r}}})]):e._e(),e._v(" "),i("div",{staticClass:"input-checkbox"},[i("label",[e._v("grid")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.gridVisible,expression:"gridVisible"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.gridVisible)?e._i(e.gridVisible,null)>-1:e.gridVisible},on:{__c:function(t){var i=e.gridVisible,n=t.target,r=!!n.checked;if(Array.isArray(i)){var a=null,o=e._i(i,a);n.checked?o<0&&(e.gridVisible=i.concat(a)):o>-1&&(e.gridVisible=i.slice(0,o).concat(i.slice(o+1)))}else e.gridVisible=r}}})]),e._v(" "),i("div",{staticClass:"input-number"},[i("label",[e._v("spacing")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number.lazy",value:e.spacing,expression:"spacing",modifiers:{number:!0,lazy:!0}}],domProps:{value:e.spacing},on:{change:function(t){e.spacing=e._n(t.target.value)},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),i("div",{staticClass:"input-number"},[i("label",[e._v("north axis")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number.lazy",value:e.northAxis,expression:"northAxis",modifiers:{number:!0,lazy:!0}}],attrs:{disabled:e.mapEnabled},domProps:{value:e.northAxis},on:{change:function(t){e.northAxis=e._n(t.target.value)},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),i("div",{attrs:{id:"import-export"}},[i("input",{ref:"importLibrary",attrs:{type:"file"},on:{change:function(t){e.importDataAsFile(t,"library")}}}),e._v(" "),i("button",{on:{click:function(t){e.$refs.importLibrary.click()}}},[e._v("Import Library")]),e._v(" "),i("input",{ref:"importInput",attrs:{type:"file"},on:{change:function(t){e.importDataAsFile(t,"floorplan")}}}),e._v(" "),i("button",{attrs:{id:"import"},on:{click:function(t){e.$refs.importInput.click()}}},[e._v("Open Floorplan")]),e._v(" "),i("button",{attrs:{id:"export"},on:{click:e.exportData}},[e._v("Save Floorplan")])])]),e._v(" "),i("section",{staticClass:"tools"},[e.timetravelInitialized?i("div",{staticClass:"undo-redo"},[i("button",{on:{click:e.undo}},[e._v("Undo")]),e._v(" "),i("button",{on:{click:e.redo}},[e._v("Redo")])]):e._e(),e._v(" "),i("div",e._l(e.availableTools,function(t){return i("button",{class:{active:e.tool===t},on:{click:function(i){e.tool=t}}},[e._v(e._s(t))])}))])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{attrs:{id:"resize"}},[e.resizeTop?i("div",{ref:"topbar",staticClass:"resize-bar",attrs:{id:"top-bar"}}):e._e(),e._v(" "),e.resizeRight?i("div",{ref:"rightbar",staticClass:"resize-bar",attrs:{id:"right-bar"}}):e._e(),e._v(" "),e._t("default")],2)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"map-container"}},[i("div",{ref:"map",style:{"pointer-events":"Map"===e.tool?"all":"none"},attrs:{id:"map"}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"Map"===e.tool,expression:"tool === 'Map'"}],attrs:{id:"autocomplete"}},[i("span",{staticClass:"input-text"},[i("input",{ref:"addressSearch",attrs:{type:"text",placeholder:"Search for a location"}})])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"Map"===e.tool,expression:"tool === 'Map'"}],attrs:{id:"help-text"}},[i("p",[e._v("Drag the map and/or search to set desired location.  Use alt+shift to rotate the north axis. Click 'Done' when finished.")]),e._v(" "),i("button",{on:{click:e.finishSetup}},[e._v("Done")])]),e._v(" "),e.mapModalVisible&&!e.mapInitialized?i("map-modal",{on:{close:function(t){e.mapModalVisible=!1,e.showReticle()}}}):e._e(),e._v(" "),i("svg",{attrs:{id:"reticle"}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"images",style:{"pointer-events":"Drag"===e.currentTool?"auto":"none"},attrs:{id:"images"}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{attrs:{id:"inspector"}},[i("section",{staticClass:"list",attrs:{id:"geometry-list"}},[e._l(e.currentStoryGeometry.faces,function(t){return e.currentSpace||e.currentShading?e._e():[i("header",[i("h3",[e._v("Face "+e._s(t.id))])]),e._v(" "),e._l(t.edgeRefs,function(t){return i("div",{staticClass:"list-item"},[e._v("\n        edge "+e._s(t.edge_id)+" "+e._s(t.reverse?"reversed ":"")+"\n        "),i("br"),e._v("startpoint "+e._s(e.startpoint(t))+"\n        "),i("br"),e._v("endpoint "+e._s(e.endpoint(t))+"\n      ")])})]}),e._v(" "),e.currentSubSelectionFace?[i("header",[i("h3",[e._v("Face "+e._s(e.currentSubSelectionFace.id)+" on "+e._s(e.currentSpace?e.currentSpace.name:e.currentShading.name))])]),e._v(" "),e._l(e.currentSubSelectionFace.edgeRefs,function(t){return i("div",{staticClass:"list-item"},[e._v("\n        edge "+e._s(t.edge_id)+" "+e._s(t.reverse?"reversed ":"")+"\n        "),i("br"),e._v("startpoint "+e._s(e.startpoint(t))+"\n        "),i("br"),e._v("endpoint "+e._s(e.endpoint(t))+"\n      ")])})]:e._e()],2)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("aside",[i("div",{staticClass:"overlay",on:{click:function(t){e.$emit("close")}}}),e._v(" "),i("div",{staticClass:"modal"},[e._m(0),e._v(" "),i("div",{staticClass:"content"},[i("p",[e._v("Choose to either open an existing floorplan, start a new floorplan without a map, or start a new floorplan with a geolocated map.")]),e._v(" "),i("button",{attrs:{id:"import"},on:{click:function(t){e.$refs.importInput.click()}}},[e._v("Open Floorplan")]),e._v(" "),i("button",{on:{click:function(t){e.mapEnabled=!1,e.mapVisible=!1,e.$emit("close")}}},[e._v("New Floorplan")]),e._v(" "),i("button",{on:{click:function(t){e.mapEnabled=!0,e.tool="Map",e.$emit("close")}}},[e._v("New Floorplan w/ Map")]),e._v(" "),i("input",{ref:"importInput",attrs:{type:"file"},on:{change:e.importModelAsFile}})])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("header",[i("h2",[e._v("Quick Start")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{"pointer-events":"Drag"===e.currentTool||"Map"===e.currentTool?"none":"auto"},attrs:{id:"grid"}},[i("svg",{ref:"grid",attrs:{preserveAspectRatio:"none",id:"svg-grid"}})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:"tool_"+e.tool.toLowerCase(),attrs:{id:"app"}},[i("toolbar",{class:{"disabled-component":"Map"===e.tool}}),e._v(" "),i("resize-group",{attrs:{vertical:!0}},[i("resize-group",{attrs:{horizontal:!0,id:"layout-main"}},[i("resize",{attrs:{id:"layout-navigation","resize-right":!0,"resize-right-min":200}},[i("navigation",{class:{"disabled-component":"Map"===e.tool}})],1),e._v(" "),i("main",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.error||e.success,expression:"error || success"}],class:{error:e.error,success:e.success},attrs:{id:"alert-text"}},[i("p",[e._v(e._s(e.error||e.success))])]),e._v(" "),i("canvas-view"),e._v(" "),i("grid-view")],1)],1),e._v(" "),i("resize",{attrs:{id:"layout-library","resize-top":!0,"resize-top-min":100}},[i("library",{class:{"disabled-component":"Map"===e.tool}})],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("nav",{attrs:{id:"navigation"}},[i("section",{attrs:{id:"selections"}},[i("div",{staticClass:"input-select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.mode,expression:"mode"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.mode=t.target.multiple?i:i[0]}}},e._l(e.modes,function(t){return i("option",{domProps:{value:t}},[e._v(e._s(e.displayNameForMode(t)))])})),e._v(" "),i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 14",height:"10px"}},[i("path",{attrs:{d:"M.5 0v14l11-7-11-7z",transform:"translate(13) rotate(90)"}})])]),e._v(" "),i("input",{ref:"fileInput",attrs:{id:"upload-image-input",type:"file"},on:{change:e.uploadImage}}),e._v(" "),i("button",{directives:[{name:"show",rawName:"v-show",value:"images"===e.mode,expression:"mode==='images'"}],on:{click:function(t){e.$refs.fileInput.click()}}},[i("svg",{attrs:{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M208 122h-74V48c0-3.534-2.466-6.4-6-6.4s-6 2.866-6 6.4v74H48c-3.534 0-6.4 2.466-6.4 6s2.866 6 6.4 6h74v74c0 3.534 2.466 6.4 6 6.4s6-2.866 6-6.4v-74h74c3.534 0 6.4-2.466 6.4-6s-2.866-6-6.4-6z"}})]),e._v("\n            "+e._s(e.displayNameForMode(e.mode))+"\n        ")]),e._v(" "),"images"!==e.mode?i("button",{on:{click:function(t){e.createItem()}}},[i("svg",{attrs:{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M208 122h-74V48c0-3.534-2.466-6.4-6-6.4s-6 2.866-6 6.4v74H48c-3.534 0-6.4 2.466-6.4 6s2.866 6 6.4 6h74v74c0 3.534 2.466 6.4 6 6.4s6-2.866 6-6.4v-74h74c3.534 0 6.4-2.466 6.4-6s-2.866-6-6.4-6z"}})]),e._v("\n            "+e._s(e.displayNameForMode(e.mode))+"\n        ")]):e._e()]),e._v(" "),i("section",{attrs:{id:"breadcrumbs"}},[i("button",{on:{click:function(t){e.createItem("stories")}}},[i("svg",{attrs:{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M208 122h-74V48c0-3.534-2.466-6.4-6-6.4s-6 2.866-6 6.4v74H48c-3.534 0-6.4 2.466-6.4 6s2.866 6 6.4 6h74v74c0 3.534 2.466 6.4 6 6.4s6-2.866 6-6.4v-74h74c3.534 0 6.4-2.466 6.4-6s-2.866-6-6.4-6z"}})]),e._v("\n            "+e._s(e.displayNameForMode("stories"))+"\n        ")]),e._v(" "),i("span",[e._v("\n            "+e._s(e.currentStory.name)+"\n            "),e.selectedObject?[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 14"}},[i("path",{attrs:{d:"M.5 0v14l11-7-11-7z"}})]),e._v("\n                "+e._s(e.selectedObject.name)+"\n            ")]:e._e()],2)]),e._v(" "),i("div",{attrs:{id:"list"}},[i("section",{attrs:{id:"story-list"}},e._l(e.stories,function(t){return i("div",{key:t.id,class:{active:e.currentStory&&e.currentStory.id===t.id},style:{"background-color":t&&t.color},on:{click:function(i){e.selectItem(t,"stories")}}},[e._v("\n                "+e._s(t.name)+"\n                "),i("svg",{attrs:{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(i){e.destroyItem(t,"stories")}}},[i("path",{attrs:{d:"M137.05 128l75.476-75.475c2.5-2.5 2.5-6.55 0-9.05s-6.55-2.5-9.05 0L128 118.948 52.525 43.474c-2.5-2.5-6.55-2.5-9.05 0s-2.5 6.55 0 9.05L118.948 128l-75.476 75.475c-2.5 2.5-2.5 6.55 0 9.05 1.25 1.25 2.888 1.876 4.525 1.876s3.274-.624 4.524-1.874L128 137.05l75.475 75.476c1.25 1.25 2.888 1.875 4.525 1.875s3.275-.624 4.525-1.874c2.5-2.5 2.5-6.55 0-9.05L137.05 128z"}})])])})),e._v(" "),i("section",{attrs:{id:"subselection-list"}},e._l(e.items,function(t){return i("div",{key:t.id,class:{active:e.selectedObject&&e.selectedObject.id===t.id},style:{"background-color":t&&e.selectedObject&&e.selectedObject.id===t.id?t.color:""},on:{click:function(i){e.selectItem(t)}}},[i("span",{style:{"background-color":t&&t.color}}),e._v("\n                "+e._s(t.name)+"\n                "),i("svg",{attrs:{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(i){e.destroyItem(t)}}},[i("path",{attrs:{d:"M137.05 128l75.476-75.475c2.5-2.5 2.5-6.55 0-9.05s-6.55-2.5-9.05 0L128 118.948 52.525 43.474c-2.5-2.5-6.55-2.5-9.05 0s-2.5 6.55 0 9.05L118.948 128l-75.476 75.475c-2.5 2.5-2.5 6.55 0 9.05 1.25 1.25 2.888 1.876 4.525 1.876s3.274-.624 4.524-1.874L128 137.05l75.475 75.476c1.25 1.25 2.888 1.875 4.525 1.875s3.275-.624 4.525-1.874c2.5-2.5 2.5-6.55 0-9.05L137.05 128z"}})])])}))])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"canvas",attrs:{id:"canvas"}},[i("svg",{attrs:{id:"north_axis",height:"1792",viewBox:"0 0 1792 1792",width:"1792",xmlns:"http://www.w3.org/2000/svg",transform:"rotate("+e.northAxis+")"}},[i("path",{attrs:{d:"M1277 493q-9 19-29 19h-224v1248q0 14-9 23t-23 9H800q-14 0-23-9t-9-23V512H544q-21 0-29-19t5-35L870 74q10-10 23-10 14 0 24 10l355 384q13 16 5 35z"}})]),e._v(" "),e.mapEnabled?i("map-view",{directives:[{name:"show",rawName:"v-show",value:e.mapVisible,expression:"mapVisible"}]}):e._e(),e._v(" "),i("images-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{attrs:{id:"library"}},[i("header",[i("div",{staticClass:"input-text"},[i("label",[e._v("Search")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"input-select"},[i("label",[e._v("Type")]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.type=t.target.multiple?i:i[0]}}},e._l(e.extendedLibrary,function(t,n){return i("option",{domProps:{value:n}},[e._v(e._s(e.displayTypeForType(n)))])})),e._v(" "),i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 14",height:"10px"}},[i("path",{attrs:{d:"M.5 0v14l11-7-11-7z",transform:"translate(13) rotate(90)"}})])]),e._v(" "),i("button",{on:{click:e.createObject}},[e._v("New")])]),e._v(" "),i("table",{staticClass:"table"},[i("thead",[i("tr",[e._l(e.columns,function(t){return i("th",{on:{click:function(i){e.sortBy(t)}}},[i("span",[i("span",[e._v(e._s(e.displayNameForKey(t)))]),e._v(" "),i("svg",{directives:[{name:"show",rawName:"v-show",value:t===e.sortKey&&e.sortDescending,expression:"column === sortKey && sortDescending"}],attrs:{viewBox:"0 0 10 3",xmlns:"http://www.w3.org/2000/svg"}
},[i("path",{attrs:{d:"M0 .5l5 5 5-5H0z"}})]),e._v(" "),i("svg",{directives:[{name:"show",rawName:"v-show",value:t===e.sortKey&&!e.sortDescending,expression:"column === sortKey && !sortDescending"}],attrs:{viewBox:"0 0 10 3",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M0 5.5l5-5 5 5H0z"}})])])])}),e._v(" "),i("th",{staticClass:"destroy"})],2)]),e._v(" "),i("tbody",e._l(e.displayObjects,function(t){return i("tr",{key:t.id,style:{"background-color":e.selectedObject&&e.selectedObject.id===t.id?"#008500":""},on:{click:function(i){e.selectedObject=t}}},[e._l(e.columns,function(n){return i("td",[e.inputTypeForKey(n)?e._e():i("input",{attrs:{readonly:""},domProps:{value:e.valueForKey(t,n)},on:{change:function(i){e.setValueForKey(t,n,i.target.value)}}}),e._v(" "),"text"===e.inputTypeForKey(n)?i("input",{domProps:{value:e.valueForKey(t,n)},on:{change:function(i){e.setValueForKey(t,n,i.target.value)}}}):e._e(),e._v(" "),"color"===e.inputTypeForKey(n)?i("div",{staticClass:"input-color"},["color"===e.inputTypeForKey(n)?i("input",{attrs:{"object-id":t.id},domProps:{value:e.valueForKey(t,n)},on:{change:function(i){e.setValueForKey(t,n,i.target.value)}}}):e._e()]):e._e(),e._v(" "),"select"===e.inputTypeForKey(n)?i("div",{staticClass:"input-select"},[i("select",{on:{change:function(i){e.setValueForKey(t,n,i.target.value)}}},[i("option",{attrs:{value:"null"},domProps:{selected:!e.valueForKey(t,n)}},[e._v("None")]),e._v(" "),e._l(e.selectOptionsForObjectAndKey(t,n),function(r,a){return i("option",{domProps:{value:r,selected:e.valueForKey(t,n)===a}},[e._v(e._s(a))])})],2),e._v(" "),i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 14",height:"10px"}},[i("path",{attrs:{d:"M.5 0v14l11-7-11-7z",transform:"translate(13) rotate(90)"}})])]):e._e()])}),e._v(" "),i("td",{staticClass:"destroy"},[i("svg",{attrs:{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(i){i.stopPropagation(),e.destroyObject(t)}}},[i("path",{attrs:{d:"M137.05 128l75.476-75.475c2.5-2.5 2.5-6.55 0-9.05s-6.55-2.5-9.05 0L128 118.948 52.525 43.474c-2.5-2.5-6.55-2.5-9.05 0s-2.5 6.55 0 9.05L118.948 128l-75.476 75.475c-2.5 2.5-2.5 6.55 0 9.05 1.25 1.25 2.888 1.876 4.525 1.876s3.274-.624 4.524-1.874L128 137.05l75.475 75.476c1.25 1.25 2.888 1.875 4.525 1.875s3.275-.624 4.525-1.874c2.5-2.5 2.5-6.55 0-9.05L137.05 128z"}})])])],2)}))])])},staticRenderFns:[]}},,function(e,t){},function(e,t){}]);
//# sourceMappingURL=app.219bd24799dc4436aff8.js.map
      }
    </script>
    <script> window.api = {
  config: null,
  initAlreadyRun: false,
  doImport: (data) => {
    try {
      window.application.$store.dispatch('importModel', {
        clientWidth: document.getElementById('svg-grid').clientWidth,
        clientHeight: document.getElementById('svg-grid').clientHeight,
        data: JSON.parse(data),
      });
    } catch (err) {
      return false;
    }
    return true;
  },
  importLibrary: (data) => {
    try {
      window.application.$store.dispatch('importLibrary', { data: JSON.parse(data) });
    } catch (err) {
      return false;
    }
    return true;
  },
  doExport: () => window.application.$store.getters['exportData'],
  setConfig: (config) => {
    if (this.initAlreadyRun) {
      throw new Error('The application has already been started, configuration cannot be changed.');
    }

    if (config === undefined) {
      config = {}; // eslint-disable-line
    }
    window.api.config = Object.assign({
      units: 'm',
      showMapDialogOnStart: false,
      online: true,
      onChange: () => { window.versionNumber += 1; },
    }, config);
  },
  init: () => {
    if (this.initAlreadyRun) {
      throw new Error('This method can only be run once!');
    }
    window.versionNumber = 0;
    window.startApp();
    delete window.startApp;

    // don't dispatch actions until the application and data store are instantiated
    window.application.$store.dispatch('project/setUnits', { units: window.api.config.units });

    // if the map modal has been disabled, mark the map as initialized so that time travel can be initialized
    // TODO: we may want to intitialize timetravel in the importModel action instead
    window.application.$store.dispatch('project/setMapInitialized', { initialized: true });

    this.initAlreadyRun = true;
  },
};
 </script>
    </body>
</html>