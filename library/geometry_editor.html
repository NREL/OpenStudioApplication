<!DOCTYPE html>
<html>
    <head>
        <meta charset=utf-8>
        <title>geometry-editor</title>
        <style>
            @import url(https://fonts.googleapis.com/css?family=Roboto);@import url(https://fonts.googleapis.com/css?family=Roboto);@import url(https://fonts.googleapis.com/css?family=Roboto);body,html{color:#bbc3c7;font-size:16px;font-family:Roboto,sans-serif;height:100vh;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;margin:0}body h1,body h2,body h3,body h4,html h1,html h2,html h3,html h4{font-weight:100}body a,html a{color:#008500}body a:hover,html a:hover{cursor:pointer}body{overflow:hidden}#toolbar{background-color:#2b3134;border-bottom:1px solid #525d64}main{background-color:#24292c}main #navigation{background-color:#2b3134;border-right:1px solid #525d64}.disabled-component{position:relative}.disabled-component>:first-child:before{position:absolute;content:"";left:0;right:0;top:0;bottom:0;background:rgba(36,41,44,.6);z-index:100}main #images .konvajs-content{z-index:1}main #images,main #map-container{position:absolute;top:0;bottom:0}#toolbar{top:0;height:5rem}#layout-main,#toolbar{position:fixed;left:0;right:0}#layout-main{top:5rem;bottom:30%}#layout-main>*{position:absolute;top:0;bottom:0}#layout-main #layout-navigation{left:0;width:17.5rem}#layout-main main{left:17.5rem;right:0}#layout-library{position:fixed;bottom:0;left:0;right:0;top:70%}.tool_select polygon{cursor:pointer}#grid svg *{pointer-events:none}#grid svg ellipse:not(.origin){fill:#839199;stroke:#839199}#grid svg ellipse:not(.origin).highlight{stroke:red;fill:red}#grid svg ellipse.origin{stroke:#839199}#grid svg line.horizontal,#grid svg line.vertical{stroke:red;opacity:.25}#grid svg line.highlight{stroke:#ff0;z-index:10}#grid svg path,#grid svg polygon,#grid svg rect{fill-opacity:.9;z-index:3;pointer-events:all;stroke:#839199}#grid svg path.current,#grid svg polygon.current,#grid svg rect.current{stroke:#a70000;stroke-width:2px}#grid svg path.guideLine,#grid svg path.previousStory,#grid svg polygon.guideLine,#grid svg polygon.previousStory,#grid svg rect.guideLine,#grid svg rect.previousStory{fill-opacity:.3;z-index:-1}#grid svg path.previousStory,#grid svg polygon.previousStory,#grid svg rect.previousStory{stroke-dasharray:10;stroke:#000;stroke-width:2}#grid svg rect.view{fill-opacity:0}#grid svg .axis line{stroke-opacity:.3;shape-rendering:crispEdges;stroke:#3b4348}.input-checkbox,.input-number,.input-select,.input-text{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex}.input-checkbox label,.input-number label,.input-select label,.input-text label{font-size:.625rem;margin:0 .5rem 0 0;text-transform:uppercase}.input-number input,.input-text input{background-color:#2b3134;border:0;border-radius:.35rem;color:#bbc3c7;height:2rem;padding:0 .75rem;-webkit-appearance:none}.input-text input{width:15rem}.input-number input{width:2.5rem}.input-select{position:relative}.input-select select{background-color:#2b3134;border:0;color:#bbc3c7;-ms-flex-positive:2;flex-grow:2;height:2rem;padding:0 1.75rem 0 .75rem;-webkit-appearance:none}.input-select svg{pointer-events:none;position:absolute;right:.5rem;top:calc(50% - 3px)}.input-select svg path{fill:#525d64}button{background-color:#2b3134;border:1px solid #525d64;border-radius:.35rem;cursor:pointer;color:#bbc3c7;height:2rem;outline:none;padding:0 .75rem}.overlay{background-color:#24292c;height:100vh;left:0;opacity:.5;position:absolute;top:0;width:100%;z-index:3}.modal{background-color:#3b4348;border:1px solid #525d64;border-radius:1rem;left:50%;min-height:10rem;position:fixed;top:50%;transform:translate(-50%,-50%);width:25rem;z-index:4}.modal header{padding:.5rem;text-align:center;background-color:#2b3134;border-radius:.9rem .9rem 0 0}.modal header h2{display:inline;font-size:.7rem;text-transform:uppercase}.modal header svg.close{cursor:pointer;height:1.25rem;position:absolute;top:.5rem;right:.5rem;width:1.5rem}.modal header svg.close path{fill:#bbc3c7}.modal header svg.close:hover path{fill:#008500}.modal form{padding:1rem}.modal form label{color:#839199}.modal footer{background-color:#2b3134;border-radius:0 0 .9rem .9rem;padding:.5rem;text-align:right}.modal footer button:last-child{border-color:#008500}.tabs{border-bottom:1px solid #24292c;border-top:1px solid #24292c;display:-ms-flexbox;display:flex;height:1.75rem;font-size:.625rem}.tabs span{border-right:1px solid #24292c;cursor:pointer;display:inline-block;padding:.5rem;text-transform:uppercase}.tabs .active{background-color:#525d64}.tool_select polygon[data-v-782d1b60]{cursor:pointer}.tool_eraser[data-v-782d1b60],.tool_polygon[data-v-782d1b60],.tool_rectangle[data-v-782d1b60]{cursor:crosshair}.tool_drag[data-v-782d1b60]{cursor:move}#alert-text[data-v-782d1b60]{position:absolute;top:1rem;left:0;right:0;text-align:center;z-index:3}#alert-text p[data-v-782d1b60]{color:#fff;padding:2px 4px;margin:10px;border:2px solid #24292c;display:inline-block}#alert-text.success p[data-v-782d1b60]{background:#008500}#alert-text.error p[data-v-782d1b60]{background:#a70000}#navigation[data-v-7b01355c]{background-color:#343b40;border-right:1px solid #24292c;font-size:.75rem}#navigation #selections[data-v-7b01355c]{display:-ms-flexbox;display:flex;padding:.25rem;-ms-flex-pack:justify;justify-content:space-between}#navigation #selections input[type=file][data-v-7b01355c]{position:absolute;visibility:hidden}#navigation #breadcrumbs>button[data-v-7b01355c],#navigation #selections>button[data-v-7b01355c]{display:-ms-flexbox;display:flex;line-height:1rem}#navigation #breadcrumbs>button svg[data-v-7b01355c],#navigation #selections>button svg[data-v-7b01355c]{height:1rem;margin:0 .25rem 0 -.1rem;width:1rem}#navigation #breadcrumbs>button svg path[data-v-7b01355c],#navigation #selections>button svg path[data-v-7b01355c]{fill:#bbc3c7}#navigation #breadcrumbs[data-v-7b01355c],#navigation #story-list>div[data-v-7b01355c],#navigation #subselection-list>div[data-v-7b01355c]{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}#navigation #list[data-v-7b01355c]{height:100%;display:-ms-flexbox;display:flex}#navigation #list #story-list[data-v-7b01355c]{border-right:1px solid #24292c;width:6rem}#navigation #list #subselection-list[data-v-7b01355c]{-ms-flex-positive:2;flex-grow:2}#navigation #list #story-list[data-v-7b01355c],#navigation #list #subselection-list[data-v-7b01355c]{overflow:auto;height:calc(100% - 5rem)}#navigation #list #story-list>div[data-v-7b01355c],#navigation #list #subselection-list>div[data-v-7b01355c]{border-bottom:1px solid #24292c;cursor:pointer;height:2rem;padding:0 .5rem}#navigation #list #story-list>div span[data-v-7b01355c],#navigation #list #subselection-list>div span[data-v-7b01355c]{display:inline-block;height:1rem;width:1rem}#navigation #list #story-list>div.active[data-v-7b01355c],#navigation #list #subselection-list>div.active[data-v-7b01355c]{color:#008500}#navigation #list #story-list>div.active svg[data-v-7b01355c],#navigation #list #subselection-list>div.active svg[data-v-7b01355c]{cursor:pointer;height:1rem}#navigation #list #story-list>div.active svg path[data-v-7b01355c],#navigation #list #subselection-list>div.active svg path[data-v-7b01355c]{fill:#bbc3c7}#navigation #list #story-list>div.active svg:hover path[data-v-7b01355c],#navigation #list #subselection-list>div.active svg:hover path[data-v-7b01355c]{fill:#a70000}#navigation #breadcrumbs[data-v-7b01355c]{background-color:#343b40;border-bottom:1px solid #24292c;border-top:1px solid #24292c;height:2.5rem;-ms-flex-pack:start;justify-content:flex-start;padding:0 1rem}#navigation #breadcrumbs span[data-v-7b01355c]{margin-left:1rem;cursor:pointer}#navigation #breadcrumbs svg[data-v-7b01355c]{margin:0 .25rem;width:.5rem}#navigation #breadcrumbs svg path[data-v-7b01355c]{fill:#525d64}#grid button[data-v-6c2e0a12]{position:absolute;z-index:1000}#grid img[data-v-6c2e0a12]{position:absolute}#grid svg[data-v-6c2e0a12]{background-size:cover;background-repeat:no-repeat;height:100%;left:0;top:0;position:absolute;width:100%;z-index:2}body,html{color:#bbc3c7;font-size:16px;font-family:Roboto,sans-serif;height:100vh;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;margin:0}body h1,body h2,body h3,body h4,html h1,html h2,html h3,html h4{font-weight:100}body a,html a{color:#008500}body a:hover,html a:hover{cursor:pointer}body{overflow:hidden}#toolbar{background-color:#2b3134;border-bottom:1px solid #525d64}main{background-color:#24292c}main #navigation{background-color:#2b3134;border-right:1px solid #525d64}.disabled-component{position:relative}.disabled-component>:first-child:before{position:absolute;content:"";left:0;right:0;top:0;bottom:0;background:rgba(36,41,44,.6);z-index:100}main #images .konvajs-content{z-index:1}main #images,main #map-container{position:absolute;top:0;bottom:0}#toolbar{top:0;height:5rem}#layout-main,#toolbar{position:fixed;left:0;right:0}#layout-main{top:5rem;bottom:30%}#layout-main>*{position:absolute;top:0;bottom:0}#layout-main #layout-navigation{left:0;width:17.5rem}#layout-main main{left:17.5rem;right:0}#layout-library{position:fixed;bottom:0;left:0;right:0;top:70%}.tool_select polygon{cursor:pointer}#grid svg *{pointer-events:none}#grid svg ellipse:not(.origin){fill:#839199;stroke:#839199}#grid svg ellipse:not(.origin).highlight{stroke:red;fill:red}#grid svg ellipse.origin{stroke:#839199}#grid svg line.horizontal,#grid svg line.vertical{stroke:red;opacity:.25}#grid svg line.highlight{stroke:#ff0;z-index:10}#grid svg path,#grid svg polygon,#grid svg rect{fill-opacity:.9;z-index:3;pointer-events:all;stroke:#839199}#grid svg path.current,#grid svg polygon.current,#grid svg rect.current{stroke:#a70000;stroke-width:2px}#grid svg path.guideLine,#grid svg path.previousStory,#grid svg polygon.guideLine,#grid svg polygon.previousStory,#grid svg rect.guideLine,#grid svg rect.previousStory{fill-opacity:.3;z-index:-1}#grid svg path.previousStory,#grid svg polygon.previousStory,#grid svg rect.previousStory{stroke-dasharray:10;stroke:#000;stroke-width:2}#grid svg rect.view{fill-opacity:0}#grid svg .axis line{stroke-opacity:.3;shape-rendering:crispEdges;stroke:#3b4348}.input-checkbox,.input-number,.input-select,.input-text{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex}.input-checkbox label,.input-number label,.input-select label,.input-text label{font-size:.625rem;margin:0 .5rem 0 0;text-transform:uppercase}.input-number input,.input-text input{background-color:#2b3134;border:0;border-radius:.35rem;color:#bbc3c7;height:2rem;padding:0 .75rem;-webkit-appearance:none}.input-text input{width:15rem}.input-number input{width:2.5rem}.input-select{position:relative}.input-select select{background-color:#2b3134;border:0;color:#bbc3c7;-ms-flex-positive:2;flex-grow:2;height:2rem;padding:0 1.75rem 0 .75rem;-webkit-appearance:none}.input-select svg{pointer-events:none;position:absolute;right:.5rem;top:calc(50% - 3px)}.input-select svg path{fill:#525d64}button{background-color:#2b3134;border:1px solid #525d64;border-radius:.35rem;cursor:pointer;color:#bbc3c7;height:2rem;outline:none;padding:0 .75rem}.overlay{background-color:#24292c;height:100vh;left:0;opacity:.5;position:absolute;top:0;width:100%;z-index:3}.modal{background-color:#3b4348;border:1px solid #525d64;border-radius:1rem;left:50%;min-height:10rem;position:fixed;top:50%;transform:translate(-50%,-50%);width:25rem;z-index:4}.modal header{padding:.5rem;text-align:center;background-color:#2b3134;border-radius:.9rem .9rem 0 0}.modal header h2{display:inline;font-size:.7rem;text-transform:uppercase}.modal header svg.close{cursor:pointer;height:1.25rem;position:absolute;top:.5rem;right:.5rem;width:1.5rem}.modal header svg.close path{fill:#bbc3c7}.modal header svg.close:hover path{fill:#008500}.modal form{padding:1rem}.modal form label{color:#839199}.modal footer{background-color:#2b3134;border-radius:0 0 .9rem .9rem;padding:.5rem;text-align:right}.modal footer button:last-child{border-color:#008500}.tabs{border-bottom:1px solid #24292c;border-top:1px solid #24292c;display:-ms-flexbox;display:flex;height:1.75rem;font-size:.625rem}.tabs span{border-right:1px solid #24292c;cursor:pointer;display:inline-block;padding:.5rem;text-transform:uppercase}.tabs .active{background-color:#525d64}#resize[data-v-1ee3ccf7]{position:relative;height:100%;width:100%}#resize>[data-v-1ee3ccf7]{width:100%;height:100%}#resize>#top-bar[data-v-1ee3ccf7]{position:absolute;height:6px;cursor:n-resize}#resize>#right-bar[data-v-1ee3ccf7]{position:absolute;cursor:n-resize;right:0;width:6px;cursor:e-resize}#resize .resize-bar[data-v-1ee3ccf7]{transition:background .5s linear}#resize .resize-bar[data-v-1ee3ccf7]:active,#resize .resize-bar[data-v-1ee3ccf7]:hover{background-color:#bbc3c7}body,html{color:#bbc3c7;font-size:16px;font-family:Roboto,sans-serif;height:100vh;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;margin:0}body h1,body h2,body h3,body h4,html h1,html h2,html h3,html h4{font-weight:100}body a,html a{color:#008500}body a:hover,html a:hover{cursor:pointer}body{overflow:hidden}#toolbar{background-color:#2b3134;border-bottom:1px solid #525d64}main{background-color:#24292c}main #navigation{background-color:#2b3134;border-right:1px solid #525d64}.disabled-component{position:relative}.disabled-component>:first-child:before{position:absolute;content:"";left:0;right:0;top:0;bottom:0;background:rgba(36,41,44,.6);z-index:100}main #images .konvajs-content{z-index:1}main #images,main #map-container{position:absolute;top:0;bottom:0}#toolbar{top:0;height:5rem}#layout-main,#toolbar{position:fixed;left:0;right:0}#layout-main{top:5rem;bottom:30%}#layout-main>*{position:absolute;top:0;bottom:0}#layout-main #layout-navigation{left:0;width:17.5rem}#layout-main main{left:17.5rem;right:0}#layout-library{position:fixed;bottom:0;left:0;right:0;top:70%}.tool_select polygon{cursor:pointer}#grid svg *{pointer-events:none}#grid svg ellipse:not(.origin){fill:#839199;stroke:#839199}#grid svg ellipse:not(.origin).highlight{stroke:red;fill:red}#grid svg ellipse.origin{stroke:#839199}#grid svg line.horizontal,#grid svg line.vertical{stroke:red;opacity:.25}#grid svg line.highlight{stroke:#ff0;z-index:10}#grid svg path,#grid svg polygon,#grid svg rect{fill-opacity:.9;z-index:3;pointer-events:all;stroke:#839199}#grid svg path.current,#grid svg polygon.current,#grid svg rect.current{stroke:#a70000;stroke-width:2px}#grid svg path.guideLine,#grid svg path.previousStory,#grid svg polygon.guideLine,#grid svg polygon.previousStory,#grid svg rect.guideLine,#grid svg rect.previousStory{fill-opacity:.3;z-index:-1}#grid svg path.previousStory,#grid svg polygon.previousStory,#grid svg rect.previousStory{stroke-dasharray:10;stroke:#000;stroke-width:2}#grid svg rect.view{fill-opacity:0}#grid svg .axis line{stroke-opacity:.3;shape-rendering:crispEdges;stroke:#3b4348}.input-checkbox,.input-number,.input-select,.input-text{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex}.input-checkbox label,.input-number label,.input-select label,.input-text label{font-size:.625rem;margin:0 .5rem 0 0;text-transform:uppercase}.input-number input,.input-text input{background-color:#2b3134;border:0;border-radius:.35rem;color:#bbc3c7;height:2rem;padding:0 .75rem;-webkit-appearance:none}.input-text input{width:15rem}.input-number input{width:2.5rem}.input-select{position:relative}.input-select select{background-color:#2b3134;border:0;color:#bbc3c7;-ms-flex-positive:2;flex-grow:2;height:2rem;padding:0 1.75rem 0 .75rem;-webkit-appearance:none}.input-select svg{pointer-events:none;position:absolute;right:.5rem;top:calc(50% - 3px)}.input-select svg path{fill:#525d64}button{background-color:#2b3134;border:1px solid #525d64;border-radius:.35rem;cursor:pointer;color:#bbc3c7;height:2rem;outline:none;padding:0 .75rem}.overlay{background-color:#24292c;height:100vh;left:0;opacity:.5;position:absolute;top:0;width:100%;z-index:3}.modal{background-color:#3b4348;border:1px solid #525d64;border-radius:1rem;left:50%;min-height:10rem;position:fixed;top:50%;transform:translate(-50%,-50%);width:25rem;z-index:4}.modal header{padding:.5rem;text-align:center;background-color:#2b3134;border-radius:.9rem .9rem 0 0}.modal header h2{display:inline;font-size:.7rem;text-transform:uppercase}.modal header svg.close{cursor:pointer;height:1.25rem;position:absolute;top:.5rem;right:.5rem;width:1.5rem}.modal header svg.close path{fill:#bbc3c7}.modal header svg.close:hover path{fill:#008500}.modal form{padding:1rem}.modal form label{color:#839199}.modal footer{background-color:#2b3134;border-radius:0 0 .9rem .9rem;padding:.5rem;text-align:right}.modal footer button:last-child{border-color:#008500}.tabs{border-bottom:1px solid #24292c;border-top:1px solid #24292c;display:-ms-flexbox;display:flex;height:1.75rem;font-size:.625rem}.tabs span{border-right:1px solid #24292c;cursor:pointer;display:inline-block;padding:.5rem;text-transform:uppercase}.tabs .active{background-color:#525d64}svg#north_axis[data-v-d8d46712]{height:2.25rem;position:absolute;top:1rem;left:1rem;width:3rem;z-index:90}#canvas[data-v-d8d46712]{background:#fff;height:100%;width:100%}#map-container[data-v-2a0d4266]{position:relative;height:100%;width:100%}#map-container #map[data-v-2a0d4266]{height:100%;min-width:100%}#autocomplete[data-v-2a0d4266]{z-index:100;position:absolute;right:0;top:10px}#autocomplete>[data-v-2a0d4266]{float:left;margin-right:10px}#autocomplete input[data-v-2a0d4266]:focus{outline:none}#help-text[data-v-2a0d4266]{position:absolute;bottom:0;left:0;right:0;text-align:center;z-index:3}#help-text p[data-v-2a0d4266]{color:#24292c;background:#fff;padding:2px 4px;margin:10px;border:2px solid #24292c;display:inline-block}#reticle[data-v-2a0d4266]{position:absolute;top:0;width:100%;height:100%;pointer-events:none}.content[data-v-64853c42]{margin:0 2rem 2rem;text-align:center}.content button[data-v-64853c42]{margin:1rem .5rem}.content input[type=file][data-v-64853c42]{display:none}.modal[data-v-64853c42]{width:30rem}#toolbar section[data-v-1dbce3e3]{-ms-flex-align:center;align-items:center;display:-ms-flexbox;display:flex;height:2.5rem;padding:0 2.5rem}#toolbar section.settings[data-v-1dbce3e3]{background-color:#343b40;text-align:right}#toolbar section.settings #modal-buttons[data-v-1dbce3e3]{margin-right:2rem}#toolbar section.settings #import-export[data-v-1dbce3e3]{position:absolute;right:2.5rem}#toolbar section.settings #import-export #import[data-v-1dbce3e3]{margin-right:1rem;border:1px solid #a70000}#toolbar section.settings #import-export #export[data-v-1dbce3e3]{border:1px solid #008500}#toolbar section.settings input[type=file][data-v-1dbce3e3],#toolbar section.settings input[type=text][data-v-1dbce3e3]{position:absolute;visibility:hidden}#toolbar section.tools[data-v-1dbce3e3]{background-color:#525d64;-ms-flex-pack:end;justify-content:flex-end}#toolbar section>button[data-v-1dbce3e3],#toolbar section>div[data-v-1dbce3e3]{margin:0 1rem 0 0}#toolbar section>button.active[data-v-1dbce3e3],#toolbar section>div.active[data-v-1dbce3e3]{border:1px solid #008500}#inspector[data-v-37303d42]{background-color:#3b4348;border-left:1px solid #24292c;font-size:.85rem;width:18rem;position:absolute;right:0;z-index:2;top:0}#inspector .list[data-v-37303d42]{height:calc(100vh - 4.75rem);overflow:scroll}#inspector .list header[data-v-37303d42]{background-color:#2b3134}#inspector .list header>h3[data-v-37303d42]{display:inline-block;margin:1rem}#inspector .list .list-item[data-v-37303d42]{border-top:1px solid #525d64;padding:.5rem 1rem}#inspector .list .list-item h4[data-v-37303d42]{margin:.5rem 0}#inspector .list .list-item span[data-v-37303d42]{display:block;margin-bottom:.25rem}#inspector .list .list-item button[data-v-37303d42]{margin-top:.5rem}/*! Huebee v1.0.1
http://huebee.buzz
---------------------------------------------- */.huebee{position:absolute;z-index:1;transform:translateY(0);transition:opacity .15s,transform .15s}.huebee.is-hidden{opacity:0;transform:translateY(10px)}.huebee.is-static-open{position:relative;z-index:auto}.huebee__container{position:absolute;left:0;top:5px;padding:10px;background:#eee;border-radius:5px;box-shadow:0 5px 10px rgba(0,0,0,.3)}.huebee.is-static-open .huebee__container{position:relative;display:inline-block;left:auto;top:auto;box-shadow:none}.huebee__canvas{display:block;cursor:pointer}.huebee__cursor{width:15px;height:15px;position:absolute;left:0;top:0;box-sizing:content-box;border:3px solid #fff;border-radius:5px;pointer-events:none}.huebee__cursor.is-hidden{opacity:0}.huebee__close-button{display:block;position:absolute;width:24px;height:24px;top:-9px;right:-9px;border-radius:12px;background:#222}.huebee__close-button__x{stroke:#fff;stroke-width:3;stroke-linecap:round}.huebee__close-button:hover{background:#fff;cursor:pointer}.huebee__close-button:hover .huebee__close-button__x{stroke:#222}#library[data-v-e5aa45ba]{background-color:#24292c;overflow:auto}#library header[data-v-e5aa45ba]{display:-ms-flexbox;display:flex;padding:1rem 1.5rem}#library header .input-select[data-v-e5aa45ba]{margin-right:3rem;width:10rem}#library header .input-text[data-v-e5aa45ba]{margin-right:auto;width:10rem}#library table[data-v-e5aa45ba]{border-spacing:0;width:100%}#library table tbody tr td[data-v-e5aa45ba],#library table thead tr th[data-v-e5aa45ba]{text-align:left;padding:0 1rem;position:relative}#library table tbody tr td[data-v-e5aa45ba]:first-child,#library table thead tr th[data-v-e5aa45ba]:first-child{padding-left:2.5rem}#library table tbody tr td[data-v-e5aa45ba]:last-child,#library table thead tr th[data-v-e5aa45ba]:last-child{-ms-flex-positive:2;flex-grow:2}#library table thead th[data-v-e5aa45ba]{border-bottom:2px solid #525d64}#library table thead tr[data-v-e5aa45ba]{height:3rem}#library table thead tr svg[data-v-e5aa45ba]{height:1rem;width:1rem;fill:#525d64}#library table tbody tr[data-v-e5aa45ba]{height:2rem}#library table tbody tr[data-v-e5aa45ba]:nth-of-type(odd){background-color:#343b40}#library table tbody tr.current[data-v-e5aa45ba]{background:red}#library table tbody tr .input-select[data-v-e5aa45ba]{margin:.5rem 0}#library table tbody tr input[data-v-e5aa45ba]{background-color:transparent;border:none;color:#bbc3c7;font-size:1rem}#library table tbody tr td.destroy[data-v-e5aa45ba]{width:2rem}#library table tbody tr td.destroy svg[data-v-e5aa45ba]{cursor:pointer;height:1.25rem;fill:#bbc3c7}#library table tbody tr td.destroy svg[data-v-e5aa45ba]:hover{fill:#a70000}#library table tbody tr.error[data-v-e5aa45ba]{background:rgba(167,0,0,.5);position:relative}#library table tbody tr .tooltip-error[data-v-e5aa45ba]{bottom:3rem;background-color:#24292c;border:1px solid #a70000;color:#bbc3c7;left:3rem;border-radius:.25rem;padding:.5rem 1rem;position:absolute}#library table tbody tr .tooltip-error svg[data-v-e5aa45ba]{bottom:-.7rem;height:.75rem;left:.5rem;position:absolute;transform:rotate(90deg)}#library table tbody tr .tooltip-error svg path[data-v-e5aa45ba]{fill:#a70000}
/*# sourceMappingURL=app.b5d15ae34e7fcb0668476019fa074f45.css.map*/
        </style>
    </head>

    <body>
        <div id=app></div>
        
	<script>const api = {
    doImport (data) {
        try { 
            window.application.$store.dispatch('importModel', {
                clientWidth: document.getElementById('svg-grid').clientWidth,
                clientHeight: document.getElementById('svg-grid').clientHeight,
                data: JSON.parse(data)
            });
        }catch(err){
            return false;
        }
        return true;
    },

    doExport () {
        return window.application.$store.getters['exportData'];
    },

    setConfig (config) {
        console.log(config);
        return true;
    }
};
</script>
	<script>!function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r=window.webpackJsonp;window.webpackJsonp=function(o,p){for(var c,l,s=0,i=[];s<o.length;s++)l=o[s],a[l]&&i.push.apply(i,a[l]),a[l]=0;for(c in p)Object.prototype.hasOwnProperty.call(p,c)&&(e[c]=p[c]);for(r&&r(o,p);i.length;)i.shift().call(null,t);if(p[0])return n[0]=0,t(0)};var n={},a={0:0};t.e=function(e,r){if(0===a[e])return r.call(null,t);if(void 0!==a[e])a[e].push(r);else{a[e]=[r];var n=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.charset="utf-8",o.async=!0,o.src=t.p+"static/js/"+e+"."+{1:"3d8538161b40d854e620",2:"d79f6868d2450b23fa7c"}[e]+".js",n.appendChild(o)}},t.m=e,t.c=n,t.p="/"}([]);
//# sourceMappingURL=manifest.fbe6aba653d5b2a6318a.js.map</script>
	<script>webpackJsonp([1,0],[,function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(52),r=o(i);e.default=r.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports=function(t,e,n,o){var i,r=t=t||{},a=typeof t.default;"object"!==a&&"function"!==a||(i=t,r=t.default);var s="function"==typeof r?r.options:r;if(e&&(s.render=e.render,s.staticRenderFns=e.staticRenderFns),n&&(s._scopeId=n),o){var p=s.computed||(s.computed={});Object.keys(o).forEach(function(t){var e=o[t];p[t]=function(){return e}})}return{esModule:i,exports:r,options:s}}},function(t,e,n){var o=n(43)("wks"),i=n(29),r=n(8).Symbol,a="function"==typeof r,s=t.exports=function(t){return o[t]||(o[t]=a&&r[t]||(a?r:i)("Symbol."+t))};s.store=o},,function(t,e,n){/**
	 * vuex v2.3.0
	 * (c) 2017 Evan You
	 * @license MIT
	 */
!function(e,n){t.exports=n()}(this,function(){"use strict";function t(t){w&&(t._devtoolHook=w,w.emit("vuex:init",t),w.on("vuex:travel-to-state",function(e){t.replaceState(e)}),t.subscribe(function(t,e){w.emit("vuex:mutation",t,e)}))}function e(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function n(t){return null!==t&&"object"==typeof t}function o(t){return t&&"function"==typeof t.then}function i(t,e){if(!t)throw new Error("[vuex] "+e)}function r(t,e){if(t.update(e),e.modules)for(var n in e.modules){if(!t.getChild(n))return void console.warn("[vuex] trying to add a new module '"+n+"' on hot reloading, manual reload is needed");r(t.getChild(n),e.modules[n])}}function a(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;p(t,n,[],t._modules.root,!0),s(t,n,e)}function s(t,n,o){var i=t._vm;t.getters={};var r=t._wrappedGetters,a={};e(r,function(e,n){a[n]=function(){return e(t)},Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})});var s=M.config.silent;M.config.silent=!0,t._vm=new M({data:{$$state:n},computed:a}),M.config.silent=s,t.strict&&d(t),i&&(o&&t._withCommit(function(){i._data.$$state=null}),M.nextTick(function(){return i.$destroy()}))}function p(t,e,n,o,i){var r=!n.length,a=t._modules.getNamespace(n);if(o.namespaced&&(t._modulesNamespaceMap[a]=o),!r&&!i){var s=y(e,n.slice(0,-1)),u=n[n.length-1];t._withCommit(function(){M.set(s,u,o.state)})}var d=o.context=h(t,a,n);o.forEachMutation(function(e,n){var o=a+n;l(t,o,e,d)}),o.forEachAction(function(e,n){var o=a+n;c(t,o,e,d)}),o.forEachGetter(function(e,n){var o=a+n;f(t,o,e,d)}),o.forEachChild(function(o,r){p(t,e,n.concat(r),o,i)})}function h(t,e,n){var o=""===e,i={dispatch:o?t.dispatch:function(n,o,i){var r=v(n,o,i),a=r.payload,s=r.options,p=r.type;return s&&s.root||(p=e+p,t._actions[p])?t.dispatch(p,a):void console.error("[vuex] unknown local action type: "+r.type+", global type: "+p)},commit:o?t.commit:function(n,o,i){var r=v(n,o,i),a=r.payload,s=r.options,p=r.type;return s&&s.root||(p=e+p,t._mutations[p])?void t.commit(p,a,s):void console.error("[vuex] unknown local mutation type: "+r.type+", global type: "+p)}};return Object.defineProperties(i,{getters:{get:o?function(){return t.getters}:function(){return u(t,e)}},state:{get:function(){return y(t.state,n)}}}),i}function u(t,e){var n={},o=e.length;return Object.keys(t.getters).forEach(function(i){if(i.slice(0,o)===e){var r=i.slice(o);Object.defineProperty(n,r,{get:function(){return t.getters[i]},enumerable:!0})}}),n}function l(t,e,n,o){var i=t._mutations[e]||(t._mutations[e]=[]);i.push(function(t){n(o.state,t)})}function c(t,e,n,i){var r=t._actions[e]||(t._actions[e]=[]);r.push(function(e,r){var a=n({dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},e,r);return o(a)||(a=Promise.resolve(a)),t._devtoolHook?a.catch(function(e){throw t._devtoolHook.emit("vuex:error",e),e}):a})}function f(t,e,n,o){return t._wrappedGetters[e]?void console.error("[vuex] duplicate getter key: "+e):void(t._wrappedGetters[e]=function(t){return n(o.state,o.getters,t.state,t.getters)})}function d(t){t._vm.$watch(function(){return this._data.$$state},function(){i(t._committing,"Do not mutate vuex store state outside mutation handlers.")},{deep:!0,sync:!0})}function y(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function v(t,e,o){return n(t)&&t.type&&(o=e,e=t,t=t.type),i("string"==typeof t,"Expects string as the type, but found "+typeof t+"."),{type:t,payload:e,options:o}}function g(t){return M?void console.error("[vuex] already installed. Vue.use(Vuex) should be called only once."):(M=t,void _(M))}function m(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}})}function b(t){return function(e,n){return"string"!=typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function x(t,e,n){var o=t._modulesNamespaceMap[n];return o||console.error("[vuex] module namespace not found in "+e+"(): "+n),o}var _=function(t){function e(){var t=this.$options;t.store?this.$store=t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}var n=Number(t.version.split(".")[0]);if(n>=2){var o=t.config._lifecycleHooks.indexOf("init")>-1;t.mixin(o?{init:e}:{beforeCreate:e})}else{var i=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[e].concat(t.init):e,i.call(this,t)}}},w="undefined"!=typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,P=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},S={namespaced:{}};S.namespaced.get=function(){return!!this._rawModule.namespaced},P.prototype.addChild=function(t,e){this._children[t]=e},P.prototype.removeChild=function(t){delete this._children[t]},P.prototype.getChild=function(t){return this._children[t]},P.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},P.prototype.forEachChild=function(t){e(this._children,t)},P.prototype.forEachGetter=function(t){this._rawModule.getters&&e(this._rawModule.getters,t)},P.prototype.forEachAction=function(t){this._rawModule.actions&&e(this._rawModule.actions,t)},P.prototype.forEachMutation=function(t){this._rawModule.mutations&&e(this._rawModule.mutations,t)},Object.defineProperties(P.prototype,S);var C=function(t){var n=this;this.root=new P(t,!1),t.modules&&e(t.modules,function(t,e){n.register([e],t,!1)})};C.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},C.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(t,n){return e=e.getChild(n),t+(e.namespaced?n+"/":"")},"")},C.prototype.update=function(t){r(this.root,t)},C.prototype.register=function(t,n,o){var i=this;void 0===o&&(o=!0);var r=this.get(t.slice(0,-1)),a=new P(n,o);r.addChild(t[t.length-1],a),n.modules&&e(n.modules,function(e,n){i.register(t.concat(n),e,o)})},C.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];e.getChild(n).runtime&&e.removeChild(n)};var M,T=function(e){var n=this;void 0===e&&(e={}),i(M,"must call Vue.use(Vuex) before creating a store instance."),i("undefined"!=typeof Promise,"vuex requires a Promise polyfill in this browser.");var o=e.state;void 0===o&&(o={});var r=e.plugins;void 0===r&&(r=[]);var a=e.strict;void 0===a&&(a=!1),this._committing=!1,this._actions=Object.create(null),this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new C(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new M;var h=this,u=this,l=u.dispatch,c=u.commit;this.dispatch=function(t,e){return l.call(h,t,e)},this.commit=function(t,e,n){return c.call(h,t,e,n)},this.strict=a,p(this,o,[],this._modules.root),s(this,o),r.concat(t).forEach(function(t){return t(n)})},A={state:{}};A.state.get=function(){return this._vm._data.$$state},A.state.set=function(t){i(!1,"Use store.replaceState() to explicit replace store state.")},T.prototype.commit=function(t,e,n){var o=this,i=v(t,e,n),r=i.type,a=i.payload,s=i.options,p={type:r,payload:a},h=this._mutations[r];return h?(this._withCommit(function(){h.forEach(function(t){t(a)})}),this._subscribers.forEach(function(t){return t(p,o.state)}),void(s&&s.silent&&console.warn("[vuex] mutation type: "+r+". Silent option has been removed. Use the filter functionality in the vue-devtools"))):void console.error("[vuex] unknown mutation type: "+r)},T.prototype.dispatch=function(t,e){var n=v(t,e),o=n.type,i=n.payload,r=this._actions[o];return r?r.length>1?Promise.all(r.map(function(t){return t(i)})):r[0](i):void console.error("[vuex] unknown action type: "+o)},T.prototype.subscribe=function(t){var e=this._subscribers;return e.indexOf(t)<0&&e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}},T.prototype.watch=function(t,e,n){var o=this;return i("function"==typeof t,"store.watch only accepts a function."),this._watcherVM.$watch(function(){return t(o.state,o.getters)},e,n)},T.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},T.prototype.registerModule=function(t,e){"string"==typeof t&&(t=[t]),i(Array.isArray(t),"module path must be a string or an Array."),this._modules.register(t,e),p(this,this.state,t,this._modules.get(t)),s(this,this.state)},T.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),i(Array.isArray(t),"module path must be a string or an Array."),this._modules.unregister(t),this._withCommit(function(){var n=y(e.state,t.slice(0,-1));M.delete(n,t[t.length-1])}),a(this)},T.prototype.hotUpdate=function(t){this._modules.update(t),a(this,!0)},T.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(T.prototype,A),"undefined"!=typeof window&&window.Vue&&g(window.Vue);var E=b(function(t,e){var n={};return m(e).forEach(function(e){var o=e.key,i=e.val;n[o]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var o=x(this.$store,"mapState",t);if(!o)return;e=o.context.state,n=o.context.getters}return"function"==typeof i?i.call(this,e,n):e[i]},n[o].vuex=!0}),n}),L=b(function(t,e){var n={};return m(e).forEach(function(e){var o=e.key,i=e.val;i=t+i,n[o]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(!t||x(this.$store,"mapMutations",t))return this.$store.commit.apply(this.$store,[i].concat(e))}}),n}),I=b(function(t,e){var n={};return m(e).forEach(function(e){var o=e.key,i=e.val;i=t+i,n[o]=function(){if(!t||x(this.$store,"mapGetters",t))return i in this.$store.getters?this.$store.getters[i]:void console.error("[vuex] unknown getter: "+i)},n[o].vuex=!0}),n}),N=b(function(t,e){var n={};return m(e).forEach(function(e){var o=e.key,i=e.val;i=t+i,n[o]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(!t||x(this.$store,"mapActions",t))return this.$store.dispatch.apply(this.$store,[i].concat(e))}}),n}),O={Store:T,install:g,version:"2.3.0",mapState:E,mapMutations:L,mapGetters:I,mapActions:N};return O})},,function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var o=n(15),i=n(58),r=n(45),a=Object.defineProperty;e.f=n(10)?Object.defineProperty:function(t,e,n){if(o(t),e=r(e,!0),o(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(17)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var o=n(59),i=n(37);t.exports=function(t){return o(i(t))}},function(t,e,n){t.exports={default:n(120),__esModule:!0}},function(t,e,n){t.exports={default:n(123),__esModule:!0}},function(t,e,n){var o=n(26);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var o=n(8),i=n(2),r=n(56),a=n(18),s="prototype",p=function(t,e,n){var h,u,l,c=t&p.F,f=t&p.G,d=t&p.S,y=t&p.P,v=t&p.B,g=t&p.W,m=f?i:i[e]||(i[e]={}),b=m[s],x=f?o:d?o[e]:(o[e]||{})[s];f&&(n=e);for(h in n)u=!c&&x&&void 0!==x[h],u&&h in m||(l=u?x[h]:n[h],m[h]=f&&"function"!=typeof x[h]?n[h]:v&&u?r(l,o):g&&x[h]==l?function(t){var e=function(e,n,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,o)}return t.apply(this,arguments)};return e[s]=t[s],e}(l):y&&"function"==typeof l?r(Function.call,l):l,y&&((m.virtual||(m.virtual={}))[h]=l,t&p.R&&b&&!b[h]&&a(b,h,l)))};p.F=1,p.G=2,p.S=4,p.P=8,p.B=16,p.W=32,p.U=64,p.R=128,t.exports=p},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var o=n(9),i=n(21);t.exports=n(10)?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports={}},function(t,e,n){var o=n(63),i=n(38);t.exports=Object.keys||function(t){return o(t,i)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){!function(t,n){n(e)}(this,function(t){"use strict";function e(t){return function(e,n){return Wh(t(e),n)}}function n(t,e){return[t,e]}function o(t,e,n){var o=(e-t)/Math.max(0,n),i=Math.floor(Math.log(o)/Math.LN10),r=o/Math.pow(10,i);return i>=0?(r>=hu?10:r>=uu?5:r>=lu?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(r>=hu?10:r>=uu?5:r>=lu?2:1)}function i(t,e,n){var o=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),r=o/i;return r>=hu?i*=10:r>=uu?i*=5:r>=lu&&(i*=2),e<t?-i:i}function r(t){return t.length}function a(t){return"translate("+(t+.5)+",0)"}function s(t){return"translate(0,"+(t+.5)+")"}function p(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return t(n)+e}}function h(){return!this.__axis}function u(t,e){function n(n){var a=null==i?e.ticks?e.ticks.apply(e,o):e.domain():i,s=null==r?e.tickFormat?e.tickFormat.apply(e,o):Lu:r,v=Math.max(u,0)+c,g=e.range(),m=g[0]+.5,b=g[g.length-1]+.5,x=(e.bandwidth?p:Lu)(e.copy()),_=n.selection?n.selection():n,w=_.selectAll(".domain").data([null]),P=_.selectAll(".tick").data(a,e).order(),S=P.exit(),C=P.enter().append("g").attr("class","tick"),M=P.select("line"),T=P.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),P=P.merge(C),M=M.merge(C.append("line").attr("stroke","#000").attr(d+"2",f*u)),T=T.merge(C.append("text").attr("fill","#000").attr(d,f*v).attr("dy",t===Iu?"0em":t===Ou?"0.71em":"0.32em")),n!==_&&(w=w.transition(n),P=P.transition(n),M=M.transition(n),T=T.transition(n),S=S.transition(n).attr("opacity",Ru).attr("transform",function(t){return isFinite(t=x(t))?y(t):this.getAttribute("transform")}),C.attr("opacity",Ru).attr("transform",function(t){var e=this.parentNode.__axis;return y(e&&isFinite(e=e(t))?e:x(t))})),S.remove(),w.attr("d",t===ku||t==Nu?"M"+f*l+","+m+"H0.5V"+b+"H"+f*l:"M"+m+","+f*l+"V0.5H"+b+"V"+f*l),P.attr("opacity",1).attr("transform",function(t){return y(x(t))}),M.attr(d+"2",f*u),T.attr(d,f*v).text(s),_.filter(h).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Nu?"start":t===ku?"end":"middle"),_.each(function(){this.__axis=x})}var o=[],i=null,r=null,u=6,l=6,c=3,f=t===Iu||t===ku?-1:1,d=t===ku||t===Nu?"x":"y",y=t===Iu||t===Ou?a:s;return n.scale=function(t){return arguments.length?(e=t,n):e},n.ticks=function(){return o=Eu.call(arguments),n},n.tickArguments=function(t){return arguments.length?(o=null==t?[]:Eu.call(t),n):o.slice()},n.tickValues=function(t){return arguments.length?(i=null==t?null:Eu.call(t),n):i&&i.slice()},n.tickFormat=function(t){return arguments.length?(r=t,n):r},n.tickSize=function(t){return arguments.length?(u=l=+t,n):u},n.tickSizeInner=function(t){return arguments.length?(u=+t,n):u},n.tickSizeOuter=function(t){return arguments.length?(l=+t,n):l},n.tickPadding=function(t){return arguments.length?(c=+t,n):c},n}function l(t){return u(Iu,t)}function c(t){return u(Nu,t)}function f(t){return u(Ou,t)}function d(t){return u(ku,t)}function y(){for(var t,e=0,n=arguments.length,o={};e<n;++e){if(!(t=arguments[e]+"")||t in o)throw new Error("illegal type: "+t);o[t]=[]}return new v(o)}function v(t){this._=t}function g(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");if(o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function m(t,e){for(var n,o=0,i=t.length;o<i;++o)if((n=t[o]).name===e)return n.value}function b(t,e,n){for(var o=0,i=t.length;o<i;++o)if(t[o].name===e){t[o]=Du,t=t.slice(0,o).concat(t.slice(o+1));break}return null!=n&&t.push({name:e,value:n}),t}function x(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Fu&&e.documentElement.namespaceURI===Fu?e.createElement(t):e.createElementNS(n,t)}}function _(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function w(){return new P}function P(){this._="@"+(++Xu).toString(36)}function S(t,e,n){return t=C(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function C(e,n,o){return function(i){var r=t.event;t.event=i;try{e.call(this,this.__data__,n,o)}finally{t.event=r}}}function M(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function T(t){return function(){var e=this.__on;if(e){for(var n,o=0,i=-1,r=e.length;o<r;++o)n=e[o],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function A(t,e,n){var o=zu.hasOwnProperty(t.type)?S:C;return function(i,r,a){var s,p=this.__on,h=o(e,r,a);if(p)for(var u=0,l=p.length;u<l;++u)if((s=p[u]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=h,s.capture=n),void(s.value=e);this.addEventListener(t.type,h,n),s={type:t.type,name:t.name,value:e,listener:h,capture:n},p?p.push(s):this.__on=[s]}}function E(e,n,o,i){var r=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(o,i)}finally{t.event=r}}function L(){}function I(){return[]}function N(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function O(t,e,n,o,i,r){for(var a,s=0,p=e.length,h=r.length;s<h;++s)(a=e[s])?(a.__data__=r[s],o[s]=a):n[s]=new N(t,r[s]);for(;s<p;++s)(a=e[s])&&(i[s]=a)}function k(t,e,n,o,i,r,a){var s,p,h,u={},l=e.length,c=r.length,f=new Array(l);for(s=0;s<l;++s)(p=e[s])&&(f[s]=h=al+a.call(p,p.__data__,s,e),h in u?i[s]=p:u[h]=p);for(s=0;s<c;++s)h=al+a.call(t,r[s],s,r),(p=u[h])?(o[s]=p,p.__data__=r[s],u[h]=null):n[s]=new N(t,r[s]);for(s=0;s<l;++s)(p=e[s])&&u[f[s]]===p&&(i[s]=p)}function R(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function D(t){return function(){this.removeAttribute(t)}}function F(t){return function(){this.removeAttributeNS(t.space,t.local)}}function j(t,e){return function(){this.setAttribute(t,e)}}function K(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function B(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function X(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function U(t){return function(){this.style.removeProperty(t)}}function Y(t,e,n){return function(){this.style.setProperty(t,e,n)}}function G(t,e,n){return function(){var o=e.apply(this,arguments);null==o?this.style.removeProperty(t):this.style.setProperty(t,o,n)}}function W(t,e){return t.style.getPropertyValue(e)||bl(t).getComputedStyle(t,null).getPropertyValue(e)}function z(t){return function(){delete this[t]}}function H(t,e){return function(){this[t]=e}}function q(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function V(t){return t.trim().split(/^|\s+/)}function $(t){return t.classList||new Z(t)}function Z(t){this._node=t,this._names=V(t.getAttribute("class")||"")}function J(t,e){for(var n=$(t),o=-1,i=e.length;++o<i;)n.add(e[o])}function Q(t,e){for(var n=$(t),o=-1,i=e.length;++o<i;)n.remove(e[o])}function tt(t){return function(){J(this,t)}}function et(t){return function(){Q(this,t)}}function nt(t,e){return function(){(e.apply(this,arguments)?J:Q)(this,t)}}function ot(){this.textContent=""}function it(t){return function(){this.textContent=t}}function rt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function at(){this.innerHTML=""}function st(t){return function(){this.innerHTML=t}}function pt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function ht(){this.nextSibling&&this.parentNode.appendChild(this)}function ut(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function lt(){return null}function ct(){var t=this.parentNode;t&&t.removeChild(this)}function ft(t,e,n){var o=bl(t),i=o.CustomEvent;"function"==typeof i?i=new i(e,n):(i=o.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function dt(t,e){return function(){return ft(this,t,e)}}function yt(t,e){return function(){return ft(this,t,e.apply(this,arguments))}}function vt(t,e){this._groups=t,this._parents=e}function gt(){return new vt([[document.documentElement]],Nl)}function mt(){t.event.stopImmediatePropagation()}function bt(t,e){var n=t.document.documentElement,o=Ol(t).on("dragstart.drag",null);e&&(o.on("click.drag",Fl,!0),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function xt(t,e,n,o,i,r,a,s,p,h){this.target=t,this.type=e,this.subject=n,this.identifier=o,this.active=i,this.x=r,this.y=a,this.dx=s,this.dy=p,this._=h}function _t(){return!t.event.button}function wt(){return this.parentNode}function Pt(e){return null==e?{x:t.event.x,y:t.event.y}:e}function St(t,e){var n=Object.create(t.prototype);for(var o in e)n[o]=e[o];return n}function Ct(){}function Mt(t){var e;return t=(t+"").trim().toLowerCase(),(e=Hl.exec(t))?(e=parseInt(e[1],16),new It(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=ql.exec(t))?Tt(parseInt(e[1],16)):(e=Vl.exec(t))?new It(e[1],e[2],e[3],1):(e=$l.exec(t))?new It(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Zl.exec(t))?At(e[1],e[2],e[3],e[4]):(e=Jl.exec(t))?At(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ql.exec(t))?Nt(e[1],e[2]/100,e[3]/100,1):(e=tc.exec(t))?Nt(e[1],e[2]/100,e[3]/100,e[4]):ec.hasOwnProperty(t)?Tt(ec[t]):"transparent"===t?new It(NaN,NaN,NaN,0):null}function Tt(t){return new It(t>>16&255,t>>8&255,255&t,1)}function At(t,e,n,o){return o<=0&&(t=e=n=NaN),new It(t,e,n,o)}function Et(t){return t instanceof Ct||(t=Mt(t)),t?(t=t.rgb(),new It(t.r,t.g,t.b,t.opacity)):new It}function Lt(t,e,n,o){return 1===arguments.length?Et(t):new It(t,e,n,null==o?1:o)}function It(t,e,n,o){this.r=+t,this.g=+e,this.b=+n,this.opacity=+o}function Nt(t,e,n,o){return o<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Rt(t,e,n,o)}function Ot(t){if(t instanceof Rt)return new Rt(t.h,t.s,t.l,t.opacity);if(t instanceof Ct||(t=Mt(t)),!t)return new Rt;if(t instanceof Rt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,o=t.b/255,i=Math.min(e,n,o),r=Math.max(e,n,o),a=NaN,s=r-i,p=(r+i)/2;return s?(a=e===r?(n-o)/s+6*(n<o):n===r?(o-e)/s+2:(e-n)/s+4,s/=p<.5?r+i:2-r-i,a*=60):s=p>0&&p<1?0:a,new Rt(a,s,p,t.opacity)}function kt(t,e,n,o){return 1===arguments.length?Ot(t):new Rt(t,e,n,null==o?1:o)}function Rt(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}function Dt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Ft(t){if(t instanceof Kt)return new Kt(t.l,t.a,t.b,t.opacity);if(t instanceof zt){var e=t.h*nc;return new Kt(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof It||(t=Et(t));var n=Yt(t.r),o=Yt(t.g),i=Yt(t.b),r=Bt((.4124564*n+.3575761*o+.1804375*i)/rc),a=Bt((.2126729*n+.7151522*o+.072175*i)/ac),s=Bt((.0193339*n+.119192*o+.9503041*i)/sc);return new Kt(116*a-16,500*(r-a),200*(a-s),t.opacity)}function jt(t,e,n,o){return 1===arguments.length?Ft(t):new Kt(t,e,n,null==o?1:o)}function Kt(t,e,n,o){this.l=+t,this.a=+e,this.b=+n,this.opacity=+o}function Bt(t){return t>lc?Math.pow(t,1/3):t/uc+pc}function Xt(t){return t>hc?t*t*t:uc*(t-pc)}function Ut(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Yt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Gt(t){if(t instanceof zt)return new zt(t.h,t.c,t.l,t.opacity);t instanceof Kt||(t=Ft(t));var e=Math.atan2(t.b,t.a)*oc;return new zt(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Wt(t,e,n,o){return 1===arguments.length?Gt(t):new zt(t,e,n,null==o?1:o)}function zt(t,e,n,o){this.h=+t,this.c=+e,this.l=+n,this.opacity=+o}function Ht(t){if(t instanceof Vt)return new Vt(t.h,t.s,t.l,t.opacity);t instanceof It||(t=Et(t));var e=t.r/255,n=t.g/255,o=t.b/255,i=(bc*o+gc*e-mc*n)/(bc+gc-mc),r=o-i,a=(vc*(n-i)-dc*r)/yc,s=Math.sqrt(a*a+r*r)/(vc*i*(1-i)),p=s?Math.atan2(a,r)*oc-120:NaN;return new Vt(p<0?p+360:p,s,i,t.opacity)}function qt(t,e,n,o){return 1===arguments.length?Ht(t):new Vt(t,e,n,null==o?1:o)}function Vt(t,e,n,o){this.h=+t,this.s=+e,this.l=+n,this.opacity=+o}function $t(t,e,n,o,i){var r=t*t,a=r*t;return((1-3*t+3*r-a)*e+(4-6*r+3*a)*n+(1+3*t+3*r-3*a)*o+a*i)/6}function Zt(t,e){return function(n){return t+n*e}}function Jt(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(o){return Math.pow(t+o*e,n)}}function Qt(t,e){var n=e-t;return n?Zt(t,n>180||n<-180?n-360*Math.round(n/360):n):Ac(isNaN(t)?e:t)}function te(t){return 1===(t=+t)?ee:function(e,n){return n-e?Jt(e,n,t):Ac(isNaN(e)?n:e)}}function ee(t,e){var n=e-t;return n?Zt(t,n):Ac(isNaN(t)?e:t)}function ne(t){return function(e){var n,o,i=e.length,r=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)o=Lt(e[n]),r[n]=o.r||0,a[n]=o.g||0,s[n]=o.b||0;return r=t(r),a=t(a),s=t(s),o.opacity=1,function(t){return o.r=r(t),o.g=a(t),o.b=s(t),o+""}}}function oe(t){return function(){return t}}function ie(t){return function(e){return t(e)+""}}function re(t){return"none"===t?Uc:(xc||(xc=document.createElement("DIV"),_c=document.documentElement,wc=document.defaultView),xc.style.transform=t,t=wc.getComputedStyle(_c.appendChild(xc),null).getPropertyValue("transform"),_c.removeChild(xc),t=t.slice(7,-1).split(","),Yc(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function ae(t){return null==t?Uc:(Pc||(Pc=document.createElementNS("http://www.w3.org/2000/svg","g")),Pc.setAttribute("transform",t),(t=Pc.transform.baseVal.consolidate())?(t=t.matrix,Yc(t.a,t.b,t.c,t.d,t.e,t.f)):Uc)}function se(t,e,n,o){function i(t){return t.length?t.pop()+" ":""}function r(t,o,i,r,a,s){if(t!==i||o!==r){var p=a.push("translate(",null,e,null,n);s.push({i:p-4,x:kc(t,i)},{i:p-2,x:kc(o,r)})}else(i||r)&&a.push("translate("+i+e+r+n)}function a(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push(i(n)+"rotate(",null,o)-2,x:kc(t,e)})):e&&n.push(i(n)+"rotate("+e+o)}function s(t,e,n,r){t!==e?r.push({i:n.push(i(n)+"skewX(",null,o)-2,x:kc(t,e)}):e&&n.push(i(n)+"skewX("+e+o)}function p(t,e,n,o,r,a){if(t!==n||e!==o){var s=r.push(i(r)+"scale(",null,",",null,")");a.push({i:s-4,x:kc(t,n)},{i:s-2,x:kc(e,o)})}else 1===n&&1===o||r.push(i(r)+"scale("+n+","+o+")")}return function(e,n){var o=[],i=[];return e=t(e),n=t(n),r(e.translateX,e.translateY,n.translateX,n.translateY,o,i),a(e.rotate,n.rotate,o,i),s(e.skewX,n.skewX,o,i),p(e.scaleX,e.scaleY,n.scaleX,n.scaleY,o,i),e=n=null,function(t){for(var e,n=-1,r=i.length;++n<r;)o[(e=i[n]).i]=e.x(t);return o.join("")}}}function pe(t){return((t=Math.exp(t))+1/t)/2}function he(t){return((t=Math.exp(t))-1/t)/2}function ue(t){return((t=Math.exp(2*t))-1)/(t+1)}function le(t){return function(e,n){var o=t((e=kt(e)).h,(n=kt(n)).h),i=ee(e.s,n.s),r=ee(e.l,n.l),a=ee(e.opacity,n.opacity);return function(t){return e.h=o(t),e.s=i(t),e.l=r(t),e.opacity=a(t),e+""}}}function ce(t,e){var n=ee((t=jt(t)).l,(e=jt(e)).l),o=ee(t.a,e.a),i=ee(t.b,e.b),r=ee(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=o(e),t.b=i(e),t.opacity=r(e),t+""}}function fe(t){return function(e,n){var o=t((e=Wt(e)).h,(n=Wt(n)).h),i=ee(e.c,n.c),r=ee(e.l,n.l),a=ee(e.opacity,n.opacity);return function(t){return e.h=o(t),e.c=i(t),e.l=r(t),e.opacity=a(t),e+""}}}function de(t){return function e(n){function o(e,o){var i=t((e=qt(e)).h,(o=qt(o)).h),r=ee(e.s,o.s),a=ee(e.l,o.l),s=ee(e.opacity,o.opacity);return function(t){return e.h=i(t),e.s=r(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,o.gamma=e,o}(1)}function ye(){return uf||(ff(ve),uf=cf.now()+lf)}function ve(){uf=0}function ge(){this._call=this._time=this._next=null}function me(t,e,n){var o=new ge;return o.restart(t,e,n),o}function be(){ye(),++rf;for(var t,e=Sc;e;)(t=uf-e._time)>=0&&e._call.call(null,t),e=e._next;--rf}function xe(){uf=(hf=cf.now())+lf,rf=af=0;try{be()}finally{rf=0,we(),uf=0}}function _e(){var t=cf.now(),e=t-hf;e>pf&&(lf-=e,hf=t)}function we(){for(var t,e,n=Sc,o=1/0;n;)n._call?(o>n._time&&(o=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Sc=e);Cc=t,Pe(o)}function Pe(t){if(!rf){af&&(af=clearTimeout(af));var e=t-uf;e>24?(t<1/0&&(af=setTimeout(xe,e)),sf&&(sf=clearInterval(sf))):(sf||(hf=uf,sf=setInterval(_e,pf)),rf=1,ff(xe))}}function Se(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>mf)throw new Error("too late");return n}function Ce(t,e){var n=t.__transition;if(!n||!(n=n[e])||n.state>xf)throw new Error("too late");return n}function Me(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("too late");return n}function Te(t,e,n){function o(t){n.state=bf,n.timer.restart(i,n.delay,n.time),n.delay<=t&&i(t-n.delay)}function i(o){var h,u,l,c;if(n.state!==bf)return a();for(h in p)if(c=p[h],c.name===n.name){if(c.state===_f)return df(i);c.state===wf?(c.state=Sf,c.timer.stop(),c.on.call("interrupt",t,t.__data__,c.index,c.group),delete p[h]):+h<e&&(c.state=Sf,c.timer.stop(),delete p[h])}if(df(function(){n.state===_f&&(n.state=wf,n.timer.restart(r,n.delay,n.time),r(o))}),n.state=xf,n.on.call("start",t,t.__data__,n.index,n.group),n.state===xf){for(n.state=_f,s=new Array(l=n.tween.length),h=0,u=-1;h<l;++h)(c=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(s[++u]=c);s.length=u+1}}function r(e){for(var o=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=Pf,1),i=-1,r=s.length;++i<r;)s[i].call(null,o);n.state===Pf&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){n.state=Sf,n.timer.stop(),delete p[e];for(var o in p)return;delete t.__transition}var s,p=t.__transition;p[e]=n,n.timer=me(o,0,n.time)}function Ae(t,e){var n,o;return function(){var i=Ce(this,t),r=i.tween;if(r!==n){o=n=r;for(var a=0,s=o.length;a<s;++a)if(o[a].name===e){o=o.slice(),o.splice(a,1);break}}i.tween=o}}function Ee(t,e,n){var o,i;if("function"!=typeof n)throw new Error;return function(){var r=Ce(this,t),a=r.tween;if(a!==o){i=(o=a).slice();for(var s={name:e,value:n},p=0,h=i.length;p<h;++p)if(i[p].name===e){i[p]=s;break}p===h&&i.push(s)}r.tween=i}}function Le(t,e,n){var o=t._id;return t.each(function(){var t=Ce(this,o);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Me(t,o).value[e]}}function Ie(t){return function(){this.removeAttribute(t)}}function Ne(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Oe(t,e,n){var o,i;return function(){var r=this.getAttribute(t);return r===n?null:r===o?i:i=e(o=r,n)}}function ke(t,e,n){var o,i;return function(){var r=this.getAttributeNS(t.space,t.local);return r===n?null:r===o?i:i=e(o=r,n)}}function Re(t,e,n){var o,i,r;return function(){var a,s=n(this);return null==s?void this.removeAttribute(t):(a=this.getAttribute(t),a===s?null:a===o&&s===i?r:r=e(o=a,i=s))}}function De(t,e,n){var o,i,r;return function(){var a,s=n(this);return null==s?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),a===s?null:a===o&&s===i?r:r=e(o=a,i=s))}}function Fe(t,e){function n(){var n=this,o=e.apply(n,arguments);return o&&function(e){n.setAttributeNS(t.space,t.local,o(e))}}return n._value=e,n}function je(t,e){function n(){var n=this,o=e.apply(n,arguments);return o&&function(e){n.setAttribute(t,o(e))}}return n._value=e,n}function Ke(t,e){return function(){Se(this,t).delay=+e.apply(this,arguments)}}function Be(t,e){return e=+e,function(){Se(this,t).delay=e}}function Xe(t,e){return function(){Ce(this,t).duration=+e.apply(this,arguments);
}}function Ue(t,e){return e=+e,function(){Ce(this,t).duration=e}}function Ye(t,e){if("function"!=typeof e)throw new Error;return function(){Ce(this,t).ease=e}}function Ge(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}function We(t,e,n){var o,i,r=Ge(e)?Se:Ce;return function(){var a=r(this,t),s=a.on;s!==o&&(i=(o=s).copy()).on(e,n),a.on=i}}function ze(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function He(t,e){var n,o,i;return function(){var r=W(this,t),a=(this.style.removeProperty(t),W(this,t));return r===a?null:r===n&&a===o?i:i=e(n=r,o=a)}}function qe(t){return function(){this.style.removeProperty(t)}}function Ve(t,e,n){var o,i;return function(){var r=W(this,t);return r===n?null:r===o?i:i=e(o=r,n)}}function $e(t,e,n){var o,i,r;return function(){var a=W(this,t),s=n(this);return null==s&&(this.style.removeProperty(t),s=W(this,t)),a===s?null:a===o&&s===i?r:r=e(o=a,i=s)}}function Ze(t,e,n){function o(){var o=this,i=e.apply(o,arguments);return i&&function(e){o.style.setProperty(t,i(e),n)}}return o._value=e,o}function Je(t){return function(){this.textContent=t}}function Qe(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function tn(t,e,n,o){this._groups=t,this._parents=e,this._name=n,this._id=o}function en(t){return gt().transition(t)}function nn(){return++Hf}function on(t){return+t}function rn(t){return t*t}function an(t){return t*(2-t)}function sn(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function pn(t){return t*t*t}function hn(t){return--t*t*t+1}function un(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}function ln(t){return 1-Math.cos(t*td)}function cn(t){return Math.sin(t*td)}function fn(t){return(1-Math.cos(Qf*t))/2}function dn(t){return Math.pow(2,10*t-10)}function yn(t){return 1-Math.pow(2,-10*t)}function vn(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function gn(t){return 1-Math.sqrt(1-t*t)}function mn(t){return Math.sqrt(1- --t*t)}function bn(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function xn(t){return 1-_n(1-t)}function _n(t){return(t=+t)<ed?ud*t*t:t<od?ud*(t-=nd)*t+id:t<ad?ud*(t-=rd)*t+sd:ud*(t-=pd)*t+hd}function wn(t){return((t*=2)<=1?1-_n(1-t):_n(t-1)+1)/2}function Pn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return _d.time=ye(),_d;return n}function Sn(){t.event.stopImmediatePropagation()}function Cn(t){return{type:t}}function Mn(){return!t.event.button}function Tn(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function An(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function En(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Ln(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function In(){return On(Nd)}function Nn(){return On(Od)}function On(e){function n(t){var n=t.property("__brush",s).selectAll(".overlay").data([Cn("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Rd.overlay).merge(n).each(function(){var t=An(this).extent;Ol(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([Cn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Rd.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=t.selectAll(".handle").data(e.handles,function(t){return t.type});i.exit().remove(),i.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return Rd[t.type]}),t.each(o).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",a)}function o(){var t=Ol(this),e=An(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-c/2:e[0][0]-c/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-c/2:e[0][1]-c/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+c:c}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+c:c})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function i(t,e){return t.__brush.emitter||new r(t,e)}function r(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function a(){function n(){var t=Zu(S);!D||w||P||(Math.abs(t[0]-j[0])>Math.abs(t[1]-j[1])?P=!0:w=!0),j=t,_=!0,Td(),r()}function r(){var t;switch(b=j[0]-F[0],x=j[1]-F[1],M){case Ed:case Ad:T&&(b=Math.max(N-l,Math.min(k-y,b)),c=l+b,v=y+b),A&&(x=Math.max(O-f,Math.min(R-g,x)),d=f+x,m=g+x);break;case Ld:T<0?(b=Math.max(N-l,Math.min(k-l,b)),c=l+b,v=y):T>0&&(b=Math.max(N-y,Math.min(k-y,b)),c=l,v=y+b),A<0?(x=Math.max(O-f,Math.min(R-f,x)),d=f+x,m=g):A>0&&(x=Math.max(O-g,Math.min(R-g,x)),d=f,m=g+x);break;case Id:T&&(c=Math.max(N,Math.min(k,l-b*T)),v=Math.max(N,Math.min(k,y+b*T))),A&&(d=Math.max(O,Math.min(R,f-x*A)),m=Math.max(O,Math.min(R,g+x*A)))}v<c&&(T*=-1,t=l,l=y,y=t,t=c,c=v,v=t,C in Dd&&X.attr("cursor",Rd[C=Dd[C]])),m<d&&(A*=-1,t=f,f=g,g=t,t=d,d=m,m=t,C in Fd&&X.attr("cursor",Rd[C=Fd[C]])),E.selection&&(I=E.selection),w&&(c=I[0][0],v=I[1][0]),P&&(d=I[0][1],m=I[1][1]),I[0][0]===c&&I[0][1]===d&&I[1][0]===v&&I[1][1]===m||(E.selection=[[c,d],[v,m]],o.call(S),K.brush())}function a(){if(Sn(),t.event.touches){if(t.event.touches.length)return;p&&clearTimeout(p),p=setTimeout(function(){p=null},500),B.on("touchmove.brush touchend.brush touchcancel.brush",null)}else bt(t.event.view,_),U.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);B.attr("pointer-events","all"),X.attr("cursor",Rd.overlay),E.selection&&(I=E.selection),En(I)&&(E.selection=null,o.call(S)),K.end()}function s(){switch(t.event.keyCode){case 16:D=T&&A;break;case 18:M===Ld&&(T&&(y=v-b*T,l=c+b*T),A&&(g=m-x*A,f=d+x*A),M=Id,r());break;case 32:M!==Ld&&M!==Id||(T<0?y=v-b:T>0&&(l=c-b),A<0?g=m-x:A>0&&(f=d-x),M=Ed,X.attr("cursor",Rd.selection),r());break;default:return}Td()}function h(){switch(t.event.keyCode){case 16:D&&(w=P=D=!1,r());break;case 18:M===Id&&(T<0?y=v:T>0&&(l=c),A<0?g=m:A>0&&(f=d),M=Ld,r());break;case 32:M===Ed&&(t.event.altKey?(T&&(y=v-b*T,l=c+b*T),A&&(g=m-x*A,f=d+x*A),M=Id):(T<0?y=v:T>0&&(l=c),A<0?g=m:A>0&&(f=d),M=Ld),X.attr("cursor",Rd[C]),r());break;default:return}Td()}if(t.event.touches){if(t.event.changedTouches.length<t.event.touches.length)return Td()}else if(p)return;if(u.apply(this,arguments)){var l,c,f,d,y,v,g,m,b,x,_,w,P,S=this,C=t.event.target.__data__.type,M="selection"===(t.event.metaKey?C="overlay":C)?Ad:t.event.altKey?Id:Ld,T=e===Od?null:jd[C],A=e===Nd?null:Kd[C],E=An(S),L=E.extent,I=E.selection,N=L[0][0],O=L[0][1],k=L[1][0],R=L[1][1],D=T&&A&&t.event.shiftKey,F=Zu(S),j=F,K=i(S,arguments).beforestart();"overlay"===C?E.selection=I=[[l=e===Od?N:F[0],f=e===Nd?O:F[1]],[y=e===Od?k:l,g=e===Nd?R:f]]:(l=I[0][0],f=I[0][1],y=I[1][0],g=I[1][1]),c=l,d=f,v=y,m=g;var B=Ol(S).attr("pointer-events","none"),X=B.selectAll(".overlay").attr("cursor",Rd[C]);if(t.event.touches)B.on("touchmove.brush",n,!0).on("touchend.brush touchcancel.brush",a,!0);else{var U=Ol(t.event.view).on("keydown.brush",s,!0).on("keyup.brush",h,!0).on("mousemove.brush",n,!0).on("mouseup.brush",a,!0);jl(t.event.view)}Sn(),Mf(S),o.call(S),K.start()}}function s(){var t=this.__brush||{selection:null};return t.extent=h.apply(this,arguments),t.dim=e,t}var p,h=Tn,u=Mn,l=y(n,"start","brush","end"),c=6;return n.move=function(t,n){t.selection?t.on("start.brush",function(){i(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){i(this,arguments).end()}).tween("brush",function(){function t(t){a.selection=1===t&&En(h)?null:u(t),o.call(r),s.brush()}var r=this,a=r.__brush,s=i(r,arguments),p=a.selection,h=e.input("function"==typeof n?n.apply(this,arguments):n,a.extent),u=Kc(p,h);return p&&h?t:t(1)}):t.each(function(){var t=this,r=arguments,a=t.__brush,s=e.input("function"==typeof n?n.apply(t,r):n,a.extent),p=i(t,r).beforestart();Mf(t),a.selection=null==s||En(s)?null:s,o.call(t),p.start().brush().end()})},r.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0===--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){E(new Md(n,t,e.output(this.state.selection)),l.apply,l,[t,this.that,this.args])}},n.extent=function(t){return arguments.length?(h="function"==typeof t?t:Cd([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),n):h},n.filter=function(t){return arguments.length?(u="function"==typeof t?t:Cd(!!t),n):u},n.handleSize=function(t){return arguments.length?(c=+t,n):c},n.on=function(){var t=l.on.apply(l,arguments);return t===l?n:t},n}function kn(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function Rn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Dn(){return new Rn}function Fn(t){return t.source}function jn(t){return t.target}function Kn(t){return t.radius}function Bn(t){return t.startAngle}function Xn(t){return t.endAngle}function Un(){}function Yn(t,e){var n=new Un;if(t instanceof Un)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var o,i=-1,r=t.length;if(null==e)for(;++i<r;)n.set(i,t[i]);else for(;++i<r;)n.set(e(o=t[i],i,t),o)}else if(t)for(var a in t)n.set(a,t[a]);return n}function Gn(){return{}}function Wn(t,e,n){t[e]=n}function zn(){return Yn()}function Hn(t,e,n){t.set(e,n)}function qn(){}function Vn(t,e){var n=new qn;if(t instanceof qn)t.each(function(t){n.add(t)});else if(t){var o=-1,i=t.length;if(null==e)for(;++o<i;)n.add(t[o]);else for(;++o<i;)n.add(e(t[o],o,t))}return n}function $n(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function Zn(t,e){var n=$n(t);return function(o,i){return e(n(o),i,t)}}function Jn(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var o in t)o in e||n.push(e[o]=o)}),n}function Qn(t,e,n,o){if(isNaN(e)||isNaN(n))return t;var i,r,a,s,p,h,u,l,c,f=t._root,d={data:o},y=t._x0,v=t._y0,g=t._x1,m=t._y1;if(!f)return t._root=d,t;for(;f.length;)if((h=e>=(r=(y+g)/2))?y=r:g=r,(u=n>=(a=(v+m)/2))?v=a:m=a,i=f,!(f=f[l=u<<1|h]))return i[l]=d,t;if(s=+t._x.call(null,f.data),p=+t._y.call(null,f.data),e===s&&n===p)return d.next=f,i?i[l]=d:t._root=d,t;do i=i?i[l]=new Array(4):t._root=new Array(4),(h=e>=(r=(y+g)/2))?y=r:g=r,(u=n>=(a=(v+m)/2))?v=a:m=a;while((l=u<<1|h)===(c=(p>=a)<<1|s>=r));return i[c]=f,i[l]=d,t}function to(t){var e,n,o,i,r=t.length,a=new Array(r),s=new Array(r),p=1/0,h=1/0,u=-(1/0),l=-(1/0);for(n=0;n<r;++n)isNaN(o=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=o,s[n]=i,o<p&&(p=o),o>u&&(u=o),i<h&&(h=i),i>l&&(l=i));for(u<p&&(p=this._x0,u=this._x1),l<h&&(h=this._y0,l=this._y1),this.cover(p,h).cover(u,l),n=0;n<r;++n)Qn(this,a[n],s[n],t[n]);return this}function eo(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function no(t){return t[0]}function oo(t){return t[1]}function io(t,e,n){var o=new ro(null==e?no:e,null==n?oo:n,NaN,NaN,NaN,NaN);return null==t?o:o.addAll(t)}function ro(t,e,n,o,i,r){this._x=t,this._y=e,this._x0=n,this._y0=o,this._x1=i,this._y1=r,this._root=void 0}function ao(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}function so(t){return t.x+t.vx}function po(t){return t.y+t.vy}function ho(t){return t.index}function uo(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function lo(t){return t.x}function co(t){return t.y}function fo(t){return new yo(t)}function yo(t){if(!(e=Jy.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",o=e[2]||">",i=e[3]||"-",r=e[4]||"",a=!!e[5],s=e[6]&&+e[6],p=!!e[7],h=e[8]&&+e[8].slice(1),u=e[9]||"";"n"===u?(p=!0,u="g"):Zy[u]||(u=""),(a||"0"===n&&"="===o)&&(a=!0,n="0",o="="),this.fill=n,this.align=o,this.sign=i,this.symbol=r,this.zero=a,this.width=s,this.comma=p,this.precision=h,this.type=u}function vo(e){return Qy=nv(e),t.format=Qy.format,t.formatPrefix=Qy.formatPrefix,Qy}function go(){this.reset()}function mo(t,e,n){var o=t.s=e+n,i=o-e,r=o-i;t.t=e-r+(n-i)}function bo(t){return t>1?0:t<-1?Xv:Math.acos(t)}function xo(t){return t>1?Uv:t<-1?-Uv:Math.asin(t)}function _o(t){return(t=eg(t/2))*t}function wo(){}function Po(t,e){t&&ag.hasOwnProperty(t.type)&&ag[t.type](t,e)}function So(t,e,n){var o,i=-1,r=t.length-n;for(e.lineStart();++i<r;)o=t[i],e.point(o[0],o[1],o[2]);e.lineEnd()}function Co(t,e){var n=-1,o=t.length;for(e.polygonStart();++n<o;)So(t[n],e,1);e.polygonEnd()}function Mo(){ug.point=Ao}function To(){Eo(sv,pv)}function Ao(t,e){ug.point=Eo,sv=t,pv=e,t*=zv,e*=zv,hv=t,uv=$v(e=e/2+Yv),lv=eg(e)}function Eo(t,e){t*=zv,e*=zv,e=e/2+Yv;var n=t-hv,o=n>=0?1:-1,i=o*n,r=$v(e),a=eg(e),s=lv*a,p=uv*r+s*$v(i),h=s*o*eg(i);pg.add(Vv(h,p)),hv=t,uv=r,lv=a}function Lo(t){return[Vv(t[1],t[0]),xo(t[2])]}function Io(t){var e=t[0],n=t[1],o=$v(n);return[o*$v(e),o*eg(e),eg(n)]}function No(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Oo(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ko(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ro(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Do(t){var e=og(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Fo(t,e){xv.push(_v=[cv=t,dv=t]),e<fv&&(fv=e),e>yv&&(yv=e)}function jo(t,e){var n=Io([t*zv,e*zv]);if(bv){var o=Oo(bv,n),i=[o[1],-o[0],0],r=Oo(i,o);Do(r),r=Lo(r);var a,s=t-vv,p=s>0?1:-1,h=r[0]*Wv*p,u=Hv(s)>180;u^(p*vv<h&&h<p*t)?(a=r[1]*Wv,a>yv&&(yv=a)):(h=(h+360)%360-180,u^(p*vv<h&&h<p*t)?(a=-r[1]*Wv,a<fv&&(fv=a)):(e<fv&&(fv=e),e>yv&&(yv=e))),u?t<vv?Go(cv,t)>Go(cv,dv)&&(dv=t):Go(t,dv)>Go(cv,dv)&&(cv=t):dv>=cv?(t<cv&&(cv=t),t>dv&&(dv=t)):t>vv?Go(cv,t)>Go(cv,dv)&&(dv=t):Go(t,dv)>Go(cv,dv)&&(cv=t)}else xv.push(_v=[cv=t,dv=t]);e<fv&&(fv=e),e>yv&&(yv=e),bv=n,vv=t}function Ko(){fg.point=jo}function Bo(){_v[0]=cv,_v[1]=dv,fg.point=Fo,bv=null}function Xo(t,e){if(bv){var n=t-vv;cg.add(Hv(n)>180?n+(n>0?360:-360):n)}else gv=t,mv=e;ug.point(t,e),jo(t,e)}function Uo(){ug.lineStart()}function Yo(){Xo(gv,mv),ug.lineEnd(),Hv(cg)>Kv&&(cv=-(dv=180)),_v[0]=cv,_v[1]=dv,bv=null}function Go(t,e){return(e-=t)<0?e+360:e}function Wo(t,e){return t[0]-e[0]}function zo(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function Ho(t,e){t*=zv,e*=zv;var n=$v(e);qo(n*$v(t),n*eg(t),eg(e))}function qo(t,e,n){++wv,Sv+=(t-Sv)/wv,Cv+=(e-Cv)/wv,Mv+=(n-Mv)/wv}function Vo(){yg.point=$o}function $o(t,e){t*=zv,e*=zv;var n=$v(e);Rv=n*$v(t),Dv=n*eg(t),Fv=eg(e),yg.point=Zo,qo(Rv,Dv,Fv)}function Zo(t,e){t*=zv,e*=zv;var n=$v(e),o=n*$v(t),i=n*eg(t),r=eg(e),a=Vv(og((a=Dv*r-Fv*i)*a+(a=Fv*o-Rv*r)*a+(a=Rv*i-Dv*o)*a),Rv*o+Dv*i+Fv*r);Pv+=a,Tv+=a*(Rv+(Rv=o)),Av+=a*(Dv+(Dv=i)),Ev+=a*(Fv+(Fv=r)),qo(Rv,Dv,Fv)}function Jo(){yg.point=Ho}function Qo(){yg.point=ei}function ti(){ni(Ov,kv),yg.point=Ho}function ei(t,e){Ov=t,kv=e,t*=zv,e*=zv,yg.point=ni;var n=$v(e);Rv=n*$v(t),Dv=n*eg(t),Fv=eg(e),qo(Rv,Dv,Fv)}function ni(t,e){t*=zv,e*=zv;var n=$v(e),o=n*$v(t),i=n*eg(t),r=eg(e),a=Dv*r-Fv*i,s=Fv*o-Rv*r,p=Rv*i-Dv*o,h=og(a*a+s*s+p*p),u=xo(h),l=h&&-u/h;Lv+=l*a,Iv+=l*s,Nv+=l*p,Pv+=u,Tv+=u*(Rv+(Rv=o)),Av+=u*(Dv+(Dv=i)),Ev+=u*(Fv+(Fv=r)),qo(Rv,Dv,Fv)}function oi(t,e){return[t>Xv?t-Gv:t<-Xv?t+Gv:t,e]}function ii(t,e,n){return(t%=Gv)?e||n?mg(ai(t),si(e,n)):ai(t):e||n?si(e,n):oi}function ri(t){return function(e,n){return e+=t,[e>Xv?e-Gv:e<-Xv?e+Gv:e,n]}}function ai(t){var e=ri(t);return e.invert=ri(-t),e}function si(t,e){function n(t,e){var n=$v(e),s=$v(t)*n,p=eg(t)*n,h=eg(e),u=h*o+s*i;return[Vv(p*r-u*a,s*o-h*i),xo(u*r+p*a)]}var o=$v(t),i=eg(t),r=$v(e),a=eg(e);return n.invert=function(t,e){var n=$v(e),s=$v(t)*n,p=eg(t)*n,h=eg(e),u=h*r-p*a;return[Vv(p*r+h*a,s*o+u*i),xo(u*o-s*i)]},n}function pi(t,e,n,o,i,r){if(n){var a=$v(e),s=eg(e),p=o*n;null==i?(i=e+o*Gv,r=e-p/2):(i=hi(a,i),r=hi(a,r),(o>0?i<r:i>r)&&(i+=o*Gv));for(var h,u=i;o>0?u>r:u<r;u-=p)h=Lo([a,-s*$v(u),-s*eg(u)]),t.point(h[0],h[1])}}function hi(t,e){e=Io(e),e[0]-=t,Do(e);var n=bo(-e[1]);return((-e[2]<0?-n:n)+Gv-Kv)%Gv}function ui(t,e,n,o){this.x=t,this.z=e,this.o=n,this.e=o,this.v=!1,this.n=this.p=null}function li(t){if(e=t.length){for(var e,n,o=0,i=t[0];++o<e;)i.n=n=t[o],n.p=i,i=n;i.n=n=t[0],n.p=i}}function ci(t,e,n,o){function i(i,r){return t<=i&&i<=n&&e<=r&&r<=o}function r(i,r,s,h){var u=0,l=0;if(null==i||(u=a(i,s))!==(l=a(r,s))||p(i,r)<0^s>0){do h.point(0===u||3===u?t:n,u>1?o:e);while((u=(u+s+4)%4)!==l)}else h.point(r[0],r[1])}function a(o,i){return Hv(o[0]-t)<Kv?i>0?0:3:Hv(o[0]-n)<Kv?i>0?2:1:Hv(o[1]-e)<Kv?i>0?1:0:i>0?3:2}function s(t,e){return p(t.x,e.x)}function p(t,e){var n=a(t,1),o=a(e,1);return n!==o?n-o:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){function p(t,e){i(t,e)&&M.point(t,e)}function h(){for(var e=0,n=0,i=v.length;n<i;++n)for(var r,a,s=v[n],p=1,h=s.length,u=s[0],l=u[0],c=u[1];p<h;++p)r=l,a=c,u=s[p],l=u[0],c=u[1],a<=o?c>o&&(l-r)*(o-a)>(c-a)*(t-r)&&++e:c<=o&&(l-r)*(o-a)<(c-a)*(t-r)&&--e;return e}function u(){M=T,y=[],v=[],C=!0}function l(){var t=h(),e=C&&t,n=(y=_u(y)).length;(e||n)&&(a.polygonStart(),e&&(a.lineStart(),r(null,null,1,a),a.lineEnd()),n&&Rg(y,s,t,r,a),a.polygonEnd()),M=a,y=v=g=null}function c(){A.point=d,v&&v.push(g=[]),S=!0,P=!1,_=w=NaN}function f(){y&&(d(m,b),x&&P&&T.rejoin(),y.push(T.result())),A.point=p,P&&M.lineEnd()}function d(r,a){var s=i(r,a);if(v&&g.push([r,a]),S)m=r,b=a,x=s,S=!1,s&&(M.lineStart(),M.point(r,a));else if(s&&P)M.point(r,a);else{var p=[_=Math.max(Fg,Math.min(Dg,_)),w=Math.max(Fg,Math.min(Dg,w))],h=[r=Math.max(Fg,Math.min(Dg,r)),a=Math.max(Fg,Math.min(Dg,a))];Og(p,h,t,e,n,o)?(P||(M.lineStart(),M.point(p[0],p[1])),M.point(h[0],h[1]),s||M.lineEnd(),C=!1):s&&(M.lineStart(),M.point(r,a),C=!1)}_=r,w=a,P=s}var y,v,g,m,b,x,_,w,P,S,C,M=a,T=Ng(),A={point:p,lineStart:c,lineEnd:f,polygonStart:u,polygonEnd:l};return A}}function fi(){Ug.point=yi,Ug.lineEnd=di}function di(){Ug.point=Ug.lineEnd=wo}function yi(t,e){t*=zv,e*=zv,bg=t,xg=eg(e),_g=$v(e),Ug.point=vi}function vi(t,e){t*=zv,e*=zv;var n=eg(e),o=$v(e),i=Hv(t-bg),r=$v(i),a=eg(i),s=o*a,p=_g*n-xg*o*r,h=xg*n+_g*o*r;Xg.add(Vv(og(s*s+p*p),h)),bg=t,xg=n,_g=o}function gi(t,e){return!(!t||!qg.hasOwnProperty(t.type))&&qg[t.type](t,e)}function mi(t,e){return 0===zg(t,e)}function bi(t,e){var n=zg(t[0],t[1]),o=zg(t[0],e),i=zg(e,t[1]);return o+i<=n+Kv}function xi(t,e){return!!Bg(t.map(_i),wi(e))}function _i(t){return t=t.map(wi),t.pop(),t}function wi(t){return[t[0]*zv,t[1]*zv]}function Pi(t,e,n){var o=pu(t,e-Kv,n).concat(e);return function(t){return o.map(function(e){return[t,e]})}}function Si(t,e,n){var o=pu(t,e-Kv,n).concat(e);return function(t){return o.map(function(e){return[e,t]})}}function Ci(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return pu(Zv(r/v)*v,i,v).map(c).concat(pu(Zv(h/g)*g,p,g).map(f)).concat(pu(Zv(o/d)*d,n,d).filter(function(t){return Hv(t%v)>Kv}).map(u)).concat(pu(Zv(s/y)*y,a,y).filter(function(t){return Hv(t%g)>Kv}).map(l))}var n,o,i,r,a,s,p,h,u,l,c,f,d=10,y=d,v=90,g=360,m=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[c(r).concat(f(p).slice(1),c(i).reverse().slice(1),f(h).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.extentMajor(e).extentMinor(e):t.extentMinor()},t.extentMajor=function(e){return arguments.length?(r=+e[0][0],i=+e[1][0],h=+e[0][1],p=+e[1][1],r>i&&(e=r,r=i,i=e),h>p&&(e=h,h=p,p=e),t.precision(m)):[[r,h],[i,p]]},t.extentMinor=function(e){return arguments.length?(o=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],o>n&&(e=o,o=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(m)):[[o,s],[n,a]]},t.step=function(e){return arguments.length?t.stepMajor(e).stepMinor(e):t.stepMinor()},t.stepMajor=function(e){return arguments.length?(v=+e[0],g=+e[1],t):[v,g]},t.stepMinor=function(e){return arguments.length?(d=+e[0],y=+e[1],t):[d,y]},t.precision=function(e){return arguments.length?(m=+e,u=Pi(s,a,90),l=Si(o,n,m),c=Pi(h,p,90),f=Si(r,i,m),t):m},t.extentMajor([[-180,-90+Kv],[180,90-Kv]]).extentMinor([[-180,-80-Kv],[180,80+Kv]])}function Mi(){return Ci()()}function Ti(){tm.point=Ai}function Ai(t,e){tm.point=Ei,wg=Sg=t,Pg=Cg=e}function Ei(t,e){Qg.add(Cg*t-Sg*e),Sg=t,Cg=e}function Li(){Ei(wg,Pg)}function Ii(t,e){t<em&&(em=t),t>om&&(om=t),e<nm&&(nm=e),e>im&&(im=e)}function Ni(t,e){am+=t,sm+=e,++pm}function Oi(){ym.point=ki}function ki(t,e){ym.point=Ri,Ni(Ag=t,Eg=e)}function Ri(t,e){var n=t-Ag,o=e-Eg,i=og(n*n+o*o);hm+=i*(Ag+t)/2,um+=i*(Eg+e)/2,lm+=i,Ni(Ag=t,Eg=e)}function Di(){ym.point=Ni}function Fi(){ym.point=Ki}function ji(){Bi(Mg,Tg)}function Ki(t,e){ym.point=Bi,Ni(Mg=Ag=t,Tg=Eg=e)}function Bi(t,e){var n=t-Ag,o=e-Eg,i=og(n*n+o*o);hm+=i*(Ag+t)/2,um+=i*(Eg+e)/2,lm+=i,i=Eg*t-Ag*e,cm+=i*(Ag+t),fm+=i*(Eg+e),dm+=3*i,Ni(Ag=t,Eg=e)}function Xi(t){this._context=t}function Ui(t,e){wm.point=Yi,gm=bm=t,mm=xm=e}function Yi(t,e){bm-=t,xm-=e,_m.add(og(bm*bm+xm*xm)),bm=t,xm=e}function Gi(){this._string=[]}function Wi(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function zi(t){return t.length>1}function Hi(t,e){return((t=t.x)[0]<0?t[1]-Uv-Kv:Uv-t[1])-((e=e.x)[0]<0?e[1]-Uv-Kv:Uv-e[1])}function qi(t){var e,n=NaN,o=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(r,a){var s=r>0?Xv:-Xv,p=Hv(r-n);Hv(p-Xv)<Kv?(t.point(n,o=(o+a)/2>0?Uv:-Uv),t.point(i,o),t.lineEnd(),t.lineStart(),t.point(s,o),t.point(r,o),e=0):i!==s&&p>=Xv&&(Hv(n-i)<Kv&&(n-=i*Kv),Hv(r-s)<Kv&&(r-=s*Kv),o=Vi(n,o,r,a),t.point(i,o),t.lineEnd(),t.lineStart(),t.point(s,o),e=0),t.point(n=r,o=a),i=s},lineEnd:function(){t.lineEnd(),n=o=NaN},clean:function(){return 2-e}}}function Vi(t,e,n,o){var i,r,a=eg(t-n);return Hv(a)>Kv?qv((eg(e)*(r=$v(o))*eg(n)-eg(o)*(i=$v(e))*eg(t))/(i*r*a)):(e+o)/2}function $i(t,e,n,o){var i;if(null==t)i=n*Uv,o.point(-Xv,i),o.point(0,i),o.point(Xv,i),o.point(Xv,0),o.point(Xv,-i),o.point(0,-i),o.point(-Xv,-i),o.point(-Xv,0),o.point(-Xv,i);else if(Hv(t[0]-e[0])>Kv){var r=t[0]<e[0]?Xv:-Xv;i=n*r/2,o.point(-r,i),o.point(0,i),o.point(r,i)}else o.point(e[0],e[1])}function Zi(t){return function(e){var n=new Ji;for(var o in t)n[o]=t[o];return n.stream=e,n}}function Ji(){}function Qi(t,e,n){var o=e[1][0]-e[0][0],i=e[1][1]-e[0][1],r=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),sg(n,t.stream(rm));var a=rm.result(),s=Math.min(o/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),p=+e[0][0]+(o-s*(a[1][0]+a[0][0]))/2,h=+e[0][1]+(i-s*(a[1][1]+a[0][1]))/2;return null!=r&&t.clipExtent(r),t.scale(150*s).translate([p,h])}function tr(t,e,n){return Qi(t,[[0,0],e],n)}function er(t){return Zi({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function nr(t,e){function n(o,i,r,a,s,p,h,u,l,c,f,d,y,v){var g=h-o,m=u-i,b=g*g+m*m;if(b>4*e&&y--){var x=a+c,_=s+f,w=p+d,P=og(x*x+_*_+w*w),S=xo(w/=P),C=Hv(Hv(w)-1)<Kv||Hv(r-l)<Kv?(r+l)/2:Vv(_,x),M=t(C,S),T=M[0],A=M[1],E=T-o,L=A-i,I=m*E-g*L;(I*I/b>e||Hv((g*E+m*L)/b-.5)>.3||a*c+s*f+p*d<Em)&&(n(o,i,r,a,s,p,T,A,C,x/=P,_/=P,w,y,v),v.point(T,A),n(T,A,C,x,_,w,h,u,l,c,f,d,y,v))}}return function(e){function o(n,o){n=t(n,o),e.point(n[0],n[1])}function i(){g=NaN,w.point=r,e.lineStart()}function r(o,i){var r=Io([o,i]),a=t(o,i);n(g,m,v,b,x,_,g=a[0],m=a[1],v=o,b=r[0],x=r[1],_=r[2],Am,e),e.point(g,m)}function a(){w.point=o,e.lineEnd()}function s(){i(),w.point=p,w.lineEnd=h}function p(t,e){r(u=t,e),l=g,c=m,f=b,d=x,y=_,w.point=r}function h(){n(g,m,v,b,x,_,l,c,u,f,d,y,Am,e),w.lineEnd=a,a()}var u,l,c,f,d,y,v,g,m,b,x,_,w={point:o,lineStart:i,lineEnd:a,polygonStart:function(){e.polygonStart(),w.lineStart=s},polygonEnd:function(){e.polygonEnd(),w.lineStart=i}};return w}}function or(t){return ir(function(){return t})()}function ir(t){function e(t){return t=u(t[0]*zv,t[1]*zv),[t[0]*v+s,p-t[1]*v]}function n(t){return t=u.invert((t[0]-s)/v,(p-t[1])/v),t&&[t[0]*Wv,t[1]*Wv]}function o(t,e){return t=a(t,e),[t[0]*v+s,p-t[1]*v]}function i(){u=mg(h=ii(_,w,P),a);var t=a(b,x);return s=g-t[0]*v,p=m+t[1]*v,r()}function r(){return d=y=null,e}var a,s,p,h,u,l,c,f,d,y,v=150,g=480,m=250,b=0,x=0,_=0,w=0,P=0,S=null,C=Cm,M=null,T=Zg,A=.5,E=Lm(o,A);return e.stream=function(t){return d&&y===t?d:d=Im(C(h,E(T(y=t))))},e.clipAngle=function(t){return arguments.length?(C=+t?Mm(S=t*zv,6*zv):(S=null,Cm),r()):S*Wv},e.clipExtent=function(t){return arguments.length?(T=null==t?(M=l=c=f=null,Zg):ci(M=+t[0][0],l=+t[0][1],c=+t[1][0],f=+t[1][1]),r()):null==M?null:[[M,l],[c,f]]},e.scale=function(t){return arguments.length?(v=+t,i()):v},e.translate=function(t){return arguments.length?(g=+t[0],m=+t[1],i()):[g,m]},e.center=function(t){return arguments.length?(b=t[0]%360*zv,x=t[1]%360*zv,i()):[b*Wv,x*Wv]},e.rotate=function(t){return arguments.length?(_=t[0]%360*zv,w=t[1]%360*zv,P=t.length>2?t[2]%360*zv:0,i()):[_*Wv,w*Wv,P*Wv]},e.precision=function(t){return arguments.length?(E=Lm(o,A=t*t),r()):og(A)},e.fitExtent=function(t,n){return Qi(e,t,n)},e.fitSize=function(t,n){return tr(e,t,n)},function(){return a=t.apply(this,arguments),e.invert=a.invert&&n,i()}}function rr(t){var e=0,n=Xv/3,o=ir(t),i=o(e,n);return i.parallels=function(t){return arguments.length?o(e=t[0]*zv,n=t[1]*zv):[e*Wv,n*Wv]},i}function ar(t){function e(t,e){return[t*n,eg(e)/n]}var n=$v(t);return e.invert=function(t,e){return[t/n,xo(e*n)]},e}function sr(t,e){function n(t,e){var n=og(r-2*i*eg(e))/i;return[n*eg(t*=i),a-n*$v(t)]}var o=eg(t),i=(o+eg(e))/2;if(Hv(i)<Kv)return ar(t);var r=1+o*(2*i-o),a=og(r)/i;return n.invert=function(t,e){var n=a-e;return[Vv(t,Hv(n))/i*ng(n),xo((r-(t*t+n*n)*i*i)/(2*i))]},n}function pr(t){var e=t.length;return{point:function(n,o){for(var i=-1;++i<e;)t[i].point(n,o)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function hr(t){return function(e,n){var o=$v(e),i=$v(n),r=t(o*i);return[r*i*eg(e),r*eg(n)]}}function ur(t){return function(e,n){var o=og(e*e+n*n),i=t(o),r=eg(i),a=$v(i);return[Vv(e*r,o*a),xo(o&&n*r/o)]}}function lr(t,e){return[t,Qv(ig((Uv+e)/2))]}function cr(t){function e(){var e=Xv*s(),a=r(Lg(r.rotate()).invert([0,0]));return h(null==u?[[a[0]-e,a[1]-e],[a[0]+e,a[1]+e]]:t===lr?[[Math.max(a[0]-e,u),n],[Math.min(a[0]+e,o),i]]:[[u,Math.max(a[1]-e,n)],[o,Math.min(a[1]+e,i)]])}var n,o,i,r=or(t),a=r.center,s=r.scale,p=r.translate,h=r.clipExtent,u=null;return r.scale=function(t){return arguments.length?(s(t),e()):s()},r.translate=function(t){return arguments.length?(p(t),e()):p()},r.center=function(t){return arguments.length?(a(t),e()):a()},r.clipExtent=function(t){return arguments.length?(null==t?u=n=o=i=null:(u=+t[0][0],n=+t[0][1],o=+t[1][0],i=+t[1][1]),e()):null==u?null:[[u,n],[o,i]]},e()}function fr(t){return ig((Uv+t)/2)}function dr(t,e){function n(t,e){r>0?e<-Uv+Kv&&(e=-Uv+Kv):e>Uv-Kv&&(e=Uv-Kv);var n=r/tg(fr(e),i);return[n*eg(i*t),r-n*$v(i*t)]}var o=$v(t),i=t===e?eg(t):Qv(o/$v(e))/Qv(fr(e)/fr(t)),r=o*tg(fr(t),i)/i;return i?(n.invert=function(t,e){var n=r-e,o=ng(i)*og(t*t+n*n);return[Vv(t,Hv(n))/i*ng(n),2*qv(tg(r/o,1/i))-Uv]},n):lr}function yr(t,e){return[t,e]}function vr(t,e){function n(t,e){var n=r-e,o=i*t;return[n*eg(o),r-n*$v(o)]}var o=$v(t),i=t===e?eg(t):(o-$v(e))/(e-t),r=o/i+t;return Hv(i)<Kv?yr:(n.invert=function(t,e){var n=r-e;return[Vv(t,Hv(n))/i*ng(n),r-ng(i)*og(t*t+n*n)]},n)}function gr(t,e){var n=$v(e),o=$v(t)*n;return[n*eg(t)/o,eg(e)/o]}function mr(t,e,n,o){return 1===t&&1===e&&0===n&&0===o?Zg:Zi({point:function(i,r){this.stream.point(i*t+n,r*e+o)}})}function br(t,e){return[$v(e)*eg(t),eg(e)]}function xr(t,e){var n=$v(e),o=1+$v(t)*n;return[n*eg(t)/o,eg(e)/o]}function _r(t,e){return[Qv(ig((Uv+e)/2)),-t]}function wr(t,e){return t.parent===e.parent?1:2}function Pr(t){return t.reduce(Sr,0)/t.length}function Sr(t,e){return t+e.x}function Cr(t){return 1+t.reduce(Mr,0)}function Mr(t,e){return Math.max(t,e.y)}function Tr(t){for(var e;e=t.children;)t=e[0];return t}function Ar(t){for(var e;e=t.children;)t=e[e.length-1];return t}function Er(t){var e=0,n=t.children,o=n&&n.length;if(o)for(;--o>=0;)e+=n[o].value;else e=1;t.value=e}function Lr(t,e){if(t===e)return t;var n=t.ancestors(),o=e.ancestors(),i=null;for(t=n.pop(),e=o.pop();t===e;)i=t,t=n.pop(),e=o.pop();return i}function Ir(t,e){var n,o,i,r,a,s=new Dr(t),p=+t.value&&(s.value=t.value),h=[s];for(null==e&&(e=Or);n=h.pop();)if(p&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),r=a-1;r>=0;--r)h.push(o=n.children[r]=new Dr(i[r])),o.parent=n,o.depth=n.depth+1;return s.eachBefore(Rr)}function Nr(){return Ir(this).eachBefore(kr)}function Or(t){return t.children}function kr(t){t.data=t.data.data}function Rr(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Dr(t){this.data=t,this.depth=this.height=0,this.parent=null}function Fr(t){this._=t,this.next=null}function jr(t,e){var n=e.x-t.x,o=e.y-t.y,i=t.r-e.r;return i*i+1e-6>n*n+o*o}function Kr(t,e){var n,o,i,r=null,a=t.head;switch(e.length){case 1:n=Br(e[0]);break;case 2:n=Xr(e[0],e[1]);break;case 3:n=Ur(e[0],e[1],e[2])}for(;a;)i=a._,o=a.next,n&&jr(n,i)?r=a:(r?(t.tail=r,r.next=null):t.head=t.tail=null,e.push(i),n=Kr(t,e),e.pop(),t.head?(a.next=t.head,t.head=a):(a.next=null,t.head=t.tail=a),r=t.tail,r.next=o),a=o;return t.tail=r,n}function Br(t){return{x:t.x,y:t.y,r:t.r}}function Xr(t,e){var n=t.x,o=t.y,i=t.r,r=e.x,a=e.y,s=e.r,p=r-n,h=a-o,u=s-i,l=Math.sqrt(p*p+h*h);return{x:(n+r+p/l*u)/2,y:(o+a+h/l*u)/2,r:(l+i+s)/2}}function Ur(t,e,n){var o=t.x,i=t.y,r=t.r,a=e.x,s=e.y,p=e.r,h=n.x,u=n.y,l=n.r,c=2*(o-a),f=2*(i-s),d=2*(p-r),y=o*o+i*i-r*r-a*a-s*s+p*p,v=2*(o-h),g=2*(i-u),m=2*(l-r),b=o*o+i*i-r*r-h*h-u*u+l*l,x=v*f-c*g,_=(f*b-g*y)/x-o,w=(g*d-f*m)/x,P=(v*y-c*b)/x-i,S=(c*m-v*d)/x,C=w*w+S*S-1,M=2*(_*w+P*S+r),T=_*_+P*P-r*r,A=(-M-Math.sqrt(M*M-4*C*T))/(2*C);return{x:_+w*A+o,y:P+S*A+i,r:A}}function Yr(t,e,n){var o=t.x,i=t.y,r=e.r+n.r,a=t.r+n.r,s=e.x-o,p=e.y-i,h=s*s+p*p;if(h){var u=.5+((a*=a)-(r*=r))/(2*h),l=Math.sqrt(Math.max(0,2*r*(a+h)-(a-=h)*a-r*r))/(2*h);n.x=o+u*s+l*p,n.y=i+u*p-l*s}else n.x=o+a,n.y=i}function Gr(t,e){var n=e.x-t.x,o=e.y-t.y,i=t.r+e.r;return i*i-1e-6>n*n+o*o}function Wr(t,e,n){var o=t._,i=t.next._,r=o.r+i.r,a=(o.x*i.r+i.x*o.r)/r-e,s=(o.y*i.r+i.y*o.r)/r-n;return a*a+s*s}function zr(t){this._=t,this.next=null,this.previous=null}function Hr(t){if(!(i=t.length))return 0;var e,n,o,i;if(e=t[0],e.x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;Yr(n,e,o=t[2]);var r,a,s,p,h,u,l,c=e.r*e.r,f=n.r*n.r,d=o.r*o.r,y=c+f+d,v=c*e.x+f*n.x+d*o.x,g=c*e.y+f*n.y+d*o.y;e=new zr(e),n=new zr(n),o=new zr(o),e.next=o.previous=n,n.next=e.previous=o,o.next=n.previous=e;t:for(s=3;s<i;++s){Yr(e._,n._,o=t[s]),o=new zr(o),p=n.next,h=e.previous,u=n._.r,l=e._.r;do if(u<=l){if(Gr(p._,o._)){n=p,e.next=n,n.previous=e,--s;continue t}u+=p._.r,p=p.next}else{if(Gr(h._,o._)){e=h,e.next=n,n.previous=e,--s;continue t}l+=h._.r,h=h.previous}while(p!==h.next);for(o.previous=e,o.next=n,e.next=n.previous=n=o,y+=d=o._.r*o._.r,v+=d*o._.x,g+=d*o._.y,c=Wr(e,r=v/y,a=g/y);(o=o.next)!==n;)(d=Wr(o,r,a))<c&&(e=o,c=d);n=e.next}for(e=[n._],o=n;(o=o.next)!==n;)e.push(o._);for(o=sb(e),s=0;s<i;++s)e=t[s],e.x-=o.x,e.y-=o.y;return o.r}function qr(t){return null==t?null:Vr(t)}function Vr(t){if("function"!=typeof t)throw new Error;return t}function $r(){return 0}function Zr(t){return Math.sqrt(t.value)}function Jr(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Qr(t,e){return function(n){if(o=n.children){var o,i,r,a=o.length,s=t(n)*e||0;
if(s)for(i=0;i<a;++i)o[i].r+=s;if(r=Hr(o),s)for(i=0;i<a;++i)o[i].r-=s;n.r=r+s}}}function ta(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function ea(t){return t.id}function na(t){return t.parentId}function oa(t,e){return t.parent===e.parent?1:2}function ia(t){var e=t.children;return e?e[0]:t.t}function ra(t){var e=t.children;return e?e[e.length-1]:t.t}function aa(t,e,n){var o=n/(e.i-t.i);e.c-=o,e.s+=n,t.c+=o,e.z+=n,e.m+=n}function sa(t){for(var e,n=0,o=0,i=t.children,r=i.length;--r>=0;)e=i[r],e.z+=n,e.m+=n,n+=e.s+(o+=e.c)}function pa(t,e,n){return t.a.parent===e.parent?t.a:n}function ha(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function ua(t){for(var e,n,o,i,r,a=new ha(t,0),s=[a];e=s.pop();)if(o=e._.children)for(e.children=new Array(r=o.length),i=r-1;i>=0;--i)s.push(n=e.children[i]=new ha(o[i],i)),n.parent=e;return(a.parent=new ha(null,0)).children=[a],a}function la(t,e,n,o,i,r){for(var a,s,p,h,u,l,c,f,d,y,v,g=[],m=e.children,b=0,x=0,_=m.length,w=e.value;b<_;){p=i-n,h=r-o;do u=m[x++].value;while(!u&&x<_);for(l=c=u,y=Math.max(h/p,p/h)/(w*t),v=u*u*y,d=Math.max(c/v,v/l);x<_;++x){if(u+=s=m[x].value,s<l&&(l=s),s>c&&(c=s),v=u*u*y,f=Math.max(c/v,v/l),f>d){u-=s;break}d=f}g.push(a={value:u,dice:p<h,children:m.slice(b,x)}),a.dice?cb(a,n,o,i,w?o+=h*u/w:r):bb(a,n,o,w?n+=p*u/w:i,r),w-=u,b=x}return g}function ca(t,e){return t[0]-e[0]||t[1]-e[1]}function fa(t){for(var e=t.length,n=[0,1],o=2,i=2;i<e;++i){for(;o>1&&Ab(t[n[o-2]],t[n[o-1]],t[i])<=0;)--o;n[o++]=i}return n.slice(0,o)}function da(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function ya(t){if(!t._start)try{va(t)}catch(e){if(t._tasks[t._ended+t._active-1])ma(t,e);else if(!t._data)throw e}}function va(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],o=n.length-1,i=n[o];n[o]=ga(t,e),--t._waiting,++t._active,n=i.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||Ob)}}function ga(t,e){return function(n,o){t._tasks[e]&&(--t._active,++t._ended,t._tasks[e]=null,null==t._error&&(null!=n?ma(t,n):(t._data[e]=o,t._waiting?ya(t):ba(t))))}}function ma(t,e){var n,o=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;--o>=0;)if((n=t._tasks[o])&&(t._tasks[o]=null,n.abort))try{n.abort()}catch(t){}t._active=NaN,ba(t)}function ba(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function xa(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new da(t)}function _a(t){return function(e,n){t(null==e?n:null)}}function wa(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Pa(t,e){return function(n){return t(n.responseText,e)}}function Sa(t){function e(e){var r=e+"",a=n.get(r);if(!a){if(i!==Qb)return i;n.set(r,a=o.push(e))}return t[(a-1)%t.length]}var n=Yn(),o=[],i=Qb;return t=null==t?[]:Jb.call(t),e.domain=function(t){if(!arguments.length)return o.slice();o=[],n=Yn();for(var i,r,a=-1,s=t.length;++a<s;)n.has(r=(i=t[a])+"")||n.set(r,o.push(i));return e},e.range=function(n){return arguments.length?(t=Jb.call(n),e):t.slice()},e.unknown=function(t){return arguments.length?(i=t,e):i},e.copy=function(){return Sa().domain(o).range(t).unknown(i)},e}function Ca(){function t(){var t=i().length,o=a[1]<a[0],l=a[o-0],c=a[1-o];e=(c-l)/Math.max(1,t-p+2*h),s&&(e=Math.floor(e)),l+=(c-l-e*(t-p))*u,n=e*(1-p),s&&(l=Math.round(l),n=Math.round(n));var f=pu(t).map(function(t){return l+e*t});return r(o?f.reverse():f)}var e,n,o=Sa().unknown(void 0),i=o.domain,r=o.range,a=[0,1],s=!1,p=0,h=0,u=.5;return delete o.unknown,o.domain=function(e){return arguments.length?(i(e),t()):i()},o.range=function(e){return arguments.length?(a=[+e[0],+e[1]],t()):a.slice()},o.rangeRound=function(e){return a=[+e[0],+e[1]],s=!0,t()},o.bandwidth=function(){return n},o.step=function(){return e},o.round=function(e){return arguments.length?(s=!!e,t()):s},o.padding=function(e){return arguments.length?(p=h=Math.max(0,Math.min(1,e)),t()):p},o.paddingInner=function(e){return arguments.length?(p=Math.max(0,Math.min(1,e)),t()):p},o.paddingOuter=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),t()):h},o.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),t()):u},o.copy=function(){return Ca().domain(i()).range(a).round(s).paddingInner(p).paddingOuter(h).align(u)},t()}function Ma(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Ma(e())},t}function Ta(){return Ma(Ca().paddingInner(1))}function Aa(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:tx(e)}function Ea(t){return function(e,n){var o=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:o(t)}}}function La(t){return function(e,n){var o=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:o(t)}}}function Ia(t,e,n,o){var i=t[0],r=t[1],a=e[0],s=e[1];return r<i?(i=n(r,i),a=o(s,a)):(i=n(i,r),a=o(a,s)),function(t){return a(i(t))}}function Na(t,e,n,o){var i=Math.min(t.length,e.length)-1,r=new Array(i),a=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)r[s]=n(t[s],t[s+1]),a[s]=o(e[s],e[s+1]);return function(e){var n=qh(t,e,1,i)-1;return a[n](r[n](e))}}function Oa(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function ka(t,e){function n(){return i=Math.min(s.length,p.length)>2?Na:Ia,r=a=null,o}function o(e){return(r||(r=i(s,p,u?Ea(t):t,h)))(+e)}var i,r,a,s=nx,p=nx,h=Kc,u=!1;return o.invert=function(t){return(a||(a=i(p,s,Aa,u?La(e):e)))(+t)},o.domain=function(t){return arguments.length?(s=Zb.call(t,ex),n()):s.slice()},o.range=function(t){return arguments.length?(p=Jb.call(t),n()):p.slice()},o.rangeRound=function(t){return p=Jb.call(t),h=Bc,n()},o.clamp=function(t){return arguments.length?(u=!!t,n()):u},o.interpolate=function(t){return arguments.length?(h=t,n()):h},n()}function Ra(t){var e=t.domain;return t.ticks=function(t){var n=e();return cu(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return ox(e(),t,n)},t.nice=function(n){null==n&&(n=10);var i,r=e(),a=0,s=r.length-1,p=r[a],h=r[s];return h<p&&(i=p,p=h,h=i,i=a,a=s,s=i),i=o(p,h,n),i>0?(p=Math.floor(p/i)*i,h=Math.ceil(h/i)*i,i=o(p,h,n)):i<0&&(p=Math.ceil(p*i)/i,h=Math.floor(h*i)/i,i=o(p,h,n)),i>0?(r[a]=Math.floor(p/i)*i,r[s]=Math.ceil(h/i)*i,e(r)):i<0&&(r[a]=Math.ceil(p*i)/i,r[s]=Math.floor(h*i)/i,e(r)),t},t}function Da(){var t=ka(Aa,kc);return t.copy=function(){return Oa(t,Da())},Ra(t)}function Fa(){function t(t){return+t}var e=[0,1];return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=Zb.call(n,ex),t):e.slice()},t.copy=function(){return Fa().domain(e)},Ra(t)}function ja(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:tx(e)}function Ka(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function Ba(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Xa(t){return 10===t?Ba:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function Ua(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function Ya(t){return function(e){return-t(-e)}}function Ga(){function e(){return r=Ua(i),a=Xa(i),o()[0]<0&&(r=Ya(r),a=Ya(a)),n}var n=ka(ja,Ka).domain([1,10]),o=n.domain,i=10,r=Ua(10),a=Xa(10);return n.base=function(t){return arguments.length?(i=+t,e()):i},n.domain=function(t){return arguments.length?(o(t),e()):o()},n.ticks=function(t){var e,n=o(),s=n[0],p=n[n.length-1];(e=p<s)&&(c=s,s=p,p=c);var h,u,l,c=r(s),f=r(p),d=null==t?10:+t,y=[];if(!(i%1)&&f-c<d){if(c=Math.round(c)-1,f=Math.round(f)+1,s>0){for(;c<f;++c)for(u=1,h=a(c);u<i;++u)if(l=h*u,!(l<s)){if(l>p)break;y.push(l)}}else for(;c<f;++c)for(u=i-1,h=a(c);u>=1;--u)if(l=h*u,!(l<s)){if(l>p)break;y.push(l)}}else y=cu(c,f,Math.min(f-c,d)).map(a);return e?y.reverse():y},n.tickFormat=function(e,o){if(null==o&&(o=10===i?".0e":","),"function"!=typeof o&&(o=t.format(o)),e===1/0)return o;null==e&&(e=10);var s=Math.max(1,i*e/n.ticks().length);return function(t){var e=t/a(Math.round(r(t)));return e*i<i-.5&&(e*=i),e<=s?o(t):""}},n.nice=function(){return o(ix(o(),{floor:function(t){return a(Math.floor(r(t)))},ceil:function(t){return a(Math.ceil(r(t)))}}))},n.copy=function(){return Oa(n,Ga().base(i))},n}function Wa(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function za(){function t(t,e){return(e=Wa(e,n)-(t=Wa(t,n)))?function(o){return(Wa(o,n)-t)/e}:tx(e)}function e(t,e){return e=Wa(e,n)-(t=Wa(t,n)),function(o){return Wa(t+e*o,1/n)}}var n=1,o=ka(t,e),i=o.domain;return o.exponent=function(t){return arguments.length?(n=+t,i(i())):n},o.copy=function(){return Oa(o,za().exponent(n))},Ra(o)}function Ha(){return za().exponent(.5)}function qa(){function t(){var t=0,r=Math.max(1,o.length);for(i=new Array(r-1);++t<r;)i[t-1]=yu(n,t/r);return e}function e(t){if(!isNaN(t=+t))return o[qh(i,t)]}var n=[],o=[],i=[];return e.invertExtent=function(t){var e=o.indexOf(t);return e<0?[NaN,NaN]:[e>0?i[e-1]:n[0],e<i.length?i[e]:n[n.length-1]]},e.domain=function(e){if(!arguments.length)return n.slice();n=[];for(var o,i=0,r=e.length;i<r;++i)o=e[i],null==o||isNaN(o=+o)||n.push(o);return n.sort(Wh),t()},e.range=function(e){return arguments.length?(o=Jb.call(e),t()):o.slice()},e.quantiles=function(){return i.slice()},e.copy=function(){return qa().domain(n).range(o)},e}function Va(){function t(t){if(t<=t)return a[qh(r,t,0,i)]}function e(){var e=-1;for(r=new Array(i);++e<i;)r[e]=((e+1)*o-(e-i)*n)/(i+1);return t}var n=0,o=1,i=1,r=[.5],a=[0,1];return t.domain=function(t){return arguments.length?(n=+t[0],o=+t[1],e()):[n,o]},t.range=function(t){return arguments.length?(i=(a=Jb.call(t)).length-1,e()):a.slice()},t.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,r[0]]:e>=i?[r[i-1],o]:[r[e-1],r[e]]},t.copy=function(){return Va().domain([n,o]).range(a)},Ra(t)}function $a(){function t(t){if(t<=t)return n[qh(e,t,0,o)]}var e=[.5],n=[0,1],o=1;return t.domain=function(i){return arguments.length?(e=Jb.call(i),o=Math.min(e.length,n.length-1),t):e.slice()},t.range=function(i){return arguments.length?(n=Jb.call(i),o=Math.min(e.length,n.length-1),t):n.slice()},t.invertExtent=function(t){var o=n.indexOf(t);return[e[o-1],e[o]]},t.copy=function(){return $a().domain(e).range(n)},t}function Za(t,e,n,o){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,o,r){var a=[];if(n=i.ceil(n),r=null==r?1:Math.floor(r),!(n<o&&r>0))return a;do a.push(new Date(+n));while(e(n,r),t(n),n<o);return a},i.filter=function(n){return Za(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,o){if(t>=t)for(;--o>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,o){return rx.setTime(+e),ax.setTime(+o),t(rx),t(ax),Math.floor(n(rx,ax))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(o?function(e){return o(e)%t===0}:function(e){return i.count(0,e)%t===0}):i:null}),i}function Ja(t){return Za(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ux)/fx})}function Qa(t){return Za(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/fx})}function ts(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function es(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ns(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function os(t){function e(t,e){return function(n){var o,i,r,a=[],s=-1,p=0,h=t.length;for(n instanceof Date||(n=new Date(+n));++s<h;)37===t.charCodeAt(s)&&(a.push(t.slice(p,s)),null!=(i=l_[o=t.charAt(++s)])?o=t.charAt(++s):i="e"===o?" ":"0",(r=e[o])&&(o=r(n,i)),a.push(o),p=s+1);return a.push(t.slice(p,s)),a.join("")}}function n(t,e){return function(n){var i=ns(1900),r=o(i,t,n+="",0);if(r!=n.length)return null;if("p"in i&&(i.H=i.H%12+12*i.p),"W"in i||"U"in i){"w"in i||(i.w="W"in i?1:0);var a="Z"in i?es(ns(i.y)).getUTCDay():e(ns(i.y)).getDay();i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7}return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,es(i)):e(i)}}function o(t,e,n,o){for(var i,r,a=0,s=e.length,p=n.length;a<s;){if(o>=p)return-1;if(i=e.charCodeAt(a++),37===i){if(i=e.charAt(a++),r=U[i in l_?e.charAt(a++):i],!r||(o=r(t,n,o))<0)return-1}else if(i!=n.charCodeAt(o++))return-1}return o}function i(t,e,n){var o=L.exec(e.slice(n));return o?(t.p=I[o[0].toLowerCase()],n+o[0].length):-1}function r(t,e,n){var o=k.exec(e.slice(n));return o?(t.w=R[o[0].toLowerCase()],n+o[0].length):-1}function a(t,e,n){var o=N.exec(e.slice(n));return o?(t.w=O[o[0].toLowerCase()],n+o[0].length):-1}function s(t,e,n){var o=j.exec(e.slice(n));return o?(t.m=K[o[0].toLowerCase()],n+o[0].length):-1}function p(t,e,n){var o=D.exec(e.slice(n));return o?(t.m=F[o[0].toLowerCase()],n+o[0].length):-1}function h(t,e,n){return o(t,w,e,n)}function u(t,e,n){return o(t,P,e,n)}function l(t,e,n){return o(t,S,e,n)}function c(t){return T[t.getDay()]}function f(t){return M[t.getDay()]}function d(t){return E[t.getMonth()]}function y(t){return A[t.getMonth()]}function v(t){return C[+(t.getHours()>=12)]}function g(t){return T[t.getUTCDay()]}function m(t){return M[t.getUTCDay()]}function b(t){return E[t.getUTCMonth()]}function x(t){return A[t.getUTCMonth()]}function _(t){return C[+(t.getUTCHours()>=12)]}var w=t.dateTime,P=t.date,S=t.time,C=t.periods,M=t.days,T=t.shortDays,A=t.months,E=t.shortMonths,L=as(C),I=ss(C),N=as(M),O=ss(M),k=as(T),R=ss(T),D=as(A),F=ss(A),j=as(E),K=ss(E),B={a:c,A:f,b:d,B:y,c:null,d:ws,e:ws,H:Ps,I:Ss,j:Cs,L:Ms,m:Ts,M:As,p:v,S:Es,U:Ls,w:Is,W:Ns,x:null,X:null,y:Os,Y:ks,Z:Rs,"%":$s},X={a:g,A:m,b:b,B:x,c:null,d:Ds,e:Ds,H:Fs,I:js,j:Ks,L:Bs,m:Xs,M:Us,p:_,S:Ys,U:Gs,w:Ws,W:zs,x:null,X:null,y:Hs,Y:qs,Z:Vs,"%":$s},U={a:r,A:a,b:s,B:p,c:h,d:ys,e:ys,H:gs,I:gs,j:vs,L:xs,m:ds,M:ms,p:i,S:bs,U:hs,w:ps,W:us,x:u,X:l,y:cs,Y:ls,Z:fs,"%":_s};return B.x=e(P,B),B.X=e(S,B),B.c=e(w,B),X.x=e(P,X),X.X=e(S,X),X.c=e(w,X),{format:function(t){var n=e(t+="",B);return n.toString=function(){return t},n},parse:function(t){var e=n(t+="",ts);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",X);return n.toString=function(){return t},n},utcParse:function(t){var e=n(t,es);return e.toString=function(){return t},e}}}function is(t,e,n){var o=t<0?"-":"",i=(o?-t:t)+"",r=i.length;return o+(r<n?new Array(n-r+1).join(e)+i:i)}function rs(t){return t.replace(d_,"\\$&")}function as(t){return new RegExp("^(?:"+t.map(rs).join("|")+")","i")}function ss(t){for(var e={},n=-1,o=t.length;++n<o;)e[t[n].toLowerCase()]=n;return e}function ps(t,e,n){var o=c_.exec(e.slice(n,n+1));return o?(t.w=+o[0],n+o[0].length):-1}function hs(t,e,n){var o=c_.exec(e.slice(n));return o?(t.U=+o[0],n+o[0].length):-1}function us(t,e,n){var o=c_.exec(e.slice(n));return o?(t.W=+o[0],n+o[0].length):-1}function ls(t,e,n){var o=c_.exec(e.slice(n,n+4));return o?(t.y=+o[0],n+o[0].length):-1}function cs(t,e,n){var o=c_.exec(e.slice(n,n+2));return o?(t.y=+o[0]+(+o[0]>68?1900:2e3),n+o[0].length):-1}function fs(t,e,n){var o=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return o?(t.Z=o[1]?0:-(o[2]+(o[3]||"00")),n+o[0].length):-1}function ds(t,e,n){var o=c_.exec(e.slice(n,n+2));return o?(t.m=o[0]-1,n+o[0].length):-1}function ys(t,e,n){var o=c_.exec(e.slice(n,n+2));return o?(t.d=+o[0],n+o[0].length):-1}function vs(t,e,n){var o=c_.exec(e.slice(n,n+3));return o?(t.m=0,t.d=+o[0],n+o[0].length):-1}function gs(t,e,n){var o=c_.exec(e.slice(n,n+2));return o?(t.H=+o[0],n+o[0].length):-1}function ms(t,e,n){var o=c_.exec(e.slice(n,n+2));return o?(t.M=+o[0],n+o[0].length):-1}function bs(t,e,n){var o=c_.exec(e.slice(n,n+2));return o?(t.S=+o[0],n+o[0].length):-1}function xs(t,e,n){var o=c_.exec(e.slice(n,n+3));return o?(t.L=+o[0],n+o[0].length):-1}function _s(t,e,n){var o=f_.exec(e.slice(n,n+1));return o?n+o[0].length:-1}function ws(t,e){return is(t.getDate(),e,2)}function Ps(t,e){return is(t.getHours(),e,2)}function Ss(t,e){return is(t.getHours()%12||12,e,2)}function Cs(t,e){return is(1+xx.count(jx(t),t),e,3)}function Ms(t,e){return is(t.getMilliseconds(),e,3)}function Ts(t,e){return is(t.getMonth()+1,e,2)}function As(t,e){return is(t.getMinutes(),e,2)}function Es(t,e){return is(t.getSeconds(),e,2)}function Ls(t,e){return is(wx.count(jx(t),t),e,2)}function Is(t){return t.getDay()}function Ns(t,e){return is(Px.count(jx(t),t),e,2)}function Os(t,e){return is(t.getFullYear()%100,e,2)}function ks(t,e){return is(t.getFullYear()%1e4,e,4)}function Rs(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+is(e/60|0,"0",2)+is(e%60,"0",2)}function Ds(t,e){return is(t.getUTCDate(),e,2)}function Fs(t,e){return is(t.getUTCHours(),e,2)}function js(t,e){return is(t.getUTCHours()%12||12,e,2)}function Ks(t,e){return is(1+Gx.count(p_(t),t),e,3)}function Bs(t,e){return is(t.getUTCMilliseconds(),e,3)}function Xs(t,e){return is(t.getUTCMonth()+1,e,2)}function Us(t,e){return is(t.getUTCMinutes(),e,2)}function Ys(t,e){return is(t.getUTCSeconds(),e,2)}function Gs(t,e){return is(zx.count(p_(t),t),e,2)}function Ws(t){return t.getUTCDay()}function zs(t,e){return is(Hx.count(p_(t),t),e,2)}function Hs(t,e){return is(t.getUTCFullYear()%100,e,2)}function qs(t,e){return is(t.getUTCFullYear()%1e4,e,4)}function Vs(){return"+0000"}function $s(){return"%"}function Zs(e){return h_=os(e),t.timeFormat=h_.format,t.timeParse=h_.parse,t.utcFormat=h_.utcFormat,t.utcParse=h_.utcParse,h_}function Js(t){return t.toISOString()}function Qs(t){var e=new Date(t);return isNaN(e)?null:e}function tp(t){return new Date(t)}function ep(t){return t instanceof Date?+t:+new Date(+t)}function np(t,e,n,o,r,a,s,p,h){function u(i){return(s(i)<i?y:a(i)<i?v:r(i)<i?g:o(i)<i?m:e(i)<i?n(i)<i?b:x:t(i)<i?_:w)(i)}function l(e,n,o,r){if(null==e&&(e=10),"number"==typeof e){var a=Math.abs(o-n)/e,s=zh(function(t){return t[2]}).right(P,a);s===P.length?(r=i(n/S_,o/S_,e),e=t):s?(s=P[a/P[s-1][2]<P[s][2]/a?s-1:s],r=s[1],e=s[0]):(r=i(n,o,e),e=p)}return null==r?e:e.every(r)}var c=ka(Aa,kc),f=c.invert,d=c.domain,y=h(".%L"),v=h(":%S"),g=h("%I:%M"),m=h("%I %p"),b=h("%a %d"),x=h("%b %d"),_=h("%B"),w=h("%Y"),P=[[s,1,m_],[s,5,5*m_],[s,15,15*m_],[s,30,30*m_],[a,1,b_],[a,5,5*b_],[a,15,15*b_],[a,30,30*b_],[r,1,x_],[r,3,3*x_],[r,6,6*x_],[r,12,12*x_],[o,1,__],[o,2,2*__],[n,1,w_],[e,1,P_],[e,3,3*P_],[t,1,S_]];return c.invert=function(t){return new Date(f(t))},c.domain=function(t){return arguments.length?d(Zb.call(t,ep)):d().map(tp)},c.ticks=function(t,e){var n,o=d(),i=o[0],r=o[o.length-1],a=r<i;return a&&(n=i,i=r,r=n),n=l(t,i,r,e),n=n?n.range(i,r+1):[],a?n.reverse():n},c.tickFormat=function(t,e){return null==e?u:h(e)},c.nice=function(t,e){var n=d();return(t=l(t,n[0],n[n.length-1],e))?d(ix(n,t)):c},c.copy=function(){return Oa(c,np(t,e,n,o,r,a,s,p,h))},c}function op(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function ip(t){function e(e){var r=(e-n)/(o-n);return t(i?Math.max(0,Math.min(1,r)):r)}var n=0,o=1,i=!1;return e.domain=function(t){return arguments.length?(n=+t[0],o=+t[1],e):[n,o]},e.clamp=function(t){return arguments.length?(i=!!t,e):i},e.interpolator=function(n){return arguments.length?(t=n,e):t},e.copy=function(){return ip(t).domain([n,o]).clamp(i)},Ra(e)}function rp(t){return t>1?0:t<-1?$_:Math.acos(t)}function ap(t){return t>=1?Z_:t<=-1?-Z_:Math.asin(t)}function sp(t){return t.innerRadius}function pp(t){return t.outerRadius}function hp(t){return t.startAngle}function up(t){return t.endAngle}function lp(t){return t&&t.padAngle}function cp(t,e,n,o,i,r,a,s){var p=n-t,h=o-e,u=a-i,l=s-r,c=(u*(e-r)-l*(t-i))/(l*p-u*h);return[t+c*p,e+c*h]}function fp(t,e,n,o,i,r,a){var s=t-n,p=e-o,h=(a?r:-r)/q_(s*s+p*p),u=h*p,l=-h*s,c=t+u,f=e+l,d=n+u,y=o+l,v=(c+d)/2,g=(f+y)/2,m=d-c,b=y-f,x=m*m+b*b,_=i-r,w=c*y-d*f,P=(b<0?-1:1)*q_(W_(0,_*_*x-w*w)),S=(w*b-m*P)/x,C=(-w*m-b*P)/x,M=(w*b+m*P)/x,T=(-w*m+b*P)/x,A=S-v,E=C-g,L=M-v,I=T-g;return A*A+E*E>L*L+I*I&&(S=M,C=T),{cx:S,cy:C,x01:-u,y01:-l,x11:S*(i/_-1),y11:C*(i/_-1)}}function dp(t){this._context=t}function yp(t){return t[0]}function vp(t){return t[1]}function gp(t){this._curve=t}function mp(t){function e(e){return new gp(t(e))}return e._curve=t,e}function bp(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(mp(t)):e()._curve},t}function xp(t){return t.source}function _p(t){return t.target}function wp(t){function e(){var e,s=hw.call(arguments),p=n.apply(this,s),h=o.apply(this,s);if(a||(a=e=Dn()),t(a,+i.apply(this,(s[0]=p,s)),+r.apply(this,s),+i.apply(this,(s[0]=h,s)),+r.apply(this,s)),e)return a=null,e+""||null}var n=xp,o=_p,i=yp,r=vp,a=null;return e.source=function(t){return arguments.length?(n=t,e):n},e.target=function(t){return arguments.length?(o=t,e):o},e.x=function(t){return arguments.length?(i="function"==typeof t?t:X_(+t),e):i},e.y=function(t){return arguments.length?(r="function"==typeof t?t:X_(+t),e):r},e.context=function(t){return arguments.length?(a=null==t?null:t,e):a},e}function Pp(t,e,n,o,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+o)/2,n,e,i,o,i)}function Sp(t,e,n,o,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,o,n,o,i)}function Cp(t,e,n,o,i){var r=uw(e,n),a=uw(e,n=(n+i)/2),s=uw(o,n),p=uw(o,i);t.moveTo(r[0],r[1]),t.bezierCurveTo(a[0],a[1],s[0],s[1],p[0],p[1])}function Mp(){return wp(Pp)}function Tp(){return wp(Sp)}function Ap(){var t=wp(Cp);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}function Ep(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Lp(t){this._context=t}function Ip(t){this._context=t}function Np(t){this._context=t}function Op(t,e){this._basis=new Lp(t),this._beta=e}function kp(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Rp(t,e){this._context=t,this._k=(1-e)/6}function Dp(t,e){this._context=t,this._k=(1-e)/6}function Fp(t,e){this._context=t,this._k=(1-e)/6}function jp(t,e,n){var o=t._x1,i=t._y1,r=t._x2,a=t._y2;if(t._l01_a>V_){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,p=3*t._l01_a*(t._l01_a+t._l12_a);o=(o*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/p,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/p}if(t._l23_a>V_){var h=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);r=(r*h+t._x1*t._l23_2a-e*t._l12_2a)/u,a=(a*h+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(o,i,r,a,t._x2,t._y2)}function Kp(t,e){this._context=t,this._alpha=e}function Bp(t,e){this._context=t,this._alpha=e}function Xp(t,e){this._context=t,this._alpha=e}function Up(t){this._context=t}function Yp(t){return t<0?-1:1}function Gp(t,e,n){var o=t._x1-t._x0,i=e-t._x1,r=(t._y1-t._y0)/(o||i<0&&-0),a=(n-t._y1)/(i||o<0&&-0),s=(r*i+a*o)/(o+i);return(Yp(r)+Yp(a))*Math.min(Math.abs(r),Math.abs(a),.5*Math.abs(s))||0}function Wp(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function zp(t,e,n){var o=t._x0,i=t._y0,r=t._x1,a=t._y1,s=(r-o)/3;t._context.bezierCurveTo(o+s,i+s*e,r-s,a-s*n,r,a)}function Hp(t){this._context=t}function qp(t){this._context=new Vp(t)}function Vp(t){this._context=t}function $p(t){return new Hp(t)}function Zp(t){return new qp(t)}function Jp(t){this._context=t}function Qp(t){var e,n,o=t.length-1,i=new Array(o),r=new Array(o),a=new Array(o);for(i[0]=0,r[0]=2,a[0]=t[0]+2*t[1],e=1;e<o-1;++e)i[e]=1,r[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[o-1]=2,r[o-1]=7,a[o-1]=8*t[o-1]+t[o],e=1;e<o;++e)n=i[e]/r[e-1],r[e]-=n,a[e]-=n*a[e-1];for(i[o-1]=a[o-1]/r[o-1],e=o-2;e>=0;--e)i[e]=(a[e]-i[e+1])/r[e];for(r[o-1]=(t[o]+i[o-1])/2,e=0;e<o-1;++e)r[e]=2*t[e+1]-i[e+1];return[i,r]}function th(t,e){this._context=t,this._t=e}function eh(t){return new th(t,0)}function nh(t){return new th(t,1)}function oh(t,e){return t[e]}function ih(t){for(var e,n=0,o=-1,i=t.length;++o<i;)(e=+t[o][1])&&(n+=e);return n}function rh(t){return t[0]}function ah(t){return t[1]}function sh(){this._=null}function ph(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function hh(t,e){var n=e,o=e.R,i=n.U;i?i.L===n?i.L=o:i.R=o:t._=o,o.U=i,n.U=o,n.R=o.L,n.R&&(n.R.U=n),o.L=n}function uh(t,e){var n=e,o=e.L,i=n.U;i?i.L===n?i.L=o:i.R=o:t._=o,o.U=i,n.U=o,n.L=o.R,n.L&&(n.L.U=n),o.R=n}function lh(t){for(;t.L;)t=t.L;return t}function ch(t,e,n,o){var i=[null,null],r=sP.push(i)-1;return i.left=t,i.right=e,n&&dh(i,t,e,n),o&&dh(i,e,t,o),rP[t.index].halfedges.push(r),rP[e.index].halfedges.push(r),i}function fh(t,e,n){var o=[e,n];return o.left=t,o}function dh(t,e,n,o){t[0]||t[1]?t.left===n?t[1]=o:t[0]=o:(t[0]=o,t.left=e,t.right=n)}function yh(t,e,n,o,i){var r,a=t[0],s=t[1],p=a[0],h=a[1],u=s[0],l=s[1],c=0,f=1,d=u-p,y=l-h;if(r=e-p,d||!(r>0)){if(r/=d,d<0){if(r<c)return;r<f&&(f=r)}else if(d>0){if(r>f)return;r>c&&(c=r)}if(r=o-p,d||!(r<0)){if(r/=d,d<0){if(r>f)return;r>c&&(c=r)}else if(d>0){if(r<c)return;r<f&&(f=r)}if(r=n-h,y||!(r>0)){if(r/=y,y<0){if(r<c)return;r<f&&(f=r)}else if(y>0){if(r>f)return;r>c&&(c=r)}if(r=i-h,y||!(r<0)){if(r/=y,y<0){if(r>f)return;r>c&&(c=r)}else if(y>0){if(r<c)return;r<f&&(f=r)}return!(c>0||f<1)||(c>0&&(t[0]=[p+c*d,h+c*y]),f<1&&(t[1]=[p+f*d,h+f*y]),!0)}}}}}function vh(t,e,n,o,i){var r=t[1];if(r)return!0;var a,s,p=t[0],h=t.left,u=t.right,l=h[0],c=h[1],f=u[0],d=u[1],y=(l+f)/2,v=(c+d)/2;if(d===c){if(y<e||y>=o)return;if(l>f){if(p){if(p[1]>=i)return}else p=[y,n];r=[y,i]}else{if(p){if(p[1]<n)return}else p=[y,i];r=[y,n]}}else if(a=(l-f)/(d-c),s=v-a*y,a<-1||a>1)if(l>f){if(p){if(p[1]>=i)return}else p=[(n-s)/a,n];r=[(i-s)/a,i]}else{if(p){if(p[1]<n)return}else p=[(i-s)/a,i];r=[(n-s)/a,n]}else if(c<d){if(p){if(p[0]>=o)return}else p=[e,a*e+s];r=[o,a*o+s]}else{if(p){if(p[0]<e)return}else p=[o,a*o+s];r=[e,a*e+s]}return t[0]=p,t[1]=r,!0}function gh(t,e,n,o){for(var i,r=sP.length;r--;)vh(i=sP[r],t,e,n,o)&&yh(i,t,e,n,o)&&(Math.abs(i[0][0]-i[1][0])>uP||Math.abs(i[0][1]-i[1][1])>uP)||delete sP[r]}function mh(t){return rP[t.index]={site:t,halfedges:[]}}function bh(t,e){var n=t.site,o=e.left,i=e.right;return n===i&&(i=o,o=n),i?Math.atan2(i[1]-o[1],i[0]-o[0]):(n===o?(o=e[1],i=e[0]):(o=e[0],i=e[1]),Math.atan2(o[0]-i[0],i[1]-o[1]))}function xh(t,e){return e[+(e.left!==t.site)]}function _h(t,e){return e[+(e.left===t.site)]}function wh(){for(var t,e,n,o,i=0,r=rP.length;i<r;++i)if((t=rP[i])&&(o=(e=t.halfedges).length)){var a=new Array(o),s=new Array(o);for(n=0;n<o;++n)a[n]=n,s[n]=bh(t,sP[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<o;++n)s[n]=e[a[n]];for(n=0;n<o;++n)e[n]=s[n]}}function Ph(t,e,n,o){var i,r,a,s,p,h,u,l,c,f,d,y,v=rP.length,g=!0;for(i=0;i<v;++i)if(r=rP[i]){for(a=r.site,p=r.halfedges,s=p.length;s--;)sP[p[s]]||p.splice(s,1);for(s=0,h=p.length;s<h;)f=_h(r,sP[p[s]]),d=f[0],y=f[1],u=xh(r,sP[p[++s%h]]),l=u[0],c=u[1],(Math.abs(d-l)>uP||Math.abs(y-c)>uP)&&(p.splice(s,0,sP.push(fh(a,f,Math.abs(d-t)<uP&&o-y>uP?[t,Math.abs(l-t)<uP?c:o]:Math.abs(y-o)<uP&&n-d>uP?[Math.abs(c-o)<uP?l:n,o]:Math.abs(d-n)<uP&&y-e>uP?[n,Math.abs(l-n)<uP?c:e]:Math.abs(y-e)<uP&&d-t>uP?[Math.abs(c-e)<uP?l:t,e]:null))-1),++h);h&&(g=!1)}if(g){var m,b,x,_=1/0;for(i=0,g=null;i<v;++i)(r=rP[i])&&(a=r.site,m=a[0]-t,b=a[1]-e,x=m*m+b*b,x<_&&(_=x,g=r));if(g){var w=[t,e],P=[t,o],S=[n,o],C=[n,e];g.halfedges.push(sP.push(fh(a=g.site,w,P))-1,sP.push(fh(a,P,S))-1,sP.push(fh(a,S,C))-1,sP.push(fh(a,C,w))-1)}}for(i=0;i<v;++i)(r=rP[i])&&(r.halfedges.length||delete rP[i])}function Sh(){ph(this),this.x=this.y=this.arc=this.site=this.cy=null}function Ch(t){var e=t.P,n=t.N;if(e&&n){var o=e.site,i=t.site,r=n.site;if(o!==r){var a=i[0],s=i[1],p=o[0]-a,h=o[1]-s,u=r[0]-a,l=r[1]-s,c=2*(p*l-h*u);if(!(c>=-lP)){var f=p*p+h*h,d=u*u+l*l,y=(l*f-h*d)/c,v=(p*d-u*f)/c,g=pP.pop()||new Sh;g.arc=t,g.site=i,g.x=y+a,g.y=(g.cy=v+s)+Math.sqrt(y*y+v*v),t.circle=g;for(var m=null,b=aP._;b;)if(g.y<b.y||g.y===b.y&&g.x<=b.x){if(!b.L){m=b.P;break}b=b.L}else{if(!b.R){m=b;break}b=b.R}aP.insert(m,g),m||(oP=g)}}}}function Mh(t){var e=t.circle;e&&(e.P||(oP=e.N),aP.remove(e),pP.push(e),ph(e),t.circle=null)}function Th(){ph(this),this.edge=this.site=this.circle=null}function Ah(t){var e=hP.pop()||new Th;return e.site=t,e}function Eh(t){Mh(t),iP.remove(t),hP.push(t),ph(t)}function Lh(t){var e=t.circle,n=e.x,o=e.cy,i=[n,o],r=t.P,a=t.N,s=[t];Eh(t);for(var p=r;p.circle&&Math.abs(n-p.circle.x)<uP&&Math.abs(o-p.circle.cy)<uP;)r=p.P,s.unshift(p),Eh(p),p=r;s.unshift(p),Mh(p);for(var h=a;h.circle&&Math.abs(n-h.circle.x)<uP&&Math.abs(o-h.circle.cy)<uP;)a=h.N,s.push(h),Eh(h),h=a;s.push(h),Mh(h);var u,l=s.length;for(u=1;u<l;++u)h=s[u],p=s[u-1],dh(h.edge,p.site,h.site,i);p=s[0],h=s[l-1],h.edge=ch(p.site,h.site,null,i),Ch(p),Ch(h)}function Ih(t){for(var e,n,o,i,r=t[0],a=t[1],s=iP._;s;)if(o=Nh(s,a)-r,o>uP)s=s.L;else{if(i=r-Oh(s,a),!(i>uP)){o>-uP?(e=s.P,n=s):i>-uP?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}mh(t);var p=Ah(t);if(iP.insert(e,p),e||n){if(e===n)return Mh(e),n=Ah(e.site),iP.insert(p,n),p.edge=n.edge=ch(e.site,p.site),Ch(e),void Ch(n);if(!n)return void(p.edge=ch(e.site,p.site));Mh(e),Mh(n);var h=e.site,u=h[0],l=h[1],c=t[0]-u,f=t[1]-l,d=n.site,y=d[0]-u,v=d[1]-l,g=2*(c*v-f*y),m=c*c+f*f,b=y*y+v*v,x=[(v*m-f*b)/g+u,(c*b-y*m)/g+l];dh(n.edge,h,d,x),p.edge=ch(h,t,null,x),n.edge=ch(t,d,null,x),Ch(e),Ch(n)}}function Nh(t,e){var n=t.site,o=n[0],i=n[1],r=i-e;if(!r)return o;var a=t.P;if(!a)return-(1/0);n=a.site;var s=n[0],p=n[1],h=p-e;if(!h)return s;var u=s-o,l=1/r-1/h,c=u/h;return l?(-c+Math.sqrt(c*c-2*l*(u*u/(-2*h)-p+h/2+i-r/2)))/l+o:(o+s)/2}function Oh(t,e){var n=t.N;if(n)return Nh(n,e);var o=t.site;return o[1]===e?o[0]:1/0}function kh(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function Rh(t,e){return e[1]-t[1]||e[0]-t[0]}function Dh(t,e){var n,o,i,r=t.sort(Rh).pop();for(sP=[],rP=new Array(t.length),iP=new sh,aP=new sh;;)if(i=oP,r&&(!i||r[1]<i.y||r[1]===i.y&&r[0]<i.x))r[0]===n&&r[1]===o||(Ih(r),n=r[0],o=r[1]),r=t.pop();else{if(!i)break;Lh(i.arc)}if(wh(),e){var a=+e[0][0],s=+e[0][1],p=+e[1][0],h=+e[1][1];gh(a,s,p,h),Ph(a,s,p,h)}this.edges=sP,this.cells=rP,iP=aP=sP=rP=null}function Fh(t,e,n){this.target=t,this.type=e,this.transform=n}function jh(t,e,n){this.k=t,this.x=e,this.y=n}function Kh(t){return t.__zoom||dP}function Bh(){t.event.stopImmediatePropagation()}function Xh(){return!t.event.button}function Uh(){var t,e,n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,t=n.width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function Yh(){return this.__zoom||dP}var Gh="4.9.1",Wh=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},zh=function(t){return 1===t.length&&(t=e(t)),{left:function(e,n,o,i){for(null==o&&(o=0),null==i&&(i=e.length);o<i;){var r=o+i>>>1;t(e[r],n)<0?o=r+1:i=r}return o},right:function(e,n,o,i){for(null==o&&(o=0),null==i&&(i=e.length);o<i;){var r=o+i>>>1;t(e[r],n)>0?i=r:o=r+1}return o}}},Hh=zh(Wh),qh=Hh.right,Vh=Hh.left,$h=function(t,e){null==e&&(e=n);for(var o=0,i=t.length-1,r=t[0],a=new Array(i<0?0:i);o<i;)a[o]=e(r,r=t[++o]);return a},Zh=function(t,e,o){var i,r,a,s,p=t.length,h=e.length,u=new Array(p*h);for(null==o&&(o=n),i=a=0;i<p;++i)for(s=t[i],r=0;r<h;++r,++a)u[a]=o(s,e[r]);return u},Jh=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},Qh=function(t){return null===t?NaN:+t},tu=function(t,e){var n,o,i=t.length,r=0,a=-1,s=0,p=0;if(null==e)for(;++a<i;)isNaN(n=Qh(t[a]))||(o=n-s,s+=o/++r,p+=o*(n-s));else for(;++a<i;)isNaN(n=Qh(e(t[a],a,t)))||(o=n-s,s+=o/++r,p+=o*(n-s));if(r>1)return p/(r-1)},eu=function(t,e){var n=tu(t,e);return n?Math.sqrt(n):n},nu=function(t,e){var n,o,i,r=t.length,a=-1;if(null==e){for(;++a<r;)if(null!=(n=t[a])&&n>=n)for(o=i=n;++a<r;)null!=(n=t[a])&&(o>n&&(o=n),
i<n&&(i=n))}else for(;++a<r;)if(null!=(n=e(t[a],a,t))&&n>=n)for(o=i=n;++a<r;)null!=(n=e(t[a],a,t))&&(o>n&&(o=n),i<n&&(i=n));return[o,i]},ou=Array.prototype,iu=ou.slice,ru=ou.map,au=function(t){return function(){return t}},su=function(t){return t},pu=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var o=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),r=new Array(i);++o<i;)r[o]=t+o*n;return r},hu=Math.sqrt(50),uu=Math.sqrt(10),lu=Math.sqrt(2),cu=function(t,e,n){var i,r,a,s=e<t,p=-1;if(s&&(i=t,t=e,e=i),0===(a=o(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),r=new Array(i=Math.ceil(e-t+1));++p<i;)r[p]=(t+p)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),r=new Array(i=Math.ceil(t-e+1));++p<i;)r[p]=(t-p)/a;return s&&r.reverse(),r},fu=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},du=function(){function t(t){var r,a,s=t.length,p=new Array(s);for(r=0;r<s;++r)p[r]=e(t[r],r,t);var h=n(p),u=h[0],l=h[1],c=o(p,u,l);Array.isArray(c)||(c=i(u,l,c),c=pu(Math.ceil(u/c)*c,Math.floor(l/c)*c,c));for(var f=c.length;c[0]<=u;)c.shift(),--f;for(;c[f-1]>l;)c.pop(),--f;var d,y=new Array(f+1);for(r=0;r<=f;++r)d=y[r]=[],d.x0=r>0?c[r-1]:u,d.x1=r<f?c[r]:l;for(r=0;r<s;++r)a=p[r],u<=a&&a<=l&&y[qh(c,a,0,f)].push(t[r]);return y}var e=su,n=nu,o=fu;return t.value=function(n){return arguments.length?(e="function"==typeof n?n:au(n),t):e},t.domain=function(e){return arguments.length?(n="function"==typeof e?e:au([e[0],e[1]]),t):n},t.thresholds=function(e){return arguments.length?(o="function"==typeof e?e:au(Array.isArray(e)?iu.call(e):e),t):o},t},yu=function(t,e,n){if(null==n&&(n=Qh),o=t.length){if((e=+e)<=0||o<2)return+n(t[0],0,t);if(e>=1)return+n(t[o-1],o-1,t);var o,i=(o-1)*e,r=Math.floor(i),a=+n(t[r],r,t),s=+n(t[r+1],r+1,t);return a+(s-a)*(i-r)}},vu=function(t,e,n){return t=ru.call(t,Qh).sort(Wh),Math.ceil((n-e)/(2*(yu(t,.75)-yu(t,.25))*Math.pow(t.length,-1/3)))},gu=function(t,e,n){return Math.ceil((n-e)/(3.5*eu(t)*Math.pow(t.length,-1/3)))},mu=function(t,e){var n,o,i=t.length,r=-1;if(null==e){for(;++r<i;)if(null!=(n=t[r])&&n>=n)for(o=n;++r<i;)null!=(n=t[r])&&n>o&&(o=n)}else for(;++r<i;)if(null!=(n=e(t[r],r,t))&&n>=n)for(o=n;++r<i;)null!=(n=e(t[r],r,t))&&n>o&&(o=n);return o},bu=function(t,e){var n,o=t.length,i=o,r=-1,a=0;if(null==e)for(;++r<o;)isNaN(n=Qh(t[r]))?--i:a+=n;else for(;++r<o;)isNaN(n=Qh(e(t[r],r,t)))?--i:a+=n;if(i)return a/i},xu=function(t,e){var n,o=t.length,i=-1,r=[];if(null==e)for(;++i<o;)isNaN(n=Qh(t[i]))||r.push(n);else for(;++i<o;)isNaN(n=Qh(e(t[i],i,t)))||r.push(n);return yu(r.sort(Wh),.5)},_u=function(t){for(var e,n,o,i=t.length,r=-1,a=0;++r<i;)a+=t[r].length;for(n=new Array(a);--i>=0;)for(o=t[i],e=o.length;--e>=0;)n[--a]=o[e];return n},wu=function(t,e){var n,o,i=t.length,r=-1;if(null==e){for(;++r<i;)if(null!=(n=t[r])&&n>=n)for(o=n;++r<i;)null!=(n=t[r])&&o>n&&(o=n)}else for(;++r<i;)if(null!=(n=e(t[r],r,t))&&n>=n)for(o=n;++r<i;)null!=(n=e(t[r],r,t))&&o>n&&(o=n);return o},Pu=function(t,e){for(var n=e.length,o=new Array(n);n--;)o[n]=t[e[n]];return o},Su=function(t,e){if(n=t.length){var n,o,i=0,r=0,a=t[r];for(null==e&&(e=Wh);++i<n;)(e(o=t[i],a)<0||0!==e(a,a))&&(a=o,r=i);return 0===e(a,a)?r:void 0}},Cu=function(t,e,n){for(var o,i,r=(null==n?t.length:n)-(e=null==e?0:+e);r;)i=Math.random()*r--|0,o=t[r+e],t[r+e]=t[i+e],t[i+e]=o;return t},Mu=function(t,e){var n,o=t.length,i=-1,r=0;if(null==e)for(;++i<o;)(n=+t[i])&&(r+=n);else for(;++i<o;)(n=+e(t[i],i,t))&&(r+=n);return r},Tu=function(t){if(!(i=t.length))return[];for(var e=-1,n=wu(t,r),o=new Array(n);++e<n;)for(var i,a=-1,s=o[e]=new Array(i);++a<i;)s[a]=t[a][e];return o},Au=function(){return Tu(arguments)},Eu=Array.prototype.slice,Lu=function(t){return t},Iu=1,Nu=2,Ou=3,ku=4,Ru=1e-6,Du={value:function(){}};v.prototype=y.prototype={constructor:v,on:function(t,e){var n,o=this._,i=g(t+"",o),r=-1,a=i.length;{if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++r<a;)if(n=(t=i[r]).type)o[n]=b(o[n],t.name,e);else if(null==e)for(n in o)o[n]=b(o[n],t.name,null);return this}for(;++r<a;)if((n=(t=i[r]).type)&&(n=m(o[n],t.name)))return n}},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new v(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,o,i=new Array(n),r=0;r<n;++r)i[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,n=o.length;r<n;++r)o[r].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)}};var Fu="http://www.w3.org/1999/xhtml",ju={svg:"http://www.w3.org/2000/svg",xhtml:Fu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ku=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),ju.hasOwnProperty(e)?{space:ju[e],local:t}:t},Bu=function(t){var e=Ku(t);return(e.local?_:x)(e)},Xu=0;P.prototype=w.prototype={constructor:P,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Uu=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Yu=document.documentElement;if(!Yu.matches){var Gu=Yu.webkitMatchesSelector||Yu.msMatchesSelector||Yu.mozMatchesSelector||Yu.oMatchesSelector;Uu=function(t){return function(){return Gu.call(this,t)}}}}var Wu=Uu,zu={};if(t.event=null,"undefined"!=typeof document){var Hu=document.documentElement;"onmouseenter"in Hu||(zu={mouseenter:"mouseover",mouseleave:"mouseout"})}var qu=function(t,e,n){var o,i,r=M(t+""),a=r.length;{if(!(arguments.length<2)){for(s=e?A:T,null==n&&(n=!1),o=0;o<a;++o)this.each(s(r[o],e,n));return this}var s=this.node().__on;if(s)for(var p,h=0,u=s.length;h<u;++h)for(o=0,p=s[h];o<a;++o)if((i=r[o]).type===p.type&&i.name===p.name)return p.value}},Vu=function(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n},$u=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},Zu=function(t){var e=Vu();return e.changedTouches&&(e=e.changedTouches[0]),$u(t,e)},Ju=function(t){return null==t?L:function(){return this.querySelector(t)}},Qu=function(t){"function"!=typeof t&&(t=Ju(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r,a,s=e[i],p=s.length,h=o[i]=new Array(p),u=0;u<p;++u)(r=s[u])&&(a=t.call(r,r.__data__,u,s))&&("__data__"in r&&(a.__data__=r.__data__),h[u]=a);return new vt(o,this._parents)},tl=function(t){return null==t?I:function(){return this.querySelectorAll(t)}},el=function(t){"function"!=typeof t&&(t=tl(t));for(var e=this._groups,n=e.length,o=[],i=[],r=0;r<n;++r)for(var a,s=e[r],p=s.length,h=0;h<p;++h)(a=s[h])&&(o.push(t.call(a,a.__data__,h,s)),i.push(a));return new vt(o,i)},nl=function(t){"function"!=typeof t&&(t=Wu(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r,a=e[i],s=a.length,p=o[i]=[],h=0;h<s;++h)(r=a[h])&&t.call(r,r.__data__,h,a)&&p.push(r);return new vt(o,this._parents)},ol=function(t){return new Array(t.length)},il=function(){return new vt(this._enter||this._groups.map(ol),this._parents)};N.prototype={constructor:N,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var rl=function(t){return function(){return t}},al="$",sl=function(t,e){if(!t)return f=new Array(this.size()),h=-1,this.each(function(t){f[++h]=t}),f;var n=e?k:O,o=this._parents,i=this._groups;"function"!=typeof t&&(t=rl(t));for(var r=i.length,a=new Array(r),s=new Array(r),p=new Array(r),h=0;h<r;++h){var u=o[h],l=i[h],c=l.length,f=t.call(u,u&&u.__data__,h,o),d=f.length,y=s[h]=new Array(d),v=a[h]=new Array(d),g=p[h]=new Array(c);n(u,l,y,v,g,f,e);for(var m,b,x=0,_=0;x<d;++x)if(m=y[x]){for(x>=_&&(_=x+1);!(b=v[_])&&++_<d;);m._next=b||null}}return a=new vt(a,o),a._enter=s,a._exit=p,a},pl=function(){return new vt(this._exit||this._groups.map(ol),this._parents)},hl=function(t){for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),a=new Array(o),s=0;s<r;++s)for(var p,h=e[s],u=n[s],l=h.length,c=a[s]=new Array(l),f=0;f<l;++f)(p=h[f]||u[f])&&(c[f]=p);for(;s<o;++s)a[s]=e[s];return new vt(a,this._parents)},ul=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var o,i=t[e],r=i.length-1,a=i[r];--r>=0;)(o=i[r])&&(a&&a!==o.nextSibling&&a.parentNode.insertBefore(o,a),a=o);return this},ll=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=R);for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var a,s=n[r],p=s.length,h=i[r]=new Array(p),u=0;u<p;++u)(a=s[u])&&(h[u]=a);h.sort(e)}return new vt(i,this._parents).order()},cl=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},fl=function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},dl=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var o=t[e],i=0,r=o.length;i<r;++i){var a=o[i];if(a)return a}return null},yl=function(){var t=0;return this.each(function(){++t}),t},vl=function(){return!this.node()},gl=function(t){for(var e=this._groups,n=0,o=e.length;n<o;++n)for(var i,r=e[n],a=0,s=r.length;a<s;++a)(i=r[a])&&t.call(i,i.__data__,a,r);return this},ml=function(t,e){var n=Ku(t);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((null==e?n.local?F:D:"function"==typeof e?n.local?X:B:n.local?K:j)(n,e))},bl=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView},xl=function(t,e,n){return arguments.length>1?this.each((null==e?U:"function"==typeof e?G:Y)(t,e,null==n?"":n)):W(this.node(),t)},_l=function(t,e){return arguments.length>1?this.each((null==e?z:"function"==typeof e?q:H)(t,e)):this.node()[t]};Z.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var wl=function(t,e){var n=V(t+"");if(arguments.length<2){for(var o=$(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?nt:e?tt:et)(n,e))},Pl=function(t){return arguments.length?this.each(null==t?ot:("function"==typeof t?rt:it)(t)):this.node().textContent},Sl=function(t){return arguments.length?this.each(null==t?at:("function"==typeof t?pt:st)(t)):this.node().innerHTML},Cl=function(){return this.each(ht)},Ml=function(){return this.each(ut)},Tl=function(t){var e="function"==typeof t?t:Bu(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},Al=function(t,e){var n="function"==typeof t?t:Bu(t),o=null==e?lt:"function"==typeof e?e:Ju(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})},El=function(){return this.each(ct)},Ll=function(t){return arguments.length?this.property("__data__",t):this.node().__data__},Il=function(t,e){return this.each(("function"==typeof e?yt:dt)(t,e))},Nl=[null];vt.prototype=gt.prototype={constructor:vt,select:Qu,selectAll:el,filter:nl,data:sl,enter:il,exit:pl,merge:hl,order:ul,sort:ll,call:cl,nodes:fl,node:dl,size:yl,empty:vl,each:gl,attr:ml,style:xl,property:_l,classed:wl,text:Pl,html:Sl,raise:Cl,lower:Ml,append:Tl,insert:Al,remove:El,datum:Ll,on:qu,dispatch:Il};var Ol=function(t){return"string"==typeof t?new vt([[document.querySelector(t)]],[document.documentElement]):new vt([[t]],Nl)},kl=function(t){return"string"==typeof t?new vt([document.querySelectorAll(t)],[document.documentElement]):new vt([null==t?[]:t],Nl)},Rl=function(t,e,n){arguments.length<3&&(n=e,e=Vu().changedTouches);for(var o,i=0,r=e?e.length:0;i<r;++i)if((o=e[i]).identifier===n)return $u(t,o);return null},Dl=function(t,e){null==e&&(e=Vu().touches);for(var n=0,o=e?e.length:0,i=new Array(o);n<o;++n)i[n]=$u(t,e[n]);return i},Fl=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},jl=function(t){var e=t.document.documentElement,n=Ol(t).on("dragstart.drag",Fl,!0);"onselectstart"in e?n.on("selectstart.drag",Fl,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")},Kl=function(t){return function(){return t}};xt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Bl=function(){function e(t){t.on("mousedown.drag",n).on("touchstart.drag",r).on("touchmove.drag",a).on("touchend.drag touchcancel.drag",s).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function n(){if(!c&&f.apply(this,arguments)){var e=p("mouse",d.apply(this,arguments),Zu,this,arguments);e&&(Ol(t.event.view).on("mousemove.drag",o,!0).on("mouseup.drag",i,!0),jl(t.event.view),mt(),l=!1,h=t.event.clientX,u=t.event.clientY,e("start"))}}function o(){if(Fl(),!l){var e=t.event.clientX-h,n=t.event.clientY-u;l=e*e+n*n>x}g.mouse("drag")}function i(){Ol(t.event.view).on("mousemove.drag mouseup.drag",null),bt(t.event.view,l),Fl(),g.mouse("end")}function r(){if(f.apply(this,arguments)){var e,n,o=t.event.changedTouches,i=d.apply(this,arguments),r=o.length;for(e=0;e<r;++e)(n=p(o[e].identifier,i,Rl,this,arguments))&&(mt(),n("start"))}}function a(){var e,n,o=t.event.changedTouches,i=o.length;for(e=0;e<i;++e)(n=g[o[e].identifier])&&(Fl(),n("drag"))}function s(){var e,n,o=t.event.changedTouches,i=o.length;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),e=0;e<i;++e)(n=g[o[e].identifier])&&(mt(),n("end"))}function p(n,o,i,r,a){var s,p,h,u=i(o,n),l=m.copy();if(E(new xt(e,"beforestart",s,n,b,u[0],u[1],0,0,l),function(){return null!=(t.event.subject=s=v.apply(r,a))&&(p=s.x-u[0]||0,h=s.y-u[1]||0,!0)}))return function t(c){var f,d=u;switch(c){case"start":g[n]=t,f=b++;break;case"end":delete g[n],--b;case"drag":u=i(o,n),f=b}E(new xt(e,c,s,n,f,u[0]+p,u[1]+h,u[0]-d[0],u[1]-d[1],l),l.apply,l,[c,r,a])}}var h,u,l,c,f=_t,d=wt,v=Pt,g={},m=y("start","drag","end"),b=0,x=0;return e.filter=function(t){return arguments.length?(f="function"==typeof t?t:Kl(!!t),e):f},e.container=function(t){return arguments.length?(d="function"==typeof t?t:Kl(t),e):d},e.subject=function(t){return arguments.length?(v="function"==typeof t?t:Kl(t),e):v},e.on=function(){var t=m.on.apply(m,arguments);return t===m?e:t},e.clickDistance=function(t){return arguments.length?(x=(t=+t)*t,e):Math.sqrt(x)},e},Xl=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t},Ul=.7,Yl=1/Ul,Gl="\\s*([+-]?\\d+)\\s*",Wl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",zl="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Hl=/^#([0-9a-f]{3})$/,ql=/^#([0-9a-f]{6})$/,Vl=new RegExp("^rgb\\("+[Gl,Gl,Gl]+"\\)$"),$l=new RegExp("^rgb\\("+[zl,zl,zl]+"\\)$"),Zl=new RegExp("^rgba\\("+[Gl,Gl,Gl,Wl]+"\\)$"),Jl=new RegExp("^rgba\\("+[zl,zl,zl,Wl]+"\\)$"),Ql=new RegExp("^hsl\\("+[Wl,zl,zl]+"\\)$"),tc=new RegExp("^hsla\\("+[Wl,zl,zl,Wl]+"\\)$"),ec={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xl(Ct,Mt,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Xl(It,Lt,St(Ct,{brighter:function(t){return t=null==t?Yl:Math.pow(Yl,t),new It(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Ul:Math.pow(Ul,t),new It(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Xl(Rt,kt,St(Ct,{brighter:function(t){return t=null==t?Yl:Math.pow(Yl,t),new Rt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Ul:Math.pow(Ul,t),new Rt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*e,i=2*n-o;return new It(Dt(t>=240?t-240:t+120,i,o),Dt(t,i,o),Dt(t<120?t+240:t-120,i,o),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var nc=Math.PI/180,oc=180/Math.PI,ic=18,rc=.95047,ac=1,sc=1.08883,pc=4/29,hc=6/29,uc=3*hc*hc,lc=hc*hc*hc;Xl(Kt,jt,St(Ct,{brighter:function(t){return new Kt(this.l+ic*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Kt(this.l-ic*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=ac*Xt(t),e=rc*Xt(e),n=sc*Xt(n),new It(Ut(3.2404542*e-1.5371385*t-.4985314*n),Ut(-.969266*e+1.8760108*t+.041556*n),Ut(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),Xl(zt,Wt,St(Ct,{brighter:function(t){return new zt(this.h,this.c,this.l+ic*(null==t?1:t),this.opacity)},darker:function(t){return new zt(this.h,this.c,this.l-ic*(null==t?1:t),this.opacity)},rgb:function(){return Ft(this).rgb()}}));var cc=-.14861,fc=1.78277,dc=-.29227,yc=-.90649,vc=1.97294,gc=vc*yc,mc=vc*fc,bc=fc*dc-yc*cc;Xl(Vt,qt,St(Ct,{brighter:function(t){return t=null==t?Yl:Math.pow(Yl,t),new Vt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Ul:Math.pow(Ul,t),new Vt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*nc,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),o=Math.cos(t),i=Math.sin(t);return new It(255*(e+n*(cc*o+fc*i)),255*(e+n*(dc*o+yc*i)),255*(e+n*(vc*o)),this.opacity)}}));var xc,_c,wc,Pc,Sc,Cc,Mc=function(t){var e=t.length-1;return function(n){var o=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[o],r=t[o+1],a=o>0?t[o-1]:2*i-r,s=o<e-1?t[o+2]:2*r-i;return $t((n-o/e)*e,a,i,r,s)}},Tc=function(t){var e=t.length;return function(n){var o=Math.floor(((n%=1)<0?++n:n)*e),i=t[(o+e-1)%e],r=t[o%e],a=t[(o+1)%e],s=t[(o+2)%e];return $t((n-o/e)*e,i,r,a,s)}},Ac=function(t){return function(){return t}},Ec=function t(e){function n(t,e){var n=o((t=Lt(t)).r,(e=Lt(e)).r),i=o(t.g,e.g),r=o(t.b,e.b),a=ee(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=i(e),t.b=r(e),t.opacity=a(e),t+""}}var o=te(e);return n.gamma=t,n}(1),Lc=ne(Mc),Ic=ne(Tc),Nc=function(t,e){var n,o=e?e.length:0,i=t?Math.min(o,t.length):0,r=new Array(o),a=new Array(o);for(n=0;n<i;++n)r[n]=Kc(t[n],e[n]);for(;n<o;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=r[n](t);return a}},Oc=function(t,e){var n=new Date;return t=+t,e-=t,function(o){return n.setTime(t+e*o),n}},kc=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},Rc=function(t,e){var n,o={},i={};null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={});for(n in e)n in t?o[n]=Kc(t[n],e[n]):i[n]=e[n];return function(t){for(n in o)i[n]=o[n](t);return i}},Dc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Fc=new RegExp(Dc.source,"g"),jc=function(t,e){var n,o,i,r=Dc.lastIndex=Fc.lastIndex=0,a=-1,s=[],p=[];for(t+="",e+="";(n=Dc.exec(t))&&(o=Fc.exec(e));)(i=o.index)>r&&(i=e.slice(r,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(o=o[0])?s[a]?s[a]+=o:s[++a]=o:(s[++a]=null,p.push({i:a,x:kc(n,o)})),r=Fc.lastIndex;return r<e.length&&(i=e.slice(r),s[a]?s[a]+=i:s[++a]=i),s.length<2?p[0]?ie(p[0].x):oe(e):(e=p.length,function(t){for(var n,o=0;o<e;++o)s[(n=p[o]).i]=n.x(t);return s.join("")})},Kc=function(t,e){var n,o=typeof e;return null==e||"boolean"===o?Ac(e):("number"===o?kc:"string"===o?(n=Mt(e))?(e=n,Ec):jc:e instanceof Mt?Ec:e instanceof Date?Oc:Array.isArray(e)?Nc:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Rc:kc)(t,e)},Bc=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}},Xc=180/Math.PI,Uc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Yc=function(t,e,n,o,i,r){var a,s,p;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(p=t*n+e*o)&&(n-=t*p,o-=e*p),(s=Math.sqrt(n*n+o*o))&&(n/=s,o/=s,p/=s),t*o<e*n&&(t=-t,e=-e,p=-p,a=-a),{translateX:i,translateY:r,rotate:Math.atan2(e,t)*Xc,skewX:Math.atan(p)*Xc,scaleX:a,scaleY:s}},Gc=se(re,"px, ","px)","deg)"),Wc=se(ae,", ",")",")"),zc=Math.SQRT2,Hc=2,qc=4,Vc=1e-12,$c=function(t,e){var n,o,i=t[0],r=t[1],a=t[2],s=e[0],p=e[1],h=e[2],u=s-i,l=p-r,c=u*u+l*l;if(c<Vc)o=Math.log(h/a)/zc,n=function(t){return[i+t*u,r+t*l,a*Math.exp(zc*t*o)]};else{var f=Math.sqrt(c),d=(h*h-a*a+qc*c)/(2*a*Hc*f),y=(h*h-a*a-qc*c)/(2*h*Hc*f),v=Math.log(Math.sqrt(d*d+1)-d),g=Math.log(Math.sqrt(y*y+1)-y);o=(g-v)/zc,n=function(t){var e=t*o,n=pe(v),s=a/(Hc*f)*(n*ue(zc*e+v)-he(v));return[i+s*u,r+s*l,a*n/pe(zc*e+v)]}}return n.duration=1e3*o,n},Zc=le(Qt),Jc=le(ee),Qc=fe(Qt),tf=fe(ee),ef=de(Qt),nf=de(ee),of=function(t,e){for(var n=new Array(e),o=0;o<e;++o)n[o]=t(o/(e-1));return n},rf=0,af=0,sf=0,pf=1e3,hf=0,uf=0,lf=0,cf="object"==typeof performance&&performance.now?performance:Date,ff="function"==typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,17)};ge.prototype=me.prototype={constructor:ge,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?ye():+n)+(null==e?0:+e),this._next||Cc===this||(Cc?Cc._next=this:Sc=this,Cc=this),this._call=t,this._time=n,Pe()},stop:function(){this._call&&(this._call=null,this._time=1/0,Pe())}};var df=function(t,e,n){var o=new ge;return e=null==e?0:+e,o.restart(function(n){o.stop(),t(n+e)},e,n),o},yf=function(t,e,n){var o=new ge,i=e;return null==e?(o.restart(t,e,n),o):(e=+e,n=null==n?ye():+n,o.restart(function r(a){a+=i,o.restart(r,i+=e,n),t(a)},e,n),o)},vf=y("start","end","interrupt"),gf=[],mf=0,bf=1,xf=2,_f=3,wf=4,Pf=5,Sf=6,Cf=function(t,e,n,o,i,r){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};Te(t,n,{name:e,index:o,group:i,on:vf,tween:gf,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:mf})},Mf=function(t,e){var n,o,i,r=t.__transition,a=!0;if(r){e=null==e?null:e+"";for(i in r)(n=r[i]).name===e?(o=n.state>xf&&n.state<Pf,n.state=Sf,n.timer.stop(),o&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete r[i]):a=!1;a&&delete t.__transition}},Tf=function(t){return this.each(function(){Mf(this,t)})},Af=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var o,i=Me(this.node(),n).tween,r=0,a=i.length;r<a;++r)if((o=i[r]).name===t)return o.value;return null}return this.each((null==e?Ae:Ee)(n,t,e))},Ef=function(t,e){var n;return("number"==typeof e?kc:e instanceof Mt?Ec:(n=Mt(e))?(e=n,Ec):jc)(t,e)},Lf=function(t,e){var n=Ku(t),o="transform"===n?Wc:Ef;return this.attrTween(t,"function"==typeof e?(n.local?De:Re)(n,o,Le(this,"attr."+t,e)):null==e?(n.local?Ne:Ie)(n):(n.local?ke:Oe)(n,o,e+""))},If=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var o=Ku(t);return this.tween(n,(o.local?Fe:je)(o,e))},Nf=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ke:Be)(e,t)):Me(this.node(),e).delay},Of=function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Xe:Ue)(e,t)):Me(this.node(),e).duration},kf=function(t){var e=this._id;return arguments.length?this.each(Ye(e,t)):Me(this.node(),e).ease},Rf=function(t){"function"!=typeof t&&(t=Wu(t));for(var e=this._groups,n=e.length,o=new Array(n),i=0;i<n;++i)for(var r,a=e[i],s=a.length,p=o[i]=[],h=0;h<s;++h)(r=a[h])&&t.call(r,r.__data__,h,a)&&p.push(r);return new tn(o,this._parents,this._name,this._id)},Df=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,o=e.length,i=n.length,r=Math.min(o,i),a=new Array(o),s=0;s<r;++s)for(var p,h=e[s],u=n[s],l=h.length,c=a[s]=new Array(l),f=0;f<l;++f)(p=h[f]||u[f])&&(c[f]=p);for(;s<o;++s)a[s]=e[s];return new tn(a,this._parents,this._name,this._id)},Ff=function(t,e){var n=this._id;return arguments.length<2?Me(this.node(),n).on.on(t):this.each(We(n,t,e))},jf=function(){return this.on("end.remove",ze(this._id))},Kf=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Ju(t));for(var o=this._groups,i=o.length,r=new Array(i),a=0;a<i;++a)for(var s,p,h=o[a],u=h.length,l=r[a]=new Array(u),c=0;c<u;++c)(s=h[c])&&(p=t.call(s,s.__data__,c,h))&&("__data__"in s&&(p.__data__=s.__data__),l[c]=p,Cf(l[c],e,n,c,l,Me(s,n)));return new tn(r,this._parents,e,n)},Bf=function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=tl(t));for(var o=this._groups,i=o.length,r=[],a=[],s=0;s<i;++s)for(var p,h=o[s],u=h.length,l=0;l<u;++l)if(p=h[l]){for(var c,f=t.call(p,p.__data__,l,h),d=Me(p,n),y=0,v=f.length;y<v;++y)(c=f[y])&&Cf(c,e,n,y,f,d);r.push(f),a.push(p)}return new tn(r,a,e,n)},Xf=gt.prototype.constructor,Uf=function(){return new Xf(this._groups,this._parents)},Yf=function(t,e,n){var o="transform"==(t+="")?Gc:Ef;return null==e?this.styleTween(t,He(t,o)).on("end.style."+t,qe(t)):this.styleTween(t,"function"==typeof e?$e(t,o,Le(this,"style."+t,e)):Ve(t,o,e+""),n)},Gf=function(t,e,n){var o="style."+(t+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==e)return this.tween(o,null);if("function"!=typeof e)throw new Error;return this.tween(o,Ze(t,e,null==n?"":n))},Wf=function(t){return this.tween("text","function"==typeof t?Qe(Le(this,"text",t)):Je(null==t?"":t+""))},zf=function(){for(var t=this._name,e=this._id,n=nn(),o=this._groups,i=o.length,r=0;r<i;++r)for(var a,s=o[r],p=s.length,h=0;h<p;++h)if(a=s[h]){var u=Me(a,e);Cf(a,t,n,h,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new tn(o,this._parents,t,n)},Hf=0,qf=gt.prototype;tn.prototype=en.prototype={constructor:tn,select:Kf,selectAll:Bf,filter:Rf,merge:Df,selection:Uf,transition:zf,call:qf.call,nodes:qf.nodes,node:qf.node,size:qf.size,empty:qf.empty,each:qf.each,on:Ff,attr:Lf,attrTween:If,style:Yf,styleTween:Gf,text:Wf,remove:jf,tween:Af,delay:Nf,duration:Of,ease:kf};var Vf=3,$f=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(Vf),Zf=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(Vf),Jf=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(Vf),Qf=Math.PI,td=Qf/2,ed=4/11,nd=6/11,od=8/11,id=.75,rd=9/11,ad=10/11,sd=.9375,pd=21/22,hd=63/64,ud=1/ed/ed,ld=1.70158,cd=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(ld),fd=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(ld),dd=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(ld),yd=2*Math.PI,vd=1,gd=.3,md=function t(e,n){function o(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/n)}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=yd);return o.amplitude=function(e){return t(e,n*yd)},o.period=function(n){return t(e,n)},o}(vd,gd),bd=function t(e,n){function o(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/n)}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=yd);return o.amplitude=function(e){return t(e,n*yd)},o.period=function(n){return t(e,n)},o}(vd,gd),xd=function t(e,n){function o(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/n))/2}var i=Math.asin(1/(e=Math.max(1,e)))*(n/=yd);return o.amplitude=function(e){return t(e,n*yd)},o.period=function(n){return t(e,n)},o}(vd,gd),_d={time:null,delay:0,duration:250,ease:un},wd=function(t){var e,n;t instanceof tn?(e=t._id,t=t._name):(e=nn(),(n=_d).time=ye(),t=null==t?null:t+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var a,s=o[r],p=s.length,h=0;h<p;++h)(a=s[h])&&Cf(a,t,e,h,s,n||Pn(a,e));return new tn(o,this._parents,t,e)};gt.prototype.interrupt=Tf,gt.prototype.transition=wd;var Pd=[null],Sd=function(t,e){var n,o,i=t.__transition;if(i){e=null==e?null:e+"";for(o in i)if((n=i[o]).state>bf&&n.name===e)return new tn([[t]],Pd,e,+o)}return null},Cd=function(t){return function(){return t}},Md=function(t,e,n){this.target=t,this.type=e,this.selection=n},Td=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},Ad={name:"drag"},Ed={name:"space"},Ld={name:"handle"},Id={name:"center"},Nd={name:"x",handles:["e","w"].map(Cn),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Od={name:"y",handles:["n","s"].map(Cn),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},kd={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(Cn),input:function(t){return t},output:function(t){return t}},Rd={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Dd={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Fd={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},jd={overlay:1,selection:1,n:null,
e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Kd={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1},Bd=function(){return On(kd)},Xd=Math.cos,Ud=Math.sin,Yd=Math.PI,Gd=Yd/2,Wd=2*Yd,zd=Math.max,Hd=function(){function t(t){var r,a,s,p,h,u,l=t.length,c=[],f=pu(l),d=[],y=[],v=y.groups=new Array(l),g=new Array(l*l);for(r=0,h=-1;++h<l;){for(a=0,u=-1;++u<l;)a+=t[h][u];c.push(a),d.push(pu(l)),r+=a}for(n&&f.sort(function(t,e){return n(c[t],c[e])}),o&&d.forEach(function(e,n){e.sort(function(e,i){return o(t[n][e],t[n][i])})}),r=zd(0,Wd-e*l)/r,p=r?e:Wd/l,a=0,h=-1;++h<l;){for(s=a,u=-1;++u<l;){var m=f[h],b=d[m][u],x=t[m][b],_=a,w=a+=x*r;g[b*l+m]={index:m,subindex:b,startAngle:_,endAngle:w,value:x}}v[m]={index:m,startAngle:s,endAngle:a,value:c[m]},a+=p}for(h=-1;++h<l;)for(u=h-1;++u<l;){var P=g[u*l+h],S=g[h*l+u];(P.value||S.value)&&y.push(P.value<S.value?{source:S,target:P}:{source:P,target:S})}return i?y.sort(i):y}var e=0,n=null,o=null,i=null;return t.padAngle=function(n){return arguments.length?(e=zd(0,n),t):e},t.sortGroups=function(e){return arguments.length?(n=e,t):n},t.sortSubgroups=function(e){return arguments.length?(o=e,t):o},t.sortChords=function(e){return arguments.length?(null==e?i=null:(i=kn(e))._=e,t):i&&i._},t},qd=Array.prototype.slice,Vd=function(t){return function(){return t}},$d=Math.PI,Zd=2*$d,Jd=1e-6,Qd=Zd-Jd;Rn.prototype=Dn.prototype={constructor:Rn,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,o){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+o)},bezierCurveTo:function(t,e,n,o,i,r){this._+="C"+ +t+","+ +e+","+ +n+","+ +o+","+(this._x1=+i)+","+(this._y1=+r)},arcTo:function(t,e,n,o,i){t=+t,e=+e,n=+n,o=+o,i=+i;var r=this._x1,a=this._y1,s=n-t,p=o-e,h=r-t,u=a-e,l=h*h+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(l>Jd)if(Math.abs(u*s-p*h)>Jd&&i){var c=n-r,f=o-a,d=s*s+p*p,y=c*c+f*f,v=Math.sqrt(d),g=Math.sqrt(l),m=i*Math.tan(($d-Math.acos((d+l-y)/(2*v*g)))/2),b=m/g,x=m/v;Math.abs(b-1)>Jd&&(this._+="L"+(t+b*h)+","+(e+b*u)),this._+="A"+i+","+i+",0,0,"+ +(u*c>h*f)+","+(this._x1=t+x*s)+","+(this._y1=e+x*p)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,o,i,r){t=+t,e=+e,n=+n;var a=n*Math.cos(o),s=n*Math.sin(o),p=t+a,h=e+s,u=1^r,l=r?o-i:i-o;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+p+","+h:(Math.abs(this._x1-p)>Jd||Math.abs(this._y1-h)>Jd)&&(this._+="L"+p+","+h),n&&(l<0&&(l=l%Zd+Zd),l>Qd?this._+="A"+n+","+n+",0,1,"+u+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=p)+","+(this._y1=h):l>Jd&&(this._+="A"+n+","+n+",0,"+ +(l>=$d)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,o){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +o+"h"+-n+"Z"},toString:function(){return this._}};var ty=function(){function t(){var t,s=qd.call(arguments),p=e.apply(this,s),h=n.apply(this,s),u=+o.apply(this,(s[0]=p,s)),l=i.apply(this,s)-Gd,c=r.apply(this,s)-Gd,f=u*Xd(l),d=u*Ud(l),y=+o.apply(this,(s[0]=h,s)),v=i.apply(this,s)-Gd,g=r.apply(this,s)-Gd;if(a||(a=t=Dn()),a.moveTo(f,d),a.arc(0,0,u,l,c),l===v&&c===g||(a.quadraticCurveTo(0,0,y*Xd(v),y*Ud(v)),a.arc(0,0,y,v,g)),a.quadraticCurveTo(0,0,f,d),a.closePath(),t)return a=null,t+""||null}var e=Fn,n=jn,o=Kn,i=Bn,r=Xn,a=null;return t.radius=function(e){return arguments.length?(o="function"==typeof e?e:Vd(+e),t):o},t.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:Vd(+e),t):i},t.endAngle=function(e){return arguments.length?(r="function"==typeof e?e:Vd(+e),t):r},t.source=function(n){return arguments.length?(e=n,t):e},t.target=function(e){return arguments.length?(n=e,t):n},t.context=function(e){return arguments.length?(a=null==e?null:e,t):a},t},ey="$";Un.prototype=Yn.prototype={constructor:Un,has:function(t){return ey+t in this},get:function(t){return this[ey+t]},set:function(t,e){return this[ey+t]=e,this},remove:function(t){var e=ey+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===ey&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===ey&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===ey&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===ey&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===ey&&++t;return t},empty:function(){for(var t in this)if(t[0]===ey)return!1;return!0},each:function(t){for(var e in this)e[0]===ey&&t(this[e],e.slice(1),this)}};var ny=function(){function t(e,i,a,s){if(i>=r.length)return null!=o?o(e):null!=n?e.sort(n):e;for(var p,h,u,l=-1,c=e.length,f=r[i++],d=Yn(),y=a();++l<c;)(u=d.get(p=f(h=e[l])+""))?u.push(h):d.set(p,[h]);return d.each(function(e,n){s(y,n,t(e,i,a,s))}),y}function e(t,n){if(++n>r.length)return t;var i,s=a[n-1];return null!=o&&n>=r.length?i=t.entries():(i=[],t.each(function(t,o){i.push({key:o,values:e(t,n)})})),null!=s?i.sort(function(t,e){return s(t.key,e.key)}):i}var n,o,i,r=[],a=[];return i={object:function(e){return t(e,0,Gn,Wn)},map:function(e){return t(e,0,zn,Hn)},entries:function(n){return e(t(n,0,zn,Hn),0)},key:function(t){return r.push(t),i},sortKeys:function(t){return a[r.length-1]=t,i},sortValues:function(t){return n=t,i},rollup:function(t){return o=t,i}}},oy=Yn.prototype;qn.prototype=Vn.prototype={constructor:qn,has:oy.has,add:function(t){return t+="",this[ey+t]=t,this},remove:oy.remove,clear:oy.clear,values:oy.keys,size:oy.size,empty:oy.empty,each:oy.each};var iy=function(t){var e=[];for(var n in t)e.push(n);return e},ry=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ay=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},sy=function(t){function e(t,e){var o,i,r=n(t,function(t,n){return o?o(t,n-1):(i=t,void(o=e?Zn(t,e):$n(t)))});return r.columns=i,r}function n(t,e){function n(){if(u>=h)return a;if(i)return i=!1,r;var e,n=u;if(34===t.charCodeAt(n)){for(var o=n;o++<h;)if(34===t.charCodeAt(o)){if(34!==t.charCodeAt(o+1))break;++o}return u=o+2,e=t.charCodeAt(o+1),13===e?(i=!0,10===t.charCodeAt(o+2)&&++u):10===e&&(i=!0),t.slice(n+1,o).replace(/""/g,'"')}for(;u<h;){var s=1;if(e=t.charCodeAt(u++),10===e)i=!0;else if(13===e)i=!0,10===t.charCodeAt(u)&&(++u,++s);else if(e!==p)continue;return t.slice(n,u-s)}return t.slice(n)}for(var o,i,r={},a={},s=[],h=t.length,u=0,l=0;(o=n())!==a;){for(var c=[];o!==r&&o!==a;)c.push(o),o=n();e&&null==(c=e(c,l++))||s.push(c)}return s}function o(e,n){return null==n&&(n=Jn(e)),[n.map(a).join(t)].concat(e.map(function(e){return n.map(function(t){return a(e[t])}).join(t)})).join("\n")}function i(t){return t.map(r).join("\n")}function r(e){return e.map(a).join(t)}function a(t){return null==t?"":s.test(t+="")?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n\r]"),p=t.charCodeAt(0);return{parse:e,parseRows:n,format:o,formatRows:i}},py=sy(","),hy=py.parse,uy=py.parseRows,ly=py.format,cy=py.formatRows,fy=sy("\t"),dy=fy.parse,yy=fy.parseRows,vy=fy.format,gy=fy.formatRows,my=function(t,e){function n(){var n,i,r=o.length,a=0,s=0;for(n=0;n<r;++n)i=o[n],a+=i.x,s+=i.y;for(a=a/r-t,s=s/r-e,n=0;n<r;++n)i=o[n],i.x-=a,i.y-=s}var o;return null==t&&(t=0),null==e&&(e=0),n.initialize=function(t){o=t},n.x=function(e){return arguments.length?(t=+e,n):t},n.y=function(t){return arguments.length?(e=+t,n):e},n},by=function(t){return function(){return t}},xy=function(){return 1e-6*(Math.random()-.5)},_y=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Qn(this.cover(e,n),e,n,t)},wy=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,o=this._y0,i=this._x1,r=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,r=(o=Math.floor(e))+1;else{if(!(n>t||t>i||o>e||e>r))return this;var a,s,p=i-n,h=this._root;switch(s=(e<(o+r)/2)<<1|t<(n+i)/2){case 0:do a=new Array(4),a[s]=h,h=a;while(p*=2,i=n+p,r=o+p,t>i||e>r);break;case 1:do a=new Array(4),a[s]=h,h=a;while(p*=2,n=i-p,r=o+p,n>t||e>r);break;case 2:do a=new Array(4),a[s]=h,h=a;while(p*=2,i=n+p,o=r-p,t>i||o>e);break;case 3:do a=new Array(4),a[s]=h,h=a;while(p*=2,n=i-p,o=r-p,n>t||o>e)}this._root&&this._root.length&&(this._root=h)}return this._x0=n,this._y0=o,this._x1=i,this._y1=r,this},Py=function(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t},Sy=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Cy=function(t,e,n,o,i){this.node=t,this.x0=e,this.y0=n,this.x1=o,this.y1=i},My=function(t,e,n){var o,i,r,a,s,p,h,u=this._x0,l=this._y0,c=this._x1,f=this._y1,d=[],y=this._root;for(y&&d.push(new Cy(y,u,l,c,f)),null==n?n=1/0:(u=t-n,l=e-n,c=t+n,f=e+n,n*=n);p=d.pop();)if(!(!(y=p.node)||(i=p.x0)>c||(r=p.y0)>f||(a=p.x1)<u||(s=p.y1)<l))if(y.length){var v=(i+a)/2,g=(r+s)/2;d.push(new Cy(y[3],v,g,a,s),new Cy(y[2],i,g,v,s),new Cy(y[1],v,r,a,g),new Cy(y[0],i,r,v,g)),(h=(e>=g)<<1|t>=v)&&(p=d[d.length-1],d[d.length-1]=d[d.length-1-h],d[d.length-1-h]=p)}else{var m=t-+this._x.call(null,y.data),b=e-+this._y.call(null,y.data),x=m*m+b*b;if(x<n){var _=Math.sqrt(n=x);u=t-_,l=e-_,c=t+_,f=e+_,o=y.data}}return o},Ty=function(t){if(isNaN(r=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,o,i,r,a,s,p,h,u,l,c,f=this._root,d=this._x0,y=this._y0,v=this._x1,g=this._y1;if(!f)return this;if(f.length)for(;;){if((h=r>=(s=(d+v)/2))?d=s:v=s,(u=a>=(p=(y+g)/2))?y=p:g=p,e=f,!(f=f[l=u<<1|h]))return this;if(!f.length)break;(e[l+1&3]||e[l+2&3]||e[l+3&3])&&(n=e,c=l)}for(;f.data!==t;)if(o=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,o?(i?o.next=i:delete o.next,this):e?(i?e[l]=i:delete e[l],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[c]=f:this._root=f),this):(this._root=i,this)},Ay=function(){return this._root},Ey=function(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t},Ly=function(t){var e,n,o,i,r,a,s=[],p=this._root;for(p&&s.push(new Cy(p,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(p=e.node,o=e.x0,i=e.y0,r=e.x1,a=e.y1)&&p.length){var h=(o+r)/2,u=(i+a)/2;(n=p[3])&&s.push(new Cy(n,h,u,r,a)),(n=p[2])&&s.push(new Cy(n,o,u,h,a)),(n=p[1])&&s.push(new Cy(n,h,i,r,u)),(n=p[0])&&s.push(new Cy(n,o,i,h,u))}return this},Iy=function(t){var e,n=[],o=[];for(this._root&&n.push(new Cy(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var r,a=e.x0,s=e.y0,p=e.x1,h=e.y1,u=(a+p)/2,l=(s+h)/2;(r=i[0])&&n.push(new Cy(r,a,s,u,l)),(r=i[1])&&n.push(new Cy(r,u,s,p,l)),(r=i[2])&&n.push(new Cy(r,a,l,u,h)),(r=i[3])&&n.push(new Cy(r,u,l,p,h))}o.push(e)}for(;e=o.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Ny=function(t){return arguments.length?(this._x=t,this):this._x},Oy=function(t){return arguments.length?(this._y=t,this):this._y},ky=io.prototype=ro.prototype;ky.copy=function(){var t,e,n=new ro(this._x,this._y,this._x0,this._y0,this._x1,this._y1),o=this._root;if(!o)return n;if(!o.length)return n._root=ao(o),n;for(t=[{source:o,target:n._root=new Array(4)}];o=t.pop();)for(var i=0;i<4;++i)(e=o.source[i])&&(e.length?t.push({source:e,target:o.target[i]=new Array(4)}):o.target[i]=ao(e));return n},ky.add=_y,ky.addAll=to,ky.cover=wy,ky.data=Py,ky.extent=Sy,ky.find=My,ky.remove=Ty,ky.removeAll=eo,ky.root=Ay,ky.size=Ey,ky.visit=Ly,ky.visitAfter=Iy,ky.x=Ny,ky.y=Oy;var Ry,Dy=function(t){function e(){function t(t,e,n,o,i){var r=t.data,s=t.r,f=l+s;{if(!r)return e>h+f||o<h-f||n>u+f||i<u-f;if(r.index>p.index){var d=h-r.x-r.vx,y=u-r.y-r.vy,v=d*d+y*y;v<f*f&&(0===d&&(d=xy(),v+=d*d),0===y&&(y=xy(),v+=y*y),v=(f-(v=Math.sqrt(v)))/v*a,p.vx+=(d*=v)*(f=(s*=s)/(c+s)),p.vy+=(y*=v)*f,r.vx-=d*(f=1-f),r.vy-=y*f)}}}for(var e,o,p,h,u,l,c,f=i.length,d=0;d<s;++d)for(o=io(i,so,po).visitAfter(n),e=0;e<f;++e)p=i[e],l=r[p.index],c=l*l,h=p.x+p.vx,u=p.y+p.vy,o.visit(t)}function n(t){if(t.data)return t.r=r[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function o(){if(i){var e,n,o=i.length;for(r=new Array(o),e=0;e<o;++e)n=i[e],r[n.index]=+t(n,e,i)}}var i,r,a=1,s=1;return"function"!=typeof t&&(t=by(null==t?1:+t)),e.initialize=function(t){i=t,o()},e.iterations=function(t){return arguments.length?(s=+t,e):s},e.strength=function(t){return arguments.length?(a=+t,e):a},e.radius=function(n){return arguments.length?(t="function"==typeof n?n:by(+n),o(),e):t},e},Fy=function(t){function e(t){return 1/Math.min(h[t.source.index],h[t.target.index])}function n(e){for(var n=0,o=t.length;n<d;++n)for(var i,r,p,h,l,c,f,y=0;y<o;++y)i=t[y],r=i.source,p=i.target,h=p.x+p.vx-r.x-r.vx||xy(),l=p.y+p.vy-r.y-r.vy||xy(),c=Math.sqrt(h*h+l*l),c=(c-s[y])/c*e*a[y],h*=c,l*=c,p.vx-=h*(f=u[y]),p.vy-=l*f,r.vx+=h*(f=1-f),r.vy+=l*f}function o(){if(p){var e,n,o=p.length,c=t.length,f=Yn(p,l);for(e=0,h=new Array(o);e<c;++e)n=t[e],n.index=e,"object"!=typeof n.source&&(n.source=uo(f,n.source)),"object"!=typeof n.target&&(n.target=uo(f,n.target)),h[n.source.index]=(h[n.source.index]||0)+1,h[n.target.index]=(h[n.target.index]||0)+1;for(e=0,u=new Array(c);e<c;++e)n=t[e],u[e]=h[n.source.index]/(h[n.source.index]+h[n.target.index]);a=new Array(c),i(),s=new Array(c),r()}}function i(){if(p)for(var e=0,n=t.length;e<n;++e)a[e]=+c(t[e],e,t)}function r(){if(p)for(var e=0,n=t.length;e<n;++e)s[e]=+f(t[e],e,t)}var a,s,p,h,u,l=ho,c=e,f=by(30),d=1;return null==t&&(t=[]),n.initialize=function(t){p=t,o()},n.links=function(e){return arguments.length?(t=e,o(),n):t},n.id=function(t){return arguments.length?(l=t,n):l},n.iterations=function(t){return arguments.length?(d=+t,n):d},n.strength=function(t){return arguments.length?(c="function"==typeof t?t:by(+t),i(),n):c},n.distance=function(t){return arguments.length?(f="function"==typeof t?t:by(+t),r(),n):f},n},jy=10,Ky=Math.PI*(3-Math.sqrt(5)),By=function(t){function e(){n(),f.call("tick",r),a<s&&(c.stop(),f.call("end",r))}function n(){var e,n,o=t.length;for(a+=(h-a)*p,l.each(function(t){t(a)}),e=0;e<o;++e)n=t[e],null==n.fx?n.x+=n.vx*=u:(n.x=n.fx,n.vx=0),null==n.fy?n.y+=n.vy*=u:(n.y=n.fy,n.vy=0)}function o(){for(var e,n=0,o=t.length;n<o;++n){if(e=t[n],e.index=n,isNaN(e.x)||isNaN(e.y)){var i=jy*Math.sqrt(n),r=n*Ky;e.x=i*Math.cos(r),e.y=i*Math.sin(r)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function i(e){return e.initialize&&e.initialize(t),e}var r,a=1,s=.001,p=1-Math.pow(s,1/300),h=0,u=.6,l=Yn(),c=me(e),f=y("tick","end");return null==t&&(t=[]),o(),r={tick:n,restart:function(){return c.restart(e),r},stop:function(){return c.stop(),r},nodes:function(e){return arguments.length?(t=e,o(),l.each(i),r):t},alpha:function(t){return arguments.length?(a=+t,r):a},alphaMin:function(t){return arguments.length?(s=+t,r):s},alphaDecay:function(t){return arguments.length?(p=+t,r):+p},alphaTarget:function(t){return arguments.length?(h=+t,r):h},velocityDecay:function(t){return arguments.length?(u=1-t,r):1-u},force:function(t,e){return arguments.length>1?(null==e?l.remove(t):l.set(t,i(e)),r):l.get(t)},find:function(e,n,o){var i,r,a,s,p,h=0,u=t.length;for(null==o?o=1/0:o*=o,h=0;h<u;++h)s=t[h],i=e-s.x,r=n-s.y,a=i*i+r*r,a<o&&(p=s,o=a);return p},on:function(t,e){return arguments.length>1?(f.on(t,e),r):f.on(t)}}},Xy=function(){function t(t){var e,s=i.length,p=io(i,lo,co).visitAfter(n);for(a=t,e=0;e<s;++e)r=i[e],p.visit(o)}function e(){if(i){var t,e,n=i.length;for(s=new Array(n),t=0;t<n;++t)e=i[t],s[e.index]=+p(e,t,i)}}function n(t){var e,n,o,i,r,a=0;if(t.length){for(o=i=r=0;r<4;++r)(e=t[r])&&(n=e.value)&&(a+=n,o+=n*e.x,i+=n*e.y);t.x=o/a,t.y=i/a}else{e=t,e.x=e.data.x,e.y=e.data.y;do a+=s[e.data.index];while(e=e.next)}t.value=a}function o(t,e,n,o){if(!t.value)return!0;var i=t.x-r.x,p=t.y-r.y,c=o-e,f=i*i+p*p;if(c*c/l<f)return f<u&&(0===i&&(i=xy(),f+=i*i),0===p&&(p=xy(),f+=p*p),f<h&&(f=Math.sqrt(h*f)),r.vx+=i*t.value*a/f,r.vy+=p*t.value*a/f),!0;if(!(t.length||f>=u)){(t.data!==r||t.next)&&(0===i&&(i=xy(),f+=i*i),0===p&&(p=xy(),f+=p*p),f<h&&(f=Math.sqrt(h*f)));do t.data!==r&&(c=s[t.data.index]*a/f,r.vx+=i*c,r.vy+=p*c);while(t=t.next)}}var i,r,a,s,p=by(-30),h=1,u=1/0,l=.81;return t.initialize=function(t){i=t,e()},t.strength=function(n){return arguments.length?(p="function"==typeof n?n:by(+n),e(),t):p},t.distanceMin=function(e){return arguments.length?(h=e*e,t):Math.sqrt(h)},t.distanceMax=function(e){return arguments.length?(u=e*e,t):Math.sqrt(u)},t.theta=function(e){return arguments.length?(l=e*e,t):Math.sqrt(l)},t},Uy=function(t){function e(t){for(var e,n=0,a=o.length;n<a;++n)e=o[n],e.vx+=(r[n]-e.x)*i[n]*t}function n(){if(o){var e,n=o.length;for(i=new Array(n),r=new Array(n),e=0;e<n;++e)i[e]=isNaN(r[e]=+t(o[e],e,o))?0:+a(o[e],e,o)}}var o,i,r,a=by(.1);return"function"!=typeof t&&(t=by(null==t?0:+t)),e.initialize=function(t){o=t,n()},e.strength=function(t){return arguments.length?(a="function"==typeof t?t:by(+t),n(),e):a},e.x=function(o){return arguments.length?(t="function"==typeof o?o:by(+o),n(),e):t},e},Yy=function(t){function e(t){for(var e,n=0,a=o.length;n<a;++n)e=o[n],e.vy+=(r[n]-e.y)*i[n]*t}function n(){if(o){var e,n=o.length;for(i=new Array(n),r=new Array(n),e=0;e<n;++e)i[e]=isNaN(r[e]=+t(o[e],e,o))?0:+a(o[e],e,o)}}var o,i,r,a=by(.1);return"function"!=typeof t&&(t=by(null==t?0:+t)),e.initialize=function(t){o=t,n()},e.strength=function(t){return arguments.length?(a="function"==typeof t?t:by(+t),n(),e):a},e.y=function(o){return arguments.length?(t="function"==typeof o?o:by(+o),n(),e):t},e},Gy=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,o=t.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+t.slice(n+1)]},Wy=function(t){return t=Gy(Math.abs(t)),t?t[1]:NaN},zy=function(t,e){return function(n,o){for(var i=n.length,r=[],a=0,s=t[0],p=0;i>0&&s>0&&(p+s+1>o&&(s=Math.max(1,o-p)),r.push(n.substring(i-=s,i+s)),!((p+=s+1)>o));)s=t[a=(a+1)%t.length];return r.reverse().join(e)}},Hy=function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}},qy=function(t,e){t=t.toPrecision(e);t:for(var n,o=t.length,i=1,r=-1;i<o;++i)switch(t[i]){case".":r=n=i;break;case"0":0===r&&(r=i),n=i;break;case"e":break t;default:r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(n+1):t},Vy=function(t,e){var n=Gy(t,e);if(!n)return t+"";var o=n[0],i=n[1],r=i-(Ry=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=o.length;return r===a?o:r>a?o+new Array(r-a+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+Gy(t,Math.max(0,e+r-1))[0]},$y=function(t,e){var n=Gy(t,e);if(!n)return t+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")},Zy={"":qy,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return $y(100*t,e)},r:$y,s:Vy,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Jy=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;fo.prototype=yo.prototype,yo.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Qy,tv=function(t){return t},ev=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],nv=function(t){function e(t){function e(t){var e,i,s,u=v,x=g;if("c"===y)x=m(t)+x,t="";else{t=+t;var _=t<0;if(t=m(Math.abs(t),d),_&&0===+t&&(_=!1),u=(_?"("===h?h:"-":"-"===h||"("===h?"":h)+u,x=x+("s"===y?ev[8+Ry/3]:"")+(_&&"("===h?")":""),b)for(e=-1,i=t.length;++e<i;)if(s=t.charCodeAt(e),48>s||s>57){x=(46===s?r+t.slice(e+1):t.slice(e))+x,t=t.slice(0,e);break}}f&&!l&&(t=o(t,1/0));var w=u.length+t.length+x.length,P=w<c?new Array(c-w+1).join(n):"";switch(f&&l&&(t=o(P+t,P.length?c-x.length:1/0),P=""),p){case"<":t=u+t+x+P;break;case"=":t=u+P+t+x;break;case"^":t=P.slice(0,w=P.length>>1)+u+t+x+P.slice(w);break;default:t=P+u+t+x}return a(t)}t=fo(t);var n=t.fill,p=t.align,h=t.sign,u=t.symbol,l=t.zero,c=t.width,f=t.comma,d=t.precision,y=t.type,v="$"===u?i[0]:"#"===u&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",g="$"===u?i[1]:/[%p]/.test(y)?s:"",m=Zy[y],b=!y||/[defgprs%]/.test(y);return d=null==d?y?6:12:/[gprs]/.test(y)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d)),e.toString=function(){return t+""},e}function n(t,n){var o=e((t=fo(t),t.type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Wy(n)/3))),r=Math.pow(10,-i),a=ev[8+i/3];return function(t){return o(r*t)+a}}var o=t.grouping&&t.thousands?zy(t.grouping,t.thousands):tv,i=t.currency,r=t.decimal,a=t.numerals?Hy(t.numerals):tv,s=t.percent||"%";return{format:e,formatPrefix:n}};vo({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var ov=function(t){return Math.max(0,-Wy(Math.abs(t)))},iv=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Wy(e)/3)))-Wy(Math.abs(t)))},rv=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Wy(e)-Wy(t))+1},av=function(){return new go};go.prototype={constructor:go,reset:function(){this.s=this.t=0},add:function(t){mo(jv,t,this.t),mo(this,jv.s,this.s),this.s?this.t+=jv.t:this.s=jv.t},valueOf:function(){return this.s}};var sv,pv,hv,uv,lv,cv,fv,dv,yv,vv,gv,mv,bv,xv,_v,wv,Pv,Sv,Cv,Mv,Tv,Av,Ev,Lv,Iv,Nv,Ov,kv,Rv,Dv,Fv,jv=new go,Kv=1e-6,Bv=1e-12,Xv=Math.PI,Uv=Xv/2,Yv=Xv/4,Gv=2*Xv,Wv=180/Xv,zv=Xv/180,Hv=Math.abs,qv=Math.atan,Vv=Math.atan2,$v=Math.cos,Zv=Math.ceil,Jv=Math.exp,Qv=Math.log,tg=Math.pow,eg=Math.sin,ng=Math.sign||function(t){return t>0?1:t<0?-1:0},og=Math.sqrt,ig=Math.tan,rg={Feature:function(t,e){Po(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,o=-1,i=n.length;++o<i;)Po(n[o].geometry,e)}},ag={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,o=-1,i=n.length;++o<i;)t=n[o],e.point(t[0],t[1],t[2])},LineString:function(t,e){So(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,o=-1,i=n.length;++o<i;)So(n[o],e,0)},Polygon:function(t,e){Co(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,o=-1,i=n.length;++o<i;)Co(n[o],e)},GeometryCollection:function(t,e){for(var n=t.geometries,o=-1,i=n.length;++o<i;)Po(n[o],e)}},sg=function(t,e){t&&rg.hasOwnProperty(t.type)?rg[t.type](t,e):Po(t,e)},pg=av(),hg=av(),ug={point:wo,lineStart:wo,lineEnd:wo,polygonStart:function(){pg.reset(),ug.lineStart=Mo,ug.lineEnd=To},polygonEnd:function(){var t=+pg;hg.add(t<0?Gv+t:t),this.lineStart=this.lineEnd=this.point=wo},sphere:function(){hg.add(Gv)}},lg=function(t){return hg.reset(),sg(t,ug),2*hg},cg=av(),fg={point:Fo,lineStart:Ko,lineEnd:Bo,polygonStart:function(){fg.point=Xo,fg.lineStart=Uo,fg.lineEnd=Yo,cg.reset(),ug.polygonStart()},polygonEnd:function(){ug.polygonEnd(),fg.point=Fo,fg.lineStart=Ko,fg.lineEnd=Bo,pg<0?(cv=-(dv=180),fv=-(yv=90)):cg>Kv?yv=90:cg<-Kv&&(fv=-90),_v[0]=cv,_v[1]=dv}},dg=function(t){var e,n,o,i,r,a,s;if(yv=dv=-(cv=fv=1/0),xv=[],sg(t,fg),n=xv.length){for(xv.sort(Wo),e=1,o=xv[0],r=[o];e<n;++e)i=xv[e],zo(o,i[0])||zo(o,i[1])?(Go(o[0],i[1])>Go(o[0],o[1])&&(o[1]=i[1]),Go(i[0],o[1])>Go(o[0],o[1])&&(o[0]=i[0])):r.push(o=i);for(a=-(1/0),n=r.length-1,e=0,o=r[n];e<=n;o=i,++e)i=r[e],(s=Go(o[1],i[0]))>a&&(a=s,cv=i[0],dv=o[1])}return xv=_v=null,cv===1/0||fv===1/0?[[NaN,NaN],[NaN,NaN]]:[[cv,fv],[dv,yv]]},yg={sphere:wo,point:Ho,lineStart:Vo,lineEnd:Jo,polygonStart:function(){yg.lineStart=Qo,yg.lineEnd=ti},polygonEnd:function(){yg.lineStart=Vo,yg.lineEnd=Jo}},vg=function(t){wv=Pv=Sv=Cv=Mv=Tv=Av=Ev=Lv=Iv=Nv=0,sg(t,yg);var e=Lv,n=Iv,o=Nv,i=e*e+n*n+o*o;return i<Bv&&(e=Tv,n=Av,o=Ev,Pv<Kv&&(e=Sv,n=Cv,o=Mv),i=e*e+n*n+o*o,i<Bv)?[NaN,NaN]:[Vv(n,e)*Wv,xo(o/og(i))*Wv]},gg=function(t){return function(){return t}},mg=function(t,e){function n(n,o){return n=t(n,o),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,o){return n=e.invert(n,o),n&&t.invert(n[0],n[1])}),n};oi.invert=oi;var bg,xg,_g,wg,Pg,Sg,Cg,Mg,Tg,Ag,Eg,Lg=function(t){function e(e){return e=t(e[0]*zv,e[1]*zv),e[0]*=Wv,e[1]*=Wv,e}return t=ii(t[0]*zv,t[1]*zv,t.length>2?t[2]*zv:0),e.invert=function(e){return e=t.invert(e[0]*zv,e[1]*zv),e[0]*=Wv,e[1]*=Wv,e},e},Ig=function(){function t(t,e){n.push(t=o(t,e)),t[0]*=Wv,t[1]*=Wv}function e(){var t=i.apply(this,arguments),e=r.apply(this,arguments)*zv,p=a.apply(this,arguments)*zv;return n=[],o=ii(-t[0]*zv,-t[1]*zv,0).invert,pi(s,e,p,1),t={type:"Polygon",coordinates:[n]},n=o=null,t}var n,o,i=gg([0,0]),r=gg(90),a=gg(6),s={point:t};return e.center=function(t){return arguments.length?(i="function"==typeof t?t:gg([+t[0],+t[1]]),e):i},e.radius=function(t){return arguments.length?(r="function"==typeof t?t:gg(+t),e):r},e.precision=function(t){return arguments.length?(a="function"==typeof t?t:gg(+t),e):a},e},Ng=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:wo,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},Og=function(t,e,n,o,i,r){var a,s=t[0],p=t[1],h=e[0],u=e[1],l=0,c=1,f=h-s,d=u-p;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<l)return;a<c&&(c=a)}else if(f>0){if(a>c)return;a>l&&(l=a)}if(a=i-s,f||!(a<0)){if(a/=f,f<0){if(a>c)return;a>l&&(l=a)}else if(f>0){if(a<l)return;a<c&&(c=a)}if(a=o-p,d||!(a>0)){if(a/=d,d<0){if(a<l)return;a<c&&(c=a)}else if(d>0){if(a>c)return;a>l&&(l=a)}if(a=r-p,d||!(a<0)){if(a/=d,d<0){if(a>c)return;a>l&&(l=a)}else if(d>0){if(a<l)return;a<c&&(c=a)}return l>0&&(t[0]=s+l*f,t[1]=p+l*d),c<1&&(e[0]=s+c*f,e[1]=p+c*d),!0}}}}},kg=function(t,e){return Hv(t[0]-e[0])<Kv&&Hv(t[1]-e[1])<Kv},Rg=function(t,e,n,o,i){var r,a,s=[],p=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,o=t[0],a=t[e];if(kg(o,a)){for(i.lineStart(),r=0;r<e;++r)i.point((o=t[r])[0],o[1]);return void i.lineEnd()}s.push(n=new ui(o,t,null,!0)),p.push(n.o=new ui(o,null,n,!1)),s.push(n=new ui(a,t,null,!1)),p.push(n.o=new ui(a,null,n,!0))}}),s.length){for(p.sort(e),li(s),li(p),r=0,a=p.length;r<a;++r)p[r].e=n=!n;for(var h,u,l=s[0];;){for(var c=l,f=!0;c.v;)if((c=c.n)===l)return;h=c.z,i.lineStart();do{if(c.v=c.o.v=!0,c.e){if(f)for(r=0,a=h.length;r<a;++r)i.point((u=h[r])[0],u[1]);else o(c.x,c.n.x,1,i);c=c.n}else{if(f)for(h=c.p.z,r=h.length-1;r>=0;--r)i.point((u=h[r])[0],u[1]);else o(c.x,c.p.x,-1,i);c=c.p}c=c.o,h=c.z,f=!f}while(!c.v);i.lineEnd()}}},Dg=1e9,Fg=-Dg,jg=function(){var t,e,n,o=0,i=0,r=960,a=500;return n={stream:function(n){return t&&e===n?t:t=ci(o,i,r,a)(e=n)},extent:function(s){return arguments.length?(o=+s[0][0],i=+s[0][1],r=+s[1][0],a=+s[1][1],t=e=null,n):[[o,i],[r,a]]}}},Kg=av(),Bg=function(t,e){var n=e[0],o=e[1],i=[eg(n),-$v(n),0],r=0,a=0;Kg.reset();for(var s=0,p=t.length;s<p;++s)if(u=(h=t[s]).length)for(var h,u,l=h[u-1],c=l[0],f=l[1]/2+Yv,d=eg(f),y=$v(f),v=0;v<u;++v,c=m,d=x,y=_,l=g){var g=h[v],m=g[0],b=g[1]/2+Yv,x=eg(b),_=$v(b),w=m-c,P=w>=0?1:-1,S=P*w,C=S>Xv,M=d*x;if(Kg.add(Vv(M*P*eg(S),y*_+M*$v(S))),r+=C?w+P*Gv:w,C^c>=n^m>=n){var T=Oo(Io(l),Io(g));Do(T);var A=Oo(i,T);Do(A);var E=(C^w>=0?-1:1)*xo(A[2]);(o>E||o===E&&(T[0]||T[1]))&&(a+=C^w>=0?1:-1)}}return(r<-Kv||r<Kv&&Kg<-Kv)^1&a},Xg=av(),Ug={sphere:wo,point:wo,lineStart:fi,lineEnd:wo,polygonStart:wo,polygonEnd:wo},Yg=function(t){return Xg.reset(),sg(t,Ug),+Xg},Gg=[null,null],Wg={type:"LineString",coordinates:Gg},zg=function(t,e){return Gg[0]=t,Gg[1]=e,Yg(Wg)},Hg={Feature:function(t,e){return gi(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,o=-1,i=n.length;++o<i;)if(gi(n[o].geometry,e))return!0;return!1}},qg={Sphere:function(){return!0},Point:function(t,e){return mi(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,o=-1,i=n.length;++o<i;)if(mi(n[o],e))return!0;return!1},LineString:function(t,e){return bi(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,o=-1,i=n.length;++o<i;)if(bi(n[o],e))return!0;return!1},Polygon:function(t,e){return xi(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,o=-1,i=n.length;++o<i;)if(xi(n[o],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,o=-1,i=n.length;++o<i;)if(gi(n[o],e))return!0;return!1}},Vg=function(t,e){return(t&&Hg.hasOwnProperty(t.type)?Hg[t.type]:gi)(t,e)},$g=function(t,e){var n=t[0]*zv,o=t[1]*zv,i=e[0]*zv,r=e[1]*zv,a=$v(o),s=eg(o),p=$v(r),h=eg(r),u=a*$v(n),l=a*eg(n),c=p*$v(i),f=p*eg(i),d=2*xo(og(_o(r-o)+a*p*_o(i-n))),y=eg(d),v=d?function(t){var e=eg(t*=d)/y,n=eg(d-t)/y,o=n*u+e*c,i=n*l+e*f,r=n*s+e*h;return[Vv(i,o)*Wv,Vv(r,og(o*o+i*i))*Wv]}:function(){return[n*Wv,o*Wv]};return v.distance=d,v},Zg=function(t){return t},Jg=av(),Qg=av(),tm={point:wo,lineStart:wo,lineEnd:wo,polygonStart:function(){tm.lineStart=Ti,tm.lineEnd=Li},polygonEnd:function(){tm.lineStart=tm.lineEnd=tm.point=wo,Jg.add(Hv(Qg)),Qg.reset()},result:function(){var t=Jg/2;return Jg.reset(),t}},em=1/0,nm=em,om=-em,im=om,rm={point:Ii,lineStart:wo,lineEnd:wo,polygonStart:wo,polygonEnd:wo,result:function(){var t=[[em,nm],[om,im]];return om=im=-(nm=em=1/0),t}},am=0,sm=0,pm=0,hm=0,um=0,lm=0,cm=0,fm=0,dm=0,ym={point:Ni,lineStart:Oi,lineEnd:Di,polygonStart:function(){ym.lineStart=Fi,ym.lineEnd=ji},polygonEnd:function(){ym.point=Ni,ym.lineStart=Oi,ym.lineEnd=Di},result:function(){var t=dm?[cm/dm,fm/dm]:lm?[hm/lm,um/lm]:pm?[am/pm,sm/pm]:[NaN,NaN];return am=sm=pm=hm=um=lm=cm=fm=dm=0,t}};Xi.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Gv)}},result:wo};var vm,gm,mm,bm,xm,_m=av(),wm={point:wo,lineStart:function(){wm.point=Ui},lineEnd:function(){vm&&Yi(gm,mm),wm.point=wo},polygonStart:function(){vm=!0},polygonEnd:function(){vm=null},result:function(){var t=+_m;return _m.reset(),t}};Gi.prototype={_radius:4.5,_circle:Wi(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Wi(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var Pm=function(t,e){function n(t){return t&&("function"==typeof r&&i.pointRadius(+r.apply(this,arguments)),sg(t,o(i))),i.result()}var o,i,r=4.5;return n.area=function(t){return sg(t,o(tm)),tm.result()},n.measure=function(t){return sg(t,o(wm)),wm.result()},n.bounds=function(t){return sg(t,o(rm)),rm.result()},n.centroid=function(t){return sg(t,o(ym)),ym.result()},n.projection=function(e){return arguments.length?(o=null==e?(t=null,Zg):(t=e).stream,n):t},n.context=function(t){return arguments.length?(i=null==t?(e=null,new Gi):new Xi(e=t),"function"!=typeof r&&i.pointRadius(r),n):e},n.pointRadius=function(t){return arguments.length?(r="function"==typeof t?t:(i.pointRadius(+t),+t),n):r},n.projection(t).context(e)},Sm=function(t,e,n,o){return function(i,r){function a(e,n){var o=i(e,n);t(e=o[0],n=o[1])&&r.point(e,n)}function s(t,e){var n=i(t,e);v.point(n[0],n[1])}function p(){_.point=s,v.lineStart()}function h(){
_.point=a,v.lineEnd()}function u(t,e){y.push([t,e]);var n=i(t,e);b.point(n[0],n[1])}function l(){b.lineStart(),y=[]}function c(){u(y[0][0],y[0][1]),b.lineEnd();var t,e,n,o,i=b.clean(),a=m.result(),s=a.length;if(y.pop(),f.push(y),y=null,s)if(1&i){if(n=a[0],(e=n.length-1)>0){for(x||(r.polygonStart(),x=!0),r.lineStart(),t=0;t<e;++t)r.point((o=n[t])[0],o[1]);r.lineEnd()}}else s>1&&2&i&&a.push(a.pop().concat(a.shift())),d.push(a.filter(zi))}var f,d,y,v=e(r),g=i.invert(o[0],o[1]),m=Ng(),b=e(m),x=!1,_={point:a,lineStart:p,lineEnd:h,polygonStart:function(){_.point=u,_.lineStart=l,_.lineEnd=c,d=[],f=[]},polygonEnd:function(){_.point=a,_.lineStart=p,_.lineEnd=h,d=_u(d);var t=Bg(f,g);d.length?(x||(r.polygonStart(),x=!0),Rg(d,Hi,t,n,r)):t&&(x||(r.polygonStart(),x=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),x&&(r.polygonEnd(),x=!1),d=f=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};return _}},Cm=Sm(function(){return!0},qi,$i,[-Xv,-Uv]),Mm=function(t,e){function n(n,o,i,r){pi(r,t,e,i,n,o)}function o(t,e){return $v(t)*$v(e)>s}function i(t){var e,n,i,s,u;return{lineStart:function(){s=i=!1,u=1},point:function(l,c){var f,d=[l,c],y=o(l,c),v=p?y?0:a(l,c):y?a(l+(l<0?Xv:-Xv),c):0;if(!e&&(s=i=y)&&t.lineStart(),y!==i&&(f=r(e,d),(!f||kg(e,f)||kg(d,f))&&(d[0]+=Kv,d[1]+=Kv,y=o(d[0],d[1]))),y!==i)u=0,y?(t.lineStart(),f=r(d,e),t.point(f[0],f[1])):(f=r(e,d),t.point(f[0],f[1]),t.lineEnd()),e=f;else if(h&&e&&p^y){var g;v&n||!(g=r(d,e,!0))||(u=0,p?(t.lineStart(),t.point(g[0][0],g[0][1]),t.point(g[1][0],g[1][1]),t.lineEnd()):(t.point(g[1][0],g[1][1]),t.lineEnd(),t.lineStart(),t.point(g[0][0],g[0][1])))}!y||e&&kg(e,d)||t.point(d[0],d[1]),e=d,i=y,n=v},lineEnd:function(){i&&t.lineEnd(),e=null},clean:function(){return u|(s&&i)<<1}}}function r(t,e,n){var o=Io(t),i=Io(e),r=[1,0,0],a=Oo(o,i),p=No(a,a),h=a[0],u=p-h*h;if(!u)return!n&&t;var l=s*p/u,c=-s*h/u,f=Oo(r,a),d=Ro(r,l),y=Ro(a,c);ko(d,y);var v=f,g=No(d,v),m=No(v,v),b=g*g-m*(No(d,d)-1);if(!(b<0)){var x=og(b),_=Ro(v,(-g-x)/m);if(ko(_,d),_=Lo(_),!n)return _;var w,P=t[0],S=e[0],C=t[1],M=e[1];S<P&&(w=P,P=S,S=w);var T=S-P,A=Hv(T-Xv)<Kv,E=A||T<Kv;if(!A&&M<C&&(w=C,C=M,M=w),E?A?C+M>0^_[1]<(Hv(_[0]-P)<Kv?C:M):C<=_[1]&&_[1]<=M:T>Xv^(P<=_[0]&&_[0]<=S)){var L=Ro(v,(-g+x)/m);return ko(L,d),[_,Lo(L)]}}}function a(e,n){var o=p?t:Xv-t,i=0;return e<-o?i|=1:e>o&&(i|=2),n<-o?i|=4:n>o&&(i|=8),i}var s=$v(t),p=s>0,h=Hv(s)>Kv;return Sm(o,i,n,p?[0,-t]:[-Xv,t-Xv])},Tm=function(t){return{stream:Zi(t)}};Ji.prototype={constructor:Ji,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Am=16,Em=$v(30*zv),Lm=function(t,e){return+e?nr(t,e):er(t)},Im=Zi({point:function(t,e){this.stream.point(t*zv,e*zv)}}),Nm=function(){return rr(sr).scale(155.424).center([0,33.6442])},Om=function(){return Nm().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},km=function(){function t(t){var e=t[0],n=t[1];return s=null,i.point(e,n),s||(r.point(e,n),s)||(a.point(e,n),s)}function e(){return n=o=null,t}var n,o,i,r,a,s,p=Om(),h=Nm().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=Nm().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,e){s=[t,e]}};return t.invert=function(t){var e=p.scale(),n=p.translate(),o=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&o>=-.425&&o<-.214?h:i>=.166&&i<.234&&o>=-.214&&o<-.115?u:p).invert(t)},t.stream=function(t){return n&&o===t?n:n=pr([p.stream(o=t),h.stream(t),u.stream(t)])},t.precision=function(t){return arguments.length?(p.precision(t),h.precision(t),u.precision(t),e()):p.precision()},t.scale=function(e){return arguments.length?(p.scale(e),h.scale(.35*e),u.scale(e),t.translate(p.translate())):p.scale()},t.translate=function(t){if(!arguments.length)return p.translate();var n=p.scale(),o=+t[0],s=+t[1];return i=p.translate(t).clipExtent([[o-.455*n,s-.238*n],[o+.455*n,s+.238*n]]).stream(l),r=h.translate([o-.307*n,s+.201*n]).clipExtent([[o-.425*n+Kv,s+.12*n+Kv],[o-.214*n-Kv,s+.234*n-Kv]]).stream(l),a=u.translate([o-.205*n,s+.212*n]).clipExtent([[o-.214*n+Kv,s+.166*n+Kv],[o-.115*n-Kv,s+.234*n-Kv]]).stream(l),e()},t.fitExtent=function(e,n){return Qi(t,e,n)},t.fitSize=function(e,n){return tr(t,e,n)},t.scale(1070)},Rm=hr(function(t){return og(2/(1+t))});Rm.invert=ur(function(t){return 2*xo(t/2)});var Dm=function(){return or(Rm).scale(124.75).clipAngle(179.999)},Fm=hr(function(t){return(t=bo(t))&&t/eg(t)});Fm.invert=ur(function(t){return t});var jm=function(){return or(Fm).scale(79.4188).clipAngle(179.999)};lr.invert=function(t,e){return[t,2*qv(Jv(e))-Uv]};var Km=function(){return cr(lr).scale(961/Gv)},Bm=function(){return rr(dr).scale(109.5).parallels([30,30])};yr.invert=yr;var Xm=function(){return or(yr).scale(152.63)},Um=function(){return rr(vr).scale(131.154).center([0,13.9389])};gr.invert=ur(qv);var Ym=function(){return or(gr).scale(144.049).clipAngle(60)},Gm=function(){function t(){return i=r=null,a}var e,n,o,i,r,a,s=1,p=0,h=0,u=1,l=1,c=Zg,f=null,d=Zg;return a={stream:function(t){return i&&r===t?i:i=c(d(r=t))},clipExtent:function(i){return arguments.length?(d=null==i?(f=e=n=o=null,Zg):ci(f=+i[0][0],e=+i[0][1],n=+i[1][0],o=+i[1][1]),t()):null==f?null:[[f,e],[n,o]]},scale:function(e){return arguments.length?(c=mr((s=+e)*u,s*l,p,h),t()):s},translate:function(e){return arguments.length?(c=mr(s*u,s*l,p=+e[0],h=+e[1]),t()):[p,h]},reflectX:function(e){return arguments.length?(c=mr(s*(u=e?-1:1),s*l,p,h),t()):u<0},reflectY:function(e){return arguments.length?(c=mr(s*u,s*(l=e?-1:1),p,h),t()):l<0},fitExtent:function(t,e){return Qi(a,t,e)},fitSize:function(t,e){return tr(a,t,e)}}};br.invert=ur(xo);var Wm=function(){return or(br).scale(249.5).clipAngle(90+Kv)};xr.invert=ur(function(t){return 2*qv(t)});var zm=function(){return or(xr).scale(250).clipAngle(142)};_r.invert=function(t,e){return[-e,2*qv(Jv(t))-Uv]};var Hm=function(){var t=cr(_r),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90]).scale(159.155)},qm=function(){function t(t){var r,a=0;t.eachAfter(function(t){var n=t.children;n?(t.x=Pr(n),t.y=Cr(n)):(t.x=r?a+=e(t,r):0,t.y=0,r=t)});var s=Tr(t),p=Ar(t),h=s.x-e(s,p)/2,u=p.x+e(p,s)/2;return t.eachAfter(i?function(e){e.x=(e.x-t.x)*n,e.y=(t.y-e.y)*o}:function(e){e.x=(e.x-h)/(u-h)*n,e.y=(1-(t.y?e.y/t.y:1))*o})}var e=wr,n=1,o=1,i=!1;return t.separation=function(n){return arguments.length?(e=n,t):e},t.size=function(e){return arguments.length?(i=!1,n=+e[0],o=+e[1],t):i?null:[n,o]},t.nodeSize=function(e){return arguments.length?(i=!0,n=+e[0],o=+e[1],t):i?[n,o]:null},t},Vm=function(){return this.eachAfter(Er)},$m=function(t){var e,n,o,i,r=this,a=[r];do for(e=a.reverse(),a=[];r=e.pop();)if(t(r),n=r.children)for(o=0,i=n.length;o<i;++o)a.push(n[o]);while(a.length);return this},Zm=function(t){for(var e,n,o=this,i=[o];o=i.pop();)if(t(o),e=o.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},Jm=function(t){for(var e,n,o,i=this,r=[i],a=[];i=r.pop();)if(a.push(i),e=i.children)for(n=0,o=e.length;n<o;++n)r.push(e[n]);for(;i=a.pop();)t(i);return this},Qm=function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,o=e.children,i=o&&o.length;--i>=0;)n+=o[i].value;e.value=n})},tb=function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},eb=function(t){for(var e=this,n=Lr(e,t),o=[e];e!==n;)e=e.parent,o.push(e);for(var i=o.length;t!==n;)o.splice(i,0,t),t=t.parent;return o},nb=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},ob=function(){var t=[];return this.each(function(e){t.push(e)}),t},ib=function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},rb=function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e};Dr.prototype=Ir.prototype={constructor:Dr,count:Vm,each:$m,eachAfter:Jm,eachBefore:Zm,sum:Qm,sort:tb,path:eb,ancestors:nb,descendants:ob,leaves:ib,links:rb,copy:Nr};var ab=function(t){for(var e,n=(t=t.slice()).length,o=null,i=o;n;){var r=new Fr(t[n-1]);i=i?i.next=r:o=r,t[e]=t[--n]}return{head:o,tail:i}},sb=function(t){return Kr(ab(t),[])},pb=function(t){return Hr(t),t},hb=function(t){return function(){return t}},ub=function(){function t(t){return t.x=n/2,t.y=o/2,e?t.eachBefore(Jr(e)).eachAfter(Qr(i,.5)).eachBefore(ta(1)):t.eachBefore(Jr(Zr)).eachAfter(Qr($r,1)).eachAfter(Qr(i,t.r/Math.min(n,o))).eachBefore(ta(Math.min(n,o)/(2*t.r))),t}var e=null,n=1,o=1,i=$r;return t.radius=function(n){return arguments.length?(e=qr(n),t):e},t.size=function(e){return arguments.length?(n=+e[0],o=+e[1],t):[n,o]},t.padding=function(e){return arguments.length?(i="function"==typeof e?e:hb(+e),t):i},t},lb=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},cb=function(t,e,n,o,i){for(var r,a=t.children,s=-1,p=a.length,h=t.value&&(o-e)/t.value;++s<p;)r=a[s],r.y0=n,r.y1=i,r.x0=e,r.x1=e+=r.value*h},fb=function(){function t(t){var a=t.height+1;return t.x0=t.y0=i,t.x1=n,t.y1=o/a,t.eachBefore(e(o,a)),r&&t.eachBefore(lb),t}function e(t,e){return function(n){n.children&&cb(n,n.x0,t*(n.depth+1)/e,n.x1,t*(n.depth+2)/e);var o=n.x0,r=n.y0,a=n.x1-i,s=n.y1-i;a<o&&(o=a=(o+a)/2),s<r&&(r=s=(r+s)/2),n.x0=o,n.y0=r,n.x1=a,n.y1=s}}var n=1,o=1,i=0,r=!1;return t.round=function(e){return arguments.length?(r=!!e,t):r},t.size=function(e){return arguments.length?(n=+e[0],o=+e[1],t):[n,o]},t.padding=function(e){return arguments.length?(i=+e,t):i},t},db="$",yb={depth:-1},vb={},gb=function(){function t(t){var o,i,r,a,s,p,h,u=t.length,l=new Array(u),c={};for(i=0;i<u;++i)o=t[i],s=l[i]=new Dr(o),null!=(p=e(o,i,t))&&(p+="")&&(h=db+(s.id=p),c[h]=h in c?vb:s);for(i=0;i<u;++i)if(s=l[i],p=n(t[i],i,t),null!=p&&(p+="")){if(a=c[db+p],!a)throw new Error("missing: "+p);if(a===vb)throw new Error("ambiguous: "+p);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(r)throw new Error("multiple roots");r=s}if(!r)throw new Error("no root");if(r.parent=yb,r.eachBefore(function(t){t.depth=t.parent.depth+1,--u}).eachBefore(Rr),r.parent=null,u>0)throw new Error("cycle");return r}var e=ea,n=na;return t.id=function(n){return arguments.length?(e=Vr(n),t):e},t.parentId=function(e){return arguments.length?(n=Vr(e),t):n},t};ha.prototype=Object.create(Dr.prototype);var mb=function(){function t(t){var o=ua(t);if(o.eachAfter(e),o.parent.m=-o.z,o.eachBefore(n),p)t.eachBefore(i);else{var h=t,u=t,l=t;t.eachBefore(function(t){t.x<h.x&&(h=t),t.x>u.x&&(u=t),t.depth>l.depth&&(l=t)});var c=h===u?1:r(h,u)/2,f=c-h.x,d=a/(u.x+c+f),y=s/(l.depth||1);t.eachBefore(function(t){t.x=(t.x+f)*d,t.y=t.depth*y})}return t}function e(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e){sa(t);var a=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+r(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+r(t._,i._));t.parent.A=o(t,i,t.parent.A||n[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function o(t,e,n){if(e){for(var o,i=t,a=t,s=e,p=i.parent.children[0],h=i.m,u=a.m,l=s.m,c=p.m;s=ra(s),i=ia(i),s&&i;)p=ia(p),a=ra(a),a.a=t,o=s.z+l-i.z-h+r(s._,i._),o>0&&(aa(pa(s,t,n),t,o),h+=o,u+=o),l+=s.m,h+=i.m,c+=p.m,u+=a.m;s&&!ra(a)&&(a.t=s,a.m+=l-u),i&&!ia(p)&&(p.t=i,p.m+=h-c,n=t)}return n}function i(t){t.x*=a,t.y=t.depth*s}var r=oa,a=1,s=1,p=null;return t.separation=function(e){return arguments.length?(r=e,t):r},t.size=function(e){return arguments.length?(p=!1,a=+e[0],s=+e[1],t):p?null:[a,s]},t.nodeSize=function(e){return arguments.length?(p=!0,a=+e[0],s=+e[1],t):p?[a,s]:null},t},bb=function(t,e,n,o,i){for(var r,a=t.children,s=-1,p=a.length,h=t.value&&(i-n)/t.value;++s<p;)r=a[s],r.x0=e,r.x1=o,r.y0=n,r.y1=n+=r.value*h},xb=(1+Math.sqrt(5))/2,_b=function t(e){function n(t,n,o,i,r){la(e,t,n,o,i,r)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(xb),wb=function(){function t(t){return t.x0=t.y0=0,t.x1=i,t.y1=r,t.eachBefore(e),a=[0],o&&t.eachBefore(lb),t}function e(t){var e=a[t.depth],o=t.x0+e,i=t.y0+e,r=t.x1-e,c=t.y1-e;r<o&&(o=r=(o+r)/2),c<i&&(i=c=(i+c)/2),t.x0=o,t.y0=i,t.x1=r,t.y1=c,t.children&&(e=a[t.depth+1]=s(t)/2,o+=l(t)-e,i+=p(t)-e,r-=h(t)-e,c-=u(t)-e,r<o&&(o=r=(o+r)/2),c<i&&(i=c=(i+c)/2),n(t,o,i,r,c))}var n=_b,o=!1,i=1,r=1,a=[0],s=$r,p=$r,h=$r,u=$r,l=$r;return t.round=function(e){return arguments.length?(o=!!e,t):o},t.size=function(e){return arguments.length?(i=+e[0],r=+e[1],t):[i,r]},t.tile=function(e){return arguments.length?(n=Vr(e),t):n},t.padding=function(e){return arguments.length?t.paddingInner(e).paddingOuter(e):t.paddingInner()},t.paddingInner=function(e){return arguments.length?(s="function"==typeof e?e:hb(+e),t):s},t.paddingOuter=function(e){return arguments.length?t.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):t.paddingTop()},t.paddingTop=function(e){return arguments.length?(p="function"==typeof e?e:hb(+e),t):p},t.paddingRight=function(e){return arguments.length?(h="function"==typeof e?e:hb(+e),t):h},t.paddingBottom=function(e){return arguments.length?(u="function"==typeof e?e:hb(+e),t):u},t.paddingLeft=function(e){return arguments.length?(l="function"==typeof e?e:hb(+e),t):l},t},Pb=function(t,e,n,o,i){function r(t,e,n,o,i,a,s){if(t>=e-1){var h=p[t];return h.x0=o,h.y0=i,h.x1=a,h.y1=s,void 0}for(var l=u[t],c=n/2+l,f=t+1,d=e-1;f<d;){var y=f+d>>>1;u[y]<c?f=y+1:d=y}c-u[f-1]<u[f]-c&&t+1<f&&--f;var v=u[f]-l,g=n-v;if(a-o>s-i){var m=(o*g+a*v)/n;r(t,f,v,o,i,m,s),r(f,e,g,m,i,a,s)}else{var b=(i*g+s*v)/n;r(t,f,v,o,i,a,b),r(f,e,g,o,b,a,s)}}var a,s,p=t.children,h=p.length,u=new Array(h+1);for(u[0]=s=a=0;a<h;++a)u[a+1]=s+=p[a].value;r(0,h,t.value,e,n,o,i)},Sb=function(t,e,n,o,i){(1&t.depth?bb:cb)(t,e,n,o,i)},Cb=function t(e){function n(t,n,o,i,r){if((a=t._squarify)&&a.ratio===e)for(var a,s,p,h,u,l=-1,c=a.length,f=t.value;++l<c;){for(s=a[l],p=s.children,h=s.value=0,u=p.length;h<u;++h)s.value+=p[h].value;s.dice?cb(s,n,o,i,o+=(r-o)*s.value/f):bb(s,n,o,n+=(i-n)*s.value/f,r),f-=s.value}else t._squarify=a=la(e,t,n,o,i,r),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(xb),Mb=function(t){for(var e,n=-1,o=t.length,i=t[o-1],r=0;++n<o;)e=i,i=t[n],r+=e[1]*i[0]-e[0]*i[1];return r/2},Tb=function(t){for(var e,n,o=-1,i=t.length,r=0,a=0,s=t[i-1],p=0;++o<i;)e=s,s=t[o],p+=n=e[0]*s[1]-s[0]*e[1],r+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return p*=3,[r/p,a/p]},Ab=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])},Eb=function(t){if((n=t.length)<3)return null;var e,n,o=new Array(n),i=new Array(n);for(e=0;e<n;++e)o[e]=[+t[e][0],+t[e][1],e];for(o.sort(ca),e=0;e<n;++e)i[e]=[o[e][0],-o[e][1]];var r=fa(o),a=fa(i),s=a[0]===r[0],p=a[a.length-1]===r[r.length-1],h=[];for(e=r.length-1;e>=0;--e)h.push(t[o[r[e]][2]]);for(e=+s;e<a.length-p;++e)h.push(t[o[a[e]][2]]);return h},Lb=function(t,e){for(var n,o,i=t.length,r=t[i-1],a=e[0],s=e[1],p=r[0],h=r[1],u=!1,l=0;l<i;++l)r=t[l],n=r[0],o=r[1],o>s!=h>s&&a<(p-n)*(s-o)/(h-o)+n&&(u=!u),p=n,h=o;return u},Ib=function(t){for(var e,n,o=-1,i=t.length,r=t[i-1],a=r[0],s=r[1],p=0;++o<i;)e=a,n=s,r=t[o],a=r[0],s=r[1],e-=a,n-=s,p+=Math.sqrt(e*e+n*n);return p},Nb=[].slice,Ob={};da.prototype=xa.prototype={constructor:da,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var e=Nb.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),ya(this),this},abort:function(){return null==this._error&&ma(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(e,n){t.apply(null,[e].concat(n))},ba(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,ba(this),this}};var kb=function(){return Math.random()},Rb=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(kb),Db=function t(e){function n(t,n){var o,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var r;if(null!=o)r=o,o=null;else do o=2*e()-1,r=2*e()-1,i=o*o+r*r;while(!i||i>1);return t+n*r*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(kb),Fb=function t(e){function n(){var t=Db.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(kb),jb=function t(e){function n(t){return function(){for(var n=0,o=0;o<t;++o)n+=e();return n}}return n.source=t,n}(kb),Kb=function t(e){function n(t){var n=jb.source(e)(t);return function(){return n()/t}}return n.source=t,n}(kb),Bb=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(kb),Xb=function(t,e){function n(t){var e,n=h.status;if(!n&&wa(h)||n>=200&&n<300||304===n){if(r)try{e=r.call(o,h)}catch(t){return void s.call("error",o,t)}else e=h;s.call("load",o,e)}else s.call("error",o,t)}var o,i,r,a,s=y("beforesend","progress","load","error"),p=Yn(),h=new XMLHttpRequest,u=null,l=null,c=0;if("undefined"==typeof XDomainRequest||"withCredentials"in h||!/^(http(s)?:)?\/\//.test(t)||(h=new XDomainRequest),"onload"in h?h.onload=h.onerror=h.ontimeout=n:h.onreadystatechange=function(t){h.readyState>3&&n(t)},h.onprogress=function(t){s.call("progress",o,t)},o={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?p.get(t):(null==e?p.remove(t):p.set(t,e+""),o)},mimeType:function(t){return arguments.length?(i=null==t?null:t+"",o):i},responseType:function(t){return arguments.length?(a=t,o):a},timeout:function(t){return arguments.length?(c=+t,o):c},user:function(t){return arguments.length<1?u:(u=null==t?null:t+"",o)},password:function(t){return arguments.length<1?l:(l=null==t?null:t+"",o)},response:function(t){return r=t,o},get:function(t,e){return o.send("GET",t,e)},post:function(t,e){return o.send("POST",t,e)},send:function(e,n,r){return h.open(e,t,!0,u,l),null==i||p.has("accept")||p.set("accept",i+",*/*"),h.setRequestHeader&&p.each(function(t,e){h.setRequestHeader(e,t)}),null!=i&&h.overrideMimeType&&h.overrideMimeType(i),null!=a&&(h.responseType=a),c>0&&(h.timeout=c),null==r&&"function"==typeof n&&(r=n,n=null),null!=r&&1===r.length&&(r=_a(r)),null!=r&&o.on("error",r).on("load",function(t){r(null,t)}),s.call("beforesend",o,h),h.send(null==n?null:n),o},abort:function(){return h.abort(),o},on:function(){var t=s.on.apply(s,arguments);return t===s?o:t}},null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return o.get(e)}return o},Ub=function(t,e){return function(n,o){var i=Xb(n).mimeType(t).response(e);if(null!=o){if("function"!=typeof o)throw new Error("invalid callback: "+o);return i.get(o)}return i}},Yb=Ub("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),Gb=Ub("application/json",function(t){return JSON.parse(t.responseText)}),Wb=Ub("text/plain",function(t){return t.responseText}),zb=Ub("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e}),Hb=function(t,e){return function(n,o,i){arguments.length<3&&(i=o,o=null);var r=Xb(n).mimeType(t);return r.row=function(t){return arguments.length?r.response(Pa(e,o=t)):o},r.row(o),i?r.get(i):r}},qb=Hb("text/csv",hy),Vb=Hb("text/tab-separated-values",dy),$b=Array.prototype,Zb=$b.map,Jb=$b.slice,Qb={name:"implicit"},tx=function(t){return function(){return t}},ex=function(t){return+t},nx=[0,1],ox=function(e,n,o){var r,a=e[0],s=e[e.length-1],p=i(a,s,null==n?10:n);switch(o=fo(null==o?",f":o),o.type){case"s":var h=Math.max(Math.abs(a),Math.abs(s));return null!=o.precision||isNaN(r=iv(p,h))||(o.precision=r),t.formatPrefix(o,h);case"":case"e":case"g":case"p":case"r":null!=o.precision||isNaN(r=rv(p,Math.max(Math.abs(a),Math.abs(s))))||(o.precision=r-("e"===o.type));break;case"f":case"%":null!=o.precision||isNaN(r=ov(p))||(o.precision=r-2*("%"===o.type))}return t.format(o)},ix=function(t,e){t=t.slice();var n,o=0,i=t.length-1,r=t[o],a=t[i];return a<r&&(n=o,o=i,i=n,n=r,r=a,a=n),t[o]=e.floor(r),t[i]=e.ceil(a),t},rx=new Date,ax=new Date,sx=Za(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});sx.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Za(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):sx:null};var px=sx.range,hx=1e3,ux=6e4,lx=36e5,cx=864e5,fx=6048e5,dx=Za(function(t){t.setTime(Math.floor(t/hx)*hx)},function(t,e){t.setTime(+t+e*hx)},function(t,e){return(e-t)/hx},function(t){return t.getUTCSeconds()}),yx=dx.range,vx=Za(function(t){t.setTime(Math.floor(t/ux)*ux)},function(t,e){t.setTime(+t+e*ux)},function(t,e){return(e-t)/ux},function(t){return t.getMinutes()}),gx=vx.range,mx=Za(function(t){var e=t.getTimezoneOffset()*ux%lx;e<0&&(e+=lx),t.setTime(Math.floor((+t-e)/lx)*lx+e)},function(t,e){t.setTime(+t+e*lx)},function(t,e){return(e-t)/lx},function(t){return t.getHours()}),bx=mx.range,xx=Za(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ux)/cx},function(t){return t.getDate()-1}),_x=xx.range,wx=Ja(0),Px=Ja(1),Sx=Ja(2),Cx=Ja(3),Mx=Ja(4),Tx=Ja(5),Ax=Ja(6),Ex=wx.range,Lx=Px.range,Ix=Sx.range,Nx=Cx.range,Ox=Mx.range,kx=Tx.range,Rx=Ax.range,Dx=Za(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Fx=Dx.range,jx=Za(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});jx.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Za(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var Kx=jx.range,Bx=Za(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*ux)},function(t,e){return(e-t)/ux},function(t){return t.getUTCMinutes()}),Xx=Bx.range,Ux=Za(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*lx)},function(t,e){return(e-t)/lx},function(t){return t.getUTCHours()}),Yx=Ux.range,Gx=Za(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/cx},function(t){return t.getUTCDate()-1}),Wx=Gx.range,zx=Qa(0),Hx=Qa(1),qx=Qa(2),Vx=Qa(3),$x=Qa(4),Zx=Qa(5),Jx=Qa(6),Qx=zx.range,t_=Hx.range,e_=qx.range,n_=Vx.range,o_=$x.range,i_=Zx.range,r_=Jx.range,a_=Za(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),s_=a_.range,p_=Za(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});p_.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Za(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var h_,u_=p_.range,l_={"-":"",_:" ",0:"0"},c_=/^\s*\d+/,f_=/^%/,d_=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;Zs({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var y_="%Y-%m-%dT%H:%M:%S.%LZ",v_=Date.prototype.toISOString?Js:t.utcFormat(y_),g_=+new Date("2000-01-01T00:00:00.000Z")?Qs:t.utcParse(y_),m_=1e3,b_=60*m_,x_=60*b_,__=24*x_,w_=7*__,P_=30*__,S_=365*__,C_=function(){return np(jx,Dx,wx,xx,mx,vx,dx,sx,t.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},M_=function(){return np(p_,a_,zx,Gx,Ux,Bx,dx,sx,t.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},T_=function(t){return t.match(/.{6}/g).map(function(t){return"#"+t})},A_=T_("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),E_=T_("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),L_=T_("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),I_=T_("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),N_=nf(qt(300,.5,0),qt(-240,.5,1)),O_=nf(qt(-100,.75,.35),qt(80,1.5,.8)),k_=nf(qt(260,.75,.35),qt(80,1.5,.8)),R_=qt(),D_=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return R_.h=360*t-100,R_.s=1.5-1.5*e,R_.l=.8-.9*e,R_+""},F_=op(T_("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),j_=op(T_("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),K_=op(T_("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),B_=op(T_("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),X_=function(t){return function(){return t}},U_=Math.abs,Y_=Math.atan2,G_=Math.cos,W_=Math.max,z_=Math.min,H_=Math.sin,q_=Math.sqrt,V_=1e-12,$_=Math.PI,Z_=$_/2,J_=2*$_,Q_=function(){function t(){var t,h,u=+e.apply(this,arguments),l=+n.apply(this,arguments),c=r.apply(this,arguments)-Z_,f=a.apply(this,arguments)-Z_,d=U_(f-c),y=f>c;if(p||(p=t=Dn()),l<u&&(h=l,l=u,u=h),l>V_)if(d>J_-V_)p.moveTo(l*G_(c),l*H_(c)),p.arc(0,0,l,c,f,!y),u>V_&&(p.moveTo(u*G_(f),u*H_(f)),p.arc(0,0,u,f,c,y));else{var v,g,m=c,b=f,x=c,_=f,w=d,P=d,S=s.apply(this,arguments)/2,C=S>V_&&(i?+i.apply(this,arguments):q_(u*u+l*l)),M=z_(U_(l-u)/2,+o.apply(this,arguments)),T=M,A=M;if(C>V_){var E=ap(C/u*H_(S)),L=ap(C/l*H_(S));
(w-=2*E)>V_?(E*=y?1:-1,x+=E,_-=E):(w=0,x=_=(c+f)/2),(P-=2*L)>V_?(L*=y?1:-1,m+=L,b-=L):(P=0,m=b=(c+f)/2)}var I=l*G_(m),N=l*H_(m),O=u*G_(_),k=u*H_(_);if(M>V_){var R=l*G_(b),D=l*H_(b),F=u*G_(x),j=u*H_(x);if(d<$_){var K=w>V_?cp(I,N,F,j,R,D,O,k):[O,k],B=I-K[0],X=N-K[1],U=R-K[0],Y=D-K[1],G=1/H_(rp((B*U+X*Y)/(q_(B*B+X*X)*q_(U*U+Y*Y)))/2),W=q_(K[0]*K[0]+K[1]*K[1]);T=z_(M,(u-W)/(G-1)),A=z_(M,(l-W)/(G+1))}}P>V_?A>V_?(v=fp(F,j,I,N,l,A,y),g=fp(R,D,O,k,l,A,y),p.moveTo(v.cx+v.x01,v.cy+v.y01),A<M?p.arc(v.cx,v.cy,A,Y_(v.y01,v.x01),Y_(g.y01,g.x01),!y):(p.arc(v.cx,v.cy,A,Y_(v.y01,v.x01),Y_(v.y11,v.x11),!y),p.arc(0,0,l,Y_(v.cy+v.y11,v.cx+v.x11),Y_(g.cy+g.y11,g.cx+g.x11),!y),p.arc(g.cx,g.cy,A,Y_(g.y11,g.x11),Y_(g.y01,g.x01),!y))):(p.moveTo(I,N),p.arc(0,0,l,m,b,!y)):p.moveTo(I,N),u>V_&&w>V_?T>V_?(v=fp(O,k,R,D,u,-T,y),g=fp(I,N,F,j,u,-T,y),p.lineTo(v.cx+v.x01,v.cy+v.y01),T<M?p.arc(v.cx,v.cy,T,Y_(v.y01,v.x01),Y_(g.y01,g.x01),!y):(p.arc(v.cx,v.cy,T,Y_(v.y01,v.x01),Y_(v.y11,v.x11),!y),p.arc(0,0,u,Y_(v.cy+v.y11,v.cx+v.x11),Y_(g.cy+g.y11,g.cx+g.x11),y),p.arc(g.cx,g.cy,T,Y_(g.y11,g.x11),Y_(g.y01,g.x01),!y))):p.arc(0,0,u,_,x,y):p.lineTo(O,k)}else p.moveTo(0,0);if(p.closePath(),t)return p=null,t+""||null}var e=sp,n=pp,o=X_(0),i=null,r=hp,a=up,s=lp,p=null;return t.centroid=function(){var t=(+e.apply(this,arguments)+ +n.apply(this,arguments))/2,o=(+r.apply(this,arguments)+ +a.apply(this,arguments))/2-$_/2;return[G_(o)*t,H_(o)*t]},t.innerRadius=function(n){return arguments.length?(e="function"==typeof n?n:X_(+n),t):e},t.outerRadius=function(e){return arguments.length?(n="function"==typeof e?e:X_(+e),t):n},t.cornerRadius=function(e){return arguments.length?(o="function"==typeof e?e:X_(+e),t):o},t.padRadius=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:X_(+e),t):i},t.startAngle=function(e){return arguments.length?(r="function"==typeof e?e:X_(+e),t):r},t.endAngle=function(e){return arguments.length?(a="function"==typeof e?e:X_(+e),t):a},t.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:X_(+e),t):s},t.context=function(e){return arguments.length?(p=null==e?null:e,t):p},t};dp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var tw=function(t){return new dp(t)},ew=function(){function t(t){var s,p,h,u=t.length,l=!1;for(null==i&&(a=r(h=Dn())),s=0;s<=u;++s)!(s<u&&o(p=t[s],s,t))===l&&((l=!l)?a.lineStart():a.lineEnd()),l&&a.point(+e(p,s,t),+n(p,s,t));if(h)return a=null,h+""||null}var e=yp,n=vp,o=X_(!0),i=null,r=tw,a=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:X_(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:X_(+e),t):n},t.defined=function(e){return arguments.length?(o="function"==typeof e?e:X_(!!e),t):o},t.curve=function(e){return arguments.length?(r=e,null!=i&&(a=r(i)),t):r},t.context=function(e){return arguments.length?(null==e?i=a=null:a=r(i=e),t):i},t},nw=function(){function t(t){var e,u,l,c,f,d=t.length,y=!1,v=new Array(d),g=new Array(d);for(null==s&&(h=p(f=Dn())),e=0;e<=d;++e){if(!(e<d&&a(c=t[e],e,t))===y)if(y=!y)u=e,h.areaStart(),h.lineStart();else{for(h.lineEnd(),h.lineStart(),l=e-1;l>=u;--l)h.point(v[l],g[l]);h.lineEnd(),h.areaEnd()}y&&(v[e]=+n(c,e,t),g[e]=+i(c,e,t),h.point(o?+o(c,e,t):v[e],r?+r(c,e,t):g[e]))}if(f)return h=null,f+""||null}function e(){return ew().defined(a).curve(p).context(s)}var n=yp,o=null,i=X_(0),r=vp,a=X_(!0),s=null,p=tw,h=null;return t.x=function(e){return arguments.length?(n="function"==typeof e?e:X_(+e),o=null,t):n},t.x0=function(e){return arguments.length?(n="function"==typeof e?e:X_(+e),t):n},t.x1=function(e){return arguments.length?(o=null==e?null:"function"==typeof e?e:X_(+e),t):o},t.y=function(e){return arguments.length?(i="function"==typeof e?e:X_(+e),r=null,t):i},t.y0=function(e){return arguments.length?(i="function"==typeof e?e:X_(+e),t):i},t.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:X_(+e),t):r},t.lineX0=t.lineY0=function(){return e().x(n).y(i)},t.lineY1=function(){return e().x(n).y(r)},t.lineX1=function(){return e().x(o).y(i)},t.defined=function(e){return arguments.length?(a="function"==typeof e?e:X_(!!e),t):a},t.curve=function(e){return arguments.length?(p=e,null!=s&&(h=p(s)),t):p},t.context=function(e){return arguments.length?(null==e?s=h=null:h=p(s=e),t):s},t},ow=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},iw=function(t){return t},rw=function(){function t(t){var s,p,h,u,l,c=t.length,f=0,d=new Array(c),y=new Array(c),v=+i.apply(this,arguments),g=Math.min(J_,Math.max(-J_,r.apply(this,arguments)-v)),m=Math.min(Math.abs(g)/c,a.apply(this,arguments)),b=m*(g<0?-1:1);for(s=0;s<c;++s)(l=y[d[s]=s]=+e(t[s],s,t))>0&&(f+=l);for(null!=n?d.sort(function(t,e){return n(y[t],y[e])}):null!=o&&d.sort(function(e,n){return o(t[e],t[n])}),s=0,h=f?(g-c*b)/f:0;s<c;++s,v=u)p=d[s],l=y[p],u=v+(l>0?l*h:0)+b,y[p]={data:t[p],index:s,value:l,startAngle:v,endAngle:u,padAngle:m};return y}var e=iw,n=ow,o=null,i=X_(0),r=X_(J_),a=X_(0);return t.value=function(n){return arguments.length?(e="function"==typeof n?n:X_(+n),t):e},t.sortValues=function(e){return arguments.length?(n=e,o=null,t):n},t.sort=function(e){return arguments.length?(o=e,n=null,t):o},t.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:X_(+e),t):i},t.endAngle=function(e){return arguments.length?(r="function"==typeof e?e:X_(+e),t):r},t.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:X_(+e),t):a},t},aw=mp(tw);gp.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var sw=function(){return bp(ew().curve(aw))},pw=function(){var t=nw().curve(aw),e=t.curve,n=t.lineX0,o=t.lineX1,i=t.lineY0,r=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return bp(n())},delete t.lineX0,t.lineEndAngle=function(){return bp(o())},delete t.lineX1,t.lineInnerRadius=function(){return bp(i())},delete t.lineY0,t.lineOuterRadius=function(){return bp(r())},delete t.lineY1,t.curve=function(t){return arguments.length?e(mp(t)):e()._curve},t},hw=Array.prototype.slice,uw=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},lw={draw:function(t,e){var n=Math.sqrt(e/$_);t.moveTo(n,0),t.arc(0,0,n,0,J_)}},cw={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},fw=Math.sqrt(1/3),dw=2*fw,yw={draw:function(t,e){var n=Math.sqrt(e/dw),o=n*fw;t.moveTo(0,-n),t.lineTo(o,0),t.lineTo(0,n),t.lineTo(-o,0),t.closePath()}},vw=.8908130915292852,gw=Math.sin($_/10)/Math.sin(7*$_/10),mw=Math.sin(J_/10)*gw,bw=-Math.cos(J_/10)*gw,xw={draw:function(t,e){var n=Math.sqrt(e*vw),o=mw*n,i=bw*n;t.moveTo(0,-n),t.lineTo(o,i);for(var r=1;r<5;++r){var a=J_*r/5,s=Math.cos(a),p=Math.sin(a);t.lineTo(p*n,-s*n),t.lineTo(s*o-p*i,p*o+s*i)}t.closePath()}},_w={draw:function(t,e){var n=Math.sqrt(e),o=-n/2;t.rect(o,o,n,n)}},ww=Math.sqrt(3),Pw={draw:function(t,e){var n=-Math.sqrt(e/(3*ww));t.moveTo(0,2*n),t.lineTo(-ww*n,-n),t.lineTo(ww*n,-n),t.closePath()}},Sw=-.5,Cw=Math.sqrt(3)/2,Mw=1/Math.sqrt(12),Tw=3*(Mw/2+1),Aw={draw:function(t,e){var n=Math.sqrt(e/Tw),o=n/2,i=n*Mw,r=o,a=n*Mw+n,s=-r,p=a;t.moveTo(o,i),t.lineTo(r,a),t.lineTo(s,p),t.lineTo(Sw*o-Cw*i,Cw*o+Sw*i),t.lineTo(Sw*r-Cw*a,Cw*r+Sw*a),t.lineTo(Sw*s-Cw*p,Cw*s+Sw*p),t.lineTo(Sw*o+Cw*i,Sw*i-Cw*o),t.lineTo(Sw*r+Cw*a,Sw*a-Cw*r),t.lineTo(Sw*s+Cw*p,Sw*p-Cw*s),t.closePath()}},Ew=[lw,cw,yw,_w,xw,Pw,Aw],Lw=function(){function t(){var t;if(o||(o=t=Dn()),e.apply(this,arguments).draw(o,+n.apply(this,arguments)),t)return o=null,t+""||null}var e=X_(lw),n=X_(64),o=null;return t.type=function(n){return arguments.length?(e="function"==typeof n?n:X_(n),t):e},t.size=function(e){return arguments.length?(n="function"==typeof e?e:X_(+e),t):n},t.context=function(e){return arguments.length?(o=null==e?null:e,t):o},t},Iw=function(){};Lp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ep(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ep(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Nw=function(t){return new Lp(t)};Ip.prototype={areaStart:Iw,areaEnd:Iw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ep(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Ow=function(t){return new Ip(t)};Np.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,o=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,o):this._context.moveTo(n,o);break;case 3:this._point=4;default:Ep(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var kw=function(t){return new Np(t)};Op.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var o,i=t[0],r=e[0],a=t[n]-i,s=e[n]-r,p=-1;++p<=n;)o=p/n,this._basis.point(this._beta*t[p]+(1-this._beta)*(i+o*a),this._beta*e[p]+(1-this._beta)*(r+o*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Rw=function t(e){function n(t){return 1===e?new Lp(t):new Op(t,e)}return n.beta=function(e){return t(+e)},n}(.85);Rp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:kp(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:kp(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Dw=function t(e){function n(t){return new Rp(t,e)}return n.tension=function(e){return t(+e)},n}(0);Dp.prototype={areaStart:Iw,areaEnd:Iw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:kp(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Fw=function t(e){function n(t){return new Dp(t,e)}return n.tension=function(e){return t(+e)},n}(0);Fp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:kp(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var jw=function t(e){function n(t){return new Fp(t,e)}return n.tension=function(e){return t(+e)},n}(0);Kp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,o=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+o*o,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:jp(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Kw=function t(e){function n(t){return e?new Kp(t,e):new Rp(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);Bp.prototype={areaStart:Iw,areaEnd:Iw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,o=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+o*o,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:jp(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Bw=function t(e){function n(t){return e?new Bp(t,e):new Dp(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);Xp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,o=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+o*o,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:jp(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Xw=function t(e){function n(t){return e?new Xp(t,e):new Fp(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);Up.prototype={areaStart:Iw,areaEnd:Iw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var Uw=function(t){return new Up(t)};Hp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zp(this,this._t0,Wp(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,zp(this,Wp(this,n=Gp(this,t,e)),n);break;default:zp(this,this._t0,n=Gp(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(qp.prototype=Object.create(Hp.prototype)).point=function(t,e){Hp.prototype.point.call(this,e,t)},Vp.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,o,i,r){this._context.bezierCurveTo(e,t,o,n,r,i)}},Jp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var o=Qp(t),i=Qp(e),r=0,a=1;a<n;++r,++a)this._context.bezierCurveTo(o[0][r],i[0][r],o[1][r],i[1][r],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Yw=function(t){return new Jp(t)};th.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Gw=function(t){return new th(t,.5)},Ww=function(t,e){if((i=t.length)>1)for(var n,o,i,r=1,a=t[e[0]],s=a.length;r<i;++r)for(o=a,a=t[e[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(o[n][1])?o[n][0]:o[n][1]},zw=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n},Hw=function(){function t(t){var r,a,s=e.apply(this,arguments),p=t.length,h=s.length,u=new Array(h);for(r=0;r<h;++r){for(var l,c=s[r],f=u[r]=new Array(p),d=0;d<p;++d)f[d]=l=[0,+i(t[d],c,d,t)],l.data=t[d];f.key=c}for(r=0,a=n(u);r<h;++r)u[a[r]].index=r;return o(u,a),u}var e=X_([]),n=zw,o=Ww,i=oh;return t.keys=function(n){return arguments.length?(e="function"==typeof n?n:X_(hw.call(n)),t):e},t.value=function(e){return arguments.length?(i="function"==typeof e?e:X_(+e),t):i},t.order=function(e){return arguments.length?(n=null==e?zw:"function"==typeof e?e:X_(hw.call(e)),t):n},t.offset=function(e){return arguments.length?(o=null==e?Ww:e,t):o},t},qw=function(t,e){if((o=t.length)>0){for(var n,o,i,r=0,a=t[0].length;r<a;++r){for(i=n=0;n<o;++n)i+=t[n][r][1]||0;if(i)for(n=0;n<o;++n)t[n][r][1]/=i}Ww(t,e)}},Vw=function(t,e){if((s=t.length)>1)for(var n,o,i,r,a,s,p=0,h=t[e[0]].length;p<h;++p)for(r=a=0,n=0;n<s;++n)(i=(o=t[e[n]][p])[1]-o[0])>=0?(o[0]=r,o[1]=r+=i):i<0?(o[1]=a,o[0]=a+=i):o[0]=r},$w=function(t,e){if((n=t.length)>0){for(var n,o=0,i=t[e[0]],r=i.length;o<r;++o){for(var a=0,s=0;a<n;++a)s+=t[a][o][1]||0;i[o][1]+=i[o][0]=-s/2}Ww(t,e)}},Zw=function(t,e){if((i=t.length)>0&&(o=(n=t[e[0]]).length)>0){for(var n,o,i,r=0,a=1;a<o;++a){for(var s=0,p=0,h=0;s<i;++s){for(var u=t[e[s]],l=u[a][1]||0,c=u[a-1][1]||0,f=(l-c)/2,d=0;d<s;++d){var y=t[e[d]],v=y[a][1]||0,g=y[a-1][1]||0;f+=v-g}p+=l,h+=f*l}n[a-1][1]+=n[a-1][0]=r,p&&(r-=h/p)}n[a-1][1]+=n[a-1][0]=r,Ww(t,e)}},Jw=function(t){var e=t.map(ih);return zw(t).sort(function(t,n){return e[t]-e[n]})},Qw=function(t){return Jw(t).reverse()},tP=function(t){var e,n,o=t.length,i=t.map(ih),r=zw(t).sort(function(t,e){return i[e]-i[t]}),a=0,s=0,p=[],h=[];for(e=0;e<o;++e)n=r[e],a<s?(a+=i[n],p.push(n)):(s+=i[n],h.push(n));return h.reverse().concat(p)},eP=function(t){return zw(t).reverse()},nP=function(t){return function(){return t}};sh.prototype={constructor:sh,insert:function(t,e){var n,o,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=lh(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)o=n.U,n===o.L?(i=o.R,i&&i.C?(n.C=i.C=!1,o.C=!0,t=o):(t===n.R&&(hh(this,n),t=n,n=t.U),n.C=!1,o.C=!0,uh(this,o))):(i=o.L,i&&i.C?(n.C=i.C=!1,o.C=!0,t=o):(t===n.L&&(uh(this,n),t=n,n=t.U),n.C=!1,o.C=!0,hh(this,o))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,o,i=t.U,r=t.L,a=t.R;if(n=r?a?lh(a):r:a,i?i.L===t?i.L=n:i.R=n:this._=n,r&&a?(o=n.C,n.C=t.C,n.L=r,r.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(o=t.C,t=n),t&&(t.U=i),!o){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,hh(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,uh(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,hh(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,uh(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,hh(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,uh(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var oP,iP,rP,aP,sP,pP=[],hP=[],uP=1e-6,lP=1e-12;Dh.prototype={constructor:Dh,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return xh(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,o){if(r=(i=n.halfedges).length)for(var i,r,a,s=n.site,p=-1,h=e[i[r-1]],u=h.left===s?h.right:h.left;++p<r;)a=u,h=e[i[p]],u=h.left===s?h.right:h.left,a&&u&&o<a.index&&o<u.index&&kh(s,a,u)<0&&t.push([s.data,a.data,u.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var o,i,r=this,a=r._found||0,s=r.cells.length;!(i=r.cells[a]);)if(++a>=s)return null;var p=t-i.site[0],h=e-i.site[1],u=p*p+h*h;do i=r.cells[o=a],a=null,i.halfedges.forEach(function(n){var o=r.edges[n],s=o.left;if(s!==i.site&&s||(s=o.right)){var p=t-s[0],h=e-s[1],l=p*p+h*h;l<u&&(u=l,a=s.index)}});while(null!==a);return r._found=o,null==n||u<=n*n?i.site:null}};var cP=function(){function t(t){return new Dh(t.map(function(o,i){var r=[Math.round(e(o,i,t)/uP)*uP,Math.round(n(o,i,t)/uP)*uP];return r.index=i,r.data=o,r}),o)}var e=rh,n=ah,o=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:nP(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:nP(+e),t):n},t.extent=function(e){return arguments.length?(o=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):o&&[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},t.size=function(e){return arguments.length?(o=null==e?null:[[0,0],[+e[0],+e[1]]],t):o&&[o[1][0]-o[0][0],o[1][1]-o[0][1]]},t},fP=function(t){return function(){return t}};jh.prototype={constructor:jh,scale:function(t){return 1===t?this:new jh(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new jh(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var dP=new jh(1,0,0);Kh.prototype=jh.prototype;var yP=function(){t.event.preventDefault(),t.event.stopImmediatePropagation()},vP=function(){function e(t){t.on("wheel.zoom",h).on("mousedown.zoom",u).on("dblclick.zoom",l).on("touchstart.zoom",c).on("touchmove.zoom",f).on("touchend.zoom touchcancel.zoom",d).style("-webkit-tap-highlight-color","rgba(0,0,0,0)").property("__zoom",Yh)}function n(t,e){return e=Math.max(x,Math.min(_,e)),e===t.k?t:new jh(e,t.x,t.y)}function o(t,e,n){var o=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return o===t.x&&i===t.y?t:new jh(t.k,o,i)}function i(t,e){var n=t.invertX(e[0][0])-w,o=t.invertX(e[1][0])-P,i=t.invertY(e[0][1])-S,r=t.invertY(e[1][1])-C;return t.translate(o>n?(n+o)/2:Math.min(0,n)||Math.max(0,o),r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r))}function r(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function a(t,e,n){t.on("start.zoom",function(){s(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){s(this,arguments).end()}).tween("zoom",function(){var t=this,o=arguments,i=s(t,o),a=b.apply(t,o),p=n||r(a),h=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),u=t.__zoom,l="function"==typeof e?e.apply(t,o):e,c=T(u.invert(p).concat(h/u.k),l.invert(p).concat(h/l.k));return function(t){if(1===t)t=l;else{var e=c(t),n=h/e[2];t=new jh(n,p[0]-e[0]*n,p[1]-e[1]*n)}i.zoom(null,t)}})}function s(t,e){for(var n,o=0,i=A.length;o<i;++o)if((n=A[o]).that===t)return n;return new p(t,e)}function p(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=b.apply(t,e)}function h(){function e(){r.wheel=null,r.end()}if(m.apply(this,arguments)){var r=s(this,arguments),a=this.__zoom,p=Math.max(x,Math.min(_,a.k*Math.pow(2,-t.event.deltaY*(t.event.deltaMode?120:1)/500))),h=Zu(this);if(r.wheel)r.mouse[0][0]===h[0]&&r.mouse[0][1]===h[1]||(r.mouse[1]=a.invert(r.mouse[0]=h)),clearTimeout(r.wheel);else{if(a.k===p)return;r.mouse=[h,a.invert(h)],Mf(this),r.start()}yP(),r.wheel=setTimeout(e,N),r.zoom("mouse",i(o(n(a,p),r.mouse[0],r.mouse[1]),r.extent))}}function u(){function e(){if(yP(),!r.moved){var e=t.event.clientX-h,n=t.event.clientY-u;r.moved=e*e+n*n>O}r.zoom("mouse",i(o(r.that.__zoom,r.mouse[0]=Zu(r.that),r.mouse[1]),r.extent))}function n(){a.on("mousemove.zoom mouseup.zoom",null),bt(t.event.view,r.moved),yP(),r.end()}if(!g&&m.apply(this,arguments)){var r=s(this,arguments),a=Ol(t.event.view).on("mousemove.zoom",e,!0).on("mouseup.zoom",n,!0),p=Zu(this),h=t.event.clientX,u=t.event.clientY;jl(t.event.view),Bh(),r.mouse=[p,this.__zoom.invert(p)],Mf(this),r.start()}}function l(){if(m.apply(this,arguments)){var r=this.__zoom,s=Zu(this),p=r.invert(s),h=r.k*(t.event.shiftKey?.5:2),u=i(o(n(r,h),s,p),b.apply(this,arguments));yP(),M>0?Ol(this).transition().duration(M).call(a,u,s):Ol(this).call(e.transform,u)}}function c(){if(m.apply(this,arguments)){var e,n,o,i,r=s(this,arguments),a=t.event.changedTouches,p=a.length;for(Bh(),n=0;n<p;++n)o=a[n],i=Rl(this,a,o.identifier),i=[i,this.__zoom.invert(i),o.identifier],r.touch0?r.touch1||(r.touch1=i):(r.touch0=i,e=!0);return v&&(v=clearTimeout(v),!r.touch1)?(r.end(),i=Ol(this).on("dblclick.zoom"),void(i&&i.apply(this,arguments))):void(e&&(v=setTimeout(function(){v=null},I),Mf(this),r.start()))}}function f(){var e,r,a,p,h=s(this,arguments),u=t.event.changedTouches,l=u.length;for(yP(),v&&(v=clearTimeout(v)),e=0;e<l;++e)r=u[e],a=Rl(this,u,r.identifier),h.touch0&&h.touch0[2]===r.identifier?h.touch0[0]=a:h.touch1&&h.touch1[2]===r.identifier&&(h.touch1[0]=a);if(r=h.that.__zoom,h.touch1){var c=h.touch0[0],f=h.touch0[1],d=h.touch1[0],y=h.touch1[1],g=(g=d[0]-c[0])*g+(g=d[1]-c[1])*g,m=(m=y[0]-f[0])*m+(m=y[1]-f[1])*m;r=n(r,Math.sqrt(g/m)),a=[(c[0]+d[0])/2,(c[1]+d[1])/2],p=[(f[0]+y[0])/2,(f[1]+y[1])/2]}else{if(!h.touch0)return;a=h.touch0[0],p=h.touch0[1]}h.zoom("touch",i(o(r,a,p),h.extent))}function d(){var e,n,o=s(this,arguments),i=t.event.changedTouches,r=i.length;for(Bh(),g&&clearTimeout(g),g=setTimeout(function(){g=null},I),e=0;e<r;++e)n=i[e],o.touch0&&o.touch0[2]===n.identifier?delete o.touch0:o.touch1&&o.touch1[2]===n.identifier&&delete o.touch1;o.touch1&&!o.touch0&&(o.touch0=o.touch1,delete o.touch1),o.touch0?o.touch0[1]=this.__zoom.invert(o.touch0[0]):o.end()}var v,g,m=Xh,b=Uh,x=0,_=1/0,w=-_,P=_,S=w,C=P,M=250,T=$c,A=[],L=y("start","zoom","end"),I=500,N=150,O=0;return e.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",Yh),t!==n?a(t,e):n.interrupt().each(function(){s(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},e.scaleBy=function(t,n){e.scaleTo(t,function(){var t=this.__zoom.k,e="function"==typeof n?n.apply(this,arguments):n;return t*e})},e.scaleTo=function(t,a){e.transform(t,function(){var t=b.apply(this,arguments),e=this.__zoom,s=r(t),p=e.invert(s),h="function"==typeof a?a.apply(this,arguments):a;return i(o(n(e,h),s,p),t)})},e.translateBy=function(t,n,o){e.transform(t,function(){return i(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof o?o.apply(this,arguments):o),b.apply(this,arguments))})},p.prototype={start:function(){return 1===++this.active&&(this.index=A.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0===--this.active&&(A.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){E(new Fh(e,t,this.that.__zoom),L.apply,L,[t,this.that,this.args])}},e.filter=function(t){return arguments.length?(m="function"==typeof t?t:fP(!!t),e):m},e.extent=function(t){return arguments.length?(b="function"==typeof t?t:fP([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),e):b},e.scaleExtent=function(t){
return arguments.length?(x=+t[0],_=+t[1],e):[x,_]},e.translateExtent=function(t){return arguments.length?(w=+t[0][0],P=+t[1][0],S=+t[0][1],C=+t[1][1],e):[[w,S],[P,C]]},e.duration=function(t){return arguments.length?(M=+t,e):M},e.interpolate=function(t){return arguments.length?(T=t,e):T},e.on=function(){var t=L.on.apply(L,arguments);return t===L?e:t},e.clickDistance=function(t){return arguments.length?(O=(t=+t)*t,e):Math.sqrt(O)},e};t.version=Gh,t.bisect=qh,t.bisectRight=qh,t.bisectLeft=Vh,t.ascending=Wh,t.bisector=zh,t.cross=Zh,t.descending=Jh,t.deviation=eu,t.extent=nu,t.histogram=du,t.thresholdFreedmanDiaconis=vu,t.thresholdScott=gu,t.thresholdSturges=fu,t.max=mu,t.mean=bu,t.median=xu,t.merge=_u,t.min=wu,t.pairs=$h,t.permute=Pu,t.quantile=yu,t.range=pu,t.scan=Su,t.shuffle=Cu,t.sum=Mu,t.ticks=cu,t.tickIncrement=o,t.tickStep=i,t.transpose=Tu,t.variance=tu,t.zip=Au,t.axisTop=l,t.axisRight=c,t.axisBottom=f,t.axisLeft=d,t.brush=Bd,t.brushX=In,t.brushY=Nn,t.brushSelection=Ln,t.chord=Hd,t.ribbon=ty,t.nest=ny,t.set=Vn,t.map=Yn,t.keys=iy,t.values=ry,t.entries=ay,t.color=Mt,t.rgb=Lt,t.hsl=kt,t.lab=jt,t.hcl=Wt,t.cubehelix=qt,t.dispatch=y,t.drag=Bl,t.dragDisable=jl,t.dragEnable=bt,t.dsvFormat=sy,t.csvParse=hy,t.csvParseRows=uy,t.csvFormat=ly,t.csvFormatRows=cy,t.tsvParse=dy,t.tsvParseRows=yy,t.tsvFormat=vy,t.tsvFormatRows=gy,t.easeLinear=on,t.easeQuad=sn,t.easeQuadIn=rn,t.easeQuadOut=an,t.easeQuadInOut=sn,t.easeCubic=un,t.easeCubicIn=pn,t.easeCubicOut=hn,t.easeCubicInOut=un,t.easePoly=Jf,t.easePolyIn=$f,t.easePolyOut=Zf,t.easePolyInOut=Jf,t.easeSin=fn,t.easeSinIn=ln,t.easeSinOut=cn,t.easeSinInOut=fn,t.easeExp=vn,t.easeExpIn=dn,t.easeExpOut=yn,t.easeExpInOut=vn,t.easeCircle=bn,t.easeCircleIn=gn,t.easeCircleOut=mn,t.easeCircleInOut=bn,t.easeBounce=_n,t.easeBounceIn=xn,t.easeBounceOut=_n,t.easeBounceInOut=wn,t.easeBack=dd,t.easeBackIn=cd,t.easeBackOut=fd,t.easeBackInOut=dd,t.easeElastic=bd,t.easeElasticIn=md,t.easeElasticOut=bd,t.easeElasticInOut=xd,t.forceCenter=my,t.forceCollide=Dy,t.forceLink=Fy,t.forceManyBody=Xy,t.forceSimulation=By,t.forceX=Uy,t.forceY=Yy,t.formatDefaultLocale=vo,t.formatLocale=nv,t.formatSpecifier=fo,t.precisionFixed=ov,t.precisionPrefix=iv,t.precisionRound=rv,t.geoArea=lg,t.geoBounds=dg,t.geoCentroid=vg,t.geoCircle=Ig,t.geoClipExtent=jg,t.geoContains=Vg,t.geoDistance=zg,t.geoGraticule=Ci,t.geoGraticule10=Mi,t.geoInterpolate=$g,t.geoLength=Yg,t.geoPath=Pm,t.geoAlbers=Om,t.geoAlbersUsa=km,t.geoAzimuthalEqualArea=Dm,t.geoAzimuthalEqualAreaRaw=Rm,t.geoAzimuthalEquidistant=jm,t.geoAzimuthalEquidistantRaw=Fm,t.geoConicConformal=Bm,t.geoConicConformalRaw=dr,t.geoConicEqualArea=Nm,t.geoConicEqualAreaRaw=sr,t.geoConicEquidistant=Um,t.geoConicEquidistantRaw=vr,t.geoEquirectangular=Xm,t.geoEquirectangularRaw=yr,t.geoGnomonic=Ym,t.geoGnomonicRaw=gr,t.geoIdentity=Gm,t.geoProjection=or,t.geoProjectionMutator=ir,t.geoMercator=Km,t.geoMercatorRaw=lr,t.geoOrthographic=Wm,t.geoOrthographicRaw=br,t.geoStereographic=zm,t.geoStereographicRaw=xr,t.geoTransverseMercator=Hm,t.geoTransverseMercatorRaw=_r,t.geoRotation=Lg,t.geoStream=sg,t.geoTransform=Tm,t.cluster=qm,t.hierarchy=Ir,t.pack=ub,t.packSiblings=pb,t.packEnclose=sb,t.partition=fb,t.stratify=gb,t.tree=mb,t.treemap=wb,t.treemapBinary=Pb,t.treemapDice=cb,t.treemapSlice=bb,t.treemapSliceDice=Sb,t.treemapSquarify=_b,t.treemapResquarify=Cb,t.interpolate=Kc,t.interpolateArray=Nc,t.interpolateBasis=Mc,t.interpolateBasisClosed=Tc,t.interpolateDate=Oc,t.interpolateNumber=kc,t.interpolateObject=Rc,t.interpolateRound=Bc,t.interpolateString=jc,t.interpolateTransformCss=Gc,t.interpolateTransformSvg=Wc,t.interpolateZoom=$c,t.interpolateRgb=Ec,t.interpolateRgbBasis=Lc,t.interpolateRgbBasisClosed=Ic,t.interpolateHsl=Zc,t.interpolateHslLong=Jc,t.interpolateLab=ce,t.interpolateHcl=Qc,t.interpolateHclLong=tf,t.interpolateCubehelix=ef,t.interpolateCubehelixLong=nf,t.quantize=of,t.path=Dn,t.polygonArea=Mb,t.polygonCentroid=Tb;t.polygonHull=Eb;t.polygonContains=Lb,t.polygonLength=Ib,t.quadtree=io,t.queue=xa,t.randomUniform=Rb,t.randomNormal=Db,t.randomLogNormal=Fb,t.randomBates=Kb,t.randomIrwinHall=jb,t.randomExponential=Bb,t.request=Xb,t.html=Yb,t.json=Gb,t.text=Wb,t.xml=zb,t.csv=qb,t.tsv=Vb,t.scaleBand=Ca,t.scalePoint=Ta,t.scaleIdentity=Fa,t.scaleLinear=Da,t.scaleLog=Ga,t.scaleOrdinal=Sa,t.scaleImplicit=Qb,t.scalePow=za,t.scaleSqrt=Ha,t.scaleQuantile=qa,t.scaleQuantize=Va,t.scaleThreshold=$a,t.scaleTime=C_,t.scaleUtc=M_,t.schemeCategory10=A_,t.schemeCategory20b=E_,t.schemeCategory20c=L_,t.schemeCategory20=I_,t.interpolateCubehelixDefault=N_,t.interpolateRainbow=D_,t.interpolateWarm=O_,t.interpolateCool=k_,t.interpolateViridis=F_,t.interpolateMagma=j_,t.interpolateInferno=K_,t.interpolatePlasma=B_,t.scaleSequential=ip,t.creator=Bu,t.local=w,t.matcher=Wu,t.mouse=Zu,t.namespace=Ku,t.namespaces=ju,t.select=Ol,t.selectAll=kl,t.selection=gt,t.selector=Ju,t.selectorAll=tl,t.style=W,t.touch=Rl,t.touches=Dl,t.window=bl,t.customEvent=E,t.arc=Q_,t.area=nw,t.line=ew,t.pie=rw,t.radialArea=pw,t.radialLine=sw,t.linkHorizontal=Mp,t.linkVertical=Tp,t.linkRadial=Ap,t.symbol=Lw,t.symbols=Ew,t.symbolCircle=lw,t.symbolCross=cw,t.symbolDiamond=yw,t.symbolSquare=_w,t.symbolStar=xw,t.symbolTriangle=Pw,t.symbolWye=Aw,t.curveBasisClosed=Ow,t.curveBasisOpen=kw,t.curveBasis=Nw,t.curveBundle=Rw,t.curveCardinalClosed=Fw,t.curveCardinalOpen=jw,t.curveCardinal=Dw,t.curveCatmullRomClosed=Bw,t.curveCatmullRomOpen=Xw,t.curveCatmullRom=Kw,t.curveLinearClosed=Uw,t.curveLinear=tw,t.curveMonotoneX=$p,t.curveMonotoneY=Zp,t.curveNatural=Yw,t.curveStep=Gw,t.curveStepAfter=nh,t.curveStepBefore=eh,t.stack=Hw,t.stackOffsetExpand=qw,t.stackOffsetDiverging=Vw,t.stackOffsetNone=Ww,t.stackOffsetSilhouette=$w,t.stackOffsetWiggle=Zw,t.stackOrderAscending=Jw,t.stackOrderDescending=Qw,t.stackOrderInsideOut=tP,t.stackOrderNone=zw,t.stackOrderReverse=eP,t.timeInterval=Za,t.timeMillisecond=sx,t.timeMilliseconds=px,t.utcMillisecond=sx,t.utcMilliseconds=px,t.timeSecond=dx,t.timeSeconds=yx,t.utcSecond=dx,t.utcSeconds=yx,t.timeMinute=vx,t.timeMinutes=gx,t.timeHour=mx,t.timeHours=bx,t.timeDay=xx,t.timeDays=_x,t.timeWeek=wx,t.timeWeeks=Ex,t.timeSunday=wx,t.timeSundays=Ex,t.timeMonday=Px,t.timeMondays=Lx,t.timeTuesday=Sx,t.timeTuesdays=Ix,t.timeWednesday=Cx,t.timeWednesdays=Nx,t.timeThursday=Mx,t.timeThursdays=Ox,t.timeFriday=Tx,t.timeFridays=kx,t.timeSaturday=Ax,t.timeSaturdays=Rx,t.timeMonth=Dx,t.timeMonths=Fx,t.timeYear=jx,t.timeYears=Kx,t.utcMinute=Bx,t.utcMinutes=Xx,t.utcHour=Ux,t.utcHours=Yx,t.utcDay=Gx,t.utcDays=Wx,t.utcWeek=zx,t.utcWeeks=Qx,t.utcSunday=zx,t.utcSundays=Qx,t.utcMonday=Hx,t.utcMondays=t_,t.utcTuesday=qx,t.utcTuesdays=e_,t.utcWednesday=Vx,t.utcWednesdays=n_,t.utcThursday=$x,t.utcThursdays=o_,t.utcFriday=Zx,t.utcFridays=i_,t.utcSaturday=Jx,t.utcSaturdays=r_,t.utcMonth=a_,t.utcMonths=s_,t.utcYear=p_,t.utcYears=u_,t.timeFormatDefaultLocale=Zs,t.timeFormatLocale=os,t.isoFormat=v_,t.isoParse=g_,t.now=ye,t.timer=me,t.timerFlush=be,t.timeout=df,t.interval=yf,t.transition=en,t.active=Sd,t.interrupt=Mf,t.voronoi=cP,t.zoom=vP,t.zoomTransform=Kh,t.zoomIdentity=dP,Object.defineProperty(t,"__esModule",{value:!0})})},function(t,e,n){(function(e,n){function o(){for(;r.next;){r=r.next;var t=r.task;r.task=void 0;var e=r.domain;e&&(r.domain=void 0,e.enter());try{t()}catch(t){if(h)throw e&&e.exit(),setTimeout(o,0),e&&e.enter(),t;setTimeout(function(){throw t},0)}e&&e.exit()}s=!1}function i(t){a=a.next={task:t,domain:h&&e.domain,next:null},s||(s=!0,p())}var r={task:void 0,next:null},a=r,s=!1,p=void 0,h=!1;if("undefined"!=typeof e&&e.nextTick)h=!0,p=function(){e.nextTick(o)};else if("function"==typeof n)p="undefined"!=typeof window?n.bind(window,o):function(){n(o)};else if("undefined"!=typeof MessageChannel){var u=new MessageChannel;u.port1.onmessage=o,p=function(){u.port2.postMessage(0)}}else p=function(){setTimeout(o,0)};t.exports=i}).call(e,n(69),n(178).setImmediate)},,,function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var o=n(37);t.exports=function(t){return Object(o(t))}},function(t,e){var n=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+o).toString(36))}},function(t,e,n){"use strict";var o=n(146)(!0);n(60)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=o(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";function o(t){function e(t){return null===p?void u.push(t):void a(function(){var e=p?t.onFulfilled:t.onRejected;if(null===e)return void(p?t.resolve:t.reject)(h);var n;try{n=e(h)}catch(e){return void t.reject(e)}t.resolve(n)})}function n(t){try{if(t===l)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void r(e.bind(t),n,o)}p=!0,h=t,s()}catch(t){o(t)}}function o(t){p=!1,h=t,s()}function s(){for(var t=0,n=u.length;t<n;t++)e(u[t]);u=null}if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");var p=null,h=null,u=[],l=this;this.then=function(t,n){return new l.constructor(function(o,r){e(new i(t,n,o,r))})},r(t,n,o)}function i(t,e,n,o){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=o}function r(t,e,n){var o=!1;try{t(function(t){o||(o=!0,e(t))},function(t){o||(o=!0,n(t))})}catch(t){if(o)return;o=!0,n(t)}}var a=n(23);t.exports=o},,,,function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(113),r=o(i);e.default=function(t,e,n){return e in t?(0,r.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){t.exports=!0},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var o=n(9).f,i=n(11),r=n(4)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,r)&&o(t,r,{configurable:!0,value:e})}},function(t,e,n){var o=n(43)("keys"),i=n(29);t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e,n){var o=n(8),i="__core-js_shared__",r=o[i]||(o[i]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:n)(t)}},function(t,e,n){var o=n(26);t.exports=function(t,e){if(!o(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!o(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!o(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var o=n(8),i=n(2),r=n(39),a=n(47),s=n(9).f;t.exports=function(t){var e=i.Symbol||(i.Symbol=r?{}:o.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){e.f=n(4)},function(t,e,n){n(151);for(var o=n(8),i=n(18),r=n(19),a=n(4)("toStringTag"),s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],p=0;p<5;p++){var h=s[p],u=o[h],l=u&&u.prototype;l&&!l[a]&&i(l,a,h),r[h]=r.Array}},function(t,e,n){(function(e){/*!
	 * Vue.js v2.3.3
	 * (c) 2014-2017 Evan You
	 * Released under the MIT License.
	 */
"use strict";function n(t){return void 0===t||null===t}function o(t){return void 0!==t&&null!==t}function i(t){return t===!0}function r(t){return t===!1}function a(t){return"string"==typeof t||"number"==typeof t}function s(t){return null!==t&&"object"==typeof t}function p(t){return"[object Object]"===Ui.call(t)}function h(t){return"[object RegExp]"===Ui.call(t)}function u(t){return null==t?"":"object"==typeof t?JSON.stringify(t,null,2):String(t)}function l(t){var e=parseFloat(t);return isNaN(e)?t:e}function c(t,e){for(var n=Object.create(null),o=t.split(","),i=0;i<o.length;i++)n[o[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}function f(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}function d(t,e){return Gi.call(t,e)}function y(t){var e=Object.create(null);return function(n){var o=e[n];return o||(e[n]=t(n))}}function v(t,e){function n(n){var o=arguments.length;return o?o>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function g(t,e){e=e||0;for(var n=t.length-e,o=new Array(n);n--;)o[n]=t[n+e];return o}function m(t,e){for(var n in e)t[n]=e[n];return t}function b(t){for(var e={},n=0;n<t.length;n++)t[n]&&m(e,t[n]);return e}function x(){}function _(t){return t.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")}function w(t,e){var n=s(t),o=s(e);if(!n||!o)return!n&&!o&&String(t)===String(e);try{return JSON.stringify(t)===JSON.stringify(e)}catch(n){return t===e}}function P(t,e){for(var n=0;n<t.length;n++)if(w(t[n],e))return n;return-1}function S(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function C(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function M(t,e,n,o){Object.defineProperty(t,e,{value:n,enumerable:!!o,writable:!0,configurable:!0})}function T(t){if(!or.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}function A(t,e,n){if(er.errorHandler)er.errorHandler.call(null,t,e,n);else{if(!ar||"undefined"==typeof console)throw t;console.error(t)}}function E(t){return"function"==typeof t&&/native code/.test(t.toString())}function L(t){Pr.target&&Sr.push(Pr.target),Pr.target=t}function I(){Pr.target=Sr.pop()}function N(t,e){t.__proto__=e}function O(t,e,n){for(var o=0,i=n.length;o<i;o++){var r=n[o];M(t,r,e[r])}}function k(t,e){if(s(t)){var n;return d(t,"__ob__")&&t.__ob__ instanceof Er?n=t.__ob__:Ar.shouldConvert&&!mr()&&(Array.isArray(t)||p(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Er(t)),e&&n&&n.vmCount++,n}}function R(t,e,n,o){var i=new Pr,r=Object.getOwnPropertyDescriptor(t,e);if(!r||r.configurable!==!1){var a=r&&r.get,s=r&&r.set,p=k(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=a?a.call(t):n;return Pr.target&&(i.depend(),p&&p.dep.depend(),Array.isArray(e)&&j(e)),e},set:function(e){var o=a?a.call(t):n;e===o||e!==e&&o!==o||(s?s.call(t,e):n=e,p=k(e),i.notify())}})}}function D(t,e,n){if(Array.isArray(t)&&"number"==typeof e)return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(d(t,e))return t[e]=n,n;var o=t.__ob__;return t._isVue||o&&o.vmCount?n:o?(R(o.value,e,n),o.dep.notify(),n):(t[e]=n,n)}function F(t,e){if(Array.isArray(t)&&"number"==typeof e)return void t.splice(e,1);var n=t.__ob__;t._isVue||n&&n.vmCount||d(t,e)&&(delete t[e],n&&n.dep.notify())}function j(t){for(var e=void 0,n=0,o=t.length;n<o;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&j(e)}function K(t,e){if(!e)return t;for(var n,o,i,r=Object.keys(e),a=0;a<r.length;a++)n=r[a],o=t[n],i=e[n],d(t,n)?p(o)&&p(i)&&K(o,i):D(t,n,i);return t}function B(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}function X(t,e){var n=Object.create(t||null);return e?m(n,e):n}function U(t){var e=t.props;if(e){var n,o,i,r={};if(Array.isArray(e))for(n=e.length;n--;)o=e[n],"string"==typeof o&&(i=zi(o),r[i]={type:null});else if(p(e))for(var a in e)o=e[a],i=zi(a),r[i]=p(o)?o:{type:o};t.props=r}}function Y(t){var e=t.directives;if(e)for(var n in e){var o=e[n];"function"==typeof o&&(e[n]={bind:o,update:o})}}function G(t,e,n){function o(o){var i=Lr[o]||Ir;p[o]=i(t[o],e[o],n,o)}"function"==typeof e&&(e=e.options),U(e),Y(e);var i=e.extends;if(i&&(t=G(t,i,n)),e.mixins)for(var r=0,a=e.mixins.length;r<a;r++)t=G(t,e.mixins[r],n);var s,p={};for(s in t)o(s);for(s in e)d(t,s)||o(s);return p}function W(t,e,n,o){if("string"==typeof n){var i=t[e];if(d(i,n))return i[n];var r=zi(n);if(d(i,r))return i[r];var a=Hi(r);if(d(i,a))return i[a];var s=i[n]||i[r]||i[a];return s}}function z(t,e,n,o){var i=e[t],r=!d(n,t),a=n[t];if(V(Boolean,i.type)&&(r&&!d(i,"default")?a=!1:V(String,i.type)||""!==a&&a!==Vi(t)||(a=!0)),void 0===a){a=H(o,i,t);var s=Ar.shouldConvert;Ar.shouldConvert=!0,k(a),Ar.shouldConvert=s}return a}function H(t,e,n){if(d(e,"default")){var o=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"==typeof o&&"Function"!==q(e.type)?o.call(t):o}}function q(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function V(t,e){if(!Array.isArray(e))return q(e)===q(t);for(var n=0,o=e.length;n<o;n++)if(q(e[n])===q(t))return!0;return!1}function $(t){return new Nr(void 0,void 0,void 0,String(t))}function Z(t){var e=new Nr(t.tag,t.data,t.children,t.text,t.elm,t.context,t.componentOptions);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.isCloned=!0,e}function J(t){for(var e=t.length,n=new Array(e),o=0;o<e;o++)n[o]=Z(t[o]);return n}function Q(t){function e(){var t=arguments,n=e.fns;if(!Array.isArray(n))return n.apply(null,arguments);for(var o=0;o<n.length;o++)n[o].apply(null,t)}return e.fns=t,e}function tt(t,e,o,i,r){var a,s,p,h;for(a in t)s=t[a],p=e[a],h=Dr(a),n(s)||(n(p)?(n(s.fns)&&(s=t[a]=Q(s)),o(h.name,s,h.once,h.capture,h.passive)):s!==p&&(p.fns=s,t[a]=p));for(a in e)n(t[a])&&(h=Dr(a),i(h.name,e[a],h.capture))}function et(t,e,r){function a(){r.apply(this,arguments),f(s.fns,a)}var s,p=t[e];n(p)?s=Q([a]):o(p.fns)&&i(p.merged)?(s=p,s.fns.push(a)):s=Q([p,a]),s.merged=!0,t[e]=s}function nt(t,e,i){var r=e.options.props;if(!n(r)){var a={},s=t.attrs,p=t.props;if(o(s)||o(p))for(var h in r){var u=Vi(h);ot(a,p,h,u,!0)||ot(a,s,h,u,!1)}return a}}function ot(t,e,n,i,r){if(o(e)){if(d(e,n))return t[n]=e[n],r||delete e[n],!0;if(d(e,i))return t[n]=e[i],r||delete e[i],!0}return!1}function it(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function rt(t){return a(t)?[$(t)]:Array.isArray(t)?st(t):void 0}function at(t){return o(t)&&o(t.text)&&r(t.isComment)}function st(t,e){var r,s,p,h=[];for(r=0;r<t.length;r++)s=t[r],n(s)||"boolean"==typeof s||(p=h[h.length-1],Array.isArray(s)?h.push.apply(h,st(s,(e||"")+"_"+r)):a(s)?at(p)?p.text+=String(s):""!==s&&h.push($(s)):at(s)&&at(p)?h[h.length-1]=$(p.text+s.text):(i(t._isVList)&&o(s.tag)&&n(s.key)&&o(e)&&(s.key="__vlist"+e+"_"+r+"__"),h.push(s)));return h}function pt(t,e){return s(t)?e.extend(t):t}function ht(t,e,r){if(i(t.error)&&o(t.errorComp))return t.errorComp;if(o(t.resolved))return t.resolved;if(i(t.loading)&&o(t.loadingComp))return t.loadingComp;if(!o(t.contexts)){var a=t.contexts=[r],p=!0,h=function(){for(var t=0,e=a.length;t<e;t++)a[t].$forceUpdate()},u=S(function(n){t.resolved=pt(n,e),p||h()}),l=S(function(e){o(t.errorComp)&&(t.error=!0,h())}),c=t(u,l);return s(c)&&("function"==typeof c.then?n(t.resolved)&&c.then(u,l):o(c.component)&&"function"==typeof c.component.then&&(c.component.then(u,l),o(c.error)&&(t.errorComp=pt(c.error,e)),o(c.loading)&&(t.loadingComp=pt(c.loading,e),0===c.delay?t.loading=!0:setTimeout(function(){n(t.resolved)&&n(t.error)&&(t.loading=!0,h())},c.delay||200)),o(c.timeout)&&setTimeout(function(){n(t.resolved)&&l(null)},c.timeout))),p=!1,t.loading?t.loadingComp:t.resolved}t.contexts.push(r)}function ut(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(o(n)&&o(n.componentOptions))return n}}function lt(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&dt(t,e)}function ct(t,e,n){n?kr.$once(t,e):kr.$on(t,e)}function ft(t,e){kr.$off(t,e)}function dt(t,e,n){kr=t,tt(e,n||{},ct,ft,t)}function yt(t){var e=/^hook:/;t.prototype.$on=function(t,n){var o=this,i=this;if(Array.isArray(t))for(var r=0,a=t.length;r<a;r++)o.$on(t[r],n);else(i._events[t]||(i._events[t]=[])).push(n),e.test(t)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(t,e){function n(){o.$off(t,n),e.apply(o,arguments)}var o=this;return n.fn=e,o.$on(t,n),o},t.prototype.$off=function(t,e){var n=this,o=this;if(!arguments.length)return o._events=Object.create(null),o;if(Array.isArray(t)){for(var i=0,r=t.length;i<r;i++)n.$off(t[i],e);return o}var a=o._events[t];if(!a)return o;if(1===arguments.length)return o._events[t]=null,o;for(var s,p=a.length;p--;)if(s=a[p],s===e||s.fn===e){a.splice(p,1);break}return o},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?g(n):n;for(var o=g(arguments,1),i=0,r=n.length;i<r;i++)n[i].apply(e,o)}return e}}function vt(t,e){var n={};if(!t)return n;for(var o=[],i=0,r=t.length;i<r;i++){var a=t[i];if(a.context!==e&&a.functionalContext!==e||!a.data||null==a.data.slot)o.push(a);else{var s=a.data.slot,p=n[s]||(n[s]=[]);"template"===a.tag?p.push.apply(p,a.children):p.push(a)}}return o.every(gt)||(n.default=o),n}function gt(t){return t.isComment||" "===t.text}function mt(t,e){e=e||{};for(var n=0;n<t.length;n++)Array.isArray(t[n])?mt(t[n],e):e[t[n].key]=t[n].fn;return e}function bt(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function xt(t){t.prototype._update=function(t,e){var n=this;n._isMounted&&Mt(n,"beforeUpdate");var o=n.$el,i=n._vnode,r=Fr;Fr=n,n._vnode=t,i?n.$el=n.__patch__(i,t):n.$el=n.__patch__(n.$el,t,e,!1,n.$options._parentElm,n.$options._refElm),Fr=r,o&&(o.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Mt(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||f(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Mt(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$options._parentElm=t.$options._refElm=null}}}function _t(t,e,n){t.$el=e,t.$options.render||(t.$options.render=Rr),Mt(t,"beforeMount");var o;return o=function(){t._update(t._render(),n)},t._watcher=new Wr(t,o,x),n=!1,null==t.$vnode&&(t._isMounted=!0,Mt(t,"mounted")),t}function wt(t,e,n,o,i){var r=!!(i||t.$options._renderChildren||o.data.scopedSlots||t.$scopedSlots!==nr);if(t.$options._parentVnode=o,t.$vnode=o,t._vnode&&(t._vnode.parent=o),t.$options._renderChildren=i,e&&t.$options.props){Ar.shouldConvert=!1;for(var a=t._props,s=t.$options._propKeys||[],p=0;p<s.length;p++){var h=s[p];a[h]=z(h,t.$options.props,e,t)}Ar.shouldConvert=!0,t.$options.propsData=e}if(n){var u=t.$options._parentListeners;t.$options._parentListeners=n,dt(t,n,u)}r&&(t.$slots=vt(i,o.context),t.$forceUpdate())}function Pt(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function St(t,e){if(e){if(t._directInactive=!1,Pt(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)St(t.$children[n]);Mt(t,"activated")}}function Ct(t,e){if(!(e&&(t._directInactive=!0,Pt(t))||t._inactive)){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Ct(t.$children[n]);Mt(t,"deactivated")}}function Mt(t,e){var n=t.$options[e];if(n)for(var o=0,i=n.length;o<i;o++)try{n[o].call(t)}catch(n){A(n,t,e+" hook")}t._hasHookEvent&&t.$emit("hook:"+e)}function Tt(){Yr=jr.length=Kr.length=0,Br={},Xr=Ur=!1}function At(){Ur=!0;var t,e;for(jr.sort(function(t,e){return t.id-e.id}),Yr=0;Yr<jr.length;Yr++)t=jr[Yr],e=t.id,Br[e]=null,t.run();var n=Kr.slice(),o=jr.slice();Tt(),It(n),Et(o),br&&er.devtools&&br.emit("flush")}function Et(t){for(var e=t.length;e--;){var n=t[e],o=n.vm;o._watcher===n&&o._isMounted&&Mt(o,"updated")}}function Lt(t){t._inactive=!1,Kr.push(t)}function It(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,St(t[e],!0)}function Nt(t){var e=t.id;if(null==Br[e]){if(Br[e]=!0,Ur){for(var n=jr.length-1;n>Yr&&jr[n].id>t.id;)n--;jr.splice(n+1,0,t)}else jr.push(t);Xr||(Xr=!0,_r(At))}}function Ot(t){zr.clear(),kt(t,zr)}function kt(t,e){var n,o,i=Array.isArray(t);if((i||s(t))&&Object.isExtensible(t)){if(t.__ob__){var r=t.__ob__.dep.id;if(e.has(r))return;e.add(r)}if(i)for(n=t.length;n--;)kt(t[n],e);else for(o=Object.keys(t),n=o.length;n--;)kt(t[o[n]],e)}}function Rt(t,e,n){Hr.get=function(){return this[e][n]},Hr.set=function(t){this[e][n]=t},Object.defineProperty(t,n,Hr)}function Dt(t){t._watchers=[];var e=t.$options;e.props&&Ft(t,e.props),e.methods&&Yt(t,e.methods),e.data?jt(t):k(t._data={},!0),e.computed&&Bt(t,e.computed),e.watch&&Gt(t,e.watch)}function Ft(t,e){var n=t.$options.propsData||{},o=t._props={},i=t.$options._propKeys=[],r=!t.$parent;Ar.shouldConvert=r;var a=function(r){i.push(r);var a=z(r,e,n,t);R(o,r,a),r in t||Rt(t,"_props",r)};for(var s in e)a(s);Ar.shouldConvert=!0}function jt(t){var e=t.$options.data;e=t._data="function"==typeof e?Kt(e,t):e||{},p(e)||(e={});for(var n=Object.keys(e),o=t.$options.props,i=n.length;i--;)o&&d(o,n[i])||C(n[i])||Rt(t,"_data",n[i]);k(e,!0)}function Kt(t,e){try{return t.call(e)}catch(t){return A(t,e,"data()"),{}}}function Bt(t,e){var n=t._computedWatchers=Object.create(null);for(var o in e){var i=e[o],r="function"==typeof i?i:i.get;n[o]=new Wr(t,r,x,qr),o in t||Xt(t,o,i)}}function Xt(t,e,n){"function"==typeof n?(Hr.get=Ut(e),Hr.set=x):(Hr.get=n.get?n.cache!==!1?Ut(e):n.get:x,Hr.set=n.set?n.set:x),Object.defineProperty(t,e,Hr)}function Ut(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),Pr.target&&e.depend(),e.value}}function Yt(t,e){t.$options.props;for(var n in e)t[n]=null==e[n]?x:v(e[n],t)}function Gt(t,e){for(var n in e){var o=e[n];if(Array.isArray(o))for(var i=0;i<o.length;i++)Wt(t,n,o[i]);else Wt(t,n,o)}}function Wt(t,e,n){var o;p(n)&&(o=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,o)}function zt(t){var e={};e.get=function(){return this._data};var n={};n.get=function(){return this._props},Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=D,t.prototype.$delete=F,t.prototype.$watch=function(t,e,n){var o=this;n=n||{},n.user=!0;var i=new Wr(o,t,e,n);return n.immediate&&e.call(o,i.value),function(){i.teardown()}}}function Ht(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}function qt(t){var e=Vt(t.$options.inject,t);e&&Object.keys(e).forEach(function(n){R(t,n,e[n])})}function Vt(t,e){if(t){for(var n=Array.isArray(t),o=Object.create(null),i=n?t:xr?Reflect.ownKeys(t):Object.keys(t),r=0;r<i.length;r++)for(var a=i[r],s=n?a:t[a],p=e;p;){if(p._provided&&s in p._provided){o[a]=p._provided[s];break}p=p.$parent}return o}}function $t(t,e,n,i,r){var a={},s=t.options.props;if(o(s))for(var p in s)a[p]=z(p,s,e||{});else o(n.attrs)&&Zt(a,n.attrs),o(n.props)&&Zt(a,n.props);var h=Object.create(i),u=function(t,e,n,o){return oe(h,t,e,n,o,!0)},l=t.options.render.call(null,u,{data:n,props:a,children:r,parent:i,listeners:n.on||{},injections:Vt(t.options.inject,i),slots:function(){return vt(r,i)}});return l instanceof Nr&&(l.functionalContext=i,l.functionalOptions=t.options,n.slot&&((l.data||(l.data={})).slot=n.slot)),l}function Zt(t,e){for(var n in e)t[zi(n)]=e[n]}function Jt(t,e,r,a,p){if(!n(t)){var h=r.$options._base;if(s(t)&&(t=h.extend(t)),"function"==typeof t&&(!n(t.cid)||(t=ht(t,h,r),void 0!==t))){be(t),e=e||{},o(e.model)&&ne(t.options,e);var u=nt(e,t,p);if(i(t.options.functional))return $t(t,u,e,r,a);var l=e.on;e.on=e.nativeOn,i(t.options.abstract)&&(e={}),te(e);var c=t.options.name||p,f=new Nr("vue-component-"+t.cid+(c?"-"+c:""),e,void 0,void 0,void 0,r,{Ctor:t,propsData:u,listeners:l,tag:p,children:a});return f}}}function Qt(t,e,n,i){var r=t.componentOptions,a={_isComponent:!0,parent:e,propsData:r.propsData,_componentTag:r.tag,_parentVnode:t,_parentListeners:r.listeners,_renderChildren:r.children,_parentElm:n||null,_refElm:i||null},s=t.data.inlineTemplate;return o(s)&&(a.render=s.render,a.staticRenderFns=s.staticRenderFns),new r.Ctor(a)}function te(t){t.hook||(t.hook={});for(var e=0;e<$r.length;e++){var n=$r[e],o=t.hook[n],i=Vr[n];t.hook[n]=o?ee(i,o):i}}function ee(t,e){return function(n,o,i,r){t(n,o,i,r),e(n,o,i,r)}}function ne(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.props||(e.props={}))[n]=e.model.value;var r=e.on||(e.on={});o(r[i])?r[i]=[e.model.callback].concat(r[i]):r[i]=e.model.callback}function oe(t,e,n,o,r,s){return(Array.isArray(n)||a(n))&&(r=o,o=n,n=void 0),i(s)&&(r=Jr),ie(t,e,n,o,r)}function ie(t,e,n,i,r){if(o(n)&&o(n.__ob__))return Rr();if(!e)return Rr();Array.isArray(i)&&"function"==typeof i[0]&&(n=n||{},n.scopedSlots={default:i[0]},i.length=0),r===Jr?i=rt(i):r===Zr&&(i=it(i));var a,s;if("string"==typeof e){var p;s=er.getTagNamespace(e),a=er.isReservedTag(e)?new Nr(er.parsePlatformTagName(e),n,i,void 0,void 0,t):o(p=W(t.$options,"components",e))?Jt(p,n,t,i,e):new Nr(e,n,i,void 0,void 0,t)}else a=Jt(e,n,t,i);return o(a)?(s&&re(a,s),a):Rr()}function re(t,e){if(t.ns=e,"foreignObject"!==t.tag&&o(t.children))for(var i=0,r=t.children.length;i<r;i++){var a=t.children[i];o(a.tag)&&n(a.ns)&&re(a,e)}}function ae(t,e){var n,i,r,a,p;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),i=0,r=t.length;i<r;i++)n[i]=e(t[i],i);else if("number"==typeof t)for(n=new Array(t),i=0;i<t;i++)n[i]=e(i+1,i);else if(s(t))for(a=Object.keys(t),n=new Array(a.length),i=0,r=a.length;i<r;i++)p=a[i],n[i]=e(t[p],p,i);return o(n)&&(n._isVList=!0),n}function se(t,e,n,o){var i=this.$scopedSlots[t];if(i)return n=n||{},o&&m(n,o),i(n)||e;var r=this.$slots[t];return r||e}function pe(t){return W(this.$options,"filters",t,!0)||Zi}function he(t,e,n){var o=er.keyCodes[e]||n;return Array.isArray(o)?o.indexOf(t)===-1:o!==t}function ue(t,e,n,o){if(n)if(s(n)){Array.isArray(n)&&(n=b(n));var i;for(var r in n){if("class"===r||"style"===r)i=t;else{var a=t.attrs&&t.attrs.type;i=o||er.mustUseProp(e,a,r)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}r in i||(i[r]=n[r])}}else;return t}function le(t,e){var n=this._staticTrees[t];return n&&!e?Array.isArray(n)?J(n):Z(n):(n=this._staticTrees[t]=this.$options.staticRenderFns[t].call(this._renderProxy),fe(n,"__static__"+t,!1),n)}function ce(t,e,n){return fe(t,"__once__"+e+(n?"_"+n:""),!0),t}function fe(t,e,n){if(Array.isArray(t))for(var o=0;o<t.length;o++)t[o]&&"string"!=typeof t[o]&&de(t[o],e+"_"+o,n);else de(t,e,n)}function de(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function ye(t){t._vnode=null,t._staticTrees=null;var e=t.$vnode=t.$options._parentVnode,n=e&&e.context;t.$slots=vt(t.$options._renderChildren,n),t.$scopedSlots=nr,t._c=function(e,n,o,i){return oe(t,e,n,o,i,!1)},t.$createElement=function(e,n,o,i){return oe(t,e,n,o,i,!0)}}function ve(t){t.prototype.$nextTick=function(t){return _r(t,this)},t.prototype._render=function(){var t=this,e=t.$options,n=e.render,o=e.staticRenderFns,i=e._parentVnode;if(t._isMounted)for(var r in t.$slots)t.$slots[r]=J(t.$slots[r]);t.$scopedSlots=i&&i.data.scopedSlots||nr,o&&!t._staticTrees&&(t._staticTrees=[]),t.$vnode=i;var a;try{a=n.call(t._renderProxy,t.$createElement)}catch(e){A(e,t,"render function"),a=t._vnode}return a instanceof Nr||(a=Rr()),a.parent=i,a},t.prototype._o=ce,t.prototype._n=l,t.prototype._s=u,t.prototype._l=ae,t.prototype._t=se,t.prototype._q=w,t.prototype._i=P,t.prototype._m=le,t.prototype._f=pe,t.prototype._k=he,t.prototype._b=ue,t.prototype._v=$,t.prototype._e=Rr,t.prototype._u=mt}function ge(t){t.prototype._init=function(t){var e=this;e._uid=Qr++;e._isVue=!0,t&&t._isComponent?me(e,t):e.$options=G(be(e.constructor),t||{},e),e._renderProxy=e,e._self=e,bt(e),lt(e),ye(e),Mt(e,"beforeCreate"),qt(e),Dt(e),Ht(e),Mt(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function me(t,e){var n=t.$options=Object.create(t.constructor.options);n.parent=e.parent,n.propsData=e.propsData,n._parentVnode=e._parentVnode,n._parentListeners=e._parentListeners,n._renderChildren=e._renderChildren,n._componentTag=e._componentTag,n._parentElm=e._parentElm,n._refElm=e._refElm,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function be(t){var e=t.options;if(t.super){var n=be(t.super),o=t.superOptions;if(n!==o){t.superOptions=n;var i=xe(t);i&&m(t.extendOptions,i),e=t.options=G(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function xe(t){var e,n=t.options,o=t.extendOptions,i=t.sealedOptions;for(var r in n)n[r]!==i[r]&&(e||(e={}),e[r]=_e(n[r],o[r],i[r]));return e}function _e(t,e,n){if(Array.isArray(t)){var o=[];n=Array.isArray(n)?n:[n],e=Array.isArray(e)?e:[e];for(var i=0;i<t.length;i++)(e.indexOf(t[i])>=0||n.indexOf(t[i])<0)&&o.push(t[i]);return o}return t}function we(t){this._init(t)}function Pe(t){t.use=function(t){if(t.installed)return this;var e=g(arguments,1);return e.unshift(this),"function"==typeof t.install?t.install.apply(t,e):"function"==typeof t&&t.apply(null,e),t.installed=!0,this}}function Se(t){t.mixin=function(t){return this.options=G(this.options,t),this}}function Ce(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,o=n.cid,i=t._Ctor||(t._Ctor={});if(i[o])return i[o];var r=t.name||n.options.name,a=function(t){this._init(t)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=e++,a.options=G(n.options,t),a.super=n,a.options.props&&Me(a),a.options.computed&&Te(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,Qi.forEach(function(t){a[t]=n[t]}),r&&(a.options.components[r]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=m({},a.options),i[o]=a,a}}function Me(t){var e=t.options.props;for(var n in e)Rt(t.prototype,"_props",n)}function Te(t){var e=t.options.computed;for(var n in e)Xt(t.prototype,n,e[n])}function Ae(t){Qi.forEach(function(e){t[e]=function(t,n){return n?("component"===e&&p(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}})}function Ee(t){return t&&(t.Ctor.options.name||t.tag)}function Le(t,e){return"string"==typeof t?t.split(",").indexOf(e)>-1:!!h(t)&&t.test(e)}function Ie(t,e,n){for(var o in t){var i=t[o];if(i){var r=Ee(i.componentOptions);r&&!n(r)&&(i!==e&&Ne(i),t[o]=null)}}}function Ne(t){t&&t.componentInstance.$destroy()}function Oe(t){var e={};e.get=function(){return er},Object.defineProperty(t,"config",e),t.util={warn:ir,extend:m,mergeOptions:G,defineReactive:R},t.set=D,t.delete=F,t.nextTick=_r,t.options=Object.create(null),Qi.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,m(t.options.components,na),Pe(t),Se(t),Ce(t),Ae(t)}function ke(t){for(var e=t.data,n=t,i=t;o(i.componentInstance);)i=i.componentInstance._vnode,i.data&&(e=Re(i.data,e));for(;o(n=n.parent);)n.data&&(e=Re(e,n.data));return De(e)}function Re(t,e){return{staticClass:Fe(t.staticClass,e.staticClass),class:o(t.class)?[t.class,e.class]:e.class}}function De(t){var e=t.class,n=t.staticClass;return o(n)||o(e)?Fe(n,je(e)):""}function Fe(t,e){return t?e?t+" "+e:t:e||""}function je(t){if(n(t))return"";if("string"==typeof t)return t;var e="";if(Array.isArray(t)){for(var i,r=0,a=t.length;r<a;r++)o(t[r])&&o(i=je(t[r]))&&""!==i&&(e+=i+" ");return e.slice(0,-1)}if(s(t)){for(var p in t)t[p]&&(e+=p+" ");return e.slice(0,-1)}return e}function Ke(t){return Pa(t)?"svg":"math"===t?"math":void 0}function Be(t){if(!ar)return!0;if(Ca(t))return!1;if(t=t.toLowerCase(),null!=Ma[t])return Ma[t];var e=document.createElement(t);return t.indexOf("-")>-1?Ma[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Ma[t]=/HTMLUnknownElement/.test(e.toString())}function Xe(t){if("string"==typeof t){var e=document.querySelector(t);return e?e:document.createElement("div")}return t}function Ue(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}function Ye(t,e){return document.createElementNS(_a[t],e)}function Ge(t){return document.createTextNode(t)}function We(t){return document.createComment(t)}function ze(t,e,n){t.insertBefore(e,n)}function He(t,e){t.removeChild(e)}function qe(t,e){t.appendChild(e)}function Ve(t){return t.parentNode}function $e(t){return t.nextSibling}function Ze(t){return t.tagName}function Je(t,e){t.textContent=e}function Qe(t,e,n){t.setAttribute(e,n)}function tn(t,e){var n=t.data.ref;if(n){var o=t.context,i=t.componentInstance||t.elm,r=o.$refs;e?Array.isArray(r[n])?f(r[n],i):r[n]===i&&(r[n]=void 0):t.data.refInFor?Array.isArray(r[n])&&r[n].indexOf(i)<0?r[n].push(i):r[n]=[i]:r[n]=i}}function en(t,e){return t.key===e.key&&t.tag===e.tag&&t.isComment===e.isComment&&o(t.data)===o(e.data)&&nn(t,e)}function nn(t,e){if("input"!==t.tag)return!0;var n,i=o(n=t.data)&&o(n=n.attrs)&&n.type,r=o(n=e.data)&&o(n=n.attrs)&&n.type;return i===r}function on(t,e,n){var i,r,a={};for(i=e;i<=n;++i)r=t[i].key,o(r)&&(a[r]=i);return a}function rn(t){function e(t){return new Nr(L.tagName(t).toLowerCase(),{},[],void 0,t)}function r(t,e){function n(){0===--n.listeners&&s(t)}return n.listeners=e,n}function s(t){var e=L.parentNode(t);o(e)&&L.removeChild(e,t)}function p(t,e,n,r,a){if(t.isRootInsert=!a,!h(t,e,n,r)){var s=t.data,p=t.children,u=t.tag;o(u)?(t.elm=t.ns?L.createElementNS(t.ns,u):L.createElement(u,t),g(t),d(t,p,e),o(s)&&v(t,e),f(n,t.elm,r)):i(t.isComment)?(t.elm=L.createComment(t.text),f(n,t.elm,r)):(t.elm=L.createTextNode(t.text),f(n,t.elm,r))}}function h(t,e,n,r){var a=t.data;if(o(a)){var s=o(t.componentInstance)&&a.keepAlive;if(o(a=a.hook)&&o(a=a.init)&&a(t,!1,n,r),o(t.componentInstance))return u(t,e),i(s)&&l(t,e,n,r),!0}}function u(t,e){o(t.data.pendingInsert)&&e.push.apply(e,t.data.pendingInsert),t.elm=t.componentInstance.$el,y(t)?(v(t,e),g(t)):(tn(t),e.push(t))}function l(t,e,n,i){for(var r,a=t;a.componentInstance;)if(a=a.componentInstance._vnode,o(r=a.data)&&o(r=r.transition)){for(r=0;r<A.activate.length;++r)A.activate[r](Ea,a);e.push(a);break}f(n,t.elm,i)}function f(t,e,n){o(t)&&(o(n)?n.parentNode===t&&L.insertBefore(t,e,n):L.appendChild(t,e))}function d(t,e,n){if(Array.isArray(e))for(var o=0;o<e.length;++o)p(e[o],n,t.elm,null,!0);else a(t.text)&&L.appendChild(t.elm,L.createTextNode(t.text))}function y(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return o(t.tag)}function v(t,e){for(var n=0;n<A.create.length;++n)A.create[n](Ea,t);M=t.data.hook,o(M)&&(o(M.create)&&M.create(Ea,t),o(M.insert)&&e.push(t))}function g(t){for(var e,n=t;n;)o(e=n.context)&&o(e=e.$options._scopeId)&&L.setAttribute(t.elm,e,""),n=n.parent;o(e=Fr)&&e!==t.context&&o(e=e.$options._scopeId)&&L.setAttribute(t.elm,e,"")}function m(t,e,n,o,i,r){for(;o<=i;++o)p(n[o],r,t,e)}function b(t){var e,n,i=t.data;if(o(i))for(o(e=i.hook)&&o(e=e.destroy)&&e(t),e=0;e<A.destroy.length;++e)A.destroy[e](t);if(o(e=t.children))for(n=0;n<t.children.length;++n)b(t.children[n])}function x(t,e,n,i){for(;n<=i;++n){var r=e[n];o(r)&&(o(r.tag)?(_(r),b(r)):s(r.elm))}}function _(t,e){if(o(e)||o(t.data)){var n,i=A.remove.length+1;for(o(e)?e.listeners+=i:e=r(t.elm,i),o(n=t.componentInstance)&&o(n=n._vnode)&&o(n.data)&&_(n,e),n=0;n<A.remove.length;++n)A.remove[n](t,e);o(n=t.data.hook)&&o(n=n.remove)?n(t,e):e()}else s(t.elm)}function w(t,e,i,r,a){for(var s,h,u,l,c=0,f=0,d=e.length-1,y=e[0],v=e[d],g=i.length-1,b=i[0],_=i[g],w=!a;c<=d&&f<=g;)n(y)?y=e[++c]:n(v)?v=e[--d]:en(y,b)?(P(y,b,r),y=e[++c],b=i[++f]):en(v,_)?(P(v,_,r),v=e[--d],_=i[--g]):en(y,_)?(P(y,_,r),w&&L.insertBefore(t,y.elm,L.nextSibling(v.elm)),y=e[++c],_=i[--g]):en(v,b)?(P(v,b,r),w&&L.insertBefore(t,v.elm,y.elm),v=e[--d],b=i[++f]):(n(s)&&(s=on(e,c,d)),h=o(b.key)?s[b.key]:null,n(h)?(p(b,r,t,y.elm),b=i[++f]):(u=e[h],en(u,b)?(P(u,b,r),e[h]=void 0,w&&L.insertBefore(t,b.elm,y.elm),b=i[++f]):(p(b,r,t,y.elm),b=i[++f])));c>d?(l=n(i[g+1])?null:i[g+1].elm,m(t,l,i,f,g,r)):f>g&&x(t,e,c,d)}function P(t,e,r,a){if(t!==e){if(i(e.isStatic)&&i(t.isStatic)&&e.key===t.key&&(i(e.isCloned)||i(e.isOnce)))return e.elm=t.elm,void(e.componentInstance=t.componentInstance);var s,p=e.data;o(p)&&o(s=p.hook)&&o(s=s.prepatch)&&s(t,e);var h=e.elm=t.elm,u=t.children,l=e.children;if(o(p)&&y(e)){for(s=0;s<A.update.length;++s)A.update[s](t,e);o(s=p.hook)&&o(s=s.update)&&s(t,e)}n(e.text)?o(u)&&o(l)?u!==l&&w(h,u,l,r,a):o(l)?(o(t.text)&&L.setTextContent(h,""),m(h,null,l,0,l.length-1,r)):o(u)?x(h,u,0,u.length-1):o(t.text)&&L.setTextContent(h,""):t.text!==e.text&&L.setTextContent(h,e.text),o(p)&&o(s=p.hook)&&o(s=s.postpatch)&&s(t,e)}}function S(t,e,n){if(i(n)&&o(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}function C(t,e,n){e.elm=t;var i=e.tag,r=e.data,a=e.children;if(o(r)&&(o(M=r.hook)&&o(M=M.init)&&M(e,!0),o(M=e.componentInstance)))return u(e,n),!0;if(o(i)){if(o(a))if(t.hasChildNodes()){for(var s=!0,p=t.firstChild,h=0;h<a.length;h++){if(!p||!C(p,a[h],n)){s=!1;break}p=p.nextSibling}if(!s||p)return!1}else d(e,a,n);if(o(r))for(var l in r)if(!I(l)){v(e,n);break}}else t.data!==e.text&&(t.data=e.text);return!0}var M,T,A={},E=t.modules,L=t.nodeOps;for(M=0;M<La.length;++M)for(A[La[M]]=[],T=0;T<E.length;++T)o(E[T][La[M]])&&A[La[M]].push(E[T][La[M]]);var I=c("attrs,style,class,staticClass,staticStyle,key");return function(t,r,a,s,h,u){if(n(r))return void(o(t)&&b(t));var l=!1,c=[];if(n(t))l=!0,p(r,c,h,u);else{var f=o(t.nodeType);if(!f&&en(t,r))P(t,r,c,s);else{if(f){if(1===t.nodeType&&t.hasAttribute(Ji)&&(t.removeAttribute(Ji),a=!0),i(a)&&C(t,r,c))return S(r,c,!0),t;t=e(t)}var d=t.elm,v=L.parentNode(d);if(p(r,c,d._leaveCb?null:v,L.nextSibling(d)),o(r.parent)){for(var g=r.parent;g;)g.elm=r.elm,g=g.parent;if(y(r))for(var m=0;m<A.create.length;++m)A.create[m](Ea,r.parent)}o(v)?x(v,[t],0,0):o(t.tag)&&b(t)}}return S(r,c,l),r.elm}}function an(t,e){(t.data.directives||e.data.directives)&&sn(t,e)}function sn(t,e){var n,o,i,r=t===Ea,a=e===Ea,s=pn(t.data.directives,t.context),p=pn(e.data.directives,e.context),h=[],u=[];for(n in p)o=s[n],i=p[n],o?(i.oldValue=o.value,un(i,"update",e,t),i.def&&i.def.componentUpdated&&u.push(i)):(un(i,"bind",e,t),i.def&&i.def.inserted&&h.push(i));if(h.length){var l=function(){for(var n=0;n<h.length;n++)un(h[n],"inserted",e,t)};r?et(e.data.hook||(e.data.hook={}),"insert",l):l()}if(u.length&&et(e.data.hook||(e.data.hook={}),"postpatch",function(){for(var n=0;n<u.length;n++)un(u[n],"componentUpdated",e,t)}),!r)for(n in s)p[n]||un(s[n],"unbind",t,t,a)}function pn(t,e){var n=Object.create(null);if(!t)return n;var o,i;for(o=0;o<t.length;o++)i=t[o],i.modifiers||(i.modifiers=Na),n[hn(i)]=i,i.def=W(e.$options,"directives",i.name,!0);return n}function hn(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function un(t,e,n,o,i){var r=t.def&&t.def[e];if(r)try{r(n.elm,t,n,o,i)}catch(o){A(o,n.context,"directive "+t.name+" "+e+" hook")}}function ln(t,e){if(!n(t.data.attrs)||!n(e.data.attrs)){var i,r,a,s=e.elm,p=t.data.attrs||{},h=e.data.attrs||{};o(h.__ob__)&&(h=e.data.attrs=m({},h));for(i in h)r=h[i],a=p[i],a!==r&&cn(s,i,r);hr&&h.value!==p.value&&cn(s,"value",h.value);for(i in p)n(h[i])&&(ma(i)?s.removeAttributeNS(ga,ba(i)):ya(i)||s.removeAttribute(i))}}function cn(t,e,n){va(e)?xa(n)?t.removeAttribute(e):t.setAttribute(e,e):ya(e)?t.setAttribute(e,xa(n)||"false"===n?"false":"true"):ma(e)?xa(n)?t.removeAttributeNS(ga,ba(e)):t.setAttributeNS(ga,e,n):xa(n)?t.removeAttribute(e):t.setAttribute(e,n)}function fn(t,e){var i=e.elm,r=e.data,a=t.data;
if(!(n(r.staticClass)&&n(r.class)&&(n(a)||n(a.staticClass)&&n(a.class)))){var s=ke(e),p=i._transitionClasses;o(p)&&(s=Fe(s,je(p))),s!==i._prevClass&&(i.setAttribute("class",s),i._prevClass=s)}}function dn(t){function e(){(a||(a=[])).push(t.slice(d,i).trim()),d=i+1}var n,o,i,r,a,s=!1,p=!1,h=!1,u=!1,l=0,c=0,f=0,d=0;for(i=0;i<t.length;i++)if(o=n,n=t.charCodeAt(i),s)39===n&&92!==o&&(s=!1);else if(p)34===n&&92!==o&&(p=!1);else if(h)96===n&&92!==o&&(h=!1);else if(u)47===n&&92!==o&&(u=!1);else if(124!==n||124===t.charCodeAt(i+1)||124===t.charCodeAt(i-1)||l||c||f){switch(n){case 34:p=!0;break;case 39:s=!0;break;case 96:h=!0;break;case 40:f++;break;case 41:f--;break;case 91:c++;break;case 93:c--;break;case 123:l++;break;case 125:l--}if(47===n){for(var y=i-1,v=void 0;y>=0&&(v=t.charAt(y)," "===v);y--);v&&Da.test(v)||(u=!0)}}else void 0===r?(d=i+1,r=t.slice(0,i).trim()):e();if(void 0===r?r=t.slice(0,i).trim():0!==d&&e(),a)for(i=0;i<a.length;i++)r=yn(r,a[i]);return r}function yn(t,e){var n=e.indexOf("(");if(n<0)return'_f("'+e+'")('+t+")";var o=e.slice(0,n),i=e.slice(n+1);return'_f("'+o+'")('+t+","+i}function vn(t){console.error("[Vue compiler]: "+t)}function gn(t,e){return t?t.map(function(t){return t[e]}).filter(function(t){return t}):[]}function mn(t,e,n){(t.props||(t.props=[])).push({name:e,value:n})}function bn(t,e,n){(t.attrs||(t.attrs=[])).push({name:e,value:n})}function xn(t,e,n,o,i,r){(t.directives||(t.directives=[])).push({name:e,rawName:n,value:o,arg:i,modifiers:r})}function _n(t,e,n,o,i,r){o&&o.capture&&(delete o.capture,e="!"+e),o&&o.once&&(delete o.once,e="~"+e),o&&o.passive&&(delete o.passive,e="&"+e);var a;o&&o.native?(delete o.native,a=t.nativeEvents||(t.nativeEvents={})):a=t.events||(t.events={});var s={value:n,modifiers:o},p=a[e];Array.isArray(p)?i?p.unshift(s):p.push(s):p?a[e]=i?[s,p]:[p,s]:a[e]=s}function wn(t,e,n){var o=Pn(t,":"+e)||Pn(t,"v-bind:"+e);if(null!=o)return dn(o);if(n!==!1){var i=Pn(t,e);if(null!=i)return JSON.stringify(i)}}function Pn(t,e){var n;if(null!=(n=t.attrsMap[e]))for(var o=t.attrsList,i=0,r=o.length;i<r;i++)if(o[i].name===e){o.splice(i,1);break}return n}function Sn(t,e,n){var o=n||{},i=o.number,r=o.trim,a="$$v",s=a;r&&(s="(typeof "+a+" === 'string'? "+a+".trim(): "+a+")"),i&&(s="_n("+s+")");var p=Cn(e,s);t.model={value:"("+e+")",expression:'"'+e+'"',callback:"function ("+a+") {"+p+"}"}}function Cn(t,e){var n=Mn(t);return null===n.idx?t+"="+e:"var $$exp = "+n.exp+", $$idx = "+n.idx+";if (!Array.isArray($$exp)){"+t+"="+e+"}else{$$exp.splice($$idx, 1, "+e+")}"}function Mn(t){if(ia=t,oa=ia.length,aa=sa=pa=0,t.indexOf("[")<0||t.lastIndexOf("]")<oa-1)return{exp:t,idx:null};for(;!An();)ra=Tn(),En(ra)?In(ra):91===ra&&Ln(ra);return{exp:t.substring(0,sa),idx:t.substring(sa+1,pa)}}function Tn(){return ia.charCodeAt(++aa)}function An(){return aa>=oa}function En(t){return 34===t||39===t}function Ln(t){var e=1;for(sa=aa;!An();)if(t=Tn(),En(t))In(t);else if(91===t&&e++,93===t&&e--,0===e){pa=aa;break}}function In(t){for(var e=t;!An()&&(t=Tn(),t!==e););}function Nn(t,e,n){ha=n;var o=e.value,i=e.modifiers,r=t.tag,a=t.attrsMap.type;if("select"===r)Rn(t,o,i);else if("input"===r&&"checkbox"===a)On(t,o,i);else if("input"===r&&"radio"===a)kn(t,o,i);else if("input"===r||"textarea"===r)Dn(t,o,i);else if(!er.isReservedTag(r))return Sn(t,o,i),!1;return!0}function On(t,e,n){var o=n&&n.number,i=wn(t,"value")||"null",r=wn(t,"true-value")||"true",a=wn(t,"false-value")||"false";mn(t,"checked","Array.isArray("+e+")?_i("+e+","+i+")>-1"+("true"===r?":("+e+")":":_q("+e+","+r+")")),_n(t,ja,"var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+r+"):("+a+");if(Array.isArray($$a)){var $$v="+(o?"_n("+i+")":i)+",$$i=_i($$a,$$v);if($$c){$$i<0&&("+e+"=$$a.concat($$v))}else{$$i>-1&&("+e+"=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{"+Cn(e,"$$c")+"}",null,!0)}function kn(t,e,n){var o=n&&n.number,i=wn(t,"value")||"null";i=o?"_n("+i+")":i,mn(t,"checked","_q("+e+","+i+")"),_n(t,ja,Cn(e,i),null,!0)}function Rn(t,e,n){var o=n&&n.number,i='Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(o?"_n(val)":"val")+"})",r="$event.target.multiple ? $$selectedVal : $$selectedVal[0]",a="var $$selectedVal = "+i+";";a=a+" "+Cn(e,r),_n(t,"change",a,null,!0)}function Dn(t,e,n){var o=t.attrsMap.type,i=n||{},r=i.lazy,a=i.number,s=i.trim,p=!r&&"range"!==o,h=r?"change":"range"===o?Fa:"input",u="$event.target.value";s&&(u="$event.target.value.trim()"),a&&(u="_n("+u+")");var l=Cn(e,u);p&&(l="if($event.target.composing)return;"+l),mn(t,"value","("+e+")"),_n(t,h,l,null,!0),(s||a||"number"===o)&&_n(t,"blur","$forceUpdate()")}function Fn(t){var e;o(t[Fa])&&(e=pr?"change":"input",t[e]=[].concat(t[Fa],t[e]||[]),delete t[Fa]),o(t[ja])&&(e=fr?"click":"change",t[e]=[].concat(t[ja],t[e]||[]),delete t[ja])}function jn(t,e,n,o,i){if(n){var r=e,a=ua;e=function(n){var i=1===arguments.length?r(n):r.apply(null,arguments);null!==i&&Kn(t,e,o,a)}}ua.addEventListener(t,e,dr?{capture:o,passive:i}:o)}function Kn(t,e,n,o){(o||ua).removeEventListener(t,e,n)}function Bn(t,e){if(!n(t.data.on)||!n(e.data.on)){var o=e.data.on||{},i=t.data.on||{};ua=e.elm,Fn(o),tt(o,i,jn,Kn,e.context)}}function Xn(t,e){if(!n(t.data.domProps)||!n(e.data.domProps)){var i,r,a=e.elm,s=t.data.domProps||{},p=e.data.domProps||{};o(p.__ob__)&&(p=e.data.domProps=m({},p));for(i in s)n(p[i])&&(a[i]="");for(i in p)if(r=p[i],"textContent"!==i&&"innerHTML"!==i||(e.children&&(e.children.length=0),r!==s[i]))if("value"===i){a._value=r;var h=n(r)?"":String(r);Un(a,e,h)&&(a.value=h)}else a[i]=r}}function Un(t,e,n){return!t.composing&&("option"===e.tag||Yn(t,n)||Gn(t,n))}function Yn(t,e){return document.activeElement!==t&&t.value!==e}function Gn(t,e){var n=t.value,i=t._vModifiers;return o(i)&&i.number||"number"===t.type?l(n)!==l(e):o(i)&&i.trim?n.trim()!==e.trim():n!==e}function Wn(t){var e=zn(t.style);return t.staticStyle?m(t.staticStyle,e):e}function zn(t){return Array.isArray(t)?b(t):"string"==typeof t?Xa(t):t}function Hn(t,e){var n,o={};if(e)for(var i=t;i.componentInstance;)i=i.componentInstance._vnode,i.data&&(n=Wn(i.data))&&m(o,n);(n=Wn(t.data))&&m(o,n);for(var r=t;r=r.parent;)r.data&&(n=Wn(r.data))&&m(o,n);return o}function qn(t,e){var i=e.data,r=t.data;if(!(n(i.staticStyle)&&n(i.style)&&n(r.staticStyle)&&n(r.style))){var a,s,p=e.elm,h=r.staticStyle,u=r.normalizedStyle||r.style||{},l=h||u,c=zn(e.data.style)||{};e.data.normalizedStyle=o(c.__ob__)?m({},c):c;var f=Hn(e,!0);for(s in l)n(f[s])&&Ga(p,s,"");for(s in f)a=f[s],a!==l[s]&&Ga(p,s,null==a?"":a)}}function Vn(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function $n(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(/\s+/).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e);else{for(var n=" "+(t.getAttribute("class")||"")+" ",o=" "+e+" ";n.indexOf(o)>=0;)n=n.replace(o," ");t.setAttribute("class",n.trim())}}function Zn(t){if(t){if("object"==typeof t){var e={};return t.css!==!1&&m(e,qa(t.name||"v")),m(e,t),e}return"string"==typeof t?qa(t):void 0}}function Jn(t){ns(function(){ns(t)})}function Qn(t,e){(t._transitionClasses||(t._transitionClasses=[])).push(e),Vn(t,e)}function to(t,e){t._transitionClasses&&f(t._transitionClasses,e),$n(t,e)}function eo(t,e,n){var o=no(t,e),i=o.type,r=o.timeout,a=o.propCount;if(!i)return n();var s=i===$a?Qa:es,p=0,h=function(){t.removeEventListener(s,u),n()},u=function(e){e.target===t&&++p>=a&&h()};setTimeout(function(){p<a&&h()},r+1),t.addEventListener(s,u)}function no(t,e){var n,o=window.getComputedStyle(t),i=o[Ja+"Delay"].split(", "),r=o[Ja+"Duration"].split(", "),a=oo(i,r),s=o[ts+"Delay"].split(", "),p=o[ts+"Duration"].split(", "),h=oo(s,p),u=0,l=0;e===$a?a>0&&(n=$a,u=a,l=r.length):e===Za?h>0&&(n=Za,u=h,l=p.length):(u=Math.max(a,h),n=u>0?a>h?$a:Za:null,l=n?n===$a?r.length:p.length:0);var c=n===$a&&os.test(o[Ja+"Property"]);return{type:n,timeout:u,propCount:l,hasTransform:c}}function oo(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return io(e)+io(t[n])}))}function io(t){return 1e3*Number(t.slice(0,-1))}function ro(t,e){var i=t.elm;o(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var r=Zn(t.data.transition);if(!n(r)&&!o(i._enterCb)&&1===i.nodeType){for(var a=r.css,p=r.type,h=r.enterClass,u=r.enterToClass,c=r.enterActiveClass,f=r.appearClass,d=r.appearToClass,y=r.appearActiveClass,v=r.beforeEnter,g=r.enter,m=r.afterEnter,b=r.enterCancelled,x=r.beforeAppear,_=r.appear,w=r.afterAppear,P=r.appearCancelled,C=r.duration,M=Fr,T=Fr.$vnode;T&&T.parent;)T=T.parent,M=T.context;var A=!M._isMounted||!t.isRootInsert;if(!A||_||""===_){var E=A&&f?f:h,L=A&&y?y:c,I=A&&d?d:u,N=A?x||v:v,O=A&&"function"==typeof _?_:g,k=A?w||m:m,R=A?P||b:b,D=l(s(C)?C.enter:C),F=a!==!1&&!hr,j=po(O),K=i._enterCb=S(function(){F&&(to(i,I),to(i,L)),K.cancelled?(F&&to(i,E),R&&R(i)):k&&k(i),i._enterCb=null});t.data.show||et(t.data.hook||(t.data.hook={}),"insert",function(){var e=i.parentNode,n=e&&e._pending&&e._pending[t.key];n&&n.tag===t.tag&&n.elm._leaveCb&&n.elm._leaveCb(),O&&O(i,K)}),N&&N(i),F&&(Qn(i,E),Qn(i,L),Jn(function(){Qn(i,I),to(i,E),K.cancelled||j||(so(D)?setTimeout(K,D):eo(i,p,K))})),t.data.show&&(e&&e(),O&&O(i,K)),F||j||K()}}}function ao(t,e){function i(){P.cancelled||(t.data.show||((r.parentNode._pending||(r.parentNode._pending={}))[t.key]=t),d&&d(r),x&&(Qn(r,u),Qn(r,f),Jn(function(){Qn(r,c),to(r,u),P.cancelled||_||(so(w)?setTimeout(P,w):eo(r,h,P))})),y&&y(r,P),x||_||P())}var r=t.elm;o(r._enterCb)&&(r._enterCb.cancelled=!0,r._enterCb());var a=Zn(t.data.transition);if(n(a))return e();if(!o(r._leaveCb)&&1===r.nodeType){var p=a.css,h=a.type,u=a.leaveClass,c=a.leaveToClass,f=a.leaveActiveClass,d=a.beforeLeave,y=a.leave,v=a.afterLeave,g=a.leaveCancelled,m=a.delayLeave,b=a.duration,x=p!==!1&&!hr,_=po(y),w=l(s(b)?b.leave:b),P=r._leaveCb=S(function(){r.parentNode&&r.parentNode._pending&&(r.parentNode._pending[t.key]=null),x&&(to(r,c),to(r,f)),P.cancelled?(x&&to(r,u),g&&g(r)):(e(),v&&v(r)),r._leaveCb=null});m?m(i):i()}}function so(t){return"number"==typeof t&&!isNaN(t)}function po(t){if(n(t))return!1;var e=t.fns;return o(e)?po(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function ho(t,e){e.data.show!==!0&&ro(e)}function uo(t,e,n){var o=e.value,i=t.multiple;if(!i||Array.isArray(o)){for(var r,a,s=0,p=t.options.length;s<p;s++)if(a=t.options[s],i)r=P(o,co(a))>-1,a.selected!==r&&(a.selected=r);else if(w(co(a),o))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function lo(t,e){for(var n=0,o=e.length;n<o;n++)if(w(co(e[n]),t))return!1;return!0}function co(t){return"_value"in t?t._value:t.value}function fo(t){t.target.composing=!0}function yo(t){t.target.composing&&(t.target.composing=!1,vo(t.target,"input"))}function vo(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function go(t){return!t.componentInstance||t.data&&t.data.transition?t:go(t.componentInstance._vnode)}function mo(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?mo(ut(e.children)):t}function bo(t){var e={},n=t.$options;for(var o in n.propsData)e[o]=t[o];var i=n._parentListeners;for(var r in i)e[zi(r)]=i[r];return e}function xo(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function _o(t){for(;t=t.parent;)if(t.data.transition)return!0}function wo(t,e){return e.key===t.key&&e.tag===t.tag}function Po(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function So(t){t.data.newPos=t.elm.getBoundingClientRect()}function Co(t){var e=t.data.pos,n=t.data.newPos,o=e.left-n.left,i=e.top-n.top;if(o||i){t.data.moved=!0;var r=t.elm.style;r.transform=r.WebkitTransform="translate("+o+"px,"+i+"px)",r.transitionDuration="0s"}}function Mo(t,e){var n=document.createElement("div");return n.innerHTML='<div a="'+t+'">',n.innerHTML.indexOf(e)>0}function To(t){return vs=vs||document.createElement("div"),vs.innerHTML=t,vs.textContent}function Ao(t,e){var n=e?np:ep;return t.replace(n,function(t){return tp[t]})}function Eo(t,e){function n(e){c+=e,t=t.substring(e)}function o(){var e=t.match(Ts);if(e){var o={tagName:e[1],attrs:[],start:c};n(e[0].length);for(var i,r;!(i=t.match(As))&&(r=t.match(Ss));)n(r[0].length),o.attrs.push(r);if(i)return o.unarySlash=i[1],n(i[0].length),o.end=c,o}}function i(t){var n=t.tagName,o=t.unarySlash;h&&("p"===s&&xs(n)&&r(s),l(n)&&s===n&&r(n));for(var i=u(n)||"html"===n&&"head"===s||!!o,a=t.attrs.length,c=new Array(a),f=0;f<a;f++){var d=t.attrs[f];Os&&d[0].indexOf('""')===-1&&(""===d[3]&&delete d[3],""===d[4]&&delete d[4],""===d[5]&&delete d[5]);var y=d[3]||d[4]||d[5]||"";c[f]={name:d[1],value:Ao(y,e.shouldDecodeNewlines)}}i||(p.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:c}),s=n),e.start&&e.start(n,c,i,t.start,t.end)}function r(t,n,o){var i,r;if(null==n&&(n=c),null==o&&(o=c),t&&(r=t.toLowerCase()),t)for(i=p.length-1;i>=0&&p[i].lowerCasedTag!==r;i--);else i=0;if(i>=0){for(var a=p.length-1;a>=i;a--)e.end&&e.end(p[a].tag,n,o);p.length=i,s=i&&p[i-1].tag}else"br"===r?e.start&&e.start(t,[],!0,n,o):"p"===r&&(e.start&&e.start(t,[],!1,n,o),e.end&&e.end(t,n,o))}for(var a,s,p=[],h=e.expectHTML,u=e.isUnaryTag||$i,l=e.canBeLeftOpenTag||$i,c=0;t;){if(a=t,s&&Js(s)){var f=s.toLowerCase(),d=Qs[f]||(Qs[f]=new RegExp("([\\s\\S]*?)(</"+f+"[^>]*>)","i")),y=0,v=t.replace(d,function(t,n,o){return y=o.length,Js(f)||"noscript"===f||(n=n.replace(/<!--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),e.chars&&e.chars(n),""});c+=t.length-v.length,t=v,r(f,c-y,c)}else{var g=t.indexOf("<");if(0===g){if(Is.test(t)){var m=t.indexOf("-->");if(m>=0){n(m+3);continue}}if(Ns.test(t)){var b=t.indexOf("]>");if(b>=0){n(b+2);continue}}var x=t.match(Ls);if(x){n(x[0].length);continue}var _=t.match(Es);if(_){var w=c;n(_[0].length),r(_[1],w,c);continue}var P=o();if(P){i(P);continue}}var S=void 0,C=void 0,M=void 0;if(g>=0){for(C=t.slice(g);!(Es.test(C)||Ts.test(C)||Is.test(C)||Ns.test(C)||(M=C.indexOf("<",1),M<0));)g+=M,C=t.slice(g);S=t.substring(0,g),n(g)}g<0&&(S=t,t=""),e.chars&&S&&e.chars(S)}if(t===a){e.chars&&e.chars(t);break}}r()}function Lo(t,e){var n=e?rp(e):op;if(n.test(t)){for(var o,i,r=[],a=n.lastIndex=0;o=n.exec(t);){i=o.index,i>a&&r.push(JSON.stringify(t.slice(a,i)));var s=dn(o[1].trim());r.push("_s("+s+")"),a=i+o[0].length}return a<t.length&&r.push(JSON.stringify(t.slice(a))),r.join("+")}}function Io(t,e){function n(t){t.pre&&(s=!1),Ks(t.tag)&&(p=!1)}ks=e.warn||vn,Xs=e.getTagNamespace||$i,Bs=e.mustUseProp||$i,Ks=e.isPreTag||$i,Fs=gn(e.modules,"preTransformNode"),Ds=gn(e.modules,"transformNode"),js=gn(e.modules,"postTransformNode"),Rs=e.delimiters;var o,i,r=[],a=e.preserveWhitespace!==!1,s=!1,p=!1;return Eo(t,{warn:ks,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,start:function(t,a,h){function u(t){}var l=i&&i.ns||Xs(t);pr&&"svg"===l&&(a=$o(a));var c={type:1,tag:t,attrsList:a,attrsMap:Ho(a),parent:i,children:[]};l&&(c.ns=l),Vo(c)&&!mr()&&(c.forbidden=!0);for(var f=0;f<Fs.length;f++)Fs[f](c,e);if(s||(No(c),c.pre&&(s=!0)),Ks(c.tag)&&(p=!0),s)Oo(c);else{Do(c),Fo(c),Xo(c),ko(c),c.plain=!c.key&&!a.length,Ro(c),Uo(c),Yo(c);for(var d=0;d<Ds.length;d++)Ds[d](c,e);Go(c)}if(o?r.length||o.if&&(c.elseif||c.else)&&(u(c),Bo(o,{exp:c.elseif,block:c})):(o=c,u(o)),i&&!c.forbidden)if(c.elseif||c.else)jo(c,i);else if(c.slotScope){i.plain=!1;var y=c.slotTarget||'"default"';(i.scopedSlots||(i.scopedSlots={}))[y]=c}else i.children.push(c),c.parent=i;h?n(c):(i=c,r.push(c));for(var v=0;v<js.length;v++)js[v](c,e)},end:function(){var t=r[r.length-1],e=t.children[t.children.length-1];e&&3===e.type&&" "===e.text&&!p&&t.children.pop(),r.length-=1,i=r[r.length-1],n(t)},chars:function(t){if(i&&(!pr||"textarea"!==i.tag||i.attrsMap.placeholder!==t)){var e=i.children;if(t=p||t.trim()?qo(i)?t:fp(t):a&&e.length?" ":""){var n;!s&&" "!==t&&(n=Lo(t,Rs))?e.push({type:2,expression:n,text:t}):" "===t&&e.length&&" "===e[e.length-1].text||e.push({type:3,text:t})}}}}),o}function No(t){null!=Pn(t,"v-pre")&&(t.pre=!0)}function Oo(t){var e=t.attrsList.length;if(e)for(var n=t.attrs=new Array(e),o=0;o<e;o++)n[o]={name:t.attrsList[o].name,value:JSON.stringify(t.attrsList[o].value)};else t.pre||(t.plain=!0)}function ko(t){var e=wn(t,"key");e&&(t.key=e)}function Ro(t){var e=wn(t,"ref");e&&(t.ref=e,t.refInFor=Wo(t))}function Do(t){var e;if(e=Pn(t,"v-for")){var n=e.match(pp);if(!n)return;t.for=n[2].trim();var o=n[1].trim(),i=o.match(hp);i?(t.alias=i[1].trim(),t.iterator1=i[2].trim(),i[3]&&(t.iterator2=i[3].trim())):t.alias=o}}function Fo(t){var e=Pn(t,"v-if");if(e)t.if=e,Bo(t,{exp:e,block:t});else{null!=Pn(t,"v-else")&&(t.else=!0);var n=Pn(t,"v-else-if");n&&(t.elseif=n)}}function jo(t,e){var n=Ko(e.children);n&&n.if&&Bo(n,{exp:t.elseif,block:t})}function Ko(t){for(var e=t.length;e--;){if(1===t[e].type)return t[e];t.pop()}}function Bo(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function Xo(t){var e=Pn(t,"v-once");null!=e&&(t.once=!0)}function Uo(t){if("slot"===t.tag)t.slotName=wn(t,"name");else{var e=wn(t,"slot");e&&(t.slotTarget='""'===e?'"default"':e),"template"===t.tag&&(t.slotScope=Pn(t,"scope"))}}function Yo(t){var e;(e=wn(t,"is"))&&(t.component=e),null!=Pn(t,"inline-template")&&(t.inlineTemplate=!0)}function Go(t){var e,n,o,i,r,a,s,p=t.attrsList;for(e=0,n=p.length;e<n;e++)if(o=i=p[e].name,r=p[e].value,sp.test(o))if(t.hasBindings=!0,a=zo(o),a&&(o=o.replace(cp,"")),lp.test(o))o=o.replace(lp,""),r=dn(r),s=!1,a&&(a.prop&&(s=!0,o=zi(o),"innerHtml"===o&&(o="innerHTML")),a.camel&&(o=zi(o)),a.sync&&_n(t,"update:"+zi(o),Cn(r,"$event"))),s||Bs(t.tag,t.attrsMap.type,o)?mn(t,o,r):bn(t,o,r);else if(ap.test(o))o=o.replace(ap,""),_n(t,o,r,a,!1,ks);else{o=o.replace(sp,"");var h=o.match(up),u=h&&h[1];u&&(o=o.slice(0,-(u.length+1))),xn(t,o,i,r,u,a)}else{bn(t,o,JSON.stringify(r))}}function Wo(t){for(var e=t;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}function zo(t){var e=t.match(cp);if(e){var n={};return e.forEach(function(t){n[t.slice(1)]=!0}),n}}function Ho(t){for(var e={},n=0,o=t.length;n<o;n++)e[t[n].name]=t[n].value;return e}function qo(t){return"script"===t.tag||"style"===t.tag}function Vo(t){return"style"===t.tag||"script"===t.tag&&(!t.attrsMap.type||"text/javascript"===t.attrsMap.type)}function $o(t){for(var e=[],n=0;n<t.length;n++){var o=t[n];dp.test(o.name)||(o.name=o.name.replace(yp,""),e.push(o))}return e}function Zo(t,e){t&&(Us=vp(e.staticKeys||""),Ys=e.isReservedTag||$i,Qo(t),ti(t,!1))}function Jo(t){return c("type,tag,attrsList,attrsMap,plain,parent,children,attrs"+(t?","+t:""))}function Qo(t){if(t.static=ni(t),1===t.type){if(!Ys(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var e=0,n=t.children.length;e<n;e++){var o=t.children[e];Qo(o),o.static||(t.static=!1)}}}function ti(t,e){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=e),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var n=0,o=t.children.length;n<o;n++)ti(t.children[n],e||!!t.for);t.ifConditions&&ei(t.ifConditions,e)}}function ei(t,e){for(var n=1,o=t.length;n<o;n++)ti(t[n].block,e)}function ni(t){return 2!==t.type&&(3===t.type||!(!t.pre&&(t.hasBindings||t.if||t.for||Yi(t.tag)||!Ys(t.tag)||oi(t)||!Object.keys(t).every(Us))))}function oi(t){for(;t.parent;){if(t=t.parent,"template"!==t.tag)return!1;if(t.for)return!0}return!1}function ii(t,e,n){var o=e?"nativeOn:{":"on:{";for(var i in t){var r=t[i];o+='"'+i+'":'+ri(i,r)+","}return o.slice(0,-1)+"}"}function ri(t,e){if(!e)return"function(){}";if(Array.isArray(e))return"["+e.map(function(e){return ri(t,e)}).join(",")+"]";var n=mp.test(e.value),o=gp.test(e.value);if(e.modifiers){var i="",r="",a=[];for(var s in e.modifiers)_p[s]?(r+=_p[s],bp[s]&&a.push(s)):a.push(s);a.length&&(i+=ai(a)),r&&(i+=r);var p=n?e.value+"($event)":o?"("+e.value+")($event)":e.value;return"function($event){"+i+p+"}"}return n||o?e.value:"function($event){"+e.value+"}"}function ai(t){return"if(!('button' in $event)&&"+t.map(si).join("&&")+")return null;"}function si(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var n=bp[t];return"_k($event.keyCode,"+JSON.stringify(t)+(n?","+JSON.stringify(n):"")+")"}function pi(t,e){t.wrapData=function(n){return"_b("+n+",'"+t.tag+"',"+e.value+(e.modifiers&&e.modifiers.prop?",true":"")+")"}}function hi(t,e){var n=Vs,o=Vs=[],i=$s;$s=0,Zs=e,Gs=e.warn||vn,Ws=gn(e.modules,"transformCode"),zs=gn(e.modules,"genData"),Hs=e.directives||{},qs=e.isReservedTag||$i;var r=t?ui(t):'_c("div")';return Vs=n,$s=i,{render:"with(this){return "+r+"}",staticRenderFns:o}}function ui(t){if(t.staticRoot&&!t.staticProcessed)return li(t);if(t.once&&!t.onceProcessed)return ci(t);if(t.for&&!t.forProcessed)return yi(t);if(t.if&&!t.ifProcessed)return fi(t);if("template"!==t.tag||t.slotTarget){if("slot"===t.tag)return Ai(t);var e;if(t.component)e=Ei(t.component,t);else{var n=t.plain?void 0:vi(t),o=t.inlineTemplate?null:wi(t,!0);e="_c('"+t.tag+"'"+(n?","+n:"")+(o?","+o:"")+")"}for(var i=0;i<Ws.length;i++)e=Ws[i](t,e);return e}return wi(t)||"void 0"}function li(t){return t.staticProcessed=!0,Vs.push("with(this){return "+ui(t)+"}"),"_m("+(Vs.length-1)+(t.staticInFor?",true":"")+")"}function ci(t){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return fi(t);if(t.staticInFor){for(var e="",n=t.parent;n;){if(n.for){e=n.key;break}n=n.parent}return e?"_o("+ui(t)+","+$s++ +(e?","+e:"")+")":ui(t)}return li(t)}function fi(t){return t.ifProcessed=!0,di(t.ifConditions.slice())}function di(t){function e(t){return t.once?ci(t):ui(t)}if(!t.length)return"_e()";var n=t.shift();return n.exp?"("+n.exp+")?"+e(n.block)+":"+di(t):""+e(n.block)}function yi(t){var e=t.for,n=t.alias,o=t.iterator1?","+t.iterator1:"",i=t.iterator2?","+t.iterator2:"";return t.forProcessed=!0,"_l(("+e+"),function("+n+o+i+"){return "+ui(t)+"})"}function vi(t){var e="{",n=gi(t);n&&(e+=n+","),t.key&&(e+="key:"+t.key+","),t.ref&&(e+="ref:"+t.ref+","),t.refInFor&&(e+="refInFor:true,"),t.pre&&(e+="pre:true,"),t.component&&(e+='tag:"'+t.tag+'",');for(var o=0;o<zs.length;o++)e+=zs[o](t);if(t.attrs&&(e+="attrs:{"+Li(t.attrs)+"},"),t.props&&(e+="domProps:{"+Li(t.props)+"},"),t.events&&(e+=ii(t.events,!1,Gs)+","),t.nativeEvents&&(e+=ii(t.nativeEvents,!0,Gs)+","),t.slotTarget&&(e+="slot:"+t.slotTarget+","),t.scopedSlots&&(e+=bi(t.scopedSlots)+","),t.model&&(e+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var i=mi(t);i&&(e+=i+",")}return e=e.replace(/,$/,"")+"}",t.wrapData&&(e=t.wrapData(e)),e}function gi(t){var e=t.directives;if(e){var n,o,i,r,a="directives:[",s=!1;for(n=0,o=e.length;n<o;n++){i=e[n],r=!0;var p=Hs[i.name]||wp[i.name];p&&(r=!!p(t,i,Gs)),r&&(s=!0,a+='{name:"'+i.name+'",rawName:"'+i.rawName+'"'+(i.value?",value:("+i.value+"),expression:"+JSON.stringify(i.value):"")+(i.arg?',arg:"'+i.arg+'"':"")+(i.modifiers?",modifiers:"+JSON.stringify(i.modifiers):"")+"},")}return s?a.slice(0,-1)+"]":void 0}}function mi(t){var e=t.children[0];if(1===e.type){var n=hi(e,Zs);return"inlineTemplate:{render:function(){"+n.render+"},staticRenderFns:["+n.staticRenderFns.map(function(t){return"function(){"+t+"}"}).join(",")+"]}"}}function bi(t){return"scopedSlots:_u(["+Object.keys(t).map(function(e){return xi(e,t[e])}).join(",")+"])"}function xi(t,e){return e.for&&!e.forProcessed?_i(t,e):"{key:"+t+",fn:function("+String(e.attrsMap.scope)+"){return "+("template"===e.tag?wi(e)||"void 0":ui(e))+"}}"}function _i(t,e){var n=e.for,o=e.alias,i=e.iterator1?","+e.iterator1:"",r=e.iterator2?","+e.iterator2:"";return e.forProcessed=!0,"_l(("+n+"),function("+o+i+r+"){return "+xi(t,e)+"})"}function wi(t,e){var n=t.children;if(n.length){var o=n[0];if(1===n.length&&o.for&&"template"!==o.tag&&"slot"!==o.tag)return ui(o);var i=e?Pi(n):0;return"["+n.map(Mi).join(",")+"]"+(i?","+i:"")}}function Pi(t){for(var e=0,n=0;n<t.length;n++){var o=t[n];if(1===o.type){if(Si(o)||o.ifConditions&&o.ifConditions.some(function(t){return Si(t.block)})){e=2;break}(Ci(o)||o.ifConditions&&o.ifConditions.some(function(t){return Ci(t.block)}))&&(e=1)}}return e}function Si(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function Ci(t){return!qs(t.tag)}function Mi(t){return 1===t.type?ui(t):Ti(t)}function Ti(t){return"_v("+(2===t.type?t.expression:Ii(JSON.stringify(t.text)))+")"}function Ai(t){var e=t.slotName||'"default"',n=wi(t),o="_t("+e+(n?","+n:""),i=t.attrs&&"{"+t.attrs.map(function(t){return zi(t.name)+":"+t.value}).join(",")+"}",r=t.attrsMap["v-bind"];return!i&&!r||n||(o+=",null"),i&&(o+=","+i),r&&(o+=(i?"":",null")+","+r),o+")"}function Ei(t,e){var n=e.inlineTemplate?null:wi(e,!0);return"_c("+t+","+vi(e)+(n?","+n:"")+")"}function Li(t){for(var e="",n=0;n<t.length;n++){var o=t[n];e+='"'+o.name+'":'+Ii(o.value)+","}return e.slice(0,-1)}function Ii(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function Ni(t,e){var n=Io(t.trim(),e);Zo(n,e);var o=hi(n,e);return{ast:n,render:o.render,staticRenderFns:o.staticRenderFns}}function Oi(t,e){try{return new Function(t)}catch(n){return e.push({err:n,code:t}),x}}function ki(t){function e(e,n){var o=Object.create(t),i=[],r=[];if(o.warn=function(t,e){(e?r:i).push(t)},n){n.modules&&(o.modules=(t.modules||[]).concat(n.modules)),n.directives&&(o.directives=m(Object.create(t.directives),n.directives));for(var a in n)"modules"!==a&&"directives"!==a&&(o[a]=n[a])}var s=Ni(e,o);return s.errors=i,s.tips=r,s}function n(t,n,i){n=n||{};var r=n.delimiters?String(n.delimiters)+t:t;if(o[r])return o[r];var a=e(t,n),s={},p=[];s.render=Oi(a.render,p);var h=a.staticRenderFns.length;s.staticRenderFns=new Array(h);for(var u=0;u<h;u++)s.staticRenderFns[u]=Oi(a.staticRenderFns[u],p);return o[r]=s}var o=Object.create(null);return{compile:e,compileToFunctions:n}}function Ri(t,e){var n=(e.warn||vn,Pn(t,"class"));n&&(t.staticClass=JSON.stringify(n));var o=wn(t,"class",!1);o&&(t.classBinding=o)}function Di(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}function Fi(t,e){var n=(e.warn||vn,Pn(t,"style"));if(n){t.staticStyle=JSON.stringify(Xa(n))}var o=wn(t,"style",!1);o&&(t.styleBinding=o)}function ji(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}function Ki(t,e){e.value&&mn(t,"textContent","_s("+e.value+")")}function Bi(t,e){e.value&&mn(t,"innerHTML","_s("+e.value+")")}function Xi(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}var Ui=Object.prototype.toString,Yi=c("slot,component",!0),Gi=Object.prototype.hasOwnProperty,Wi=/-(\w)/g,zi=y(function(t){return t.replace(Wi,function(t,e){return e?e.toUpperCase():""})}),Hi=y(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),qi=/([^-])([A-Z])/g,Vi=y(function(t){return t.replace(qi,"$1-$2").replace(qi,"$1-$2").toLowerCase()}),$i=function(){return!1},Zi=function(t){return t},Ji="data-server-rendered",Qi=["component","directive","filter"],tr=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated"],er={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:$i,isReservedAttr:$i,isUnknownElement:$i,getTagNamespace:x,parsePlatformTagName:Zi,mustUseProp:$i,_lifecycleHooks:tr},nr=Object.freeze({}),or=/[^\w.$]/,ir=x,rr="__proto__"in{},ar="undefined"!=typeof window,sr=ar&&window.navigator.userAgent.toLowerCase(),pr=sr&&/msie|trident/.test(sr),hr=sr&&sr.indexOf("msie 9.0")>0,ur=sr&&sr.indexOf("edge/")>0,lr=sr&&sr.indexOf("android")>0,cr=sr&&/iphone|ipad|ipod|ios/.test(sr),fr=sr&&/chrome\/\d+/.test(sr)&&!ur,dr=!1;if(ar)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){dr=!0}}),window.addEventListener("test-passive",null,yr)}catch(t){}var vr,gr,mr=function(){return void 0===vr&&(vr=!ar&&"undefined"!=typeof e&&"server"===e.process.env.VUE_ENV),vr},br=ar&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,xr="undefined"!=typeof Symbol&&E(Symbol)&&"undefined"!=typeof Reflect&&E(Reflect.ownKeys),_r=function(){function t(){o=!1;var t=n.slice(0);n.length=0;for(var e=0;e<t.length;e++)t[e]()}var e,n=[],o=!1;if("undefined"!=typeof Promise&&E(Promise)){var i=Promise.resolve(),r=function(t){console.error(t)};e=function(){i.then(t).catch(r),cr&&setTimeout(x)}}else if("undefined"==typeof MutationObserver||!E(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())e=function(){setTimeout(t,0)};else{var a=1,s=new MutationObserver(t),p=document.createTextNode(String(a));s.observe(p,{characterData:!0}),e=function(){a=(a+1)%2,p.data=String(a)}}return function(t,i){var r;if(n.push(function(){if(t)try{t.call(i)}catch(t){A(t,i,"nextTick")}else r&&r(i)}),o||(o=!0,e()),!t&&"undefined"!=typeof Promise)return new Promise(function(t,e){r=t})}}();gr="undefined"!=typeof Set&&E(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return this.set[t]===!0},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var wr=0,Pr=function(){this.id=wr++,this.subs=[]};Pr.prototype.addSub=function(t){this.subs.push(t)},Pr.prototype.removeSub=function(t){f(this.subs,t)},Pr.prototype.depend=function(){Pr.target&&Pr.target.addDep(this)},Pr.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},Pr.target=null;var Sr=[],Cr=Array.prototype,Mr=Object.create(Cr);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=Cr[t];M(Mr,t,function(){for(var n=arguments,o=arguments.length,i=new Array(o);o--;)i[o]=n[o];var r,a=e.apply(this,i),s=this.__ob__;switch(t){case"push":r=i;break;case"unshift":r=i;break;case"splice":r=i.slice(2)}return r&&s.observeArray(r),s.dep.notify(),a})});var Tr=Object.getOwnPropertyNames(Mr),Ar={shouldConvert:!0,isSettingProps:!1},Er=function(t){if(this.value=t,this.dep=new Pr,this.vmCount=0,M(t,"__ob__",this),Array.isArray(t)){var e=rr?N:O;e(t,Mr,Tr),this.observeArray(t)}else this.walk(t)};Er.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)R(t,e[n],t[e[n]])},Er.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)k(t[e])};var Lr=er.optionMergeStrategies;Lr.data=function(t,e,n){return n?t||e?function(){var o="function"==typeof e?e.call(n):e,i="function"==typeof t?t.call(n):void 0;return o?K(o,i):i}:void 0:e?"function"!=typeof e?t:t?function(){return K(e.call(this),t.call(this))}:e:t},tr.forEach(function(t){Lr[t]=B}),Qi.forEach(function(t){Lr[t+"s"]=X}),Lr.watch=function(t,e){if(!e)return Object.create(t||null);if(!t)return e;var n={};m(n,t);for(var o in e){var i=n[o],r=e[o];i&&!Array.isArray(i)&&(i=[i]),n[o]=i?i.concat(r):[r]}return n},Lr.props=Lr.methods=Lr.computed=function(t,e){if(!e)return Object.create(t||null);if(!t)return e;var n=Object.create(null);return m(n,t),m(n,e),n};var Ir=function(t,e){return void 0===e?t:e},Nr=function(t,e,n,o,i,r,a){this.tag=t,this.data=e,this.children=n,this.text=o,this.elm=i,this.ns=void 0,this.context=r,this.functionalContext=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1},Or={child:{}};Or.child.get=function(){return this.componentInstance},Object.defineProperties(Nr.prototype,Or);var kr,Rr=function(){var t=new Nr;return t.text="",t.isComment=!0,t},Dr=y(function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var o="!"===t.charAt(0);
return t=o?t.slice(1):t,{name:t,once:n,capture:o,passive:e}}),Fr=null,jr=[],Kr=[],Br={},Xr=!1,Ur=!1,Yr=0,Gr=0,Wr=function(t,e,n,o){this.vm=t,t._watchers.push(this),o?(this.deep=!!o.deep,this.user=!!o.user,this.lazy=!!o.lazy,this.sync=!!o.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Gr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new gr,this.newDepIds=new gr,this.expression="","function"==typeof e?this.getter=e:(this.getter=T(e),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};Wr.prototype.get=function(){L(this);var t,e=this.vm;if(this.user)try{t=this.getter.call(e,e)}catch(t){A(t,e,'getter for watcher "'+this.expression+'"')}else t=this.getter.call(e,e);return this.deep&&Ot(t),I(),this.cleanupDeps(),t},Wr.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},Wr.prototype.cleanupDeps=function(){for(var t=this,e=this.deps.length;e--;){var n=t.deps[e];t.newDepIds.has(n.id)||n.removeSub(t)}var o=this.depIds;this.depIds=this.newDepIds,this.newDepIds=o,this.newDepIds.clear(),o=this.deps,this.deps=this.newDeps,this.newDeps=o,this.newDeps.length=0},Wr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Nt(this)},Wr.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||s(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){A(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},Wr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Wr.prototype.depend=function(){for(var t=this,e=this.deps.length;e--;)t.deps[e].depend()},Wr.prototype.teardown=function(){var t=this;if(this.active){this.vm._isBeingDestroyed||f(this.vm._watchers,this);for(var e=this.deps.length;e--;)t.deps[e].removeSub(t);this.active=!1}};var zr=new gr,Hr={enumerable:!0,configurable:!0,get:x,set:x},qr={lazy:!0},Vr={init:function(t,e,n,o){if(!t.componentInstance||t.componentInstance._isDestroyed){var i=t.componentInstance=Qt(t,Fr,n,o);i.$mount(e?t.elm:void 0,e)}else if(t.data.keepAlive){var r=t;Vr.prepatch(r,r)}},prepatch:function(t,e){var n=e.componentOptions,o=e.componentInstance=t.componentInstance;wt(o,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Mt(n,"mounted")),t.data.keepAlive&&(e._isMounted?Lt(n):St(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Ct(e,!0):e.$destroy())}},$r=Object.keys(Vr),Zr=1,Jr=2,Qr=0;ge(we),zt(we),yt(we),xt(we),ve(we);var ta=[String,RegExp],ea={name:"keep-alive",abstract:!0,props:{include:ta,exclude:ta},created:function(){this.cache=Object.create(null)},destroyed:function(){var t=this;for(var e in t.cache)Ne(t.cache[e])},watch:{include:function(t){Ie(this.cache,this._vnode,function(e){return Le(t,e)})},exclude:function(t){Ie(this.cache,this._vnode,function(e){return!Le(t,e)})}},render:function(){var t=ut(this.$slots.default),e=t&&t.componentOptions;if(e){var n=Ee(e);if(n&&(this.include&&!Le(this.include,n)||this.exclude&&Le(this.exclude,n)))return t;var o=null==t.key?e.Ctor.cid+(e.tag?"::"+e.tag:""):t.key;this.cache[o]?t.componentInstance=this.cache[o].componentInstance:this.cache[o]=t,t.data.keepAlive=!0}return t}},na={KeepAlive:ea};Oe(we),Object.defineProperty(we.prototype,"$isServer",{get:mr}),Object.defineProperty(we.prototype,"$ssrContext",{get:function(){return this.$vnode.ssrContext}}),we.version="2.3.3";var oa,ia,ra,aa,sa,pa,ha,ua,la,ca=c("style,class"),fa=c("input,textarea,option,select"),da=function(t,e,n){return"value"===n&&fa(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},ya=c("contenteditable,draggable,spellcheck"),va=c("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),ga="http://www.w3.org/1999/xlink",ma=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},ba=function(t){return ma(t)?t.slice(6,t.length):""},xa=function(t){return null==t||t===!1},_a={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},wa=c("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template"),Pa=c("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Sa=function(t){return"pre"===t},Ca=function(t){return wa(t)||Pa(t)},Ma=Object.create(null),Ta=Object.freeze({createElement:Ue,createElementNS:Ye,createTextNode:Ge,createComment:We,insertBefore:ze,removeChild:He,appendChild:qe,parentNode:Ve,nextSibling:$e,tagName:Ze,setTextContent:Je,setAttribute:Qe}),Aa={create:function(t,e){tn(e)},update:function(t,e){t.data.ref!==e.data.ref&&(tn(t,!0),tn(e))},destroy:function(t){tn(t,!0)}},Ea=new Nr("",{},[]),La=["create","activate","update","remove","destroy"],Ia={create:an,update:an,destroy:function(t){an(t,Ea)}},Na=Object.create(null),Oa=[Aa,Ia],ka={create:ln,update:ln},Ra={create:fn,update:fn},Da=/[\w).+\-_$\]]/,Fa="__r",ja="__c",Ka={create:Bn,update:Bn},Ba={create:Xn,update:Xn},Xa=y(function(t){var e={},n=/;(?![^(]*\))/g,o=/:(.+)/;return t.split(n).forEach(function(t){if(t){var n=t.split(o);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}),Ua=/^--/,Ya=/\s*!important$/,Ga=function(t,e,n){if(Ua.test(e))t.style.setProperty(e,n);else if(Ya.test(n))t.style.setProperty(e,n.replace(Ya,""),"important");else{var o=za(e);if(Array.isArray(n))for(var i=0,r=n.length;i<r;i++)t.style[o]=n[i];else t.style[o]=n}},Wa=["Webkit","Moz","ms"],za=y(function(t){if(la=la||document.createElement("div"),t=zi(t),"filter"!==t&&t in la.style)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Wa.length;n++){var o=Wa[n]+e;if(o in la.style)return o}}),Ha={create:qn,update:qn},qa=y(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),Va=ar&&!hr,$a="transition",Za="animation",Ja="transition",Qa="transitionend",ts="animation",es="animationend";Va&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Ja="WebkitTransition",Qa="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ts="WebkitAnimation",es="webkitAnimationEnd"));var ns=ar&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout,os=/\b(transform|all)(,|$)/,is=ar?{create:ho,activate:ho,remove:function(t,e){t.data.show!==!0?ao(t,e):e()}}:{},rs=[ka,Ra,Ka,Ba,Ha,is],as=rs.concat(Oa),ss=rn({nodeOps:Ta,modules:as});hr&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&vo(t,"input")});var ps={inserted:function(t,e,n){if("select"===n.tag){var o=function(){uo(t,e,n.context)};o(),(pr||ur)&&setTimeout(o,0)}else"textarea"!==n.tag&&"text"!==t.type&&"password"!==t.type||(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("change",yo),lr||(t.addEventListener("compositionstart",fo),t.addEventListener("compositionend",yo)),hr&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){uo(t,e,n.context);var o=t.multiple?e.value.some(function(e){return lo(e,t.options)}):e.value!==e.oldValue&&lo(e.value,t.options);o&&vo(t,"change")}}},hs={bind:function(t,e,n){var o=e.value;n=go(n);var i=n.data&&n.data.transition,r=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;o&&i&&!hr?(n.data.show=!0,ro(n,function(){t.style.display=r})):t.style.display=o?r:"none"},update:function(t,e,n){var o=e.value,i=e.oldValue;if(o!==i){n=go(n);var r=n.data&&n.data.transition;r&&!hr?(n.data.show=!0,o?ro(n,function(){t.style.display=t.__vOriginalDisplay}):ao(n,function(){t.style.display="none"})):t.style.display=o?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,o,i){i||(t.style.display=t.__vOriginalDisplay)}},us={model:ps,show:hs},ls={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},cs={name:"transition",props:ls,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(function(t){return t.tag}),n.length)){var o=this.mode,i=n[0];if(_o(this.$vnode))return i;var r=mo(i);if(!r)return i;if(this._leaving)return xo(t,i);var s="__transition-"+this._uid+"-";r.key=null==r.key?s+r.tag:a(r.key)?0===String(r.key).indexOf(s)?r.key:s+r.key:r.key;var p=(r.data||(r.data={})).transition=bo(this),h=this._vnode,u=mo(h);if(r.data.directives&&r.data.directives.some(function(t){return"show"===t.name})&&(r.data.show=!0),u&&u.data&&!wo(r,u)){var l=u&&(u.data.transition=m({},p));if("out-in"===o)return this._leaving=!0,et(l,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),xo(t,i);if("in-out"===o){var c,f=function(){c()};et(p,"afterEnter",f),et(p,"enterCancelled",f),et(l,"delayLeave",function(t){c=t})}}return i}}},fs=m({tag:String,moveClass:String},ls);delete fs.mode;var ds={props:fs,render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),o=this.prevChildren=this.children,i=this.$slots.default||[],r=this.children=[],a=bo(this),s=0;s<i.length;s++){var p=i[s];if(p.tag)if(null!=p.key&&0!==String(p.key).indexOf("__vlist"))r.push(p),n[p.key]=p,(p.data||(p.data={})).transition=a;else;}if(o){for(var h=[],u=[],l=0;l<o.length;l++){var c=o[l];c.data.transition=a,c.data.pos=c.elm.getBoundingClientRect(),n[c.key]?h.push(c):u.push(c)}this.kept=t(e,null,h),this.removed=u}return t(e,null,r)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";if(t.length&&this.hasMove(t[0].elm,e)){t.forEach(Po),t.forEach(So),t.forEach(Co);var n=document.body;n.offsetHeight;t.forEach(function(t){if(t.data.moved){var n=t.elm,o=n.style;Qn(n,e),o.transform=o.WebkitTransform=o.transitionDuration="",n.addEventListener(Qa,n._moveCb=function t(o){o&&!/transform$/.test(o.propertyName)||(n.removeEventListener(Qa,t),n._moveCb=null,to(n,e))})}})}},methods:{hasMove:function(t,e){if(!Va)return!1;if(null!=this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){$n(n,t)}),Vn(n,e),n.style.display="none",this.$el.appendChild(n);var o=no(n);return this.$el.removeChild(n),this._hasMove=o.hasTransform}}},ys={Transition:cs,TransitionGroup:ds};we.config.mustUseProp=da,we.config.isReservedTag=Ca,we.config.isReservedAttr=ca,we.config.getTagNamespace=Ke,we.config.isUnknownElement=Be,m(we.options.directives,us),m(we.options.components,ys),we.prototype.__patch__=ar?ss:x,we.prototype.$mount=function(t,e){return t=t&&ar?Xe(t):void 0,_t(this,t,e)},setTimeout(function(){er.devtools&&br&&br.emit("init",we)},0);var vs,gs=!!ar&&Mo("\n","&#10;"),ms=c("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),bs=c("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),xs=c("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),_s=/([^\s"'<>\/=]+)/,ws=/(?:=)/,Ps=[/"([^"]*)"+/.source,/'([^']*)'+/.source,/([^\s"'=<>`]+)/.source],Ss=new RegExp("^\\s*"+_s.source+"(?:\\s*("+ws.source+")\\s*(?:"+Ps.join("|")+"))?"),Cs="[a-zA-Z_][\\w\\-\\.]*",Ms="((?:"+Cs+"\\:)?"+Cs+")",Ts=new RegExp("^<"+Ms),As=/^\s*(\/?)>/,Es=new RegExp("^<\\/"+Ms+"[^>]*>"),Ls=/^<!DOCTYPE [^>]+>/i,Is=/^<!--/,Ns=/^<!\[/,Os=!1;"x".replace(/x(.)?/g,function(t,e){Os=""===e});var ks,Rs,Ds,Fs,js,Ks,Bs,Xs,Us,Ys,Gs,Ws,zs,Hs,qs,Vs,$s,Zs,Js=c("script,style,textarea",!0),Qs={},tp={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n"},ep=/&(?:lt|gt|quot|amp);/g,np=/&(?:lt|gt|quot|amp|#10);/g,op=/\{\{((?:.|\n)+?)\}\}/g,ip=/[-.*+?^${}()|[\]\/\\]/g,rp=y(function(t){var e=t[0].replace(ip,"\\$&"),n=t[1].replace(ip,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")}),ap=/^@|^v-on:/,sp=/^v-|^@|^:/,pp=/(.*?)\s+(?:in|of)\s+(.*)/,hp=/\((\{[^}]*\}|[^,]*),([^,]*)(?:,([^,]*))?\)/,up=/:(.*)$/,lp=/^:|^v-bind:/,cp=/\.[^.]+/g,fp=y(To),dp=/^xmlns:NS\d+/,yp=/^NS\d+:/,vp=y(Jo),gp=/^\s*([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/,mp=/^\s*[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['.*?']|\[".*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*\s*$/,bp={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},xp=function(t){return"if("+t+")return null;"},_p={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:xp("$event.target !== $event.currentTarget"),ctrl:xp("!$event.ctrlKey"),shift:xp("!$event.shiftKey"),alt:xp("!$event.altKey"),meta:xp("!$event.metaKey"),left:xp("'button' in $event && $event.button !== 0"),middle:xp("'button' in $event && $event.button !== 1"),right:xp("'button' in $event && $event.button !== 2")},wp={bind:pi,cloak:x},Pp=(new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)"),{staticKeys:["staticClass"],transformNode:Ri,genData:Di}),Sp={staticKeys:["staticStyle"],transformNode:Fi,genData:ji},Cp=[Pp,Sp],Mp={model:Nn,text:Ki,html:Bi},Tp={expectHTML:!0,modules:Cp,directives:Mp,isPreTag:Sa,isUnaryTag:ms,mustUseProp:da,canBeLeftOpenTag:bs,isReservedTag:Ca,getTagNamespace:Ke,staticKeys:_(Cp)},Ap=ki(Tp),Ep=Ap.compileToFunctions,Lp=y(function(t){var e=Xe(t);return e&&e.innerHTML}),Ip=we.prototype.$mount;we.prototype.$mount=function(t,e){if(t=t&&Xe(t),t===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var o=n.template;if(o)if("string"==typeof o)"#"===o.charAt(0)&&(o=Lp(o));else{if(!o.nodeType)return this;o=o.innerHTML}else t&&(o=Xi(t));if(o){var i=Ep(o,{shouldDecodeNewlines:gs,delimiters:n.delimiters},this),r=i.render,a=i.staticRenderFns;n.render=r,n.staticRenderFns=a}}return Ip.call(this,t,e)},we.compile=Ep,t.exports=we}).call(e,function(){return this}())},,,function(t,e,n){t.exports={default:n(121),__esModule:!0}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(110),r=o(i);e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,r.default)(t)}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(115),r=o(i),a=n(114),s=o(a),p="function"==typeof s.default&&"symbol"==typeof r.default?function(t){return typeof t}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":typeof t};e.default="function"==typeof s.default&&"symbol"===p(r.default)?function(t){return"undefined"==typeof t?"undefined":p(t)}:function(t){return t&&"function"==typeof s.default&&t.constructor===s.default&&t!==s.default.prototype?"symbol":"undefined"==typeof t?"undefined":p(t)}},function(t,e,n){var o=n(36),i=n(4)("toStringTag"),r="Arguments"==o(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:r?o(e):"Object"==(s=o(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,n){var o=n(126);t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,i){return t.call(e,n,o,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var o=n(26),i=n(8).document,r=o(i)&&o(i.createElement);t.exports=function(t){return r?i.createElement(t):{}}},function(t,e,n){t.exports=!n(10)&&!n(17)(function(){return 7!=Object.defineProperty(n(57)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var o=n(36);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";var o=n(39),i=n(16),r=n(64),a=n(18),s=n(11),p=n(19),h=n(135),u=n(41),l=n(144),c=n(4)("iterator"),f=!([].keys&&"next"in[].keys()),d="@@iterator",y="keys",v="values",g=function(){return this};t.exports=function(t,e,n,m,b,x,_){h(n,e,m);var w,P,S,C=function(t){if(!f&&t in E)return E[t];switch(t){case y:return function(){return new n(this,t)};case v:return function(){return new n(this,t)}}return function(){return new n(this,t)}},M=e+" Iterator",T=b==v,A=!1,E=t.prototype,L=E[c]||E[d]||b&&E[b],I=L||C(b),N=b?T?C("entries"):I:void 0,O="Array"==e?E.entries||L:L;if(O&&(S=l(O.call(new t)),S!==Object.prototype&&(u(S,M,!0),o||s(S,c)||a(S,c,g))),T&&L&&L.name!==v&&(A=!0,I=function(){return L.call(this)}),o&&!_||!f&&!A&&E[c]||a(E,c,I),p[e]=I,p[M]=g,b)if(w={values:T?I:C(v),keys:x?I:C(y),entries:N},_)for(P in w)P in E||r(E,P,w[P]);else i(i.P+i.F*(f||A),e,w);return w}},function(t,e,n){var o=n(15),i=n(141),r=n(38),a=n(42)("IE_PROTO"),s=function(){},p="prototype",h=function(){var t,e=n(57)("iframe"),o=r.length,i="<",a=">";for(e.style.display="none",n(131).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+a+"document.F=Object"+i+"/script"+a),t.close(),h=t.F;o--;)delete h[p][r[o]];return h()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[p]=o(t),n=new s,s[p]=null,n[a]=t):n=h(),void 0===e?n:i(n,e)}},function(t,e,n){var o=n(63),i=n(38).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,i)}},function(t,e,n){var o=n(11),i=n(12),r=n(128)(!1),a=n(42)("IE_PROTO");t.exports=function(t,e){var n,s=i(t),p=0,h=[];for(n in s)n!=a&&o(s,n)&&h.push(n);for(;e.length>p;)o(s,n=e[p++])&&(~r(h,n)||h.push(n));return h}},function(t,e,n){t.exports=n(18)},function(t,e,n){var o=n(44),i=Math.min;t.exports=function(t){return t>0?i(o(t),9007199254740991):0}},function(t,e,n){var o=n(55),i=n(4)("iterator"),r=n(19);t.exports=n(2).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||r[o(t)]}},function(t,e,n){var o,i;!function(r,a){o=a,i="function"==typeof o?o.call(e,n,e,t):o,!(void 0!==i&&(t.exports=i))}("undefined"!=typeof window?window:this,function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},o=n[t]=n[t]||[];return o.indexOf(e)==-1&&o.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{},o=n[t]=n[t]||{};return o[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var o=n.indexOf(e);return o!=-1&&n.splice(o,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var o=0,i=n[o];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];i;){var a=r&&r[i];a&&(this.off(t,i),delete r[i]),i.apply(this,e),o+=a?0:1,i=n[o]}return this}},e.allOff=e.removeAllListeners=function(){delete this._events,delete this._onceEvents},t})},function(t,e){!function(n,o){"object"==typeof e?t.exports=o():"function"==typeof define&&define.amd?define([],o):n.ol=o()}(this,function(){function t(t,e){var n=ov,o=t.split("."),n=n||iv;o[0]in n||!n.execScript||n.execScript("var "+o[0]);for(var i;o.length&&(i=o.shift());)o.length||void 0===e?n=n[i]&&Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]={}:n[i]=e}function e(t,e){return t>e?1:t<e?-1:0}function n(t,e){return 0<=t.indexOf(e)}function o(t,e,n){var o=t.length;if(t[0]<=e)return 0;if(!(e<=t[o-1]))if(0<n){for(n=1;n<o;++n)if(t[n]<e)return n-1}else if(0>n){for(n=1;n<o;++n)if(t[n]<=e)return n}else for(n=1;n<o;++n){if(t[n]==e)return n;if(t[n]<e)return t[n-1]-e<e-t[n]?n-1:n}return o-1}function i(t,e){var n,o=Array.isArray(e)?e:[e],i=o.length;for(n=0;n<i;n++)t[t.length]=o[n]}function r(t,e){for(var n,o=t.length>>>0,i=0;i<o;i++)if(n=t[i],e(n,i,t))return n;return null}function a(t,e){var n=t.length;if(n!==e.length)return!1;for(var o=0;o<n;o++)if(t[o]!==e[o])return!1;return!0}function s(t){var e,n=wr,o=t.length,i=Array(t.length);for(e=0;e<o;e++)i[e]={index:e,value:t[e]};for(i.sort(function(t,e){return n(t.value,e.value)||t.index-e.index}),e=0;e<t.length;e++)t[e]=i[e].value}function p(t,e){var n;return t.every(function(o,i){return n=i,!e(o,i,t)})?-1:n}function h(t,n){var o=n||e;return t.every(function(e,n){if(!n)return!0;var i=o(t[n-1],e);return!(0<i||0===i)})}function u(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function l(){}function c(t){return t.Lo||(t.Lo=++rv)}function f(t){this.message="Assertion failed. See https://openlayers.org/en/v4.1.1/doc/errors/#"+t+" for details.",this.code=t,this.name="AssertionError"}function d(t,e){if(!t)throw new f(e)}function y(t,e,n,o){this.da=t,this.ba=e,this.ga=n,this.ja=o}function v(t,e,n){return t.da<=e&&e<=t.ba&&t.ga<=n&&n<=t.ja}function g(t,e){return t.da==e.da&&t.ga==e.ga&&t.ba==e.ba&&t.ja==e.ja}function m(t,e){return t.da<=e.ba&&t.ba>=e.da&&t.ga<=e.ja&&t.ja>=e.ga}function b(t,e,n){return Math.min(Math.max(t,e),n)}function x(t){return d(0<t,29),Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function _(t,e,n,o,i,r){var a=i-n,s=r-o;if(a||s){var p=((t-n)*a+(e-o)*s)/(a*a+s*s);1<p?(n=i,o=r):0<p&&(n+=a*p,o+=s*p)}return w(t,e,n,o)}function w(t,e,n,o){return t=n-t,e=o-e,t*t+e*e}function P(t){return t*Math.PI/180}function S(t,e){var n=t%e;return 0>n*e?n+e:n}function C(t,e,n){return t+n*(e-t)}function M(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]+2*e,n[1]=t[1]+2*e,n}function T(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function A(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}function E(t){for(var e=F(),n=0,o=t.length;n<o;++n)Y(e,t[n]);return e}function L(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function I(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function N(t,e,n){return e=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,t=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0,e*e+t*t}function O(t,e){return R(t,e[0],e[1])}function k(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function R(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function D(t,e){var n=t[1],o=t[2],i=t[3],r=e[0],a=e[1],s=0;return r<t[0]?s|=16:r>o&&(s|=4),a<n?s|=8:a>i&&(s|=2),s||(s=1),s}function F(){return[1/0,1/0,-(1/0),-(1/0)]}function j(t,e,n,o,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=o,i):[t,e,n,o]}function K(t,e){var n=t[0],o=t[1];return j(n,o,n,o,e)}function B(t,e,n,o,i){return i=j(1/0,1/0,-(1/0),-(1/0),i),G(i,t,e,n,o)}function X(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function U(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function Y(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function G(t,e,n,o,i){for(;n<o;n+=i){var r=t,a=e[n],s=e[n+1];r[0]=Math.min(r[0],a),r[1]=Math.min(r[1],s),r[2]=Math.max(r[2],a),r[3]=Math.max(r[3],s)}return t}function W(t,e,n){var o;return(o=e.call(n,H(t)))||(o=e.call(n,q(t)))||(o=e.call(n,tt(t)))?o:!!(o=e.call(n,Q(t)))&&o}function z(t){var e=0;return ot(t)||(e=et(t)*Z(t)),e}function H(t){return[t[0],t[1]]}function q(t){return[t[2],t[1]]}function V(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function $(t,e,n,o,i){var r=e*o[0]/2;o=e*o[1]/2,e=Math.cos(n);var a=Math.sin(n);n=r*e,r*=a,e*=o;var s=o*a,p=t[0],h=t[1];t=p-n+s,o=p-n-s,a=p+n-s,n=p+n+s;var s=h-r-e,p=h-r+e,u=h+r+e,r=h+r-e;return j(Math.min(t,o,a,n),Math.min(s,p,u,r),Math.max(t,o,a,n),Math.max(s,p,u,r),i)}function Z(t){return t[3]-t[1]}function J(t,e,n){return n=n?n:F(),nt(t,e)&&(n[0]=t[0]>e[0]?t[0]:e[0],n[1]=t[1]>e[1]?t[1]:e[1],n[2]=t[2]<e[2]?t[2]:e[2],n[3]=t[3]<e[3]?t[3]:e[3]),n}function Q(t){return[t[0],t[3]]}function tt(t){return[t[2],t[3]]}function et(t){return t[2]-t[0]}function nt(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function ot(t){return t[2]<t[0]||t[3]<t[1]}function it(t,e){var n=(t[2]-t[0])/2*(e-1),o=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=o,t[3]+=o}function rt(t,e,n){t=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]],e(t,t,2);var o=[t[0],t[2],t[4],t[6]],i=[t[1],t[3],t[5],t[7]];return e=Math.min.apply(null,o),t=Math.min.apply(null,i),o=Math.max.apply(null,o),i=Math.max.apply(null,i),j(e,t,o,i,n)}function at(t){for(var e in t)delete t[e]}function st(t){var e,n=[];for(e in t)n.push(t[e]);return n}function pt(t){for(var e in t)return!1;return!e}function ht(t){this.radius=t}function ut(t){this.nb=t.code,this.i=t.units,this.c=void 0!==t.extent?t.extent:null,this.f=void 0!==t.worldExtent?t.worldExtent:null,this.b=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.g=void 0!==t.global&&t.global,this.a=!(!this.g||!this.c),this.l=t.getPointResolution,this.j=null,this.o=t.metersPerUnit;var e=t.code,n=uv||window.proj4;"function"==typeof n&&(e=n.defs(e),void 0!==e&&(void 0!==e.axis&&void 0===t.axisOrientation&&(this.b=e.axis),void 0===t.metersPerUnit&&(this.o=e.to_meter),void 0===t.units&&(this.i=e.units)))}function lt(t){ut.call(this,{code:t,units:"m",extent:cv,global:!0,worldExtent:fv,getPointResolution:function(t,e){return t/av(e[1]/6378137)}})}function ct(t,e,n){var o=t.length;n=1<n?n:2,void 0===e&&(e=2<n?t.slice():Array(o));for(var i=0;i<o;i+=n){e[i]=lv*t[i]/180;var r=6378137*Math.log(Math.tan(Math.PI*(t[i+1]+90)/360));r>lv?r=lv:r<-lv&&(r=-lv),e[i+1]=r}return e}function ft(t,e,n){var o=t.length;n=1<n?n:2,void 0===e&&(e=2<n?t.slice():Array(o));for(var i=0;i<o;i+=n)e[i]=180*t[i]/lv,e[i+1]=360*Math.atan(Math.exp(t[i+1]/6378137))/Math.PI-90;return e}function dt(t,e){ut.call(this,{code:t,units:"degrees",extent:vv,axisOrientation:e,global:!0,metersPerUnit:gv,worldExtent:vv})}function yt(t,e,n){t=t.nb,e=e.nb,t in xv||(xv[t]={}),xv[t][e]=n}function vt(t,e){var n;return t in xv&&e in xv[t]&&(n=xv[t][e]),n}function gt(t,e,n){var o=t.l;return o?e=o(e,n):"degrees"!=t.Kb()&&(o=At(t,Ct("EPSG:4326")),e=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2],e=o(e,e,2),e=(pv.b(e.slice(0,2),e.slice(2,4))+pv.b(e.slice(4,6),e.slice(6,8)))/2,t=t.uc(),void 0!==t&&(e/=t)),e}function mt(t){_t(t),t.forEach(function(e){t.forEach(function(t){e!==t&&yt(e,t,Lt)})})}function bt(){mv.forEach(function(t){dv.forEach(function(e){yt(t,e,ct),yt(e,t,ft)})})}function xt(t){bv[t.nb]=t,yt(t,t,Lt)}function _t(t){var e=[];t.forEach(function(t){e.push(xt(t))})}function wt(t){return t?"string"==typeof t?Ct(t):t:Ct("EPSG:3857")}function Pt(t,e,n,o){t=Ct(t),e=Ct(e),yt(t,e,St(n)),yt(e,t,St(o))}function St(t){return function(e,n,o){var i=e.length;o=void 0!==o?o:2,n=void 0!==n?n:Array(i);var r,a;for(a=0;a<i;a+=o)for(r=t([e[a],e[a+1]]),n[a]=r[0],n[a+1]=r[1],r=o-1;2<=r;--r)n[a+r]=e[a+r];return n}}function Ct(t){var e=null;if(t instanceof ut)e=t;else if("string"==typeof t){var e=bv[t]||null,n=uv||window.proj4;e||"function"!=typeof n||void 0===n.defs(t)||(e=new ut({code:t}),xt(e))}return e}function Mt(t,e){if(t===e)return!0;var n=t.Kb()===e.Kb();return t.nb===e.nb?n:At(t,e)===Lt&&n}function Tt(t,e){var n=Ct(t),o=Ct(e);return At(n,o)}function At(t,e){var n=t.nb,o=e.nb,i=vt(n,o);if(!i){var r=uv||window.proj4;if("function"==typeof r){var a=r.defs(n),s=r.defs(o);void 0!==a&&void 0!==s&&(a===s?mt([e,t]):(i=r(o,n),Pt(e,t,i.forward,i.inverse)),i=vt(n,o))}}return i||(i=Et),i}function Et(t,e){if(void 0!==e&&t!==e){for(var n=0,o=t.length;n<o;++n)e[n]=t[n];t=e}return t}function Lt(t,e){var n;if(void 0!==e){n=0;for(var o=t.length;n<o;++n)e[n]=t[n];n=e}else n=t.slice();return n}function It(t,e,n){return Tt(e,n)(t,void 0,t.length)}function Nt(t,e,n){return e=Tt(e,n),rt(t,e)}function Ot(){mt(dv),mt(mv),bt()}function kt(t,e,n,o){return void 0!==o?(o[0]=t,o[1]=e,o[2]=n,o):[t,e,n]}function Rt(t){var e,n,o=t[0],i=Array(o),r=1<<o-1;for(e=0;e<o;++e)n=48,t[1]&r&&(n+=1),t[2]&r&&(n+=2),i[e]=String.fromCharCode(n),r>>=1;return i.join("")}function Dt(t){this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.b=t.resolutions,d(h(this.b,function(t,e){return e-t}),17),this.maxZoom=this.b.length-1,this.g=void 0!==t.origin?t.origin:null,this.c=null,void 0!==t.origins&&(this.c=t.origins,d(this.c.length==this.b.length,20));var e=t.extent;void 0===e||this.g||this.c||(this.g=Q(e)),d(!this.g&&this.c||this.g&&!this.c,18),this.i=null,void 0!==t.tileSizes&&(this.i=t.tileSizes,d(this.i.length==this.b.length,19)),this.f=void 0!==t.tileSize?t.tileSize:this.i?null:256,d(!this.f&&this.i||this.f&&!this.i,22),this.u=void 0!==e?e:null,this.a=null,this.j=[0,0],void 0!==t.sizes?this.a=t.sizes.map(function(t){return new y(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):e&&Yt(this,e)}function Ft(t,e,n,o,i){for(i=t.Ua(e,i),e=e[0]-1;e>=t.minZoom;){if(n.call(null,e,Bt(t,i,e,o)))return!0;--e}return!1}function jt(t,e,n,o){return e[0]<t.maxZoom?(o=t.Ua(e,o),Bt(t,o,e[0]+1,n)):null}function Kt(t,e,n,o){Ut(t,e[0],e[1],n,!1,_v);var i=_v[1],r=_v[2];return Ut(t,e[2],e[3],n,!0,_v),t=_v[1],e=_v[2],void 0!==o?(o.da=i,o.ba=t,o.ga=r,o.ja=e):o=new y(i,t,r,e),o}function Bt(t,e,n,o){return Kt(t,e,t.La(n),o)}function Xt(t,e){var n=t.Uc(e[0]),o=t.La(e[0]),i=A(t.eb(e[0]),t.j);return[n[0]+(e[1]+.5)*i[0]*o,n[1]+(e[2]+.5)*i[1]*o]}function Ut(t,e,n,o,i,r){var a=t.Qc(o),s=o/t.La(a),p=t.Uc(a);return t=A(t.eb(a),t.j),e=s*Math.floor((e-p[0])/o+(i?.5:0))/t[0],n=s*Math.floor((n-p[1])/o+(i?0:.5))/t[1],i?(e=Math.ceil(e)-1,n=Math.ceil(n)-1):(e=Math.floor(e),n=Math.floor(n)),kt(a,e,n,r)}function Yt(t,e){for(var n=t.b.length,o=Array(n),i=t.minZoom;i<n;++i)o[i]=Bt(t,e,i);t.a=o}function Gt(t){var e=t.j;if(!e){var e=Ht(t),n=zt(e,void 0,void 0),e=new Dt({extent:e,origin:Q(e),resolutions:n,tileSize:void 0});t.j=e}return e}function Wt(t){var e={};return sv(e,t?t:{}),void 0===e.extent&&(e.extent=Ct("EPSG:3857").D()),e.resolutions=zt(e.extent,e.maxZoom,e.tileSize),delete e.maxZoom,new Dt(e)}function zt(t,e,n){e=void 0!==e?e:42;var o=Z(t);for(t=et(t),n=A(void 0!==n?n:256),n=Math.max(t/n[0],o/n[1]),e+=1,o=Array(e),t=0;t<e;++t)o[t]=n/Math.pow(2,t);return o}function Ht(t){t=Ct(t);var e=t.D();return e||(t=180*hv.degrees/t.uc(),e=j(-t,-t,t,t)),e}function qt(t){this.b=t.html,this.a=t.tileRanges?t.tileRanges:null}function Vt(t){return function(e){if(e)return[b(e[0],t[0],t[2]),b(e[1],t[1],t[3])]}}function $t(t){return t}function Zt(t){function e(e){var n=t.listener,o=t.dh||t.target;return t.fh&&re(t),n.call(o,e)}return t.eh=e}function Jt(t,e,n,o){for(var i,r=0,a=t.length;r<a;++r)if(i=t[r],i.listener===e&&i.dh===n)return o&&(i.deleteIndex=r),i}function Qt(t,e){var n=t.mb;return n?n[e]:void 0}function te(t){var e=t.mb;return e||(e=t.mb={}),e}function ee(t,e){var n=Qt(t,e);if(n){for(var o=0,i=n.length;o<i;++o)t.removeEventListener(e,n[o].eh),at(n[o]);n.length=0,(n=t.mb)&&(delete n[e],Object.keys(n).length||delete t.mb)}}function ne(t,e,n,o,i){var r=te(t),a=r[e];return a||(a=r[e]=[]),(r=Jt(a,n,o,!1))?i||(r.fh=!1):(r={
dh:o,fh:!!i,listener:n,target:t,type:e},t.addEventListener(e,Zt(r)),a.push(r)),r}function oe(t,e,n,o){return ne(t,e,n,o,!0)}function ie(t,e,n,o){(t=Qt(t,e))&&(n=Jt(t,n,o,!0))&&re(n)}function re(t){if(t&&t.target){t.target.removeEventListener(t.type,t.eh);var e=Qt(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==n&&e.splice(n,1),e.length||ee(t.target,t.type)}at(t)}}function ae(t){var e,n=te(t);for(e in n)ee(t,e)}function se(){}function pe(t){t.$b||(t.$b=!0,t.ra())}function he(t){this.type=t,this.target=null}function ue(t){t.stopPropagation()}function le(){this.$a={},this.ta={},this.qa={}}function ce(t,e){return e?e in t.qa:0<Object.keys(t.qa).length}function fe(){le.call(this),this.g=0}function de(t){fe.call(this),c(this),this.O={},void 0!==t&&this.H(t)}function ye(t){return wv.hasOwnProperty(t)?wv[t]:wv[t]="change:"+t}function ve(t,e,n){var o;o=ye(e),t.b(new ge(o,e,n)),t.b(new ge("propertychange",e,n))}function ge(t,e,n){he.call(this,t),this.key=e,this.oldValue=n}function me(t,e){if(de.call(this),this.c=!!(e||{}).unique,this.a=t?t:[],this.c)for(var n=0,o=this.a.length;n<o;++n)xe(this,this.a[n],n);be(this)}function be(t){t.set(Pv,t.a.length)}function xe(t,e,n){for(var o=0,i=t.a.length;o<i;++o)if(t.a[o]===e&&o!==n)throw new f(58)}function _e(t,e){he.call(this,t),this.element=e}function we(t){return Array.isArray(t)?t:Mv(t)}function Pe(t){if("string"!=typeof t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var o=t[2];o!=(0|o)&&(o=o+.5|0),t="rgba("+e+","+n+","+o+","+(void 0===t[3]?1:t[3])+")"}return t}function Se(t){var e=[];return e[0]=b(t[0]+.5|0,0,255),e[1]=b(t[1]+.5|0,0,255),e[2]=b(t[2]+.5|0,0,255),e[3]=b(t[3],0,1),e}function Ce(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient?t:Pe(t)}function Me(t,e,n){this.center=t,this.resolution=e,this.rotation=n}function Te(t,e){var n=document.createElement("CANVAS");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")}function Ae(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function Ee(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Le(t){de.call(this),this.element=t.element?t.element:null,this.a=this.Z=null,this.u=[],this.render=t.render?t.render:l,t.target&&this.i(t.target)}function Ie(t){t=t?t:{},this.I=document.createElement("UL"),this.v=document.createElement("LI"),this.I.appendChild(this.v),this.v.style.display="none",this.c=void 0===t.collapsed||t.collapsed,this.l=void 0===t.collapsible||t.collapsible,this.l||(this.c=!1);var e=void 0!==t.className?t.className:"ol-attribution",n=void 0!==t.tipLabel?t.tipLabel:"Attributions",o=void 0!==t.collapseLabel?t.collapseLabel:"»";"string"==typeof o?(this.A=document.createElement("span"),this.A.textContent=o):this.A=o,o=void 0!==t.label?t.label:"i","string"==typeof o?(this.C=document.createElement("span"),this.C.textContent=o):this.C=o;var i=this.l&&!this.c?this.A:this.C,o=document.createElement("button");o.setAttribute("type","button"),o.title=n,o.appendChild(i),ne(o,"click",this.Pm,this),n=document.createElement("div"),n.className=e+" ol-unselectable ol-control"+(this.c&&this.l?" ol-collapsed":"")+(this.l?"":" ol-uncollapsible"),n.appendChild(this.I),n.appendChild(o),Le.call(this,{element:n,render:t.render?t.render:Ne,target:t.target}),this.G=!0,this.o={},this.j={},this.T={}}function Ne(t){if(t=t.frameState){var e,n,o,i,r,a,s,p,h,u,l,f=t.layerStatesArray,d=sv({},t.attributions),v={},g={},b=t.viewState.projection;for(n=0,e=f.length;n<e;n++)if((a=f[n].layer.ka())&&(u=c(a).toString(),h=a.j))for(o=0,i=h.length;o<i;o++)if(s=h[o],p=c(s).toString(),!(p in d)){if(r=t.usedTiles[u]){var x=a.Jb(b);t:{l=void 0;var _,w,P=s,C=x,M=b;if(P.a){for(l in r)if(l in P.a){var T,x=r[l];for(w=0,_=P.a[l].length;w<_;++w){if(T=P.a[l][w],m(T,x)){l=!0;break t}var A=Bt(C,Ht(M),parseInt(l,10)),E=A.ba-A.da+1;if((x.da<A.da||x.ba>A.ba)&&(m(T,new y(S(x.da,E),S(x.ba,E),x.ga,x.ja))||x.ba-x.da+1>E&&m(T,A))){l=!0;break t}}}l=!1}else l=!0}}else l=!1;l?(p in v&&delete v[p],l=s.b,l in g||(g[l]=!0,d[p]=s)):v[p]=s}e=[d,v],n=e[0],e=e[1];for(var L in this.o)L in n?(this.j[L]||(this.o[L].style.display="",this.j[L]=!0),delete n[L]):L in e?(this.j[L]&&(this.o[L].style.display="none",delete this.j[L]),delete e[L]):(Ee(this.o[L]),delete this.o[L],delete this.j[L]);for(L in n)o=document.createElement("LI"),o.innerHTML=n[L].b,this.I.appendChild(o),this.o[L]=o,this.j[L]=!0;for(L in e)o=document.createElement("LI"),o.innerHTML=e[L].b,o.style.display="none",this.I.appendChild(o),this.o[L]=o;L=!pt(this.j)||!pt(t.logos),this.G!=L&&(this.element.style.display=L?"":"none",this.G=L),L&&pt(this.j)?this.element.classList.add("ol-logo-only"):this.element.classList.remove("ol-logo-only");var I;t=t.logos,L=this.T;for(I in L)I in t||(Ee(L[I]),delete L[I]);for(var N in t)e=t[N],e instanceof HTMLElement&&(this.v.appendChild(e),L[N]=e),N in L||(I=new Image,I.src=N,""===e?n=I:(n=document.createElement("a"),n.href=e,n.appendChild(I)),this.v.appendChild(n),L[N]=n);this.v.style.display=pt(t)?"none":""}else this.G&&(this.element.style.display="none",this.G=!1)}function Oe(t){t.element.classList.toggle("ol-collapsed"),t.c?Ae(t.A,t.C):Ae(t.C,t.A),t.c=!t.c}function ke(t){return Math.pow(t,3)}function Re(t){return 1-ke(1-t)}function De(t){return 3*t*t-2*t*t*t}function Fe(t){return t}function je(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-rotate",n=void 0!==t.label?t.label:"⇧";this.c=null,"string"==typeof n?(this.c=document.createElement("span"),this.c.className="ol-compass",this.c.textContent=n):(this.c=n,this.c.classList.add("ol-compass"));var o=t.tipLabel?t.tipLabel:"Reset rotation",n=document.createElement("button");n.className=e+"-reset",n.setAttribute("type","button"),n.title=o,n.appendChild(this.c),ne(n,"click",je.prototype.A,this),o=document.createElement("div"),o.className=e+" ol-unselectable ol-control",o.appendChild(n),e=t.render?t.render:Ke,this.l=t.resetNorth?t.resetNorth:void 0,Le.call(this,{element:o,render:e,target:t.target}),this.o=void 0!==t.duration?t.duration:250,this.j=void 0===t.autoHide||t.autoHide,this.v=void 0,this.j&&this.element.classList.add("ol-hidden")}function Ke(t){if(t=t.frameState){if(t=t.viewState.rotation,t!=this.v){var e="rotate("+t+"rad)";if(this.j){var n=this.element.classList.contains("ol-hidden");n||t?n&&t&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.c.style.msTransform=e,this.c.style.webkitTransform=e,this.c.style.transform=e}this.v=t}}function Be(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-zoom",n=void 0!==t.delta?t.delta:1,o=void 0!==t.zoomInLabel?t.zoomInLabel:"+",i=void 0!==t.zoomOutLabel?t.zoomOutLabel:"−",r=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",a=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",s=document.createElement("button");s.className=e+"-in",s.setAttribute("type","button"),s.title=r,s.appendChild("string"==typeof o?document.createTextNode(o):o),ne(s,"click",Be.prototype.j.bind(this,n)),o=document.createElement("button"),o.className=e+"-out",o.setAttribute("type","button"),o.title=a,o.appendChild("string"==typeof i?document.createTextNode(i):i),ne(o,"click",Be.prototype.j.bind(this,-n)),n=document.createElement("div"),n.className=e+" ol-unselectable ol-control",n.appendChild(s),n.appendChild(o),Le.call(this,{element:n,target:t.target}),this.c=void 0!==t.duration?t.duration:250}function Xe(t){t=t?t:{};var e=new me;return(void 0!==t.zoom?t.zoom:1)&&e.push(new Be(t.zoomOptions)),(void 0!==t.rotate?t.rotate:1)&&e.push(new je(t.rotateOptions)),(void 0!==t.attribution?t.attribution:1)&&e.push(new Ie(t.attributionOptions)),e}function Ue(t){t=t?t:{},this.c=void 0!==t.className?t.className:"ol-full-screen";var e=void 0!==t.label?t.label:"⤢";this.l="string"==typeof e?document.createTextNode(e):e,e=void 0!==t.labelActive?t.labelActive:"×",this.o="string"==typeof e?document.createTextNode(e):e;var n=t.tipLabel?t.tipLabel:"Toggle full-screen",e=document.createElement("button");e.className=this.c+"-"+Ge(),e.setAttribute("type","button"),e.title=n,e.appendChild(this.l),ne(e,"click",this.C,this),n=document.createElement("div"),n.className=this.c+" ol-unselectable ol-control "+(Ye()?"":"ol-unsupported"),n.appendChild(e),Le.call(this,{element:n,target:t.target}),this.A=void 0!==t.keys&&t.keys,this.j=t.source}function Ye(){var t=document.body;return!!(t.webkitRequestFullscreen||t.mozRequestFullScreen&&document.mozFullScreenEnabled||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)}function Ge(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function We(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}function ze(t){t=t?t:{};var e=document.createElement("DIV");e.className=void 0!==t.className?t.className:"ol-mouse-position",Le.call(this,{element:e,render:t.render?t.render:He,target:t.target}),ne(this,ye(Av),this.Sm,this),t.coordinateFormat&&this.fj(t.coordinateFormat),t.projection&&this.Th(Ct(t.projection)),this.v=void 0!==t.undefinedHTML?t.undefinedHTML:"",this.o=e.innerHTML,this.l=this.j=this.c=null}function He(t){t=t.frameState,t?this.c!=t.viewState.projection&&(this.c=t.viewState.projection,this.j=null):this.c=null,qe(this,this.l)}function qe(t,e){var n=t.v;if(e&&t.c){if(!t.j){var o=t.Sh();t.j=o?At(t.c,o):Et}(o=t.a.Xa(e))&&(t.j(o,o),n=(n=t.qh())?n(o):o.toString())}t.o&&n==t.o||(t.element.innerHTML=n,t.o=n)}function Ve(t,e,n){he.call(this,t),this.map=e,this.frameState=void 0!==n?n:null}function $e(t,e,n,o,i){Ve.call(this,t,e,i),this.originalEvent=n,this.pixel=e.xe(n),this.coordinate=e.Xa(this.pixel),this.dragging=void 0!==o&&o}function Ze(t,e,n,o,i){$e.call(this,t,e,n.b,o,i),this.b=n}function Je(t,e){var n,o,i=Ov.length;for(o=0;o<i;++o)try{if(n=t.getContext(Ov[o],e))return n}catch(t){}return null}function Qe(t,e){this.b=t,this.i=e}function tn(t){Qe.call(this,t,{mousedown:this.am,mousemove:this.bm,mouseup:this.em,mouseover:this.dm,mouseout:this.cm}),this.a=t.g,this.g=[]}function en(t,e){for(var n,o=t.g,i=e.clientX,r=e.clientY,a=0,s=o.length;a<s&&(n=o[a]);a++){var p=Math.abs(r-n[1]);if(25>=Math.abs(i-n[0])&&25>=p)return!0}return!1}function nn(t){var e=mn(t,t),n=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),n()},e.pointerId=1,e.isPrimary=!0,e.pointerType="mouse",e}function on(t){Qe.call(this,t,{MSPointerDown:this.jm,MSPointerMove:this.km,MSPointerUp:this.nm,MSPointerOut:this.lm,MSPointerOver:this.mm,MSPointerCancel:this.im,MSGotPointerCapture:this.gm,MSLostPointerCapture:this.hm}),this.a=t.g,this.g=["","unavailable","touch","pen","mouse"]}function rn(t,e){var n=e;return"number"==typeof e.pointerType&&(n=mn(e,e),n.pointerType=t.g[e.pointerType]),n}function an(t){Qe.call(this,t,{pointerdown:this.Yo,pointermove:this.Zo,pointerup:this.bp,pointerout:this.$o,pointerover:this.ap,pointercancel:this.Xo,gotpointercapture:this.pl,lostpointercapture:this.$l})}function sn(t,e,n){he.call(this,t),this.b=e,t=n?n:{},this.buttons=pn(t),this.pressure=hn(t,this.buttons),this.bubbles="bubbles"in t&&t.bubbles,this.cancelable="cancelable"in t&&t.cancelable,this.view="view"in t?t.view:null,this.detail="detail"in t?t.detail:null,this.screenX="screenX"in t?t.screenX:0,this.screenY="screenY"in t?t.screenY:0,this.clientX="clientX"in t?t.clientX:0,this.clientY="clientY"in t?t.clientY:0,this.button="button"in t?t.button:0,this.relatedTarget="relatedTarget"in t?t.relatedTarget:null,this.pointerId="pointerId"in t?t.pointerId:0,this.width="width"in t?t.width:0,this.height="height"in t?t.height:0,this.pointerType="pointerType"in t?t.pointerType:"",this.isPrimary="isPrimary"in t&&t.isPrimary,e.preventDefault&&(this.preventDefault=function(){e.preventDefault()})}function pn(t){if(t.buttons||$v)t=t.buttons;else switch(t.which){case 1:t=1;break;case 2:t=4;break;case 3:t=2;break;default:t=0}return t}function hn(t,e){var n=0;return n=t.pressure?t.pressure:e?.5:0}function un(t,e){Qe.call(this,t,{touchstart:this.gq,touchmove:this.fq,touchend:this.eq,touchcancel:this.cq}),this.a=t.g,this.j=e,this.g=void 0,this.f=0,this.c=void 0}function ln(t,e,n){return e=mn(e,n),e.pointerId=n.identifier+2,e.bubbles=!0,e.cancelable=!0,e.detail=t.f,e.button=0,e.buttons=1,e.width=n.webkitRadiusX||n.radiusX||0,e.height=n.webkitRadiusY||n.radiusY||0,e.pressure=n.webkitForce||n.force||.5,e.isPrimary=t.g===n.identifier,e.pointerType="touch",e.clientX=n.clientX,e.clientY=n.clientY,e.screenX=n.screenX,e.screenY=n.screenY,e}function cn(t,e,n){function o(){e.preventDefault()}var i,r,a=Array.prototype.slice.call(e.changedTouches),s=a.length;for(i=0;i<s;++i)r=ln(t,e,a[i]),r.preventDefault=o,n.call(t,e,r)}function fn(t,e){var n=t.j.g,o=e.changedTouches[0];if(t.g===o.identifier){var i=[o.clientX,o.clientY];n.push(i),setTimeout(function(){var t=n.indexOf(i);-1<t&&n.splice(t,1)},2500)}}function dn(t){le.call(this),this.f=t,this.g={},this.i={},this.a=[],Wv?yn(this,new an(this)):zv?yn(this,new on(this)):(t=new tn(this),yn(this,t),Gv&&yn(this,new un(this,t))),t=this.a.length;for(var e,n=0;n<t;n++)e=this.a[n],vn(this,Object.keys(e.i))}function yn(t,e){var n=Object.keys(e.i);n&&(n.forEach(function(t){var n=e.i[t];n&&(this.i[t]=n.bind(e))},t),t.a.push(e))}function vn(t,e){e.forEach(function(t){ne(this.f,t,this.c,this)},t)}function gn(t,e){e.forEach(function(t){ie(this.f,t,this.c,this)},t)}function mn(t,e){for(var n,o={},i=0,r=Zv.length;i<r;i++)n=Zv[i][0],o[n]=t[n]||e[n]||Zv[i][1];return o}function bn(t,e,n){e.bubbles=!1,wn(t,"pointerleave",e,n)}function xn(t,e,n){t.out(e,n);var o=e.target,i=e.relatedTarget;o&&i&&o.contains(i)||bn(t,e,n)}function _n(t,e,n){e.bubbles=!0,wn(t,"pointerover",e,n);var o=e.target,i=e.relatedTarget;o&&i&&o.contains(i)||(e.bubbles=!1,wn(t,"pointerenter",e,n))}function wn(t,e,n,o){t.b(new sn(e,o,n))}function Pn(t,e){t.b(new sn(e.type,e,e))}function Sn(t){le.call(this),this.c=t,this.j=0,this.l=!1,this.i=[],this.g=null,t=this.c.c,this.O=0,this.v={},this.f=new dn(t),this.a=null,this.o=ne(this.f,"pointerdown",this.Jl,this),this.u=ne(this.f,"pointermove",this.Bp,this)}function Cn(t,e){var n=new Ze("click",t.c,e);t.b(n),t.j?(clearTimeout(t.j),t.j=0,n=new Ze("dblclick",t.c,e),t.b(n)):t.j=setTimeout(function(){this.j=0;var t=new Ze("singleclick",this.c,e);this.b(t)}.bind(t),250)}function Mn(t,e){"pointerup"==e.type||"pointercancel"==e.type?delete t.v[e.pointerId]:"pointerdown"==e.type&&(t.v[e.pointerId]=!0),t.O=Object.keys(t.v).length}function Tn(t,e){this.o=t,this.c=e,this.b=[],this.g=[],this.a={}}function An(t){var e=t.b,n=t.g,o=e[0];return 1==e.length?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),En(t,0)),e=t.c(o),delete t.a[e],o}function En(t,e){for(var n=t.b,o=t.g,i=n.length,r=n[e],a=o[e],s=e;e<i>>1;){var p=2*e+1,h=2*e+2,p=h<i&&o[h]<o[p]?h:p;n[e]=n[p],o[e]=o[p],e=p}n[e]=r,o[e]=a,Ln(t,s,e)}function Ln(t,e,n){var o=t.b;t=t.g;for(var i=o[n],r=t[n];n>e;){var a=n-1>>1;if(!(t[a]>r))break;o[n]=o[a],t[n]=t[a],n=a}o[n]=i,t[n]=r}function In(t){var e,n,o,i=t.o,r=t.b,a=t.g,s=0,p=r.length;for(n=0;n<p;++n)e=r[n],o=i(e),1/0==o?delete t.a[t.c(e)]:(a[s]=o,r[s++]=e);for(r.length=s,a.length=s,i=(t.b.length>>1)-1;0<=i;i--)En(t,i)}function Nn(t,e){Tn.call(this,function(e){return t.apply(null,e)},function(t){return t[0].hb()}),this.u=e,this.j=0,this.f={}}function On(t,e,n){for(var o,i,r=0;t.j<e&&r<n&&0<t.b.length;)o=An(t)[0],i=o.hb(),0!==o.V()||i in t.f||(t.f[i]=!0,++t.j,++r,o.load())}function kn(t){return function(e,n,i){if(void 0!==e)return e=o(t,e,i),e=b(e+n,0,t.length-1),n=Math.floor(e),e!=n&&n<t.length-1?t[n]/Math.pow(t[n]/t[n+1],e-n):t[n]}}function Rn(t,e,n){return function(o,i,r){if(void 0!==o)return o=Math.max(Math.floor(Math.log(e/o)/Math.log(t)+(-r/2+.5))+i,0),void 0!==n&&(o=Math.min(o,n)),e/Math.pow(t,o)}}function Dn(t){if(void 0!==t)return 0}function Fn(t,e){if(void 0!==t)return t+e}function jn(t){var e=2*Math.PI/t;return function(t,n){if(void 0!==t)return t=Math.floor((t+n)/e+.5)*e}}function Kn(){var t=P(5);return function(e,n){if(void 0!==e)return Math.abs(e+n)<=t?0:e+n}}function Bn(t,e){var n=void 0!==e?t.toFixed(e):""+t,o=n.indexOf("."),o=-1===o?n.length:o;return 2<o?n:Array(3-o).join("0")+n}function Xn(t){t=(""+t).split(".");for(var e=["1","3"],n=0;n<Math.max(t.length,e.length);n++){var o=parseInt(t[n]||"0",10),i=parseInt(e[n]||"0",10);if(o>i)return 1;if(i>o)return-1}return 0}function Un(t,e){return t[0]+=e[0],t[1]+=e[1],t}function Yn(t,e){var n=t[0],o=t[1],i=e[0],r=e[1],a=i[0],i=i[1],s=r[0],r=r[1],p=s-a,h=r-i,n=p||h?(p*(n-a)+h*(o-i))/(p*p+h*h||0):0;return 0>=n||(1<=n?(a=s,i=r):(a+=n*p,i+=n*h)),[a,i]}function Gn(t,e,n){t=S(t+180,360)-180;var o=Math.abs(3600*t);n=n||0;var i=Math.pow(10,n),r=Math.floor(o/3600),a=Math.floor((o-3600*r)/60),o=Math.ceil((o-3600*r-60*a)*i)/i;return 60<=o&&(o=0,a+=1),60<=a&&(a=0,r+=1),r+"° "+Bn(a)+"′ "+Bn(o,n)+"″ "+e.charAt(0>t?1:0)}function Wn(t,e,n){return t?e.replace("{x}",t[0].toFixed(n)).replace("{y}",t[1].toFixed(n)):""}function zn(t,e){for(var n=!0,o=t.length-1;0<=o;--o)if(t[o]!=e[o]){n=!1;break}return n}function Hn(t,e){var n=Math.cos(e),o=Math.sin(e),i=t[1]*n+t[0]*o;return t[0]=t[0]*n-t[1]*o,t[1]=i,t}function qn(t,e){t[0]*=e,t[1]*=e}function Vn(t,e){var n=t[0]-e[0],o=t[1]-e[1];return n*n+o*o}function $n(t,e){return Math.sqrt(Vn(t,e))}function Zn(t,e){return Vn(t,Yn(t,e))}function Jn(t,e){return Wn(t,"{x}, {y}",e)}function Qn(){return!0}function to(){return!1}function eo(){de.call(this),this.o=F(),this.u=-1,this.i={},this.l=this.f=0}function no(t,e,n,o,i,r){for(var a=r?r:[],s=0;e<n;e+=o){var p=t[e],h=t[e+1];a[s++]=i[0]*p+i[2]*h+i[4],a[s++]=i[1]*p+i[3]*h+i[5]}return r&&a.length!=s&&(a.length=s),a}function oo(t,e,n,o,i,r){var a,s,p=r?r:[],h=0;for(a=0;a<e;a+=n)for(p[h++]=t[a]+o,p[h++]=t[a+1]+i,s=a+2;s<a+n;++s)p[h++]=t[s];return r&&p.length!=h&&(p.length=h),p}function io(){eo.call(this),this.la="XY",this.a=2,this.B=null}function ro(t){var e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}function ao(t,e,n){t.a=ro(e),t.la=e,t.B=n}function so(t,e,n,o){if(e)n=ro(e);else{for(e=0;e<o;++e){if(!n.length)return t.la="XY",void(t.a=2);n=n[0]}n=n.length;var i;2==n?i="XY":3==n?i="XYZ":4==n&&(i="XYZM"),e=i}t.la=e,t.a=n}function po(t,e,n,o){for(var i=0,r=t[n-o],a=t[n-o+1];e<n;e+=o)var s=t[e],p=t[e+1],i=i+(a*s-r*p),r=s,a=p;return i/2}function ho(t,e,n,o){var i,r,a=0;for(i=0,r=n.length;i<r;++i){var s=n[i],a=a+po(t,e,s,o);e=s}return a}function uo(t,e,n,o,i,r,a){var s=t[e],p=t[e+1],h=t[n]-s,u=t[n+1]-p;if(h||u)if(r=((i-s)*h+(r-p)*u)/(h*h+u*u),1<r)e=n;else if(0<r){for(i=0;i<o;++i)a[i]=C(t[e+i],t[n+i],r);return void(a.length=o)}for(i=0;i<o;++i)a[i]=t[e+i];a.length=o}function lo(t,e,n,o,i){var r=t[e],a=t[e+1];for(e+=o;e<n;e+=o){var s=t[e],p=t[e+1],r=w(r,a,s,p);r>i&&(i=r),r=s,a=p}return i}function co(t,e,n,o,i){var r,a;for(r=0,a=n.length;r<a;++r){var s=n[r];i=lo(t,e,s,o,i),e=s}return i}function fo(t,e,n,o,i,r,a,s,p,h,u){if(e==n)return h;var l;if(!i){if(l=w(a,s,t[e],t[e+1]),l<h){for(u=0;u<o;++u)p[u]=t[e+u];return p.length=o,l}return h}for(var c=u?u:[NaN,NaN],f=e+o;f<n;)if(uo(t,f-o,f,o,a,s,c),l=w(a,s,c[0],c[1]),l<h){for(h=l,u=0;u<o;++u)p[u]=c[u];p.length=o,f+=o}else f+=o*Math.max((Math.sqrt(l)-Math.sqrt(h))/i|0,1);if(r&&(uo(t,n-o,e,o,a,s,c),l=w(a,s,c[0],c[1]),l<h)){for(h=l,u=0;u<o;++u)p[u]=c[u];p.length=o}return h}function yo(t,e,n,o,i,r,a,s,p,h,u){u=u?u:[NaN,NaN];var l,c;for(l=0,c=n.length;l<c;++l){var f=n[l];h=fo(t,e,f,o,i,r,a,s,p,h,u),e=f}return h}function vo(t,e){var n,o,i=0;for(n=0,o=e.length;n<o;++n)t[i++]=e[n];return i}function go(t,e,n,o){var i,r;for(i=0,r=n.length;i<r;++i){var a,s=n[i];for(a=0;a<o;++a)t[e++]=s[a]}return e}function mo(t,e,n,o,i){i=i?i:[];var r,a,s=0;for(r=0,a=n.length;r<a;++r)e=go(t,e,n[r],o),i[s++]=e;return i.length=s,i}function bo(t,e,n,o,i){i=void 0!==i?i:[];for(var r=0;e<n;e+=o)i[r++]=t.slice(e,e+o);return i.length=r,i}function xo(t,e,n,o,i){i=void 0!==i?i:[];var r,a,s=0;for(r=0,a=n.length;r<a;++r){var p=n[r];i[s++]=bo(t,e,p,o,i[s]),e=p}return i.length=s,i}function _o(t,e,n,o,i,r,a){var s=(n-e)/o;if(3>s){for(;e<n;e+=o)r[a++]=t[e],r[a++]=t[e+1];return a}var p=Array(s);p[0]=1,p[s-1]=1,n=[e,n-o];for(var h,u=0;0<n.length;){var l=n.pop(),c=n.pop(),f=0,d=t[c],y=t[c+1],v=t[l],g=t[l+1];for(h=c+o;h<l;h+=o){var m=_(t[h],t[h+1],d,y,v,g);m>f&&(u=h,f=m)}f>i&&(p[(u-e)/o]=1,c+o<u&&n.push(c,u),u+o<l&&n.push(u,l))}for(h=0;h<s;++h)p[h]&&(r[a++]=t[e+h*o],r[a++]=t[e+h*o+1]);return a}function wo(t,e,n,o,i,r,a,s){var p,h;for(p=0,h=n.length;p<h;++p){var u=n[p];t:{var l,c=t,f=u,d=o,y=i,v=r,g=a;if(e!=f){var m=y*Math.round(c[e]/y),b=y*Math.round(c[e+1]/y);e+=d,v[g++]=m,v[g++]=b;do if(l=y*Math.round(c[e]/y),a=y*Math.round(c[e+1]/y),e+=d,e==f){v[g++]=l,v[g++]=a,a=g;break t}while(l==m&&a==b);for(;e<f;){var x,_;if(x=y*Math.round(c[e]/y),_=y*Math.round(c[e+1]/y),e+=d,x!=l||_!=a){var w=l-m,P=a-b,S=x-m,C=_-b;w*C==P*S&&(0>w&&S<w||w==S||0<w&&S>w)&&(0>P&&C<P||P==C||0<P&&C>P)||(v[g++]=l,v[g++]=a,m=l,b=a),l=x,a=_}}v[g++]=l,v[g++]=a}a=g}s.push(a),e=u}return a}function Po(t,e){io.call(this),this.c=this.j=-1,this.pa(t,e)}function So(t,e,n){ao(t,e,n),t.s()}function Co(t,e){io.call(this),this.pa(t,e)}function Mo(t,e,n,o,i){return!W(i,function(i){return!To(t,e,n,o,i[0],i[1])})}function To(t,e,n,o,i,r){for(var a=0,s=t[n-o],p=t[n-o+1];e<n;e+=o){var h=t[e],u=t[e+1];p<=r?u>r&&0<(h-s)*(r-p)-(i-s)*(u-p)&&a++:u<=r&&0>(h-s)*(r-p)-(i-s)*(u-p)&&a--,s=h,p=u}return!!a}function Ao(t,e,n,o,i,r){if(!n.length||!To(t,e,n[0],o,i,r))return!1;var a;for(e=1,a=n.length;e<a;++e)if(To(t,n[e-1],n[e],o,i,r))return!1;return!0}function Eo(t,n,o,i,r,a,s){var p,h,u,l,c,f=r[a+1],d=[],y=o[0];for(u=t[y-i],c=t[y-i+1],p=n;p<y;p+=i)l=t[p],h=t[p+1],(f<=c&&h<=f||c<=f&&f<=h)&&(u=(f-c)/(h-c)*(l-u)+u,d.push(u)),u=l,c=h;for(y=NaN,c=-(1/0),d.sort(e),u=d[0],p=1,h=d.length;p<h;++p){l=d[p];var v=Math.abs(l-u);v>c&&(u=(u+l)/2,Ao(t,n,o,i,u,f)&&(y=u,c=v)),u=l}return isNaN(y)&&(y=r[a]),s?(s.push(y,f),s):[y,f]}function Lo(t,e,n,o,i,r){for(var a,s=[t[e],t[e+1]],p=[];e+o<n;e+=o){if(p[0]=t[e+o],p[1]=t[e+o+1],a=i.call(r,s,p))return a;s[0]=p[0],s[1]=p[1]}return!1}function Io(t,e,n,o,i){var r=G(F(),t,e,n,o);return!!nt(i,r)&&(!!(k(i,r)||r[0]>=i[0]&&r[2]<=i[2]||r[1]>=i[1]&&r[3]<=i[3])||Lo(t,e,n,o,function(t,e){var n=!1,o=D(i,t),r=D(i,e);if(1===o||1===r)n=!0;else{var a=i[0],s=i[1],p=i[2],h=i[3],u=e[0],l=e[1],c=(l-t[1])/(u-t[0]);2&r&&!(2&o)&&(n=u-(l-h)/c,n=n>=a&&n<=p),n||!(4&r)||4&o||(n=l-(u-p)*c,n=n>=s&&n<=h),n||!(8&r)||8&o||(n=u-(l-s)/c,n=n>=a&&n<=p),n||!(16&r)||16&o||(n=l-(u-a)*c,n=n>=s&&n<=h)}return n}))}function No(t,e,n,o,i){var r=n[0];if(!(Io(t,e,r,o,i)||To(t,e,r,o,i[0],i[1])||To(t,e,r,o,i[0],i[3])||To(t,e,r,o,i[2],i[1])||To(t,e,r,o,i[2],i[3])))return!1;if(1===n.length)return!0;for(e=1,r=n.length;e<r;++e)if(Mo(t,n[e-1],n[e],o,i))return!1;return!0}function Oo(t,e,n,o){for(var i=0,r=t[n-o],a=t[n-o+1];e<n;e+=o)var s=t[e],p=t[e+1],i=i+(s-r)*(p+a),r=s,a=p;return 0<i}function ko(t,e,n,o){var i=0;o=void 0!==o&&o;var r,a;for(r=0,a=e.length;r<a;++r){var s=e[r],i=Oo(t,i,s,n);if(r){if(o&&!i||!o&&i)return!1}else if(o&&i||!o&&!i)return!1;i=s}return!0}function Ro(t,e,n,o,i){i=void 0!==i&&i;var r,a;for(r=0,a=n.length;r<a;++r){var s=n[r],p=Oo(t,e,s,o);if(r?i&&!p||!i&&p:i&&p||!i&&!p)for(var p=t,h=s,u=o;e<h-u;){var l;for(l=0;l<u;++l){var c=p[e+l];p[e+l]=p[h-u+l],p[h-u+l]=c}e+=u,h-=u}e=s}return e}function Do(t,e,n,o){var i,r,a=0;for(i=0,r=e.length;i<r;++i)a=Ro(t,a,e[i],n,o);return a}function Fo(t,e){io.call(this),this.c=[],this.v=-1,this.A=null,this.I=this.C=this.G=-1,this.j=null,this.pa(t,e)}function jo(t){if(t.v!=t.g){var e=V(t.D());t.A=Eo(t.gc(),0,t.c,t.a,e,0),t.v=t.g}return t.A}function Ko(t,e,n,o){var r=o?o:32;o=[];var a;for(a=0;a<r;++a)i(o,t.offset(e,n,2*Math.PI*a/r));return o.push(o[0],o[1]),t=new Fo(null),t.ca("XY",o,[o.length]),t}function Bo(t){var e=t[0],n=t[1],o=t[2];return t=t[3],e=[e,n,e,t,o,t,o,n,e,n],n=new Fo(null),n.ca("XY",e,[e.length]),n}function Xo(t,e,n){var o=e?e:32,i=t.sa();e=t.la;for(var r=new Fo(null,e),o=i*(o+1),i=Array(o),a=0;a<o;a++)i[a]=0;return r.ca(e,i,[i.length]),Uo(r,t.za(),t.Yd(),n),r}function Uo(t,e,n,o){var i=t.ia(),r=t.la,a=t.sa(),s=t.Sb(),p=i.length/a-1;o=o?o:0;for(var h,u,l=0;l<=p;++l)u=l*a,h=o+2*S(l,p)*Math.PI/p,i[u]=e[0]+n*Math.cos(h),i[u+1]=e[1]+n*Math.sin(h);t.ca(r,i,s)}function Yo(t){de.call(this),t=sv({},t),this.j=[0,0],this.c=[],this.vf=this.vf.bind(this),this.o=wt(t.projection),Go(this,t)}function Go(t,e){var n={};n.center=void 0!==e.center?e.center:null;var o,i,r,a=void 0!==e.minZoom?e.minZoom:0;o=void 0!==e.maxZoom?e.maxZoom:28;var s=void 0!==e.zoomFactor?e.zoomFactor:2;if(void 0!==e.resolutions)o=e.resolutions,i=o[0],r=o[o.length-1],o=kn(o);else{i=wt(e.projection),r=i.D();var p=(r?Math.max(et(r),Z(r)):360*hv.degrees/i.uc())/256/Math.pow(2,0),h=p/Math.pow(2,28);i=e.maxResolution,void 0!==i?a=0:i=p/Math.pow(s,a),r=e.minResolution,void 0===r&&(r=void 0!==e.maxZoom?void 0!==e.maxResolution?i/Math.pow(s,o):p/Math.pow(s,o):h),o=a+Math.floor(Math.log(i/r)/Math.log(s)),r=i/Math.pow(s,o-a),o=Rn(s,i,o-a)}t.a=i,t.i=r,t.C=s,t.f=e.resolutions,t.l=a,(void 0!==e.enableRotation?e.enableRotation:1)?(a=e.constrainRotation,a=void 0===a||!0===a?Kn():!1===a?Fn:"number"==typeof a?jn(a):Fn):a=Dn,t.v=new Me(void 0!==e.extent?Vt(e.extent):$t,o,a),void 0!==e.resolution?n.resolution=e.resolution:void 0!==e.zoom&&(n.resolution=t.constrainResolution(t.a,e.zoom-t.l)),n.rotation=void 0!==e.rotation?e.rotation:0,t.H(n),t.A=e}function Wo(t,e){var n=sv({},t.A);return void 0!==n.resolution?n.resolution=t.Ra():n.zoom=t.Ah(),n.center=t.za(),n.rotation=t.Sa(),sv({},n,e)}function zo(t,e,n){var o,i=t.za();return void 0!==i&&(o=[i[0]-n[0],i[1]-n[1]],Hn(o,e-t.Sa()),Un(o,n)),o}function Ho(t,e,n){var o,i=t.za();return t=t.Ra(),void 0!==i&&void 0!==t&&(o=[n[0]-e*(n[0]-i[0])/t,n[1]-e*(n[1]-i[1])/t]),o}function qo(t){var e=[100,100];return t='.ol-viewport[data-view="'+c(t)+'"]',(t=document.querySelector(t))&&(t=getComputedStyle(t),e[0]=parseInt(t.width,10),e[1]=parseInt(t.height,10)),e}function Vo(t,e){return void 0!==e?(e[0]=t.j[0],e[1]=t.j[1],e):t.j.slice()}function $o(t,e){return Math.max(et(t)/e[0],Z(t)/e[1])}function Zo(t){var e=t.a,n=Math.log(e/t.i)/Math.log(2);return function(t){return e/Math.pow(2,t*n)}}function Jo(t){var e=t.a,n=Math.log(e/t.i)/Math.log(2);return function(t){return Math.log(e/t)/Math.log(2)/n}}function Qo(t){return!!t.za()&&void 0!==t.Ra()}function ti(t,e,n){t.j[e]+=n,t.s()}function ei(t,e,n){this.i=t,this.c=e,this.f=n,this.b=[],this.a=this.g=0}function ni(t){t.b.length=0,t.g=0,t.a=0}function oi(t){de.call(this),this.v=null,this.Ia(!0),this.handleEvent=t.handleEvent}function ii(t,e,n,o){if(void 0!==e){var i=t.Sa(),r=t.za();void 0!==i&&r&&0<o?t.animate({rotation:e,anchor:n,duration:o,easing:Re}):t.rotate(e,n)}}function ri(t,e,n,o){var i=t.Ra();if(e=t.constrainResolution(i,e,0),n&&void 0!==e&&e!==i){var r=t.za();n=Ho(t,e,n),n=t.Gc(n),n=[(e*r[0]-i*n[0])/(e-i),(e*r[1]-i*n[1])/(e-i)]}ai(t,e,n,o)}function ai(t,e,n,o){if(e){var i=t.Ra(),r=t.za();void 0!==i&&r&&e!==i&&o?t.animate({resolution:e,anchor:n,duration:o,easing:Re}):(n&&(n=Ho(t,e,n),t.lb(n)),t.$c(e))}}function si(t){t=t?t:{},this.a=t.delta?t.delta:1,oi.call(this,{handleEvent:pi}),this.f=void 0!==t.duration?t.duration:250}function pi(t){var e=!1,n=t.originalEvent;if("dblclick"==t.type){var e=t.coordinate,n=n.shiftKey?-this.a:this.a,o=t.map.$();ri(o,n,e,this.f),t.preventDefault(),e=!0}return!e}function hi(t){return t=t.originalEvent,t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function ui(t){return t=t.originalEvent,!(t.button||Fv&&jv&&t.ctrlKey)}function li(t){return"pointermove"==t.type}function ci(t){return"singleclick"==t.type}function fi(t){return t=t.originalEvent,!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}function di(t){return t=t.originalEvent,!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function yi(t){return t=t.originalEvent.target.tagName,"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t}function vi(t){return d(t.b,56),"mouse"==t.b.pointerType}function gi(t){return t=t.b,t.isPrimary&&0===t.button}function mi(t){t=t?t:{},oi.call(this,{handleEvent:t.handleEvent?t.handleEvent:xi}),this.wf=t.handleDownEvent?t.handleDownEvent:to,this.Ef=t.handleDragEvent?t.handleDragEvent:l,this.Ff=t.handleMoveEvent?t.handleMoveEvent:l,this.nk=t.handleUpEvent?t.handleUpEvent:to,this.A=!1,this.ea={},this.l=[]}function bi(t){for(var e=t.length,n=0,o=0,i=0;i<e;i++)n+=t[i].clientX,o+=t[i].clientY;return[n/e,o/e]}function xi(t){if(!(t instanceof Ze))return!0;var e=!1,n=t.type;return"pointerdown"!==n&&"pointerdrag"!==n&&"pointerup"!==n||(n=t.b,"pointerup"==t.type?delete this.ea[n.pointerId]:"pointerdown"==t.type?this.ea[n.pointerId]=n:n.pointerId in this.ea&&(this.ea[n.pointerId]=n),this.l=st(this.ea)),this.A?"pointerdrag"==t.type?this.Ef(t):"pointerup"==t.type&&(this.A=this.nk(t)&&0<this.l.length):"pointerdown"==t.type?(this.A=t=this.wf(t),e=this.bd(t)):"pointermove"==t.type&&this.Ff(t),!e}function _i(t){mi.call(this,{handleDownEvent:Si,handleDragEvent:wi,handleUpEvent:Pi}),t=t?t:{},this.a=t.kinetic,this.f=null,this.u=t.condition?t.condition:fi,this.j=!1}function wi(t){var e=this.l,n=bi(e);if(e.length==this.o){if(this.a&&this.a.b.push(n[0],n[1],Date.now()),this.f){var o=this.f[0]-n[0],i=n[1]-this.f[1];t=t.map.$();var r=t.V(),o=[o,i];qn(o,r.resolution),Hn(o,r.rotation),Un(o,r.center),o=t.Gc(o),t.lb(o)}}else this.a&&ni(this.a);this.f=n,this.o=e.length}function Pi(t){var e=t.map;if(t=e.$(),this.l.length)return this.a&&ni(this.a),this.f=null,!0;var n;if(n=!this.j&&this.a)if(n=this.a,6>n.b.length)n=!1;else{var o=Date.now()-n.f,i=n.b.length-3;if(n.b[i+2]<o)n=!1;else{for(var r=i-3;0<r&&n.b[r+2]>o;)r-=3;var o=n.b[i+2]-n.b[r+2],a=n.b[i]-n.b[r],i=n.b[i+1]-n.b[r+1];n.g=Math.atan2(i,a),n.a=Math.sqrt(a*a+i*i)/o,n=n.a>n.c}}return n&&(n=this.a,n=(n.c-n.a)/n.i,i=this.a.g,r=t.za(),r=e.Ka(r),e=e.Xa([r[0]-n*Math.cos(i),r[1]-n*Math.sin(i)]),t.animate({center:t.Gc(e),duration:500,easing:Re})),ti(t,1,-1),!1}function Si(t){if(0<this.l.length&&this.u(t)){var e=t.map.$();return this.f=null,this.A||ti(e,1,1),Vo(e)[0]&&e.lb(t.frameState.viewState.center),this.a&&ni(this.a),this.j=1<this.l.length,!0}return!1}function Ci(t){t=t?t:{},mi.call(this,{handleDownEvent:Ai,handleDragEvent:Mi,handleUpEvent:Ti}),this.f=t.condition?t.condition:hi,this.a=void 0,this.j=void 0!==t.duration?t.duration:250}function Mi(t){if(vi(t)){var e=t.map,n=e.Nb();if(t=t.pixel,n=Math.atan2(n[1]/2-t[1],t[0]-n[0]/2),void 0!==this.a){t=n-this.a;var e=e.$(),o=e.Sa();ii(e,o-t)}this.a=n}}function Ti(t){if(!vi(t))return!0;t=t.map.$(),ti(t,1,-1);var e=t.Sa(),n=this.j,e=t.constrainRotation(e,0);return ii(t,e,void 0,n),!1}function Ai(t){return!!(vi(t)&&ui(t)&&this.f(t))&&(ti(t.map.$(),1,1),this.a=void 0,!0)}function Ei(t){this.Ic=null,this.a=document.createElement("div"),this.a.style.position="absolute",this.a.className="ol-box "+t,this.g=this.c=this.b=null}function Li(t){var e=t.c,n=t.g;t=t.a.style,t.left=Math.min(e[0],n[0])+"px",t.top=Math.min(e[1],n[1])+"px",t.width=Math.abs(n[0]-e[0])+"px",t.height=Math.abs(n[1]-e[1])+"px"}function Ii(t){var e=t.c,n=t.g,e=[e,[e[0],n[1]],n,[n[0],e[1]]].map(t.b.Xa,t.b);e[4]=e[0].slice(),t.Ic?t.Ic.pa([e]):t.Ic=new Fo([e])}function Ni(t){mi.call(this,{handleDownEvent:Di,handleDragEvent:ki,handleUpEvent:Ri}),t=t?t:{},this.a=new Ei(t.className||"ol-dragbox"),this.u=void 0!==t.minArea?t.minArea:64,this.f=null,this.C=t.condition?t.condition:Qn,this.o=t.boxEndCondition?t.boxEndCondition:Oi}function Oi(t,e,n){return t=n[0]-e[0],e=n[1]-e[1],t*t+e*e>=this.u}function ki(t){if(vi(t)){var e=this.a,n=t.pixel;e.c=this.f,e.g=n,Ii(e),Li(e),this.b(new Fi(Qv,t.coordinate,t))}}function Ri(t){return!vi(t)||(this.a.setMap(null),this.o(t,this.f,t.pixel)&&(this.j(t),this.b(new Fi(tg,t.coordinate,t))),!1)}function Di(t){if(vi(t)&&ui(t)&&this.C(t)){this.f=t.pixel,this.a.setMap(t.map);var e=this.a,n=this.f;return e.c=this.f,e.g=n,Ii(e),Li(e),this.b(new Fi(Jv,t.coordinate,t)),!0}return!1}function Fi(t,e,n){he.call(this,t),this.coordinate=e,this.mapBrowserEvent=n}function ji(t){t=t?t:{};var e=t.condition?t.condition:di;
this.G=void 0!==t.duration?t.duration:200,this.I=void 0!==t.out&&t.out,Ni.call(this,{condition:e,className:t.className||"ol-dragzoom"})}function Ki(t){oi.call(this,{handleEvent:Bi}),t=t||{},this.a=function(t){return fi(t)&&yi(t)},this.f=t.condition?t.condition:this.a,this.j=void 0!==t.duration?t.duration:100,this.l=void 0!==t.pixelDelta?t.pixelDelta:128}function Bi(t){var e=!1;if("keydown"==t.type){var n=t.originalEvent.keyCode;if(this.f(t)&&(40==n||37==n||39==n||38==n)){var e=t.map.$(),o=e.Ra()*this.l,i=0,r=0;40==n?r=-o:37==n?i=-o:39==n?i=o:r=o,o=[i,r],Hn(o,e.Sa()),n=this.j,(i=e.za())&&(o=e.Gc([i[0]+o[0],i[1]+o[1]]),n?e.animate({duration:n,easing:Fe,center:o}):e.lb(o)),t.preventDefault(),e=!0}}return!e}function Xi(t){oi.call(this,{handleEvent:Ui}),t=t?t:{},this.f=t.condition?t.condition:yi,this.a=t.delta?t.delta:1,this.j=void 0!==t.duration?t.duration:100}function Ui(t){var e=!1;if("keydown"==t.type||"keypress"==t.type){var n=t.originalEvent.charCode;!this.f(t)||43!=n&&45!=n||(e=43==n?this.a:-this.a,n=t.map.$(),ri(n,e,void 0,this.j),t.preventDefault(),e=!0)}return!e}function Yi(t){oi.call(this,{handleEvent:Gi}),t=t||{},this.j=0,this.A=void 0!==t.duration?t.duration:250,this.ea=void 0!==t.timeout?t.timeout:80,this.C=void 0===t.useAnchor||t.useAnchor,this.Z=t.constrainResolution||!1,this.a=null,this.o=this.l=this.u=this.f=void 0}function Gi(t){var e=t.type;if("wheel"!==e&&"mousewheel"!==e)return!0;t.preventDefault();var e=t.map,n=t.originalEvent;this.C&&(this.a=t.coordinate);var o;if("wheel"==t.type?(o=n.deltaY,Rv&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(o/=Kv),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)):"mousewheel"==t.type&&(o=-n.wheelDeltaY,Dv&&(o/=3)),0===o)return!1;if(t=Date.now(),void 0===this.f&&(this.f=t),(!this.l||400<t-this.f)&&(this.l=4>Math.abs(o)?eg:ng),this.l===eg){e=e.$(),this.o?clearTimeout(this.o):ti(e,1,1),this.o=setTimeout(this.G.bind(this),400);var n=e.Ra()*Math.pow(2,o/300),i=e.i,r=e.a,a=0;if(n<i?(n=Math.max(n,i/1.5),a=1):n>r&&(n=Math.min(n,1.5*r),a=-1),this.a){var s=Ho(e,n,this.a);e.lb(e.Gc(s))}return e.$c(n),!a&&this.Z&&e.animate({resolution:e.constrainResolution(n,0<o?-1:1),easing:Re,anchor:this.a,duration:this.A}),0<a?e.animate({resolution:i,easing:Re,anchor:this.a,duration:500}):0>a&&e.animate({resolution:r,easing:Re,anchor:this.a,duration:500}),this.f=t,!1}return this.j+=o,o=Math.max(this.ea-(t-this.f),0),clearTimeout(this.u),this.u=setTimeout(this.I.bind(this,e),o),!1}function Wi(t){mi.call(this,{handleDownEvent:qi,handleDragEvent:zi,handleUpEvent:Hi}),t=t||{},this.f=null,this.j=void 0,this.a=!1,this.o=0,this.C=void 0!==t.threshold?t.threshold:.3,this.u=void 0!==t.duration?t.duration:250}function zi(t){var e=0,n=this.l[0],o=this.l[1],n=Math.atan2(o.clientY-n.clientY,o.clientX-n.clientX);void 0!==this.j&&(e=n-this.j,this.o+=e,!this.a&&Math.abs(this.o)>this.C&&(this.a=!0)),this.j=n,t=t.map,n=t.c.getBoundingClientRect(),o=bi(this.l),o[0]-=n.left,o[1]-=n.top,this.f=t.Xa(o),this.a&&(n=t.$(),o=n.Sa(),t.render(),ii(n,o+e,this.f))}function Hi(t){if(2>this.l.length){if(t=t.map.$(),ti(t,1,-1),this.a){var e=t.Sa(),n=this.f,o=this.u,e=t.constrainRotation(e,0);ii(t,e,n,o)}return!1}return!0}function qi(t){return 2<=this.l.length&&(t=t.map,this.f=null,this.j=void 0,this.a=!1,this.o=0,this.A||ti(t.$(),1,1),!0)}function Vi(t){mi.call(this,{handleDownEvent:Ji,handleDragEvent:$i,handleUpEvent:Zi}),t=t?t:{},this.o=t.constrainResolution||!1,this.f=null,this.u=void 0!==t.duration?t.duration:400,this.a=void 0,this.j=1}function $i(t){var e=1,n=this.l[0],o=this.l[1],i=n.clientX-o.clientX,n=n.clientY-o.clientY,i=Math.sqrt(i*i+n*n);void 0!==this.a&&(e=this.a/i),this.a=i,t=t.map;var i=t.$(),o=i.Ra(),r=i.a,a=i.i,n=o*e;n>r?(e=r/o,n=r):n<a&&(e=a/o,n=a),1!=e&&(this.j=e),e=t.c.getBoundingClientRect(),o=bi(this.l),o[0]-=e.left,o[1]-=e.top,this.f=t.Xa(o),t.render(),ai(i,n,this.f)}function Zi(t){if(2>this.l.length){t=t.map.$(),ti(t,1,-1);var e=t.Ra();if(this.o||e<t.i||e>t.a){var n=this.f,o=this.u,e=t.constrainResolution(e,0,this.j-1);ai(t,e,n,o)}return!1}return!0}function Ji(t){return 2<=this.l.length&&(t=t.map,this.f=null,this.a=void 0,this.j=1,this.A||ti(t.$(),1,1),!0)}function Qi(t){t=t?t:{};var e=new me,n=new ei(-.005,.05,100);return(void 0!==t.altShiftDragRotate?t.altShiftDragRotate:1)&&e.push(new Ci),(void 0!==t.doubleClickZoom?t.doubleClickZoom:1)&&e.push(new si({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0!==t.dragPan?t.dragPan:1)&&e.push(new _i({kinetic:n})),(void 0!==t.pinchRotate?t.pinchRotate:1)&&e.push(new Wi),(void 0!==t.pinchZoom?t.pinchZoom:1)&&e.push(new Vi({constrainResolution:t.constrainResolution,duration:t.zoomDuration})),(void 0!==t.keyboard?t.keyboard:1)&&(e.push(new Ki),e.push(new Xi({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0!==t.mouseWheelZoom?t.mouseWheelZoom:1)&&e.push(new Yi({constrainResolution:t.constrainResolution,duration:t.zoomDuration})),(void 0!==t.shiftDragZoom?t.shiftDragZoom:1)&&e.push(new ji({duration:t.zoomDuration})),e}function tr(t){de.call(this);var e=sv({},t);e.opacity=void 0!==t.opacity?t.opacity:1,e.visible=void 0===t.visible||t.visible,e.zIndex=void 0!==t.zIndex?t.zIndex:0,e.maxResolution=void 0!==t.maxResolution?t.maxResolution:1/0,e.minResolution=void 0!==t.minResolution?t.minResolution:0,this.H(e),this.a={layer:this,Ie:!0}}function er(t){return t.a.opacity=b(t.jc(),0,1),t.a.uj=t.Vf(),t.a.visible=t.Lb(),t.a.extent=t.D(),t.a.zIndex=t.Aa(),t.a.maxResolution=t.hc(),t.a.minResolution=Math.max(t.ic(),0),t.a}function nr(t){var e=t||{};t=sv({},e),delete t.layers,e=e.layers,tr.call(this,t),this.i=[],this.c={},ne(this,ye(og),this.Cl,this),e?Array.isArray(e)?e=new me(e.slice(),{unique:!0}):d(e instanceof me,43):e=new me(void 0,{unique:!0}),this.pi(e)}function or(t){var e=sv({},t);delete e.source,tr.call(this,e),this.v=this.o=this.l=null,t.map&&this.setMap(t.map),ne(this,ye("source"),this.Pl,this),this.ad(t.source?t.source:null)}function ir(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}function rr(){this.b={},this.a=0}function ar(){return[1,0,0,1,0,0]}function sr(t){return hr(t,1,0,0,1,0,0)}function pr(t,e){var n=t[0],o=t[1],i=t[2],r=t[3],a=t[4],s=t[5],p=e[0],h=e[1],u=e[2],l=e[3],c=e[4],f=e[5];return t[0]=n*p+i*h,t[1]=o*p+r*h,t[2]=n*u+i*l,t[3]=o*u+r*l,t[4]=n*c+i*f+a,t[5]=o*c+r*f+s,t}function hr(t,e,n,o,i,r,a){return t[0]=e,t[1]=n,t[2]=o,t[3]=i,t[4]=r,t[5]=a,t}function ur(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function lr(t,e){var n=e[0],o=e[1];return e[0]=t[0]*n+t[2]*o+t[4],e[1]=t[1]*n+t[3]*o+t[5],e}function cr(t,e){var n=Math.cos(e),o=Math.sin(e);pr(t,hr(rg,n,o,-o,n,0,0))}function fr(t,e,n){return pr(t,hr(rg,e,0,0,n,0,0))}function dr(t,e,n){pr(t,hr(rg,1,0,0,1,e,n))}function yr(t,e,n,o,i,r,a,s){var p=Math.sin(r);return r=Math.cos(r),t[0]=o*r,t[1]=i*p,t[2]=-o*p,t[3]=i*r,t[4]=a*o*r-s*o*p+e,t[5]=a*i*p+s*i*r+n,t}function vr(t){var e=t[0]*t[3]-t[1]*t[2];d(!!e,32);var n=t[0],o=t[1],i=t[2],r=t[3],a=t[4],s=t[5];return t[0]=r/e,t[1]=-o/e,t[2]=-i/e,t[3]=n/e,t[4]=(i*s-r*a)/e,t[5]=-(n*s-o*a)/e,t}function gr(t,e){this.l=e,this.c={},this.u={}}function mr(t){var e=t.viewState,n=t.coordinateToPixelTransform,o=t.pixelToCoordinateTransform;yr(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),vr(ur(o,n))}function br(){if(32<ig.a){var t,e,n=0;for(t in ig.b)e=ig.b[t],3&n++||ce(e)||(delete ig.b[t],--ig.a)}}function xr(t,e){var n=c(e).toString();if(n in t.c)return t.c[n];var o=e.Gd(t);return t.c[n]=o,t.u[n]=ne(o,"change",t.Al,t),o}function _r(t,e){for(var n in t.c)if(!(n in e.layerStates)){e.postRenderFunctions.push(t.Hp.bind(t));break}}function wr(t,e){return t.zIndex-e.zIndex}function Pr(t,e,n,o,i){he.call(this,t),this.vectorContext=e,this.frameState=n,this.context=o,this.glContext=i}function Sr(t,e,n,o){e&&(t.translate(n,o),t.rotate(e),t.translate(-n,-o))}function Cr(){}function Mr(t,e,n,o,i){this.g=t,this.v=e,this.c=n,this.O=o,this.Gb=i,this.N=this.b=this.a=this.$a=this.Z=this.I=null,this.ea=this.T=this.o=this.G=this.C=this.A=0,this.fa=!1,this.i=this.mb=0,this.na=!1,this.qa=0,this.Fa="",this.Ja=this.$b=0,this.Ha=!1,this.j=this.Va=0,this.ta=this.l=this.f=null,this.u=[],this.yb=ar()}function Tr(t,e,n){if(t.N){e=no(e,0,n,2,t.O,t.u),n=t.g;var o=t.yb,i=n.globalAlpha;1!=t.o&&(n.globalAlpha=i*t.o);var r=t.mb;t.fa&&(r+=t.Gb);var a,s;for(a=0,s=e.length;a<s;a+=2){var p=e[a]-t.A,h=e[a+1]-t.C;if(t.na&&(p=Math.round(p),h=Math.round(h)),r||1!=t.i){var u=p+t.A,l=h+t.C;yr(o,u,l,t.i,t.i,r,-u,-l),n.setTransform.apply(n,o)}n.drawImage(t.N,t.T,t.ea,t.qa,t.G,p,h,t.qa,t.G)}(r||1!=t.i)&&n.setTransform(1,0,0,1,0,0),1!=t.o&&(n.globalAlpha=i)}}function Ar(t,e,n,o){var i=0;if(t.ta&&""!==t.Fa){t.f&&Ir(t,t.f),t.l&&Nr(t,t.l);var r=t.ta,a=t.g,s=t.$a;for(s?(s.font!=r.font&&(s.font=a.font=r.font),s.textAlign!=r.textAlign&&(s.textAlign=a.textAlign=r.textAlign),s.textBaseline!=r.textBaseline&&(s.textBaseline=a.textBaseline=r.textBaseline)):(a.font=r.font,a.textAlign=r.textAlign,a.textBaseline=r.textBaseline,t.$a={font:r.font,textAlign:r.textAlign,textBaseline:r.textBaseline}),e=no(e,i,n,o,t.O,t.u),r=t.g,a=t.Va,t.Ha&&(a+=t.Gb);i<n;i+=o){var s=e[i]+t.$b,p=e[i+1]+t.Ja;if(a||1!=t.j){var h=yr(t.yb,s,p,t.j,t.j,a,-s,-p);r.setTransform.apply(r,h)}t.l&&r.strokeText(t.Fa,s,p),t.f&&r.fillText(t.Fa,s,p)}(a||1!=t.j)&&r.setTransform(1,0,0,1,0,0)}}function Er(t,e,n,o,i,r){var a=t.g;for(t=no(e,n,o,i,t.O,t.u),a.moveTo(t[0],t[1]),e=t.length,r&&(e-=2),n=2;n<e;n+=2)a.lineTo(t[n],t[n+1]);return r&&a.closePath(),o}function Lr(t,e,n,o,i){var r,a;for(r=0,a=o.length;r<a;++r)n=Er(t,e,n,o[r],i,!0);return n}function Ir(t,e){var n=t.g,o=t.I;o?o.fillStyle!=e.fillStyle&&(o.fillStyle=n.fillStyle=e.fillStyle):(n.fillStyle=e.fillStyle,t.I={fillStyle:e.fillStyle})}function Nr(t,e){var n=t.g,o=t.Z;o?(o.lineCap!=e.lineCap&&(o.lineCap=n.lineCap=e.lineCap),Bv&&!a(o.lineDash,e.lineDash)&&n.setLineDash(o.lineDash=e.lineDash),o.lineJoin!=e.lineJoin&&(o.lineJoin=n.lineJoin=e.lineJoin),o.lineWidth!=e.lineWidth&&(o.lineWidth=n.lineWidth=e.lineWidth),o.miterLimit!=e.miterLimit&&(o.miterLimit=n.miterLimit=e.miterLimit),o.strokeStyle!=e.strokeStyle&&(o.strokeStyle=n.strokeStyle=e.strokeStyle)):(n.lineCap=e.lineCap,Bv&&n.setLineDash(e.lineDash),n.lineJoin=e.lineJoin,n.lineWidth=e.lineWidth,n.miterLimit=e.miterLimit,n.strokeStyle=e.strokeStyle,t.Z={lineCap:e.lineCap,lineDash:e.lineDash,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}function Or(t,e){gr.call(this,0,e),this.g=Te(),this.b=this.g.canvas,this.b.style.width="100%",this.b.style.height="100%",this.b.style.display="block",this.b.className="ol-unselectable",t.insertBefore(this.b,t.childNodes[0]||null),this.a=!0,this.i=ar()}function kr(t,e,n){var o=t.l,i=t.g;if(ce(o,e)){var r=n.extent,a=n.pixelRatio,s=n.viewState.rotation,p=n.viewState,h=n.pixelRatio/p.resolution;t=yr(t.i,t.b.width/2,t.b.height/2,h,-h,-p.rotation,-p.center[0],-p.center[1]),o.b(new Pr(e,new Mr(i,a,r,t,s),n,i,null))}}function Rr(){}function Dr(t){this.b=t}function Fr(t){this.b=t}function jr(t){this.b=t}function Kr(){this.b="precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}"}function Br(){this.b="varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;if(f==0.0){offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}"}function Xr(t,e){this.G=t.getUniformLocation(e,"n"),this.qa=t.getUniformLocation(e,"k"),this.c=t.getUniformLocation(e,"j"),this.i=t.getUniformLocation(e,"i"),this.a=t.getUniformLocation(e,"m"),this.ta=t.getUniformLocation(e,"l"),this.g=t.getUniformLocation(e,"h"),this.I=t.getUniformLocation(e,"p"),this.Z=t.getUniformLocation(e,"o"),this.j=t.getAttribLocation(e,"f"),this.b=t.getAttribLocation(e,"e"),this.O=t.getAttribLocation(e,"g")}function Ur(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Yr(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}function Gr(t,e){this.origin=V(e),this.Gb=ar(),this.Va=ar(),this.yb=ar(),this.Ja=Ur(),this.b=[],this.o=null,this.g=[],this.f=[],this.a=[],this.u=null,this.j=void 0}function Wr(t,e,n,o){t.drawElements(4,o-n,e.f?5125:5123,n*(e.f?4:2))}function zr(t,e,n,o,i,r){return t=(n-t)*(r-e)-(i-t)*(o-e),t<=yg&&t>=-yg?void 0:0<t}function Hr(t){this.b=void 0!==t?t:[],this.a=vg}function qr(t,e){Gr.call(this,0,e),this.v=null,this.l=[],this.O=[],this.A=0,this.c={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,s:!1}}function Vr(t,e,n,o){e.uniform4fv(t.v.Z,n),e.uniform1f(t.v.qa,o)}function $r(){this.b="precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}function Zr(){this.b="varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}"}function Jr(t,e){this.c=t.getUniformLocation(e,"j"),this.i=t.getUniformLocation(e,"i"),this.a=t.getUniformLocation(e,"k"),this.g=t.getUniformLocation(e,"h"),this.u=t.getAttribLocation(e,"e"),this.v=t.getAttribLocation(e,"f"),this.b=t.getAttribLocation(e,"c"),this.A=t.getAttribLocation(e,"g"),this.C=t.getAttribLocation(e,"d")}function Qr(t,e){this.j=t,this.b=e,this.a={},this.c={},this.g={},this.o=this.u=this.i=this.l=null,(this.f=n(nv,"OES_element_index_uint"))&&e.getExtension("OES_element_index_uint"),ne(this.j,"webglcontextlost",this.No,this),ne(this.j,"webglcontextrestored",this.Oo,this)}function ta(t,e,n){var o=t.b,i=n.b,r=String(c(n));if(r in t.a)o.bindBuffer(e,t.a[r].buffer);else{var a=o.createBuffer();o.bindBuffer(e,a);var s;34962==e?s=new Float32Array(i):34963==e&&(s=t.f?new Uint32Array(i):new Uint16Array(i)),o.bufferData(e,s,n.a),t.a[r]={nc:n,buffer:a}}}function ea(t,e){var n=t.b,o=String(c(e)),i=t.a[o];n.isContextLost()||n.deleteBuffer(i.buffer),delete t.a[o]}function na(t){if(!t.i){var e=t.b,n=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,n);var o=aa(e,1,1),i=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,i),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,1,1),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,o,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,i),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),t.i=n,t.u=o,t.o=i}return t.i}function oa(t,e){var n=String(c(e));if(n in t.c)return t.c[n];var o=t.b,i=o.createShader(e.S());return o.shaderSource(i,e.b),o.compileShader(i),t.c[n]=i}function ia(t,e,n){var o=c(e)+"/"+c(n);if(o in t.g)return t.g[o];var i=t.b,r=i.createProgram();return i.attachShader(r,oa(t,e)),i.attachShader(r,oa(t,n)),i.linkProgram(r),t.g[o]=r}function ra(t,e,n){var o=t.createTexture();return t.bindTexture(t.TEXTURE_2D,o),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),void 0!==e&&t.texParameteri(3553,10242,e),void 0!==n&&t.texParameteri(3553,10243,n),o}function aa(t,e,n){var o=ra(t,void 0,void 0);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,n,0,t.RGBA,t.UNSIGNED_BYTE,null),o}function sa(t,e){var n=ra(t,33071,33071);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e),n}function pa(t,e){Gr.call(this,0,e),this.G=this.C=void 0,this.A=[],this.v=[],this.ta=void 0,this.l=[],this.c=[],this.Z=this.I=void 0,this.qa=null,this.na=this.mb=this.fa=this.ea=this.T=this.$a=void 0,this.Ha=[],this.O=[],this.$b=void 0}function ha(t,e,n,o){var i,r,a,s,p,h,u=t.C,l=t.G,c=t.ta,f=t.I,d=t.Z,y=t.$a,v=t.T,g=t.ea,m=t.fa?1:0,b=-t.mb,x=t.na,_=t.$b,w=Math.cos(b),b=Math.sin(b),P=t.b.length,S=t.a.length;for(i=0;i<n;i+=o)p=e[i]-t.origin[0],h=e[i+1]-t.origin[1],r=S/8,a=-x*u,s=-x*(c-l),t.a[S++]=p,t.a[S++]=h,t.a[S++]=a*w-s*b,t.a[S++]=a*b+s*w,t.a[S++]=v/d,t.a[S++]=(g+c)/f,t.a[S++]=y,t.a[S++]=m,a=x*(_-u),s=-x*(c-l),t.a[S++]=p,t.a[S++]=h,t.a[S++]=a*w-s*b,t.a[S++]=a*b+s*w,t.a[S++]=(v+_)/d,t.a[S++]=(g+c)/f,t.a[S++]=y,t.a[S++]=m,a=x*(_-u),s=x*l,t.a[S++]=p,t.a[S++]=h,t.a[S++]=a*w-s*b,t.a[S++]=a*b+s*w,t.a[S++]=(v+_)/d,t.a[S++]=g/f,t.a[S++]=y,t.a[S++]=m,a=-x*u,s=x*l,t.a[S++]=p,t.a[S++]=h,t.a[S++]=a*w-s*b,t.a[S++]=a*b+s*w,t.a[S++]=v/d,t.a[S++]=g/f,t.a[S++]=y,t.a[S++]=m,t.b[P++]=r,t.b[P++]=r+1,t.b[P++]=r+2,t.b[P++]=r,t.b[P++]=r+2,t.b[P++]=r+3}function ua(t,e,n,o){var i,r,a,s=e.length;for(a=0;a<s;++a)i=e[a],r=c(i).toString(),r in n?i=n[r]:(i=sa(o,i),n[r]=i),t[a]=i}function la(t,e,n){var o=e-n;return t[0]===t[o]&&t[1]===t[o+1]&&3<(e-0)/n&&!!po(t,0,e,n)}function ca(){this.b="precision mediump float;varying float a;varying vec2 b;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((b.x+1.0)/2.0*o.x*p,(b.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}function fa(){this.b="varying float a;varying vec2 b;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;b=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}"}function da(t,e){this.G=t.getUniformLocation(e,"n"),this.qa=t.getUniformLocation(e,"k"),this.Z=t.getUniformLocation(e,"l"),this.c=t.getUniformLocation(e,"j"),this.i=t.getUniformLocation(e,"i"),this.a=t.getUniformLocation(e,"m"),this.ta=t.getUniformLocation(e,"p"),this.g=t.getUniformLocation(e,"h"),this.I=t.getUniformLocation(e,"o"),this.f=t.getAttribLocation(e,"g"),this.l=t.getAttribLocation(e,"d"),this.o=t.getAttribLocation(e,"f"),this.b=t.getAttribLocation(e,"e")}function ya(t,e){Gr.call(this,0,e),this.v=null,this.O=[],this.l=[],this.c={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,s:!1}}function va(t,e,n,o){var i,r,s,p,h,u,l,c=t.a.length,f=t.b.length,d="bevel"===t.c.lineJoin?0:"miter"===t.c.lineJoin?1:2,y="butt"===t.c.lineCap?0:"square"===t.c.lineCap?1:2,v=la(e,n,o),g=f,m=1;for(i=0;i<n;i+=o){if(p=c/7,h=u,u=l||[e[i],e[i+1]],i){if(i===n-o){v?l=r:(h=h||[0,0],c=ga(t,h,u,[0,0],m*wg*(y||1),c),c=ga(t,h,u,[0,0],-m*wg*(y||1),c),t.b[f++]=p,t.b[f++]=g-1,t.b[f++]=g,t.b[f++]=g,t.b[f++]=p+1,t.b[f++]=p,y&&(c=ga(t,h,u,[0,0],m*Sg*y,c),c=ga(t,h,u,[0,0],-m*Sg*y,c),t.b[f++]=p+2,t.b[f++]=p,t.b[f++]=p+1,t.b[f++]=p+1,t.b[f++]=p+3,t.b[f++]=p+2));break}l=[e[i+o],e[i+o+1]]}else{if(l=[e[i+o],e[i+o+1]],n-0===2*o&&a(u,l))break;if(!v){y&&(c=ga(t,[0,0],u,l,m*Pg*y,c),c=ga(t,[0,0],u,l,-m*Pg*y,c),t.b[f++]=p+2,t.b[f++]=p,t.b[f++]=p+1,t.b[f++]=p+1,t.b[f++]=p+3,t.b[f++]=p+2),c=ga(t,[0,0],u,l,m*_g*(y||1),c),c=ga(t,[0,0],u,l,-m*_g*(y||1),c),g=c/7-1;continue}h=[e[n-2*o],e[n-2*o+1]],r=l}s=zr(h[0],h[1],u[0],u[1],l[0],l[1])?-1:1,c=ga(t,h,u,l,s*Cg*(d||1),c),c=ga(t,h,u,l,s*Mg*(d||1),c),c=ga(t,h,u,l,-s*Tg*(d||1),c),0<i&&(t.b[f++]=p,t.b[f++]=g-1,t.b[f++]=g,t.b[f++]=p+2,t.b[f++]=p,t.b[f++]=0<m*s?g:g-1),t.b[f++]=p,t.b[f++]=p+2,t.b[f++]=p+1,g=p+2,m=s,d&&(c=ga(t,h,u,l,s*Ag*d,c),t.b[f++]=p+1,t.b[f++]=p+3,t.b[f++]=p)}v&&(p=p||c/7,s=Oo([h[0],h[1],u[0],u[1],l[0],l[1]],0,6,2)?1:-1,c=ga(t,h,u,l,s*Cg*(d||1),c),ga(t,h,u,l,-s*Tg*(d||1),c),t.b[f++]=p,t.b[f++]=g-1,t.b[f++]=g,t.b[f++]=p+1,t.b[f++]=p,t.b[f++]=0<m*s?g:g-1)}function ga(t,e,n,o,i,r){return t.a[r++]=e[0],t.a[r++]=e[1],t.a[r++]=n[0],t.a[r++]=n[1],t.a[r++]=o[0],t.a[r++]=o[1],t.a[r++]=i,r}function ma(t,e,n){return e-=0,!(e<2*n)&&(e!==2*n||!a([t[0],t[1]],[t[0+n],t[n+1]]))}function ba(t,e,n,o){if(la(e,e.length,o)||(e.push(e[0]),e.push(e[1])),va(t,e,e.length,o),n.length){var i;for(e=0,i=n.length;e<i;++e)la(n[e],n[e].length,o)||(n[e].push(n[e][0]),n[e].push(n[e][1])),va(t,n[e],n[e].length,o)}}function xa(t,e,n){n=void 0===n?t.b.length:n,t.g.push(n),t.f.push(e),t.c.s&&(t.l.push(n),t.c.s=!1)}function _a(t,e,n,o,i){e.uniform4fv(t.v.G,n),e.uniform1f(t.v.qa,o),e.uniform1f(t.v.Z,i)}function wa(){this.b="precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}function Pa(){this.b="attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}"}function Sa(t,e){this.G=t.getUniformLocation(e,"e"),this.c=t.getUniformLocation(e,"d"),this.i=t.getUniformLocation(e,"c"),this.a=t.getUniformLocation(e,"f"),this.g=t.getUniformLocation(e,"b"),this.b=t.getAttribLocation(e,"a")}function Ca(t){t=t||{},this.a=void 0!==t.color?t.color:null,this.i=t.lineCap,this.g=void 0!==t.lineDash?t.lineDash:null,this.f=t.lineDashOffset,this.j=t.lineJoin,this.l=t.miterLimit,this.c=t.width,this.b=void 0}function Ma(t){this.b=this.a=this.g=void 0,this.i=void 0===t||t,this.c=0}function Ta(t){var e=t.b;if(e){var n=e.next,o=e.ub;n&&(n.ub=o),o&&(o.next=n),t.b=n||o,t.g===t.a?(t.b=void 0,t.g=void 0,t.a=void 0):t.g===e?t.g=t.b:t.a===e&&(t.a=o?t.b.ub:t.b),t.c--}}function Aa(t){if(t.b=t.g,t.b)return t.b.data}function Ea(t){if(t.b&&t.b.next)return t.b=t.b.next,t.b.data}function La(t){if(t.b&&t.b.next)return t.b.next.data}function Ia(t){if(t.b&&t.b.ub)return t.b=t.b.ub,t.b.data}function Na(t){if(t.b&&t.b.ub)return t.b.ub.data}function Oa(t){if(t.b)return t.b.data}function ka(t){this.b=Ig(t),this.a={}}function Ra(t,e,n){var o=t.a[c(n)];X([o.da,o.ga,o.ba,o.ja],e)||(t.remove(n),t.Ea(e,n))}function Da(t){return t.b.all().map(function(t){return t.value})}function Fa(t,e){return t.b.search({da:e[0],ga:e[1],ba:e[2],ja:e[3]}).map(function(t){return t.value})}function ja(t,e,n,o){return Ka(Fa(t,e),n,o)}function Ka(t,e,n){for(var o,i=0,r=t.length;i<r&&!(o=e.call(n,t[i]));i++);return o}function Ba(t,e){Gr.call(this,0,e),this.j=new ya(0,e),this.v=null,this.O=[],this.c=[],this.l={fillColor:null,s:!1}}function Xa(t,e,n,o){var i=new Ma,r=new ka;if(e=Ua(t,e,o,i,r,!0),n.length){var a,s,p=[];for(a=0,s=n.length;a<s;++a){var h={list:new Ma,ba:void 0};p.push(h),h.ba=Ua(t,n[a],o,h.list,r,!1)}for(p.sort(function(t,e){return e.ba-t.ba}),a=0;a<p.length;++a)Ga(p[a].list,p[a].ba,i,e,r)}Ya(i,r,!1),Wa(t,i,r)}function Ua(t,e,n,o,i,r){var a,s,p,h,u,l=t.a.length/2,c=[],f=[];if(r===Oo(e,0,e.length,n))for(h=p=Va(t,e[0],e[1],l++),r=e[0],a=n,s=e.length;a<s;a+=n)u=Va(t,e[a],e[a+1],l++),f.push($a(h,u,o)),c.push([Math.min(h.x,u.x),Math.min(h.y,u.y),Math.max(h.x,u.x),Math.max(h.y,u.y)]),r=e[a]>r?e[a]:r,h=u;else for(a=e.length-n,h=p=Va(t,e[a],e[a+1],l++),r=e[a],a-=n,s=0;a>=s;a-=n)u=Va(t,e[a],e[a+1],l++),f.push($a(h,u,o)),c.push([Math.min(h.x,u.x),Math.min(h.y,u.y),Math.max(h.x,u.x),Math.max(h.y,u.y)]),r=e[a]>r?e[a]:r,h=u;return f.push($a(u,p,o)),c.push([Math.min(h.x,u.x),Math.min(h.y,u.y),Math.max(h.x,u.x),Math.max(h.y,u.y)]),i.load(c,f),r}function Ya(t,e,n){var o=Aa(t),i=o,r=Ea(t),a=!1;do{var s=n?zr(r.X.x,r.X.y,i.X.x,i.X.y,i.aa.x,i.aa.y):zr(i.aa.x,i.aa.y,i.X.x,i.X.y,r.X.x,r.X.y);void 0===s?(Za(i,r,t,e),a=!0,r===o&&(o=La(t)),r=i,Ia(t)):i.X.vb!==s&&(i.X.vb=s,a=!0),i=r,r=Ea(t)}while(i!==o);return a}function Ga(t,e,n,o,i){Ya(t,i,!0);for(var r=Aa(t);r.X.x!==e;)r=Ea(t);e=r.X,o={x:o,y:e.y,fb:-1};var a,s,p,h,u=1/0;for(p=Qa({aa:e,X:o},i,!0),a=0,s=p.length;a<s;++a){var l=p[a];if(void 0===l.aa.vb){var c=ts(e,o,l.aa,l.X,!0),f=Math.abs(e.x-c[0]);f<u&&(u=f,h={x:c[0],y:c[1],fb:-1},r=l)}}if(1/0!==u){if(p=r.X,0<u&&(r=Ja(e,h,r.X,i),r.length))for(h=1/0,a=0,s=r.length;a<s;++a)u=r[a],l=Math.atan2(e.y-u.y,o.x-u.x),(l<h||l===h&&u.x<p.x)&&(h=l,p=u);for(r=Aa(n);r.X!==p;)r=Ea(n);o={x:e.x,y:e.y,fb:e.fb,vb:void 0},a={x:r.X.x,y:r.X.y,fb:r.X.fb,vb:void 0},La(t).aa=o,$a(e,r.X,t,i),$a(a,o,t,i),r.X=a,t.i&&t.b&&(t.g=t.b,t.a=t.b.ub),n.concat(t)}}function Wa(t,e,n){for(var o=!1,i=qa(e,n);3<e.c;)if(i){if(!za(t,e,n,i,o)&&!Ya(e,n,o)&&!Ha(t,e,n,!0))break}else if(!za(t,e,n,i,o)&&!Ya(e,n,o)&&!Ha(t,e,n)){if(!(i=qa(e,n))){i=t,o=e,r=a=Aa(o);do{if(s=Qa(r,n),s.length){for(a=s[0],s=ts(r.aa,r.X,a.aa,a.X),s=Va(i,s[0],s[1],i.a.length/2),p=new Ma,h=new ka,$a(s,r.X,p,h),r.X=s,Ra(n,[Math.min(r.aa.x,s.x),Math.min(r.aa.y,s.y),Math.max(r.aa.x,s.x),Math.max(r.aa.y,s.y)],r),r=Ea(o);r!==a;)$a(r.aa,r.X,p,h),n.remove(r),Ta(o),r=Oa(o);$a(a.aa,s,p,h),a.aa=s,Ra(n,[Math.min(a.X.x,s.x),Math.min(a.X.y,s.y),Math.max(a.X.x,s.x),Math.max(a.X.y,s.y)],a),Ya(o,n,!1),Wa(i,o,n),Ya(p,h,!1),Wa(i,p,h);break}r=Ea(o)}while(r!==a);break}var o=e,r=2*o.c,a=Array(r),s=Aa(o),p=s,h=0;do a[h++]=p.aa.x,a[h++]=p.aa.y,p=Ea(o);while(p!==s);o=!Oo(a,0,r,2),Ya(e,n,o)}3===e.c&&(i=t.b.length,t.b[i++]=Na(e).aa.fb,t.b[i++]=Oa(e).aa.fb,t.b[i++]=La(e).aa.fb)}function za(t,e,n,o,i){var r,a,s,p=t.b.length,h=Aa(e),u=Na(e),l=h,c=Ea(e),f=La(e),d=!1;do{if(r=l.aa,a=l.X,s=c.X,!1===a.vb){var y=i?es(f.X,s,a,r,u.aa):es(u.aa,r,a,s,f.X);!o&&Qa({aa:r,X:s},n).length||!y||Ja(r,a,s,n,!0).length||!o&&!1!==r.vb&&!1!==s.vb&&Oo([u.aa.x,u.aa.y,r.x,r.y,a.x,a.y,s.x,s.y,f.X.x,f.X.y],0,10,2)!==!i||(t.b[p++]=r.fb,t.b[p++]=a.fb,t.b[p++]=s.fb,Za(l,c,e,n),c===h&&(h=f),d=!0)}u=Na(e),l=Oa(e),c=Ea(e),f=La(e)}while(l!==h&&3<e.c);return d}function Ha(t,e,n,o){var i=Aa(e);Ea(e);var r=i,a=Ea(e),s=!1;do{var p=ts(r.aa,r.X,a.aa,a.X,o);if(p){var h,s=t.b.length,u=t.a.length/2,l=Ia(e);if(Ta(e),n.remove(l),h=l===i,o?(p[0]===r.aa.x&&p[1]===r.aa.y?(Ia(e),p=r.aa,a.aa=p,n.remove(r),h=h||r===i):(p=a.X,r.X=p,n.remove(a),h=h||a===i),Ta(e)):(p=Va(t,p[0],p[1],u),r.X=p,a.aa=p,Ra(n,[Math.min(r.aa.x,r.X.x),Math.min(r.aa.y,r.X.y),Math.max(r.aa.x,r.X.x),Math.max(r.aa.y,r.X.y)],r),Ra(n,[Math.min(a.aa.x,a.X.x),Math.min(a.aa.y,a.X.y),Math.max(a.aa.x,a.X.x),Math.max(a.aa.y,a.X.y)],a)),t.b[s++]=l.aa.fb,t.b[s++]=l.X.fb,t.b[s++]=p.fb,s=!0,h)break}r=Na(e),a=Ea(e)}while(r!==i);return s}function qa(t,e){var n=Aa(t),o=n;do{if(Qa(o,e).length)return!1;o=Ea(t)}while(o!==n);return!0}function Va(t,e,n,o){var i=t.a.length;return t.a[i++]=e,t.a[i++]=n,{x:e,y:n,fb:o,vb:void 0}}function $a(t,e,n,o){var i={aa:t,X:e},r={ub:void 0,next:void 0,data:i},a=n.b;if(a){var s=a.next;r.ub=a,r.next=s,a.next=r,s&&(s.ub=r),a===n.a&&(n.a=r)}else n.g=r,n.a=r,n.i&&(r.next=r,r.ub=r);return n.b=r,n.c++,o&&o.Ea([Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y)],i),i}function Za(t,e,n,o){Oa(n)===e&&(Ta(n),t.X=e.X,o.remove(e),Ra(o,[Math.min(t.aa.x,t.X.x),Math.min(t.aa.y,t.X.y),Math.max(t.aa.x,t.X.x),Math.max(t.aa.y,t.X.y)],t))}function Ja(t,e,n,o,i){var r,a,s,p=[],h=Fa(o,[Math.min(t.x,e.x,n.x),Math.min(t.y,e.y,n.y),Math.max(t.x,e.x,n.x),Math.max(t.y,e.y,n.y)]);for(o=0,r=h.length;o<r;++o)for(a in h[o])s=h[o][a],"object"!=typeof s||i&&!s.vb||s.x===t.x&&s.y===t.y||s.x===e.x&&s.y===e.y||s.x===n.x&&s.y===n.y||-1!==p.indexOf(s)||!To([t.x,t.y,e.x,e.y,n.x,n.y],0,6,2,s.x,s.y)||p.push(s);return p}function Qa(t,e,n){var o=t.aa,i=t.X;e=Fa(e,[Math.min(o.x,i.x),Math.min(o.y,i.y),Math.max(o.x,i.x),Math.max(o.y,i.y)]);var r,a,s=[];for(r=0,a=e.length;r<a;++r){var p=e[r];t!==p&&(n||p.aa!==i||p.X!==o)&&ts(o,i,p.aa,p.X,n)&&s.push(p)}return s}function ts(t,e,n,o,i){var r=(o.y-n.y)*(e.x-t.x)-(o.x-n.x)*(e.y-t.y);if(r&&(o=((o.x-n.x)*(t.y-n.y)-(o.y-n.y)*(t.x-n.x))/r,n=((e.x-t.x)*(t.y-n.y)-(e.y-t.y)*(t.x-n.x))/r,
!i&&o>yg&&o<1-yg&&n>yg&&n<1-yg||i&&0<=o&&1>=o&&0<=n&&1>=n))return[t.x+o*(e.x-t.x),t.y+o*(e.y-t.y)]}function es(t,e,n,o,i){if(void 0===e.vb||void 0===o.vb)return!1;var r=(n.x-o.x)*(e.y-o.y)>(n.y-o.y)*(e.x-o.x);return i=(i.x-o.x)*(e.y-o.y)<(i.y-o.y)*(e.x-o.x),t=(t.x-e.x)*(o.y-e.y)>(t.y-e.y)*(o.x-e.x),n=(n.x-e.x)*(o.y-e.y)<(n.y-e.y)*(o.x-e.x),e=e.vb?n||t:n&&t,(o.vb?i||r:i&&r)&&e}function ns(){}function os(t,e,n){this.f=e,this.j=t,this.c=n,this.a={}}function is(t,e){var n,o=[];for(n in t.a){var i,r=t.a[n];for(i in r)o.push(r[i].Cb(e))}return function(){for(var t,e=o.length,n=0;n<e;n++)t=o[n].apply(this,arguments);return t}}function rs(t,e){for(var n in t.a){var o,i=t.a[n];for(o in i)i[o].Bb(e)}}function as(t,e,n,o,i,r,a,s,p,h,u){var l=Rg,c=Object.keys(t.a).map(Number);c.sort(function(t,e){return e-t});var f,d,y,v,g;for(f=0,d=c.length;f<d;++f)for(v=t.a[c[f].toString()],y=hg.length-1;0<=y;--y)if(g=v[hg[y]],void 0!==g&&(g=g.i(e,n,o,i,l,r,a,s,p,h,u)))return g}function ss(t,e,n,o,i,r,a,s){var p=n.b;return p.bindFramebuffer(p.FRAMEBUFFER,na(n)),void 0!==as(t,n,e,o,i,r,a,s,function(){var t=new Uint8Array(4);return p.readPixels(0,0,1,1,p.RGBA,p.UNSIGNED_BYTE,t),0<t[3]},!1)}function ps(t,e,n,o,i,r,a){this.b=t,this.g=e,this.a=r,this.c=a,this.j=i,this.f=o,this.i=n,this.l=this.o=this.u=null}function hs(){this.c=0,this.b={},this.g=this.a=null}function us(t,e){gr.call(this,0,e),this.b=document.createElement("CANVAS"),this.b.style.width="100%",this.b.style.height="100%",this.b.style.display="block",this.b.className="ol-unselectable",t.insertBefore(this.b,t.childNodes[0]||null),this.O=this.A=0,this.C=Te(),this.o=!0,this.g=Je(this.b,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.i=new Qr(this.b,this.g),ne(this.b,"webglcontextlost",this.On,this),ne(this.b,"webglcontextrestored",this.Pn,this),this.a=new hs,this.v=null,this.j=new Tn(function(t){var e=t[1];t=t[2];var n=e[0]-this.v[0],e=e[1]-this.v[1];return 65536*Math.log(t)+Math.sqrt(n*n+e*e)/t}.bind(this),function(t){return t[0].hb()}),this.G=function(){if(this.j.b.length){In(this.j);var t=An(this.j);ls(this,t[0],t[3],t[4])}return!1}.bind(this),this.f=0,fs(this)}function ls(t,e,n,o){var i=t.g,r=e.hb();if(t.a.b.hasOwnProperty(r))t=t.a.get(r),i.bindTexture(3553,t.Fb),9729!=t.Ih&&(i.texParameteri(3553,10240,9729),t.Ih=9729),9729!=t.Kh&&(i.texParameteri(3553,10241,9729),t.Kh=9729);else{var a=i.createTexture();if(i.bindTexture(3553,a),0<o){var s=t.C.canvas,p=t.C;t.A!==n[0]||t.O!==n[1]?(s.width=n[0],s.height=n[1],t.A=n[0],t.O=n[1]):p.clearRect(0,0,n[0],n[1]),p.drawImage(e.Y(),o,o,n[0],n[1],0,0,n[0],n[1]),i.texImage2D(3553,0,6408,6408,5121,s)}else i.texImage2D(3553,0,6408,6408,5121,e.Y());i.texParameteri(3553,10240,9729),i.texParameteri(3553,10241,9729),i.texParameteri(3553,10242,33071),i.texParameteri(3553,10243,33071),t.a.set(r,{Fb:a,Ih:9729,Kh:9729})}}function cs(t,e,n){var o=t.l;if(ce(o,e)){t=t.i;var i=n.viewState;o.b(new Pr(e,new ps(t,i.center,i.resolution,i.rotation,n.size,n.extent,n.pixelRatio),n,null,t))}}function fs(t){t=t.g,t.activeTexture(33984),t.blendFuncSeparate(770,771,1,771),t.disable(2884),t.disable(2929),t.disable(3089),t.disable(2960)}function ds(t){de.call(this);var e=ys(t);this.yf=void 0!==t.loadTilesWhileAnimating&&t.loadTilesWhileAnimating,this.zf=void 0!==t.loadTilesWhileInteracting&&t.loadTilesWhileInteracting,this.Ef=void 0!==t.pixelRatio?t.pixelRatio:Kv,this.wf=e.logos,this.fa=function(){this.f=void 0,this.Ip.call(this,Date.now())}.bind(this),this.Gb=ar(),this.Ff=ar(),this.le=0,this.a=null,this.yb=F(),this.G=this.I=this.Z=null,this.c=document.createElement("DIV"),this.c.className="ol-viewport"+(Gv?" ol-touch":""),this.c.style.position="relative",this.c.style.overflow="hidden",this.c.style.width="100%",this.c.style.height="100%",this.c.style.msTouchAction="none",this.c.style.touchAction="none",this.A=document.createElement("DIV"),this.A.className="ol-overlaycontainer",this.c.appendChild(this.A),this.v=document.createElement("DIV"),this.v.className="ol-overlaycontainer-stopevent",t="click dblclick mousedown touchstart MSPointerDown pointerdown mousewheel wheel".split(" ");for(var n=0,o=t.length;n<o;++n)ne(this.v,t[n],ue);this.c.appendChild(this.v),this.Ja=new Sn(this);for(var i in Lv)ne(this.Ja,Lv[i],this.Bh,this);this.na=e.keyboardEventTarget,this.u=null,ne(this.c,"wheel",this.pd,this),ne(this.c,"mousewheel",this.pd,this),this.l=e.controls,this.j=e.interactions,this.o=e.overlays,this.lg={},this.C=new e.Kp(this.c,this),this.T=null,this.Va=[],this.Ha=new Nn(this.ll.bind(this),this.Rl.bind(this)),this.ea={},ne(this,ye("layergroup"),this.zl,this),ne(this,ye("view"),this.Sl,this),ne(this,ye("size"),this.Ol,this),ne(this,ye("target"),this.Ql,this),this.H(e.values),this.l.forEach(function(t){t.setMap(this)},this),ne(this.l,"add",function(t){t.element.setMap(this)},this),ne(this.l,"remove",function(t){t.element.setMap(null)},this),this.j.forEach(function(t){t.setMap(this)},this),ne(this.j,"add",function(t){t.element.setMap(this)},this),ne(this.j,"remove",function(t){t.element.setMap(null)},this),this.o.forEach(this.bh,this),ne(this.o,"add",function(t){this.bh(t.element)},this),ne(this.o,"remove",function(t){var e=t.element.f;void 0!==e&&delete this.lg[e.toString()],t.element.setMap(null)},this)}function ys(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n={},o={};if(void 0===t.logo||"boolean"==typeof t.logo&&t.logo)o["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="https://openlayers.org/";else{var i=t.logo;"string"==typeof i?o[i]="":i instanceof HTMLElement?o[c(i).toString()]=i:i&&(d("string"==typeof i.href,44),d("string"==typeof i.src,45),o[i.src]=i.href)}i=t.layers instanceof nr?t.layers:new nr({layers:t.layers}),n.layergroup=i,n.target=t.target,n.view=void 0!==t.view?t.view:new Yo;var r,i=gr;void 0!==t.renderer?(Array.isArray(t.renderer)?r=t.renderer:"string"==typeof t.renderer?r=[t.renderer]:d(!1,46),0<=r.indexOf("dom")&&(r=r.concat(Fg))):r=Fg;var a,s;for(a=0,s=r.length;a<s;++a){var p=r[a];if("canvas"==p){if(Xv){i=Or;break}}else if("webgl"==p&&Iv){i=us;break}}return void 0!==t.controls?Array.isArray(t.controls)?r=new me(t.controls.slice()):(d(t.controls instanceof me,47),r=t.controls):r=Xe(),void 0!==t.interactions?Array.isArray(t.interactions)?a=new me(t.interactions.slice()):(d(t.interactions instanceof me,48),a=t.interactions):a=Qi(),void 0!==t.overlays?Array.isArray(t.overlays)?t=new me(t.overlays.slice()):(d(t.overlays instanceof me,49),t=t.overlays):t=new me,{controls:r,interactions:a,keyboardEventTarget:e,logos:o,overlays:t,Kp:i,values:n}}function vs(t){de.call(this),this.f=t.id,this.o=void 0===t.insertFirst||t.insertFirst,this.u=void 0===t.stopEvent||t.stopEvent,this.c=document.createElement("DIV"),this.c.className="ol-overlay-container ol-selectable",this.c.style.position="absolute",this.autoPan=void 0!==t.autoPan&&t.autoPan,this.j=t.autoPanAnimation||{},this.l=void 0!==t.autoPanMargin?t.autoPanMargin:20,this.a={re:"",He:"",lf:"",uf:"",visible:!0},this.i=null,ne(this,ye(jg),this.ul,this),ne(this,ye(Kg),this.El,this),ne(this,ye(Bg),this.Il,this),ne(this,ye(Xg),this.Kl,this),ne(this,ye(Ug),this.Ll,this),void 0!==t.element&&this.gj(t.element),this.nj(void 0!==t.offset?t.offset:[0,0]),this.qj(void 0!==t.positioning?t.positioning:"top-left"),void 0!==t.position&&this.Me(t.position)}function gs(t,e){var n=t.getBoundingClientRect(),o=n.left+window.pageXOffset,n=n.top+window.pageYOffset;return[o,n,o+e[0],n+e[1]]}function ms(t,e){t.a.visible!==e&&(t.c.style.display=e?"":"none",t.a.visible=e)}function bs(t){var e=t.Le(),n=t.Rh();if(e&&e.a&&n){var n=e.Ka(n),o=e.Nb(),e=t.c.style,i=t.wh(),r=t.xh();ms(t,!0);var a=i[0],i=i[1];"bottom-right"==r||"center-right"==r||"top-right"==r?(""!==t.a.He&&(t.a.He=e.left=""),a=Math.round(o[0]-n[0]-a)+"px",t.a.lf!=a&&(t.a.lf=e.right=a)):(""!==t.a.lf&&(t.a.lf=e.right=""),"bottom-center"!=r&&"center-center"!=r&&"top-center"!=r||(a-=t.c.offsetWidth/2),a=Math.round(n[0]+a)+"px",t.a.He!=a&&(t.a.He=e.left=a)),"bottom-left"==r||"bottom-center"==r||"bottom-right"==r?(""!==t.a.uf&&(t.a.uf=e.top=""),n=Math.round(o[1]-n[1]-i)+"px",t.a.re!=n&&(t.a.re=e.bottom=n)):(""!==t.a.re&&(t.a.re=e.bottom=""),"center-left"!=r&&"center-center"!=r&&"center-right"!=r||(i-=t.c.offsetHeight/2),n=Math.round(n[1]+i)+"px",t.a.uf!=n&&(t.a.uf=e.top=n))}else ms(t,!1)}function xs(t){function e(t){t=s.Of(t),p.a.$().lb(t),window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",e)}function n(t){t=s.Of({clientX:t.clientX-u.offsetWidth/2,clientY:t.clientY+u.offsetHeight/2}),h.Me(t)}t=t?t:{},this.j=void 0===t.collapsed||t.collapsed,this.l=void 0===t.collapsible||t.collapsible,this.l||(this.j=!1);var o=void 0!==t.className?t.className:"ol-overviewmap",i=void 0!==t.tipLabel?t.tipLabel:"Overview map",r=void 0!==t.collapseLabel?t.collapseLabel:"«";"string"==typeof r?(this.v=document.createElement("span"),this.v.textContent=r):this.v=r,r=void 0!==t.label?t.label:"»","string"==typeof r?(this.A=document.createElement("span"),this.A.textContent=r):this.A=r;var a=this.l&&!this.j?this.v:this.A,r=document.createElement("button");r.setAttribute("type","button"),r.title=i,r.appendChild(a),ne(r,"click",this.Vm,this),this.C=document.createElement("DIV"),this.C.className="ol-overviewmap-map";var s=this.c=new ds({controls:new me,interactions:new me,view:t.view});t.layers&&t.layers.forEach(function(t){s.$g(t)},this),i=document.createElement("DIV"),i.className="ol-overviewmap-box",i.style.boxSizing="border-box",this.o=new vs({position:[0,0],positioning:"bottom-left",element:i}),this.c.ah(this.o),i=document.createElement("div"),i.className=o+" ol-unselectable ol-control"+(this.j&&this.l?" ol-collapsed":"")+(this.l?"":" ol-uncollapsible"),i.appendChild(this.C),i.appendChild(r),Le.call(this,{element:i,render:t.render?t.render:_s,target:t.target});var p=this,h=this.o,u=this.o.Rd();u.addEventListener("mousedown",function(){window.addEventListener("mousemove",n),window.addEventListener("mouseup",e)})}function _s(){var t=this.a,e=this.c;if(t.a&&e.a){var n=t.Nb(),t=t.$().hd(n),o=e.Nb(),n=e.$().hd(o),i=e.Ka(Q(t)),r=e.Ka(q(t)),e=Math.abs(i[0]-r[0]),i=Math.abs(i[1]-r[1]),r=o[0],o=o[1];e<.1*r||i<.1*o||e>.75*r||i>.75*o?ws(this):k(n,t)||(t=this.c,n=this.a.$(),t.$().lb(n.za()))}Ps(this)}function ws(t){var e=t.a;t=t.c;var n=e.Nb(),e=e.$().hd(n);t=t.$(),it(e,1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2))),t.Mf(e)}function Ps(t){var e=t.a,n=t.c;if(e.a&&n.a){var o,i=e.Nb(),r=e.$(),a=n.$(),n=r.Sa(),e=t.o,s=t.o.Rd(),p=r.hd(i),i=a.Ra(),r=H(p),a=tt(p);(t=t.a.$().za())&&(o=[r[0]-t[0],r[1]-t[1]],Hn(o,n),Un(o,t)),e.Me(o),s&&(s.style.width=Math.abs((r[0]-a[0])/i)+"px",s.style.height=Math.abs((a[1]-r[1])/i)+"px")}}function Ss(t){t.element.classList.toggle("ol-collapsed"),t.j?Ae(t.v,t.A):Ae(t.A,t.v),t.j=!t.j;var e=t.c;t.j||e.a||(e.Cd(),ws(t),oe(e,"postrender",function(){Ps(this)},t))}function Cs(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-scale-line";this.l=document.createElement("DIV"),this.l.className=e+"-inner",this.c=document.createElement("DIV"),this.c.className=e+" ol-unselectable",this.c.appendChild(this.l),this.v=null,this.o=void 0!==t.minWidth?t.minWidth:64,this.j=!1,this.C=void 0,this.A="",Le.call(this,{element:this.c,render:t.render?t.render:Ms,target:t.target}),ne(this,ye(Gg),this.I,this),this.G(t.units||"metric")}function Ms(t){(t=t.frameState)?this.v=t.viewState:this.v=null,Ts(this)}function Ts(t){var e=t.v;if(e){var n=e.projection,o=n.uc(),e=gt(n,e.resolution,e.center)*o,o=t.o*e,n="",i=t.Kb();"degrees"==i?(n=hv.degrees,e/=n,o<n/60?(n="″",e*=3600):o<n?(n="′",e*=60):n="°"):"imperial"==i?.9144>o?(n="in",e/=.0254):1609.344>o?(n="ft",e/=.3048):(n="mi",e/=1609.344):"nautical"==i?(e/=1852,n="nm"):"metric"==i?.001>o?(n="μm",e*=1e6):1>o?(n="mm",e*=1e3):1e3>o?n="m":(n="km",e/=1e3):"us"==i?.9144>o?(n="in",e*=39.37):1609.344>o?(n="ft",e/=.30480061):(n="mi",e/=1609.3472):d(!1,33);for(var r,i=3*Math.floor(Math.log(t.o*e)/Math.log(10));;){if(r=Yg[(i%3+3)%3]*Math.pow(10,Math.floor(i/3)),o=Math.round(r/e),isNaN(o))return t.c.style.display="none",void(t.j=!1);if(o>=t.o)break;++i}e=r+" "+n,t.A!=e&&(t.l.innerHTML=e,t.A=e),t.C!=o&&(t.l.style.width=o+"px",t.C=o),t.j||(t.c.style.display="",t.j=!0)}else t.j&&(t.c.style.display="none",t.j=!1)}function As(t){t=t?t:{},this.c=void 0,this.j=Wg,this.A=this.o=0,this.I=null,this.ea=!1,this.T=void 0!==t.duration?t.duration:200;var e=void 0!==t.className?t.className:"ol-zoomslider",n=document.createElement("button");n.setAttribute("type","button"),n.className=e+"-thumb ol-unselectable";var o=document.createElement("div");o.className=e+" ol-unselectable ol-control",o.appendChild(n),this.l=new dn(o),ne(this.l,"pointerdown",this.tl,this),ne(this.l,"pointermove",this.rl,this),ne(this.l,"pointerup",this.sl,this),ne(o,"click",this.ql,this),ne(n,"click",ue),Le.call(this,{element:o,render:t.render?t.render:Es})}function Es(t){if(t.frameState){if(!this.ea){var e=this.element,n=e.offsetWidth,o=e.offsetHeight,i=e.firstElementChild,r=getComputedStyle(i),e=i.offsetWidth+parseFloat(r.marginRight)+parseFloat(r.marginLeft),i=i.offsetHeight+parseFloat(r.marginTop)+parseFloat(r.marginBottom);this.I=[e,i],n>o?(this.j=1,this.A=n-e):(this.j=Wg,this.o=o-i),this.ea=!0}t=t.frameState.viewState.resolution,t!==this.c&&(this.c=t,Ls(this,t))}}function Ls(t,e){var n;n=1-Jo(t.a.$())(e);var o=t.element.firstElementChild;1==t.j?o.style.left=t.A*n+"px":o.style.top=t.o*n+"px"}function Is(t,e){return Zo(t.a.$())(1-e)}function Ns(t){t=t?t:{},this.c=t.extent?t.extent:null;var e=void 0!==t.className?t.className:"ol-zoom-extent",n=void 0!==t.label?t.label:"E",o=void 0!==t.tipLabel?t.tipLabel:"Fit to extent",i=document.createElement("button");i.setAttribute("type","button"),i.title=o,i.appendChild("string"==typeof n?document.createTextNode(n):n),ne(i,"click",this.j,this),n=document.createElement("div"),n.className=e+" ol-unselectable ol-control",n.appendChild(i),Le.call(this,{element:n,target:t.target})}function Os(t){de.call(this),t=t?t:{},this.a=null,ne(this,ye($g),this.rm,this),this.bg(void 0!==t.tracking&&t.tracking)}function ks(t){this.f=t.opacity,this.o=t.rotateWithView,this.j=t.rotation,this.c=t.scale,this.u=t.snapToPixel}function Rs(t){this.A=this.v=this.i=null,this.Wa=void 0!==t.fill?t.fill:null,this.qa=[0,0],this.b=t.points,this.a=void 0!==t.radius?t.radius:t.radius1,this.g=void 0!==t.radius2?t.radius2:this.a,this.l=void 0!==t.angle?t.angle:0,this.Za=void 0!==t.stroke?t.stroke:null,this.G=this.ta=this.C=null,this.O=t.atlasManager,Ds(this,this.O),ks.call(this,{opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel})}function Ds(t,e){var n,o,i="",r="",a=0,s=null,p=0;t.Za&&(o=t.Za.a,null===o&&(o=pg),o=Ce(o),p=t.Za.c,void 0===p&&(p=1),s=t.Za.g,Bv||(s=null),r=t.Za.j,void 0===r&&(r="round"),i=t.Za.i,void 0===i&&(i="round"),a=t.Za.l,void 0===a&&(a=10));var h=2*(t.a+p)+1,i={strokeStyle:o,vj:p,size:h,lineCap:i,lineDash:s,lineJoin:r,miterLimit:a};void 0===e?(r=Te(h,h),t.v=r.canvas,n=h=t.v.width,t.jh(i,r,0,0),t.Wa?t.A=t.v:(r=Te(i.size,i.size),t.A=r.canvas,t.ih(i,r,0,0))):(h=Math.round(h),(r=!t.Wa)&&(n=t.ih.bind(t,i)),t.Za?(a=t.Za,void 0===a.b&&(a.b="s",a.b=a.a?"string"==typeof a.a?a.b+a.a:a.b+c(a.a).toString():a.b+"-",a.b+=","+(void 0!==a.i?a.i.toString():"-")+","+(a.g?a.g.toString():"-")+","+(void 0!==a.f?a.f:"-")+","+(void 0!==a.j?a.j:"-")+","+(void 0!==a.l?a.l.toString():"-")+","+(void 0!==a.c?a.c.toString():"-")),a=a.b):a="-",t.Wa?(s=t.Wa,void 0===s.a&&(s.a=s.b instanceof CanvasPattern||s.b instanceof CanvasGradient?c(s.b).toString():"f"+(s.b?Pe(s.b):"-")),s=s.a):s="-",t.i&&a==t.i[1]&&s==t.i[2]&&t.a==t.i[3]&&t.g==t.i[4]&&t.l==t.i[5]&&t.b==t.i[6]||(t.i=["r"+a+s+(void 0!==t.a?t.a.toString():"-")+(void 0!==t.g?t.g.toString():"-")+(void 0!==t.l?t.l.toString():"-")+(void 0!==t.b?t.b.toString():"-"),a,s,t.a,t.g,t.l,t.b]),i=e.add(t.i[0],h,h,t.jh.bind(t,i),n),t.v=i.image,t.qa=[i.offsetX,i.offsetY],n=i.image.width,t.A=r?i.Ul:t.v),t.C=[h/2,h/2],t.ta=[h,h],t.G=[n,n]}function Fs(t){t=t||{},Rs.call(this,{points:1/0,fill:t.fill,radius:t.radius,snapToPixel:t.snapToPixel,stroke:t.stroke,atlasManager:t.atlasManager})}function js(t){t=t||{},this.b=void 0!==t.color?t.color:null,this.a=void 0}function Ks(t){t=t||{},this.Ic=null,this.Qa=Ys,void 0!==t.geometry&&this.Ta(t.geometry),this.Wa=void 0!==t.fill?t.fill:null,this.N=void 0!==t.image?t.image:null,this.Za=void 0!==t.stroke?t.stroke:null,this.Fa=void 0!==t.text?t.text:null,this.Bj=t.zIndex}function Bs(t){if("function"!=typeof t){var e;Array.isArray(t)?e=t:(d(t instanceof Ks,41),e=[t]),t=function(){return e}}return t}function Xs(){if(!Zg){var t=new js({color:"rgba(255,255,255,0.4)"}),e=new Ca({color:"#3399CC",width:1.25});Zg=[new Ks({image:new Fs({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return Zg}function Us(){var t={},e=[255,255,255,1],n=[0,153,255,1];return t.Polygon=[new Ks({fill:new js({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new Ks({stroke:new Ca({color:e,width:5})}),new Ks({stroke:new Ca({color:n,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new Ks({image:new Fs({radius:6,fill:new js({color:n}),stroke:new Ca({color:e,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function Ys(t){return t.U()}function Gs(t){de.call(this),this.a=void 0,this.c="geometry",this.f=null,this.j=void 0,this.i=null,ne(this,ye(this.c),this.De,this),void 0!==t&&(t instanceof eo||!t?this.Ta(t):this.H(t))}function Ws(t){var e;if("function"==typeof t)e=2==t.length?function(e){return t(this,e)}:t;else{var n;Array.isArray(t)?n=t:(d(t instanceof Ks,41),n=[t]),e=function(){return n}}return e}function zs(t,e){return Jg.createElementNS(t,e)}function Hs(t,e){return qs(t,e,[]).join("")}function qs(t,e,n){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?n.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(t.nodeValue);else for(t=t.firstChild;t;t=t.nextSibling)qs(t,e,n);return n}function Vs(t){return t instanceof Document}function $s(t){return t instanceof Node}function Zs(t){return(new DOMParser).parseFromString(t,"application/xml")}function Js(t,e){return function(n,o){var r=t.call(e,n,o);void 0!==r&&i(o[o.length-1],r)}}function Qs(t,e){return function(n,o){var i=t.call(void 0!==e?e:this,n,o);void 0!==i&&o[o.length-1].push(i)}}function tp(t,e){return function(n,o){var i=t.call(void 0!==e?e:this,n,o);void 0!==i&&(o[o.length-1]=i)}}function ep(t){return function(e,n){var o=t.call(this,e,n);if(void 0!==o){var i,r=n[n.length-1],a=e.localName;i=a in r?r[a]:r[a]=[],i.push(o)}}}function np(t,e){return function(n,o){var i=t.call(this,n,o);void 0!==i&&(o[o.length-1][void 0!==e?e:n.localName]=i)}}function op(t,e){return function(n,o,i){t.call(void 0!==e?e:this,n,o,i),i[i.length-1].node.appendChild(n)}}function ip(t){var e,n;return function(o,i,r){if(!e){e={};var a={};a[o.localName]=t,e[o.namespaceURI]=a,n=rp(o.localName)}up(e,n,i,r)}}function rp(t,e){return function(n,o,i){return n=o[o.length-1].node,o=t,void 0===o&&(o=i),i=e,void 0===e&&(i=n.namespaceURI),zs(i,o)}}function ap(t,e){for(var n=e.length,o=Array(n),i=0;i<n;++i)o[i]=t[e[i]];return o}function sp(t,e,n){n=void 0!==n?n:{};var o,i;for(o=0,i=t.length;o<i;++o)n[t[o]]=e;return n}function pp(t,e,n,o){for(e=e.firstElementChild;e;e=e.nextElementSibling){var i=t[e.namespaceURI];void 0!==i&&(i=i[e.localName])&&i.call(o,e,n)}}function hp(t,e,n,o,i){return o.push(t),pp(e,n,o,i),o.pop()}function up(t,e,n,o,i,r){for(var a,s,p=(void 0!==i?i:n).length,h=0;h<p;++h)a=n[h],void 0!==a&&(s=e.call(r,a,o,void 0!==i?i[h]:void 0),void 0!==s&&t[s.namespaceURI][s.localName].call(r,s,a,o))}function lp(t,e,n,o,i,r,a){i.push(t),up(e,n,o,i,r,a),i.pop()}function cp(t,e,n,o){return function(i,r,a){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(i,r,a):t,!0),"arraybuffer"==e.S()&&(s.responseType="arraybuffer"),s.onload=function(){if(!s.status||200<=s.status&&300>s.status){var t,i=e.S();"json"==i||"text"==i?t=s.responseText:"xml"==i?(t=s.responseXML)||(t=Zs(s.responseText)):"arraybuffer"==i&&(t=s.response),t?n.call(this,e.Pa(t,{featureProjection:a}),e.jb(t)):o.call(this)}else o.call(this)}.bind(this),s.onerror=function(){o.call(this)}.bind(this),s.send()}}function fp(t,e){return cp(t,e,function(t){this.gd(t)},l)}function dp(){this.i=this.defaultDataProjection=null}function yp(t,e,n){var o;return n&&(o={dataProjection:n.dataProjection?n.dataProjection:t.jb(e),featureProjection:n.featureProjection}),vp(t,o)}function vp(t,e){return sv({dataProjection:t.defaultDataProjection,featureProjection:t.i},e)}function gp(t,e,n){var o,i=n?Ct(n.featureProjection):null,r=n?Ct(n.dataProjection):null;if(o=i&&r&&!Mt(i,r)?t instanceof eo?(e?t.clone():t).tb(e?i:r,e?r:i):Nt(e?t.slice():t,e?i:r,e?r:i):t,e&&n&&n.decimals){var a=Math.pow(10,n.decimals);t=function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*a)/a;return t},Array.isArray(o)?t(o):o.Fc(t)}return o}function mp(){dp.call(this)}function bp(t){return"string"==typeof t?(t=JSON.parse(t))?t:null:null!==t?t:null}function xp(t,n,o,i,r,a){var s=NaN,p=NaN,h=(o-n)/i;if(1===h)s=t[n],p=t[n+1];else if(2==h)s=(1-r)*t[n]+r*t[n+i],p=(1-r)*t[n+1]+r*t[n+i+1];else if(h){var u,p=t[n],h=t[n+1],l=0,s=[0];for(u=n+i;u<o;u+=i){var c=t[u],f=t[u+1],l=l+Math.sqrt((c-p)*(c-p)+(f-h)*(f-h));s.push(l),p=c,h=f}for(o=r*l,h=0,l=s.length,u=!1;h<l;)r=h+(l-h>>1),p=+e(s[r],o),0>p?h=r+1:(l=r,u=!p);r=u?h:~h,0>r?(o=(o-s[-r-2])/(s[-r-1]-s[-r-2]),n+=(-r-2)*i,s=C(t[n],t[n+i],o),p=C(t[n+1],t[n+i+1],o)):(s=t[n+r*i],p=t[n+r*i+1])}return a?(a[0]=s,a[1]=p,a):[s,p]}function _p(t,e,n,o,i,r){if(n==e)return null;if(i<t[e+o-1])return r?(n=t.slice(e,e+o),n[o-1]=i,n):null;if(t[n-1]<i)return r?(n=t.slice(n-o,n),n[o-1]=i,n):null;if(i==t[e+o-1])return t.slice(e,e+o);for(e/=o,n/=o;e<n;)r=e+n>>1,i<t[(r+1)*o-1]?n=r:e=r+1;if(n=t[e*o-1],i==n)return t.slice((e-1)*o,(e-1)*o+o);r=(i-n)/(t[(e+1)*o-1]-n),n=[];var a;for(a=0;a<o-1;++a)n.push(C(t[(e-1)*o+a],t[e*o+a],r));return n.push(i),n}function wp(t,e,n,o,i,r){var a=0;if(r)return _p(t,a,e[e.length-1],n,o,i);if(o<t[n-1])return i?(t=t.slice(0,n),t[n-1]=o,t):null;if(t[t.length-1]<o)return i?(t=t.slice(t.length-n),t[n-1]=o,t):null;for(i=0,r=e.length;i<r;++i){var s=e[i];if(a!=s){if(o<t[a+n-1])break;if(o<=t[s-1])return _p(t,a,s,n,o,!1);a=s}}return null}function Pp(t,e){io.call(this),this.c=null,this.v=this.A=this.j=-1,this.pa(t,e)}function Sp(t){return t.j!=t.g&&(t.c=t.ph(.5,t.c),t.j=t.g),t.c}function Cp(t,e){io.call(this),this.c=[],this.j=this.v=-1,this.pa(t,e)}function Mp(t){var e=[],n=t.B,o=0,r=t.c;t=t.a;var a,s;for(a=0,s=r.length;a<s;++a){var p=r[a],o=xp(n,o,p,t,.5);i(e,o),o=p}return e}function Tp(t,e){var n,o,r=t.la,a=[],s=[];for(n=0,o=e.length;n<o;++n){var p=e[n];n||(r=p.la),i(a,p.ia()),s.push(a.length)}t.ca(r,a,s)}function Ap(t,e){io.call(this),this.pa(t,e)}function Ep(t,e){io.call(this),this.c=[],this.v=-1,this.A=null,this.I=this.C=this.G=-1,this.j=null,this.pa(t,e)}function Lp(t){if(t.v!=t.g){var e,n,o=t.B,i=t.c,r=t.a,a=0,s=[];for(e=0,n=i.length;e<n;++e){var p=i[e],a=B(o,a,p[0],r);s.push((a[0]+a[2])/2,(a[1]+a[3])/2),a=p[p.length-1]}for(o=Ip(t),i=t.c,r=t.a,e=0,n=[],p=0,a=i.length;p<a;++p){var h=i[p];n=Eo(o,e,h,r,s,2*p,n),e=h[h.length-1]}t.A=n,t.v=t.g}return t.A}function Ip(t){if(t.I!=t.g){var e,n=t.B;t:{e=t.c;var o,i;for(o=0,i=e.length;o<i;++o)if(!ko(n,e[o],t.a,void 0)){e=!1;break t}e=!0}e?t.j=n:(t.j=n.slice(),t.j.length=Do(t.j,t.c,t.a)),t.I=t.g}return t.j}function Np(t,e,n,o){ao(t,e,n),t.c=o,t.s()}function Op(t,e){var n,o,r,a=t.la,s=[],p=[];for(n=0,o=e.length;n<o;++n){var h=e[n];n||(a=h.la);var u=s.length;r=h.Sb();var l,c;for(l=0,c=r.length;l<c;++l)r[l]+=u;i(s,h.ia()),p.push(r)}Np(t,a,s,p)}function kp(t){t=t?t:{},dp.call(this),this.b=t.geometryName}function Rp(t,e){if(!t)return null;var n;if("number"==typeof t.x&&"number"==typeof t.y)n="Point";else if(t.points)n="MultiPoint";else if(t.paths)n=1===t.paths.length?"LineString":"MultiLineString";else if(t.rings){var o=t.rings,i=Dp(t),r=[],a=[];n=[];var s,p;for(s=0,p=o.length;s<p;++s)r.length=0,go(r,0,o[s],i.length),Oo(r,0,r.length,i.length)?a.push([o[s]]):n.push(o[s]);for(;n.length;){for(o=n.shift(),i=!1,s=a.length-1;0<=s;s--)if(k(new Po(a[s][0]).D(),new Po(o).D())){a[s].push(o),i=!0;break}i||a.push([o.reverse()])}t=sv({},t),1===a.length?(n="Polygon",t.rings=a[0]):(n="MultiPolygon",t.rings=a)}return gp((0,tm[n])(t),!1,e)}function Dp(t){var e="XY";return!0===t.hasZ&&!0===t.hasM?e="XYZM":!0===t.hasZ?e="XYZ":!0===t.hasM&&(e="XYM"),e}function Fp(t){return t=t.la,{hasZ:"XYZ"===t||"XYZM"===t,hasM:"XYM"===t||"XYZM"===t}}function jp(t,e){return(0,em[t.S()])(gp(t,!0,e),e)}function Kp(t){this.mc=t}function Bp(t,e){this.mc=t,this.b=Array.prototype.slice.call(arguments,1),d(2<=this.b.length,57)}function Xp(t){var e=["And"].concat(Array.prototype.slice.call(arguments));Bp.apply(this,e)}function Up(t,e,n){this.mc="BBOX",this.geometryName=t,this.extent=e,this.srsName=n}function Yp(t,e){this.mc=t,this.b=e}function Gp(t,e,n,o){Yp.call(this,t,e),this.g=n,this.a=o}function Wp(t,e,n){Gp.call(this,"PropertyIsEqualTo",t,e,n)}function zp(t,e){Gp.call(this,"PropertyIsGreaterThan",t,e)}function Hp(t,e){Gp.call(this,"PropertyIsGreaterThanOrEqualTo",t,e)}function qp(t,e,n,o){this.mc=t,this.geometryName=e||"the_geom",this.geometry=n,this.srsName=o}function Vp(t,e,n){qp.call(this,"Intersects",t,e,n)}function $p(t,e,n){Yp.call(this,"PropertyIsBetween",t),this.a=e,this.g=n}function Zp(t,e,n,o,i,r){Yp.call(this,"PropertyIsLike",t),this.c=e,this.f=void 0!==n?n:"*",this.i=void 0!==o?o:".",this.g=void 0!==i?i:"!",this.a=r}function Jp(t){Yp.call(this,"PropertyIsNull",t)}function Qp(t,e){Gp.call(this,"PropertyIsLessThan",t,e)}function th(t,e){Gp.call(this,"PropertyIsLessThanOrEqualTo",t,e)}function eh(t){this.mc="Not",this.condition=t}function nh(t,e,n){Gp.call(this,"PropertyIsNotEqualTo",t,e,n)}function oh(t){var e=["Or"].concat(Array.prototype.slice.call(arguments));Bp.apply(this,e)}function ih(t,e,n){qp.call(this,"Within",t,e,n)}function rh(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(Xp,e))}function ah(t,e,n){return new Up(t,e,n)}function sh(t){eo.call(this),this.a=t?t:null,uh(this)}function ph(t){var e,n,o=[];for(e=0,n=t.length;e<n;++e)o.push(t[e].clone());return o}function hh(t){var e,n;if(t.a)for(e=0,n=t.a.length;e<n;++e)ie(t.a[e],"change",t.s,t)}function uh(t){var e,n;if(t.a)for(e=0,n=t.a.length;e<n;++e)ne(t.a[e],"change",t.s,t)}function lh(t){t=t?t:{},dp.call(this),this.defaultDataProjection=Ct(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326"),t.featureProjection&&(this.i=Ct(t.featureProjection)),this.b=t.geometryName}function ch(t,e){return t?gp((0,nm[t.type])(t),!1,e):null}function fh(t,e){return(0,om[t.S()])(gp(t,!0,e),e)}function dh(){this.g=new XMLSerializer,dp.call(this)}function yh(t,e,n){return t=vh(t,e,n),0<t.length?t[0]:null}function vh(t,e,n){var o=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&i(o,t.Bc(e,n));return o}function gh(t){t=t?t:{},this.featureType=t.featureType,this.featureNS=t.featureNS,this.srsName=t.srsName,this.schemaLocation="",this.b={},this.b["http://www.opengis.net/gml"]={featureMember:tp(gh.prototype.ae),featureMembers:tp(gh.prototype.ae)},dh.call(this)}function mh(t){return t=Hs(t,!1),bh(t)}function bh(t){if(t=/^\s*(true|1)|(false|0)\s*$/.exec(t))return void 0!==t[1]||!1}function xh(t){return t=Hs(t,!1),t=Date.parse(t),isNaN(t)?void 0:t/1e3}function _h(t){return t=Hs(t,!1),wh(t)}function wh(t){if(t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t))return parseFloat(t[1])}function Ph(t){return t=Hs(t,!1),Sh(t)}function Sh(t){if(t=/^\s*(\d+)\s*$/.exec(t))return parseInt(t[1],10)}function Ch(t){return Hs(t,!1).trim()}function Mh(t,e){Eh(t,e?"1":"0")}function Th(t,e){t.appendChild(Jg.createTextNode(e.toPrecision()))}function Ah(t,e){t.appendChild(Jg.createTextNode(e.toString()))}function Eh(t,e){t.appendChild(Jg.createTextNode(e))}function Lh(t){t=t?t:{},gh.call(this,t),this.o=void 0!==t.surface&&t.surface,this.c=void 0!==t.curve&&t.curve,this.f=void 0===t.multiCurve||t.multiCurve,this.j=void 0===t.multiSurface||t.multiSurface,this.schemaLocation=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd"}function Ih(t,e,n){n=n[n.length-1].srsName,e=e.W();for(var o,i=e.length,r=Array(i),a=0;a<i;++a){o=e[a];var s=a,p="enu";n&&(p=Ct(n).b),r[s]="en"===p.substr(0,2)?o[0]+" "+o[1]:o[1]+" "+o[0]}Eh(t,r.join(" "))}function Nh(t){t=t?t:{},gh.call(this,t),this.b["http://www.opengis.net/gml"].featureMember=Qs(gh.prototype.ae),this.schemaLocation=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd"}function Oh(t){return t=zs(t,"coordinates"),t.setAttribute("decimal","."),t.setAttribute("cs",","),t.setAttribute("ts"," "),t}function kh(t,e,n){n=n[n.length-1].srsName,e=e.W();for(var o,i=e.length,r=Array(i),a=0;a<i;++a)o=e[a],r[a]=Rh(o,n);Eh(t,r.join(" "))}function Rh(t,e){var n="enu";return e&&(n=Ct(e).b),"en"===n.substr(0,2)?t[0]+","+t[1]:t[1]+","+t[0]}function Dh(t){t=t?t:{},dh.call(this),this.defaultDataProjection=Ct("EPSG:4326"),this.b=t.readExtensions}function Fh(t,e,n,o){return t.push(parseFloat(n.getAttribute("lon")),parseFloat(n.getAttribute("lat"))),"ele"in o?(t.push(o.ele),delete o.ele,e.hasZ=!0):t.push(0),"time"in o?(t.push(o.time),delete o.time,e.hasM=!0):t.push(0),t}function jh(t,e,n){var o="XY",i=2;if(t.hasZ&&t.hasM?(o="XYZM",i=4):t.hasZ?(o="XYZ",i=3):t.hasM&&(o="XYM",i=3),4!==i){var r,a;for(r=0,a=e.length/4;r<a;r++)e[r*i]=e[4*r],e[r*i+1]=e[4*r+1],t.hasZ&&(e[r*i+2]=e[4*r+2]),t.hasM&&(e[r*i+2]=e[4*r+3]);if(e.length=e.length/4*i,n)for(r=0,a=n.length;r<a;r++)n[r]=n[r]/4*i}return o}function Kh(t,e){var n=e[e.length-1],o=t.getAttribute("href");null!==o&&(n.link=o),pp(wm,t,e)}function Bh(t,e){e[e.length-1].extensionsNode_=t}function Xh(t,e){var n=e[0],o=hp({flatCoordinates:[],layoutOptions:{}},Pm,t,e);if(o){var i=o.flatCoordinates;delete o.flatCoordinates;var r=o.layoutOptions;delete o.layoutOptions;var r=jh(r,i),a=new Pp(null);return a.ca(r,i),gp(a,!1,n),n=new Gs(a),n.H(o),n}}function Uh(t,e){var n=e[0],o=hp({flatCoordinates:[],ends:[],layoutOptions:{}},Cm,t,e);if(o){var i=o.flatCoordinates;delete o.flatCoordinates;var r=o.ends;delete o.ends;var a=o.layoutOptions;delete o.layoutOptions;
var a=jh(a,i,r),s=new Cp(null);return s.ca(a,i,r),gp(s,!1,n),n=new Gs(s),n.H(o),n}}function Yh(t,e){var n=e[0],o=hp({},Am,t,e);if(o){var i={},r=Fh([],i,t,o),i=jh(i,r),r=new Co(r,i);return gp(r,!1,n),n=new Gs(r),n.H(o),n}}function Gh(t,e){e||(e=[]);for(var n=0,o=e.length;n<o;++n){var i=e[n];if(t.b){var r=i.get("extensionsNode_")||null;t.b(i,r)}i.set("extensionsNode_",void 0)}}function Wh(t,e,n){t.setAttribute("href",e),e=n[n.length-1].properties,lp({node:t},Lm,Qg,[e.linkText,e.linkType],n,Em)}function zh(t,e,n){var o=n[n.length-1],i=o.node.namespaceURI,r=o.properties;switch(t.setAttributeNS(null,"lat",e[1]),t.setAttributeNS(null,"lon",e[0]),o.geometryLayout){case"XYZM":e[3]&&(r.time=e[3]);case"XYZ":e[2]&&(r.ele=e[2]);break;case"XYM":e[2]&&(r.time=e[2])}e="rtept"==t.nodeName?Om[i]:jm[i],o=ap(r,e),lp({node:t,properties:r},Km,Qg,o,n,e)}function Hh(t,e){var n=t.U();if(n&&(n=Bm[n.S()]))return zs(e[e.length-1].node.namespaceURI,n)}function qh(){dp.call(this)}function Vh(t){return"string"==typeof t?t:""}function $h(t){t=t?t:{},dp.call(this),this.defaultDataProjection=Ct("EPSG:4326"),this.b=t.altitudeMode?t.altitudeMode:"none"}function Zh(t,e,n,o,i,r){le.call(this),this.j=null,this.N=t?t:new Image,null!==o&&(this.N.crossOrigin=o),this.c=r?document.createElement("CANVAS"):null,this.f=r,this.i=null,this.g=i,this.a=n,this.l=e,this.o=!1,2==this.g&&Jh(this)}function Jh(t){var e=Te(1,1);try{e.drawImage(t.N,0,0),e.getImageData(0,0,1,1)}catch(e){t.o=!0}}function Qh(t){t=t||{},this.l=void 0!==t.anchor?t.anchor:[.5,.5],this.v=null,this.a=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.C=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.G=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.ta=void 0!==t.crossOrigin?t.crossOrigin:null;var e=void 0!==t.img?t.img:null,n=void 0!==t.imgSize?t.imgSize:null,o=t.src;d(!(void 0!==o&&e),4),d(!e||e&&n,5),void 0!==o&&o.length||!e||(o=e.src||c(e).toString()),d(void 0!==o&&0<o.length,6);var i=void 0!==t.src?0:2;this.i=void 0!==t.color?we(t.color):null;var r=this.ta,a=this.i,s=ig.get(o,r,a);s||(s=new Zh(e,o,n,r,i,a),ig.set(o,r,a,s)),this.b=s,this.qa=void 0!==t.offset?t.offset:[0,0],this.g=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.O=null,this.A=void 0!==t.size?t.size:null,ks.call(this,{opacity:void 0!==t.opacity?t.opacity:1,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView})}function tu(t){t=t||{},this.a=t.font,this.i=t.rotation,this.l=t.rotateWithView,this.b=t.scale,this.Fa=t.text,this.f=t.textAlign,this.j=t.textBaseline,this.Wa=void 0!==t.fill?t.fill:new js({color:"#333"}),this.Za=void 0!==t.stroke?t.stroke:null,this.g=void 0!==t.offsetX?t.offsetX:0,this.c=void 0!==t.offsetY?t.offsetY:0}function eu(t){t=t?t:{},dh.call(this),zm||(Hm=[255,255,255,1],qm=new js({color:Hm}),Vm=[20,2],Zm=$m="pixels",Jm=[64,64],Qm="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",tb=.5,eb=new Qh({anchor:Vm,anchorOrigin:"bottom-left",anchorXUnits:$m,anchorYUnits:Zm,crossOrigin:"anonymous",rotation:0,scale:tb,size:Jm,src:Qm}),nb="NO_IMAGE",ob=new Ca({color:Hm,width:1}),ib=new Ca({color:[51,51,51,1],width:2}),rb=new tu({font:"bold 16px Helvetica",fill:qm,stroke:ib,scale:.8}),ab=new Ks({fill:qm,image:eb,text:rb,stroke:ob,zIndex:0}),zm=[ab]),this.defaultDataProjection=Ct("EPSG:4326"),this.a=t.defaultStyle?t.defaultStyle:zm,this.c=void 0===t.extractStyles||t.extractStyles,this.j=void 0===t.writeStyles||t.writeStyles,this.b={},this.f=void 0===t.showPointNames||t.showPointNames}function nu(t,e){var n,o=[0,0],i="start";if(t.Y()&&(n=t.Y().ye(),null===n&&(n=Jm),2==n.length&&(i=t.Y().c,o[0]=i*n[0]/2,o[1]=-i*n[1]/2,i="left")),null!==t.Oa()){var r=t.Oa();n=r.clone(),n.ij(r.a||rb.a),n.Mi(r.b||rb.b),n.mf(r.Ca()||rb.Ca()),n.nf(r.Da()||ib)}else n=rb.clone();return n.pf(e),n.oj(o[0]),n.pj(o[1]),n.rj(i),new Ks({text:n})}function ou(t,e,n,o,i){return function(){var r=i,a="";if(r&&this.U()&&(r="Point"===this.U().S()),r&&(a=this.get("name"),r=r&&a),t)return r?(r=nu(t[0],a),t.concat(r)):t;if(e){var s=iu(e,n,o);return r?(r=nu(s[0],a),s.concat(r)):s}return r?(r=nu(n[0],a),n.concat(r)):n}}function iu(t,e,n){return Array.isArray(t)?t:"string"==typeof t?(!(t in n)&&"#"+t in n&&(t="#"+t),iu(n[t],e,n)):e}function ru(t){if(t=Hs(t,!1),t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t))return t=t[1],[parseInt(t.substr(6,2),16),parseInt(t.substr(4,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(0,2),16)/255]}function au(t){t=Hs(t,!1);for(var e,n=[],o=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;e=o.exec(t);)n.push(parseFloat(e[1]),parseFloat(e[2]),e[3]?parseFloat(e[3]):0),t=t.substr(e[0].length);if(""===t)return n}function su(t){var e=Hs(t,!1).trim();return t.baseURI?new URL(e,t.baseURI).href:e}function pu(t){return _h(t)}function hu(t,e){return hp(null,vb,t,e)}function uu(t,e){var n=hp({B:[],Aj:[]},mb,t,e);if(n){var o,i,r=n.B,n=n.Aj;for(o=0,i=Math.min(r.length,n.length);o<i;++o)r[4*o+3]=n[o];return n=new Pp(null),n.ca("XYZM",r),n}}function lu(t,e){var n=hp({},yb,t,e),o=hp(null,bb,t,e);if(o){var i=new Pp(null);return i.ca("XYZ",o),i.H(n),i}}function cu(t,e){var n=hp({},yb,t,e),o=hp(null,bb,t,e);if(o){var i=new Fo(null);return i.ca("XYZ",o,[o.length]),i.H(n),i}}function fu(t,e){var n=hp([],Cb,t,e);if(!n)return null;if(!n.length)return new sh(n);var o,r,a,s,p=!0,h=n[0].S();for(a=1,s=n.length;a<s;++a)if(r=n[a],r.S()!=h){p=!1;break}if(p)if("Point"==h){for(o=n[0],p=o.la,h=o.ia(),a=1,s=n.length;a<s;++a)r=n[a],i(h,r.ia());o=new Ap(null),o.ca(p,h),gu(o,n)}else"LineString"==h?(o=new Cp(null),Tp(o,n),gu(o,n)):"Polygon"==h?(o=new Ep(null),Op(o,n),gu(o,n)):"GeometryCollection"==h?o=new sh(n):d(!1,37);else o=new sh(n);return o}function du(t,e){var n=hp({},yb,t,e),o=hp(null,bb,t,e);if(o){var i=new Co(null);return i.ca("XYZ",o),i.H(n),i}}function yu(t,e){var n=hp({},yb,t,e),o=hp([null],gb,t,e);if(o&&o[0]){var r,a,s=new Fo(null),p=o[0],h=[p.length];for(r=1,a=o.length;r<a;++r)i(p,o[r]),h.push(p.length);return s.ca("XYZ",p,h),s.H(n),s}}function vu(t,e){var n=hp({},kb,t,e);if(!n)return null;var o="fillStyle"in n?n.fillStyle:qm,i=n.fill;void 0===i||i||(o=null),i="imageStyle"in n?n.imageStyle:eb,i==nb&&(i=void 0);var r="textStyle"in n?n.textStyle:rb,a="strokeStyle"in n?n.strokeStyle:ob,n=n.outline;return void 0===n||n||(a=null),[new Ks({fill:o,image:i,stroke:a,text:r,zIndex:void 0})]}function gu(t,e){var n,o,i,r,a=e.length,s=Array(e.length),p=Array(e.length);for(i=r=!1,o=0;o<a;++o)n=e[o],s[o]=n.get("extrude"),p[o]=n.get("altitudeMode"),i=i||void 0!==s[o],r=r||p[o];i&&t.set("extrude",s),r&&t.set("altitudeMode",p)}function mu(t,e){pp(lb,t,e)}function bu(t,e){pp(cb,t,e)}function xu(t,e){var n;for(n=e.firstChild;n;n=n.nextSibling)if(n.nodeType==Node.ELEMENT_NODE){var o=_u(t,n);if(o)return o}}function _u(t,e){var o;for(o=e.firstElementChild;o;o=o.nextElementSibling)if(n(pb,o.namespaceURI)&&"name"==o.localName)return Ch(o);for(o=e.firstElementChild;o;o=o.nextElementSibling){var i=o.localName;if(n(pb,o.namespaceURI)&&("Document"==i||"Folder"==i||"Placemark"==i||"kml"==i)&&(i=_u(t,o)))return i}}function wu(t,e){var n,o=[];for(n=e.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&i(o,Pu(t,n));return o}function Pu(t,e){var o,r=[];for(o=e.firstElementChild;o;o=o.nextElementSibling)if(n(pb,o.namespaceURI)&&"NetworkLink"==o.localName){var a=hp({},Tb,o,[]);r.push(a)}for(o=e.firstElementChild;o;o=o.nextElementSibling)a=o.localName,!n(pb,o.namespaceURI)||"Document"!=a&&"Folder"!=a&&"kml"!=a||i(r,Pu(t,o));return r}function Su(t,e){var n,o=[];for(n=e.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&i(o,t.jf(n));return o}function Cu(t,e){var n,o=we(e),o=[255*(4==o.length?o[3]:1),o[2],o[1],o[0]];for(n=0;4>n;++n){var i=parseInt(o[n],10).toString(16);o[n]=1==i.length?"0"+i:i}Eh(t,o.join(""))}function Mu(t,e,n){t={node:t};var o,i,r=e.S();"GeometryCollection"==r?(o=e.Qf(),i=ku):"MultiPoint"==r?(o=e.Zd(),i=hx):"MultiLineString"==r?(o=e.Nc(),i=ux):"MultiPolygon"==r?(o=e.md(),i=cx):d(!1,39),lp(t,$b,i,o,n)}function Tu(t,e,n){lp({node:t},Vb,lx,[e],n)}function Au(t,e,n){var o={node:t};e.a&&t.setAttribute("id",e.a),t=e.M();var i={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};i[e.c]=1;var r=Object.keys(t||{}).sort().filter(function(t){return!i[t]});if(0<r.length){var a=ap(t,r);lp(o,Jb,sx,[{names:r,values:a}],n)}(r=e.Rc())&&(r=r.call(e,0))&&(r=Array.isArray(r)?r[0]:r,this.j&&(t.Style=r),(r=r.Oa())&&(t.name=r.Oa())),r=Zb[n[n.length-1].node.namespaceURI],t=ap(t,r),lp(o,Jb,Qg,t,n,r),t=n[0],(e=e.U())&&(e=gp(e,!0,t)),lp(o,Jb,ku,[e],n)}function Eu(t,e,n){var o=e.ia();t={node:t},t.layout=e.la,t.stride=e.sa(),lp(t,Qb,rx,[o],n)}function Lu(t,e,n){e=e.Oc();var o=e.shift();t={node:t},lp(t,tx,px,e,n),lp(t,tx,fx,[o],n)}function Iu(t,e){Th(t,Math.round(1e6*e)/1e6)}function Nu(t,e,n){return zs(sb[0],"gx:"+n)}function Ou(t,e){return zs(e[e.length-1].node.namespaceURI,"Placemark")}function ku(t,e){if(t)return zs(e[e.length-1].node.namespaceURI,Bb[t.S()])}function Ru(t,e,n,o){this.g=t,this.b=e,this.i=n,this.c=o}function Du(t){dp.call(this),t=t?t:{},this.defaultDataProjection=new ut({code:"",units:"tile-pixels"}),this.b=t.featureClass?t.featureClass:Ru,this.g=t.geometryName,this.a=t.layerName?t.layerName:"layer",this.c=t.layers?t.layers:null}function Fu(t,e,n){for(var o=0,i=0,r=t.length;i<r;++i){var a,s,p=t[i];for(a=0,s=p.length;a<s;++a){var h=p[a];e.push(h.x,h.y)}o+=2*a,n.push(o)}}function ju(){dh.call(this),this.defaultDataProjection=Ct("EPSG:4326")}function Ku(t,e){e[e.length-1].ee[t.getAttribute("k")]=t.getAttribute("v")}function Bu(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}function Xu(){}function Uu(){}function Yu(t,e,n,o){var i;i=void 0!==o?o:[];for(var r=o=0;r<e;){var a=t[r++];for(i[o++]=t[r++],i[o++]=a,a=2;a<n;++a)i[o++]=t[r++]}i.length=o}function Gu(t){t=t?t:{},dp.call(this),this.defaultDataProjection=Ct("EPSG:4326"),this.b=t.factor?t.factor:1e5,this.a=t.geometryLayout?t.geometryLayout:"XY"}function Wu(t,e,n){var o,i=Array(e);for(o=0;o<e;++o)i[o]=0;var r,a;for(r=0,a=t.length;r<a;)for(o=0;o<e;++o,++r){var s=t[r],p=s-i[o];i[o]=s,t[r]=p}return Hu(t,n?n:1e5)}function zu(t,e,n){var o,i=Array(e);for(o=0;o<e;++o)i[o]=0;t=qu(t,n?n:1e5);var r;for(n=0,r=t.length;n<r;)for(o=0;o<e;++o,++n)i[o]+=t[n],t[n]=i[o];return t}function Hu(t,e){var n,o,i=e?e:1e5;for(n=0,o=t.length;n<o;++n)t[n]=Math.round(t[n]*i);for(i=0,n=t.length;i<n;++i)o=t[i],t[i]=0>o?~(o<<1):o<<1;for(i="",n=0,o=t.length;n<o;++n){for(var r,a=t[n],s="";32<=a;)r=(32|31&a)+63,s+=String.fromCharCode(r),a>>=5;s+=String.fromCharCode(a+63),i+=s}return i}function qu(t,e){var n,o,i=e?e:1e5,r=[],a=0,s=0;for(n=0,o=t.length;n<o;++n){var p=t.charCodeAt(n)-63,a=a|(31&p)<<s;32>p?(r.push(a),s=a=0):s+=5}for(a=0,s=r.length;a<s;++a)n=r[a],r[a]=1&n?~(n>>1):n>>1;for(a=0,s=r.length;a<s;++a)r[a]/=i;return r}function Vu(t){t=t?t:{},dp.call(this),this.defaultDataProjection=Ct(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326")}function $u(t,e){var n,o,i,r,a=[];for(i=0,r=t.length;i<r;++i)n=t[i],0<i&&a.pop(),o=0<=n?e[n]:e[~n].slice().reverse(),a.push.apply(a,o);for(n=0,o=a.length;n<o;++n)a[n]=a[n].slice();return a}function Zu(t,e,n,o,i){t=t.geometries;var r,a,s=[];for(r=0,a=t.length;r<a;++r)s[r]=Ju(t[r],e,n,o,i);return s}function Ju(t,e,n,o,i){var r=t.type,a=Ox[r];return e="Point"===r||"MultiPoint"===r?a(t,n,o):a(t,e),n=new Gs,n.Ta(gp(e,!1,i)),void 0!==t.id&&n.lc(t.id),t.properties&&n.H(t.properties),n}function Qu(t,e,n){t[0]=t[0]*e[0]+n[0],t[1]=t[1]*e[1]+n[1]}function tl(t){t=t?t:{},this.c=t.featureType,this.a=t.featureNS,this.b=t.gmlFormat?t.gmlFormat:new Lh,this.l=t.schemaLocation?t.schemaLocation:kx["1.1.0"],dh.call(this)}function el(t,e){for(var n=e.firstChild;n;n=n.nextSibling)if(n.nodeType==Node.ELEMENT_NODE)return nl(t,n)}function nl(t,e){var n={},o=Sh(e.getAttribute("numberOfFeatures"));return n.numberOfFeatures=o,hp(n,Rx,e,[],t.b)}function ol(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return hp({},Kx,t,[])}function il(t,e){var n=zs("http://www.opengis.net/ogc","Filter"),o=zs("http://www.opengis.net/ogc","FeatureId");n.appendChild(o),o.setAttribute("fid",e),t.appendChild(n)}function rl(t,e,n){var o={node:t};e.b.forEach(function(t){lp(o,Ux,rp(t.mc),[t],n)})}function al(t,e){void 0!==e.a&&t.setAttribute("matchCase",e.a.toString()),pl(t,e.b),hl(t,""+e.g)}function sl(t,e,n){t=zs("http://www.opengis.net/ogc",t),Eh(t,n),e.appendChild(t)}function pl(t,e){sl("PropertyName",t,e)}function hl(t,e){sl("Literal",t,e)}function ul(t){t=t?t:{},dp.call(this),this.b=void 0!==t.splitCollection&&t.splitCollection}function ll(t){return t=t.W(),t.length?t.join(" "):""}function cl(t){t=t.W();for(var e=[],n=0,o=t.length;n<o;++n)e.push(t[n].join(" "));return e.join(",")}function fl(t){var e=[];t=t.Oc();for(var n=0,o=t.length;n<o;++n)e.push("("+cl(t[n])+")");return e.join(",")}function dl(t){var e=t.S(),n=(0,Yx[e])(t),e=e.toUpperCase();if(t instanceof io){t=t.la;var o="";"XYZ"!==t&&"XYZM"!==t||(o+="Z"),"XYM"!==t&&"XYZM"!==t||(o+="M"),t=o,0<t.length&&(e+=" "+t)}return n.length?e+"("+n+")":e+" EMPTY"}function yl(t){this.a=t,this.b=-1}function vl(t){var e=t.a.charAt(++t.b),n={position:t.b,value:e};if("("==e)n.type=2;else if(","==e)n.type=5;else if(")"==e)n.type=3;else if("0"<=e&&"9">=e||"."==e||"-"==e){n.type=4;var o,e=t.b,i=!1,r=!1;do"."==o?i=!0:"e"!=o&&"E"!=o||(r=!0),o=t.a.charAt(++t.b);while("0"<=o&&"9">=o||"."==o&&(void 0===i||!i)||!r&&("e"==o||"E"==o)||r&&("-"==o||"+"==o));t=parseFloat(t.a.substring(e,t.b--)),n.value=t}else if("a"<=e&&"z">=e||"A"<=e&&"Z">=e){n.type=1,e=t.b;do o=t.a.charAt(++t.b);while("a"<=o&&"z">=o||"A"<=o&&"Z">=o);t=t.a.substring(e,t.b--).toUpperCase(),n.value=t}else{if(" "==e||"\t"==e||"\r"==e||"\n"==e)return vl(t);if(""!==e)throw Error("Unexpected character: "+e);n.type=6}return n}function gl(t){this.g=t,this.a="XY"}function ml(t){t.b=vl(t.g)}function bl(t,e){var n=t.b.type==e;return n&&ml(t),n}function xl(t){var e=t.b;if(bl(t,1)){var e=e.value,n="XY",o=t.b;if(1==t.b.type&&(o=o.value,"Z"===o?n="XYZ":"M"===o?n="XYM":"ZM"===o&&(n="XYZM"),"XY"!==n&&ml(t)),t.a=n,"GEOMETRYCOLLECTION"==e){t:{if(bl(t,2)){e=[];do e.push(xl(t));while(bl(t,5));if(bl(t,3)){t=e;break t}}else if(Sl(t)){t=[];break t}throw Error(Cl(t))}return new sh(t)}if(o=Wx[e],n=Gx[e],!o||!n)throw Error("Invalid geometry type: "+e);return e=o.call(t),new n(e,t.a)}throw Error(Cl(t))}function _l(t){for(var e=[],n=t.a.length,o=0;o<n;++o){var i=t.b;if(!bl(t,4))break;e.push(i.value)}if(e.length==n)return e;throw Error(Cl(t))}function wl(t){for(var e=[_l(t)];bl(t,5);)e.push(_l(t));return e}function Pl(t){for(var e=[t.mg()];bl(t,5);)e.push(t.mg());return e}function Sl(t){var e=1==t.b.type&&"EMPTY"==t.b.value;return e&&ml(t),e}function Cl(t){return"Unexpected `"+t.b.value+"` at position "+t.b.position+" in `"+t.g.a+"`"}function Ml(){this.version=void 0}function Tl(t,e){return hp({},p_,t,e)}function Al(t,e){return hp({},i_,t,e)}function El(t,e){var n=Tl(t,e);if(n){var o=[Sh(t.getAttribute("width")),Sh(t.getAttribute("height"))];return n.size=o,n}}function Ll(t,e){return hp([],h_,t,e)}function Il(t){t=t?t:{},this.a="http://mapserver.gis.umn.edu/mapserver",this.b=new Nh,this.c=t.layers?t.layers:null,dh.call(this)}function Nl(){this.g=new Uu}function Ol(t){var e=Ch(t).split(" ");if(e&&2==e.length&&(t=+e[0],e=+e[1],!isNaN(t)&&!isNaN(e)))return[t,e]}function kl(t){de.call(this),t=t||{},this.a=null,this.i=Et,this.c=void 0,ne(this,ye("projection"),this.wm,this),ne(this,ye("tracking"),this.xm,this),void 0!==t.projection&&this.Ph(Ct(t.projection)),void 0!==t.trackingOptions&&this.sj(t.trackingOptions),this.Je(void 0!==t.tracking&&t.tracking)}function Rl(t,e,n){io.call(this),this.Gg(t,e?e:0,n)}function Dl(t){var e=t.B[t.a]-t.B[0];return t=t.B[t.a+1]-t.B[1],e*e+t*t}function Fl(t,e,n){for(var o,i,r,a,s,p=[],h=t(0),u=t(1),l=e(h),c=e(u),f=[u,h],d=[c,l],y=[1,0],v={},g=1e5;0<--g&&0<y.length;)r=y.pop(),h=f.pop(),l=d.pop(),u=r.toString(),u in v||(p.push(l[0],l[1]),v[u]=!0),a=y.pop(),u=f.pop(),c=d.pop(),s=(r+a)/2,o=t(s),i=e(o),_(i[0],i[1],l[0],l[1],c[0],c[1])<n?(p.push(c[0],c[1]),u=a.toString(),v[u]=!0):(y.push(a,s,s,r),d.push(c,i,i,l),f.push(u,o,o,h));return p}function jl(t,e,n,o,i){var r=Ct("EPSG:4326");return Fl(function(o){return[t,e+(n-e)*o]},Tt(r,o),i)}function Kl(t,e,n,o,i){var r=Ct("EPSG:4326");return Fl(function(o){return[e+(n-e)*o,t]},Tt(r,o),i)}function Bl(t){t=t||{},this.i=this.l=null,this.g=this.f=1/0,this.c=this.j=-(1/0),this.A=this.O=1/0,this.G=this.C=-(1/0),this.I=void 0!==t.targetSize?t.targetSize:100,this.qa=void 0!==t.maxLines?t.maxLines:100,this.b=[],this.a=[],this.ta=void 0!==t.strokeStyle?t.strokeStyle:P_,this.v=this.o=void 0,this.u=null,this.setMap(void 0!==t.map?t.map:null)}function Xl(t,e,n,o,i,r,a){var s=a;return e=jl(e,n,o,t.i,i),s=void 0!==t.b[s]?t.b[s]:new Pp(null),s.ca("XY",e),nt(s.D(),r)&&(t.b[a++]=s),a}function Ul(t,e,n,o,i){var r=i;return e=Kl(e,t.c,t.g,t.i,n),r=void 0!==t.a[r]?t.a[r]:new Pp(null),r.ca("XY",e),nt(r.D(),o)&&(t.a[i++]=r),i}function Yl(t,e,n,o,i){le.call(this),this.i=i,this.extent=t,this.a=n,this.resolution=e,this.state=o}function Gl(t,e,n,o,i,r,a){Yl.call(this,t,e,n,0,o),this.j=i,this.N=new Image,null!==r&&(this.N.crossOrigin=r),this.c={},this.g=null,this.state=0,this.f=a}function Wl(t,e,n,o,i,r){this.c=r?r:null,Yl.call(this,t,e,n,r?0:2,o),this.g=i}function zl(t,e){le.call(this),this.Ga=t,this.state=e,this.a=null,this.key=""}function Hl(t){if(!t.a)return t;var e=t.a;do{if(2==e.V())return e;e=e.a}while(e);return t}function ql(t,e,n,o,i){zl.call(this,t,e),this.f=n,this.N=new Image,null!==o&&(this.N.crossOrigin=o),this.c=null,this.l=i}function Vl(t){t.c.forEach(re),t.c=null}function $l(t){t=t?t:{},oi.call(this,{handleEvent:Qn}),this.f=t.formatConstructors?t.formatConstructors:[],this.l=t.projection?Ct(t.projection):null,this.a=null,this.target=t.target?t.target:null}function Zl(t){t=t.dataTransfer.files;var e,n,o;for(e=0,n=t.length;e<n;++e){o=t.item(e);var i=new FileReader;i.addEventListener("load",this.j.bind(this,o)),i.readAsText(o)}}function Jl(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}function Ql(t,e,n,o){he.call(this,t),this.features=n,this.file=e,this.projection=o}function tc(t){t=t?t:{},mi.call(this,{handleDownEvent:oc,handleDragEvent:ec,handleUpEvent:nc}),this.o=t.condition?t.condition:di,this.a=this.f=void 0,this.j=0,this.u=void 0!==t.duration?t.duration:400}function ec(t){if(vi(t)){var e=t.map,n=e.Nb(),o=t.pixel;t=o[0]-n[0]/2,o=n[1]/2-o[1],n=Math.atan2(o,t),t=Math.sqrt(t*t+o*o),e=e.$(),void 0!==this.f&&(o=n-this.f,ii(e,e.Sa()-o)),this.f=n,void 0!==this.a&&(n=this.a*(e.Ra()/t),ai(e,n)),void 0!==this.a&&(this.j=this.a/t),this.a=t}}function nc(t){if(!vi(t))return!0;t=t.map.$(),ti(t,1,-1);var e=this.j-1,n=t.Sa(),n=t.constrainRotation(n,0);ii(t,n,void 0,void 0);var n=t.Ra(),o=this.u,n=t.constrainResolution(n,0,e);return ai(t,n,void 0,o),this.j=0,!1}function oc(t){return!(!vi(t)||!this.o(t))&&(ti(t.map.$(),1,1),this.a=this.f=void 0,!0)}function ic(t,e,n,o){this.na=t,this.T=e,this.overlaps=o,this.c=0,this.resolution=n,this.I=this.ta=null,this.a=[],this.coordinates=[],this.ea=ar(),this.b=[],this.qa=null,this.mb=ar(),this.fa=ar()}function rc(t,e,n,o,i,r,a){var s=t.coordinates.length,p=t.Nf();a&&(n+=i),a=[e[n],e[n+1]];var h,u,l,c=[NaN,NaN],f=!0;for(h=n+i;h<o;h+=i)c[0]=e[h],c[1]=e[h+1],l=D(p,c),l!==u?(f&&(t.coordinates[s++]=a[0],t.coordinates[s++]=a[1]),t.coordinates[s++]=c[0],t.coordinates[s++]=c[1],f=!1):1===l?(t.coordinates[s++]=c[0],t.coordinates[s++]=c[1],f=!1):f=!0,a[0]=c[0],a[1]=c[1],u=l;return(r&&f||h===n+i)&&(t.coordinates[s++]=a[0],t.coordinates[s++]=a[1]),s}function ac(t,e){t.ta=[0,e,0],t.a.push(t.ta),t.I=[0,e,0],t.b.push(t.I)}function sc(t,e,n,o,i,r,s,p,h){var u;t.qa&&a(o,t.ea)?u=t.qa:(t.qa||(t.qa=[]),u=no(t.coordinates,0,t.coordinates.length,2,o,t.qa),ur(t.ea,o)),o=!pt(r);for(var l,f,d,y,v,g=0,m=s.length,b=0,x=t.mb,_=t.fa,w=0,P=0,S=t.a!=s||t.overlaps?0:200;g<m;){var C,M,T,A,E=s[g];switch(E[0]){case 0:b=E[1],o&&r[c(b).toString()]||!b.U()?g=E[2]:void 0===h||nt(h,b.U().D())?++g:g=E[2]+1;break;case 1:w>S&&(t.Wa(e,i),w=0),P>S&&(e.stroke(),P=0),w||P||(e.beginPath(),f=d=NaN),++g;break;case 2:b=E[1],l=u[b],E=u[b+1],y=u[b+2]-l,b=u[b+3]-E,b=Math.sqrt(y*y+b*b),e.moveTo(l+b,E),e.arc(l,E,b,0,2*Math.PI,!0),++g;break;case 3:e.closePath(),++g;break;case 4:b=E[1],l=E[2],C=E[3],M=E[4]*n,T=E[5]*n;var L=E[6],I=E[7],N=E[8],O=E[9];A=E[10],y=E[11],v=E[12];var k=E[13],R=E[14];for(A&&(y+=i);b<l;b+=2){if(E=u[b]-M,A=u[b+1]-T,k&&(E=Math.round(E),A=Math.round(A)),1!=v||y){var D=E+M,F=A+T;yr(x,D,F,v,v,y,-D,-F),e.setTransform.apply(e,x)}D=e.globalAlpha,1!=I&&(e.globalAlpha=D*I);var F=R+N>C.width?C.width-N:R,j=L+O>C.height?C.height-O:L;e.drawImage(C,N,O,F,j,E,A,F*n,j*n),1!=I&&(e.globalAlpha=D),(1!=v||y)&&e.setTransform.apply(e,_)}++g;break;case 5:for(b=E[1],l=E[2],T=E[3],L=E[4]*n,I=E[5]*n,y=E[6],v=E[7]*n,C=E[8],M=E[9],(A=E[10])&&(y+=i);b<l;b+=2){for(E=u[b]+L,A=u[b+1]+I,(1!=v||y)&&(yr(x,E,A,v,v,y,-E,-A),e.setTransform.apply(e,x)),N=T.split("\n"),O=N.length,1<O?(k=Math.round(1.5*e.measureText("M").width),A-=(O-1)/2*k):k=0,R=0;R<O;R++)D=N[R],M&&e.strokeText(D,E,A),C&&e.fillText(D,E,A),A+=k;(1!=v||y)&&e.setTransform.apply(e,_)}++g;break;case 6:if(p&&(b=E[1],b=p(b)))return b;++g;break;case 7:S?w++:t.Wa(e,i),++g;break;case 8:for(b=E[1],l=E[2],E=u[b],A=u[b+1],y=E+.5|0,v=A+.5|0,y===f&&v===d||(e.moveTo(E,A),f=y,d=v),b+=2;b<l;b+=2)E=u[b],A=u[b+1],y=E+.5|0,v=A+.5|0,(b==l-2||y!==f||v!==d)&&(e.lineTo(E,A),f=y,d=v);++g;break;case 9:t.$a=E[2],w&&(t.Wa(e,i),w=0,P&&(e.stroke(),P=0)),e.fillStyle=E[1],++g;break;case 10:var b=void 0===E[8]||E[8],K=E[9];l=E[2],P&&(e.stroke(),P=0),e.strokeStyle=E[1],e.lineWidth=b?l*n:l,e.lineCap=E[3],e.lineJoin=E[4],e.miterLimit=E[5],Bv&&(l=E[6],y=E[7],b&&n!==K&&(l=l.map(function(t){return t*n/K}),y*=n/K,E[6]=l,E[7]=y,E[9]=n),e.lineDashOffset=y,e.setLineDash(l)),++g;break;case 11:e.font=E[1],e.textAlign=E[2],e.textBaseline=E[3],++g;break;case 12:S?P++:e.stroke(),++g;break;default:++g}}w&&t.Wa(e,i),P&&e.stroke()}function pc(t){var e=t.b;e.reverse();var n,o,i,r=e.length,a=-1;for(n=0;n<r;++n)if(o=e[n],i=o[0],6==i)a=n;else if(0==i){for(o[2]=n,o=t.b,i=n;a<i;){var s=o[a];o[a]=o[i],o[i]=s,++a,--i}a=-1}}function hc(t,e){t.ta[2]=t.a.length,t.ta=null,t.I[2]=t.b.length,t.I=null;var n=[6,e];t.a.push(n),t.b.push(n)}function uc(t,e,n,o){ic.call(this,t,e,n,o),this.N=this.Z=null,this.G=this.C=this.A=this.O=this.v=this.u=this.o=this.l=this.j=this.f=this.g=void 0}function lc(t,e,n,o){ic.call(this,t,e,n,o),this.f=null,this.g={Nd:void 0,Hd:void 0,Id:null,Jd:void 0,Kd:void 0,Ld:void 0,Md:void 0,$f:0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function cc(t,e,n,o,i){var r=t.coordinates.length;return e=rc(t,e,n,o,i,!1,!1),r=[8,r,e],t.a.push(r),t.b.push(r),o}function fc(t){var e=t.g,n=e.strokeStyle,o=e.lineCap,i=e.lineDash,r=e.lineDashOffset,s=e.lineJoin,p=e.lineWidth,h=e.miterLimit;e.Nd==n&&e.Hd==o&&a(e.Id,i)&&e.Jd==r&&e.Kd==s&&e.Ld==p&&e.Md==h||(e.$f!=t.coordinates.length&&(t.a.push([12]),e.$f=t.coordinates.length),t.a.push([10,n,p,o,s,h,i,r,!0,1],[1]),e.Nd=n,e.Hd=o,e.Id=i,e.Jd=r,e.Kd=s,e.Ld=p,e.Md=h)}function dc(t,e,n,o){ic.call(this,t,e,n,o),this.f=null,this.g={gh:void 0,Nd:void 0,Hd:void 0,Id:null,Jd:void 0,Kd:void 0,Ld:void 0,Md:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function yc(t,e,n,o,i){var r=t.g,a=void 0!==r.fillStyle,r=void 0!=r.strokeStyle,s=o.length,p=[1];for(t.a.push(p),t.b.push(p),p=0;p<s;++p){var h=o[p],u=t.coordinates.length;n=rc(t,e,n,h,i,!0,!r),n=[8,u,n],t.a.push(n),t.b.push(n),r&&(n=[3],t.a.push(n),t.b.push(n)),n=h}return e=[7],t.b.push(e),a&&t.a.push(e),r&&(a=[12],t.a.push(a),t.b.push(a)),n}function vc(t,e){var n=t.g,o=n.fillStyle,i=n.strokeStyle,r=n.lineCap,s=n.lineDash,p=n.lineDashOffset,h=n.lineJoin,u=n.lineWidth,l=n.miterLimit;if(void 0!==o&&("string"!=typeof o||n.gh!=o)){var c=[9,o];"string"!=typeof o&&(o=e.D(),c.push([o[0],o[3]])),t.a.push(c),n.gh=n.fillStyle}void 0===i||n.Nd==i&&n.Hd==r&&a(n.Id,s)&&n.Jd==p&&n.Kd==h&&n.Ld==u&&n.Md==l||(t.a.push([10,i,u,r,h,l,s,p,!0,1]),n.Nd=i,n.Hd=r,n.Id=s,n.Jd=p,n.Kd=h,n.Ld=u,n.Md=l)}function gc(t,e,n,o){ic.call(this,t,e,n,o),this.G=this.C=this.A=null,this.Fa="",this.o=this.l=0,this.u=void 0,this.O=this.v=0,this.j=this.f=this.g=null}function mc(t,e,n,o,i){this.v=t,this.c=e,this.o=o,this.u=n,this.f=i,this.a={},this.j=Te(1,1),this.l=ar()}function bc(t,e,n){var o,i=Math.floor(t.length/2);if(e>=i)for(o=i;o<e;o++)t[o][n]=!0;else if(e<i)for(o=e+1;o<i;o++)t[o][n]=!0}function xc(t){if(void 0!==M_[t])return M_[t];for(var e=2*t+1,n=Array(e),o=0;o<e;o++)n[o]=Array(e);for(var e=t,i=o=0;e>=o;)bc(n,t+e,t+o),bc(n,t+o,t+e),bc(n,t-o,t+e),bc(n,t-e,t+o),bc(n,t-e,t-o),bc(n,t-o,t-e),bc(n,t+o,t-e),bc(n,t+e,t-o),o++,i+=1+2*o,0<2*(i-e)+1&&(--e,i+=1-2*e);return M_[t]=n}function _c(t){for(var e in t.a){var n,o=t.a[e];for(n in o)o[n].Se()}}function wc(t,e){var n=t.c,o=n[0],i=n[1],r=n[2],n=n[3],o=[o,i,o,n,r,n,r,i];return no(o,0,8,2,e,o),o}function Pc(t,e,n,o,i,r,a){var s=Object.keys(t.a).map(Number);s.sort(function(t,e){return e-t});var p,h,u,l,c;for(p=0,h=s.length;p<h;++p)for(l=t.a[s[p].toString()],u=hg.length-1;0<=u;--u)if(c=l[hg[u]],void 0!==c&&(c=sc(c,e,1,n,o,i,c.b,r,a)))return c}function Sc(t){fe.call(this),this.a=t}function Cc(t,e){var n=e.V();return 2!=n&&3!=n&&ne(e,"change",t.ea,t),0==n&&(e.load(),n=e.V()),2==n}function Mc(t){var e=t.a;e.Lb()&&"ready"==e.Vf()&&t.s()}function Tc(t,e){e.Ei()&&t.postRenderFunctions.push(function(t,e,n){e=c(t).toString(),t.ld(n.viewState.projection,n.usedTiles[e])}.bind(null,e))}function Ac(t,e){if(e){var n,o,i;for(o=0,i=e.length;o<i;++o)n=e[o],t[c(n).toString()]=n}}function Ec(t,e){var n=e.Z;void 0!==n&&("string"==typeof n?t.logos[n]="":n&&(d("string"==typeof n.href,44),d("string"==typeof n.src,45),t.logos[n.src]=n.href))}function Lc(t,e,n,o){e=c(e).toString(),n=n.toString(),e in t?n in t[e]?(t=t[e][n],o.da<t.da&&(t.da=o.da),o.ba>t.ba&&(t.ba=o.ba),o.ga<t.ga&&(t.ga=o.ga),o.ja>t.ja&&(t.ja=o.ja)):t[e][n]=o:(t[e]={},t[e][n]=o)}function Ic(t,e,n,o,i,r,a,s,p,h){var u=c(e).toString();u in t.wantedTiles||(t.wantedTiles[u]={});var l=t.wantedTiles[u];t=t.tileQueue;var f,d,y,v,g,m,b=n.minZoom;for(m=a;m>=b;--m)for(d=Bt(n,r,m,d),y=n.La(m),v=d.da;v<=d.ba;++v)for(g=d.ga;g<=d.ja;++g)a-m<=s?(f=e.Pc(m,v,g,o,i),0==f.V()&&(l[f.hb()]=!0,f.hb()in t.a||t.i([f,u,Xt(n,f.Ga),y])),p&&p.call(h,f)):e.Mg(m,v,g,i)}function Nc(t){Sc.call(this,t),this.fa=ar()}function Oc(t,e,n){var o=e.pixelRatio,i=e.size[0]*o,r=e.size[1]*o,a=e.viewState.rotation,s=Q(n),p=tt(n),h=q(n);n=H(n),lr(e.coordinateToPixelTransform,s),lr(e.coordinateToPixelTransform,p),lr(e.coordinateToPixelTransform,h),lr(e.coordinateToPixelTransform,n),t.save(),Sr(t,-a,i/2,r/2),t.beginPath(),t.moveTo(s[0]*o,s[1]*o),t.lineTo(p[0]*o,p[1]*o),t.lineTo(h[0]*o,h[1]*o),t.lineTo(n[0]*o,n[1]*o),t.clip(),Sr(t,a,i/2,r/2)}function kc(t,e,n,o,i){var r=t.a;if(ce(r,e)){var a=o.size[0]*o.pixelRatio,s=o.size[1]*o.pixelRatio,p=o.viewState.rotation;Sr(n,-p,a/2,s/2),t=i?i:Rc(t,o,0),r.b(new Pr(e,new Mr(n,o.pixelRatio,o.extent,t,o.viewState.rotation),o,n,null)),Sr(n,p,a/2,s/2)}}function Rc(t,e,n){var o=e.viewState,i=e.pixelRatio,r=i/o.resolution;return yr(t.fa,i*e.size[0]/2,i*e.size[1]/2,r,-r,-o.rotation,-o.center[0]+n,-o.center[1])}function Dc(t,e){return c(t)-c(e)}function Fc(t,e){var n=.5*t/e;return n*n}function jc(t,e,n,o,i,r){var a,s,p=!1;return(a=n.Y())&&(s=a.Xe(),2==s||3==s?a.xj(i,r):(0==s&&a.load(),a.Gh(i,r),p=!0)),(i=(0,n.Qa)(e))&&(o=i.Td(o),(0,A_[o.S()])(t,o,n,e)),p}function Kc(t){Nc.call(this,t),this.c=!1,this.u=-1,this.o=NaN,this.j=F(),this.i=this.l=null,this.f=Te()}function Bc(){this.b="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"}function Xc(){this.b="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}"}function Uc(t,e){this.g=t.getUniformLocation(e,"f"),this.c=t.getUniformLocation(e,"e"),this.f=t.getUniformLocation(e,"d"),this.i=t.getUniformLocation(e,"g"),this.b=t.getAttribLocation(e,"b"),this.a=t.getAttribLocation(e,"c")}function Yc(t,e){Sc.call(this,e),this.c=t,this.T=new Hr([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.f=this.Fb=null,this.j=void 0,this.u=ar(),this.O=ar(),this.C=Ur(),this.v=null}function Gc(t,e,n){var o=t.c.g;if(void 0===t.j||t.j!=n){e.postRenderFunctions.push(function(t,e,n){t.isContextLost()||(t.deleteFramebuffer(e),t.deleteTexture(n))}.bind(null,o,t.f,t.Fb)),e=aa(o,n,n);var i=o.createFramebuffer();o.bindFramebuffer(36160,i),o.framebufferTexture2D(36160,36064,3553,e,0),t.Fb=e,t.f=i,t.j=n}else o.bindFramebuffer(36160,t.f)}function Wc(t,e,n,o){if(t=t.a,ce(t,e)){var i=o.viewState;t.b(new Pr(e,new ps(n,i.center,i.resolution,i.rotation,o.size,o.extent,o.pixelRatio),o,null,n))}}function zc(t,e){Yc.call(this,t,e),this.o=!1,this.Z=-1,this.I=NaN,this.A=F(),this.l=this.i=this.G=null}function Hc(t){t=t?t:{};var e=sv({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,or.call(this,e),this.c=void 0!==t.renderBuffer?t.renderBuffer:100,this.A=null,this.i=void 0,this.f(t.style),this.ea=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.fa=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting}function qc(){return[[-(1/0),-(1/0),1/0,1/0]]}function Vc(t){de.call(this),this.c=Ct(t.projection),this.j=$c(t.attributions),this.Z=t.logo,this.Ja=void 0!==t.state?t.state:"ready",this.G=void 0!==t.wrapX&&t.wrapX}function $c(t){if("string"==typeof t)return[new qt({html:t})];if(t instanceof qt)return[t];if(Array.isArray(t)){for(var e=t.length,n=Array(e),o=0;o<e;o++){var i=t[o];n[o]="string"==typeof i?new qt({html:i}):i}return n}return null}function Zc(t,e){t.Ja=e,t.s()}function Jc(t){t=t||{},Vc.call(this,{attributions:t.attributions,logo:t.logo,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX}),this.ea=l,this.T=t.format,this.Ha=void 0==t.overlaps||t.overlaps,this.fa=t.url,t.loader?this.ea=t.loader:void 0!==this.fa&&(d(this.T,7),this.ea=fp(this.fa,this.T)),this.Va=t.strategy?t.strategy:qc;var e=void 0===t.useSpatialIndex||t.useSpatialIndex;this.a=e?new ka:null,this.na=new ka,this.f={},this.l={},this.o={},this.u={},this.i=null;var n,o;t.features instanceof me?(n=t.features,o=n.a):Array.isArray(t.features)&&(o=t.features),e||n||(n=new me(o)),o&&ef(this,o),n&&nf(this,n)}function Qc(t,e,n){t.u[e]=[ne(n,"change",t.Ii,t),ne(n,"propertychange",t.Ii,t)]}function tf(t,e,n){var o=!0,i=n.a;return void 0!==i?i.toString()in t.l?o=!1:t.l[i.toString()]=n:(d(!(e in t.o),30),t.o[e]=n),o}function ef(t,e){var n,o,i,r,a=[],s=[],p=[];for(o=0,i=e.length;o<i;o++)r=e[o],n=c(r).toString(),tf(t,n,r)&&s.push(r);for(o=0,i=s.length;o<i;o++){r=s[o],n=c(r).toString(),Qc(t,n,r);var h=r.U();h?(n=h.D(),a.push(n),p.push(r)):t.f[n]=r}for(t.a&&t.a.load(a,p),o=0,i=s.length;o<i;o++)t.b(new af("addfeature",s[o]))}function nf(t,e){var n=!1;ne(t,"addfeature",function(t){n||(n=!0,e.push(t.feature),n=!1)}),ne(t,"removefeature",function(t){n||(n=!0,e.remove(t.feature),n=!1)}),ne(e,"add",function(t){n||(n=!0,this.zb(t.element),n=!1)},t),ne(e,"remove",function(t){n||(n=!0,this.Db(t.element),n=!1)},t),t.i=e}function of(t,e,n){t.bc([e[0],e[1],e[0],e[1]],function(t){if(t.U().sb(e))return n.call(void 0,t)})}function rf(t,e){for(var n in t.l)if(t.l[n]===e){delete t.l[n];break}}function af(t,e){he.call(this,t),this.feature=e}function sf(t){mi.call(this,{handleDownEvent:uf,handleEvent:hf,handleUpEvent:lf}),this.T=!1,this.fa=null,this.u=!1,this.Gb=t.source?t.source:null,this.Va=t.features?t.features:null,this.sk=t.snapTolerance?t.snapTolerance:12,this.Z=t.type,this.f=mf(this.Z),this.Ha=t.minPoints?t.minPoints:this.f===k_?3:2,
this.Ja=t.maxPoints?t.maxPoints:1/0,this.yf=t.finishCondition?t.finishCondition:Qn;var e=t.geometryFunction;if(!e)if("Circle"===this.Z)e=function(t,e){var n=e?e:new Rl([NaN,NaN]);return n.Gg(t[0],Math.sqrt(Vn(t[0],t[1]))),n};else{var n,o=this.f;o===N_?n=Co:o===O_?n=Pp:o===k_&&(n=Fo),e=function(t,e){var i=e;return i?o===k_?i.pa([t[0].concat([t[0][0]])]):i.pa(t):i=new n(t),i}}this.Qa=e,this.I=this.C=this.a=this.G=this.j=this.o=null,this.le=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.na=new Hc({source:new Jc({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:pf()}),this.yb=t.geometryName,this.rk=t.condition?t.condition:fi,this.zf=t.freehand?Qn:t.freehandCondition?t.freehandCondition:di,ne(this,ye("active"),this.ji,this)}function pf(){var t=Us();return function(e){return t[e.U().S()]}}function hf(t){this.u=this.f!==N_&&this.zf(t);var e=!this.u;return this.u&&"pointerdrag"===t.type&&null!==this.j?(yf(this,t),e=!1):"pointermove"===t.type?e=cf(this,t):"dblclick"===t.type&&(e=!1),xi.call(this,t)&&e}function uf(t){return this.T=!this.u,this.u?(this.fa=t.pixel,this.o||df(this,t),!0):!!this.rk(t)&&(this.fa=t.pixel,!0)}function lf(t){var e=!0;cf(this,t);var n=this.f===R_;return this.T?(this.o?this.u||n?this.Qd():ff(this,t)?this.yf(t)&&this.Qd():yf(this,t):(df(this,t),this.f===N_&&this.Qd()),e=!1):this.u&&(this.o=null,vf(this)),e}function cf(t,e){if(t.fa&&(!t.u&&t.T||t.u&&!t.T)){var n=t.fa,o=e.pixel,i=n[0]-o[0],n=n[1]-o[1],i=i*i+n*n;t.T=t.u?i>t.le:i<=t.le}return t.o?(i=e.coordinate,n=t.j.U(),t.f===N_?o=t.a:t.f===k_?(o=t.a[0],o=o[o.length-1],ff(t,e)&&(i=t.o.slice())):(o=t.a,o=o[o.length-1]),o[0]=i[0],o[1]=i[1],t.Qa(t.a,n),t.G&&t.G.U().pa(i),n instanceof Fo&&t.f!==k_?(t.C||(t.C=new Gs(new Pp(null))),n=n.vh(0),i=t.C.U(),i.ca(n.la,n.ia())):t.I&&(i=t.C.U(),i.pa(t.I)),gf(t)):(i=e.coordinate.slice(),t.G?t.G.U().pa(i):(t.G=new Gs(new Co(i)),gf(t))),!0}function ff(t,e){var n=!1;if(t.j){var o=!1,i=[t.o];if(t.f===O_?o=t.a.length>t.Ha:t.f===k_&&(o=t.a[0].length>t.Ha,i=[t.a[0][0],t.a[0][t.a[0].length-2]]),o)for(var o=e.map,r=0,a=i.length;r<a;r++){var s=i[r],p=o.Ka(s),h=e.pixel,n=h[0]-p[0],p=h[1]-p[1];if(n=Math.sqrt(n*n+p*p)<=(t.u?1:t.sk)){t.o=s;break}}}return n}function df(t,e){var n=e.coordinate;t.o=n,t.f===N_?t.a=n.slice():t.f===k_?(t.a=[[n.slice(),n.slice()]],t.I=t.a[0]):(t.a=[n.slice(),n.slice()],t.f===R_&&(t.I=t.a)),t.I&&(t.C=new Gs(new Pp(t.I))),n=t.Qa(t.a),t.j=new Gs,t.yb&&t.j.Yc(t.yb),t.j.Ta(n),gf(t),t.b(new bf("drawstart",t.j))}function yf(t,e){var n,o,i=e.coordinate,r=t.j.U();t.f===O_?(t.o=i.slice(),o=t.a,o.length>=t.Ja&&(t.u?o.pop():n=!0),o.push(i.slice()),t.Qa(o,r)):t.f===k_&&(o=t.a[0],o.length>=t.Ja&&(t.u?o.pop():n=!0),o.push(i.slice()),n&&(t.o=o[0]),t.Qa(t.a,r)),gf(t),n&&t.Qd()}function vf(t){t.o=null;var e=t.j;return e&&(t.j=null,t.G=null,t.C=null,t.na.ka().clear(!0)),e}function gf(t){var e=[];t.j&&e.push(t.j),t.C&&e.push(t.C),t.G&&e.push(t.G),t=t.na.ka(),t.clear(!0),t.gd(e)}function mf(t){var e;return"Point"===t||"MultiPoint"===t?e=N_:"LineString"===t||"MultiLineString"===t?e=O_:"Polygon"===t||"MultiPolygon"===t?e=k_:"Circle"===t&&(e=R_),e}function bf(t,e){he.call(this,t),this.feature=e}function xf(t){this.a=this.j=null,this.C=!1,this.G=this.o=null,t||(t={}),t.extent&&this.f(t.extent),mi.call(this,{handleDownEvent:wf,handleDragEvent:Pf,handleEvent:_f,handleUpEvent:Sf}),this.u=new Hc({source:new Jc({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.boxStyle?t.boxStyle:Cf(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.I=new Hc({source:new Jc({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.pointerStyle?t.pointerStyle:Mf(),updateWhileAnimating:!0,updateWhileInteracting:!0})}function _f(t){if(!(t instanceof Ze))return!0;if("pointermove"==t.type&&!this.A){var e=t.pixel,n=t.map,o=Ef(this,e,n);o||(o=n.Xa(e)),Lf(this,o)}return xi.call(this,t),!1}function wf(t){function e(t){var e=null,n=null;return t[0]==i[0]?e=i[2]:t[0]==i[2]&&(e=i[0]),t[1]==i[1]?n=i[3]:t[1]==i[3]&&(n=i[1]),null!==e&&null!==n?[e,n]:null}var n=t.pixel,o=t.map,i=this.D();return(t=Ef(this,n,o))&&i?(n=t[0]==i[0]||t[0]==i[2]?t[0]:null,o=t[1]==i[1]||t[1]==i[3]?t[1]:null,null!==n&&null!==o?this.a=Tf(e(t)):null!==n?this.a=Af(e([n,i[1]]),e([n,i[3]])):null!==o&&(this.a=Af(e([i[0],o]),e([i[2],o])))):(t=o.Xa(n),this.f([t[0],t[1],t[0],t[1]]),this.a=Tf(t)),!0}function Pf(t){return this.a&&(t=t.coordinate,this.f(this.a(t)),Lf(this,t)),!0}function Sf(){this.a=null;var t=this.D();return t&&z(t)||this.f(null),!1}function Cf(){var t=Us();return function(){return t.Polygon}}function Mf(){var t=Us();return function(){return t.Point}}function Tf(t){return function(e){return E([t,e])}}function Af(t,e){return t[0]==e[0]?function(n){return E([t,[n[0],e[1]]])}:t[1]==e[1]?function(n){return E([t,[e[0],n[1]]])}:null}function Ef(t,e,n){function o(t,e){return Zn(i,t)-Zn(i,e)}var i=n.Xa(e),r=t.D();if(r){r=[[[r[0],r[1]],[r[0],r[3]]],[[r[0],r[3]],[r[2],r[3]]],[[r[2],r[3]],[r[2],r[1]]],[[r[2],r[1]],[r[0],r[1]]]],r.sort(o);var r=r[0],a=Yn(i,r),s=n.Ka(a);if(10>=$n(e,s))return e=n.Ka(r[0]),n=n.Ka(r[1]),e=Vn(s,e),n=Vn(s,n),t.C=10>=Math.sqrt(Math.min(e,n)),t.C&&(a=e>n?r[1]:r[0]),a}return null}function Lf(t,e){var n=t.G;n?n.U().pa(e):(n=new Gs(new Co(e)),t.G=n,t.I.ka().zb(n))}function If(t){he.call(this,D_),this.b=t}function Nf(t){mi.call(this,{handleDownEvent:jf,handleDragEvent:Kf,handleEvent:Xf,handleUpEvent:Bf}),this.Gb=t.condition?t.condition:gi,this.Va=function(t){return fi(t)&&ci(t)},this.yb=t.deleteCondition?t.deleteCondition:this.Va,this.Ha=this.f=null,this.Ja=[0,0],this.C=this.I=!1,this.a=new ka,this.fa=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.o=this.na=!1,this.j=[],this.G=new Hc({source:new Jc({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:zf(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.T={Point:this.wn,LineString:this.li,LinearRing:this.li,Polygon:this.xn,MultiPoint:this.tn,MultiLineString:this.sn,MultiPolygon:this.vn,Circle:this.lq,GeometryCollection:this.rn},this.u=t.features,this.u.forEach(this.fg,this),ne(this.u,"add",this.pn,this),ne(this.u,"remove",this.qn,this),this.Z=null}function Of(t,e){t.C||(t.C=!0,t.b(new Hf("modifystart",t.u,e)))}function kf(t,e){Rf(t,e),t.f&&!t.u.fc()&&(t.G.ka().Db(t.f),t.f=null),ie(e,"change",t.ki,t)}function Rf(t,e){var n=t.a,o=[];n.forEach(function(t){e===t.feature&&o.push(t)});for(var i=o.length-1;0<=i;--i)n.remove(o[i])}function Df(t,e){var n=t.f;n?n.U().pa(e):(n=new Gs(new Co(e)),t.f=n,t.G.ka().zb(n))}function Ff(t,e){return t.index-e.index}function jf(t){if(!this.Gb(t))return!1;Uf(this,t.pixel,t.map);var e=t.map.Xa(t.pixel);this.j.length=0,this.C=!1;var n=this.f;if(n){var o=[],n=n.U().W(),i=E([n]),i=Fa(this.a,i),r={};i.sort(Ff);for(var a=0,s=i.length;a<s;++a){var p=i[a],h=p.oa,u=c(p.feature),l=p.depth;l&&(u+="-"+l.join("-")),r[u]||(r[u]=Array(2)),"Circle"===p.geometry.S()&&1===p.index?(h=Gf(e,p),zn(h,n)&&!r[u][0]&&(this.j.push([p,0]),r[u][0]=p)):zn(h[0],n)&&!r[u][0]?(this.j.push([p,0]),r[u][0]=p):zn(h[1],n)&&!r[u][1]?("LineString"!==p.geometry.S()&&"MultiLineString"!==p.geometry.S()||!r[u][0]||0!==r[u][0].index)&&(this.j.push([p,1]),r[u][1]=p):c(h)in this.Ha&&!r[u][0]&&!r[u][1]&&o.push([p,n])}for(o.length&&Of(this,t),t=o.length-1;0<=t;--t)this.Xl.apply(this,o[t])}return!!this.f}function Kf(t){this.I=!1,Of(this,t),t=t.coordinate;for(var e=0,n=this.j.length;e<n;++e){for(var o,i=this.j[e],r=i[0],a=r.depth,s=r.geometry,p=r.oa,i=i[1];t.length<s.sa();)t.push(p[i][t.length]);switch(s.S()){case"Point":o=t,p[0]=p[1]=t;break;case"MultiPoint":o=s.W(),o[r.index]=t,p[0]=p[1]=t;break;case"LineString":o=s.W(),o[r.index+i]=t,p[i]=t;break;case"MultiLineString":o=s.W(),o[a[0]][r.index+i]=t,p[i]=t;break;case"Polygon":o=s.W(),o[a[0]][r.index+i]=t,p[i]=t;break;case"MultiPolygon":o=s.W(),o[a[1]][a[0]][r.index+i]=t,p[i]=t;break;case"Circle":p[0]=p[1]=t,0===r.index?(this.o=!0,s.lb(t)):(this.o=!0,s.Zc($n(s.za(),t))),this.o=!1}o&&(r=s,a=o,this.o=!0,r.pa(a),this.o=!1)}Df(this,t)}function Bf(t){for(var e,n,o=this.j.length-1;0<=o;--o)if(e=this.j[o][0],n=e.geometry,"Circle"===n.S()){var i=n.za(),r=e.Lf[0];e=e.Lf[1],r.oa[0]=r.oa[1]=i,e.oa[0]=e.oa[1]=i,Ra(this.a,K(i),r),Ra(this.a,n.D(),e)}else Ra(this.a,E(e.oa),e);return this.C&&(this.b(new Hf("modifyend",this.u,t)),this.C=!1),!1}function Xf(t){if(!(t instanceof Ze))return!0;this.Z=t;var e;return Vo(t.map.$())[1]||"pointermove"!=t.type||this.A||(this.Ja=t.pixel,Uf(this,t.pixel,t.map)),this.f&&this.yb(t)&&(e=!("singleclick"!=t.type||!this.I)||this.cj()),"singleclick"==t.type&&(this.I=!1),xi.call(this,t)&&!e}function Uf(t,e,n){function o(t,e){return Yf(i,t)-Yf(i,e)}var i=n.Xa(e),r=L(K(i),n.$().Ra()*t.fa),r=Fa(t.a,r);if(0<r.length){r.sort(o);var a=r[0],s=a.oa,p=Gf(i,a),h=n.Ka(p),u=$n(e,h);if(u<=t.fa){if(e={},"Circle"===a.geometry.S()&&1===a.index)t.na=!0,Df(t,p);else for(u=n.Ka(s[0]),a=n.Ka(s[1]),n=Vn(h,u),h=Vn(h,a),u=Math.sqrt(Math.min(n,h)),t.na=u<=t.fa,t.na&&(p=n>h?s[1]:s[0]),Df(t,p),h=1,n=r.length;h<n&&(p=r[h].oa,zn(s[0],p[0])&&zn(s[1],p[1])||zn(s[0],p[1])&&zn(s[1],p[0]));++h)e[c(p)]=!0;return e[c(s)]=!0,void(t.Ha=e)}}t.f&&(t.G.ka().Db(t.f),t.f=null)}function Yf(t,e){var n=e.geometry;if("Circle"===n.S()&&1===e.index){var o=Vn(n.za(),t),n=Math.sqrt(o)-n.Yd();return n*n}return Zn(t,e.oa)}function Gf(t,e){var n=e.geometry;return"Circle"===n.S()&&1===e.index?n.Ab(t):Yn(t,e.oa)}function Wf(t,e,n,o,i){ja(t.a,e.D(),function(t){t.geometry===e&&(void 0===o||void 0===t.depth||a(t.depth,o))&&t.index>n&&(t.index+=i)})}function zf(){var t=Us();return function(){return t.Point}}function Hf(t,e,n){he.call(this,t),this.features=e,this.mapBrowserEvent=n}function qf(t){if(oi.call(this,{handleEvent:Vf}),t=t?t:{},this.C=t.condition?t.condition:ci,this.A=t.addCondition?t.addCondition:to,this.G=t.removeCondition?t.removeCondition:to,this.I=t.toggleCondition?t.toggleCondition:di,this.o=!!t.multi&&t.multi,this.l=t.filter?t.filter:Qn,this.j=t.hitTolerance?t.hitTolerance:0,this.f=new Hc({source:new Jc({useSpatialIndex:!1,features:t.features,wrapX:t.wrapX}),style:t.style?t.style:$f(),updateWhileAnimating:!0,updateWhileInteracting:!0}),t.layers)if("function"==typeof t.layers)t=t.layers;else{var e=t.layers;t=function(t){return n(e,t)}}else t=Qn;this.u=t,this.a={},t=this.f.ka().i,ne(t,"add",this.yn,this),ne(t,"remove",this.Cn,this)}function Vf(t){if(!this.C(t))return!0;var e=this.A(t),o=this.G(t),i=this.I(t),r=!e&&!o&&!i,a=t.map,s=this.f.ka().i,p=[],h=[];if(r){for(at(this.a),a.we(t.pixel,function(t,e){if(this.l(t,e)){h.push(t);var n=c(t);return this.a[n]=e,!this.o}}.bind(this),{layerFilter:this.u,hitTolerance:this.j}),r=s.fc()-1;0<=r;--r){var a=s.item(r),u=h.indexOf(a);-1<u?h.splice(u,1):(s.remove(a),p.push(a))}h.length&&s.ag(h)}else{for(a.we(t.pixel,function(t,r){if(this.l(t,r)){if(!e&&!i||n(s.a,t))(o||i)&&n(s.a,t)&&(p.push(t),a=c(t),delete this.a[a]);else{h.push(t);var a=c(t);this.a[a]=r}return!this.o}}.bind(this),{layerFilter:this.u,hitTolerance:this.j}),r=p.length-1;0<=r;--r)s.remove(p[r]);s.ag(h)}return(0<h.length||0<p.length)&&this.b(new Zf(F_,h,p,t)),li(t)}function $f(){var t=Us();return i(t.Polygon,t.LineString),i(t.GeometryCollection,t.LineString),function(e){return e.U()?t[e.U().S()]:null}}function Zf(t,e,n,o){he.call(this,t),this.selected=e,this.deselected=n,this.mapBrowserEvent=o}function Jf(t){mi.call(this,{handleEvent:Qf,handleDownEvent:Qn,handleUpEvent:td}),t=t?t:{},this.o=t.source?t.source:null,this.fa=void 0===t.vertex||t.vertex,this.I=void 0===t.edge||t.edge,this.j=t.features?t.features:null,this.na=[],this.C={},this.Z={},this.u={},this.G=null,this.f=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.Ja=ed.bind(this),this.a=new ka,this.T={Point:this.Jn,LineString:this.oi,LinearRing:this.oi,Polygon:this.Kn,MultiPoint:this.Hn,MultiLineString:this.Gn,MultiPolygon:this.In,GeometryCollection:this.Fn}}function Qf(t){var e,n,o=t.pixel,i=t.coordinate;e=t.map;var r=e.Xa([o[0]-this.f,o[1]+this.f]);n=e.Xa([o[0]+this.f,o[1]-this.f]);var a,r=E([r,n]),s=Fa(this.a,r),r=!1,p=null;return n=null,0<s.length&&(this.G=i,s.sort(this.Ja),s=s[0].oa,this.fa&&!this.I?(i=e.Ka(s[0]),a=e.Ka(s[1]),i=Vn(o,i),o=Vn(o,a),a=Math.sqrt(Math.min(i,o)),(a=a<=this.f)&&(r=!0,p=i>o?s[1]:s[0],n=e.Ka(p))):this.I&&(p=Yn(i,s),n=e.Ka(p),$n(o,n)<=this.f&&(r=!0,this.fa&&(i=e.Ka(s[0]),a=e.Ka(s[1]),i=Vn(n,i),o=Vn(n,a),a=Math.sqrt(Math.min(i,o)),a=a<=this.f)))&&(p=i>o?s[1]:s[0],n=e.Ka(p)),r&&(n=[Math.round(n[0]),Math.round(n[1])])),e=p,r&&(t.coordinate=e.slice(0,2),t.pixel=n),xi.call(this,t)}function td(){var t=st(this.u);return t.length&&(t.forEach(this.zj,this),this.u={}),!1}function ed(t,e){return Zn(this.G,t.oa)-Zn(this.G,e.oa)}function nd(t){mi.call(this,{handleDownEvent:od,handleDragEvent:rd,handleMoveEvent:ad,handleUpEvent:id}),t=t?t:{},this.f=void 0,this.a=null,this.o=void 0!==t.features?t.features:null;var e;if(t.layers)if("function"==typeof t.layers)e=t.layers;else{var o=t.layers;e=function(t){return n(o,t)}}else e=Qn;this.G=e,this.u=t.hitTolerance?t.hitTolerance:0,this.j=null,ne(this,ye("active"),this.C,this)}function od(t){if(this.j=sd(this,t.pixel,t.map),!this.a&&this.j){this.a=t.coordinate,ad.call(this,t);var e=this.o||new me([this.j]);return this.b(new hd("translatestart",e,t.coordinate)),!0}return!1}function id(t){if(this.a){this.a=null,ad.call(this,t);var e=this.o||new me([this.j]);return this.b(new hd("translateend",e,t.coordinate)),!0}return!1}function rd(t){if(this.a){t=t.coordinate;var e=t[0]-this.a[0],n=t[1]-this.a[1],o=this.o||new me([this.j]);o.forEach(function(t){var o=t.U();o.translate(e,n),t.Ta(o)}),this.a=t,this.b(new hd("translating",o,t))}}function ad(t){var e=t.map.vc();sd(this,t.pixel,t.map)?(this.f=void 0!==this.f?this.f:e.style.cursor,e.style.cursor=this.a?"-webkit-grabbing":"-webkit-grab",e.style.cursor=this.a?"grabbing":"grab"):void 0!==this.f&&(e.style.cursor=this.f,this.f=void 0)}function sd(t,e,o){return o.we(e,function(t){if(!this.o||n(this.o.a,t))return t}.bind(t),{layerFilter:t.G,hitTolerance:t.u})}function pd(t,e){var n=t.v,o=t.c();n&&o||void 0===t.f||(n||(n=e),n.vc().style.cursor=t.f,t.f=void 0)}function hd(t,e,n){he.call(this,t),this.features=e,this.coordinate=n}function ud(t){t=t?t:{};var e=sv({},t);delete e.gradient,delete e.radius,delete e.blur,delete e.shadow,delete e.weight,Hc.call(this,e),this.j=null,this.T=void 0!==t.shadow?t.shadow:250,this.Z=void 0,this.I=null,ne(this,ye(B_),this.wl,this),this.kj(t.gradient?t.gradient:j_),this.ej(void 0!==t.blur?t.blur:15),this.Zc(void 0!==t.radius?t.radius:8),ne(this,ye(K_),this.Yf,this),ne(this,ye(X_),this.Yf,this),this.Yf();var n,o=t.weight?t.weight:"weight";n="string"==typeof o?function(t){return t.get(o)}:o,this.f(function(t){t=n(t),t=void 0!==t?b(t,0,1):1;var e=255*t|0,o=this.I[e];return o||(o=[new Ks({image:new Qh({opacity:t,src:this.Z})})],this.I[e]=o),o}.bind(this)),this.set(I_,null),ne(this,"render",this.Nl,this)}function ld(t){Nc.call(this,t),this.u=ar(),this.j=null}function cd(t){ld.call(this,t),this.N=null,this.c=ar()}function fd(t,e,n,o){var i=It(n,e,t);return n=gt(e,o,n),e=e.uc(),void 0!==e&&(n*=e),e=t.uc(),void 0!==e&&(n/=e),t=gt(t,n,i)/n,isFinite(t)&&0<t&&(n/=t),n}function dd(t,e,n,o){t=n-t,e=o-e;var i=Math.sqrt(t*t+e*e);return[Math.round(n+t/i),Math.round(o+e/i)]}function yd(t,e,n,o,i,r,a,s,p,h,u){var l=Te(Math.round(n*t),Math.round(n*e));if(!p.length)return l.canvas;l.scale(n,n);var c=F();p.forEach(function(t){U(c,t.extent)});var f=Te(Math.round(n*et(c)/o),Math.round(n*Z(c)/o)),d=n/o;p.forEach(function(t){f.drawImage(t.image,h,h,t.image.width-2*h,t.image.height-2*h,(t.extent[0]-c[0])*d,-(t.extent[3]-c[3])*d,et(t.extent)*d,Z(t.extent)*d)});var y=Q(a);return s.c.forEach(function(t){var e=t.source,i=t.target,a=e[1][0],s=e[1][1],p=e[2][0],h=e[2][1];t=(i[0][0]-y[0])/r;var u=-(i[0][1]-y[1])/r,d=(i[1][0]-y[0])/r,v=-(i[1][1]-y[1])/r,g=(i[2][0]-y[0])/r,m=-(i[2][1]-y[1])/r,i=e[0][0],e=e[0][1],a=a-i,s=s-e,p=p-i,h=h-e;t:{for(a=[[a,s,0,0,d-t],[p,h,0,0,g-t],[0,0,a,s,v-u],[0,0,p,h,m-u]],s=a.length,p=0;p<s;p++){for(var h=p,b=Math.abs(a[p][p]),x=p+1;x<s;x++){var _=Math.abs(a[x][p]);_>b&&(b=_,h=x)}if(!b){a=null;break t}for(b=a[h],a[h]=a[p],a[p]=b,h=p+1;h<s;h++)for(b=-a[h][p]/a[p][p],x=p;x<s+1;x++)a[h][x]=p==x?0:a[h][x]+b*a[p][x]}for(p=Array(s),h=s-1;0<=h;h--)for(p[h]=a[h][s]/a[h][h],b=h-1;0<=b;b--)a[b][s]-=a[b][h]*p[h];a=p}a&&(l.save(),l.beginPath(),p=(t+d+g)/3,h=(u+v+m)/3,s=dd(p,h,t,u),d=dd(p,h,d,v),g=dd(p,h,g,m),l.moveTo(d[0],d[1]),l.lineTo(s[0],s[1]),l.lineTo(g[0],g[1]),l.clip(),l.transform(a[0],a[2],a[1],a[3],t,u),l.translate(c[0]-i,c[3]-e),l.scale(o/n,-o/n),l.drawImage(f.canvas,0,0),l.restore())}),u&&(l.save(),l.strokeStyle="black",l.lineWidth=1,s.c.forEach(function(t){var e=t.target;t=(e[0][0]-y[0])/r;var n=-(e[0][1]-y[1])/r,o=(e[1][0]-y[0])/r,i=-(e[1][1]-y[1])/r,a=(e[2][0]-y[0])/r,e=-(e[2][1]-y[1])/r;l.beginPath(),l.moveTo(o,i),l.lineTo(t,n),l.lineTo(a,e),l.closePath(),l.stroke()}),l.restore()),l.canvas}function vd(t,e,n,o,i){this.g=t,this.i=e;var r={},a=Tt(this.i,this.g);this.a=function(t){var e=t[0]+"/"+t[1];return r[e]||(r[e]=a(t)),r[e]},this.f=o,this.u=i*i,this.c=[],this.l=!1,this.o=this.g.a&&!!o&&!!this.g.D()&&et(o)==et(this.g.D()),this.b=this.g.D()?et(this.g.D()):null,this.j=this.i.D()?et(this.i.D()):null,t=Q(n),e=tt(n),o=q(n),n=H(n),i=this.a(t);var s=this.a(e),p=this.a(o),h=this.a(n);if(gd(this,t,e,o,n,i,s,p,h,10),this.l){var u=1/0;this.c.forEach(function(t){u=Math.min(u,t.source[0][0],t.source[1][0],t.source[2][0])}),this.c.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-u>this.b/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-u>this.b/2&&(e[0][0]-=this.b),e[1][0]-u>this.b/2&&(e[1][0]-=this.b),e[2][0]-u>this.b/2&&(e[2][0]-=this.b),Math.max(e[0][0],e[1][0],e[2][0])-Math.min(e[0][0],e[1][0],e[2][0])<this.b/2&&(t.source=e)}},this)}r={}}function gd(t,e,n,o,i,r,a,s,p,h){var u=E([r,a,s,p]),l=t.b?et(u)/t.b:null,c=t.b,f=t.g.a&&.5<l&&1>l,d=!1;if(0<h){if(t.i.g&&t.j)var y=E([e,n,o,i]),d=d|.25<et(y)/t.j;!f&&t.g.g&&l&&(d|=.25<l)}if(d||!t.f||nt(u,t.f)){if(!(d||isFinite(r[0])&&isFinite(r[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(p[0])&&isFinite(p[1]))){if(!(0<h))return;d=!0}if(0<h&&(d||(u=t.a([(e[0]+o[0])/2,(e[1]+o[1])/2]),c=f?(S(r[0],c)+S(s[0],c))/2-S(u[0],c):(r[0]+s[0])/2-u[0],u=(r[1]+s[1])/2-u[1],d=c*c+u*u>t.u),d))return void(Math.abs(e[0]-o[0])<=Math.abs(e[1]-o[1])?(f=[(n[0]+o[0])/2,(n[1]+o[1])/2],c=t.a(f),u=[(i[0]+e[0])/2,(i[1]+e[1])/2],l=t.a(u),gd(t,e,n,f,u,r,a,c,l,h-1),gd(t,u,f,o,i,l,c,s,p,h-1)):(f=[(e[0]+n[0])/2,(e[1]+n[1])/2],c=t.a(f),u=[(o[0]+i[0])/2,(o[1]+i[1])/2],l=t.a(u),gd(t,e,f,u,i,r,c,l,p,h-1),gd(t,f,n,o,u,c,a,s,l,h-1)));if(f){if(!t.o)return;t.l=!0}t.c.push({source:[r,s,p],target:[e,o,i]}),t.c.push({source:[r,a,s],target:[e,n,o]})}}function md(t){var e=F();return t.c.forEach(function(t){t=t.source,Y(e,t[0]),Y(e,t[1]),Y(e,t[2])}),e}function bd(t,e,n,o,i,r){this.u=e,this.o=t.D();var a=e.D(),s=a?J(n,a):n,a=fd(t,e,V(s),o);this.j=new vd(t,e,s,this.o,.5*a),this.c=o,this.g=n,t=md(this.j),this.l=(this.Eb=r(t,a,i))?this.Eb.a:1,this.de=this.f=null,i=2,r=[],this.Eb&&(i=0,r=this.Eb.i),Yl.call(this,n,o,this.l,i,r)}function xd(t){Vc.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state}),this.v=void 0!==t.resolutions?t.resolutions:null,this.a=null,this.ea=0}function _d(t,e){return t.v&&(e=t.v[o(t.v,e,0)]),e}function wd(t,e){t.Y().src=e}function Pd(t,e){he.call(this,t),this.image=e}function Sd(t){xd.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions,state:t.state}),this.fa=t.canvasFunction,this.I=null,this.T=0,this.na=void 0!==t.ratio?t.ratio:1.5}function Cd(t){this.i=t.source,this.Va=ar(),this.f=Te(),this.o=[0,0],this.Ha=void 0==t.renderBuffer?100:t.renderBuffer,this.A=null,Sd.call(this,{attributions:t.attributions,canvasFunction:this.pk.bind(this),logo:t.logo,projection:t.projection,ratio:t.ratio,resolutions:t.resolutions,state:this.i.V()}),this.C=null,this.u=void 0,this.Bi(t.style),ne(this.i,"change",this.ho,this)}function Md(t,e,n,o,i){return n=o/n,yr(t.Va,i[0]/2,i[1]/2,n,-n,0,-e[0],-e[1])}function Td(t,e){Yc.call(this,t,e),this.l=this.i=this.N=null}function Ad(t,e){var n=e.Y();return sa(t.c.g,n)}function Ed(t,e,n,o,i,r,a,s){e*=r,n*=r,t=t.O,sr(t),fr(t,2*o/e,2*o/n),cr(t,-a),dr(t,s[0]-i[0],s[1]-i[1]),fr(t,(s[2]-s[0])/2,(s[3]-s[1])/2),dr(t,1,1)}function Ld(t){or.call(this,t?t:{})}function Id(t){ld.call(this,t),this.c=null===this.c?null:Te(),this.l=null,this.i=[],this.o=F(),this.Ja=new y(0,0,0,0),this.C=ar(),this.T=0}function Nd(t,e){var n=e.V(),o=t.a.Wd();return 2==n||4==n||3==n&&!o}function Od(){this.b="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"}function kd(){this.b="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}"}function Rd(t,e){this.g=t.getUniformLocation(e,"e"),this.c=t.getUniformLocation(e,"d"),this.b=t.getAttribLocation(e,"b"),this.a=t.getAttribLocation(e,"c")}function Dd(t,e){Yc.call(this,t,e),this.I=W_,this.fa=z_,this.i=null,this.G=new Hr([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.A=this.l=null,this.o=-1,this.Z=[0,0]}function Fd(t){t=t?t:{};var e=sv({},t);delete e.preload,delete e.useInterimTilesOnError,or.call(this,e),this.si(void 0!==t.preload?t.preload:0),this.ti(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError)}function jd(t){this.c=null,Id.call(this,t),this.G=!1,this.Z=ar(),this.T="vector"==t.u?1:0}function Kd(t,e,n){function o(t){var e,n=t.Rc();if(n?e=n.call(t,v):(n=i.i)&&(e=n(t,v)),e){Array.isArray(e)||(e=[e]);var n=m,o=g;if(e){var r=!1;if(Array.isArray(e))for(var a=0,s=e.length;a<s;++a)r=jc(o,t,e[a],n,this.yi,this)||r;else r=jc(o,t,e,n,this.yi,this)||r;t=r}else t=!1;this.G=this.G||t,p.Od=p.Od||t}}var i=t.a,r=n.pixelRatio;n=n.viewState.projection;var a=i.g,s=i.get(I_)||null,p=e.g;if(p.Od||p.kf!=a||p.Eg!=s){p.zd=null,p.Od=!1;var h,u,l,c=i.ka(),f=c.tileGrid,d=e.Ga,y=e.j,v=f.La(d[0]);"tile-pixels"==y.Kb()?(h=l=c.pb(),f=A(f.eb(d[0])),h=[0,0,f[0]*h,f[1]*h]):(l=v,h=f.Ua(d),Mt(n,y)||(u=!0,e.dg(n))),p.Od=!1;var g=new mc(0,h,l,c.f,i.c),m=Fc(l,r);for(e=e.f,s&&s!==p.Eg&&e.sort(s),c=0,l=e.length;c<l;++c)r=e[c],u&&r.U().tb(y,n),o.call(t,r);_c(g),p.kf=a,p.Eg=s,p.zd=g,p.resolution=NaN}}function Bd(t){t=t?t:{};var e=sv({},t);delete e.preload,delete e.useInterimTilesOnError,Hc.call(this,e),this.ui(t.preload?t.preload:0),this.vi(!t.useInterimTilesOnError||t.useInterimTilesOnError),d(void 0==t.renderMode||"image"==t.renderMode||"hybrid"==t.renderMode||"vector"==t.renderMode,28),this.u=t.renderMode||"hybrid"}function Xd(t,e,n,o){function i(){delete window[a],r.parentNode.removeChild(r)}var r=document.createElement("script"),a="olc_"+c(e);r.async=!0,r.src=t+(-1==t.indexOf("?")?"?":"&")+(o||"callback")+"="+a;var s=setTimeout(function(){i(),n&&n()},1e4);window[a]=function(t){clearTimeout(s),i(),e(t)},document.getElementsByTagName("head")[0].appendChild(r)}function Ud(t,e,n,o,i,r,a,s,p,h,u){if(zl.call(this,i,0),this.C=void 0!==u&&u,this.A=a,this.O=s,this.v=null,this.c=e,this.l=o,this.o=r?r:i,this.g=[],this.Ad=null,this.f=0,r=o.Ua(this.o),s=this.l.D(),i=this.c.D(),r=s?J(r,s):r,z(r))if((s=t.D())&&(i=i?J(i,s):s),o=fd(t,n,V(r),o.La(this.o[0])),!isFinite(o)||0>=o)this.state=4;else if(this.u=new vd(t,n,r,i,o*(void 0!==h?h:.5)),this.u.c.length)if(this.f=e.Qc(o),n=md(this.u),i&&(t.a?(n[1]=b(n[1],i[1],i[3]),n[3]=b(n[3],i[1],i[3])):n=J(n,i)),z(n)){for(t=Bt(e,n,this.f),e=t.da;e<=t.ba;e++)for(n=t.ga;n<=t.ja;n++)(h=p(this.f,e,n,a))&&this.g.push(h);this.g.length||(this.state=4)}else this.state=4;else this.state=4;else this.state=4}function Yd(t,e){var n=/\{z\}/g,o=/\{x\}/g,i=/\{y\}/g,r=/\{-y\}/g;return function(a){if(a)return t.replace(n,a[0].toString()).replace(o,a[1].toString()).replace(i,function(){return(-a[2]-1).toString()}).replace(r,function(){var t=e.a?e.a[a[0]]:null;return d(t,55),(t.ja-t.ga+1+a[2]).toString()})}}function Gd(t,e){for(var n=t.length,o=Array(n),i=0;i<n;++i)o[i]=Yd(t[i],e);return Wd(o)}function Wd(t){return 1===t.length?t[0]:function(e,n,o){if(e)return t[S((e[1]<<e[0])+e[2],t.length)](e,n,o)}}function zd(){}function Hd(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var o,i=n[2].charCodeAt(0);for(o=n[1].charCodeAt(0);o<=i;++o)e.push(t.replace(n[0],String.fromCharCode(o)));return e}if(n=n=/\{(\d+)-(\d+)\}/.exec(t)){for(i=parseInt(n[2],10),o=parseInt(n[1],10);o<=i;o++)e.push(t.replace(n[0],o.toString()));return e}return e.push(t),e}function qd(t){hs.call(this),this.highWaterMark=void 0!==t?t:2048}function Vd(t){return t.c>t.highWaterMark}function $d(t){Vc.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.na=void 0!==t.opaque&&t.opaque,this.Va=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.a=new qd(t.cacheSize),this.l=[0,0],this.wc=""}function Zd(t,e,n,o,i){if(e=t.Ud(e),!e)return!1;for(var r,a,s=!0,p=o.da;p<=o.ba;++p)for(var h=o.ga;h<=o.ja;++h)r=t.Tb(n,p,h),a=!1,e.b.hasOwnProperty(r)&&(r=e.get(r),(a=2===r.V())&&(a=!1!==i(r))),a||(s=!1);return s}function Jd(t,e){t.wc!==e&&(t.wc=e,t.s())}function Qd(t,e,n){var o=void 0!==n?n:t.c;if(n=t.Jb(o),t.G&&o.g){var i=e;e=i[0],t=Xt(n,i),o=Ht(o),O(o,t)?e=i:(i=et(o),t[0]+=i*Math.ceil((o[0]-t[0])/i),e=n.Xf(t,e))}if(i=e[0],o=e[1],t=e[2],n.minZoom>i||i>n.maxZoom)n=!1;else{var r=n.D();n=!(n=r?Bt(n,r,i):n.a?n.a[i]:null)||v(n,o,t)}return n?e:null}function ty(t,e){he.call(this,t),this.tile=e}function ey(t){$d.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX}),this.tileLoadFunction=t.tileLoadFunction,this.tileUrlFunction=this.Hc?this.Hc.bind(this):zd,this.urls=null,t.urls?this.cb(t.urls):t.url&&this.ib(t.url),t.tileUrlFunction&&this.bb(t.tileUrlFunction)}function ny(t){ey.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:ry,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=t.tileClass?t.tileClass:ql,this.f={},this.u={},this.Ha=t.reprojectionErrorThreshold,this.C=!1}function oy(t,e,n,o,i,r,a){return e=[e,n,o],i=(n=Qd(t,e,r))?t.tileUrlFunction(n,i,r):void 0,i=new t.tileClass(e,void 0!==i?0:4,void 0!==i?i:"",t.crossOrigin,t.tileLoadFunction),i.key=a,ne(i,"change",t.Fi,t),i}function iy(t,e,n,o,i,r){var a,s=t.Tb(e,n,o),p=t.wc;if(t.a.b.hasOwnProperty(s)){if(a=t.a.get(s),a.key!=p){var h=a;if(a=oy(t,e,n,o,i,r,p),0==h.V()?a.a=h.a:a.a=h,a.a){e=a.a,n=a;do{if(2==e.V()){e.a=null;break}1==e.V()?n=e:0==e.V()?n.a=e.a:n=e,e=n.a}while(e)}t.a.replace(s,a)}}else a=oy(t,e,n,o,i,r,p),t.a.set(s,a);return a}function ry(t,e){t.Y().src=e}function ay(t){this.A=void 0!==t.hidpi&&t.hidpi,ny.call(this,{cacheSize:t.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:Ct("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,tilePixelRatio:this.A?2:1,wrapX:void 0===t.wrapX||t.wrapX}),this.I=void 0!==t.culture?t.culture:"en-us",this.v=void 0!==t.maxZoom?t.maxZoom:-1,this.i=t.key,this.o=t.imagerySet,Xd("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.o+"?uriScheme=https&include=ImageryProviders&key="+this.i,this.fa.bind(this),void 0,"jsonp")}function sy(t){t=t||{};var e=void 0!==t.projection?t.projection:"EPSG:3857",n=void 0!==t.tileGrid?t.tileGrid:Wt({extent:Ht(e),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});ny.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:t.opaque,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:n,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX})}function py(t){this.v=t.account,this.A=t.map||"",this.i=t.config||{},this.o={},sy.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,maxZoom:void 0!==t.maxZoom?t.maxZoom:18,minZoom:t.minZoom,projection:t.projection,state:"loading",wrapX:t.wrapX}),hy(this)}function hy(t){var e=JSON.stringify(t.i);if(t.o[e])uy(t,t.o[e]);else{var n="https://"+t.v+".cartodb.com/api/v1/map";t.A&&(n+="/named/"+t.A);var o=new XMLHttpRequest;o.addEventListener("load",t.yl.bind(t,e)),o.addEventListener("error",t.xl.bind(t)),o.open("POST",n),o.setRequestHeader("Content-type","application/json"),o.send(JSON.stringify(t.i))}}function uy(t,e){t.ib("https://"+e.cdn_url.https+"/"+t.v+"/api/v1/map/"+e.layergroupid+"/{z}/{x}/{y}.png")}function ly(t){Jc.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,wrapX:t.wrapX}),this.C=void 0,this.I=void 0!==t.distance?t.distance:20,this.A=[],this.Qa=t.geometryFunction||function(t){return t=t.U(),d(t instanceof Co,10),t},this.v=t.source,this.v.J("change",ly.prototype.bj,this)}function cy(t){if(void 0!==t.C){t.A.length=0;for(var e=F(),n=t.I*t.C,o=t.v.We(),i={},r=0,a=o.length;r<a;r++){var s=o[r];c(s).toString()in i||!(s=t.Qa(s))||(s=s.W(),K(s,e),L(e,n,e),s=t.v.Pf(e),s=s.filter(function(t){return t=c(t).toString(),!(t in i)&&(i[t]=!0)}),t.A.push(fy(t,s)))}}}function fy(t,e){for(var n=[0,0],o=e.length-1;0<=o;--o){var i=t.Qa(e[o]);i?Un(n,i.W()):e.splice(o,1)}return qn(n,1/e.length),n=new Gs(new Co(n)),n.set("features",e),n}function dy(t,e){var n=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&n.push(t+"="+encodeURIComponent(e[t]))});var o=n.join("&");return t=t.replace(/[?&]$/,""),t=-1===t.indexOf("?")?t+"?":t+"&",t+o}function yy(t){t=t||{},xd.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions}),this.I=void 0!==t.crossOrigin?t.crossOrigin:null,this.T=void 0===t.hidpi||t.hidpi,this.i=t.url,this.f=t.imageLoadFunction?t.imageLoadFunction:wd,this.u=t.params||{},this.N=null,this.o=[0,0],this.C=0,this.A=void 0!==t.ratio?t.ratio:1.5}function vy(t){xd.call(this,{projection:t.projection,resolutions:t.resolutions}),this.I=void 0!==t.crossOrigin?t.crossOrigin:null,this.o=void 0!==t.displayDpi?t.displayDpi:96,this.f=t.params||{},this.C=t.url,this.i=t.imageLoadFunction?t.imageLoadFunction:wd,this.T=void 0===t.hidpi||t.hidpi,this.fa=void 0!==t.metersPerUnit?t.metersPerUnit:1,this.u=void 0!==t.ratio?t.ratio:1,this.na=void 0!==t.useOverlay&&t.useOverlay,this.N=null,this.A=0}function gy(t){var e=t.imageExtent,n=void 0!==t.crossOrigin?t.crossOrigin:null,o=t.imageLoadFunction?t.imageLoadFunction:wd;xd.call(this,{attributions:t.attributions,logo:t.logo,projection:Ct(t.projection)}),this.N=new Gl(e,void 0,1,this.j,t.url,n,o),this.i=t.imageSize?t.imageSize:null,ne(this.N,"change",this.l,this)}function my(t){t=t||{},xd.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions}),this.fa=void 0!==t.crossOrigin?t.crossOrigin:null,this.f=t.url,this.u=t.imageLoadFunction?t.imageLoadFunction:wd,this.i=t.params||{},this.o=!0,xy(this),this.T=t.serverType,this.na=void 0===t.hidpi||t.hidpi,this.N=null,this.A=[0,0],this.I=0,this.C=void 0!==t.ratio?t.ratio:1.5}function by(t,e,n,o,i,r){if(d(void 0!==t.f,9),r[t.o?"CRS":"SRS"]=i.nb,"STYLES"in t.i||(r.STYLES=""),1!=o)switch(t.T){case"geoserver":o=90*o+.5|0,r.FORMAT_OPTIONS="FORMAT_OPTIONS"in r?r.FORMAT_OPTIONS+(";dpi:"+o):"dpi:"+o;break;case"mapserver":r.MAP_RESOLUTION=90*o;break;case"carmentaserver":case"qgis":r.DPI=90*o;break;default:d(!1,8)}r.WIDTH=n[0],r.HEIGHT=n[1],n=i.b;var a;return a=t.o&&"ne"==n.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,r.BBOX=a.join(","),dy(t.f,r)}function xy(t){t.o=0<=Xn(t.i.VERSION||"1.3.0")}function _y(t){t=t||{};var e;e=void 0!==t.attributions?t.attributions:[Z_],sy.call(this,{attributions:e,
cacheSize:t.cacheSize,crossOrigin:void 0!==t.crossOrigin?t.crossOrigin:"anonymous",opaque:void 0===t.opaque||t.opaque,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:t.wrapX})}function wy(t){this.A=null,this.na=void 0!==t.operationType?t.operationType:"pixel",this.Ha=void 0!==t.threads?t.threads:1,this.f=Sy(t.sources);for(var e=0,n=this.f.length;e<n;++e)ne(this.f[e],"change",this.s,this);this.T=new Nn(function(){return 1},this.s.bind(this));for(var e=Py(this.f),n={},o=0,i=e.length;o<i;++o)n[c(e[o].layer)]=e[o];this.i=null,this.C={animate:!1,attributions:{},coordinateToPixelTransform:ar(),extent:null,focus:null,index:0,layerStates:n,layerStatesArray:e,logos:{},pixelRatio:1,pixelToCoordinateTransform:ar(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.T,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},xd.call(this,{}),t.operation&&this.u(t.operation,t.lib)}function Py(t){return t.map(function(t){return er(t.a)})}function Sy(t){for(var e=t.length,n=Array(e),o=0;o<e;++o){var i=o,r=t[o],a=null;r instanceof $d?(r=new Fd({source:r}),a=new Id(r)):r instanceof xd&&(r=new Ld({source:r}),a=new cd(r)),n[i]=a}return n}function Cy(t,e,n){he.call(this,t),this.extent=e.extent,this.resolution=e.viewState.resolution/e.pixelRatio,this.data=n}function My(t){var e=t.layer.indexOf("-"),e=ow[-1==e?t.layer:t.layer.slice(0,e)],n=nw[t.layer];sy.call(this,{attributions:ew,cacheSize:t.cacheSize,crossOrigin:"anonymous",maxZoom:void 0!=t.maxZoom?t.maxZoom:e.maxZoom,minZoom:void 0!=t.minZoom?t.minZoom:e.minZoom,opaque:n.opaque,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+t.layer+"/{z}/{x}/{y}."+n.Ib})}function Ty(t){t=t||{},ny.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX}),this.i=t.params||{},this.o=F(),Jd(this,Ay(this))}function Ay(t){var e,n=0,o=[];for(e in t.i)o[n++]=e+"-"+t.i[e];return o.join("/")}function Ey(t){$d.call(this,{opaque:!1,projection:t.projection,tileGrid:t.tileGrid,wrapX:void 0===t.wrapX||t.wrapX})}function Ly(t,e,n){zl.call(this,t,2),this.c=e,this.Fa=n,this.g=null}function Iy(t){if(this.i=null,ny.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,projection:Ct("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,wrapX:void 0===t.wrapX||t.wrapX}),t.jsonp)Xd(t.url,this.Ci.bind(this),this.Ue.bind(this));else{var e=new XMLHttpRequest;e.addEventListener("load",this.qo.bind(this)),e.addEventListener("error",this.po.bind(this)),e.open("GET",t.url),e.send()}}function Ny(t){if($d.call(this,{projection:Ct("EPSG:3857"),state:"loading"}),this.u=void 0===t.preemptive||t.preemptive,this.o=zd,this.f=void 0,this.i=t.jsonp||!1,t.url)if(this.i)Xd(t.url,this.jg.bind(this),this.Ve.bind(this));else{var e=new XMLHttpRequest;e.addEventListener("load",this.uo.bind(this)),e.addEventListener("error",this.to.bind(this)),e.open("GET",t.url),e.send()}else t.tileJSON?this.jg(t.tileJSON):d(!1,51)}function Oy(t,e,n,o,i,r){zl.call(this,t,e),this.o=n,this.g=o,this.v=i,this.c=this.l=this.f=null,this.u=r}function ky(t,e,n,o,i){0==t.state&&!0===i?(oe(t,"change",function(){n.call(o,this.getData(e))},t),Ry(t)):!0===i?setTimeout(function(){n.call(o,this.getData(e))}.bind(t),0):n.call(o,t.getData(e))}function Ry(t){if(0==t.state)if(t.state=1,t.u)Xd(t.o,t.Di.bind(t),t.Ce.bind(t));else{var e=new XMLHttpRequest;e.addEventListener("load",t.so.bind(t)),e.addEventListener("error",t.ro.bind(t)),e.open("GET",t.o),e.send()}}function Dy(t){t=t||{};var e=t.params||{};ny.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:!("TRANSPARENT"in e?e.TRANSPARENT:1),projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX}),this.v=void 0!==t.gutter?t.gutter:0,this.i=e,this.o=!0,this.A=t.serverType,this.T=void 0===t.hidpi||t.hidpi,this.I="",jy(this),this.ea=F(),By(this),Jd(this,Ky(this))}function Fy(t,e,n,o,i,r,a){var s=t.urls;if(s){if(a.WIDTH=n[0],a.HEIGHT=n[1],a[t.o?"CRS":"SRS"]=r.nb,"STYLES"in t.i||(a.STYLES=""),1!=i)switch(t.A){case"geoserver":n=90*i+.5|0,a.FORMAT_OPTIONS="FORMAT_OPTIONS"in a?a.FORMAT_OPTIONS+(";dpi:"+n):"dpi:"+n;break;case"mapserver":a.MAP_RESOLUTION=90*i;break;case"carmentaserver":case"qgis":a.DPI=90*i;break;default:d(!1,52)}return r=r.b,t.o&&"ne"==r.substr(0,2)&&(t=o[0],o[0]=o[1],o[1]=t,t=o[2],o[2]=o[3],o[3]=t),a.BBOX=o.join(","),dy(1==s.length?s[0]:s[S((e[1]<<e[0])+e[2],s.length)],a)}}function jy(t){var e=0,n=[];if(t.urls){var o,i;for(o=0,i=t.urls.length;o<i;++o)n[e++]=t.urls[o]}t.I=n.join("#")}function Ky(t){var e,n=0,o=[];for(e in t.i)o[n++]=e+"-"+t.i[e];return o.join("/")}function By(t){t.o=0<=Xn(t.i.VERSION||"1.3.0")}function Xy(t,e,n,o,i){zl.call(this,t,e),this.c=null,this.l=o,this.f=null,this.g={Od:!1,Eg:null,kf:-1,Fg:-1,zd:null},this.v=i,this.o=n}function Uy(t,e){t.mj(cp(e,t.l,t.Qo.bind(t),t.Po.bind(t)))}function Yy(t){ey.call(this,{attributions:t.attributions,cacheSize:void 0!==t.cacheSize?t.cacheSize:128,extent:t.extent,logo:t.logo,opaque:!1,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:Uy,tileUrlFunction:t.tileUrlFunction,tilePixelRatio:t.tilePixelRatio,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX}),this.i=t.format?t.format:null,this.f=void 0==t.overlaps||t.overlaps,this.tileClass=t.tileClass?t.tileClass:Xy}function Gy(t){this.l=t.matrixIds,Dt.call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes})}function Wy(t,e,n){var o=[],i=[],a=[],s=[],p=[],h=void 0!==n?n:[];n=Ct(t.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var u=n.uc(),l="ne"==n.b.substr(0,2);return t.TileMatrix.sort(function(t,e){return e.ScaleDenominator-t.ScaleDenominator}),t.TileMatrix.forEach(function(t){var e;if(e=!(0<h.length)||r(h,function(e){return t.Identifier==e.TileMatrix})){i.push(t.Identifier),e=28e-5*t.ScaleDenominator/u;var n=t.TileWidth,c=t.TileHeight;l?a.push([t.TopLeftCorner[1],t.TopLeftCorner[0]]):a.push(t.TopLeftCorner),o.push(e),s.push(n==c?n:[n,c]),p.push([t.MatrixWidth,-t.MatrixHeight])}}),new Gy({extent:e,origins:a,resolutions:o,matrixIds:i,tileSizes:s,sizes:p})}function zy(t){function e(t){return t="KVP"==o?dy(t,r):t.replace(/\{(\w+?)\}/g,function(t,e){return e.toLowerCase()in r?r[e.toLowerCase()]:t}),function(e){if(e){var n={TileMatrix:i.l[e[0]],TileCol:e[1],TileRow:-e[2]-1};return sv(n,a),e=t,e="KVP"==o?dy(e,n):e.replace(/\{(\w+?)\}/g,function(t,e){return n[e]})}}}this.ea=void 0!==t.version?t.version:"1.0.0",this.v=void 0!==t.format?t.format:"image/jpeg",this.i=t.dimensions?t.dimensions:{},this.A=t.layer,this.o=t.matrixSet,this.I=t.style;var n=t.urls;void 0===n&&void 0!==t.url&&(n=Hd(t.url));var o=this.T=void 0!==t.requestEncoding?t.requestEncoding:"KVP",i=t.tileGrid,r={layer:this.A,style:this.I,tilematrixset:this.o};"KVP"==o&&sv(r,{Service:"WMTS",Request:"GetTile",Version:this.ea,Format:this.v});var a=this.i,s=n&&0<n.length?Wd(n.map(e)):zd;ny.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:s,urls:n,wrapX:void 0!==t.wrapX&&t.wrapX}),Jd(this,Hy(this))}function Hy(t){var e,n=0,o=[];for(e in t.i)o[n++]=e+"-"+t.i[e];return o.join("/")}function qy(t){t=t||{};var e=t.size,n=e[0],o=e[1],i=[],r=256;switch(void 0!==t.tierSizeCalculation?t.tierSizeCalculation:iw){case iw:for(;n>r||o>r;)i.push([Math.ceil(n/r),Math.ceil(o/r)]),r+=r;break;case rw:for(;n>r||o>r;)i.push([Math.ceil(n/r),Math.ceil(o/r)]),n>>=1,o>>=1;break;default:d(!1,53)}i.push([1,1]),i.reverse();for(var r=[1],a=[0],o=1,n=i.length;o<n;o++)r.push(1<<o),a.push(i[o-1][0]*i[o-1][1]+a[o-1]);r.reverse(),e=[0,-e[1],e[0],0],e=new Dt({extent:e,origin:Q(e),resolutions:r}),(r=t.url)&&-1==r.indexOf("{TileGroup}")&&(r+="{TileGroup}/{z}-{x}-{y}.jpg"),r=Hd(r),r=Wd(r.map(function(t){return function(e){if(e){var n=e[0],o=e[1];e=-e[2]-1;var r={z:n,x:o,y:e,TileGroup:"TileGroup"+((o+e*i[n][0]+a[n])/256|0)};return t.replace(/\{(\w+?)\}/g,function(t,e){return r[e]})}}})),ny.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:Vy,tileGrid:e,tileUrlFunction:r})}function Vy(t,e,n,o,i){ql.call(this,t,e,n,o,i),this.g=null}function $y(t,e){this.b=e,this.a=[{x:0,y:0,width:t,height:t}],this.c={},this.g=Te(t,t),this.i=this.g.canvas}function Zy(t,e,n,o){e=[e,1],0<n.width&&0<n.height&&e.push(n),0<o.width&&0<o.height&&e.push(o),t.a.splice.apply(t.a,e)}function Jy(t){t=t||{},this.a=void 0!==t.initialSize?t.initialSize:256,this.g=void 0!==t.maxSize?t.maxSize:void 0!==ev?ev:2048,this.b=void 0!==t.space?t.space:1,this.i=[new $y(this.a,this.b)],this.c=this.a,this.f=[new $y(this.c,this.b)]}function Qy(t,e,n,o,i,r,a){var s,p,h,u=e?t.f:t.i;for(p=0,h=u.length;p<h;++p){if(s=u[p],s=s.add(n,o,i,r,a))return s;s||p!==h-1||(e?(s=Math.min(2*t.c,t.g),t.c=s):(s=Math.min(2*t.a,t.g),t.a=s),s=new $y(s,t.b),u.push(s),++h)}return null}var tv,ev,nv,ov={},iv=this,rv=0;u(f,Error);var av=function(){var t;return t="cosh"in Math?Math.cosh:function(t){return t=Math.exp(t),(t+1/t)/2}}(),sv="function"==typeof Object.assign?Object.assign:function(t,e){if(!t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),o=1,i=arguments.length;o<i;++o){var r=arguments[o];if(void 0!==r&&null!==r)for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a])}return n};ht.prototype.a=function(t){for(var e=0,n=t.length,o=t[n-1][0],i=t[n-1][1],r=0;r<n;r++)var a=t[r][0],s=t[r][1],e=e+P(a-o)*(2+Math.sin(P(i))+Math.sin(P(s))),o=a,i=s;return e*this.radius*this.radius/2},ht.prototype.b=function(t,e){var n=P(t[1]),o=P(e[1]),i=(o-n)/2,r=P(e[0]-t[0])/2,n=Math.sin(i)*Math.sin(i)+Math.sin(r)*Math.sin(r)*Math.cos(n)*Math.cos(o);return 2*this.radius*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))},ht.prototype.offset=function(t,e,n){var o=P(t[1]);e/=this.radius;var i=Math.asin(Math.sin(o)*Math.cos(e)+Math.cos(o)*Math.sin(e)*Math.cos(n));return[180*(P(t[0])+Math.atan2(Math.sin(n)*Math.sin(e)*Math.cos(o),Math.cos(e)-Math.sin(o)*Math.sin(i)))/Math.PI,180*i/Math.PI]};var pv=new ht(6370997),hv={};hv.degrees=2*Math.PI*pv.radius/360,hv.ft=.3048,hv.m=1,hv["us-ft"]=1200/3937;var uv=null;tv=ut.prototype,tv.Fk=function(){return this.nb},tv.D=function(){return this.c},tv.Kb=function(){return this.i},tv.uc=function(){return this.o||hv[this.i]},tv.ol=function(){return this.f},tv.Zl=function(){return this.g},tv.Qp=function(t){this.g=t,this.a=!(!t||!this.c)},tv.Mn=function(t){this.c=t,this.a=!(!this.g||!t)},tv.$p=function(t){this.f=t},tv.Pp=function(t){this.l=t},u(lt,ut);var lv=6378137*Math.PI,cv=[-lv,-lv,lv,lv],fv=[-180,-85,180,85],dv="EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 urn:ogc:def:crs:EPSG::3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" ").map(function(t){return new lt(t)}),yv=new ht(6378137);u(dt,ut);var vv=[-180,-90,180,90],gv=Math.PI*yv.radius/180,mv=[new dt("CRS:84"),new dt("EPSG:4326","neu"),new dt("urn:ogc:def:crs:EPSG::4326","neu"),new dt("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new dt("urn:ogc:def:crs:OGC:1.3:CRS84"),new dt("urn:ogc:def:crs:OGC:2:84"),new dt("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new dt("urn:x-ogc:def:crs:EPSG:4326","neu")],bv={},xv={};Ot();var _v=[0,0,0];tv=Dt.prototype,tv.mh=function(t,e,n){t=Bt(this,t,e);for(var o=t.da,i=t.ba;o<=i;++o)for(var r=t.ga,a=t.ja;r<=a;++r)n([e,o,r])},tv.D=function(){return this.u},tv.Ni=function(){return this.maxZoom},tv.Oi=function(){return this.minZoom},tv.Uc=function(t){return this.g?this.g:this.c[t]},tv.La=function(t){return this.b[t]},tv.Pi=function(){return this.b},tv.Ua=function(t,e){var n=this.Uc(t[0]),o=this.La(t[0]),i=A(this.eb(t[0]),this.j),r=n[0]+t[1]*i[0]*o,n=n[1]+t[2]*i[1]*o;return j(r,n,r+i[0]*o,n+i[1]*o,e)},tv.Ae=function(t,e,n){return Ut(this,t[0],t[1],e,!1,n)},tv.Xf=function(t,e,n){return Ut(this,t[0],t[1],this.La(e),!1,n)},tv.eb=function(t){return this.f?this.f:this.i[t]},tv.Qc=function(t,e){return b(o(this.b,t,e||0),this.minZoom,this.maxZoom)},qt.prototype.g=function(){return this.b},se.prototype.$b=!1,se.prototype.ra=l,he.prototype.preventDefault=he.prototype.stopPropagation=function(){this.gp=!0},u(le,se),le.prototype.addEventListener=function(t,e){var n=this.qa[t];n||(n=this.qa[t]=[]),-1===n.indexOf(e)&&n.push(e)},le.prototype.b=function(t){var e="string"==typeof t?new he(t):t;t=e.type,e.target=this;var n,o=this.qa[t];if(o){t in this.ta||(this.ta[t]=0,this.$a[t]=0),++this.ta[t];for(var i=0,r=o.length;i<r;++i)if(!1===o[i].call(this,e)||e.gp){n=!1;break}if(--this.ta[t],!this.ta[t]){for(e=this.$a[t],delete this.$a[t];e--;)this.removeEventListener(t,l);delete this.ta[t]}return n}},le.prototype.ra=function(){ae(this)},le.prototype.removeEventListener=function(t,e){var n=this.qa[t];if(n){var o=n.indexOf(e);t in this.$a?(n[o]=l,++this.$a[t]):(n.splice(o,1),n.length||delete this.qa[t])}},u(fe,le),tv=fe.prototype,tv.s=function(){++this.g,this.b("change")},tv.L=function(){return this.g},tv.J=function(t,e,n){if(Array.isArray(t)){for(var o=t.length,i=Array(o),r=0;r<o;++r)i[r]=ne(this,t[r],e,n);return i}return ne(this,t,e,n)},tv.once=function(t,e,n){if(Array.isArray(t)){for(var o=t.length,i=Array(o),r=0;r<o;++r)i[r]=oe(this,t[r],e,n);return i}return oe(this,t,e,n)},tv.K=function(t,e,n){if(Array.isArray(t))for(var o=0,i=t.length;o<i;++o)ie(this,t[o],e,n);else ie(this,t,e,n)},u(de,fe);var wv={};tv=de.prototype,tv.get=function(t){var e;return this.O.hasOwnProperty(t)&&(e=this.O[t]),e},tv.P=function(){return Object.keys(this.O)},tv.M=function(){return sv({},this.O)},tv.set=function(t,e,n){n?this.O[t]=e:(n=this.O[t],this.O[t]=e,n!==e&&ve(this,t,n))},tv.H=function(t,e){for(var n in t)this.set(n,t[n],e)},tv.R=function(t,e){if(t in this.O){var n=this.O[t];delete this.O[t],e||ve(this,t,n)}},u(ge,he),u(me,de),tv=me.prototype,tv.clear=function(){for(;0<this.fc();)this.pop()},tv.ag=function(t){var e,n;for(e=0,n=t.length;e<n;++e)this.push(t[e]);return this},tv.forEach=function(t,e){this.a.forEach(t,e)},tv.pm=function(){return this.a},tv.item=function(t){return this.a[t]},tv.fc=function(){return this.get(Pv)},tv.Ge=function(t,e){this.c&&xe(this,e),this.a.splice(t,0,e),be(this),this.b(new _e("add",e))},tv.pop=function(){return this.Bg(this.fc()-1)},tv.push=function(t){this.c&&xe(this,t);var e=this.fc();return this.Ge(e,t),this.fc()},tv.remove=function(t){var e,n,o=this.a;for(e=0,n=o.length;e<n;++e)if(o[e]===t)return this.Bg(e)},tv.Bg=function(t){var e=this.a[t];return this.a.splice(t,1),be(this),this.b(new _e("remove",e)),e},tv.Mp=function(t,e){var n=this.fc();if(t<n)this.c&&xe(this,e,t),n=this.a[t],this.a[t]=e,this.b(new _e("remove",n)),this.b(new _e("add",e));else{for(;n<t;++n)this.Ge(n,void 0);this.Ge(t,e)}};var Pv="length";u(_e,he);var Sv=/^#(?:[0-9a-f]{3}){1,2}$/i,Cv=/^([a-z]*)$/i,Mv=function(){var t={},e=0;return function(n){var o;if(t.hasOwnProperty(n))o=t[n];else{if(1024<=e){o=0;for(var i in t)3&o++||(delete t[i],--e)}o=n;var r;if(Cv.exec(o)&&(i=document.createElement("div"),i.style.color=o,document.body.appendChild(i),o=getComputedStyle(i).color,document.body.removeChild(i)),Sv.exec(o)){r=o.length-1,d(3==r||6==r,54);var a=3==r?1:2;r=parseInt(o.substr(1+0*a,a),16),i=parseInt(o.substr(1+1*a,a),16),o=parseInt(o.substr(1+2*a,a),16),1==a&&(r=(r<<4)+r,i=(i<<4)+i,o=(o<<4)+o),r=[r,i,o,1]}else o.indexOf("rgba(")?o.indexOf("rgb(")?d(!1,14):(o=o.slice(4,-1).split(",").map(Number),o.push(1),r=Se(o)):(o=o.slice(5,-1).split(",").map(Number),r=Se(o));o=r,t[n]=o,++e}return o}}();u(Le,de),Le.prototype.ra=function(){Ee(this.element),de.prototype.ra.call(this)},Le.prototype.f=function(){return this.a},Le.prototype.setMap=function(t){this.a&&Ee(this.element);for(var e=0,n=this.u.length;e<n;++e)re(this.u[e]);this.u.length=0,(this.a=t)&&((this.Z?this.Z:t.v).appendChild(this.element),this.render!==l&&this.u.push(ne(t,"postrender",this.render,this)),t.render())},Le.prototype.i=function(t){this.Z="string"==typeof t?document.getElementById(t):t},u(Ie,Le),tv=Ie.prototype,tv.Pm=function(t){t.preventDefault(),Oe(this)},tv.Om=function(){return this.l},tv.Rm=function(t){this.l!==t&&(this.l=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.c&&Oe(this))},tv.Qm=function(t){this.l&&this.c!==t&&Oe(this)},tv.Nm=function(){return this.c},u(je,Le),je.prototype.A=function(t){t.preventDefault(),this.l?this.l():(t=this.a.$())&&void 0!==t.Sa()&&(0<this.o?t.animate({rotation:0,duration:this.o,easing:Re}):t.Ne(0))},u(Be,Le),Be.prototype.j=function(t,e){e.preventDefault();var n=this.a.$();if(n){var o=n.Ra();o&&(o=n.constrainResolution(o,t),0<this.c?(n.Kc()&&n.kd(),n.animate({resolution:o,duration:this.c,easing:Re})):n.$c(o))}},u(Ue,Le),Ue.prototype.C=function(t){t.preventDefault(),Ye()&&(t=this.a)&&(Ge()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(t=this.j?"string"==typeof this.j?document.getElementById(this.j):this.j:t.vc(),this.A?t.mozRequestFullScreenWithKeys?t.mozRequestFullScreenWithKeys():t.webkitRequestFullscreen?t.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):We(t):We(t)))},Ue.prototype.v=function(){var t=this.element.firstElementChild,e=this.a;Ge()?(t.className=this.c+"-true",Ae(this.o,this.l)):(t.className=this.c+"-false",Ae(this.l,this.o)),e&&e.Cd()},Ue.prototype.setMap=function(t){Le.prototype.setMap.call(this,t),t&&this.u.push(ne(document,Tv(),this.v,this))};var Tv=function(){var t;return function(){if(!t){var e=document.body;e.webkitRequestFullscreen?t="webkitfullscreenchange":e.mozRequestFullScreen?t="mozfullscreenchange":e.msRequestFullscreen?t="MSFullscreenChange":e.requestFullscreen&&(t="fullscreenchange")}return t}}();u(ze,Le),tv=ze.prototype,tv.Sm=function(){this.j=null},tv.qh=function(){return this.get(Ev)},tv.Sh=function(){return this.get(Av)},tv.Gl=function(t){this.l=this.a.xe(t),qe(this,this.l)},tv.Hl=function(){qe(this,null),this.l=null},tv.setMap=function(t){Le.prototype.setMap.call(this,t),t&&(t=t.c,this.u.push(ne(t,"mousemove",this.Gl,this),ne(t,"mouseout",this.Hl,this)))},tv.fj=function(t){this.set(Ev,t)},tv.Th=function(t){this.set(Av,t)};var Av="projection",Ev="coordinateFormat";u(Ve,he),u($e,Ve),$e.prototype.preventDefault=function(){Ve.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},$e.prototype.stopPropagation=function(){Ve.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()};var Lv={xq:"singleclick",mq:"click",nq:"dblclick",qq:"pointerdrag",tq:"pointermove",pq:"pointerdown",wq:"pointerup",vq:"pointerover",uq:"pointerout",rq:"pointerenter",sq:"pointerleave",oq:"pointercancel"};u(Ze,$e);var Iv,Nv,Ov=["experimental-webgl","webgl","webkit-3d","moz-webgl"],kv="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",Rv=-1!==kv.indexOf("firefox"),Dv=-1!==kv.indexOf("safari")&&-1==kv.indexOf("chrom"),Fv=-1!==kv.indexOf("webkit")&&-1==kv.indexOf("edge"),jv=-1!==kv.indexOf("macintosh"),Kv=window.devicePixelRatio||1,Bv=!1,Xv=function(){if(!("HTMLCanvasElement"in window))return!1;try{var t=document.createElement("CANVAS").getContext("2d");return!!t&&(void 0!==t.setLineDash&&(Bv=!0),!0)}catch(t){return!1}}(),Uv="DeviceOrientationEvent"in window,Yv="geolocation"in navigator,Gv="ontouchstart"in window,Wv="PointerEvent"in window,zv=!!navigator.msPointerEnabled,Hv=!1,qv=[];if("WebGLRenderingContext"in window)try{var Vv=Je(document.createElement("CANVAS"),{failIfMajorPerformanceCaveat:!0});Vv&&(Hv=!0,Nv=Vv.getParameter(Vv.MAX_TEXTURE_SIZE),qv=Vv.getSupportedExtensions())}catch(t){}Iv=Hv,nv=qv,ev=Nv,u(tn,Qe),tv=tn.prototype,tv.am=function(t){if(!en(this,t)){1..toString()in this.a&&this.cancel(t);var e=nn(t);this.a[1..toString()]=t,wn(this.b,"pointerdown",e,t)}},tv.bm=function(t){if(!en(this,t)){var e=nn(t);wn(this.b,"pointermove",e,t)}},tv.em=function(t){if(!en(this,t)){var e=this.a[1..toString()];e&&e.button===t.button&&(e=nn(t),wn(this.b,"pointerup",e,t),delete this.a[1..toString()])}},tv.dm=function(t){if(!en(this,t)){var e=nn(t);_n(this.b,e,t)}},tv.cm=function(t){if(!en(this,t)){var e=nn(t);xn(this.b,e,t)}},tv.cancel=function(t){var e=nn(t);this.b.cancel(e,t),delete this.a[1..toString()]},u(on,Qe),tv=on.prototype,tv.jm=function(t){this.a[t.pointerId.toString()]=t;var e=rn(this,t);wn(this.b,"pointerdown",e,t)},tv.km=function(t){var e=rn(this,t);wn(this.b,"pointermove",e,t)},tv.nm=function(t){var e=rn(this,t);wn(this.b,"pointerup",e,t),delete this.a[t.pointerId.toString()]},tv.lm=function(t){var e=rn(this,t);xn(this.b,e,t)},tv.mm=function(t){var e=rn(this,t);_n(this.b,e,t)},tv.im=function(t){var e=rn(this,t);this.b.cancel(e,t),delete this.a[t.pointerId.toString()]},tv.hm=function(t){this.b.b(new sn("lostpointercapture",t,t))},tv.gm=function(t){this.b.b(new sn("gotpointercapture",t,t))},u(an,Qe),tv=an.prototype,tv.Yo=function(t){Pn(this.b,t)},tv.Zo=function(t){Pn(this.b,t)},tv.bp=function(t){Pn(this.b,t)},tv.$o=function(t){Pn(this.b,t)},tv.ap=function(t){Pn(this.b,t)},tv.Xo=function(t){Pn(this.b,t)},tv.$l=function(t){Pn(this.b,t)},tv.pl=function(t){Pn(this.b,t)},u(sn,he);var $v=!1;try{$v=1===new MouseEvent("click",{buttons:1}).buttons}catch(t){}u(un,Qe),tv=un.prototype,tv.dj=function(){this.f=0,this.c=void 0},tv.gq=function(t){var e=t.touches,n=Object.keys(this.a),o=n.length;if(o>=e.length){var i,r,a,s=[];for(i=0;i<o;++i){r=n[i],a=this.a[r];var p;if(!(p=1==r))t:{for(var h=e.length,u=0;u<h;u++)if(p=e[u],p.identifier===r-2){p=!0;break t}p=!1}p||s.push(a.out)}for(i=0;i<s.length;++i)this.Gf(t,s[i])}e=t.changedTouches[0],n=Object.keys(this.a).length,(!n||1===n&&1..toString()in this.a)&&(this.g=e.identifier,void 0!==this.c&&clearTimeout(this.c)),fn(this,t),this.f++,cn(this,t,this.To)},tv.To=function(t,e){this.a[e.pointerId]={target:e.target,out:e,Qi:e.target};var n=this.b;e.bubbles=!0,wn(n,"pointerover",e,t),n=this.b,e.bubbles=!1,wn(n,"pointerenter",e,t),wn(this.b,"pointerdown",e,t)},tv.fq=function(t){t.preventDefault(),cn(this,t,this.fm)},tv.fm=function(t,e){var n=this.a[e.pointerId];if(n){var o=n.out,i=n.Qi;wn(this.b,"pointermove",e,t),o&&i!==e.target&&(o.relatedTarget=e.target,e.relatedTarget=i,o.target=i,e.target?(xn(this.b,o,t),_n(this.b,e,t)):(e.target=i,e.relatedTarget=null,this.Gf(t,e))),n.out=e,n.Qi=e.target}},tv.eq=function(t){fn(this,t),cn(this,t,this.hq)},tv.hq=function(t,e){wn(this.b,"pointerup",e,t),this.b.out(e,t),bn(this.b,e,t),delete this.a[e.pointerId],e.isPrimary&&(this.g=void 0,this.c=setTimeout(this.dj.bind(this),200))},tv.cq=function(t){cn(this,t,this.Gf)},tv.Gf=function(t,e){this.b.cancel(e,t),this.b.out(e,t),bn(this.b,e,t),delete this.a[e.pointerId],e.isPrimary&&(this.g=void 0,this.c=setTimeout(this.dj.bind(this),200))},u(dn,le),dn.prototype.c=function(t){var e=this.i[t.type];e&&e(t)},dn.prototype.out=function(t,e){t.bubbles=!0,wn(this,"pointerout",t,e)},dn.prototype.cancel=function(t,e){wn(this,"pointercancel",t,e)},dn.prototype.ra=function(){for(var t,e=this.a.length,n=0;n<e;n++)t=this.a[n],gn(this,Object.keys(t.i));le.prototype.ra.call(this)};var Zv=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];u(Sn,le),tv=Sn.prototype,tv.Ch=function(t){Mn(this,t);var e=new Ze("pointerup",this.c,t);this.b(e),this.l||t.button||Cn(this,this.g),this.O||(this.i.forEach(re),this.i.length=0,this.l=!1,this.g=null,pe(this.a),this.a=null)},tv.Jl=function(t){Mn(this,t);var e=new Ze("pointerdown",this.c,t);this.b(e),this.g=t,this.i.length||(this.a=new dn(document),this.i.push(ne(this.a,"pointermove",this.Dm,this),ne(this.a,"pointerup",this.Ch,this),ne(this.f,"pointercancel",this.Ch,this)))},tv.Dm=function(t){if(t.clientX!=this.g.clientX||t.clientY!=this.g.clientY){this.l=!0;var e=new Ze("pointerdrag",this.c,t,this.l);this.b(e)}t.preventDefault()},tv.Bp=function(t){this.b(new Ze(t.type,this.c,t,!(!this.g||t.clientX==this.g.clientX&&t.clientY==this.g.clientY)))},tv.ra=function(){this.u&&(re(this.u),this.u=null),this.o&&(re(this.o),this.o=null),this.i.forEach(re),this.i.length=0,this.a&&(pe(this.a),this.a=null),this.f&&(pe(this.f),this.f=null),le.prototype.ra.call(this)},Tn.prototype.clear=function(){this.b.length=0,this.g.length=0,at(this.a)},Tn.prototype.i=function(t){d(!(this.c(t)in this.a),31);var e=this.o(t);return 1/0!=e&&(this.b.push(t),this.g.push(e),this.a[this.c(t)]=!0,Ln(this,0,this.b.length-1),!0)},u(Nn,Tn),Nn.prototype.i=function(t){var e=Tn.prototype.i.call(this,t);return e&&ne(t[0],"change",this.l,this),e},Nn.prototype.l=function(t){t=t.target;var e=t.V();2!==e&&3!==e&&4!==e&&5!==e||(ie(t,"change",this.l,this),t=t.hb(),t in this.f&&(delete this.f[t],--this.j),this.u())},u(eo,de),tv=eo.prototype,tv.Ab=function(t,e){var n=e?e:[NaN,NaN];return this.Hb(t[0],t[1],n,1/0),n},tv.sb=function(t){return this.Sc(t[0],t[1])},tv.Sc=to,tv.D=function(t){this.u!=this.g&&(this.o=this.se(this.o),this.u=this.g);var e=this.o;return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):t=e,t},tv.Qb=function(t){return this.Td(t*t)},tv.tb=function(t,e){return this.Fc(Tt(t,e)),this},u(io,eo),tv=io.prototype,tv.Sc=to,tv.se=function(t){return B(this.B,0,this.B.length,this.a,t)},tv.cc=function(){return this.B.slice(0,this.a)},tv.ia=function(){return this.B},tv.dc=function(){return this.B.slice(this.B.length-this.a)},tv.ec=function(){return this.la},tv.Td=function(t){if(this.l!=this.g&&(at(this.i),this.f=0,this.l=this.g),0>t||this.f&&t<=this.f)return this;var e=t.toString();if(this.i.hasOwnProperty(e))return this.i[e];var n=this.od(t);return n.ia().length<this.B.length?this.i[e]=n:(this.f=t,this)},tv.od=function(){return this},tv.sa=function(){return this.a},tv.Fc=function(t){this.B&&(t(this.B,this.B,this.a),this.s())},tv.rotate=function(t,e){var n=this.ia();if(n){for(var o=n.length,i=this.sa(),r=n?n:[],a=Math.cos(t),s=Math.sin(t),p=e[0],h=e[1],u=0,l=0;l<o;l+=i){var c=n[l]-p,f=n[l+1]-h;for(r[u++]=p+c*a-f*s,r[u++]=h+c*s+f*a,c=l+2;c<l+i;++c)r[u++]=n[c]}n&&r.length!=u&&(r.length=u),this.s()}},tv.scale=function(t,e,n){var o=e;void 0===o&&(o=t);var i=n;if(i||(i=V(this.D())),n=this.ia()){e=n.length;for(var r=this.sa(),a=n?n:[],s=i[0],i=i[1],p=0,h=0;h<e;h+=r){var u=n[h]-s,l=n[h+1]-i;for(a[p++]=s+t*u,a[p++]=i+o*l,u=h+2;u<h+r;++u)a[p++]=n[u]}n&&a.length!=p&&(a.length=p),this.s()}},tv.translate=function(t,e){var n=this.ia();n&&(oo(n,n.length,this.sa(),t,e,n),this.s())},u(Po,io),tv=Po.prototype,tv.clone=function(){var t=new Po(null);return So(t,this.la,this.B.slice()),t},tv.Hb=function(t,e,n,o){return o<N(this.D(),t,e)?o:(this.c!=this.g&&(this.j=Math.sqrt(lo(this.B,0,this.B.length,this.a,0)),this.c=this.g),fo(this.B,0,this.B.length,this.a,this.j,!0,t,e,n,o))},tv.jn=function(){return po(this.B,0,this.B.length,this.a)},tv.W=function(){return bo(this.B,0,this.B.length,this.a)},tv.od=function(t){var e=[];return e.length=_o(this.B,0,this.B.length,this.a,t,e,0),t=new Po(null),So(t,"XY",e),t},tv.S=function(){return"LinearRing"},tv.Ya=function(){},tv.pa=function(t,e){t?(so(this,e,t,1),this.B||(this.B=[]),this.B.length=go(this.B,0,t,this.a),this.s()):So(this,"XY",null)},u(Co,io),tv=Co.prototype,tv.clone=function(){var t=new Co(null);return t.ca(this.la,this.B.slice()),t},tv.Hb=function(t,e,n,o){var i=this.B;if(t=w(t,e,i[0],i[1]),t<o){for(o=this.a,e=0;e<o;++e)n[e]=i[e];return n.length=o,t}return o},tv.W=function(){return this.B?this.B.slice():[]},tv.se=function(t){return K(this.B,t)},tv.S=function(){return"Point"},tv.Ya=function(t){return R(t,this.B[0],this.B[1])},tv.pa=function(t,e){t?(so(this,e,t,0),this.B||(this.B=[]),this.B.length=vo(this.B,t),this.s()):this.ca("XY",null)},tv.ca=function(t,e){ao(this,t,e),this.s()},u(Fo,io),tv=Fo.prototype,tv.kk=function(t){this.B?i(this.B,t.ia()):this.B=t.ia().slice(),this.c.push(this.B.length),this.s()},tv.clone=function(){var t=new Fo(null);return t.ca(this.la,this.B.slice(),this.c.slice()),t},tv.Hb=function(t,e,n,o){return o<N(this.D(),t,e)?o:(this.C!=this.g&&(this.G=Math.sqrt(co(this.B,0,this.c,this.a,0)),this.C=this.g),yo(this.B,0,this.c,this.a,this.G,!0,t,e,n,o))},tv.Sc=function(t,e){return Ao(this.gc(),0,this.c,this.a,t,e)},tv.mn=function(){return ho(this.gc(),0,this.c,this.a)},tv.W=function(t){var e;return void 0!==t?(e=this.gc().slice(),Ro(e,0,this.c,this.a,t)):e=this.B,xo(e,0,this.c,this.a)},tv.Sb=function(){return this.c},tv.Ok=function(){return new Co(jo(this))},tv.Uk=function(){return this.c.length},tv.vh=function(t){if(0>t||this.c.length<=t)return null;var e=new Po(null);return So(e,this.la,this.B.slice(t?this.c[t-1]:0,this.c[t])),e},tv.Oc=function(){var t,e,n=this.la,o=this.B,i=this.c,r=[],a=0;for(t=0,e=i.length;t<e;++t){var s=i[t],p=new Po(null);So(p,n,o.slice(a,s)),r.push(p),a=s}return r},tv.gc=function(){if(this.I!=this.g){var t=this.B;ko(t,this.c,this.a)?this.j=t:(this.j=t.slice(),this.j.length=Ro(this.j,0,this.c,this.a)),this.I=this.g}return this.j},tv.od=function(t){var e=[],n=[];return e.length=wo(this.B,0,this.c,this.a,Math.sqrt(t),e,0,n),t=new Fo(null),t.ca("XY",e,n),t},tv.S=function(){return"Polygon"},tv.Ya=function(t){return No(this.gc(),0,this.c,this.a,t)},tv.pa=function(t,e){if(t){so(this,e,t,2),this.B||(this.B=[]);var n=mo(this.B,0,t,this.a,this.c);this.B.length=n.length?n[n.length-1]:0,this.s()}else this.ca("XY",null,this.c)},tv.ca=function(t,e,n){ao(this,t,e),this.c=n,this.s()},u(Yo,de),tv=Yo.prototype,tv.animate=function(t){var e,n=Date.now(),o=this.za().slice(),i=this.Ra(),r=this.Sa(),a=arguments.length;1<a&&"function"==typeof arguments[a-1]&&(e=arguments[a-1],--a);for(var s=[],p=0;p<a;++p){var h=arguments[p],u={start:n,complete:!1,anchor:h.anchor,duration:void 0!==h.duration?h.duration:1e3,easing:h.easing||De};h.center&&(u.Jg=o,u.Lg=h.center,o=u.Lg),void 0!==h.zoom?(u.sf=i,u.Bd=this.constrainResolution(this.a,h.zoom-this.l,0),i=u.Bd):h.resolution&&(u.sf=i,u.Bd=h.resolution,i=u.Bd),void 0!==h.rotation&&(u.Kg=r,u.tf=h.rotation,r=u.tf),u.jd=e,n+=u.duration,s.push(u)}this.c.push(s),ti(this,0,1),this.vf()},tv.Kc=function(){return 0<Vo(this)[0]},tv.kd=function(){ti(this,0,-Vo(this)[0]);for(var t=0,e=this.c.length;t<e;++t){var n=this.c[t];n[0].jd&&n[0].jd(!1)}this.c.length=0},tv.vf=function(){if(void 0!==this.u&&(cancelAnimationFrame(this.u),this.u=void 0),this.Kc()){for(var t=Date.now(),e=!1,n=this.c.length-1;0<=n;--n){for(var o=this.c[n],i=!0,r=0,a=o.length;r<a;++r){var s=o[r];if(!s.complete){if(e=t-s.start,e=0<s.duration?e/s.duration:1,1<=e?(s.complete=!0,e=1):i=!1,e=s.easing(e),s.Jg){var p=s.Jg[0],h=s.Jg[1];this.set("center",[p+e*(s.Lg[0]-p),h+e*(s.Lg[1]-h)])}if(s.sf&&s.Bd&&(p=1===e?s.Bd:s.sf+e*(s.Bd-s.sf),s.anchor&&this.set("center",Ho(this,p,s.anchor)),this.set("resolution",p)),void 0!==s.Kg&&void 0!==s.tf&&(e=1===e?s.tf:s.Kg+e*(s.tf-s.Kg),s.anchor&&this.set("center",zo(this,e,s.anchor)),this.set("rotation",e)),
e=!0,!s.complete)break}}i&&(this.c[n]=null,ti(this,0,-1),(o=o[0].jd)&&o(!0))}this.c=this.c.filter(Boolean),e&&void 0===this.u&&(this.u=requestAnimationFrame(this.vf))}},tv.Gc=function(t){return this.v.center(t)},tv.constrainResolution=function(t,e,n){return this.v.resolution(t,e||0,n||0)},tv.constrainRotation=function(t,e){return this.v.rotation(t,e||0)},tv.za=function(){return this.get("center")},tv.hd=function(t){t=t||qo(this);var e=this.za();d(e,1);var n=this.Ra();d(void 0!==n,2);var o=this.Sa();return d(void 0!==o,3),$(e,n,o,t)},tv.Hm=function(){return this.a},tv.Jm=function(){return this.i},tv.Im=function(){return this.Be(this.i)},tv.Up=function(t){Go(this,Wo(this,{maxZoom:t}))},tv.Km=function(){return this.Be(this.a)},tv.Vp=function(t){Go(this,Wo(this,{minZoom:t}))},tv.Lm=function(){return this.o},tv.Ra=function(){return this.get("resolution")},tv.Mm=function(){return this.f},tv.Sa=function(){return this.get("rotation")},tv.V=function(){var t=this.za(),e=this.o,n=this.Ra(),o=this.Sa();return{center:t.slice(),projection:void 0!==e?e:null,resolution:n,rotation:o}},tv.Ah=function(){var t,e=this.Ra();return void 0!==e&&(t=this.Be(e)),t},tv.Be=function(t){var e;if(t>=this.i&&t<=this.a){e=this.l||0;var n,i;if(this.f){if(i=o(this.f,t,1),e+=i,i==this.f.length-1)return e;n=this.f[i],i=n/this.f[i+1]}else n=this.a,i=this.C;e+=Math.log(n/t)/Math.log(i)}return e},tv.Mf=function(t,e){var n=e||{},o=n.size;o||(o=qo(this));var i;t instanceof io?"Circle"===t.S()?(t=t.D(),i=Bo(t),i.rotate(this.Sa(),V(t))):i=t:(d(Array.isArray(t),24),d(!ot(t),25),i=Bo(t));var r,a=n.padding?n.padding:[0,0,0,0],s=void 0===n.constrainResolution||n.constrainResolution,p=void 0!==n.nearest&&n.nearest;r=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.constrainResolution(this.a,n.maxZoom-this.l,0):0;var h=i.ia(),u=this.Sa(),l=Math.cos(-u),u=Math.sin(-u),c=1/0,f=1/0,y=-(1/0),v=-(1/0);i=i.sa();for(var g=0,m=h.length;g<m;g+=i)var b=h[g]*l-h[g+1]*u,x=h[g]*u+h[g+1]*l,c=Math.min(c,b),f=Math.min(f,x),y=Math.max(y,b),v=Math.max(v,x);o=$o([c,f,y,v],[o[0]-a[1]-a[3],o[1]-a[0]-a[2]]),o=isNaN(o)?r:Math.max(o,r),s&&(s=this.constrainResolution(o,0,0),!p&&s<o&&(s=this.constrainResolution(s,-1,0)),o=s),u=-u,p=(c+y)/2+(a[1]-a[3])/2*o,a=(f+v)/2+(a[0]-a[2])/2*o,l=[p*l-a*u,a*l+p*u],void 0!==n.duration?this.animate({resolution:o,center:l,duration:n.duration,easing:n.easing}):(this.$c(o),this.lb(l))},tv.qk=function(t,e,n){var o=this.Sa(),i=Math.cos(-o),o=Math.sin(-o),r=t[0]*i-t[1]*o;t=t[1]*i+t[0]*o;var a=this.Ra(),r=r+(e[0]/2-n[0])*a;t+=(n[1]-e[1]/2)*a,o=-o,this.lb([r*i-t*o,t*i+r*o])},tv.rotate=function(t,e){if(void 0!==e){var n=zo(this,t,e);this.lb(n)}this.Ne(t)},tv.lb=function(t){this.set("center",t),this.Kc()&&this.kd()},tv.$c=function(t){this.set("resolution",t),this.Kc()&&this.kd()},tv.Ne=function(t){this.set("rotation",t),this.Kc()&&this.kd()},tv.aq=function(t){t=this.constrainResolution(this.a,t-this.l,0),this.$c(t)},u(oi,de),oi.prototype.c=function(){return this.get("active")},oi.prototype.i=function(){return this.v},oi.prototype.Ia=function(t){this.set("active",t)},oi.prototype.setMap=function(t){this.v=t},u(si,oi),u(mi,oi),mi.prototype.bd=function(t){return t},u(_i,mi),_i.prototype.bd=to,u(Ci,mi),Ci.prototype.bd=to,u(Ei,se),Ei.prototype.ra=function(){this.setMap(null)},Ei.prototype.setMap=function(t){if(this.b){this.b.A.removeChild(this.a);var e=this.a.style;e.left=e.top=e.width=e.height="inherit"}(this.b=t)&&this.b.A.appendChild(this.a)},Ei.prototype.U=function(){return this.Ic},u(Ni,mi),Ni.prototype.U=function(){return this.a.U()},Ni.prototype.j=l;var Jv="boxstart",Qv="boxdrag",tg="boxend";u(Fi,he),u(ji,Ni),ji.prototype.j=function(){var t=this.v,e=t.$(),n=t.Nb(),o=this.U().D();if(this.I){var i,r,a=e.hd(n),o=[t.Ka(H(o)),t.Ka(tt(o))],t=j(1/0,1/0,-(1/0),-(1/0),void 0);for(i=0,r=o.length;i<r;++i)Y(t,o[i]);it(a,1/$o(t,n)),o=a}n=e.constrainResolution($o(o,n)),a=V(o),a=e.Gc(a),e.animate({resolution:n,center:a,duration:this.G,easing:Re})},u(Ki,oi),u(Xi,oi),u(Yi,oi),Yi.prototype.G=function(){this.o=void 0,ti(this.v.$(),1,-1)},Yi.prototype.I=function(t){t=t.$(),t.Kc()&&t.kd(),ri(t,-b(this.j,-1,1),this.a,this.A),this.l=void 0,this.j=0,this.a=null,this.u=this.f=void 0},Yi.prototype.T=function(t){this.C=t,t||(this.a=null)};var eg="trackpad",ng="wheel";u(Wi,mi),Wi.prototype.bd=to,u(Vi,mi),Vi.prototype.bd=to,u(tr,de),tv=tr.prototype,tv.D=function(){return this.get("extent")},tv.hc=function(){return this.get("maxResolution")},tv.ic=function(){return this.get("minResolution")},tv.jc=function(){return this.get("opacity")},tv.Lb=function(){return this.get("visible")},tv.Aa=function(){return this.get("zIndex")},tv.xc=function(t){this.set("extent",t)},tv.Cc=function(t){this.set("maxResolution",t)},tv.Dc=function(t){this.set("minResolution",t)},tv.yc=function(t){this.set("opacity",t)},tv.zc=function(t){this.set("visible",t)},tv.Xb=function(t){this.set("zIndex",t)},u(nr,tr),tv=nr.prototype,tv.Gd=function(){},tv.Ee=function(){this.Lb()&&this.s()},tv.Cl=function(){this.i.forEach(re),this.i.length=0;var t=this.sd();this.i.push(ne(t,"add",this.Bl,this),ne(t,"remove",this.Dl,this));for(var e in this.c)this.c[e].forEach(re);at(this.c);var n,o,t=t.a;for(e=0,n=t.length;e<n;e++)o=t[e],this.c[c(o).toString()]=[ne(o,"propertychange",this.Ee,this),ne(o,"change",this.Ee,this)];this.s()},tv.Bl=function(t){t=t.element;var e=c(t).toString();this.c[e]=[ne(t,"propertychange",this.Ee,this),ne(t,"change",this.Ee,this)],this.s()},tv.Dl=function(t){t=c(t.element).toString(),this.c[t].forEach(re),delete this.c[t],this.s()},tv.sd=function(){return this.get(og)},tv.pi=function(t){this.set(og,t)},tv.Tf=function(t){var e=void 0!==t?t:[],n=e.length;this.sd().forEach(function(t){t.Tf(e)}),t=er(this);var o,i;for(o=e.length;n<o;n++)i=e[n],i.opacity*=t.opacity,i.visible=i.visible&&t.visible,i.maxResolution=Math.min(i.maxResolution,t.maxResolution),i.minResolution=Math.max(i.minResolution,t.minResolution),void 0!==t.extent&&(i.extent=void 0!==i.extent?J(i.extent,t.extent):t.extent);return e},tv.Vf=function(){return"ready"};var og="layers";u(or,tr),tv=or.prototype,tv.Tf=function(t){return t=t?t:[],t.push(er(this)),t},tv.ka=function(){return this.get("source")||null},tv.Vf=function(){var t=this.ka();return t?t.V():"undefined"},tv.Ln=function(){this.s()},tv.Pl=function(){this.v&&(re(this.v),this.v=null);var t=this.ka();t&&(this.v=ne(t,"change",this.Ln,this)),this.s()},tv.setMap=function(t){this.l&&(re(this.l),this.l=null),t||this.s(),this.o&&(re(this.o),this.o=null),t&&(this.l=ne(t,"precompose",function(t){var e=er(this);e.Ie=!1,e.zIndex=1/0,t.frameState.layerStatesArray.push(e),t.frameState.layerStates[c(this)]=e},this),this.o=ne(this,"change",t.render,t),this.s())},tv.ad=function(t){this.set("source",t)},rr.prototype.clear=function(){this.b={},this.a=0},rr.prototype.get=function(t,e,n){return t=e+":"+t+":"+(n?Pe(n):"null"),t in this.b?this.b[t]:null},rr.prototype.set=function(t,e,n,o){this.b[e+":"+t+":"+(n?Pe(n):"null")]=o,++this.a};var ig=new rr,rg=Array(6);u(gr,se),tv=gr.prototype,tv.ra=function(){for(var t in this.c)pe(this.c[t])},tv.Ba=function(t,e,n,o,i,r,a){function s(t,n){var r=c(t).toString(),a=e.layerStates[c(n)].Ie;if(!(r in e.skippedFeatureUids)||a)return o.call(i,t,a?n:null)}var p,h=e.viewState,u=h.resolution,l=h.projection,h=t;if(l.a){var l=l.D(),f=et(l),d=t[0];(d<l[0]||d>l[2])&&(h=[d+f*Math.ceil((l[0]-d)/f),t[1]])}for(l=e.layerStatesArray,f=l.length-1;0<=f;--f){var y=l[f],d=y.layer;if(ir(y,u)&&r.call(a,d)&&(y=xr(this,d),d.ka()&&(p=y.Ba(d.ka().G?h:t,e,n,s,i)),p))return p}},tv.xi=function(t,e,n,o,i){return void 0!==this.Ba(t,e,n,Qn,this,o,i)},tv.Al=function(){this.l.render()},tv.Dg=l,tv.Hp=function(t,e){for(var n in this.c)if(!(e&&n in e.layerStates)){var o=n,i=this.c[o];delete this.c[o],re(this.u[o]),delete this.u[o],pe(i)}},u(Pr,he);var ag=[0,0,0,1],sg=[],pg=[0,0,0,1];tv=Cr.prototype,tv.oc=function(){},tv.td=function(){},tv.ac=function(){},tv.te=function(){},tv.ue=function(){},tv.Rb=function(){},tv.pc=function(){},tv.qc=function(){},tv.rc=function(){},tv.sc=function(){},tv.tc=function(){},tv.Ac=function(){},tv.Na=function(){},tv.Wb=function(){},tv.Ub=function(){},u(Mr,Cr),tv=Mr.prototype,tv.ac=function(t){if(nt(this.c,t.D())){if(this.a||this.b){this.a&&Ir(this,this.a),this.b&&Nr(this,this.b);var e;e=this.O;var n=this.u,o=t.ia();e=o?no(o,0,o.length,t.sa(),e,n):null,n=e[2]-e[0],o=e[3]-e[1],n=Math.sqrt(n*n+o*o),o=this.g,o.beginPath(),o.arc(e[0],e[1],n,0,2*Math.PI),this.a&&o.fill(),this.b&&o.stroke()}""!==this.Fa&&Ar(this,t.za(),2,2)}},tv.td=function(t){this.Na(t.Ca(),t.Da()),this.Wb(t.Y()),this.Ub(t.Oa())},tv.oc=function(t){switch(t.S()){case"Point":this.sc(t);break;case"LineString":this.Rb(t);break;case"Polygon":this.tc(t);break;case"MultiPoint":this.qc(t);break;case"MultiLineString":this.pc(t);break;case"MultiPolygon":this.rc(t);break;case"GeometryCollection":this.ue(t);break;case"Circle":this.ac(t)}},tv.te=function(t,e){var n=(0,e.Qa)(t);n&&nt(this.c,n.D())&&(this.td(e),this.oc(n))},tv.ue=function(t){t=t.a;var e,n;for(e=0,n=t.length;e<n;++e)this.oc(t[e])},tv.sc=function(t){var e=t.ia();t=t.sa(),this.N&&Tr(this,e,e.length),""!==this.Fa&&Ar(this,e,e.length,t)},tv.qc=function(t){var e=t.ia();t=t.sa(),this.N&&Tr(this,e,e.length),""!==this.Fa&&Ar(this,e,e.length,t)},tv.Rb=function(t){if(nt(this.c,t.D())){if(this.b){Nr(this,this.b);var e=this.g,n=t.ia();e.beginPath(),Er(this,n,0,n.length,t.sa(),!1),e.stroke()}""!==this.Fa&&(t=Sp(t),Ar(this,t,2,2))}},tv.pc=function(t){var e=t.D();if(nt(this.c,e)){if(this.b){Nr(this,this.b);var e=this.g,n=t.ia(),o=0,i=t.Sb(),r=t.sa();e.beginPath();var a,s;for(a=0,s=i.length;a<s;++a)o=Er(this,n,o,i[a],r,!1);e.stroke()}""!==this.Fa&&(t=Mp(t),Ar(this,t,t.length,2))}},tv.tc=function(t){if(nt(this.c,t.D())){if(this.b||this.a){this.a&&Ir(this,this.a),this.b&&Nr(this,this.b);var e=this.g;e.beginPath(),Lr(this,t.gc(),0,t.Sb(),t.sa()),this.a&&e.fill(),this.b&&e.stroke()}""!==this.Fa&&(t=jo(t),Ar(this,t,2,2))}},tv.rc=function(t){if(nt(this.c,t.D())){if(this.b||this.a){this.a&&Ir(this,this.a),this.b&&Nr(this,this.b);var e,n,o=this.g,i=Ip(t),r=0,a=t.c,s=t.sa();for(o.beginPath(),e=0,n=a.length;e<n;++e)r=Lr(this,i,r,a[e],s);this.a&&o.fill(),this.b&&o.stroke()}""!==this.Fa&&(t=Lp(t),Ar(this,t,t.length,2))}},tv.Na=function(t,e){if(t){var n=t.b;this.a={fillStyle:Ce(n?n:ag)}}else this.a=null;if(e){var n=e.a,o=e.i,i=e.g,r=e.f,a=e.j,s=e.c,p=e.l;this.b={lineCap:void 0!==o?o:"round",lineDash:i?i:sg,lineDashOffset:r?r:0,lineJoin:void 0!==a?a:"round",lineWidth:this.v*(void 0!==s?s:1),miterLimit:void 0!==p?p:10,strokeStyle:Ce(n?n:pg)}}else this.b=null},tv.Wb=function(t){if(t){var e=t.Jc(),n=t.Y(1),o=t.Tc(),i=t.kc();this.A=e[0],this.C=e[1],this.G=i[1],this.N=n,this.o=t.f,this.T=o[0],this.ea=o[1],this.fa=t.o,this.mb=t.j,this.i=t.c,this.na=t.u,this.qa=i[0]}else this.N=null},tv.Ub=function(t){if(t){var e=t.Ca();e?(e=e.b,this.f={fillStyle:Ce(e?e:ag)}):this.f=null;var n=t.Da();if(n){var e=n.a,o=n.i,i=n.g,r=n.f,a=n.j,s=n.c,n=n.l;this.l={lineCap:void 0!==o?o:"round",lineDash:i?i:sg,lineDashOffset:r?r:0,lineJoin:void 0!==a?a:"round",lineWidth:void 0!==s?s:1,miterLimit:void 0!==n?n:10,strokeStyle:Ce(e?e:pg)}}else this.l=null;var e=t.a,o=t.g,i=t.c,r=t.l,a=t.i,s=t.b,n=t.Oa(),p=t.f;t=t.j,this.ta={font:void 0!==e?e:"10px sans-serif",textAlign:void 0!==p?p:"center",textBaseline:void 0!==t?t:"middle"},this.Fa=void 0!==n?n:"",this.$b=void 0!==o?this.v*o:0,this.Ja=void 0!==i?this.v*i:0,this.Ha=void 0!==r&&r,this.Va=void 0!==a?a:0,this.j=this.v*(void 0!==s?s:1)}else this.Fa=""},u(Or,gr),Or.prototype.S=function(){return"canvas"},Or.prototype.Dg=function(t){if(t){var e=this.g,n=t.pixelRatio,o=Math.round(t.size[0]*n),i=Math.round(t.size[1]*n);this.b.width!=o||this.b.height!=i?(this.b.width=o,this.b.height=i):e.clearRect(0,0,o,i),n=t.viewState.rotation,mr(t),kr(this,"precompose",t);var r=t.layerStatesArray;s(r),n&&(e.save(),Sr(e,n,o/2,i/2));var a,p,h,o=t.viewState.resolution,i=0;for(a=r.length;i<a;++i)h=r[i],p=h.layer,p=xr(this,p),ir(h,o)&&"ready"==h.uj&&p.ud(t,h)&&p.O(t,h,e);n&&e.restore(),kr(this,"postcompose",t),this.a||(this.b.style.display="",this.a=!0),_r(this,t),t.postRenderFunctions.push(br)}else this.a&&(this.b.style.display="none",this.a=!1)},Or.prototype.wi=function(t,e,n,o,i,r){var a,s=e.viewState.resolution,p=e.layerStatesArray,h=p.length;for(t=lr(e.pixelToCoordinateTransform,t.slice()),--h;0<=h;--h){a=p[h];var u=a.layer;if(ir(a,s)&&i.call(r,u)&&(a=xr(this,u).v(t,e,n,o)))return a}};var hg=["Polygon","Circle","LineString","Image","Text"];u(Fr,Dr),Fr.prototype.S=function(){return 35632},u(jr,Dr),jr.prototype.S=function(){return 35633},u(Kr,Fr);var ug=new Kr;u(Br,jr);var lg=new Br;u(Gr,Cr),Gr.prototype.i=function(t,e,n,o,i,r,a,s,p,h,u){var l,c,f,d,y,v,g,m,b=t.b;this.j&&(l=b.isEnabled(b.STENCIL_TEST),c=b.getParameter(b.STENCIL_FUNC),f=b.getParameter(b.STENCIL_VALUE_MASK),d=b.getParameter(b.STENCIL_REF),y=b.getParameter(b.STENCIL_WRITEMASK),v=b.getParameter(b.STENCIL_FAIL),g=b.getParameter(b.STENCIL_PASS_DEPTH_PASS),m=b.getParameter(b.STENCIL_PASS_DEPTH_FAIL),b.enable(b.STENCIL_TEST),b.clear(b.STENCIL_BUFFER_BIT),b.stencilMask(255),b.stencilFunc(b.ALWAYS,1,255),b.stencilOp(b.KEEP,b.KEEP,b.REPLACE),this.j.i(t,e,n,o,i,r,a,s,p,h,u),b.stencilMask(0),b.stencilFunc(b.NOTEQUAL,1,255)),ta(t,34962,this.u),ta(t,34963,this.o),r=this.qf(b,t,i,r);var x=sr(this.Gb);fr(x,2/(n*i[0]),2/(n*i[1])),cr(x,-o),dr(x,-(e[0]-this.origin[0]),-(e[1]-this.origin[1])),e=sr(this.yb),fr(e,2/i[0],2/i[1]),i=sr(this.Va),o&&cr(i,-o),b.uniformMatrix4fv(r.g,!1,Yr(this.Ja,x)),b.uniformMatrix4fv(r.i,!1,Yr(this.Ja,e)),b.uniformMatrix4fv(r.c,!1,Yr(this.Ja,i)),b.uniform1f(r.a,a);var _;return p?(h?t=this.ve(b,t,s,p,u):(b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT),this.Pd(b,t,s,!0),t=(t=p(null))?t:void 0),_=t):this.Pd(b,t,s,!1),this.rf(b,r),this.j&&(l||b.disable(b.STENCIL_TEST),b.clear(b.STENCIL_BUFFER_BIT),b.stencilFunc(c,d,f),b.stencilMask(y),b.stencilOp(v,m,g)),_};var cg=[0,0,0,1],fg=[],dg=[0,0,0,1],yg=Number.EPSILON||2.220446049250313e-16,vg=35044;u(qr,Gr),tv=qr.prototype,tv.ac=function(t,e){var n=t.Yd(),o=t.sa();if(n){this.g.push(this.b.length),this.f.push(e),this.c.s&&(this.O.push(this.b.length),this.c.s=!1),this.A=n;var i,n=t.ia(),n=oo(n,2,o,-this.origin[0],-this.origin[1]),r=this.a.length,a=this.b.length,s=r/4;for(i=0;2>i;i+=o)this.a[r++]=n[i],this.a[r++]=n[i+1],this.a[r++]=0,this.a[r++]=this.A,this.a[r++]=n[i],this.a[r++]=n[i+1],this.a[r++]=1,this.a[r++]=this.A,this.a[r++]=n[i],this.a[r++]=n[i+1],this.a[r++]=2,this.a[r++]=this.A,this.a[r++]=n[i],this.a[r++]=n[i+1],this.a[r++]=3,this.a[r++]=this.A,this.b[a++]=s,this.b[a++]=s+1,this.b[a++]=s+2,this.b[a++]=s+2,this.b[a++]=s+3,this.b[a++]=s,s+=4}else this.c.s&&(this.l.pop(),this.l.length&&(o=this.l[this.l.length-1],this.c.fillColor=o[0],this.c.strokeColor=o[1],this.c.lineWidth=o[2],this.c.s=!1))},tv.Bb=function(){this.u=new Hr(this.a),this.o=new Hr(this.b),this.g.push(this.b.length),!this.O.length&&0<this.l.length&&(this.l=[]),this.b=this.a=null},tv.Cb=function(t){var e=this.u,n=this.o;return function(){ea(t,e),ea(t,n)}},tv.qf=function(t,e,n,o){var i,r=ia(e,ug,lg);return this.v?i=this.v:this.v=i=new Xr(t,r),e.Vc(r),t.enableVertexAttribArray(i.b),t.vertexAttribPointer(i.b,2,5126,!1,16,0),t.enableVertexAttribArray(i.j),t.vertexAttribPointer(i.j,1,5126,!1,16,8),t.enableVertexAttribArray(i.O),t.vertexAttribPointer(i.O,1,5126,!1,16,12),t.uniform2fv(i.I,n),t.uniform1f(i.ta,o),i},tv.rf=function(t,e){t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.j),t.disableVertexAttribArray(e.O)},tv.Pd=function(t,e,n){if(pt(n)){var o,i,r;for(i=this.g[this.g.length-1],n=this.O.length-1;0<=n;--n)o=this.O[n],r=this.l[n],t.uniform4fv(this.v.G,r[0]),Vr(this,t,r[1],r[2]),Wr(t,e,o,i),i=o}else{var a,s,p,h;for(p=this.g.length-2,r=i=this.g[p+1],o=this.O.length-1;0<=o;--o){for(a=this.l[o],t.uniform4fv(this.v.G,a[0]),Vr(this,t,a[1],a[2]),a=this.O[o];0<=p&&this.g[p]>=a;)h=this.g[p],s=this.f[p],s=c(s).toString(),n[s]&&(i!==r&&Wr(t,e,i,r),r=h),p--,i=h;i!==r&&Wr(t,e,i,r),i=r=a}}},tv.ve=function(t,e,n,o,i){var r,a,s,p,h,u,l;for(l=this.g.length-2,s=this.g[l+1],r=this.O.length-1;0<=r;--r)for(a=this.l[r],t.uniform4fv(this.v.G,a[0]),Vr(this,t,a[1],a[2]),p=this.O[r];0<=l&&this.g[l]>=p;){if(a=this.g[l],h=this.f[l],u=c(h).toString(),void 0===n[u]&&h.U()&&(void 0===i||nt(i,h.U().D()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Wr(t,e,a,s),s=o(h)))return s;l--,s=a}},tv.Na=function(t,e){var n,o;e?(n=e.g,this.c.lineDash=n?n:fg,n=e.f,this.c.lineDashOffset=n?n:0,n=e.a,n=n instanceof CanvasGradient||n instanceof CanvasPattern?dg:we(n).map(function(t,e){return 3!=e?t/255:t})||dg,o=e.c,o=void 0!==o?o:1):(n=[0,0,0,0],o=0);var i=t?t.b:[0,0,0,0];i=i instanceof CanvasGradient||i instanceof CanvasPattern?cg:we(i).map(function(t,e){return 3!=e?t/255:t})||cg,this.c.strokeColor&&a(this.c.strokeColor,n)&&this.c.fillColor&&a(this.c.fillColor,i)&&this.c.lineWidth===o||(this.c.s=!0,this.c.fillColor=i,this.c.strokeColor=n,this.c.lineWidth=o,this.l.push([i,n,o]))},u($r,Fr);var gg=new $r;u(Zr,jr);var mg=new Zr;u(Qr,se),tv=Qr.prototype,tv.ra=function(){ae(this.j);var t=this.b;if(!t.isContextLost()){for(var e in this.a)t.deleteBuffer(this.a[e].buffer);for(e in this.g)t.deleteProgram(this.g[e]);for(e in this.c)t.deleteShader(this.c[e]);t.deleteFramebuffer(this.i),t.deleteRenderbuffer(this.o),t.deleteTexture(this.u)}},tv.Mo=function(){return this.b},tv.No=function(){at(this.a),at(this.c),at(this.g),this.o=this.u=this.i=this.l=null},tv.Oo=function(){},tv.Vc=function(t){return t!=this.l&&(this.b.useProgram(t),this.l=t,!0)},u(pa,Gr),tv=pa.prototype,tv.Cb=function(t){var e=this.u,n=this.o,o=this.Ha,i=this.O,r=t.b;return function(){if(!r.isContextLost()){var a,s;for(a=0,s=o.length;a<s;++a)r.deleteTexture(o[a]);for(a=0,s=i.length;a<s;++a)r.deleteTexture(i[a])}ea(t,e),ea(t,n)}},tv.qc=function(t,e){this.g.push(this.b.length),this.f.push(e);var n=t.ia();ha(this,n,n.length,t.sa())},tv.sc=function(t,e){this.g.push(this.b.length),this.f.push(e);var n=t.ia();ha(this,n,n.length,t.sa())},tv.Bb=function(t){t=t.b,this.A.push(this.b.length),this.v.push(this.b.length),this.u=new Hr(this.a),this.o=new Hr(this.b);var e={};ua(this.Ha,this.l,e,t),ua(this.O,this.c,e,t),this.ta=this.G=this.C=void 0,this.c=this.l=null,this.Z=this.I=void 0,this.b=null,this.na=this.mb=this.fa=this.ea=this.T=this.$a=void 0,this.a=null,this.$b=void 0},tv.qf=function(t,e){var n,o=ia(e,gg,mg);return this.qa?n=this.qa:this.qa=n=new Jr(t,o),e.Vc(o),t.enableVertexAttribArray(n.b),t.vertexAttribPointer(n.b,2,5126,!1,32,0),t.enableVertexAttribArray(n.u),t.vertexAttribPointer(n.u,2,5126,!1,32,8),t.enableVertexAttribArray(n.C),t.vertexAttribPointer(n.C,2,5126,!1,32,16),t.enableVertexAttribArray(n.v),t.vertexAttribPointer(n.v,1,5126,!1,32,24),t.enableVertexAttribArray(n.A),t.vertexAttribPointer(n.A,1,5126,!1,32,28),n},tv.rf=function(t,e){t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.u),t.disableVertexAttribArray(e.C),t.disableVertexAttribArray(e.v),t.disableVertexAttribArray(e.A)},tv.Pd=function(t,e,n,o){var i=o?this.O:this.Ha;if(o=o?this.v:this.A,pt(n)){var r,a;for(n=0,r=i.length,a=0;n<r;++n){t.bindTexture(3553,i[n]);var s=o[n];Wr(t,e,a,s),a=s}}else for(a=r=0,s=i.length;a<s;++a){t.bindTexture(3553,i[a]);for(var p=0<a?o[a-1]:0,h=o[a],u=p;r<this.g.length&&this.g[r]<=h;){var l=c(this.f[r]).toString();void 0!==n[l]?(u!==p&&Wr(t,e,u,p),p=u=r===this.g.length-1?h:this.g[r+1]):p=r===this.g.length-1?h:this.g[r+1],r++}u!==p&&Wr(t,e,u,p)}},tv.ve=function(t,e,n,o,i){var r,a,s,p,h,u,l=this.g.length-1;for(r=this.O.length-1;0<=r;--r)for(t.bindTexture(3553,this.O[r]),a=0<r?this.v[r-1]:0,p=this.v[r];0<=l&&this.g[l]>=a;){if(s=this.g[l],h=this.f[l],u=c(h).toString(),void 0===n[u]&&h.U()&&(void 0===i||nt(i,h.U().D()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Wr(t,e,s,p),p=o(h)))return p;p=s,l--}},tv.Wb=function(t){var e=t.Jc(),n=t.Y(1),o=t.ye(),i=t.kg(1),r=t.f,a=t.Tc(),s=t.o,p=t.j,h=t.kc();t=t.c;var u;this.l.length?(u=this.l[this.l.length-1],c(u)!=c(n)&&(this.A.push(this.b.length),this.l.push(n))):this.l.push(n),this.c.length?(u=this.c[this.c.length-1],c(u)!=c(i)&&(this.v.push(this.b.length),this.c.push(i))):this.c.push(i),this.C=e[0],this.G=e[1],this.ta=h[1],this.I=o[1],this.Z=o[0],this.$a=r,this.T=a[0],this.ea=a[1],this.mb=p,this.fa=s,this.na=t,this.$b=h[0]},u(ca,Fr);var bg=new ca;u(fa,jr);var xg=new fa;u(ya,Gr),tv=ya.prototype,tv.Rb=function(t,e){var n=t.ia(),o=t.sa();ma(n,n.length,o)&&(n=oo(n,n.length,o,-this.origin[0],-this.origin[1]),this.c.s&&(this.l.push(this.b.length),this.c.s=!1),this.g.push(this.b.length),this.f.push(e),va(this,n,n.length,o))},tv.pc=function(t,e){var n,o,i=this.b.length,r=t.Nc();for(n=0,o=r.length;n<o;++n){var a=r[n].ia(),s=r[n].sa();ma(a,a.length,s)&&(a=oo(a,a.length,s,-this.origin[0],-this.origin[1]),va(this,a,a.length,s))}this.b.length>i&&(this.g.push(i),this.f.push(e),this.c.s&&(this.l.push(i),this.c.s=!1))},tv.Bb=function(){this.u=new Hr(this.a),this.o=new Hr(this.b),this.g.push(this.b.length),!this.l.length&&0<this.O.length&&(this.O=[]),this.b=this.a=null},tv.Cb=function(t){var e=this.u,n=this.o;return function(){ea(t,e),ea(t,n)}},tv.qf=function(t,e,n,o){var i,r=ia(e,bg,xg);return this.v?i=this.v:this.v=i=new da(t,r),e.Vc(r),t.enableVertexAttribArray(i.l),t.vertexAttribPointer(i.l,2,5126,!1,28,0),t.enableVertexAttribArray(i.b),t.vertexAttribPointer(i.b,2,5126,!1,28,8),t.enableVertexAttribArray(i.o),t.vertexAttribPointer(i.o,2,5126,!1,28,16),t.enableVertexAttribArray(i.f),t.vertexAttribPointer(i.f,1,5126,!1,28,24),t.uniform2fv(i.I,n),t.uniform1f(i.ta,o),i},tv.rf=function(t,e){t.disableVertexAttribArray(e.l),t.disableVertexAttribArray(e.b),t.disableVertexAttribArray(e.o),t.disableVertexAttribArray(e.f)},tv.Pd=function(t,e,n,o){var i=t.getParameter(t.DEPTH_FUNC),r=t.getParameter(t.DEPTH_WRITEMASK);if(o||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),pt(n)){var a,s,p;for(s=this.g[this.g.length-1],n=this.l.length-1;0<=n;--n)a=this.l[n],p=this.O[n],_a(this,t,p[0],p[1],p[2]),Wr(t,e,a,s),t.clear(t.DEPTH_BUFFER_BIT),s=a}else{var h,u,l,f;for(l=this.g.length-2,p=s=this.g[l+1],a=this.l.length-1;0<=a;--a){for(h=this.O[a],_a(this,t,h[0],h[1],h[2]),h=this.l[a];0<=l&&this.g[l]>=h;)f=this.g[l],u=this.f[l],u=c(u).toString(),n[u]&&(s!==p&&(Wr(t,e,s,p),t.clear(t.DEPTH_BUFFER_BIT)),p=f),l--,s=f;s!==p&&(Wr(t,e,s,p),t.clear(t.DEPTH_BUFFER_BIT)),s=p=h}}o||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(r),t.depthFunc(i))},tv.ve=function(t,e,n,o,i){var r,a,s,p,h,u,l;for(l=this.g.length-2,s=this.g[l+1],r=this.l.length-1;0<=r;--r)for(a=this.O[r],_a(this,t,a[0],a[1],a[2]),p=this.l[r];0<=l&&this.g[l]>=p;){if(a=this.g[l],h=this.f[l],u=c(h).toString(),void 0===n[u]&&h.U()&&(void 0===i||nt(i,h.U().D()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Wr(t,e,a,s),s=o(h)))return s;l--,s=a}},tv.Na=function(t,e){var n=e.i;this.c.lineCap=void 0!==n?n:"round",n=e.g,this.c.lineDash=n?n:fg,n=e.f,this.c.lineDashOffset=n?n:0,n=e.j,this.c.lineJoin=void 0!==n?n:"round",n=e.a,n=n instanceof CanvasGradient||n instanceof CanvasPattern?dg:we(n).map(function(t,e){return 3!=e?t/255:t})||dg;var o=e.c,o=void 0!==o?o:1,i=e.l,i=void 0!==i?i:10;this.c.strokeColor&&a(this.c.strokeColor,n)&&this.c.lineWidth===o&&this.c.miterLimit===i||(this.c.s=!0,this.c.strokeColor=n,this.c.lineWidth=o,this.c.miterLimit=i,this.O.push([n,o,i]))};var _g=3,wg=5,Pg=7,Sg=11,Cg=13,Mg=17,Tg=19,Ag=23;u(wa,Fr);var Eg=new wa;u(Pa,jr);var Lg=new Pa;tv=Ca.prototype,tv.clone=function(){var t=this.a;return new Ca({color:t&&t.slice?t.slice():t||void 0,lineCap:this.i,lineDash:this.g?this.g.slice():void 0,lineDashOffset:this.f,lineJoin:this.j,miterLimit:this.l,width:this.c})},tv.Do=function(){return this.a},tv.Qk=function(){return this.i},tv.Eo=function(){return this.g},tv.Rk=function(){return this.f},tv.Sk=function(){return this.j},tv.Xk=function(){return this.l},tv.Fo=function(){return this.c},tv.Go=function(t){this.a=t,this.b=void 0},tv.Rp=function(t){this.i=t,this.b=void 0},tv.setLineDash=function(t){this.g=t,this.b=void 0},tv.Sp=function(t){this.f=t,this.b=void 0},tv.Tp=function(t){this.j=t,this.b=void 0},tv.Wp=function(t){this.l=t,this.b=void 0},tv.Zp=function(t){this.c=t,this.b=void 0},Ma.prototype.concat=function(t){if(t.b){if(this.b){var e=this.b.next;this.b.next=t.g,t.g.ub=this.b,e.ub=t.a,t.a.next=e,this.c+=t.c}else this.b=t.b,this.g=t.g,this.a=t.a,this.c=t.c;t.b=void 0,t.g=void 0,t.a=void 0,t.c=0}};var Ig,Ng,Og,kg;!function(){var t={},e={ma:t};!function(n){if("object"==typeof t&&"undefined"!=typeof e)e.ma=n();else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,o.Dq=n()}}(function(){return function t(e,n,o){function i(a,s){if(!n[a]){if(!e[a]){var p="function"==typeof require&&require;if(!s&&p)return p(a,!0);if(r)return r(a,!0);throw p=Error("Cannot find module '"+a+"'"),p.code="MODULE_NOT_FOUND",p}p=n[a]={ma:{}},e[a][0].call(p.ma,function(t){var n=e[a][1][t];return i(n?n:t)},p,p.ma,t,e,n,o)}return n[a].ma}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(t,e){function n(t,e,r,a,s){for(r=r||0,a=a||t.length-1,s=s||i;a>r;){if(600<a-r){var p=a-r+1,h=e-r+1,u=Math.log(p),l=.5*Math.exp(2*u/3),u=.5*Math.sqrt(u*l*(p-l)/p)*(0>h-p/2?-1:1);n(t,e,Math.max(r,Math.floor(e-h*l/p+u)),Math.min(a,Math.floor(e+(p-h)*l/p+u)),s)}for(p=t[e],h=r,l=a,o(t,r,e),0<s(t[a],p)&&o(t,r,a);h<l;){for(o(t,h,l),h++,l--;0>s(t[h],p);)h++;for(;0<s(t[l],p);)l--}0===s(t[r],p)?o(t,r,l):(l++,o(t,l,a)),l<=e&&(r=l+1),e<=l&&(a=l-1)}}function o(t,e,n){var o=t[e];t[e]=t[n],t[n]=o}function i(t,e){return t<e?-1:t>e?1:0}e.ma=n},{}],2:[function(t,e){function n(t,e){return this instanceof n?(this.Df=Math.max(4,t||9),this.Xg=Math.max(2,Math.ceil(.4*this.Df)),e&&this.ak(e),void this.clear()):new n(t,e)}function o(t,e){i(t,0,t.children.length,e,t)}function i(t,e,n,o,i){i||(i=c(null)),i.da=1/0,i.ga=1/0,i.ba=-(1/0),i.ja=-(1/0);for(var a;e<n;e++)a=t.children[e],r(i,t.gb?o(a):a);return i}function r(t,e){t.da=Math.min(t.da,e.da),t.ga=Math.min(t.ga,e.ga),t.ba=Math.max(t.ba,e.ba),t.ja=Math.max(t.ja,e.ja)}function a(t,e){return t.da-e.da}function s(t,e){return t.ga-e.ga}function p(t){return(t.ba-t.da)*(t.ja-t.ga)}function h(t){return t.ba-t.da+(t.ja-t.ga)}function u(t,e){return t.da<=e.da&&t.ga<=e.ga&&e.ba<=t.ba&&e.ja<=t.ja}function l(t,e){return e.da<=t.ba&&e.ga<=t.ja&&e.ba>=t.da&&e.ja>=t.ga}function c(t){return{children:t,height:1,gb:!0,da:1/0,ga:1/0,ba:-(1/0),ja:-(1/0)}}function f(t,e,n,o,i){for(var r,a=[e,n];a.length;)n=a.pop(),e=a.pop(),n-e<=o||(r=e+Math.ceil((n-e)/o/2)*o,d(t,r,e,n,i),a.push(e,r,r,n))}e.ma=n;var d=t("quickselect");n.prototype={all:function(){return this.Sg(this.data,[])},search:function(t){var e=this.data,n=[],o=this.xb;if(!l(t,e))return n;for(var i,r,a,s,p=[];e;){for(i=0,r=e.children.length;i<r;i++)a=e.children[i],s=e.gb?o(a):a,l(t,s)&&(e.gb?n.push(a):u(t,s)?this.Sg(a,n):p.push(a));e=p.pop()}return n},load:function(t){if(!t||!t.length)return this;if(t.length<this.Xg){for(var e=0,n=t.length;e<n;e++)this.Ea(t[e]);return this}return t=this.Ug(t.slice(),0,t.length-1,0),this.data.children.length?this.data.height===t.height?this.Zg(this.data,t):(this.data.height<t.height&&(e=this.data,this.data=t,t=e),this.Wg(t,this.data.height-t.height-1,!0)):this.data=t,this},Ea:function(t){return t&&this.Wg(t,this.data.height-1),this},clear:function(){return this.data=c([]),this},remove:function(t,e){if(!t)return this;for(var n,o,i,r,a=this.data,s=this.xb(t),p=[],h=[];a||p.length;){if(a||(a=p.pop(),o=p[p.length-1],n=h.pop(),r=!0),a.gb){t:{i=t;var l=a.children,c=e;if(c){for(var f=0;f<l.length;f++)if(c(i,l[f])){i=f;break t}i=-1}else i=l.indexOf(i)}if(-1!==i){a.children.splice(i,1),p.push(a),this.Zj(p);break}}r||a.gb||!u(a,s)?o?(n++,a=o.children[n],r=!1):a=null:(p.push(a),h.push(n),n=0,o=a,a=a.children[0])}return this},xb:function(t){return t},Hf:a,If:s,toJSON:function(){return this.data},Sg:function(t,e){for(var n=[];t;)t.gb?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},Ug:function(t,e,n,i){var r,a=n-e+1,s=this.Df;if(a<=s)return r=c(t.slice(e,n+1)),o(r,this.xb),r;i||(i=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,i-1))),r=c([]),r.gb=!1,r.height=i;var p,h,u,a=Math.ceil(a/s),s=a*Math.ceil(Math.sqrt(s));for(f(t,e,n,s,this.Hf);e<=n;e+=s)for(h=Math.min(e+s-1,n),f(t,e,h,a,this.If),p=e;p<=h;p+=a)u=Math.min(p+a-1,h),r.children.push(this.Ug(t,p,u,i-1));return o(r,this.xb),r},Yj:function(t,e,n,o){for(var i,r,a,s,h,u,l,c;o.push(e),!e.gb&&o.length-1!==n;){for(l=c=1/0,i=0,r=e.children.length;i<r;i++)a=e.children[i],h=p(a),u=(Math.max(a.ba,t.ba)-Math.min(a.da,t.da))*(Math.max(a.ja,t.ja)-Math.min(a.ga,t.ga))-h,u<c?(c=u,l=h<l?h:l,s=a):u===c&&h<l&&(l=h,s=a);e=s||e.children[0]}return e},Wg:function(t,e,n){var o=this.xb;n=n?t:o(t);var o=[],i=this.Yj(n,this.data,e,o);for(i.children.push(t),r(i,n);0<=e&&o[e].children.length>this.Df;)this.fk(o,e),e--;this.Vj(n,o,e)},fk:function(t,e){var n=t[e],i=n.children.length,r=this.Xg;this.Wj(n,r,i),i=this.Xj(n,r,i),i=c(n.children.splice(i,n.children.length-i)),i.height=n.height,i.gb=n.gb,o(n,this.xb),o(i,this.xb),e?t[e-1].children.push(i):this.Zg(n,i)},Zg:function(t,e){this.data=c([t,e]),this.data.height=t.height+1,this.data.gb=!1,o(this.data,this.xb)},Xj:function(t,e,n){var o,r,a,s,h,u,l;for(h=u=1/0,o=e;o<=n-e;o++)r=i(t,0,o,this.xb),a=i(t,o,n,this.xb),s=Math.max(0,Math.min(r.ba,a.ba)-Math.max(r.da,a.da))*Math.max(0,Math.min(r.ja,a.ja)-Math.max(r.ga,a.ga)),r=p(r)+p(a),s<h?(h=s,l=o,u=r<u?r:u):s===h&&r<u&&(u=r,l=o);return l},Wj:function(t,e,n){var o=t.gb?this.Hf:a,i=t.gb?this.If:s,r=this.Tg(t,e,n,o);e=this.Tg(t,e,n,i),r<e&&t.children.sort(o)},Tg:function(t,e,n,o){t.children.sort(o),o=this.xb;var a,s,p=i(t,0,e,o),u=i(t,n-e,n,o),l=h(p)+h(u);for(a=e;a<n-e;a++)s=t.children[a],r(p,t.gb?o(s):s),l+=h(p);for(a=n-e-1;a>=e;a--)s=t.children[a],r(u,t.gb?o(s):s),l+=h(u);return l},Vj:function(t,e,n){for(;0<=n;n--)r(e[n],t)},Zj:function(t){for(var e,n=t.length-1;0<=n;n--)0===t[n].children.length?0<n?(e=t[n-1].children,e.splice(e.indexOf(t[n]),1)):this.clear():o(t[n],this.xb)},ak:function(t){var e=["return a"," - b",";"];this.Hf=new Function("a","b",e.join(t[0])),this.If=new Function("a","b",e.join(t[1])),this.xb=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},{quickselect:1}]},{},[2])(2)}),Ig=e.ma}(),tv=ka.prototype,tv.Ea=function(t,e){var n={da:t[0],ga:t[1],ba:t[2],ja:t[3],value:e};this.b.Ea(n),this.a[c(e)]=n},tv.load=function(t,e){for(var n=Array(e.length),o=0,i=e.length;o<i;o++){var r=t[o],a=e[o],r={da:r[0],ga:r[1],ba:r[2],ja:r[3],value:a};n[o]=r,this.a[c(a)]=r}this.b.load(n)},tv.remove=function(t){t=c(t);var e=this.a[t];return delete this.a[t],null!==this.b.remove(e)},tv.forEach=function(t,e){return Ka(Da(this),t,e)},tv.clear=function(){this.b.clear(),this.a={}},tv.D=function(t){var e=this.b.data;return j(e.da,e.ga,e.ba,e.ja,t)},u(Ba,Gr),tv=Ba.prototype,tv.rc=function(t,e){var n,o,i,r,a=t.md(),s=t.sa(),p=this.b.length,h=this.j.b.length;for(n=0,o=a.length;n<o;++n){var u=a[n].Oc();if(0<u.length){var l,c=u[0].ia(),c=oo(c,c.length,s,-this.origin[0],-this.origin[1]),f=[];for(i=1,r=u.length;i<r;++i)l=u[i].ia(),l=oo(l,l.length,s,-this.origin[0],-this.origin[1]),f.push(l);ba(this.j,c,f,s),Xa(this,c,f,s)}}this.b.length>p&&(this.g.push(p),this.f.push(e),this.l.s&&(this.c.push(p),this.l.s=!1)),this.j.b.length>h&&xa(this.j,e,h)},tv.tc=function(t,e){var n=t.Oc(),o=t.sa();if(0<n.length){this.g.push(this.b.length),this.f.push(e),this.l.s&&(this.c.push(this.b.length),this.l.s=!1),xa(this.j,e);var i,r,a,s=n[0].ia(),s=oo(s,s.length,o,-this.origin[0],-this.origin[1]),p=[];for(i=1,r=n.length;i<r;++i)a=n[i].ia(),a=oo(a,a.length,o,-this.origin[0],-this.origin[1]),p.push(a);ba(this.j,s,p,o),Xa(this,s,p,o)}},tv.Bb=function(t){this.u=new Hr(this.a),this.o=new Hr(this.b),this.g.push(this.b.length),this.j.Bb(t),!this.c.length&&0<this.O.length&&(this.O=[]),this.b=this.a=null},tv.Cb=function(t){var e=this.u,n=this.o,o=this.j.Cb(t);return function(){ea(t,e),
ea(t,n),o()}},tv.qf=function(t,e){var n,o=ia(e,Eg,Lg);return this.v?n=this.v:this.v=n=new Sa(t,o),e.Vc(o),t.enableVertexAttribArray(n.b),t.vertexAttribPointer(n.b,2,5126,!1,8,0),n},tv.rf=function(t,e){t.disableVertexAttribArray(e.b)},tv.Pd=function(t,e,n,o){var i=t.getParameter(t.DEPTH_FUNC),r=t.getParameter(t.DEPTH_WRITEMASK);if(o||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),pt(n)){var a,s,p;for(s=this.g[this.g.length-1],n=this.c.length-1;0<=n;--n)a=this.c[n],p=this.O[n],t.uniform4fv(this.v.G,p),Wr(t,e,a,s),s=a}else{var h,u,l,f;for(l=this.g.length-2,p=s=this.g[l+1],a=this.c.length-1;0<=a;--a){for(h=this.O[a],t.uniform4fv(this.v.G,h),h=this.c[a];0<=l&&this.g[l]>=h;)f=this.g[l],u=this.f[l],u=c(u).toString(),n[u]&&(s!==p&&(Wr(t,e,s,p),t.clear(t.DEPTH_BUFFER_BIT)),p=f),l--,s=f;s!==p&&(Wr(t,e,s,p),t.clear(t.DEPTH_BUFFER_BIT)),s=p=h}}o||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(r),t.depthFunc(i))},tv.ve=function(t,e,n,o,i){var r,a,s,p,h,u,l;for(l=this.g.length-2,s=this.g[l+1],r=this.c.length-1;0<=r;--r)for(a=this.O[r],t.uniform4fv(this.v.G,a),p=this.c[r];0<=l&&this.g[l]>=p;){if(a=this.g[l],h=this.f[l],u=c(h).toString(),void 0===n[u]&&h.U()&&(void 0===i||nt(i,h.U().D()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Wr(t,e,a,s),s=o(h)))return s;l--,s=a}},tv.Na=function(t,e){var n=t?t.b:[0,0,0,0];n=n instanceof CanvasGradient||n instanceof CanvasPattern?cg:we(n).map(function(t,e){return 3!=e?t/255:t})||cg,this.l.fillColor&&a(n,this.l.fillColor)||(this.l.fillColor=n,this.l.s=!0,this.O.push(n)),e?this.j.Na(null,e):this.j.Na(null,new Ca({color:[0,0,0,0],lineWidth:0}))},ns.prototype.i=function(){},u(os,Rr),os.prototype.b=function(t,e){var n=void 0!==t?t.toString():"0",o=this.a[n];return void 0===o&&(o={},this.a[n]=o),n=o[e],void 0===n&&(n=new Dg[e](this.j,this.f),o[e]=n),n},os.prototype.g=function(){return pt(this.a)},os.prototype.i=function(t,n,o,i,r,a,s,p){var h=Object.keys(this.a).map(Number);h.sort(e);var u,l,c,f,d,y;for(u=0,l=h.length;u<l;++u)for(d=this.a[h[u].toString()],c=0,f=hg.length;c<f;++c)y=d[hg[c]],void 0!==y&&y.i(t,n,o,i,r,a,s,p,void 0,!1)},os.prototype.Ba=function(t,e,n,o,i,r,a,s,p,h){var u=e.b;u.bindFramebuffer(u.FRAMEBUFFER,na(e));var l;return void 0!==this.c&&(l=L(K(t),o*this.c)),as(this,e,t,o,i,a,s,p,function(t){var e=new Uint8Array(4);if(u.readPixels(0,0,1,1,u.RGBA,u.UNSIGNED_BYTE,e),0<e[3]&&(t=h(t)))return t},!0,l)};var Rg=[1,1],Dg={Circle:qr,Image:pa,LineString:ya,Polygon:Ba,Text:ns};u(ps,Cr),tv=ps.prototype,tv.td=function(t){this.Na(t.Ca(),t.Da()),this.Wb(t.Y())},tv.oc=function(t){switch(t.S()){case"Point":this.sc(t,null);break;case"LineString":this.Rb(t,null);break;case"Polygon":this.tc(t,null);break;case"MultiPoint":this.qc(t,null);break;case"MultiLineString":this.pc(t,null);break;case"MultiPolygon":this.rc(t,null);break;case"GeometryCollection":this.ue(t,null);break;case"Circle":this.ac(t,null)}},tv.te=function(t,e){var n=(0,e.Qa)(t);n&&nt(this.a,n.D())&&(this.td(e),this.oc(n))},tv.ue=function(t){t=t.a;var e,n;for(e=0,n=t.length;e<n;++e)this.oc(t[e])},tv.sc=function(t,e){var n=this.b,o=new os(1,this.a).b(0,"Image");o.Wb(this.u),o.sc(t,e),o.Bb(n),o.i(this.b,this.g,this.i,this.f,this.j,this.c,1,{},void 0,!1),o.Cb(n)()},tv.qc=function(t,e){var n=this.b,o=new os(1,this.a).b(0,"Image");o.Wb(this.u),o.qc(t,e),o.Bb(n),o.i(this.b,this.g,this.i,this.f,this.j,this.c,1,{},void 0,!1),o.Cb(n)()},tv.Rb=function(t,e){var n=this.b,o=new os(1,this.a).b(0,"LineString");o.Na(null,this.l),o.Rb(t,e),o.Bb(n),o.i(this.b,this.g,this.i,this.f,this.j,this.c,1,{},void 0,!1),o.Cb(n)()},tv.pc=function(t,e){var n=this.b,o=new os(1,this.a).b(0,"LineString");o.Na(null,this.l),o.pc(t,e),o.Bb(n),o.i(this.b,this.g,this.i,this.f,this.j,this.c,1,{},void 0,!1),o.Cb(n)()},tv.tc=function(t,e){var n=this.b,o=new os(1,this.a).b(0,"Polygon");o.Na(this.o,this.l),o.tc(t,e),o.Bb(n),o.i(this.b,this.g,this.i,this.f,this.j,this.c,1,{},void 0,!1),o.Cb(n)()},tv.rc=function(t,e){var n=this.b,o=new os(1,this.a).b(0,"Polygon");o.Na(this.o,this.l),o.rc(t,e),o.Bb(n),o.i(this.b,this.g,this.i,this.f,this.j,this.c,1,{},void 0,!1),o.Cb(n)()},tv.ac=function(t,e){var n=this.b,o=new os(1,this.a).b(0,"Circle");o.Na(this.o,this.l),o.ac(t,e),o.Bb(n),o.i(this.b,this.g,this.i,this.f,this.j,this.c,1,{},void 0,!1),o.Cb(n)()},tv.Wb=function(t){this.u=t},tv.Na=function(t,e){this.o=t,this.l=e},tv=hs.prototype,tv.clear=function(){this.c=0,this.b={},this.g=this.a=null},tv.forEach=function(t,e){for(var n=this.a;n;)t.call(e,n.cd,n.wc,this),n=n.Mb},tv.get=function(t){return t=this.b[t],d(!!t,15),t===this.g?t.cd:(t===this.a?(this.a=this.a.Mb,this.a.xd=null):(t.Mb.xd=t.xd,t.xd.Mb=t.Mb),t.Mb=null,t.xd=this.g,this.g=this.g.Mb=t,t.cd)},tv.pop=function(){var t=this.a;return delete this.b[t.wc],t.Mb&&(t.Mb.xd=null),this.a=t.Mb,this.a||(this.g=null),--this.c,t.cd},tv.replace=function(t,e){this.get(t),this.b[t].cd=e},tv.set=function(t,e){d(!(t in this.b),16);var n={wc:t,Mb:null,xd:this.g,cd:e};this.g?this.g.Mb=n:this.a=n,this.g=n,this.b[t]=n,++this.c},u(us,gr),tv=us.prototype,tv.ra=function(){var t=this.g;t.isContextLost()||this.a.forEach(function(e){e&&t.deleteTexture(e.Fb)}),pe(this.i),gr.prototype.ra.call(this)},tv.tk=function(t,e){for(var n,o=this.g;1024<this.a.c-this.f;){if(n=this.a.a.cd)o.deleteTexture(n.Fb);else{if(+this.a.a.wc==e.index)break;--this.f}this.a.pop()}},tv.S=function(){return"webgl"},tv.On=function(t){t.preventDefault(),this.a.clear(),this.f=0,t=this.c;for(var e in t)t[e].hg()},tv.Pn=function(){fs(this),this.l.render()},tv.Dg=function(t){var e=this.i,n=this.g;if(n.isContextLost())return!1;if(!t)return this.o&&(this.b.style.display="none",this.o=!1),!1;this.v=t.focus,this.a.set((-t.index).toString(),null),++this.f,cs(this,"precompose",t);var o=[],i=t.layerStatesArray;s(i);var r,a,p,h,u=t.viewState.resolution;for(r=0,a=i.length;r<a;++r)h=i[r],ir(h,u)&&"ready"==h.uj&&(p=xr(this,h.layer),p.ig(t,h,e)&&o.push(h));for(i=t.size[0]*t.pixelRatio,u=t.size[1]*t.pixelRatio,this.b.width==i&&this.b.height==u||(this.b.width=i,this.b.height=u),n.bindFramebuffer(36160,null),n.clearColor(0,0,0,0),n.clear(16384),n.enable(3042),n.viewport(0,0,this.b.width,this.b.height),r=0,a=o.length;r<a;++r)h=o[r],p=xr(this,h.layer),p.zi(t,h,e);this.o||(this.b.style.display="",this.o=!0),mr(t),1024<this.a.c-this.f&&t.postRenderFunctions.push(this.tk.bind(this)),this.j.b.length&&(t.postRenderFunctions.push(this.G),t.animate=!0),cs(this,"postcompose",t),_r(this,t),t.postRenderFunctions.push(br)},tv.Ba=function(t,e,n,o,i,r,a){var s;if(this.g.isContextLost())return!1;var p,h=e.viewState,u=e.layerStatesArray;for(p=u.length-1;0<=p;--p){s=u[p];var l=s.layer;if(ir(s,h.resolution)&&r.call(a,l)&&(s=xr(this,l).Ba(t,e,n,o,i)))return s}},tv.xi=function(t,e,n,o,i){if(n=!1,this.g.isContextLost())return!1;var r,a=e.viewState,s=e.layerStatesArray;for(r=s.length-1;0<=r;--r){var p=s[r],h=p.layer;if(ir(p,a.resolution)&&o.call(i,h)&&(n=xr(this,h).Te(t,e)))return!0}return n},tv.wi=function(t,e,n,o,i){if(this.g.isContextLost())return!1;var r,a,s=e.viewState,p=e.layerStatesArray;for(a=p.length-1;0<=a;--a){r=p[a];var h=r.layer;if(ir(r,s.resolution)&&i.call(o,h)&&(r=xr(this,h).gg(t,e,n,o)))return r}};var Fg=["canvas","webgl"];u(ds,de),tv=ds.prototype,tv.gk=function(t){this.l.push(t)},tv.hk=function(t){this.j.push(t)},tv.$g=function(t){this.Mc().sd().push(t)},tv.ah=function(t){this.o.push(t)},tv.bh=function(t){var e=t.f;void 0!==e&&(this.lg[e.toString()]=t),t.setMap(this)},tv.ra=function(){pe(this.Ja),pe(this.C),ie(this.c,"wheel",this.pd,this),ie(this.c,"mousewheel",this.pd,this),this.i&&(window.removeEventListener("resize",this.i,!1),this.i=void 0),this.f&&(cancelAnimationFrame(this.f),this.f=void 0),this.Ke(null),de.prototype.ra.call(this)},tv.we=function(t,e,n){if(this.a)return t=this.Xa(t),n=n?n:{},this.C.Ba(t,this.a,void 0!==n.hitTolerance?n.hitTolerance*this.a.pixelRatio:0,e,null,n.layerFilter?n.layerFilter:Qn,null)},tv.Em=function(t,e,n,o,i){if(this.a)return this.C.wi(t,this.a,e,void 0!==n?n:null,o?o:Qn,void 0!==i?i:null)},tv.Tl=function(t,e){if(!this.a)return!1;var n=this.Xa(t);return e=e?e:{},this.C.xi(n,this.a,void 0!==e.hitTolerance?e.hitTolerance*this.a.pixelRatio:0,e.layerFilter?e.layerFilter:Qn,null)},tv.Of=function(t){return this.Xa(this.xe(t))},tv.xe=function(t){var e=this.c.getBoundingClientRect();return t=t.changedTouches?t.changedTouches[0]:t,[t.clientX-e.left,t.clientY-e.top]},tv.Wf=function(){return this.get("target")},tv.vc=function(){var t=this.Wf();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},tv.Xa=function(t){var e=this.a;return e?lr(e.pixelToCoordinateTransform,t.slice()):null},tv.Hk=function(){return this.l},tv.al=function(){return this.o},tv.$k=function(t){return t=this.lg[t.toString()],void 0!==t?t:null},tv.Nk=function(){return this.j},tv.Mc=function(){return this.get("layergroup")},tv.Qh=function(){return this.Mc().sd()},tv.Ka=function(t){var e=this.a;return e?lr(e.coordinateToPixelTransform,t.slice(0,2)):null},tv.Nb=function(){return this.get("size")},tv.$=function(){return this.get("view")},tv.nl=function(){return this.c},tv.ll=function(t,e,n,o){var i=this.a;return i&&e in i.wantedTiles&&i.wantedTiles[e][t.hb()]?(t=n[0]-i.focus[0],n=n[1]-i.focus[1],65536*Math.log(o)+Math.sqrt(t*t+n*n)/o):1/0},tv.pd=function(t,e){var n=new $e(e||t.type,this,t);this.Bh(n)},tv.Bh=function(t){if(this.a){this.T=t.coordinate,t.frameState=this.a;var e,n=this.j.a;if(!1!==this.b(t))for(e=n.length-1;0<=e;e--){var o=n[e];if(o.c()&&!o.handleEvent(t))break}}},tv.Ml=function(){var t=this.a,e=this.Ha;if(e.b.length){var n=16,o=n;if(t){var i=t.viewHints;i[0]&&(n=this.yf?8:0,o=2),i[1]&&(n=this.zf?8:0,o=2)}e.j<n&&(In(e),On(e,n,o))}for(e=this.Va,n=0,o=e.length;n<o;++n)e[n](this,t);e.length=0},tv.Ol=function(){this.render()},tv.Ql=function(){var t;if(this.Wf()&&(t=this.vc()),this.u){for(var e=0,n=this.u.length;e<n;++e)re(this.u[e]);this.u=null}t?(t.appendChild(this.c),t=this.na?this.na:t,this.u=[ne(t,"keydown",this.pd,this),ne(t,"keypress",this.pd,this)],this.i||(this.i=this.Cd.bind(this),window.addEventListener("resize",this.i,!1))):(Ee(this.c),this.i&&(window.removeEventListener("resize",this.i,!1),this.i=void 0)),this.Cd()},tv.Rl=function(){this.render()},tv.Eh=function(){this.render()},tv.Sl=function(){this.Z&&(re(this.Z),this.Z=null),this.I&&(re(this.I),this.I=null);var t=this.$();t&&(this.c.setAttribute("data-view",c(t)),this.Z=ne(t,"propertychange",this.Eh,this),this.I=ne(t,"change",this.Eh,this)),this.render()},tv.zl=function(){this.G&&(this.G.forEach(re),this.G=null);var t=this.Mc();t&&(this.G=[ne(t,"propertychange",this.render,this),ne(t,"change",this.render,this)]),this.render()},tv.Jp=function(){this.f&&cancelAnimationFrame(this.f),this.fa()},tv.render=function(){void 0===this.f&&(this.f=requestAnimationFrame(this.fa))},tv.Cp=function(t){return this.l.remove(t)},tv.Dp=function(t){return this.j.remove(t)},tv.Fp=function(t){return this.Mc().sd().remove(t)},tv.Gp=function(t){return this.o.remove(t)},tv.Ip=function(t){var e,n,o=this.Nb(),i=this.$(),r=F(),a=null;if(void 0!==o&&0<o[0]&&0<o[1]&&i&&Qo(i)){var a=Vo(i,this.a?this.a.viewHints:void 0),s=this.Mc().Tf(),p={};for(e=0,n=s.length;e<n;++e)p[c(s[e].layer)]=s[e];e=i.V(),a={animate:!1,attributions:{},coordinateToPixelTransform:this.Gb,extent:r,focus:this.T?this.T:e.center,index:this.le++,layerStates:p,layerStatesArray:s,logos:sv({},this.wf),pixelRatio:this.Ef,pixelToCoordinateTransform:this.Ff,postRenderFunctions:[],size:o,skippedFeatureUids:this.ea,tileQueue:this.Ha,time:t,usedTiles:{},viewState:e,viewHints:a,wantedTiles:{}}}a&&(a.extent=$(e.center,e.resolution,e.rotation,a.size,r)),this.a=a,this.C.Dg(a),a&&(a.animate&&this.render(),Array.prototype.push.apply(this.Va,a.postRenderFunctions),a.viewHints[0]||a.viewHints[1]||X(a.extent,this.yb)||(this.b(new Ve("moveend",this,a)),I(a.extent,this.yb))),this.b(new Ve("postrender",this,a)),setTimeout(this.Ml.bind(this),0)},tv.lj=function(t){this.set("layergroup",t)},tv.Ig=function(t){this.set("size",t)},tv.Ke=function(t){this.set("target",t)},tv.Yp=function(t){this.set("view",t)},tv.tj=function(t){t=c(t).toString(),this.ea[t]=!0,this.render()},tv.Cd=function(){var t=this.vc();if(t){var e=getComputedStyle(t);this.Ig([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.Ig(void 0)},tv.yj=function(t){t=c(t).toString(),delete this.ea[t],this.render()},u(vs,de),tv=vs.prototype,tv.Rd=function(){return this.get(jg)},tv.Fm=function(){return this.f},tv.Le=function(){return this.get(Kg)},tv.wh=function(){return this.get(Bg)},tv.Rh=function(){return this.get(Xg)},tv.xh=function(){return this.get(Ug)},tv.ul=function(){for(var t=this.c;t.lastChild;)t.removeChild(t.lastChild);(t=this.Rd())&&this.c.appendChild(t)},tv.El=function(){this.i&&(Ee(this.c),re(this.i),this.i=null);var t=this.Le();t&&(this.i=ne(t,"postrender",this.render,this),bs(this),t=this.u?t.v:t.A,this.o?t.insertBefore(this.c,t.childNodes[0]||null):t.appendChild(this.c))},tv.render=function(){bs(this)},tv.Il=function(){bs(this)},tv.Kl=function(){if(bs(this),this.get(Xg)&&this.autoPan){var t=this.Le();if(t&&t.vc()){var e=gs(t.vc(),t.Nb()),n=this.Rd(),o=n.offsetWidth,i=getComputedStyle(n),o=o+(parseInt(i.marginLeft,10)+parseInt(i.marginRight,10)),i=n.offsetHeight,r=getComputedStyle(n),i=i+(parseInt(r.marginTop,10)+parseInt(r.marginBottom,10)),a=gs(n,[o,i]),n=this.l;k(e,a)||(o=a[0]-e[0],i=e[2]-a[2],r=a[1]-e[1],a=e[3]-a[3],e=[0,0],0>o?e[0]=o-n:0>i&&(e[0]=Math.abs(i)+n),0>r?e[1]=r-n:0>a&&(e[1]=Math.abs(a)+n),0===e[0]&&0===e[1])||(n=t.$().za(),n=t.Ka(n),e=[n[0]+e[0],n[1]+e[1]],t.$().animate({center:t.Xa(e),duration:this.j.duration,easing:this.j.easing}))}}},tv.Ll=function(){bs(this)},tv.gj=function(t){this.set(jg,t)},tv.setMap=function(t){this.set(Kg,t)},tv.nj=function(t){this.set(Bg,t)},tv.Me=function(t){this.set(Xg,t)},tv.qj=function(t){this.set(Ug,t)};var jg="element",Kg="map",Bg="offset",Xg="position",Ug="positioning";u(xs,Le),tv=xs.prototype,tv.setMap=function(t){var e=this.a;t!==e&&(e&&((e=e.$())&&ie(e,ye("rotation"),this.Fe,this),this.c.Ke(null)),Le.prototype.setMap.call(this,t),t&&(this.c.Ke(this.C),this.u.push(ne(t,"propertychange",this.Fl,this)),this.c.Qh().fc()||this.c.lj(t.Mc()),t=t.$()))&&(ne(t,ye("rotation"),this.Fe,this),Qo(t)&&(this.c.Cd(),ws(this)))},tv.Fl=function(t){"view"===t.key&&((t=t.oldValue)&&ie(t,ye("rotation"),this.Fe,this),t=this.a.$(),ne(t,ye("rotation"),this.Fe,this))},tv.Fe=function(){this.c.$().Ne(this.a.$().Sa())},tv.Vm=function(t){t.preventDefault(),Ss(this)},tv.Um=function(){return this.l},tv.Xm=function(t){this.l!==t&&(this.l=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.j&&Ss(this))},tv.Wm=function(t){this.l&&this.j!==t&&Ss(this)},tv.Tm=function(){return this.j},tv.bl=function(){return this.c},u(Cs,Le);var Yg=[1,2,5];Cs.prototype.Kb=function(){return this.get(Gg)},Cs.prototype.I=function(){Ts(this)},Cs.prototype.G=function(t){this.set(Gg,t)};var Gg="units";u(As,Le),As.prototype.ra=function(){pe(this.l),Le.prototype.ra.call(this)};var Wg=0;tv=As.prototype,tv.setMap=function(t){Le.prototype.setMap.call(this,t),t&&t.render()},tv.ql=function(t){var e=this.a.$();t=Is(this,b(1===this.j?(t.offsetX-this.I[0]/2)/this.A:(t.offsetY-this.I[1]/2)/this.o,0,1)),e.animate({resolution:e.constrainResolution(t),duration:this.T,easing:Re})},tv.tl=function(t){this.v||t.b.target!==this.element.firstElementChild||(ti(this.a.$(),1,1),this.C=t.clientX,this.G=t.clientY,this.v=!0)},tv.rl=function(t){if(this.v){var e=this.element.firstElementChild;this.c=Is(this,b(1===this.j?(t.clientX-this.C+parseInt(e.style.left,10))/this.A:(t.clientY-this.G+parseInt(e.style.top,10))/this.o,0,1)),this.a.$().$c(this.c),Ls(this,this.c),this.C=t.clientX,this.G=t.clientY}},tv.sl=function(){if(this.v){var t=this.a.$();ti(t,1,-1),t.animate({resolution:t.constrainResolution(this.c),duration:this.T,easing:Re}),this.v=!1,this.G=this.C=void 0}},u(Ns,Le),Ns.prototype.j=function(t){t.preventDefault(),t=this.a.$();var e=this.c?this.c:t.o.D();t.Mf(e)},u(Os,de),tv=Os.prototype,tv.ra=function(){this.bg(!1),de.prototype.ra.call(this)},tv.Ro=function(t){if(null!==t.alpha){var e=P(t.alpha);this.set(zg,e),"boolean"==typeof t.absolute&&t.absolute?this.set(Vg,e):"number"==typeof t.webkitCompassHeading&&-1!=t.webkitCompassAccuracy&&this.set(Vg,P(t.webkitCompassHeading))}null!==t.beta&&this.set(Hg,P(t.beta)),null!==t.gamma&&this.set(qg,P(t.gamma)),this.s()},tv.Bk=function(){return this.get(zg)},tv.Ek=function(){return this.get(Hg)},tv.Kk=function(){return this.get(qg)},tv.qm=function(){return this.get(Vg)},tv.Mh=function(){return this.get($g)},tv.rm=function(){if(Uv){var t=this.Mh();t&&!this.a?this.a=ne(window,"deviceorientation",this.Ro,this):t||null===this.a||(re(this.a),this.a=null)}},tv.bg=function(t){this.set($g,t)};var zg="alpha",Hg="beta",qg="gamma",Vg="heading",$g="tracking";tv=ks.prototype,tv.Ye=function(){return this.f},tv.Ze=function(){return this.o},tv.$e=function(){return this.j},tv.af=function(){return this.c},tv.ze=function(){return this.u},tv.vd=function(t){this.f=t},tv.bf=function(t){this.j=t},tv.wd=function(t){this.c=t},u(Rs,ks),tv=Rs.prototype,tv.clone=function(){var t=new Rs({fill:this.Ca()?this.Ca().clone():void 0,points:this.g!==this.a?this.b/2:this.b,radius:this.a,radius2:this.g,angle:this.l,snapToPixel:this.u,stroke:this.Da()?this.Da().clone():void 0,rotation:this.j,rotateWithView:this.o,atlasManager:this.O});return t.vd(this.f),t.wd(this.c),t},tv.Jc=function(){return this.C},tv.Ji=function(){return this.l},tv.Ca=function(){return this.Wa},tv.kg=function(){return this.A},tv.Y=function(){return this.v},tv.ye=function(){return this.G},tv.Xe=function(){return 2},tv.Tc=function(){return this.qa},tv.Ki=function(){return this.b},tv.Li=function(){return this.a},tv.yh=function(){return this.g},tv.kc=function(){return this.ta},tv.Da=function(){return this.Za},tv.Gh=function(){},tv.load=function(){},tv.xj=function(){},tv.jh=function(t,e,n,o){var i;if(e.setTransform(1,0,0,1,0,0),e.translate(n,o),e.beginPath(),1/0===this.b)e.arc(t.size/2,t.size/2,this.a,0,2*Math.PI,!0);else for(this.g!==this.a&&(this.b*=2),n=0;n<=this.b;n++)o=2*n*Math.PI/this.b-Math.PI/2+this.l,i=n%2?this.g:this.a,e.lineTo(t.size/2+i*Math.cos(o),t.size/2+i*Math.sin(o));this.Wa&&(n=this.Wa.b,null===n&&(n=ag),e.fillStyle=Ce(n),e.fill()),this.Za&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.vj,t.lineDash&&e.setLineDash(t.lineDash),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},tv.ih=function(t,e,n,o){if(e.setTransform(1,0,0,1,0,0),e.translate(n,o),e.beginPath(),1/0===this.b)e.arc(t.size/2,t.size/2,this.a,0,2*Math.PI,!0);else{this.g!==this.a&&(this.b*=2);var i;for(n=0;n<=this.b;n++)i=2*n*Math.PI/this.b-Math.PI/2+this.l,o=n%2?this.g:this.a,e.lineTo(t.size/2+o*Math.cos(i),t.size/2+o*Math.sin(i))}e.fillStyle=ag,e.fill(),this.Za&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.vj,t.lineDash&&e.setLineDash(t.lineDash),e.stroke()),e.closePath()},u(Fs,Rs),Fs.prototype.clone=function(){var t=new Fs({fill:this.Ca()?this.Ca().clone():void 0,stroke:this.Da()?this.Da().clone():void 0,radius:this.a,snapToPixel:this.u,atlasManager:this.O});return t.vd(this.f),t.wd(this.c),t},Fs.prototype.Zc=function(t){this.a=t,Ds(this,this.O)},js.prototype.clone=function(){var t=this.b;return new js({color:t&&t.slice?t.slice():t||void 0})},js.prototype.g=function(){return this.b},js.prototype.c=function(t){this.b=t,this.a=void 0},tv=Ks.prototype,tv.clone=function(){var t=this.U();return t&&t.clone&&(t=t.clone()),new Ks({geometry:t,fill:this.Ca()?this.Ca().clone():void 0,image:this.Y()?this.Y().clone():void 0,stroke:this.Da()?this.Da().clone():void 0,text:this.Oa()?this.Oa().clone():void 0,zIndex:this.Aa()})},tv.U=function(){return this.Ic},tv.Lk=function(){return this.Qa},tv.Ca=function(){return this.Wa},tv.mf=function(t){this.Wa=t},tv.Y=function(){return this.N},tv.Hg=function(t){this.N=t},tv.Da=function(){return this.Za},tv.nf=function(t){this.Za=t},tv.Oa=function(){return this.Fa},tv.pf=function(t){this.Fa=t},tv.Aa=function(){return this.Bj},tv.Ta=function(t){"function"==typeof t?this.Qa=t:"string"==typeof t?this.Qa=function(e){return e.get(t)}:t?t&&(this.Qa=function(){return t}):this.Qa=Ys,this.Ic=t},tv.Xb=function(t){this.Bj=t};var Zg=null;u(Gs,de),tv=Gs.prototype,tv.clone=function(){var t=new Gs(this.M());t.Yc(this.c);var e=this.U();return e&&t.Ta(e.clone()),(e=this.f)&&t.cg(e),t},tv.U=function(){return this.get(this.c)},tv.sm=function(){return this.a},tv.Mk=function(){return this.c},tv.tm=function(){return this.f},tv.Rc=function(){return this.j},tv.vl=function(){this.s()},tv.De=function(){this.i&&(re(this.i),this.i=null);var t=this.U();t&&(this.i=ne(t,"change",this.vl,this)),this.s()},tv.Ta=function(t){this.set(this.c,t)},tv.cg=function(t){this.j=(this.f=t)?Ws(t):void 0,this.s()},tv.lc=function(t){this.a=t,this.s()},tv.Yc=function(t){ie(this,ye(this.c),this.De,this),this.c=t,ne(this,ye(this.c),this.De,this),this.De()};var Jg=document.implementation.createDocument("","",null),Qg=rp();u(mp,dp),tv=mp.prototype,tv.S=function(){return"json"},tv.Vb=function(t,e){return this.Wc(bp(t),yp(this,t,e))},tv.Pa=function(t,e){return this.sg(bp(t),yp(this,t,e))},tv.Xc=function(t,e){return this.wg(bp(t),yp(this,t,e))},tv.jb=function(t){return this.zg(bp(t))},tv.Dd=function(t,e){return JSON.stringify(this.dd(t,e))},tv.Yb=function(t,e){return JSON.stringify(this.ge(t,e))},tv.ed=function(t,e){return JSON.stringify(this.ie(t,e))},u(Pp,io),tv=Pp.prototype,tv.ik=function(t){this.B?i(this.B,t):this.B=t.slice(),this.s()},tv.clone=function(){var t=new Pp(null);return t.ca(this.la,this.B.slice()),t},tv.Hb=function(t,e,n,o){return o<N(this.D(),t,e)?o:(this.v!=this.g&&(this.A=Math.sqrt(lo(this.B,0,this.B.length,this.a,0)),this.v=this.g),fo(this.B,0,this.B.length,this.a,this.A,!1,t,e,n,o))},tv.yk=function(t,e){return Lo(this.B,0,this.B.length,this.a,t,e)},tv.gn=function(t,e){return"XYM"!=this.la&&"XYZM"!=this.la?null:_p(this.B,0,this.B.length,this.a,t,void 0!==e&&e)},tv.W=function(){return bo(this.B,0,this.B.length,this.a)},tv.ph=function(t,e){return xp(this.B,0,this.B.length,this.a,t,e)},tv.hn=function(){var t,e=this.B,n=this.a,o=e[0],i=e[1],r=0;for(t=0+n;t<this.B.length;t+=n)var a=e[t],s=e[t+1],r=r+Math.sqrt((a-o)*(a-o)+(s-i)*(s-i)),o=a,i=s;return r},tv.od=function(t){var e=[];return e.length=_o(this.B,0,this.B.length,this.a,t,e,0),t=new Pp(null),t.ca("XY",e),t},tv.S=function(){return"LineString"},tv.Ya=function(t){return Io(this.B,0,this.B.length,this.a,t)},tv.pa=function(t,e){t?(so(this,e,t,1),this.B||(this.B=[]),this.B.length=go(this.B,0,t,this.a),this.s()):this.ca("XY",null)},tv.ca=function(t,e){ao(this,t,e),this.s()},u(Cp,io),tv=Cp.prototype,tv.jk=function(t){this.B?i(this.B,t.ia().slice()):this.B=t.ia().slice(),this.c.push(this.B.length),this.s()},tv.clone=function(){var t=new Cp(null);return t.ca(this.la,this.B.slice(),this.c.slice()),t},tv.Hb=function(t,e,n,o){return o<N(this.D(),t,e)?o:(this.j!=this.g&&(this.v=Math.sqrt(co(this.B,0,this.c,this.a,0)),this.j=this.g),yo(this.B,0,this.c,this.a,this.v,!1,t,e,n,o))},tv.kn=function(t,e,n){return"XYM"!=this.la&&"XYZM"!=this.la||!this.B.length?null:wp(this.B,this.c,this.a,t,void 0!==e&&e,void 0!==n&&n)},tv.W=function(){return xo(this.B,0,this.c,this.a)},tv.Sb=function(){return this.c},tv.Tk=function(t){if(0>t||this.c.length<=t)return null;var e=new Pp(null);return e.ca(this.la,this.B.slice(t?this.c[t-1]:0,this.c[t])),e},tv.Nc=function(){var t,e,n=this.B,o=this.c,i=this.la,r=[],a=0;for(t=0,e=o.length;t<e;++t){var s=o[t],p=new Pp(null);p.ca(i,n.slice(a,s)),r.push(p),a=s}return r},tv.od=function(t){var e,n,o=[],i=[],r=this.B,a=this.c,s=this.a,p=0,h=0;for(e=0,n=a.length;e<n;++e){var u=a[e],h=_o(r,p,u,s,t,o,h);i.push(h),p=u}return o.length=h,t=new Cp(null),t.ca("XY",o,i),t},tv.S=function(){return"MultiLineString"},tv.Ya=function(t){t:{var e,n,o=this.B,i=this.c,r=this.a,a=0;for(e=0,n=i.length;e<n;++e){if(Io(o,a,i[e],r,t)){t=!0;break t}a=i[e]}t=!1}return t},tv.pa=function(t,e){if(t){so(this,e,t,2),this.B||(this.B=[]);var n=mo(this.B,0,t,this.a,this.c);this.B.length=n.length?n[n.length-1]:0,this.s()}else this.ca("XY",null,this.c)},tv.ca=function(t,e,n){ao(this,t,e),this.c=n,this.s()},u(Ap,io),tv=Ap.prototype,tv.lk=function(t){this.B?i(this.B,t.ia()):this.B=t.ia().slice(),this.s()},tv.clone=function(){var t=new Ap(null);return t.ca(this.la,this.B.slice()),t},tv.Hb=function(t,e,n,o){if(o<N(this.D(),t,e))return o;var i,r,a,s=this.B,p=this.a;for(i=0,r=s.length;i<r;i+=p)if(a=w(t,e,s[i],s[i+1]),a<o){for(o=a,a=0;a<p;++a)n[a]=s[i+a];n.length=p}return o},tv.W=function(){return bo(this.B,0,this.B.length,this.a)},tv.dl=function(t){var e=this.B?this.B.length/this.a:0;return 0>t||e<=t?null:(e=new Co(null),e.ca(this.la,this.B.slice(t*this.a,(t+1)*this.a)),e)},tv.Zd=function(){var t,e,n=this.B,o=this.la,i=this.a,r=[];for(t=0,e=n.length;t<e;t+=i){var a=new Co(null);a.ca(o,n.slice(t,t+i)),r.push(a)}return r},tv.S=function(){return"MultiPoint"},tv.Ya=function(t){var e,n,o,i,r=this.B,a=this.a;for(e=0,n=r.length;e<n;e+=a)if(o=r[e],i=r[e+1],R(t,o,i))return!0;return!1},tv.pa=function(t,e){t?(so(this,e,t,1),this.B||(this.B=[]),this.B.length=go(this.B,0,t,this.a),this.s()):this.ca("XY",null)},tv.ca=function(t,e){ao(this,t,e),this.s()},u(Ep,io),tv=Ep.prototype,tv.mk=function(t){if(this.B){var e=this.B.length;i(this.B,t.ia()),t=t.Sb().slice();var n,o;for(n=0,o=t.length;n<o;++n)t[n]+=e}else this.B=t.ia().slice(),t=t.Sb().slice(),this.c.push();this.c.push(t),this.s()},tv.clone=function(){for(var t=new Ep(null),e=this.c.length,n=Array(e),o=0;o<e;++o)n[o]=this.c[o].slice();return Np(t,this.la,this.B.slice(),n),t},tv.Hb=function(t,e,n,o){if(o<N(this.D(),t,e))return o;if(this.C!=this.g){var i,r,a=this.c,s=0,p=0;for(i=0,r=a.length;i<r;++i)var h=a[i],p=co(this.B,s,h,this.a,p),s=h[h.length-1];this.G=Math.sqrt(p),this.C=this.g}a=Ip(this),s=this.c,p=this.a,i=this.G,r=0;var u,l,h=[NaN,NaN];for(u=0,l=s.length;u<l;++u){var c=s[u];o=yo(a,r,c,p,i,!0,t,e,n,o,h),r=c[c.length-1]}return o},tv.Sc=function(t,e){var n;t:{n=Ip(this);var o=this.c,i=0;if(o.length){var r,a;for(r=0,a=o.length;r<a;++r){var s=o[r];if(Ao(n,i,s,this.a,t,e)){n=!0;break t}i=s[s.length-1]}}n=!1}return n},tv.ln=function(){var t,e,n=Ip(this),o=this.c,i=0,r=0;for(t=0,e=o.length;t<e;++t)var a=o[t],r=r+ho(n,i,a,this.a),i=a[a.length-1];return r},tv.W=function(t){var e;void 0!==t?(e=Ip(this).slice(),Do(e,this.c,this.a,t)):e=this.B,t=e,e=this.c;var n,o,i=this.a,r=0,a=[],s=0;for(n=0,o=e.length;n<o;++n){var p=e[n];a[s++]=xo(t,r,p,i,a[s]),r=p[p.length-1]}return a.length=s,a},tv.Pk=function(){var t=new Ap(null);return t.ca("XY",Lp(this).slice()),t},tv.od=function(t){var e=[],n=[],o=this.B,i=this.c,r=this.a;t=Math.sqrt(t);var a,s,p=0,h=0;for(a=0,s=i.length;a<s;++a){var u=i[a],l=[],h=wo(o,p,u,r,t,e,h,l);n.push(l),p=u[u.length-1]}return e.length=h,o=new Ep(null),Np(o,"XY",e,n),o},tv.el=function(t){if(0>t||this.c.length<=t)return null;var e;t?(e=this.c[t-1],e=e[e.length-1]):e=0,t=this.c[t].slice();var n=t[t.length-1];if(e){var o,i;for(o=0,i=t.length;o<i;++o)t[o]-=e}return o=new Fo(null),o.ca(this.la,this.B.slice(e,n),t),o},tv.md=function(){var t,e,n,o,i=this.la,r=this.B,a=this.c,s=[],p=0;for(t=0,e=a.length;t<e;++t){var h=a[t].slice(),u=h[h.length-1];if(p)for(n=0,o=h.length;n<o;++n)h[n]-=p;n=new Fo(null),n.ca(i,r.slice(p,u),h),s.push(n),p=u}return s},tv.S=function(){return"MultiPolygon"},tv.Ya=function(t){t:{var e,n,o=Ip(this),i=this.c,r=this.a,a=0;for(e=0,n=i.length;e<n;++e){var s=i[e];if(No(o,a,s,r,t)){t=!0;break t}a=s[s.length-1]}t=!1}return t},tv.pa=function(t,e){if(t){so(this,e,t,3),this.B||(this.B=[]);var n,o,i=this.B,r=this.a,a=this.c,s=0,a=a?a:[],p=0;for(n=0,o=t.length;n<o;++n)s=mo(i,s,t[n],r,a[p]),a[p++]=s,s=s[s.length-1];a.length=p,a.length?(i=a[a.length-1],this.B.length=i.length?i[i.length-1]:0):this.B.length=0,this.s()}else Np(this,"XY",null,this.c)},u(kp,mp);var tm={Point:function(t){return void 0!==t.m&&void 0!==t.z?new Co([t.x,t.y,t.z,t.m],"XYZM"):void 0!==t.z?new Co([t.x,t.y,t.z],"XYZ"):void 0!==t.m?new Co([t.x,t.y,t.m],"XYM"):new Co([t.x,t.y])},LineString:function(t){return new Pp(t.paths[0],Dp(t))},Polygon:function(t){return new Fo(t.rings,Dp(t))},MultiPoint:function(t){return new Ap(t.points,Dp(t))},MultiLineString:function(t){return new Cp(t.paths,Dp(t))},MultiPolygon:function(t){return new Ep(t.rings,Dp(t))}},em={Point:function(t){var e,n=t.W();return t=t.la,"XYZ"===t?e={x:n[0],y:n[1],z:n[2]}:"XYM"===t?e={x:n[0],y:n[1],m:n[2]}:"XYZM"===t?e={x:n[0],y:n[1],z:n[2],m:n[3]}:"XY"===t?e={x:n[0],y:n[1]}:d(!1,34),e},LineString:function(t){var e=Fp(t);return{hasZ:e.hasZ,hasM:e.hasM,paths:[t.W()]}},Polygon:function(t){var e=Fp(t);return{hasZ:e.hasZ,hasM:e.hasM,rings:t.W(!1)}},MultiPoint:function(t){var e=Fp(t);return{hasZ:e.hasZ,hasM:e.hasM,points:t.W()}},MultiLineString:function(t){var e=Fp(t);return{hasZ:e.hasZ,hasM:e.hasM,paths:t.W()}},MultiPolygon:function(t){var e=Fp(t);t=t.W(!1);for(var n=[],o=0;o<t.length;o++)for(var i=t[o].length-1;0<=i;i--)n.push(t[o][i]);return{hasZ:e.hasZ,hasM:e.hasM,rings:n}}};tv=kp.prototype,tv.Wc=function(t,e){var n=Rp(t.geometry,e),o=new Gs;return this.b&&o.Yc(this.b),o.Ta(n),e&&e.Zf&&t.attributes[e.Zf]&&o.lc(t.attributes[e.Zf]),t.attributes&&o.H(t.attributes),o},tv.sg=function(t,e){var n=e?e:{};if(t.features){var o,i,r=[],a=t.features;for(n.Zf=t.objectIdFieldName,o=0,i=a.length;o<i;++o)r.push(this.Wc(a[o],n));return r}return[this.Wc(t,n)]},tv.wg=function(t,e){return Rp(t,e)},tv.zg=function(t){return t.spatialReference&&t.spatialReference.wkid?Ct("EPSG:"+t.spatialReference.wkid):null},tv.ie=function(t,e){return jp(t,vp(this,e))},tv.dd=function(t,e){e=vp(this,e);var n={},o=t.U();return o&&(n.geometry=jp(o,e)),o=t.M(),delete o[t.c],n.attributes=pt(o)?{}:o,e&&e.featureProjection&&(n.spatialReference={wkid:Ct(e.featureProjection).nb.split(":").pop()}),n},tv.ge=function(t,e){e=vp(this,e);var n,o,i=[];for(n=0,o=t.length;n<o;++n)i.push(this.dd(t[n],e));return{features:i}},u(Bp,Kp),u(Xp,Bp),u(Up,Kp),u(Yp,Kp),u(Gp,Yp),u(Wp,Gp),u(zp,Gp),u(Hp,Gp),u(qp,Kp),u(Vp,qp),u($p,Yp),u(Zp,Yp),u(Jp,Yp),u(Qp,Gp),u(th,Gp),u(eh,Kp),u(nh,Gp),u(oh,Bp),u(ih,qp),u(sh,eo),tv=sh.prototype,tv.clone=function(){var t=new sh(null);return t.jj(this.a),t},tv.Hb=function(t,e,n,o){if(o<N(this.D(),t,e))return o;var i,r,a=this.a;for(i=0,r=a.length;i<r;++i)o=a[i].Hb(t,e,n,o);return o},tv.Sc=function(t,e){var n,o,i=this.a;for(n=0,o=i.length;n<o;++n)if(i[n].Sc(t,e))return!0;return!1},tv.se=function(t){j(1/0,1/0,-(1/0),-(1/0),t);for(var e=this.a,n=0,o=e.length;n<o;++n)U(t,e[n].D());return t},tv.Qf=function(){return ph(this.a)},tv.Td=function(t){if(this.l!=this.g&&(at(this.i),this.f=0,this.l=this.g),0>t||this.f&&t<this.f)return this;var e=t.toString();if(this.i.hasOwnProperty(e))return this.i[e];var n,o,i=[],r=this.a,a=!1;for(n=0,o=r.length;n<o;++n){var s=r[n],p=s.Td(t);i.push(p),p!==s&&(a=!0)}return a?(t=new sh(null),hh(t),t.a=i,uh(t),t.s(),this.i[e]=t):(this.f=t,this)},tv.S=function(){return"GeometryCollection"},tv.Ya=function(t){var e,n,o=this.a;for(e=0,n=o.length;e<n;++e)if(o[e].Ya(t))return!0;return!1},tv.rotate=function(t,e){for(var n=this.a,o=0,i=n.length;o<i;++o)n[o].rotate(t,e);this.s()},tv.scale=function(t,e,n){n||(n=V(this.D()));for(var o=this.a,i=0,r=o.length;i<r;++i)o[i].scale(t,e,n);this.s()},tv.jj=function(t){t=ph(t),hh(this),this.a=t,uh(this),this.s()},tv.Fc=function(t){var e,n,o=this.a;for(e=0,n=o.length;e<n;++e)o[e].Fc(t);this.s()},tv.translate=function(t,e){var n,o,i=this.a;for(n=0,o=i.length;n<o;++n)i[n].translate(t,e);this.s()},tv.ra=function(){hh(this),eo.prototype.ra.call(this)},u(lh,mp);var nm={Point:function(t){return new Co(t.coordinates)},LineString:function(t){return new Pp(t.coordinates)},Polygon:function(t){return new Fo(t.coordinates)},MultiPoint:function(t){return new Ap(t.coordinates)},MultiLineString:function(t){return new Cp(t.coordinates)},
MultiPolygon:function(t){return new Ep(t.coordinates)},GeometryCollection:function(t,e){var n=t.geometries.map(function(t){return ch(t,e)});return new sh(n)}},om={Point:function(t){return{type:"Point",coordinates:t.W()}},LineString:function(t){return{type:"LineString",coordinates:t.W()}},Polygon:function(t,e){var n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.W(n)}},MultiPoint:function(t){return{type:"MultiPoint",coordinates:t.W()}},MultiLineString:function(t){return{type:"MultiLineString",coordinates:t.W()}},MultiPolygon:function(t,e){var n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.W(n)}},GeometryCollection:function(t,e){return{type:"GeometryCollection",geometries:t.a.map(function(t){var n=sv({},e);return delete n.featureProjection,fh(t,n)})}},Circle:function(){return{type:"GeometryCollection",geometries:[]}}};tv=lh.prototype,tv.Wc=function(t,e){var n;n="Feature"===t.type?t:{type:"Feature",geometry:t};var o=ch(n.geometry,e),i=new Gs;return this.b&&i.Yc(this.b),i.Ta(o),void 0!==n.id&&i.lc(n.id),n.properties&&i.H(n.properties),i},tv.sg=function(t,e){var n;if("FeatureCollection"===t.type){n=[];var o,i,r=t.features;for(o=0,i=r.length;o<i;++o)n.push(this.Wc(r[o],e))}else n=[this.Wc(t,e)];return n},tv.wg=function(t,e){return ch(t,e)},tv.zg=function(t){t=t.crs;var e;return t?"name"==t.type?e=Ct(t.properties.name):"EPSG"==t.type?e=Ct("EPSG:"+t.properties.code):d(!1,36):e=this.defaultDataProjection,e},tv.dd=function(t,e){e=vp(this,e);var n={type:"Feature"},o=t.a;return void 0!==o&&(n.id=o),(o=t.U())?n.geometry=fh(o,e):n.geometry=null,o=t.M(),delete o[t.c],pt(o)?n.properties=null:n.properties=o,n},tv.ge=function(t,e){e=vp(this,e);var n,o,i=[];for(n=0,o=t.length;n<o;++n)i.push(this.dd(t[n],e));return{type:"FeatureCollection",features:i}},tv.ie=function(t,e){return fh(t,vp(this,e))},u(dh,dp),tv=dh.prototype,tv.S=function(){return"xml"},tv.Vb=function(t,e){if(Vs(t))return yh(this,t,e);if($s(t))return this.rg(t,e);if("string"==typeof t){var n=Zs(t);return yh(this,n,e)}return null},tv.rg=function(){return null},tv.Pa=function(t,e){if(Vs(t))return vh(this,t,e);if($s(t))return this.Bc(t,e);if("string"==typeof t){var n=Zs(t);return vh(this,n,e)}return[]},tv.Xc=function(t,e){return Vs(t)?null:$s(t)?this.Vi(t,e):("string"==typeof t&&Zs(t),null)},tv.Vi=function(){return null},tv.jb=function(t){return Vs(t)?this.yg(t):$s(t)?this.hf(t):"string"==typeof t?(t=Zs(t),this.yg(t)):null},tv.yg=function(){return this.defaultDataProjection},tv.hf=function(){return this.defaultDataProjection},tv.Dd=function(t,e){return this.g.serializeToString(this.Ng(t,e))},tv.Ng=function(){return null},tv.Yb=function(t,e){var n=this.Zb(t,e);return this.g.serializeToString(n)},tv.Zb=function(){return null},tv.ed=function(t,e){var n=this.he(t,e);return this.g.serializeToString(n)},tv.he=function(){return null},u(gh,dh);var im=/^[\s\xa0]*$/;tv=gh.prototype,tv.ae=function(t,e){var n=t.localName,o=null;if("FeatureCollection"==n)o="http://www.opengis.net/wfs"===t.namespaceURI?hp([],this.b,t,e,this):hp(null,this.b,t,e,this);else if("featureMembers"==n||"featureMember"==n){var i,r,a=e[0],s=a.featureType,p=a.featureNS;if(!s&&t.childNodes){for(s=[],p={},i=0,r=t.childNodes.length;i<r;++i){var h=t.childNodes[i];if(1===h.nodeType){var u=h.nodeName.split(":").pop();if(-1===s.indexOf(u)){var l,c="",f=0,h=h.namespaceURI;for(l in p){if(p[l]===h){c=l;break}++f}c||(c="p"+f,p[c]=h),s.push(c+":"+u)}}}"featureMember"!=n&&(a.featureType=s,a.featureNS=p)}"string"==typeof p&&(i=p,p={},p.p0=i);var d,a={},s=Array.isArray(s)?s:[s];for(d in p){for(u={},i=0,r=s.length;i<r;++i)(-1===s[i].indexOf(":")?"p0":s[i].split(":")[0])===d&&(u[s[i].split(":").pop()]="featureMembers"==n?Qs(this.qg,this):tp(this.qg,this));a[p[d]]=u}o="featureMember"==n?hp(void 0,a,t,e):hp([],a,t,e)}return null===o&&(o=[]),o},tv.ef=function(t,e){var n=e[0];n.srsName=t.firstElementChild.getAttribute("srsName");var o=hp(null,this.Rg,t,e,this);if(o)return gp(o,!1,n)},tv.qg=function(t,e){var n,o;(o=t.getAttribute("fid"))||(o=t.getAttributeNS("http://www.opengis.net/gml","id")||"");var i,r={};for(n=t.firstElementChild;n;n=n.nextElementSibling){var a=n.localName;if(0===n.childNodes.length||1===n.childNodes.length&&(3===n.firstChild.nodeType||4===n.firstChild.nodeType)){var s=Hs(n,!1);im.test(s)&&(s=void 0),r[a]=s}else"boundedBy"!==a&&(i=a),r[a]=this.ef(n,e)}return n=new Gs(r),i&&n.Yc(i),o&&n.lc(o),n},tv.$i=function(t,e){var n=this.df(t,e);if(n){var o=new Co(null);return o.ca("XYZ",n),o}},tv.Yi=function(t,e){var n=hp([],this.Jj,t,e,this);if(n)return new Ap(n)},tv.Xi=function(t,e){var n=hp([],this.Ij,t,e,this);if(n){var o=new Cp(null);return Tp(o,n),o}},tv.Zi=function(t,e){var n=hp([],this.Kj,t,e,this);if(n){var o=new Ep(null);return Op(o,n),o}},tv.Ri=function(t,e){pp(this.Nj,t,e,this)},tv.Fh=function(t,e){pp(this.Gj,t,e,this)},tv.Si=function(t,e){pp(this.Oj,t,e,this)},tv.ff=function(t,e){var n=this.df(t,e);if(n){var o=new Pp(null);return o.ca("XYZ",n),o}},tv.mp=function(t,e){var n=hp(null,this.je,t,e,this);if(n)return n},tv.Wi=function(t,e){var n=this.df(t,e);if(n){var o=new Po(null);return So(o,"XYZ",n),o}},tv.gf=function(t,e){var n=hp([null],this.xf,t,e,this);if(n&&n[0]){var o,r,a=new Fo(null),s=n[0],p=[s.length];for(o=1,r=n.length;o<r;++o)i(s,n[o]),p.push(s.length);return a.ca("XYZ",s,p),a}},tv.df=function(t,e){return hp(null,this.je,t,e,this)},tv.Jj={"http://www.opengis.net/gml":{pointMember:Qs(gh.prototype.Ri),pointMembers:Qs(gh.prototype.Ri)}},tv.Ij={"http://www.opengis.net/gml":{lineStringMember:Qs(gh.prototype.Fh),lineStringMembers:Qs(gh.prototype.Fh)}},tv.Kj={"http://www.opengis.net/gml":{polygonMember:Qs(gh.prototype.Si),polygonMembers:Qs(gh.prototype.Si)}},tv.Nj={"http://www.opengis.net/gml":{Point:Qs(gh.prototype.df)}},tv.Gj={"http://www.opengis.net/gml":{LineString:Qs(gh.prototype.ff)}},tv.Oj={"http://www.opengis.net/gml":{Polygon:Qs(gh.prototype.gf)}},tv.ke={"http://www.opengis.net/gml":{LinearRing:tp(gh.prototype.mp)}},tv.Vi=function(t,e){var n=this.ef(t,[yp(this,t,e?e:{})]);return n?n:null},tv.Bc=function(t,e){var n={featureType:this.featureType,featureNS:this.featureNS};return e&&sv(n,yp(this,t,e)),this.ae(t,[n])||[]},tv.hf=function(t){return Ct(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},u(Lh,gh),tv=Lh.prototype,tv.qp=function(t,e){var n=hp([],this.Hj,t,e,this);if(n){var o=new Cp(null);return Tp(o,n),o}},tv.rp=function(t,e){var n=hp([],this.Lj,t,e,this);if(n){var o=new Ep(null);return Op(o,n),o}},tv.hh=function(t,e){pp(this.Dj,t,e,this)},tv.wj=function(t,e){pp(this.Rj,t,e,this)},tv.up=function(t,e){return hp([null],this.Mj,t,e,this)},tv.xp=function(t,e){return hp([null],this.Qj,t,e,this)},tv.vp=function(t,e){return hp([null],this.xf,t,e,this)},tv.pp=function(t,e){return hp([null],this.je,t,e,this)},tv.Yl=function(t,e){var n=hp(void 0,this.ke,t,e,this);n&&e[e.length-1].push(n)},tv.uk=function(t,e){var n=hp(void 0,this.ke,t,e,this);n&&(e[e.length-1][0]=n)},tv.aj=function(t,e){var n=hp([null],this.Sj,t,e,this);if(n&&n[0]){var o,r,a=new Fo(null),s=n[0],p=[s.length];for(o=1,r=n.length;o<r;++o)i(s,n[o]),p.push(s.length);return a.ca("XYZ",s,p),a}},tv.Ti=function(t,e){var n=hp([null],this.Ej,t,e,this);if(n){var o=new Pp(null);return o.ca("XYZ",n),o}},tv.lp=function(t,e){var n=hp([null],this.Fj,t,e,this);return j(n[1][0],n[1][1],n[2][0],n[2][1])},tv.np=function(t,e){for(var n,o=Hs(t,!1),i=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,r=[];n=i.exec(o);)r.push(parseFloat(n[1])),o=o.substr(n[0].length);if(""===o){if(o=e[0].srsName,i="enu",o&&(i=Ct(o).b),"neu"===i)for(o=0,i=r.length;o<i;o+=3)n=r[o],r[o]=r[o+1],r[o+1]=n;if(o=r.length,2==o&&r.push(0),o)return r}},tv.vg=function(t,e){var n=Hs(t,!1).replace(/^\s*|\s*$/g,""),o=e[0].srsName,i=t.parentNode.getAttribute("srsDimension"),r="enu";o&&(r=Ct(o).b),n=n.split(/\s+/),o=2,t.getAttribute("srsDimension")?o=Sh(t.getAttribute("srsDimension")):t.getAttribute("dimension")?o=Sh(t.getAttribute("dimension")):i&&(o=Sh(i));for(var a,s,p=[],h=0,u=n.length;h<u;h+=o)i=parseFloat(n[h]),a=parseFloat(n[h+1]),s=3===o?parseFloat(n[h+2]):0,"en"===r.substr(0,2)?p.push(i,a,s):p.push(a,i,s);return p},tv.je={"http://www.opengis.net/gml":{pos:tp(Lh.prototype.np),posList:tp(Lh.prototype.vg)}},tv.xf={"http://www.opengis.net/gml":{interior:Lh.prototype.Yl,exterior:Lh.prototype.uk}},tv.Rg={"http://www.opengis.net/gml":{Point:tp(gh.prototype.$i),MultiPoint:tp(gh.prototype.Yi),LineString:tp(gh.prototype.ff),MultiLineString:tp(gh.prototype.Xi),LinearRing:tp(gh.prototype.Wi),Polygon:tp(gh.prototype.gf),MultiPolygon:tp(gh.prototype.Zi),Surface:tp(Lh.prototype.aj),MultiSurface:tp(Lh.prototype.rp),Curve:tp(Lh.prototype.Ti),MultiCurve:tp(Lh.prototype.qp),Envelope:tp(Lh.prototype.lp)}},tv.Hj={"http://www.opengis.net/gml":{curveMember:Qs(Lh.prototype.hh),curveMembers:Qs(Lh.prototype.hh)}},tv.Lj={"http://www.opengis.net/gml":{surfaceMember:Qs(Lh.prototype.wj),surfaceMembers:Qs(Lh.prototype.wj)}},tv.Dj={"http://www.opengis.net/gml":{LineString:Qs(gh.prototype.ff),Curve:Qs(Lh.prototype.Ti)}},tv.Rj={"http://www.opengis.net/gml":{Polygon:Qs(gh.prototype.gf),Surface:Qs(Lh.prototype.aj)}},tv.Sj={"http://www.opengis.net/gml":{patches:tp(Lh.prototype.up)}},tv.Ej={"http://www.opengis.net/gml":{segments:tp(Lh.prototype.xp)}},tv.Fj={"http://www.opengis.net/gml":{lowerCorner:Qs(Lh.prototype.vg),upperCorner:Qs(Lh.prototype.vg)}},tv.Mj={"http://www.opengis.net/gml":{PolygonPatch:tp(Lh.prototype.vp)}},tv.Qj={"http://www.opengis.net/gml":{LineStringSegment:tp(Lh.prototype.pp)}},tv.gi=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),o=zs(t.namespaceURI,"pos"),t.appendChild(o),n=n[n.length-1].srsName,t="enu",n&&(t=Ct(n).b),e=e.W(),Eh(o,"en"===t.substr(0,2)?e[0]+" "+e[1]:e[1]+" "+e[0])};var rm={"http://www.opengis.net/gml":{lowerCorner:op(Eh),upperCorner:op(Eh)}};tv=Lh.prototype,tv.cn=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),lp({node:t},rm,Qg,[e[0]+" "+e[1],e[2]+" "+e[3]],n,["lowerCorner","upperCorner"],this)},tv.di=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),o=zs(t.namespaceURI,"posList"),t.appendChild(o),Ih(o,e,n)},tv.bn=function(t,e){var n=e[e.length-1],o=n.node,i=n.exteriorWritten;return void 0===i&&(n.exteriorWritten=!0),zs(o.namespaceURI,void 0!==i?"interior":"exterior")},tv.Re=function(t,e,n){var o=n[n.length-1].srsName;"PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName?(e=e.Oc(),lp({node:t,srsName:o},hm,this.bn,e,n,void 0,this)):"Surface"===t.nodeName&&(o=zs(t.namespaceURI,"patches"),t.appendChild(o),t=zs(o.namespaceURI,"PolygonPatch"),o.appendChild(t),this.Re(t,e,n))},tv.Qe=function(t,e,n){var o=n[n.length-1].srsName;"LineStringSegment"!==t.nodeName&&o&&t.setAttribute("srsName",o),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName?(o=zs(t.namespaceURI,"posList"),t.appendChild(o),Ih(o,e,n)):"Curve"===t.nodeName&&(o=zs(t.namespaceURI,"segments"),t.appendChild(o),t=zs(o.namespaceURI,"LineStringSegment"),o.appendChild(t),this.Qe(t,e,n))},tv.fi=function(t,e,n){var o=n[n.length-1],i=o.srsName,o=o.surface;i&&t.setAttribute("srsName",i),e=e.md(),lp({node:t,srsName:i,surface:o},am,this.l,e,n,void 0,this)},tv.dn=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),e=e.Zd(),lp({node:t,srsName:o},sm,rp("pointMember"),e,n,void 0,this)},tv.ei=function(t,e,n){var o=n[n.length-1],i=o.srsName,o=o.curve;i&&t.setAttribute("srsName",i),e=e.Nc(),lp({node:t,srsName:i,curve:o},pm,this.l,e,n,void 0,this)},tv.hi=function(t,e,n){var o=zs(t.namespaceURI,"LinearRing");t.appendChild(o),this.di(o,e,n)},tv.ii=function(t,e,n){var o=this.a(e,n);o&&(t.appendChild(o),this.Re(o,e,n))},tv.en=function(t,e,n){var o=zs(t.namespaceURI,"Point");t.appendChild(o),this.gi(o,e,n)},tv.ci=function(t,e,n){var o=this.a(e,n);o&&(t.appendChild(o),this.Qe(o,e,n))},tv.rd=function(t,e,n){var o=n[n.length-1],i=sv({},o);i.node=t;var r;r=Array.isArray(e)?o.dataProjection?Nt(e,o.featureProjection,o.dataProjection):e:gp(e,!0,o),lp(i,um,this.a,[r],n,void 0,this)},tv.bi=function(t,e,n){var o=e.a;o&&t.setAttribute("fid",o);var o=n[n.length-1],i=o.featureNS,r=e.c;o.kb||(o.kb={},o.kb[i]={});var a=e.M();e=[];var s,p=[];for(s in a){var h=a[s];null!==h&&(e.push(s),p.push(h),s==r||h instanceof eo?s in o.kb[i]||(o.kb[i][s]=op(this.rd,this)):s in o.kb[i]||(o.kb[i][s]=op(Eh)))}s=sv({},o),s.node=t,lp(s,o.kb,rp(void 0,i),p,n,e)};var am={"http://www.opengis.net/gml":{surfaceMember:op(Lh.prototype.ii),polygonMember:op(Lh.prototype.ii)}},sm={"http://www.opengis.net/gml":{pointMember:op(Lh.prototype.en)}},pm={"http://www.opengis.net/gml":{lineStringMember:op(Lh.prototype.ci),curveMember:op(Lh.prototype.ci)}},hm={"http://www.opengis.net/gml":{exterior:op(Lh.prototype.hi),interior:op(Lh.prototype.hi)}},um={"http://www.opengis.net/gml":{Curve:op(Lh.prototype.Qe),MultiCurve:op(Lh.prototype.ei),Point:op(Lh.prototype.gi),MultiPoint:op(Lh.prototype.dn),LineString:op(Lh.prototype.Qe),MultiLineString:op(Lh.prototype.ei),LinearRing:op(Lh.prototype.di),Polygon:op(Lh.prototype.Re),MultiPolygon:op(Lh.prototype.fi),Surface:op(Lh.prototype.Re),MultiSurface:op(Lh.prototype.fi),Envelope:op(Lh.prototype.cn)}},lm={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};Lh.prototype.l=function(t,e){return zs("http://www.opengis.net/gml",lm[e[e.length-1].node.nodeName])},Lh.prototype.a=function(t,e){var n,o=e[e.length-1],i=o.multiSurface,r=o.surface,a=o.curve,o=o.multiCurve;return Array.isArray(t)?n="Envelope":(n=t.S(),"MultiPolygon"===n&&!0===i?n="MultiSurface":"Polygon"===n&&!0===r?n="Surface":"LineString"===n&&!0===a?n="Curve":"MultiLineString"===n&&!0===o&&(n="MultiCurve")),zs("http://www.opengis.net/gml",n)},Lh.prototype.he=function(t,e){e=vp(this,e);var n=zs("http://www.opengis.net/gml","geom"),o={node:n,srsName:this.srsName,curve:this.c,surface:this.o,multiSurface:this.j,multiCurve:this.f};return e&&sv(o,e),this.rd(n,t,[o]),n},Lh.prototype.Zb=function(t,e){e=vp(this,e);var n=zs("http://www.opengis.net/gml","featureMembers");n.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var o={srsName:this.srsName,curve:this.c,surface:this.o,multiSurface:this.j,multiCurve:this.f,featureNS:this.featureNS,featureType:this.featureType};e&&sv(o,e);var o=[o],i=o[o.length-1],r=i.featureType,a=i.featureNS,s={};return s[a]={},s[a][r]=op(this.bi,this),i=sv({},i),i.node=n,lp(i,s,rp(r,a),t,o),n},u(Nh,gh),tv=Nh.prototype,tv.Ui=function(t,e){var n=Hs(t,!1).replace(/^\s*|\s*$/g,""),o=e[0].srsName,i="enu";o&&(o=Ct(o))&&(i=o.b);for(var r,a,n=n.trim().split(/\s+/),s=[],p=0,h=n.length;p<h;p++)a=n[p].split(/,+/),o=parseFloat(a[0]),r=parseFloat(a[1]),a=3===a.length?parseFloat(a[2]):0,"en"===i.substr(0,2)?s.push(o,r,a):s.push(r,o,a);return s},tv.jp=function(t,e){var n=hp([null],this.Cj,t,e,this);return j(n[1][0],n[1][1],n[1][3],n[1][4])},tv.Wl=function(t,e){var n=hp(void 0,this.ke,t,e,this);n&&e[e.length-1].push(n)},tv.So=function(t,e){var n=hp(void 0,this.ke,t,e,this);n&&(e[e.length-1][0]=n)},tv.je={"http://www.opengis.net/gml":{coordinates:tp(Nh.prototype.Ui)}},tv.xf={"http://www.opengis.net/gml":{innerBoundaryIs:Nh.prototype.Wl,outerBoundaryIs:Nh.prototype.So}},tv.Cj={"http://www.opengis.net/gml":{coordinates:Qs(Nh.prototype.Ui)}},tv.Rg={"http://www.opengis.net/gml":{Point:tp(gh.prototype.$i),MultiPoint:tp(gh.prototype.Yi),LineString:tp(gh.prototype.ff),MultiLineString:tp(gh.prototype.Xi),LinearRing:tp(gh.prototype.Wi),Polygon:tp(gh.prototype.gf),MultiPolygon:tp(gh.prototype.Zi),Box:tp(Nh.prototype.jp)}},tv.eg=function(t,e){var n,o=e[e.length-1],i=o.multiSurface,r=o.surface,o=o.multiCurve;return Array.isArray(t)?n="Envelope":(n=t.S(),"MultiPolygon"===n&&!0===i?n="MultiSurface":"Polygon"===n&&!0===r?n="Surface":"MultiLineString"===n&&!0===o&&(n="MultiCurve")),zs("http://www.opengis.net/gml",n)},tv.Uh=function(t,e,n){var o=n[n.length-1],i=sv({},o);i.node=t;var r;r=Array.isArray(e)?o.dataProjection?Nt(e,o.featureProjection,o.dataProjection):e:gp(e,!0,o),lp(i,cm,this.eg,[r],n,void 0,this)},tv.Oe=function(t,e,n){var o=n[n.length-1].srsName;"LineStringSegment"!==t.nodeName&&o&&t.setAttribute("srsName",o),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName?(o=Oh(t.namespaceURI),t.appendChild(o),kh(o,e,n)):"Curve"===t.nodeName&&(o=zs(t.namespaceURI,"segments"),t.appendChild(o),t=zs(o.namespaceURI,"LineStringSegment"),o.appendChild(t),this.Oe(t,e,n))},tv.Pe=function(t,e,n){var o=n[n.length-1].srsName;"PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName?(e=e.Oc(),lp({node:t,srsName:o},fm,this.Ym,e,n,void 0,this)):"Surface"===t.nodeName&&(o=zs(t.namespaceURI,"patches"),t.appendChild(o),t=zs(o.namespaceURI,"PolygonPatch"),o.appendChild(t),this.Pe(t,e,n))},tv.Ym=function(t,e){var n=e[e.length-1],o=n.node,i=n.exteriorWritten;return void 0===i&&(n.exteriorWritten=!0),zs(o.namespaceURI,void 0!==i?"innerBoundaryIs":"outerBoundaryIs")},tv.$h=function(t,e,n){var o=zs(t.namespaceURI,"LinearRing");t.appendChild(o),this.Wh(o,e,n)},tv.Xh=function(t,e,n){var o=n[n.length-1],i=o.srsName,o=o.curve;i&&t.setAttribute("srsName",i),e=e.Nc(),lp({node:t,srsName:i,curve:o},ym,this.a,e,n,void 0,this)},tv.Zh=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),n=Oh(t.namespaceURI),t.appendChild(n),t=e.W(),t=Rh(t,o),Eh(n,t)},tv.$m=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),e=e.Zd(),lp({node:t,srsName:o},dm,rp("pointMember"),e,n,void 0,this)},tv.an=function(t,e,n){var o=zs(t.namespaceURI,"Point");t.appendChild(o),this.Zh(o,e,n)},tv.Vh=function(t,e,n){var o=this.eg(e,n);o&&(t.appendChild(o),this.Oe(o,e,n))},tv.Wh=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),o=Oh(t.namespaceURI),t.appendChild(o),kh(o,e,n)},tv.Yh=function(t,e,n){var o=n[n.length-1],i=o.srsName,o=o.surface;i&&t.setAttribute("srsName",i),e=e.md(),lp({node:t,srsName:i,surface:o},gm,this.a,e,n,void 0,this)},tv.ai=function(t,e,n){var o=this.eg(e,n);o&&(t.appendChild(o),this.Pe(o,e,n))},tv.Zm=function(t,e,n){var o=n[n.length-1].srsName;o&&t.setAttribute("srsName",o),lp({node:t},mm,Qg,[e[0]+" "+e[1],e[2]+" "+e[3]],n,["lowerCorner","upperCorner"],this)};var cm={"http://www.opengis.net/gml":{Curve:op(Nh.prototype.Oe),MultiCurve:op(Nh.prototype.Xh),Point:op(Nh.prototype.Zh),MultiPoint:op(Nh.prototype.$m),LineString:op(Nh.prototype.Oe),MultiLineString:op(Nh.prototype.Xh),LinearRing:op(Nh.prototype.Wh),Polygon:op(Nh.prototype.Pe),MultiPolygon:op(Nh.prototype.Yh),Surface:op(Nh.prototype.Pe),MultiSurface:op(Nh.prototype.Yh),Envelope:op(Nh.prototype.Zm)}},fm={"http://www.opengis.net/gml":{outerBoundaryIs:op(Nh.prototype.$h),innerBoundaryIs:op(Nh.prototype.$h)}},dm={"http://www.opengis.net/gml":{pointMember:op(Nh.prototype.an)}},ym={"http://www.opengis.net/gml":{lineStringMember:op(Nh.prototype.Vh),curveMember:op(Nh.prototype.Vh)}};Nh.prototype.a=function(t,e){return zs("http://www.opengis.net/gml",vm[e[e.length-1].node.nodeName])};var vm={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},gm={"http://www.opengis.net/gml":{surfaceMember:op(Nh.prototype.ai),polygonMember:op(Nh.prototype.ai)}},mm={"http://www.opengis.net/gml":{lowerCorner:op(Eh),upperCorner:op(Eh)}};u(Dh,dh);var bm=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],xm={rte:Xh,trk:Uh,wpt:Yh},_m=sp(bm,{rte:Qs(Xh),trk:Qs(Uh),wpt:Qs(Yh)}),wm=sp(bm,{text:np(Ch,"linkText"),type:np(Ch,"linkType")}),Pm=sp(bm,{name:np(Ch),cmt:np(Ch),desc:np(Ch),src:np(Ch),link:Kh,number:np(Ph),extensions:Bh,type:np(Ch),rtept:function(t,e){var n=hp({},Sm,t,e);if(n){var o=e[e.length-1];Fh(o.flatCoordinates,o.layoutOptions,t,n)}}}),Sm=sp(bm,{ele:np(_h),time:np(xh)}),Cm=sp(bm,{name:np(Ch),cmt:np(Ch),desc:np(Ch),src:np(Ch),link:Kh,number:np(Ph),type:np(Ch),extensions:Bh,trkseg:function(t,e){var n=e[e.length-1];pp(Mm,t,e),n.ends.push(n.flatCoordinates.length)}}),Mm=sp(bm,{trkpt:function(t,e){var n=hp({},Tm,t,e);if(n){var o=e[e.length-1];Fh(o.flatCoordinates,o.layoutOptions,t,n)}}}),Tm=sp(bm,{ele:np(_h),time:np(xh)}),Am=sp(bm,{ele:np(_h),time:np(xh),magvar:np(_h),geoidheight:np(_h),name:np(Ch),cmt:np(Ch),desc:np(Ch),src:np(Ch),link:Kh,sym:np(Ch),type:np(Ch),fix:np(Ch),sat:np(Ph),hdop:np(_h),vdop:np(_h),pdop:np(_h),ageofdgpsdata:np(_h),dgpsid:np(Ph),extensions:Bh});Dh.prototype.rg=function(t,e){if(!n(bm,t.namespaceURI))return null;var o=xm[t.localName];return o&&(o=o(t,[yp(this,t,e)]))?(Gh(this,[o]),o):null},Dh.prototype.Bc=function(t,e){if(!n(bm,t.namespaceURI))return[];if("gpx"==t.localName){var o=hp([],_m,t,[yp(this,t,e)]);if(o)return Gh(this,o),o}return[]};var Em=["text","type"],Lm=sp(bm,{text:op(Eh),type:op(Eh)}),Im=sp(bm,"name cmt desc src link number type rtept".split(" ")),Nm=sp(bm,{name:op(Eh),cmt:op(Eh),desc:op(Eh),src:op(Eh),link:op(Wh),number:op(Ah),type:op(Eh),rtept:ip(op(zh))}),Om=sp(bm,["ele","time"]),km=sp(bm,"name cmt desc src link number type trkseg".split(" ")),Rm=sp(bm,{name:op(Eh),cmt:op(Eh),desc:op(Eh),src:op(Eh),link:op(Wh),number:op(Ah),type:op(Eh),trkseg:ip(op(function(t,e,n){lp({node:t,geometryLayout:e.la,properties:{}},Fm,Dm,e.W(),n)}))}),Dm=rp("trkpt"),Fm=sp(bm,{trkpt:op(zh)}),jm=sp(bm,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),Km=sp(bm,{ele:op(Th),time:op(function(t,e){var n=new Date(1e3*e);t.appendChild(Jg.createTextNode(n.getUTCFullYear()+"-"+Bn(n.getUTCMonth()+1)+"-"+Bn(n.getUTCDate())+"T"+Bn(n.getUTCHours())+":"+Bn(n.getUTCMinutes())+":"+Bn(n.getUTCSeconds())+"Z"))}),magvar:op(Th),geoidheight:op(Th),name:op(Eh),cmt:op(Eh),desc:op(Eh),src:op(Eh),link:op(Wh),sym:op(Eh),type:op(Eh),fix:op(Eh),sat:op(Ah),hdop:op(Th),vdop:op(Th),pdop:op(Th),ageofdgpsdata:op(Th),dgpsid:op(Ah)}),Bm={Point:"wpt",LineString:"rte",MultiLineString:"trk"},Xm=sp(bm,{rte:op(function(t,e,n){var o=n[0],i=e.M();t={node:t,properties:i},(e=e.U())&&(e=gp(e,!0,o),t.geometryLayout=e.la,i.rtept=e.W()),o=Im[n[n.length-1].node.namespaceURI],i=ap(i,o),lp(t,Nm,Qg,i,n,o)}),trk:op(function(t,e,n){var o=n[0],i=e.M();t={node:t,properties:i},(e=e.U())&&(e=gp(e,!0,o),i.trkseg=e.Nc()),o=km[n[n.length-1].node.namespaceURI],i=ap(i,o),lp(t,Rm,Qg,i,n,o)}),wpt:op(function(t,e,n){var o=n[0],i=n[n.length-1];i.properties=e.M(),(e=e.U())&&(e=gp(e,!0,o),i.geometryLayout=e.la,zh(t,e.W(),n))})});Dh.prototype.Zb=function(t,e){e=vp(this,e);var n=zs("http://www.topografix.com/GPX/1/1","gpx");return n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),n.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),n.setAttribute("version","1.1"),n.setAttribute("creator","OpenLayers"),lp({node:n},Xm,Hh,t,[e]),n},u(qh,dp),tv=qh.prototype,tv.S=function(){return"text"},tv.Vb=function(t,e){return this.$d(Vh(t),vp(this,e))},tv.Pa=function(t,e){return this.tg(Vh(t),vp(this,e))},tv.Xc=function(t,e){return this.yd(Vh(t),vp(this,e))},tv.jb=function(){return this.defaultDataProjection},tv.Dd=function(t,e){return this.fe(t,vp(this,e))},tv.Yb=function(t,e){return this.Og(t,vp(this,e))},tv.ed=function(t,e){return this.Ed(t,vp(this,e))},u($h,qh);var Um=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,Ym=/^H.([A-Z]{3}).*?:(.*)/,Gm=/^HFDTE(\d{2})(\d{2})(\d{2})/,Wm=/\r\n|\r|\n/;tv=$h.prototype,tv.$d=function(t,e){var n,o,i=this.b,r=t.split(Wm),a={},s=[],p=2e3,h=0,u=1,l=-1;for(n=0,o=r.length;n<o;++n){var c,f=r[n];if("B"==f.charAt(0)){if(c=Um.exec(f)){var f=parseInt(c[1],10),d=parseInt(c[2],10),y=parseInt(c[3],10),v=parseInt(c[4],10)+parseInt(c[5],10)/6e4;"S"==c[6]&&(v=-v);var g=parseInt(c[7],10)+parseInt(c[8],10)/6e4;"W"==c[9]&&(g=-g),s.push(g,v),"none"!=i&&s.push("gps"==i?parseInt(c[11],10):"barometric"==i?parseInt(c[12],10):0),c=Date.UTC(p,h,u,f,d,y),c<l&&(c=Date.UTC(p,h,u+1,f,d,y)),s.push(c/1e3),l=c}}else"H"==f.charAt(0)&&((c=Gm.exec(f))?(u=parseInt(c[1],10),h=parseInt(c[2],10)-1,p=2e3+parseInt(c[3],10)):(c=Ym.exec(f))&&(a[c[1]]=c[2].trim()))}return s.length?(r=new Pp(null),r.ca("none"==i?"XYM":"XYZM",s),i=new Gs(gp(r,!1,e)),i.H(a),i):null},tv.tg=function(t,e){var n=this.$d(t,e);return n?[n]:[]},tv.fe=function(){},tv.Og=function(){},tv.Ed=function(){},tv.yd=function(){},u(Zh,le),Zh.prototype.u=function(){this.g=3,this.i.forEach(re),this.i=null,this.b("change")},Zh.prototype.v=function(){if(this.g=2,this.a&&(this.N.width=this.a[0],this.N.height=this.a[1]),this.a=[this.N.width,this.N.height],this.i.forEach(re),this.i=null,Jh(this),!this.o&&null!==this.f){this.c.width=this.N.width,this.c.height=this.N.height;var t=this.c.getContext("2d");t.drawImage(this.N,0,0);for(var e=t.getImageData(0,0,this.N.width,this.N.height),n=e.data,o=this.f[0]/255,i=this.f[1]/255,r=this.f[2]/255,a=0,s=n.length;a<s;a+=4)n[a]*=o,n[a+1]*=i,n[a+2]*=r;t.putImageData(e,0,0)}this.b("change")},Zh.prototype.Y=function(){return this.c?this.c:this.N},Zh.prototype.load=function(){if(0==this.g){this.g=1,this.i=[oe(this.N,"error",this.u,this),oe(this.N,"load",this.v,this)];try{this.N.src=this.l}catch(t){this.u()}}},u(Qh,ks),tv=Qh.prototype,tv.clone=function(){var t,e=this.Y(1);if(2===this.b.g)if("IMG"===e.tagName.toUpperCase())t=e.cloneNode(!0);else{t=document.createElement("canvas");var n=t.getContext("2d");t.width=e.width,t.height=e.height,n.drawImage(e,0,0)}return new Qh({anchor:this.l.slice(),anchorOrigin:this.a,anchorXUnits:this.C,anchorYUnits:this.G,crossOrigin:this.ta,color:this.i&&this.i.slice?this.i.slice():this.i||void 0,img:t?t:void 0,imgSize:t?this.b.a.slice():void 0,src:t?void 0:this.b.l,offset:this.qa.slice(),offsetOrigin:this.g,size:null!==this.A?this.A.slice():void 0,opacity:this.f,scale:this.c,snapToPixel:this.u,rotation:this.j,rotateWithView:this.o})},tv.Jc=function(){if(this.v)return this.v;var t=this.l,e=this.kc();if("fraction"==this.C||"fraction"==this.G){if(!e)return null;t=this.l.slice(),"fraction"==this.C&&(t[0]*=e[0]),"fraction"==this.G&&(t[1]*=e[1])}if("top-left"!=this.a){if(!e)return null;t===this.l&&(t=this.l.slice()),"top-right"!=this.a&&"bottom-right"!=this.a||(t[0]=-t[0]+e[0]),"bottom-left"!=this.a&&"bottom-right"!=this.a||(t[1]=-t[1]+e[1])}return this.v=t},tv.Bo=function(){return this.i},tv.Y=function(t){return this.b.Y(t)},tv.ye=function(){return this.b.a},tv.Xe=function(){return this.b.g},tv.kg=function(){var t=this.b;if(!t.j)if(t.o){var e=t.a[0],n=t.a[1],o=Te(e,n);o.fillRect(0,0,e,n),t.j=o.canvas}else t.j=t.N;return t.j},tv.Tc=function(){if(this.O)return this.O;var t=this.qa;if("top-left"!=this.g){var e=this.kc(),n=this.b.a;if(!e||!n)return null;t=t.slice(),"top-right"!=this.g&&"bottom-right"!=this.g||(t[0]=n[0]-e[0]-t[0]),"bottom-left"!=this.g&&"bottom-right"!=this.g||(t[1]=n[1]-e[1]-t[1])}return this.O=t},tv.Co=function(){return this.b.l},tv.kc=function(){return this.A?this.A:this.b.a},tv.Gh=function(t,e){return ne(this.b,"change",t,e)},tv.load=function(){this.b.load()},tv.xj=function(t,e){ie(this.b,"change",t,e)},tv=tu.prototype,tv.clone=function(){return new tu({font:this.a,rotation:this.i,rotateWithView:this.l,scale:this.b,text:this.Oa(),textAlign:this.f,textBaseline:this.j,fill:this.Ca()?this.Ca().clone():void 0,stroke:this.Da()?this.Da().clone():void 0,offsetX:this.g,offsetY:this.c})},tv.Jk=function(){return this.a},tv.Yk=function(){return this.g},tv.Zk=function(){return this.c},tv.Ca=function(){return this.Wa},tv.Ho=function(){return this.l},tv.Io=function(){return this.i},tv.Jo=function(){return this.b},tv.Da=function(){return this.Za},tv.Oa=function(){return this.Fa},tv.il=function(){return this.f},tv.jl=function(){return this.j},tv.ij=function(t){this.a=t},tv.oj=function(t){this.g=t},tv.pj=function(t){this.c=t},tv.mf=function(t){this.Wa=t},tv.Ko=function(t){this.i=t},tv.Mi=function(t){this.b=t},tv.nf=function(t){this.Za=t},tv.pf=function(t){this.Fa=t},tv.rj=function(t){this.f=t},tv.Xp=function(t){this.j=t};var zm,Hm,qm,Vm,$m,Zm,Jm,Qm,tb,eb,nb,ob,ib,rb,ab;u(eu,dh);var sb=["http://www.google.com/kml/ext/2.2"],pb=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],hb={fraction:"fraction",pixels:"pixels"},ub=sp(pb,{displayName:np(Ch),value:np(Ch)}),lb=sp(pb,{Data:function(t,e){var n=t.getAttribute("name");pp(ub,t,e);var o=e[e.length-1];null!==n?o[n]=o.value:null!==o.displayName&&(o[o.displayName]=o.value)},SchemaData:function(t,e){pp(Ob,t,e)}}),cb=sp(pb,{LatLonAltBox:function(t,e){var n=hp({},fb,t,e);if(n){var o=e[e.length-1];o.extent=[parseFloat(n.west),parseFloat(n.south),parseFloat(n.east),parseFloat(n.north)],o.altitudeMode=n.altitudeMode,o.minAltitude=parseFloat(n.minAltitude),o.maxAltitude=parseFloat(n.maxAltitude)}},Lod:function(t,e){var n=hp({},db,t,e);if(n){var o=e[e.length-1];o.minLodPixels=parseFloat(n.minLodPixels),o.maxLodPixels=parseFloat(n.maxLodPixels),o.minFadeExtent=parseFloat(n.minFadeExtent),o.maxFadeExtent=parseFloat(n.maxFadeExtent)}}}),fb=sp(pb,{altitudeMode:np(Ch),minAltitude:np(_h),maxAltitude:np(_h),north:np(_h),south:np(_h),east:np(_h),west:np(_h)}),db=sp(pb,{minLodPixels:np(_h),maxLodPixels:np(_h),minFadeExtent:np(_h),maxFadeExtent:np(_h)}),yb=sp(pb,{extrude:np(mh),altitudeMode:np(Ch)}),vb=sp(pb,{coordinates:tp(au)}),gb=sp(pb,{innerBoundaryIs:function(t,e){var n=hp(void 0,wb,t,e);n&&e[e.length-1].push(n)},outerBoundaryIs:function(t,e){var n=hp(void 0,Eb,t,e);n&&(e[e.length-1][0]=n)}}),mb=sp(pb,{when:function(t,e){var n=e[e.length-1].Aj,o=Hs(t,!1),o=Date.parse(o);n.push(isNaN(o)?0:o)}},sp(sb,{coord:function(t,e){var n=e[e.length-1].B,o=Hs(t,!1);(o=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(o))?n.push(parseFloat(o[1]),parseFloat(o[2]),parseFloat(o[3]),0):n.push(0,0,0,0)}})),bb=sp(pb,{coordinates:tp(au)}),xb=sp(pb,{href:np(su)},sp(sb,{x:np(_h),y:np(_h),w:np(_h),h:np(_h)})),_b=sp(pb,{Icon:np(function(t,e){var n=hp({},xb,t,e);return n?n:null}),heading:np(_h),hotSpot:np(function(t){var e=t.getAttribute("xunits"),n=t.getAttribute("yunits");return{x:parseFloat(t.getAttribute("x")),Pg:hb[e],y:parseFloat(t.getAttribute("y")),Qg:hb[n]}}),scale:np(pu)}),wb=sp(pb,{LinearRing:tp(hu)}),Pb=sp(pb,{color:np(ru),scale:np(pu)}),Sb=sp(pb,{color:np(ru),width:np(_h)}),Cb=sp(pb,{LineString:Qs(lu),LinearRing:Qs(cu),MultiGeometry:Qs(fu),Point:Qs(du),Polygon:Qs(yu)}),Mb=sp(sb,{Track:Qs(uu)}),Tb=sp(pb,{ExtendedData:mu,Region:bu,Link:function(t,e){pp(Ab,t,e)},address:np(Ch),description:np(Ch),name:np(Ch),open:np(mh),phoneNumber:np(Ch),visibility:np(mh)}),Ab=sp(pb,{href:np(su)}),Eb=sp(pb,{LinearRing:tp(hu)}),Lb=sp(pb,{Style:np(vu),key:np(Ch),styleUrl:np(su)}),Ib=sp(pb,{ExtendedData:mu,Region:bu,MultiGeometry:np(fu,"geometry"),LineString:np(lu,"geometry"),LinearRing:np(cu,"geometry"),Point:np(du,"geometry"),Polygon:np(yu,"geometry"),Style:np(vu),StyleMap:function(t,e){var n=hp(void 0,Rb,t,e);if(n){var o=e[e.length-1];Array.isArray(n)?o.Style=n:"string"==typeof n?o.styleUrl=n:d(!1,38)}},address:np(Ch),description:np(Ch),name:np(Ch),open:np(mh),phoneNumber:np(Ch),styleUrl:np(su),visibility:np(mh)},sp(sb,{MultiTrack:np(function(t,e){var n=hp([],Mb,t,e);if(n){var o=new Cp(null);return Tp(o,n),o}},"geometry"),Track:np(uu,"geometry")})),Nb=sp(pb,{color:np(ru),fill:np(mh),outline:np(mh)}),Ob=sp(pb,{SimpleData:function(t,e){var n=t.getAttribute("name");if(null!==n){var o=Ch(t);e[e.length-1][n]=o}}}),kb=sp(pb,{IconStyle:function(t,e){var n=hp({},_b,t,e);if(n){var o,i=e[e.length-1],r="Icon"in n?n.Icon:{},a=!("Icon"in n)||0<Object.keys(r).length,s=r.href;s?o=s:a&&(o=Qm);var p,h,u;(s=n.hotSpot)?(p=[s.x,s.y],h=s.Pg,u=s.Qg):o===Qm?(p=Vm,h=$m,u=Zm):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(o)&&(p=[.5,0],u=h="fraction");var l,s=r.x,c=r.y;void 0!==s&&void 0!==c&&(l=[s,c]);var f,s=r.w,r=r.h;void 0!==s&&void 0!==r&&(f=[s,r]);
var d,r=n.heading;void 0!==r&&(d=P(r)),n=n.scale,a?(o==Qm&&(f=Jm,void 0===n&&(n=tb)),a=new Qh({anchor:p,anchorOrigin:"bottom-left",anchorXUnits:h,anchorYUnits:u,crossOrigin:"anonymous",offset:l,offsetOrigin:"bottom-left",rotation:d,scale:n,size:f,src:o}),i.imageStyle=a):i.imageStyle=nb}},LabelStyle:function(t,e){var n=hp({},Pb,t,e);n&&(e[e.length-1].textStyle=new tu({fill:new js({color:"color"in n?n.color:Hm}),scale:n.scale}))},LineStyle:function(t,e){var n=hp({},Sb,t,e);n&&(e[e.length-1].strokeStyle=new Ca({color:"color"in n?n.color:Hm,width:"width"in n?n.width:1}))},PolyStyle:function(t,e){var n=hp({},Nb,t,e);if(n){var o=e[e.length-1];o.fillStyle=new js({color:"color"in n?n.color:Hm});var i=n.fill;void 0!==i&&(o.fill=i),n=n.outline,void 0!==n&&(o.outline=n)}}}),Rb=sp(pb,{Pair:function(t,e){var n=hp({},Lb,t,e);if(n){var o=n.key;o&&"normal"==o&&((o=n.styleUrl)&&(e[e.length-1]=o),(n=n.Style)&&(e[e.length-1]=n))}}});tv=eu.prototype,tv.pg=function(t,e){var n=sp(pb,{Document:Js(this.pg,this),Folder:Js(this.pg,this),Placemark:Qs(this.xg,this),Style:this.zp.bind(this),StyleMap:this.yp.bind(this)});if(n=hp([],n,t,e,this))return n},tv.xg=function(t,e){var n=hp({geometry:null},Ib,t,e);if(n){var o=new Gs,i=t.getAttribute("id");null!==i&&o.lc(i);var i=e[0],r=n.geometry;return r&&gp(r,!1,i),o.Ta(r),delete n.geometry,this.c&&o.cg(ou(n.Style,n.styleUrl,this.a,this.b,this.f)),delete n.Style,o.H(n),o}},tv.zp=function(t,e){var n=t.getAttribute("id");if(null!==n){var o=vu(t,e);o&&(n=t.baseURI?new URL("#"+n,t.baseURI).href:"#"+n,this.b[n]=o)}},tv.yp=function(t,e){var n=t.getAttribute("id");if(null!==n){var o=hp(void 0,Rb,t,e);o&&(n=t.baseURI?new URL("#"+n,t.baseURI).href:"#"+n,this.b[n]=o)}},tv.rg=function(t,e){if(!n(pb,t.namespaceURI))return null;var o=this.xg(t,[yp(this,t,e)]);return o?o:null},tv.Bc=function(t,e){if(!n(pb,t.namespaceURI))return[];var o;if(o=t.localName,"Document"==o||"Folder"==o)return(o=this.pg(t,[yp(this,t,e)]))?o:[];if("Placemark"==o)return(o=this.xg(t,[yp(this,t,e)]))?[o]:[];if("kml"==o){o=[];var r;for(r=t.firstElementChild;r;r=r.nextElementSibling){var a=this.Bc(r,e);a&&i(o,a)}return o}return[]},tv.sp=function(t){return Vs(t)?xu(this,t):$s(t)?_u(this,t):"string"==typeof t?(t=Zs(t),xu(this,t)):void 0},tv.tp=function(t){var e=[];return Vs(t)?i(e,wu(this,t)):$s(t)?i(e,Pu(this,t)):"string"==typeof t&&(t=Zs(t),i(e,wu(this,t))),e},tv.wp=function(t){var e=[];return Vs(t)?i(e,Su(this,t)):$s(t)?i(e,this.jf(t)):"string"==typeof t&&(t=Zs(t),i(e,Su(this,t))),e},tv.jf=function(t){var e,o=[];for(e=t.firstElementChild;e;e=e.nextElementSibling)if(n(pb,e.namespaceURI)&&"Region"==e.localName){var r=hp({},cb,e,[]);o.push(r)}for(e=t.firstElementChild;e;e=e.nextElementSibling)t=e.localName,!n(pb,e.namespaceURI)||"Document"!=t&&"Folder"!=t&&"kml"!=t||i(o,this.jf(e));return o};var Db=sp(pb,["Document","Placemark"]),Fb=sp(pb,{Document:op(function(t,e,n){lp({node:t},jb,Ou,e,n,void 0,this)}),Placemark:op(Au)}),jb=sp(pb,{Placemark:op(Au)}),Kb=sp(pb,{Data:op(function(t,e,n){t.setAttribute("name",e.name),t={node:t},e=e.value,"object"==typeof e?(null!==e&&e.displayName&&lp(t,Kb,Qg,[e.displayName],n,["displayName"]),null!==e&&e.value&&lp(t,Kb,Qg,[e.value],n,["value"])):lp(t,Kb,Qg,[e],n,["value"])}),value:op(function(t,e){Eh(t,e)}),displayName:op(function(t,e){t.appendChild(Jg.createCDATASection(e))})}),Bb={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},Xb=sp(pb,["href"],sp(sb,["x","y","w","h"])),Ub=sp(pb,{href:op(Eh)},sp(sb,{x:op(Th),y:op(Th),w:op(Th),h:op(Th)})),Yb=sp(pb,["scale","heading","Icon","hotSpot"]),Gb=sp(pb,{Icon:op(function(t,e,n){t={node:t};var o=Xb[n[n.length-1].node.namespaceURI],i=ap(e,o);lp(t,Ub,Qg,i,n,o),o=Xb[sb[0]],i=ap(e,o),lp(t,Ub,Nu,i,n,o)}),heading:op(Th),hotSpot:op(function(t,e){t.setAttribute("x",e.x),t.setAttribute("y",e.y),t.setAttribute("xunits",e.Pg),t.setAttribute("yunits",e.Qg)}),scale:op(Iu)}),Wb=sp(pb,["color","scale"]),zb=sp(pb,{color:op(Cu),scale:op(Iu)}),Hb=sp(pb,["color","width"]),qb=sp(pb,{color:op(Cu),width:op(Th)}),Vb=sp(pb,{LinearRing:op(Eu)}),$b=sp(pb,{LineString:op(Eu),Point:op(Eu),Polygon:op(Lu),GeometryCollection:op(Mu)}),Zb=sp(pb,"name open visibility address phoneNumber description styleUrl Style".split(" ")),Jb=sp(pb,{ExtendedData:op(function(t,e,n){t={node:t};var o=e.names;e=e.values;for(var i=o.length,r=0;r<i;r++)lp(t,Kb,ax,[{name:o[r],value:e[r]}],n)}),MultiGeometry:op(Mu),LineString:op(Eu),LinearRing:op(Eu),Point:op(Eu),Polygon:op(Lu),Style:op(function(t,e,n){t={node:t};var o={},i=e.Ca(),r=e.Da(),a=e.Y();e=e.Oa(),a instanceof Qh&&(o.IconStyle=a),e&&(o.LabelStyle=e),r&&(o.LineStyle=r),i&&(o.PolyStyle=i),e=nx[n[n.length-1].node.namespaceURI],o=ap(o,e),lp(t,ox,Qg,o,n,e)}),address:op(Eh),description:op(Eh),name:op(Eh),open:op(Mh),phoneNumber:op(Eh),styleUrl:op(Eh),visibility:op(Mh)}),Qb=sp(pb,{coordinates:op(function(t,e,n){n=n[n.length-1];var o=n.layout;n=n.stride;var i;"XY"==o||"XYM"==o?i=2:"XYZ"==o||"XYZM"==o?i=3:d(!1,34);var r,a=e.length,s="";if(0<a){for(s+=e[0],o=1;o<i;++o)s+=","+e[o];for(r=n;r<a;r+=n)for(s+=" "+e[r],o=1;o<i;++o)s+=","+e[r+o]}Eh(t,s)})}),tx=sp(pb,{outerBoundaryIs:op(Tu),innerBoundaryIs:op(Tu)}),ex=sp(pb,{color:op(Cu)}),nx=sp(pb,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),ox=sp(pb,{IconStyle:op(function(t,e,n){t={node:t};var o={},i=e.kc(),r=e.ye(),a={href:e.b.l};if(i){a.w=i[0],a.h=i[1];var s=e.Jc(),p=e.Tc();p&&r&&p[0]&&p[1]!==i[1]&&(a.x=p[0],a.y=r[1]-(p[1]+i[1])),s&&s[0]&&s[1]!==i[1]&&(o.hotSpot={x:s[0],Pg:"pixels",y:i[1]-s[1],Qg:"pixels"})}o.Icon=a,i=e.c,1!==i&&(o.scale=i),(e=e.j)&&(o.heading=e),e=Yb[n[n.length-1].node.namespaceURI],o=ap(o,e),lp(t,Gb,Qg,o,n,e)}),LabelStyle:op(function(t,e,n){t={node:t};var o={},i=e.Ca();i&&(o.color=i.b),(e=e.b)&&1!==e&&(o.scale=e),e=Wb[n[n.length-1].node.namespaceURI],o=ap(o,e),lp(t,zb,Qg,o,n,e)}),LineStyle:op(function(t,e,n){t={node:t};var o=Hb[n[n.length-1].node.namespaceURI];e=ap({color:e.a,width:e.c},o),lp(t,qb,Qg,e,n,o)}),PolyStyle:op(function(t,e,n){lp({node:t},ex,ix,[e.b],n)})}),ix=rp("color"),rx=rp("coordinates"),ax=rp("Data"),sx=rp("ExtendedData"),px=rp("innerBoundaryIs"),hx=rp("Point"),ux=rp("LineString"),lx=rp("LinearRing"),cx=rp("Polygon"),fx=rp("outerBoundaryIs");eu.prototype.Zb=function(t,e){e=vp(this,e);var n=zs(pb[4],"kml");n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:gx",sb[0]),n.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),n.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var o={node:n},i={};1<t.length?i.Document=t:1==t.length&&(i.Placemark=t[0]);var r=Db[n.namespaceURI],i=ap(i,r);return lp(o,Fb,Qg,i,[e],r,this),n},function(){var t={},e={ma:t};!function(n){if("object"==typeof t&&"undefined"!=typeof e)e.ma=n();else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,o.Bq=n()}}(function(){return function t(e,n,o){function i(a,s){if(!n[a]){if(!e[a]){var p="function"==typeof require&&require;if(!s&&p)return p(a,!0);if(r)return r(a,!0);throw p=Error("Cannot find module '"+a+"'"),p.code="MODULE_NOT_FOUND",p}p=n[a]={ma:{}},e[a][0].call(p.ma,function(t){var n=e[a][1][t];return i(n?n:t)},p,p.ma,t,e,n,o)}return n[a].ma}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(t,e,n){n.read=function(t,e,n,o,i){var r;r=8*i-o-1;var a=(1<<r)-1,s=a>>1,p=-7;i=n?i-1:0;var h=n?-1:1,u=t[e+i];for(i+=h,n=u&(1<<-p)-1,u>>=-p,p+=r;0<p;n=256*n+t[e+i],i+=h,p-=8);for(r=n&(1<<-p)-1,n>>=-p,p+=o;0<p;r=256*r+t[e+i],i+=h,p-=8);if(0===n)n=1-s;else{if(n===a)return r?NaN:1/0*(u?-1:1);r+=Math.pow(2,o),n-=s}return(u?-1:1)*r*Math.pow(2,n-o)},n.write=function(t,e,n,o,i,r){var a,s=8*r-i-1,p=(1<<s)-1,h=p>>1,u=23===i?Math.pow(2,-24)-Math.pow(2,-77):0;r=o?0:r-1;var l=o?1:-1,c=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(e=isNaN(e)?1:0,o=p):(o=Math.floor(Math.log(e)/Math.LN2),1>e*(a=Math.pow(2,-o))&&(o--,a*=2),e=1<=o+h?e+u/a:e+u*Math.pow(2,1-h),2<=e*a&&(o++,a/=2),o+h>=p?(e=0,o=p):1<=o+h?(e=(e*a-1)*Math.pow(2,i),o+=h):(e=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));8<=i;t[n+r]=255&e,r+=l,e/=256,i-=8);for(o=o<<i|e,s+=i;0<s;t[n+r]=255&o,r+=l,o/=256,s-=8);t[n+r-l]|=128*c}},{}],2:[function(t,e){function n(t){this.nc=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.type=this.ha=0,this.length=this.nc.length}function o(t,e,n){var o,r,a=n.nc;if(r=a[n.ha++],o=(112&r)>>4,128>r)return i(t,o,e);if(r=a[n.ha++],o|=(127&r)<<3,128>r)return i(t,o,e);if(r=a[n.ha++],o|=(127&r)<<10,128>r)return i(t,o,e);if(r=a[n.ha++],o|=(127&r)<<17,128>r)return i(t,o,e);if(r=a[n.ha++],o|=(127&r)<<24,128>r)return i(t,o,e);if(r=a[n.ha++],128>r)return i(t,o|(1&r)<<31,e);throw Error("Expected varint not more than 10 bytes")}function i(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}e.ma=n;var r=t("ieee754");n.c=0,n.g=1,n.b=2,n.a=5,n.prototype={ug:function(t,e,n){for(n=n||this.length;this.ha<n;){var o=this.Ma(),i=o>>3,r=this.ha;this.type=7&o,t(i,e,this),this.ha===r&&this.bq(o)}return e},op:function(){var t=r.read(this.nc,this.ha,!0,23,4);return this.ha+=4,t},kp:function(){var t=r.read(this.nc,this.ha,!0,52,8);return this.ha+=8,t},Ma:function(t){var e,n,i=this.nc;return n=i[this.ha++],e=127&n,128>n?e:(n=i[this.ha++],e|=(127&n)<<7,128>n?e:(n=i[this.ha++],e|=(127&n)<<14,128>n?e:(n=i[this.ha++],e|=(127&n)<<21,128>n?e:(n=i[this.ha],o(e|(15&n)<<28,t,this)))))},Ap:function(){return this.Ma(!0)},be:function(){var t=this.Ma();return 1===t%2?(t+1)/-2:t/2},ip:function(){return!!this.Ma()},Ag:function(){for(var t=this.Ma()+this.ha,e=this.nc,n="",o=this.ha;o<t;){var i=e[o],r=null,a=239<i?4:223<i?3:191<i?2:1;if(o+a>t)break;var s,p,h;1===a?128>i&&(r=i):2===a?(s=e[o+1],128===(192&s)&&(r=(31&i)<<6|63&s,127>=r&&(r=null))):3===a?(s=e[o+1],p=e[o+2],128===(192&s)&&128===(192&p)&&(r=(15&i)<<12|(63&s)<<6|63&p,2047>=r||55296<=r&&57343>=r)&&(r=null)):4===a&&(s=e[o+1],p=e[o+2],h=e[o+3],128===(192&s)&&128===(192&p)&&128===(192&h)&&(r=(15&i)<<18|(63&s)<<12|(63&p)<<6|63&h,65535>=r||1114112<=r))&&(r=null),null===r?(r=65533,a=1):65535<r&&(r-=65536,n+=String.fromCharCode(r>>>10&1023|55296),r=56320|1023&r),n+=String.fromCharCode(r),o+=a}return this.ha=t,n},bq:function(t){if(t&=7,t===n.c)for(;127<this.nc[this.ha++];);else if(t===n.b)this.ha=this.Ma()+this.ha;else if(t===n.a)this.ha+=4;else{if(t!==n.g)throw Error("Unimplemented type: "+t);this.ha+=8}}}},{ieee754:1}]},{},[2])(2)}),Ng=e.ma}(),function(){var t={},e={ma:t};!function(n){if("object"==typeof t&&"undefined"!=typeof e)e.ma=n();else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,o.Eq=n()}}(function(){return function t(e,n,o){function i(a,s){if(!n[a]){if(!e[a]){var p="function"==typeof require&&require;if(!s&&p)return p(a,!0);if(r)return r(a,!0);throw p=Error("Cannot find module '"+a+"'"),p.code="MODULE_NOT_FOUND",p}p=n[a]={ma:{}},e[a][0].call(p.ma,function(t){var n=e[a][1][t];return i(n?n:t)},p,p.ma,t,e,n,o)}return n[a].ma}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(t,e){function n(t,e){this.x=t,this.y=e}e.ma=n,n.prototype={clone:function(){return new n(this.x,this.y)},add:function(t){return this.clone().Uj(t)},rotate:function(t){return this.clone().dk(t)},round:function(){return this.clone().ek()},angle:function(){return Math.atan2(this.y,this.x)},Uj:function(t){return this.x+=t.x,this.y+=t.y,this},dk:function(t){var e=Math.cos(t);t=Math.sin(t);var n=t*this.x+e*this.y;return this.x=e*this.x-t*this.y,this.y=n,this},ek:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},n.b=function(t){return t instanceof n?t:Array.isArray(t)?new n(t[0],t[1]):t}},{}],2:[function(t,e){e.ma.Tj=t("./lib/vectortile.js"),e.ma.yq=t("./lib/vectortilefeature.js"),e.ma.zq=t("./lib/vectortilelayer.js")},{"./lib/vectortile.js":3,"./lib/vectortilefeature.js":4,"./lib/vectortilelayer.js":5}],3:[function(t,e){function n(t,e,n){3===t&&(t=new o(n,n.Ma()+n.ha),t.length&&(e[t.name]=t))}var o=t("./vectortilelayer");e.ma=function(t,e){this.layers=t.ug(n,{},e)}},{"./vectortilelayer":5}],4:[function(t,e){function n(t,e,n,i,r){this.properties={},this.extent=n,this.type=0,this.Ec=t,this.Af=-1,this.ne=i,this.pe=r,t.ug(o,this,e)}function o(t,e,n){if(1==t)e.id=n.Ma();else if(2==t)for(t=n.Ma()+n.ha;n.ha<t;){var o=e.ne[n.Ma()],i=e.pe[n.Ma()];e.properties[o]=i}else 3==t?e.type=n.Ma():4==t&&(e.Af=n.ha)}var i=t("point-geometry");e.ma=n,n.b=["Unknown","Point","LineString","Polygon"],n.prototype.Hh=function(){var t=this.Ec;t.ha=this.Af;for(var e,n=t.Ma()+t.ha,o=1,r=0,a=0,s=0,p=[];t.ha<n;)if(r||(r=t.Ma(),o=7&r,r>>=3),r--,1===o||2===o)a+=t.be(),s+=t.be(),1===o&&(e&&p.push(e),e=[]),e.push(new i(a,s));else{if(7!==o)throw Error("unknown command "+o);e&&e.push(e[0].clone())}return e&&p.push(e),p},n.prototype.bbox=function(){var t=this.Ec;t.ha=this.Af;for(var e=t.Ma()+t.ha,n=1,o=0,i=0,r=0,a=1/0,s=-(1/0),p=1/0,h=-(1/0);t.ha<e;)if(o||(o=t.Ma(),n=7&o,o>>=3),o--,1===n||2===n)i+=t.be(),r+=t.be(),i<a&&(a=i),i>s&&(s=i),r<p&&(p=r),r>h&&(h=r);else if(7!==n)throw Error("unknown command "+n);return[a,p,s,h]}},{"point-geometry":1}],5:[function(t,e){function n(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this.Ec=t,this.ne=[],this.pe=[],this.me=[],t.ug(o,this,e),this.length=this.me.length}function o(t,e,n){15===t?e.version=n.Ma():1===t?e.name=n.Ag():5===t?e.extent=n.Ma():2===t?e.me.push(n.ha):3===t?e.ne.push(n.Ag()):4===t&&e.pe.push(i(n))}function i(t){for(var e=null,n=t.Ma()+t.ha;t.ha<n;)e=t.Ma()>>3,e=1===e?t.Ag():2===e?t.op():3===e?t.kp():4===e?t.Ap():5===e?t.Ma():6===e?t.be():7===e?t.ip():null;return e}var r=t("./vectortilefeature.js");e.ma=n,n.prototype.feature=function(t){if(0>t||t>=this.me.length)throw Error("feature index out of bounds");return this.Ec.ha=this.me[t],t=this.Ec.Ma()+this.Ec.ha,new r(this.Ec,t,this.extent,this.ne,this.pe)}},{"./vectortilefeature.js":4}]},{},[2])(2)}),Og=e.ma}(),tv=Ru.prototype,tv.get=function(t){return this.c[t]},tv.Sb=function(){return this.i},tv.D=function(){return this.a||(this.a="Point"===this.g?K(this.b):B(this.b,0,this.b.length,2)),this.a},tv.gc=function(){return this.b},tv.ia=Ru.prototype.gc,tv.U=function(){return this},tv.Nn=function(){return this.c},tv.Td=Ru.prototype.U,tv.sa=function(){return 2},tv.Rc=l,tv.S=function(){return this.g},u(Du,dp),tv=Du.prototype,tv.S=function(){return"arraybuffer"},tv.Pa=function(t,e){var n,o,i,r=this.c,a=new Ng(t),a=new Og.Tj(a),s=[],p=this.b;for(i in a.layers)if(!r||-1!=r.indexOf(i)){n=a.layers[i];for(var h=0,u=n.length;h<u;++h){if(p===Ru){o=void 0;var l=n.feature(h),c=i,f=l.Hh(),d=[],y=[];Fu(f,y,d);var v=l.type;1===v?o=1===f.length?"Point":"MultiPoint":2===v?o=1===f.length?"LineString":"MultiLineString":3===v&&(o="Polygon"),l=l.properties,l[this.a]=c,o=new this.b(o,y,d,l)}else{if(v=n.feature(h),l=i,y=e,o=new this.b,c=v.id,d=v.properties,d[this.a]=l,this.g&&o.Yc(this.g),l=void 0,f=v.type,0===f)l=null;else{var v=v.Hh(),g=[],m=[];Fu(v,m,g),1===f?l=1===v.length?new Co(null):new Ap(null):2===f?l=1===v.length?new Pp(null):new Cp(null):3===f&&(l=new Fo(null)),l.ca("XY",m,g)}y=gp(l,!1,vp(this,y)),o.Ta(y),o.lc(c),o.H(d)}s.push(o)}}return s},tv.jb=function(){return this.defaultDataProjection},tv.fn=function(t){this.c=t},tv.Vb=function(){},tv.Xc=function(){},tv.Dd=function(){},tv.ed=function(){},tv.Yb=function(){},u(ju,dh);var dx=[null],yx=sp(dx,{nd:function(t,e){e[e.length-1].qd.push(t.getAttribute("ref"))},tag:Ku}),vx=sp(dx,{node:function(t,e){var n=e[0],o=e[e.length-1],i=t.getAttribute("id"),r=[parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))];o.Lh[i]=r;var a=hp({ee:{}},gx,t,e);pt(a.ee)||(r=new Co(r),gp(r,!1,n),n=new Gs(r),n.lc(i),n.H(a.ee),o.features.push(n))},way:function(t,e){for(var n=e[0],o=t.getAttribute("id"),r=hp({qd:[],ee:{}},yx,t,e),a=e[e.length-1],s=[],p=0,h=r.qd.length;p<h;p++)i(s,a.Lh[r.qd[p]]);r.qd[0]==r.qd[r.qd.length-1]?(p=new Fo(null),p.ca("XY",s,[s.length])):(p=new Pp(null),p.ca("XY",s)),gp(p,!1,n),n=new Gs(p),n.lc(o),n.H(r.ee),a.features.push(n)}}),gx=sp(dx,{tag:Ku});ju.prototype.Bc=function(t,e){var n=yp(this,t,e);return"osm"==t.localName&&(n=hp({Lh:{},features:[]},vx,t,[n]),n.features)?n.features:[]},ju.prototype.Ng=function(){},ju.prototype.Zb=function(){},ju.prototype.he=function(){},Xu.prototype.read=function(t){return Vs(t)?this.a(t):$s(t)?this.b(t):"string"==typeof t?(t=Zs(t),this.a(t)):null},u(Uu,Xu),Uu.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},Uu.prototype.b=function(t){return(t=hp({},bx,t,[]))?t:null};var mx=[null,"http://www.opengis.net/ows/1.1"],bx=sp(mx,{ServiceIdentification:np(function(t,e){return hp({},Ix,t,e)}),ServiceProvider:np(function(t,e){return hp({},Nx,t,e)}),OperationsMetadata:np(function(t,e){return hp({},Tx,t,e)})}),xx=sp(mx,{DeliveryPoint:np(Ch),City:np(Ch),AdministrativeArea:np(Ch),PostalCode:np(Ch),Country:np(Ch),ElectronicMailAddress:np(Ch)}),_x=sp(mx,{Value:ep(function(t){return Ch(t)})}),wx=sp(mx,{AllowedValues:np(function(t,e){return hp({},_x,t,e)})}),Px=sp(mx,{Phone:np(function(t,e){return hp({},Ax,t,e)}),Address:np(function(t,e){return hp({},xx,t,e)})}),Sx=sp(mx,{HTTP:np(function(t,e){return hp({},Cx,t,e)})}),Cx=sp(mx,{Get:ep(function(t,e){var n=Bu(t);if(n)return hp({href:n},Ex,t,e)}),Post:void 0}),Mx=sp(mx,{DCP:np(function(t,e){return hp({},Sx,t,e)})}),Tx=sp(mx,{Operation:function(t,e){var n=t.getAttribute("name"),o=hp({},Mx,t,e);o&&(e[e.length-1][n]=o)}}),Ax=sp(mx,{Voice:np(Ch),Facsimile:np(Ch)}),Ex=sp(mx,{Constraint:ep(function(t,e){var n=t.getAttribute("name");if(n)return hp({name:n},wx,t,e)})}),Lx=sp(mx,{IndividualName:np(Ch),PositionName:np(Ch),ContactInfo:np(function(t,e){return hp({},Px,t,e)})}),Ix=sp(mx,{Title:np(Ch),ServiceTypeVersion:np(Ch),ServiceType:np(Ch)}),Nx=sp(mx,{ProviderName:np(Ch),ProviderSite:np(Bu),ServiceContact:np(function(t,e){return hp({},Lx,t,e)})});u(Gu,qh),tv=Gu.prototype,tv.$d=function(t,e){var n=this.yd(t,e);return new Gs(n)},tv.tg=function(t,e){return[this.$d(t,e)]},tv.yd=function(t,e){var n=ro(this.a),o=zu(t,n,this.b);return Yu(o,o.length,n,o),n=bo(o,0,o.length,n),gp(new Pp(n,this.a),!1,vp(this,e))},tv.fe=function(t,e){var n=t.U();return n?this.Ed(n,e):(d(!1,40),"")},tv.Og=function(t,e){return this.fe(t[0],e)},tv.Ed=function(t,e){t=gp(t,!0,vp(this,e));var n=t.ia(),o=t.sa();return Yu(n,n.length,o,n),Wu(n,o,this.b)},u(Vu,mp),Vu.prototype.sg=function(t,e){if("Topology"==t.type){var n,o=null,i=null;t.transform&&(n=t.transform,o=n.scale,i=n.translate);var r=t.arcs;if(n){n=o;var a,s,p=i;for(a=0,s=r.length;a<s;++a){var h,u,l,c=r[a],f=n,d=p,y=0,v=0;for(u=0,h=c.length;u<h;++u)l=c[u],y+=l[0],v+=l[1],l[0]=y,l[1]=v,Qu(l,f,d)}}for(n=[],p=st(t.objects),a=0,s=p.length;a<s;++a)"GeometryCollection"===p[a].type?(h=p[a],n.push.apply(n,Zu(h,r,o,i,e))):(h=p[a],n.push(Ju(h,r,o,i,e)));return n}return[]},Vu.prototype.zg=function(){return this.defaultDataProjection};var Ox={Point:function(t,e,n){return t=t.coordinates,e&&n&&Qu(t,e,n),new Co(t)},LineString:function(t,e){var n=$u(t.arcs,e);return new Pp(n)},Polygon:function(t,e){var n,o,i=[];for(n=0,o=t.arcs.length;n<o;++n)i[n]=$u(t.arcs[n],e);return new Fo(i)},MultiPoint:function(t,e,n){t=t.coordinates;var o,i;if(e&&n)for(o=0,i=t.length;o<i;++o)Qu(t[o],e,n);return new Ap(t)},MultiLineString:function(t,e){var n,o,i=[];for(n=0,o=t.arcs.length;n<o;++n)i[n]=$u(t.arcs[n],e);return new Cp(i)},MultiPolygon:function(t,e){var n,o,i,r,a,s,p=[];for(a=0,s=t.arcs.length;a<s;++a){for(n=t.arcs[a],o=[],i=0,r=n.length;i<r;++i)o[i]=$u(n[i],e);p[a]=o}return new Ep(p)}};tv=Vu.prototype,tv.dd=function(){},tv.ge=function(){},tv.ie=function(){},tv.wg=function(){},tv.Wc=function(){},u(tl,dh);var kx={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"};tl.prototype.Bc=function(t,e){var n={featureType:this.c,featureNS:this.a};return sv(n,yp(this,t,e?e:{})),n=[n],this.b.b["http://www.opengis.net/gml"].featureMember=Qs(gh.prototype.ae),(n=hp([],this.b.b,t,n,this.b))||(n=[]),n},tl.prototype.j=function(t){return Vs(t)?ol(t):$s(t)?hp({},Kx,t,[]):"string"==typeof t?(t=Zs(t),ol(t)):void 0},tl.prototype.f=function(t){return Vs(t)?el(this,t):$s(t)?nl(this,t):"string"==typeof t?(t=Zs(t),el(this,t)):void 0};var Rx={"http://www.opengis.net/gml":{boundedBy:np(gh.prototype.ef,"bounds")}},Dx={"http://www.opengis.net/wfs":{totalInserted:np(Ph),totalUpdated:np(Ph),totalDeleted:np(Ph)}},Fx={"http://www.opengis.net/ogc":{FeatureId:Qs(function(t){return t.getAttribute("fid")})}},jx={"http://www.opengis.net/wfs":{Feature:function(t,e){pp(Fx,t,e)}}},Kx={"http://www.opengis.net/wfs":{TransactionSummary:np(function(t,e){return hp({},Dx,t,e)},"transactionSummary"),InsertResults:np(function(t,e){return hp([],jx,t,e)},"insertIds")}},Bx={"http://www.opengis.net/wfs":{PropertyName:op(Eh)}},Xx={"http://www.opengis.net/wfs":{Insert:op(function(t,e,n){var o=n[n.length-1],i=o.gmlVersion,o=zs(o.featureNS,o.featureType);if(t.appendChild(o),2===i){t=Nh.prototype,(i=e.a)&&o.setAttribute("fid",i);var i=n[n.length-1],r=i.featureNS,a=e.c;i.kb||(i.kb={},i.kb[r]={});var s=e.M();e=[];var p,h=[];for(p in s){var u=s[p];null!==u&&(e.push(p),h.push(u),p==a||u instanceof eo?p in i.kb[r]||(i.kb[r][p]=op(t.Uh,t)):p in i.kb[r]||(i.kb[r][p]=op(Eh)))}p=sv({},i),p.node=o,lp(p,i.kb,rp(void 0,r),h,n,e)}else Lh.prototype.bi(o,e,n)}),Update:op(function(t,e,n){var o=n[n.length-1];d(void 0!==e.a,27);var i=o.featureType,r=o.featurePrefix,r=r?r:"feature",a=o.featureNS;if(t.setAttribute("typeName",r+":"+i),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+r,a),i=e.a,void 0!==i){for(var r=e.P(),a=[],s=0,p=r.length;s<p;s++){var h=e.get(r[s]);void 0!==h&&a.push({name:r[s],value:h})}lp({gmlVersion:o.gmlVersion,node:t,srsName:o.srsName},Xx,rp("Property"),a,n),il(t,i)}}),Delete:op(function(t,e,n){var o=n[n.length-1];d(void 0!==e.a,26),n=o.featureType;var i=o.featurePrefix,i=i?i:"feature",o=o.featureNS;t.setAttribute("typeName",i+":"+n),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+i,o),e=e.a,void 0!==e&&il(t,e)}),Property:op(function(t,e,n){var o=zs("http://www.opengis.net/wfs","Name"),i=n[n.length-1].gmlVersion;t.appendChild(o),Eh(o,e.name),void 0!==e.value&&null!==e.value&&(o=zs("http://www.opengis.net/wfs","Value"),t.appendChild(o),e.value instanceof eo?2===i?Nh.prototype.Uh(o,e.value,n):Lh.prototype.rd(o,e.value,n):Eh(o,e.value))}),Native:op(function(t,e){e.kq&&t.setAttribute("vendorId",e.kq),void 0!==e.Lp&&t.setAttribute("safeToIgnore",e.Lp),void 0!==e.value&&Eh(t,e.value)})}},Ux={"http://www.opengis.net/wfs":{Query:op(function(t,e,n){var o=n[n.length-1],i=o.featurePrefix,r=o.featureNS,a=o.propertyNames,s=o.srsName;t.setAttribute("typeName",(i?i+":":"")+e),s&&t.setAttribute("srsName",s),r&&t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+i,r),e=sv({},o),e.node=t,lp(e,Bx,rp("PropertyName"),a,n),(o=o.filter)&&(a=zs("http://www.opengis.net/ogc","Filter"),t.appendChild(a),lp({node:a},Ux,rp(o.mc),[o],n))})},"http://www.opengis.net/ogc":{And:op(rl),Or:op(rl),Not:op(function(t,e,n){e=e.condition,lp({node:t},Ux,rp(e.mc),[e],n)}),BBOX:op(function(t,e,n){n[n.length-1].srsName=e.srsName,pl(t,e.geometryName),Lh.prototype.rd(t,e.extent,n)}),Intersects:op(function(t,e,n){n[n.length-1].srsName=e.srsName,pl(t,e.geometryName),Lh.prototype.rd(t,e.geometry,n)}),Within:op(function(t,e,n){n[n.length-1].srsName=e.srsName,pl(t,e.geometryName),Lh.prototype.rd(t,e.geometry,n)}),PropertyIsEqualTo:op(al),PropertyIsNotEqualTo:op(al),PropertyIsLessThan:op(al),PropertyIsLessThanOrEqualTo:op(al),PropertyIsGreaterThan:op(al),PropertyIsGreaterThanOrEqualTo:op(al),PropertyIsNull:op(function(t,e){pl(t,e.b)}),PropertyIsBetween:op(function(t,e){pl(t,e.b);var n=zs("http://www.opengis.net/ogc","LowerBoundary");t.appendChild(n),hl(n,""+e.a),n=zs("http://www.opengis.net/ogc","UpperBoundary"),t.appendChild(n),hl(n,""+e.g)}),PropertyIsLike:op(function(t,e){t.setAttribute("wildCard",e.f),t.setAttribute("singleChar",e.i),t.setAttribute("escapeChar",e.g),void 0!==e.a&&t.setAttribute("matchCase",e.a.toString()),pl(t,e.b),hl(t,""+e.c)})}};tl.prototype.o=function(t){var e=zs("http://www.opengis.net/wfs","GetFeature");e.setAttribute("service","WFS"),e.setAttribute("version","1.1.0");var n;if(t&&(t.handle&&e.setAttribute("handle",t.handle),t.outputFormat&&e.setAttribute("outputFormat",t.outputFormat),void 0!==t.maxFeatures&&e.setAttribute("maxFeatures",t.maxFeatures),t.resultType&&e.setAttribute("resultType",t.resultType),void 0!==t.startIndex&&e.setAttribute("startIndex",t.startIndex),void 0!==t.count&&e.setAttribute("count",t.count),n=t.filter,t.bbox)){d(t.geometryName,12);var o=ah(t.geometryName,t.bbox,t.srsName);n=n?rh(n,o):o}return e.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.l),n={node:e,srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.a,featurePrefix:t.featurePrefix,geometryName:t.geometryName,filter:n,propertyNames:t.propertyNames?t.propertyNames:[]},d(Array.isArray(t.featureTypes),11),t=t.featureTypes,n=[n],o=sv({},n[n.length-1]),o.node=e,lp(o,Ux,rp("Query"),t,n),e},tl.prototype.u=function(t,e,n,o){var i=[],r=zs("http://www.opengis.net/wfs","Transaction"),a=o.version?o.version:"1.1.0",s="1.0.0"===a?2:3;r.setAttribute("service","WFS"),r.setAttribute("version",a);var p;return o&&(p=o.gmlOptions?o.gmlOptions:{},o.handle&&r.setAttribute("handle",o.handle)),r.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",kx[a]),t&&(a={node:r,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:o.featurePrefix,gmlVersion:s,srsName:o.srsName},sv(a,p),lp(a,Xx,rp("Insert"),t,i)),e&&(a={node:r,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:o.featurePrefix,gmlVersion:s,srsName:o.srsName},sv(a,p),lp(a,Xx,rp("Update"),e,i)),n&&lp({node:r,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:o.featurePrefix,gmlVersion:s,srsName:o.srsName},Xx,rp("Delete"),n,i),o.nativeElements&&lp({node:r,featureNS:o.featureNS,featureType:o.featureType,featurePrefix:o.featurePrefix,gmlVersion:s,srsName:o.srsName},Xx,rp("Native"),o.nativeElements,i),r},tl.prototype.yg=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.hf(t);return null},tl.prototype.hf=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild)for(t=t.firstElementChild.firstElementChild,t=t.firstElementChild;t;t=t.nextElementSibling)if(0!==t.childNodes.length&&(1!==t.childNodes.length||3!==t.firstChild.nodeType)){var e=[{}];return this.b.ef(t,e),Ct(e.pop().srsName)}return null},u(ul,qh);var Yx={Point:ll,LineString:cl,Polygon:fl,MultiPoint:function(t){var e=[];t=t.Zd();for(var n=0,o=t.length;n<o;++n)e.push("("+ll(t[n])+")");return e.join(",")},MultiLineString:function(t){var e=[];t=t.Nc();for(var n=0,o=t.length;n<o;++n)e.push("("+cl(t[n])+")");return e.join(",")},MultiPolygon:function(t){var e=[];t=t.md();for(var n=0,o=t.length;n<o;++n)e.push("("+fl(t[n])+")");return e.join(",")},GeometryCollection:function(t){var e=[];t=t.Qf();for(var n=0,o=t.length;n<o;++n)e.push(dl(t[n]));return e.join(",")}};tv=ul.prototype,tv.$d=function(t,e){var n=this.yd(t,e);if(n){var o=new Gs;return o.Ta(n),o}return null},tv.tg=function(t,e){var n=[],o=this.yd(t,e);n=this.b&&"GeometryCollection"==o.S()?o.a:[o];for(var i=[],r=0,a=n.length;r<a;++r)o=new Gs,o.Ta(n[r]),i.push(o);return i},tv.yd=function(t,e){var n;return n=new gl(new yl(t)),ml(n),(n=xl(n))?gp(n,!1,e):null},tv.fe=function(t,e){var n=t.U();return n?this.Ed(n,e):""},tv.Og=function(t,e){if(1==t.length)return this.fe(t[0],e);for(var n=[],o=0,i=t.length;o<i;++o)n.push(t[o].U());return n=new sh(n),this.Ed(n,e)},tv.Ed=function(t,e){return dl(gp(t,!0,e))},tv=gl.prototype,tv.ng=function(){if(bl(this,2)){var t=_l(this);if(bl(this,3))return t}else if(Sl(this))return null;throw Error(Cl(this))},tv.mg=function(){if(bl(this,2)){var t=wl(this);if(bl(this,3))return t}else if(Sl(this))return[];throw Error(Cl(this))},tv.og=function(){if(bl(this,2)){var t=Pl(this);if(bl(this,3))return t}else if(Sl(this))return[];throw Error(Cl(this))},tv.Vo=function(){if(bl(this,2)){var t;if(2==this.b.type)for(t=[this.ng()];bl(this,5);)t.push(this.ng());else t=wl(this);if(bl(this,3))return t}else if(Sl(this))return[];throw Error(Cl(this))},tv.Uo=function(){if(bl(this,2)){var t=Pl(this);if(bl(this,3))return t}else if(Sl(this))return[];throw Error(Cl(this))},tv.Wo=function(){if(bl(this,2)){for(var t=[this.og()];bl(this,5);)t.push(this.og());if(bl(this,3))return t}else if(Sl(this))return[];throw Error(Cl(this))};var Gx={POINT:Co,LINESTRING:Pp,POLYGON:Fo,MULTIPOINT:Ap,MULTILINESTRING:Cp,MULTIPOLYGON:Ep},Wx={POINT:gl.prototype.ng,LINESTRING:gl.prototype.mg,POLYGON:gl.prototype.og,MULTIPOINT:gl.prototype.Vo,MULTILINESTRING:gl.prototype.Uo,MULTIPOLYGON:gl.prototype.Wo};u(Ml,Xu),Ml.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},Ml.prototype.b=function(t){return this.version=t.getAttribute("version").trim(),(t=hp({version:this.version},Hx,t,[]))?t:null};var zx=[null,"http://www.opengis.net/wms"],Hx=sp(zx,{Service:np(function(t,e){return hp({},Vx,t,e)}),Capability:np(function(t,e){return hp({},qx,t,e)})}),qx=sp(zx,{Request:np(function(t,e){return hp({},o_,t,e)}),Exception:np(function(t,e){return hp([],Qx,t,e)}),Layer:np(function(t,e){return hp({},t_,t,e)})}),Vx=sp(zx,{Name:np(Ch),Title:np(Ch),Abstract:np(Ch),KeywordList:np(Ll),OnlineResource:np(Bu),ContactInformation:np(function(t,e){return hp({},$x,t,e)}),Fees:np(Ch),AccessConstraints:np(Ch),LayerLimit:np(Ph),MaxWidth:np(Ph),MaxHeight:np(Ph)}),$x=sp(zx,{ContactPersonPrimary:np(function(t,e){return hp({},Zx,t,e)}),ContactPosition:np(Ch),ContactAddress:np(function(t,e){return hp({},Jx,t,e)}),ContactVoiceTelephone:np(Ch),ContactFacsimileTelephone:np(Ch),ContactElectronicMailAddress:np(Ch)}),Zx=sp(zx,{ContactPerson:np(Ch),ContactOrganization:np(Ch)}),Jx=sp(zx,{AddressType:np(Ch),Address:np(Ch),City:np(Ch),StateOrProvince:np(Ch),PostCode:np(Ch),Country:np(Ch)}),Qx=sp(zx,{Format:Qs(Ch)}),t_=sp(zx,{Name:np(Ch),Title:np(Ch),Abstract:np(Ch),KeywordList:np(Ll),CRS:ep(Ch),EX_GeographicBoundingBox:np(function(t,e){var n=hp({},n_,t,e);if(n){var o=n.westBoundLongitude,i=n.southBoundLatitude,r=n.eastBoundLongitude,n=n.northBoundLatitude;if(void 0!==o&&void 0!==i&&void 0!==r&&void 0!==n)return[o,i,r,n]}}),BoundingBox:ep(function(t){var e=[wh(t.getAttribute("minx")),wh(t.getAttribute("miny")),wh(t.getAttribute("maxx")),wh(t.getAttribute("maxy"))],n=[wh(t.getAttribute("resx")),wh(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:e,res:n}}),Dimension:ep(function(t){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:bh(t.getAttribute("multipleValues")),nearestValue:bh(t.getAttribute("nearestValue")),current:bh(t.getAttribute("current")),values:Ch(t)}}),Attribution:np(function(t,e){return hp({},e_,t,e)}),AuthorityURL:ep(function(t,e){var n=Tl(t,e);if(n)return n.name=t.getAttribute("name"),n}),Identifier:ep(Ch),MetadataURL:ep(function(t,e){var n=Tl(t,e);if(n)return n.type=t.getAttribute("type"),n}),DataURL:ep(Tl),FeatureListURL:ep(Tl),Style:ep(function(t,e){return hp({},s_,t,e)}),MinScaleDenominator:np(_h),MaxScaleDenominator:np(_h),Layer:ep(function(t,e){var n=e[e.length-1],o=hp({},t_,t,e);if(o){var i=bh(t.getAttribute("queryable"));return void 0===i&&(i=n.queryable),o.queryable=void 0!==i&&i,i=Sh(t.getAttribute("cascaded")),void 0===i&&(i=n.cascaded),o.cascaded=i,i=bh(t.getAttribute("opaque")),void 0===i&&(i=n.opaque),o.opaque=void 0!==i&&i,i=bh(t.getAttribute("noSubsets")),void 0===i&&(i=n.noSubsets),
o.noSubsets=void 0!==i&&i,(i=wh(t.getAttribute("fixedWidth")))||(i=n.fixedWidth),o.fixedWidth=i,(i=wh(t.getAttribute("fixedHeight")))||(i=n.fixedHeight),o.fixedHeight=i,["Style","CRS","AuthorityURL"].forEach(function(t){t in n&&(o[t]=(o[t]||[]).concat(n[t]))}),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(t){t in o||(o[t]=n[t])}),o}})}),e_=sp(zx,{Title:np(Ch),OnlineResource:np(Bu),LogoURL:np(El)}),n_=sp(zx,{westBoundLongitude:np(_h),eastBoundLongitude:np(_h),southBoundLatitude:np(_h),northBoundLatitude:np(_h)}),o_=sp(zx,{GetCapabilities:np(Al),GetMap:np(Al),GetFeatureInfo:np(Al)}),i_=sp(zx,{Format:ep(Ch),DCPType:ep(function(t,e){return hp({},r_,t,e)})}),r_=sp(zx,{HTTP:np(function(t,e){return hp({},a_,t,e)})}),a_=sp(zx,{Get:np(Tl),Post:np(Tl)}),s_=sp(zx,{Name:np(Ch),Title:np(Ch),Abstract:np(Ch),LegendURL:ep(El),StyleSheetURL:np(Tl),StyleURL:np(Tl)}),p_=sp(zx,{Format:np(Ch),OnlineResource:np(Bu)}),h_=sp(zx,{Keyword:Qs(Ch)});u(Il,dh),Il.prototype.Bc=function(t,e){var o={};e&&sv(o,yp(this,t,e));var r=[o];t.setAttribute("namespaceURI",this.a);var a=t.localName,o=[];if(t.childNodes.length){if("msGMLOutput"==a)for(var s=0,p=t.childNodes.length;s<p;s++){var h=t.childNodes[s];if(h.nodeType===Node.ELEMENT_NODE){var u=r[0],l=h.localName.replace("_layer","");if(!this.c||n(this.c,l)){l+="_feature",u.featureType=l,u.featureNS=this.a;var c={};c[l]=Qs(this.b.qg,this.b),u=sp([u.featureNS,null],c),h.setAttribute("namespaceURI",this.a),(h=hp([],u,h,r,this.b))&&i(o,h)}}}"FeatureCollection"==a&&(r=hp([],this.b.b,t,[{}],this.b))&&(o=r)}return o},Il.prototype.Ng=function(){},Il.prototype.Zb=function(){},Il.prototype.he=function(){},u(Nl,Xu),Nl.prototype.a=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.b(t);return null},Nl.prototype.b=function(t){var e=t.getAttribute("version").trim(),n=this.g.b(t);return n?(n.version=e,(n=hp(n,c_,t,[]))?n:null):null};var u_=[null,"http://www.opengis.net/wmts/1.0"],l_=[null,"http://www.opengis.net/ows/1.1"],c_=sp(u_,{Contents:np(function(t,e){return hp({},f_,t,e)})}),f_=sp(u_,{Layer:ep(function(t,e){return hp({},d_,t,e)}),TileMatrixSet:ep(function(t,e){return hp({},__,t,e)})}),d_=sp(u_,{Style:ep(function(t,e){var n=hp({},y_,t,e);if(n){var o="true"===t.getAttribute("isDefault");return n.isDefault=o,n}}),Format:ep(Ch),TileMatrixSetLink:ep(function(t,e){return hp({},v_,t,e)}),Dimension:ep(function(t,e){return hp({},b_,t,e)}),ResourceURL:ep(function(t){var e=t.getAttribute("format"),n=t.getAttribute("template");t=t.getAttribute("resourceType");var o={};return e&&(o.format=e),n&&(o.template=n),t&&(o.resourceType=t),o})},sp(l_,{Title:np(Ch),Abstract:np(Ch),WGS84BoundingBox:np(function(t,e){var n=hp([],x_,t,e);if(2==n.length)return E(n)}),Identifier:np(Ch)})),y_=sp(u_,{LegendURL:ep(function(t){var e={};return e.format=t.getAttribute("format"),e.href=Bu(t),e})},sp(l_,{Title:np(Ch),Identifier:np(Ch)})),v_=sp(u_,{TileMatrixSet:np(Ch),TileMatrixSetLimits:np(function(t,e){return hp([],g_,t,e)})}),g_=sp(u_,{TileMatrixLimits:Qs(function(t,e){return hp({},m_,t,e)})}),m_=sp(u_,{TileMatrix:np(Ch),MinTileRow:np(Ph),MaxTileRow:np(Ph),MinTileCol:np(Ph),MaxTileCol:np(Ph)}),b_=sp(u_,{Default:np(Ch),Value:ep(Ch)},sp(l_,{Identifier:np(Ch)})),x_=sp(l_,{LowerCorner:Qs(Ol),UpperCorner:Qs(Ol)}),__=sp(u_,{WellKnownScaleSet:np(Ch),TileMatrix:ep(function(t,e){return hp({},w_,t,e)})},sp(l_,{SupportedCRS:np(Ch),Identifier:np(Ch)})),w_=sp(u_,{TopLeftCorner:np(Ol),ScaleDenominator:np(_h),TileWidth:np(Ph),TileHeight:np(Ph),MatrixWidth:np(Ph),MatrixHeight:np(Ph)},sp(l_,{Identifier:np(Ch)}));u(kl,de),tv=kl.prototype,tv.ra=function(){this.Je(!1),de.prototype.ra.call(this)},tv.wm=function(){var t=this.Nh();t&&(this.i=At(Ct("EPSG:4326"),t),this.a&&this.set("position",this.i(this.a)))},tv.xm=function(){if(Yv){var t=this.Oh();t&&void 0===this.c?this.c=navigator.geolocation.watchPosition(this.cp.bind(this),this.ep.bind(this),this.zh()):t||void 0===this.c||(navigator.geolocation.clearWatch(this.c),this.c=void 0)}},tv.cp=function(t){t=t.coords,this.set("accuracy",t.accuracy),this.set("altitude",null===t.altitude?void 0:t.altitude),this.set("altitudeAccuracy",null===t.altitudeAccuracy?void 0:t.altitudeAccuracy),this.set("heading",null===t.heading?void 0:P(t.heading)),this.a?(this.a[0]=t.longitude,this.a[1]=t.latitude):this.a=[t.longitude,t.latitude];var e=this.i(this.a);this.set("position",e),this.set("speed",null===t.speed?void 0:t.speed),t=Ko(yv,this.a,t.accuracy),t.Fc(this.i),this.set("accuracyGeometry",t),this.s()},tv.ep=function(t){t.type="error",this.Je(!1),this.b(t)},tv.zk=function(){return this.get("accuracy")},tv.Ak=function(){return this.get("accuracyGeometry")||null},tv.Ck=function(){return this.get("altitude")},tv.Dk=function(){return this.get("altitudeAccuracy")},tv.um=function(){return this.get("heading")},tv.vm=function(){return this.get("position")},tv.Nh=function(){return this.get("projection")},tv.gl=function(){return this.get("speed")},tv.Oh=function(){return this.get("tracking")},tv.zh=function(){return this.get("trackingOptions")},tv.Ph=function(t){this.set("projection",t)},tv.Je=function(t){this.set("tracking",t)},tv.sj=function(t){this.set("trackingOptions",t)},u(Rl,io),tv=Rl.prototype,tv.clone=function(){var t=new Rl(null);return ao(t,this.la,this.B.slice()),t.s(),t},tv.Hb=function(t,e,n,o){var i=this.B;t-=i[0];var r=e-i[1];if(e=t*t+r*r,e<o){if(e)for(o=this.Yd()/Math.sqrt(e),n[0]=i[0]+o*t,n[1]=i[1]+o*r,o=2;o<this.a;++o)n[o]=i[o];else for(o=0;o<this.a;++o)n[o]=i[o];return n.length=this.a,e}return o},tv.Sc=function(t,e){var n=this.B,o=t-n[0],n=e-n[1];return o*o+n*n<=Dl(this)},tv.za=function(){return this.B.slice(0,this.a)},tv.se=function(t){var e=this.B,n=e[this.a]-e[0];return j(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)},tv.Yd=function(){return Math.sqrt(Dl(this))},tv.S=function(){return"Circle"},tv.Ya=function(t){var e=this.D();return!!nt(t,e)&&(e=this.za(),t[0]<=e[0]&&t[2]>=e[0]||t[1]<=e[1]&&t[3]>=e[1]||W(t,this.sb,this))},tv.lb=function(t){var e=this.a,n=t.slice();n[e]=n[0]+(this.B[e]-this.B[0]);var o;for(o=1;o<e;++o)n[e+o]=t[o];ao(this,this.la,n),this.s()},tv.Gg=function(t,e,n){if(t){so(this,n,t,0),this.B||(this.B=[]),n=this.B,t=vo(n,t),n[t++]=n[0]+e;var o;for(e=1,o=this.a;e<o;++e)n[t++]=n[e];n.length=t}else ao(this,"XY",null);this.s()},tv.W=function(){},tv.pa=function(){},tv.Zc=function(t){this.B[this.a]=this.B[0]+t,this.s()};var P_=new Ca({color:"rgba(0,0,0,0.2)"}),S_=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];tv=Bl.prototype,tv.ym=function(){return this.l},tv.Wk=function(){return this.b},tv.cl=function(){return this.a},tv.Dh=function(t){var e=t.vectorContext,n=t.frameState,o=n.extent;t=n.viewState;var i=t.center,r=t.projection,a=t.resolution;if(t=n.pixelRatio,t=a*a/(4*t*t),!this.i||!Mt(this.i,r)){var s=Ct("EPSG:4326"),p=r.D(),h=r.f,u=Nt(h,s,r),l=h[2],c=h[1],f=h[0],d=u[3],y=u[2],v=u[1],u=u[0];this.f=h[3],this.g=l,this.j=c,this.c=f,this.O=d,this.A=y,this.C=v,this.G=u,this.o=Tt(s,r),this.v=Tt(r,s),this.u=this.v(V(p)),this.i=r}for(r.a&&(r=r.D(),s=et(r),n=n.focus[0],n<r[0]||n>r[2])&&(n=s*Math.ceil((r[0]-n)/s),o=[o[0]+n,o[1],o[2]+n,o[3]]),n=this.u[0],r=this.u[1],s=-1,h=Math.pow(this.I*a,2),l=[],c=[],a=0,p=S_.length;a<p&&(f=S_[a]/2,l[0]=n-f,l[1]=r-f,c[0]=n+f,c[1]=r+f,this.o(l,l),this.o(c,c),f=Math.pow(c[0]-l[0],2)+Math.pow(c[1]-l[1],2),!(f<=h));++a)s=S_[a];if(a=s,-1==a)this.b.length=this.a.length=0;else{for(n=this.v(i),i=n[0],n=n[1],r=this.qa,s=[Math.max(o[0],this.G),Math.max(o[1],this.C),Math.min(o[2],this.A),Math.min(o[3],this.O)],s=Nt(s,this.i,"EPSG:4326"),h=s[3],c=s[1],i=Math.floor(i/a)*a,l=b(i,this.c,this.g),p=Xl(this,l,c,h,t,o,0),s=0;l!=this.c&&s++<r;)l=Math.max(l-a,this.c),p=Xl(this,l,c,h,t,o,p);for(l=b(i,this.c,this.g),s=0;l!=this.g&&s++<r;)l=Math.min(l+a,this.g),p=Xl(this,l,c,h,t,o,p);for(this.b.length=p,n=Math.floor(n/a)*a,i=b(n,this.j,this.f),p=Ul(this,i,t,o,0),s=0;i!=this.j&&s++<r;)i=Math.max(i-a,this.j),p=Ul(this,i,t,o,p);for(i=b(n,this.j,this.f),s=0;i!=this.f&&s++<r;)i=Math.min(i+a,this.f),p=Ul(this,i,t,o,p);this.a.length=p}for(e.Na(null,this.ta),t=0,i=this.b.length;t<i;++t)a=this.b[t],e.Rb(a,null);for(t=0,i=this.a.length;t<i;++t)a=this.a[t],e.Rb(a,null)},tv.setMap=function(t){this.l&&(this.l.K("postcompose",this.Dh,this),this.l.render()),t&&(t.J("postcompose",this.Dh,this),t.render()),this.l=t},u(Yl,le),Yl.prototype.s=function(){this.b("change")},Yl.prototype.D=function(){return this.extent},Yl.prototype.V=function(){return this.state},u(Gl,Yl),tv=Gl.prototype,tv.Y=function(t){if(void 0!==t){var e;return t=c(t),t in this.c?this.c[t]:(e=pt(this.c)?this.N:this.N.cloneNode(!1),this.c[t]=e)}return this.N},tv.Bm=function(){this.state=3,this.g.forEach(re),this.g=null,this.s()},tv.Cm=function(){void 0===this.resolution&&(this.resolution=Z(this.extent)/this.N.height),this.state=2,this.g.forEach(re),this.g=null,this.s()},tv.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.s(),this.g=[oe(this.N,"error",this.Bm,this),oe(this.N,"load",this.Cm,this)],this.f(this,this.j))},tv.Hg=function(t){this.N=t},u(Wl,Yl),Wl.prototype.f=function(t){this.state=t?3:2,this.s()},Wl.prototype.load=function(){0==this.state&&(this.state=1,this.s(),this.c(this.f.bind(this)))},Wl.prototype.Y=function(){return this.g},u(zl,le),zl.prototype.s=function(){this.b("change")},zl.prototype.hb=function(){return this.key+"/"+this.Ga},zl.prototype.i=function(){return this.Ga},zl.prototype.V=function(){return this.state},u(ql,zl),tv=ql.prototype,tv.ra=function(){1==this.state&&Vl(this),this.a&&pe(this.a),this.state=5,this.s(),zl.prototype.ra.call(this)},tv.Y=function(){return this.N},tv.hb=function(){return this.f},tv.zm=function(){this.state=3,Vl(this),this.s()},tv.Am=function(){this.state=this.N.naturalWidth&&this.N.naturalHeight?2:4,Vl(this),this.s()},tv.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.s(),this.c=[oe(this.N,"error",this.zm,this),oe(this.N,"load",this.Am,this)],this.l(this,this.f))},u($l,oi),$l.prototype.j=function(t,e){var n=e.target.result,o=this.v,i=this.l;i||(i=o.$().o);var r,a,o=this.f,s=[];for(r=0,a=o.length;r<a;++r){var p=new o[r],h={featureProjection:i};try{s=p.Pa(n,h)}catch(t){s=null}if(s&&0<s.length)break}this.b(new Ql(C_,t,s,i))},$l.prototype.setMap=function(t){this.a&&(this.a.forEach(re),this.a=null),oi.prototype.setMap.call(this,t),t&&(t=this.target?this.target:t.c,this.a=[ne(t,"drop",Zl,this),ne(t,"dragenter",Jl,this),ne(t,"dragover",Jl,this),ne(t,"drop",Jl,this)])};var C_="addfeatures";u(Ql,he),u(tc,mi),u(ic,Cr),ic.prototype.Wa=function(t,e){if(this.$a){var n=lr(this.ea,this.$a.slice());t.translate(n[0],n[1]),t.rotate(e)}t.fill(),this.$a&&t.setTransform.apply(t,this.fa)},ic.prototype.i=function(t,e,n,o,i){sc(this,t,e,n,o,i,this.a,void 0,void 0)},ic.prototype.Se=l,ic.prototype.Nf=function(){return this.T},u(uc,ic),uc.prototype.sc=function(t,e){if(this.N){ac(this,e);var n=t.ia(),o=this.coordinates.length,n=rc(this,n,0,n.length,t.sa(),!1,!1);this.a.push([4,o,n,this.N,this.g,this.f,this.j,this.l,this.o,this.u,this.v,this.O,this.A,this.C,this.G]),this.b.push([4,o,n,this.Z,this.g,this.f,this.j,this.l,this.o,this.u,this.v,this.O,this.A,this.C,this.G]),hc(this,e)}},uc.prototype.qc=function(t,e){if(this.N){ac(this,e);var n=t.ia(),o=this.coordinates.length,n=rc(this,n,0,n.length,t.sa(),!1,!1);this.a.push([4,o,n,this.N,this.g,this.f,this.j,this.l,this.o,this.u,this.v,this.O,this.A,this.C,this.G]),this.b.push([4,o,n,this.Z,this.g,this.f,this.j,this.l,this.o,this.u,this.v,this.O,this.A,this.C,this.G]),hc(this,e)}},uc.prototype.Se=function(){pc(this),this.f=this.g=void 0,this.N=this.Z=null,this.G=this.C=this.O=this.v=this.u=this.o=this.l=this.A=this.j=void 0},uc.prototype.Wb=function(t){var e=t.Jc(),n=t.kc(),o=t.kg(1),i=t.Y(1),r=t.Tc();this.g=e[0],this.f=e[1],this.Z=o,this.N=i,this.j=n[1],this.l=t.f,this.o=r[0],this.u=r[1],this.v=t.o,this.O=t.j,this.A=t.c,this.C=t.u,this.G=n[0]},u(lc,ic),tv=lc.prototype,tv.Nf=function(){return this.f||(this.f=I(this.T),0<this.c&&L(this.f,this.resolution*(this.c+1)/2,this.f)),this.f},tv.Rb=function(t,e){var n=this.g,o=n.lineWidth;void 0!==n.strokeStyle&&void 0!==o&&(fc(this),ac(this,e),this.b.push([10,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset,!0,1],[1]),n=t.ia(),cc(this,n,0,n.length,t.sa()),this.b.push([12]),hc(this,e))},tv.pc=function(t,e){var n=this.g,o=n.lineWidth;if(void 0!==n.strokeStyle&&void 0!==o){fc(this),ac(this,e),this.b.push([10,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset,!0,1],[1]);var i,r,n=t.Sb(),o=t.ia(),a=t.sa(),s=0;for(i=0,r=n.length;i<r;++i)s=cc(this,o,s,n[i],a);this.b.push([12]),hc(this,e)}},tv.Se=function(){this.g.$f!=this.coordinates.length&&this.a.push([12]),pc(this),this.g=null},tv.Na=function(t,e){var n=e.a;this.g.strokeStyle=Ce(n?n:pg),n=e.i,this.g.lineCap=void 0!==n?n:"round",n=e.g,this.g.lineDash=n?n:sg,n=e.f,this.g.lineDashOffset=n?n:0,n=e.j,this.g.lineJoin=void 0!==n?n:"round",n=e.c,this.g.lineWidth=void 0!==n?n:1,n=e.l,this.g.miterLimit=void 0!==n?n:10,this.g.lineWidth>this.c&&(this.c=this.g.lineWidth,this.f=null)},u(dc,ic),tv=dc.prototype,tv.ac=function(t,e){var n=this.g,o=n.strokeStyle;if(void 0!==n.fillStyle||void 0!==o){vc(this,t),ac(this,e),this.b.push([9,Pe(ag)]),void 0!==n.strokeStyle&&this.b.push([10,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset,!0,1]);var i=t.ia(),o=this.coordinates.length;rc(this,i,0,i.length,t.sa(),!1,!1),i=[1],o=[2,o],this.a.push(i,o),this.b.push(i,o),o=[7],this.b.push(o),void 0!==n.fillStyle&&this.a.push(o),void 0!==n.strokeStyle&&(n=[12],this.a.push(n),this.b.push(n)),hc(this,e)}},tv.tc=function(t,e){var n=this.g;vc(this,t),ac(this,e),this.b.push([9,Pe(ag)]),void 0!==n.strokeStyle&&this.b.push([10,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset,!0,1]);var n=t.Sb(),o=t.gc();yc(this,o,0,n,t.sa()),hc(this,e)},tv.rc=function(t,e){var n=this.g,o=n.strokeStyle;if(void 0!==n.fillStyle||void 0!==o){vc(this,t),ac(this,e),this.b.push([9,Pe(ag)]),void 0!==n.strokeStyle&&this.b.push([10,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset,!0,1]);var i,r,n=t.c,o=Ip(t),a=t.sa(),s=0;for(i=0,r=n.length;i<r;++i)s=yc(this,o,s,n[i],a);hc(this,e)}},tv.Se=function(){pc(this),this.g=null;var t=this.na;if(t){var e,n,o=this.coordinates;for(e=0,n=o.length;e<n;++e)o[e]=t*Math.round(o[e]/t)}},tv.Nf=function(){return this.f||(this.f=I(this.T),0<this.c&&L(this.f,this.resolution*(this.c+1)/2,this.f)),this.f},tv.Na=function(t,e){var n=this.g;if(t){var o=t.b;n.fillStyle=Ce(o?o:ag)}else n.fillStyle=void 0;e?(o=e.a,n.strokeStyle=Ce(o?o:pg),o=e.i,n.lineCap=void 0!==o?o:"round",o=e.g,n.lineDash=o?o.slice():sg,o=e.f,n.lineDashOffset=o?o:0,o=e.j,n.lineJoin=void 0!==o?o:"round",o=e.c,n.lineWidth=void 0!==o?o:1,o=e.l,n.miterLimit=void 0!==o?o:10,n.lineWidth>this.c&&(this.c=n.lineWidth,this.f=null)):(n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0)},u(gc,ic),gc.prototype.Ac=function(t,e,n,o,i,r){if(""!==this.Fa&&this.j&&(this.g||this.f)){if(this.g){i=this.g;var a=this.A;if(!a||a.fillStyle!=i.fillStyle){var s=[9,i.fillStyle];this.a.push(s),this.b.push(s),a?a.fillStyle=i.fillStyle:this.A={fillStyle:i.fillStyle}}}this.f&&(i=this.f,a=this.C,a&&a.lineCap==i.lineCap&&a.lineDash==i.lineDash&&a.lineDashOffset==i.lineDashOffset&&a.lineJoin==i.lineJoin&&a.lineWidth==i.lineWidth&&a.miterLimit==i.miterLimit&&a.strokeStyle==i.strokeStyle||(s=[10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset,!1,1],this.a.push(s),this.b.push(s),a?(a.lineCap=i.lineCap,a.lineDash=i.lineDash,a.lineDashOffset=i.lineDashOffset,a.lineJoin=i.lineJoin,a.lineWidth=i.lineWidth,a.miterLimit=i.miterLimit,a.strokeStyle=i.strokeStyle):this.C={lineCap:i.lineCap,lineDash:i.lineDash,lineDashOffset:i.lineDashOffset,lineJoin:i.lineJoin,lineWidth:i.lineWidth,miterLimit:i.miterLimit,strokeStyle:i.strokeStyle})),i=this.j,a=this.G,a&&a.font==i.font&&a.textAlign==i.textAlign&&a.textBaseline==i.textBaseline||(s=[11,i.font,i.textAlign,i.textBaseline],this.a.push(s),this.b.push(s),a?(a.font=i.font,a.textAlign=i.textAlign,a.textBaseline=i.textBaseline):this.G={font:i.font,textAlign:i.textAlign,textBaseline:i.textBaseline}),ac(this,r),i=this.coordinates.length,t=rc(this,t,e,n,o,!1,!1),t=[5,i,t,this.Fa,this.l,this.o,this.v,this.O,!!this.g,!!this.f,this.u],this.a.push(t),this.b.push(t),hc(this,r)}},gc.prototype.Ub=function(t){if(t){var e=t.Ca();e?(e=e.b,e=Ce(e?e:ag),this.g?this.g.fillStyle=e:this.g={fillStyle:e}):this.g=null;var n=t.Da();if(n){var e=n.a,o=n.i,i=n.g,r=n.f,a=n.j,s=n.c,n=n.l,o=void 0!==o?o:"round",i=i?i.slice():sg,r=void 0!==r?r:0,a=void 0!==a?a:"round",s=void 0!==s?s:1,n=void 0!==n?n:10,e=Ce(e?e:pg);if(this.f){var p=this.f;p.lineCap=o,p.lineDash=i,p.lineDashOffset=r,p.lineJoin=a,p.lineWidth=s,p.miterLimit=n,p.strokeStyle=e}else this.f={lineCap:o,lineDash:i,lineDashOffset:r,lineJoin:a,lineWidth:s,miterLimit:n,strokeStyle:e}}else this.f=null;var h=t.a,e=t.g,o=t.c,i=t.l,s=t.i,n=t.b,r=t.Oa(),a=t.f,p=t.j;t=void 0!==h?h:"10px sans-serif",a=void 0!==a?a:"center",p=void 0!==p?p:"middle",this.j?(h=this.j,h.font=t,h.textAlign=a,h.textBaseline=p):this.j={font:t,textAlign:a,textBaseline:p},this.Fa=void 0!==r?r:"",this.l=void 0!==e?e:0,this.o=void 0!==o?o:0,this.u=void 0!==i&&i,this.v=void 0!==s?s:0,this.O=void 0!==n?n:1}else this.Fa=""},u(mc,Rr);var M_={0:[[!0]]};mc.prototype.Ba=function(t,e,n,o,i,r){o=Math.round(o);var a=2*o+1,s=yr(this.l,o+.5,o+.5,1/e,-1/e,-n,-t[0],-t[1]),p=this.j;p.canvas.width!==a||p.canvas.height!==a?(p.canvas.width=a,p.canvas.height=a):p.clearRect(0,0,a,a);var h;void 0!==this.f&&(h=F(),Y(h,t),L(h,e*(this.f+o),h));var u=xc(o);return Pc(this,p,s,n,i,function(t){for(var e=p.getImageData(0,0,a,a).data,n=0;n<a;n++)for(var o=0;o<a;o++)if(u[n][o]&&0<e[4*(o*a+n)+3])return(t=r(t))?t:void p.clearRect(0,0,a,a)},h)},mc.prototype.b=function(t,e){var n=void 0!==t?t.toString():"0",o=this.a[n];return void 0===o&&(o={},this.a[n]=o),n=o[e],void 0===n&&(n=new T_[e](this.v,this.c,this.u,this.o),o[e]=n),n},mc.prototype.g=function(){return pt(this.a)},mc.prototype.i=function(t,n,o,i,r,a){var s=Object.keys(this.a).map(Number);s.sort(e);var p=wc(this,o);t.save(),t.beginPath(),t.moveTo(p[0],p[1]),t.lineTo(p[2],p[3]),t.lineTo(p[4],p[5]),t.lineTo(p[6],p[7]),t.clip(),a=a?a:hg;var h,u,l,c,f,p=0;for(h=s.length;p<h;++p)for(c=this.a[s[p].toString()],u=0,l=a.length;u<l;++u)f=c[a[u]],void 0!==f&&f.i(t,n,o,i,r);t.restore()};var T_={Circle:dc,Image:uc,LineString:lc,Polygon:dc,Text:gc};u(Sc,fe),Sc.prototype.Ba=l,Sc.prototype.Te=to,Sc.prototype.Jf=function(t,e,n){return function(o,i){return Zd(t,e,o,i,function(t){n[o]||(n[o]={}),n[o][t.Ga.toString()]=t})}},Sc.prototype.ea=function(t){2===t.target.V()&&Mc(this)},u(Nc,Sc),Nc.prototype.v=function(t,e,n,o){if(this.Ba(t,e,0,Qn,this))return n.call(o,this.a,null)},Nc.prototype.cf=function(t,e,n,o){kc(this,"postcompose",t,e,o)};var A_={Point:function(t,e,n,o){var i=n.Y();if(i){if(2!=i.Xe())return;var r=t.b(n.Aa(),"Image");r.Wb(i),r.sc(e,o)}(i=n.Oa())&&(t=t.b(n.Aa(),"Text"),t.Ub(i),t.Ac(e.ia(),0,2,2,e,o))},LineString:function(t,e,n,o){var i=n.Da();if(i){var r=t.b(n.Aa(),"LineString");r.Na(null,i),r.Rb(e,o)}(i=n.Oa())&&(t=t.b(n.Aa(),"Text"),t.Ub(i),t.Ac(Sp(e),0,2,2,e,o))},Polygon:function(t,e,n,o){var i=n.Ca(),r=n.Da();if(i||r){var a=t.b(n.Aa(),"Polygon");a.Na(i,r),a.tc(e,o)}(i=n.Oa())&&(t=t.b(n.Aa(),"Text"),t.Ub(i),t.Ac(jo(e),0,2,2,e,o))},MultiPoint:function(t,e,n,o){var i=n.Y();if(i){if(2!=i.Xe())return;var r=t.b(n.Aa(),"Image");r.Wb(i),r.qc(e,o)}(i=n.Oa())&&(t=t.b(n.Aa(),"Text"),t.Ub(i),n=e.ia(),t.Ac(n,0,n.length,e.sa(),e,o))},MultiLineString:function(t,e,n,o){var i=n.Da();if(i){var r=t.b(n.Aa(),"LineString");r.Na(null,i),r.pc(e,o)}(i=n.Oa())&&(t=t.b(n.Aa(),"Text"),t.Ub(i),n=Mp(e),t.Ac(n,0,n.length,2,e,o))},MultiPolygon:function(t,e,n,o){var i=n.Ca(),r=n.Da();if(r||i){var a=t.b(n.Aa(),"Polygon");a.Na(i,r),a.rc(e,o)}(i=n.Oa())&&(t=t.b(n.Aa(),"Text"),t.Ub(i),n=Lp(e),t.Ac(n,0,n.length,2,e,o))},GeometryCollection:function(t,e,n,o){e=e.a;var i,r;for(i=0,r=e.length;i<r;++i)(0,A_[e[i].S()])(t,e[i],n,o)},Circle:function(t,e,n,o){var i=n.Ca(),r=n.Da();if(i||r){var a=t.b(n.Aa(),"Circle");a.Na(i,r),a.ac(e,o)}(i=n.Oa())&&(t=t.b(n.Aa(),"Text"),t.Ub(i),t.Ac(e.za(),0,2,2,e,o))}};u(Kc,Nc),Kc.prototype.O=function(t,e,n){var o=t.extent,i=t.pixelRatio,r=e.Ie?t.skippedFeatureUids:{},a=t.viewState,s=a.projection,a=a.rotation,p=s.D(),h=this.a.ka(),u=Rc(this,t,0);kc(this,"precompose",n,t,u);var l=e.extent,c=void 0!==l;if(c&&Oc(n,t,l),(l=this.i)&&!l.g()){var f,d=0,y=0;if(ce(this.a,"render")){f=n.canvas.width;var v=n.canvas.height;if(a){var g=Math.round(Math.sqrt(f*f+v*v)),d=(g-f)/2,y=(g-v)/2;f=v=g}this.f.canvas.width=f,this.f.canvas.height=v,f=this.f}else f=n;v=f.globalAlpha,f.globalAlpha=e.opacity,f!=n&&f.translate(d,y);var g=t.size[0]*i,m=t.size[1]*i;if(Sr(f,-a,g/2,m/2),l.i(f,i,u,a,r),h.G&&s.a&&!k(p,o)){for(var s=o[0],h=et(p),b=0;s<p[0];)--b,u=h*b,u=Rc(this,t,u),l.i(f,i,u,a,r),s+=h;for(b=0,s=o[2];s>p[2];)++b,u=h*b,u=Rc(this,t,u),l.i(f,i,u,a,r),s-=h;u=Rc(this,t,0)}Sr(f,a,g/2,m/2),f!=n&&(kc(this,"render",f,t,u),n.drawImage(f.canvas,-d,-y),f.translate(-d,-y)),f.globalAlpha=v}c&&n.restore(),this.cf(n,t,e,u)},Kc.prototype.Ba=function(t,e,n,o,i){if(this.i){var r=this.a,a={};return this.i.Ba(t,e.viewState.resolution,e.viewState.rotation,n,{},function(t){var e=c(t).toString();if(!(e in a))return a[e]=!0,o.call(i,t,r)})}},Kc.prototype.A=function(){Mc(this)},Kc.prototype.ud=function(t){function e(t){var e,o=t.Rc();if(o?e=o.call(t,h):(o=n.i)&&(e=o(t,h)),e){if(e){if(o=!1,Array.isArray(e))for(var i=0,r=e.length;i<r;++i)o=jc(c,t,e[i],Fc(h,u),this.A,this)||o;else o=jc(c,t,e,Fc(h,u),this.A,this)||o;t=o}else t=!1;this.c=this.c||t}}var n=this.a,o=n.ka();Ac(t.attributions,o.j),Ec(t,o);var i=t.viewHints[0],r=t.viewHints[1],a=n.ea,s=n.fa;if(!this.c&&!a&&i||!s&&r)return!0;var p=t.extent,s=t.viewState,i=s.projection,h=s.resolution,u=t.pixelRatio,r=n.g,l=n.c,a=n.get(I_);if(void 0===a&&(a=Dc),p=L(p,l*h),l=s.projection.D(),o.G&&s.projection.a&&!k(l,t.extent)&&(t=Math.max(et(p)/2,et(l)),p[0]=l[0]-t,p[2]=l[2]+t),!this.c&&this.o==h&&this.u==r&&this.l==a&&k(this.j,p))return!0;this.i=null,this.c=!1;var c=new mc(.5*h/u,p,h,o.Ha,n.c);if(o.Xd(p,h,i),a){var f=[];o.bc(p,function(t){f.push(t)},this),f.sort(a),f.forEach(e,this)}else o.bc(p,e,this);return _c(c),this.o=h,this.u=r,this.l=a,this.j=p,this.i=c,!0},u(Bc,Fr);var E_=new Bc;u(Xc,jr);var L_=new Xc;u(Yc,Sc),Yc.prototype.zi=function(t,e,n){Wc(this,"precompose",n,t),ta(n,34962,this.T);var o,i=n.b,r=ia(n,E_,L_);this.v?o=this.v:this.v=o=new Uc(i,r),n.Vc(r)&&(i.enableVertexAttribArray(o.b),i.vertexAttribPointer(o.b,2,5126,!1,16,0),i.enableVertexAttribArray(o.a),i.vertexAttribPointer(o.a,2,5126,!1,16,8),i.uniform1i(o.i,0)),i.uniformMatrix4fv(o.f,!1,Yr(this.C,this.u)),i.uniformMatrix4fv(o.c,!1,Yr(this.C,this.O)),i.uniform1f(o.g,e.opacity),i.bindTexture(3553,this.Fb),i.drawArrays(5,0,4),Wc(this,"postcompose",n,t)},Yc.prototype.hg=function(){this.f=this.Fb=null,this.j=void 0},u(zc,Yc),tv=zc.prototype,tv.zi=function(t,e,n){this.l=e;var o=t.viewState,i=this.i,r=t.size,a=t.pixelRatio,s=this.c.g;i&&!i.g()&&(s.enable(s.SCISSOR_TEST),s.scissor(0,0,r[0]*a,r[1]*a),i.i(n,o.center,o.resolution,o.rotation,r,a,e.opacity,e.Ie?t.skippedFeatureUids:{}),s.disable(s.SCISSOR_TEST))},tv.ra=function(){var t=this.i;t&&(is(t,this.c.i)(),this.i=null),Yc.prototype.ra.call(this)},tv.Ba=function(t,e,n,o,i){if(this.i&&this.l){n=e.viewState;var r=this.a,a={};return this.i.Ba(t,this.c.i,n.center,n.resolution,n.rotation,e.size,e.pixelRatio,this.l.opacity,{},function(t){var e=c(t).toString();if(!(e in a))return a[e]=!0,o.call(i,t,r)})}},tv.Te=function(t,e){if(this.i&&this.l){var n=e.viewState;return ss(this.i,t,this.c.i,n.resolution,n.rotation,e.pixelRatio,this.l.opacity,e.skippedFeatureUids)}return!1},tv.gg=function(t,e,n,o){if(t=lr(e.pixelToCoordinateTransform,t.slice()),this.Te(t,e))return n.call(o,this.a,null)},tv.Ai=function(){Mc(this)},tv.ig=function(t,e,n){function o(t){var e,n=t.Rc();if(n?e=n.call(t,h):(n=i.i)&&(e=n(t,h)),e){if(e){if(n=!1,Array.isArray(e))for(var o=e.length-1;0<=o;--o)n=jc(c,t,e[o],Fc(h,u),this.Ai,this)||n;else n=jc(c,t,e,Fc(h,u),this.Ai,this)||n;t=n}else t=!1;this.o=this.o||t}}var i=this.a;e=i.ka(),Ac(t.attributions,e.j),Ec(t,e);var r=t.viewHints[0],a=t.viewHints[1],s=i.ea,p=i.fa;if(!this.o&&!s&&r||!p&&a)return!0;var a=t.extent,s=t.viewState,r=s.projection,h=s.resolution,u=t.pixelRatio,s=i.g,l=i.c,p=i.get(I_);if(void 0===p&&(p=Dc),a=L(a,l*h),!this.o&&this.I==h&&this.Z==s&&this.G==p&&k(this.A,a))return!0;this.i&&t.postRenderFunctions.push(is(this.i,n)),this.o=!1;var c=new os(.5*h/u,a,i.c);if(e.Xd(a,h,r),p){var f=[];e.bc(a,function(t){f.push(t)},this),f.sort(p),f.forEach(o,this)}else e.bc(a,o,this);return rs(c,n),this.I=h,this.Z=s,this.G=p,this.A=a,this.i=c,!0},u(Hc,or),Hc.prototype.Gd=function(t){var e=null,n=t.S();return"canvas"===n?e=new Kc(this):"webgl"===n&&(e=new zc(t,this)),e},Hc.prototype.C=function(){return this.A},Hc.prototype.G=function(){return this.i},Hc.prototype.f=function(t){this.A=void 0!==t?t:Xs,this.i=null===t?void 0:Bs(this.A),this.s()};var I_="renderOrder";u(Vc,de),tv=Vc.prototype,tv.Ba=l,tv.xa=function(){return this.j},tv.wa=function(){return this.Z},tv.ya=function(){return this.c},tv.V=function(){return this.Ja},tv.va=function(){this.s()},tv.ua=function(t){this.j=$c(t),this.s()},u(Jc,Vc),tv=Jc.prototype,tv.zb=function(t){var e=c(t).toString();if(tf(this,e,t)){Qc(this,e,t);var n=t.U();n?(e=n.D(),this.a&&this.a.Ea(e,t)):this.f[e]=t,this.b(new af("addfeature",t))}this.s()},tv.gd=function(t){ef(this,t),this.s()},tv.clear=function(t){if(t){for(var e in this.u)this.u[e].forEach(re);this.i||(this.u={},this.l={},this.o={})}else if(this.a){this.a.forEach(this.Cg,this);for(var n in this.f)this.Cg(this.f[n])}this.i&&this.i.clear(),this.a&&this.a.clear(),this.na.clear(),this.f={},this.b(new af("clear")),this.s()},tv.kh=function(t,e){return this.a?this.a.forEach(t,e):this.i?this.i.forEach(t,e):void 0},tv.bc=function(t,e,n){return this.a?ja(this.a,t,e,n):this.i?this.i.forEach(e,n):void 0},tv.lh=function(t,e,n){return this.bc(t,function(o){if(o.U().Ya(t)&&(o=e.call(n,o)))return o})},tv.th=function(){return this.i},tv.We=function(){var t;return this.i?t=this.i.a:this.a&&(t=Da(this.a),pt(this.f)||i(t,st(this.f))),t},tv.sh=function(t){var e=[];return of(this,t,function(t){e.push(t)}),e},tv.Pf=function(t){return Fa(this.a,t)},tv.oh=function(t,e){var n=t[0],o=t[1],i=null,r=[NaN,NaN],a=1/0,s=[-(1/0),-(1/0),1/0,1/0],p=e?e:Qn;return ja(this.a,s,function(t){if(p(t)){var e=t.U(),h=a;a=e.Hb(n,o,r,a),a<h&&(i=t,t=Math.sqrt(a),s[0]=n-t,s[1]=o-t,s[2]=n+t,s[3]=o+t)}}),i},tv.D=function(t){return this.a.D(t)},tv.rh=function(t){return t=this.l[t.toString()],void 0!==t?t:null},tv.Gi=function(){return this.T},tv.Hi=function(){return this.fa},tv.Ii=function(t){t=t.target;var e=c(t).toString(),n=t.U();n?(n=n.D(),e in this.f?(delete this.f[e],this.a&&this.a.Ea(n,t)):this.a&&Ra(this.a,n,t)):e in this.f||(this.a&&this.a.remove(t),this.f[e]=t),n=t.a,void 0!==n?(n=n.toString(),e in this.o?(delete this.o[e],this.l[n]=t):this.l[n]!==t&&(rf(this,t),this.l[n]=t)):e in this.o||(rf(this,t),this.o[e]=t),this.s(),this.b(new af("changefeature",t))},tv.Xd=function(t,e,n){var o=this.na;t=this.Va(t,e);var i,r;for(i=0,r=t.length;i<r;++i){var a=t[i];ja(o,a,function(t){return k(t.extent,a)})||(this.ea.call(this,a,e,n),o.Ea(a,{extent:a.slice()}))}},tv.Db=function(t){var e=c(t).toString();e in this.f?delete this.f[e]:this.a&&this.a.remove(t),this.Cg(t),this.s()},tv.Cg=function(t){var e=c(t).toString();this.u[e].forEach(re),delete this.u[e];var n=t.a;void 0!==n?delete this.l[n.toString()]:delete this.o[e],this.b(new af("removefeature",t))},u(af,he),u(sf,mi),tv=sf.prototype,tv.setMap=function(t){mi.prototype.setMap.call(this,t),this.ji()},tv.Ep=function(){if(this.j){var t,e,n=this.j.U();this.f===O_?(t=this.a,t.splice(-2,1),this.Qa(t,n),2<=t.length&&(this.o=t[t.length-2].slice())):this.f===k_&&(t=this.a[0],t.splice(-2,1),e=this.C.U(),e.pa(t),this.Qa(this.a,n)),0===t.length&&(this.o=null),gf(this)}},tv.Qd=function(){var t=vf(this),e=this.a,n=t.U();this.f===O_?(e.pop(),this.Qa(e,n)):this.f===k_&&(e[0].pop(),this.Qa(e,n),e=n.W()),"MultiPoint"===this.Z?t.Ta(new Ap([e])):"MultiLineString"===this.Z?t.Ta(new Cp([e])):"MultiPolygon"===this.Z&&t.Ta(new Ep([e])),this.b(new bf("drawend",t)),this.Va&&this.Va.push(t),this.Gb&&this.Gb.zb(t)},tv.nn=function(t){var e=t.U();this.j=t,this.a=e.W(),t=this.a[this.a.length-1],this.o=t.slice(),this.a.push(t.slice()),gf(this),this.b(new bf("drawstart",this.j))},tv.bd=to,tv.ji=function(){var t=this.v,e=this.c();t&&e||vf(this),this.na.setMap(e?t:null)};var N_="Point",O_="LineString",k_="Polygon",R_="Circle";u(bf,he),u(xf,mi),xf.prototype.setMap=function(t){this.u.setMap(t),this.I.setMap(t),mi.prototype.setMap.call(this,t)},xf.prototype.D=function(){return this.j},xf.prototype.f=function(t){this.j=t?t:null;var e=this.o;e?t?e.Ta(Bo(t)):e.Ta(void 0):(this.o=e=new Gs(t?Bo(t):{}),this.u.ka().zb(e)),this.b(new If(this.j))},u(If,he);var D_="extentchanged";u(Nf,mi),tv=Nf.prototype,tv.fg=function(t){var e=t.U();e&&e.S()in this.T&&this.T[e.S()].call(this,t,e),(e=this.v)&&e.a&&this.c()&&Uf(this,this.Ja,e),ne(t,"change",this.ki,this)},tv.Ia=function(t){this.f&&!t&&(this.G.ka().Db(this.f),this.f=null),mi.prototype.Ia.call(this,t)},tv.setMap=function(t){this.G.setMap(t),mi.prototype.setMap.call(this,t)},tv.pn=function(t){this.fg(t.element)},tv.ki=function(t){this.o||(t=t.target,kf(this,t),this.fg(t))},tv.qn=function(t){kf(this,t.element)},tv.wn=function(t,e){var n=e.W(),n={feature:t,geometry:e,oa:[n,n]};this.a.Ea(e.D(),n)},tv.tn=function(t,e){var n,o,i,r=e.W();for(o=0,i=r.length;o<i;++o)n=r[o],n={feature:t,geometry:e,depth:[o],index:o,oa:[n,n]},this.a.Ea(e.D(),n)},tv.li=function(t,e){var n,o,i,r,a=e.W();for(n=0,o=a.length-1;n<o;++n)i=a.slice(n,n+2),r={feature:t,geometry:e,index:n,oa:i},this.a.Ea(E(i),r)},tv.sn=function(t,e){var n,o,i,r,a,s,p,h=e.W();for(r=0,a=h.length;r<a;++r)for(n=h[r],o=0,i=n.length-1;o<i;++o)s=n.slice(o,o+2),p={feature:t,geometry:e,depth:[r],index:o,oa:s},this.a.Ea(E(s),p)},tv.xn=function(t,e){var n,o,i,r,a,s,p,h=e.W();for(r=0,a=h.length;r<a;++r)for(n=h[r],o=0,i=n.length-1;o<i;++o)s=n.slice(o,o+2),p={feature:t,geometry:e,depth:[r],index:o,oa:s},this.a.Ea(E(s),p)},tv.vn=function(t,e){var n,o,i,r,a,s,p,h,u,l,c=e.W();for(s=0,p=c.length;s<p;++s)for(h=c[s],r=0,a=h.length;r<a;++r)for(n=h[r],o=0,i=n.length-1;o<i;++o)u=n.slice(o,o+2),l={feature:t,geometry:e,depth:[r,s],index:o,oa:u},this.a.Ea(E(u),l)},tv.lq=function(t,e){var n=e.za(),o={feature:t,geometry:e,index:0,oa:[n,n]},i={feature:t,geometry:e,index:1,oa:[n,n]};o.Lf=i.Lf=[o,i],this.a.Ea(K(n),o),this.a.Ea(e.D(),i)},tv.rn=function(t,e){var n,o=e.a;for(n=0;n<o.length;++n)this.T[o[n].S()].call(this,t,o[n])},tv.Xl=function(t,e){for(var n,o=t.oa,i=t.feature,r=t.geometry,a=t.depth,s=t.index;e.length<r.sa();)e.push(0);switch(r.S()){case"MultiLineString":n=r.W(),n[a[0]].splice(s+1,0,e);break;case"Polygon":n=r.W(),n[a[0]].splice(s+1,0,e);break;case"MultiPolygon":n=r.W(),n[a[1]][a[0]].splice(s+1,0,e);break;case"LineString":n=r.W(),n.splice(s+1,0,e);break;default:return}this.o=!0,r.pa(n),this.o=!1,n=this.a,n.remove(t),Wf(this,r,s,a,1);var p={oa:[o[0],e],feature:i,geometry:r,depth:a,index:s};n.Ea(E(p.oa),p),this.j.push([p,1]),o={oa:[e,o[1]],feature:i,geometry:r,depth:a,index:s+1},n.Ea(E(o.oa),o),this.j.push([o,0]),this.I=!0},tv.cj=function(){if(this.Z&&"pointerdrag"!=this.Z.type){var t=this.Z;Of(this,t);var e,n,o,i,r,a,s,p,h,u,l=this.j,f={};for(r=l.length-1;0<=r;--r)i=l[r],h=i[0],u=c(h.feature),h.depth&&(u+="-"+h.depth.join("-")),u in f||(f[u]={}),0===i[1]?(f[u].right=h,f[u].index=h.index):1==i[1]&&(f[u].left=h,f[u].index=h.index+1);for(u in f){switch(p=f[u].right,a=f[u].left,r=f[u].index,
s=r-1,h=void 0!==a?a:p,0>s&&(s=0),i=h.geometry,n=o=i.W(),e=!1,i.S()){case"MultiLineString":2<o[h.depth[0]].length&&(o[h.depth[0]].splice(r,1),e=!0);break;case"LineString":2<o.length&&(o.splice(r,1),e=!0);break;case"MultiPolygon":n=n[h.depth[1]];case"Polygon":n=n[h.depth[0]],4<n.length&&(r==n.length-1&&(r=0),n.splice(r,1),e=!0,0===r&&(n.pop(),n.push(n[0]),s=n.length-1))}e&&(e=i,this.o=!0,e.pa(o),this.o=!1,o=[],void 0!==a&&(this.a.remove(a),o.push(a.oa[0])),void 0!==p&&(this.a.remove(p),o.push(p.oa[1])),void 0!==a&&void 0!==p&&(a={depth:h.depth,feature:h.feature,geometry:h.geometry,index:s,oa:o},this.a.Ea(E(a.oa),a)),Wf(this,i,r,h.depth,-1),this.f&&(this.G.ka().Db(this.f),this.f=null),l.length=0)}return this.b(new Hf("modifyend",this.u,t)),this.C=!1,!0}return!1},u(Hf,he),u(qf,oi),tv=qf.prototype,tv.zn=function(){return this.f.ka().i},tv.An=function(){return this.j},tv.Bn=function(t){return t=c(t),this.a[t]},tv.Dn=function(t){this.j=t},tv.setMap=function(t){var e=this.v,n=this.f.ka().i;e&&n.forEach(e.yj,e),oi.prototype.setMap.call(this,t),this.f.setMap(t),t&&n.forEach(t.tj,t)},tv.yn=function(t){var e=this.v;e&&e.tj(t.element)},tv.Cn=function(t){var e=this.v;e&&e.yj(t.element)},u(Zf,he);var F_="select";u(Jf,mi),tv=Jf.prototype,tv.zb=function(t,e){var n=void 0===e||e,o=c(t),i=t.U();if(i){var r=this.T[i.S()];r&&(this.Z[o]=i.D(F()),r.call(this,t,i))}n&&(this.C[o]=ne(t,"change",this.En,this))},tv.wk=function(t){this.zb(t)},tv.xk=function(t){this.Db(t)},tv.mi=function(t){var e;t instanceof af?e=t.feature:t instanceof _e&&(e=t.element),this.zb(e)},tv.ni=function(t){var e;t instanceof af?e=t.feature:t instanceof _e&&(e=t.element),this.Db(e)},tv.En=function(t){if(t=t.target,this.A){var e=c(t);e in this.u||(this.u[e]=t)}else this.zj(t)},tv.Db=function(t,e){var n=void 0===e||e,o=c(t),i=this.Z[o];if(i){var r=this.a,a=[];for(ja(r,i,function(e){t===e.feature&&a.push(e)}),i=a.length-1;0<=i;--i)r.remove(a[i])}n&&(re(this.C[o]),delete this.C[o])},tv.setMap=function(t){var e,n=this.v,o=this.na;this.j?e=this.j:this.o&&(e=this.o.We()),n&&(o.forEach(re),o.length=0,e.forEach(this.xk,this)),mi.prototype.setMap.call(this,t),t&&(this.j?o.push(ne(this.j,"add",this.mi,this),ne(this.j,"remove",this.ni,this)):this.o&&o.push(ne(this.o,"addfeature",this.mi,this),ne(this.o,"removefeature",this.ni,this)),e.forEach(this.wk,this))},tv.bd=to,tv.zj=function(t){this.Db(t,!1),this.zb(t,!1)},tv.Fn=function(t,e){var n,o=e.a;for(n=0;n<o.length;++n)this.T[o[n].S()].call(this,t,o[n])},tv.oi=function(t,e){var n,o,i,r,a=e.W();for(n=0,o=a.length-1;n<o;++n)i=a.slice(n,n+2),r={feature:t,oa:i},this.a.Ea(E(i),r)},tv.Gn=function(t,e){var n,o,i,r,a,s,p,h=e.W();for(r=0,a=h.length;r<a;++r)for(n=h[r],o=0,i=n.length-1;o<i;++o)s=n.slice(o,o+2),p={feature:t,oa:s},this.a.Ea(E(s),p)},tv.Hn=function(t,e){var n,o,i,r=e.W();for(o=0,i=r.length;o<i;++o)n=r[o],n={feature:t,oa:[n,n]},this.a.Ea(e.D(),n)},tv.In=function(t,e){var n,o,i,r,a,s,p,h,u,l,c=e.W();for(s=0,p=c.length;s<p;++s)for(h=c[s],r=0,a=h.length;r<a;++r)for(n=h[r],o=0,i=n.length-1;o<i;++o)u=n.slice(o,o+2),l={feature:t,oa:u},this.a.Ea(E(u),l)},tv.Jn=function(t,e){var n=e.W(),n={feature:t,oa:[n,n]};this.a.Ea(e.D(),n)},tv.Kn=function(t,e){var n,o,i,r,a,s,p,h=e.W();for(r=0,a=h.length;r<a;++r)for(n=h[r],o=0,i=n.length-1;o<i;++o)s=n.slice(o,o+2),p={feature:t,oa:s},this.a.Ea(E(s),p)},u(nd,mi),nd.prototype.I=function(){return this.u},nd.prototype.Z=function(t){this.u=t},nd.prototype.setMap=function(t){var e=this.v;mi.prototype.setMap.call(this,t),pd(this,e)},nd.prototype.C=function(){pd(this,null)},u(hd,he),u(ud,Hc);var j_=["#00f","#0ff","#0f0","#ff0","#f00"];tv=ud.prototype,tv.nh=function(){return this.get(K_)},tv.uh=function(){return this.get(B_)},tv.ri=function(){return this.get(X_)},tv.wl=function(){for(var t=this.uh(),e=Te(1,256),n=e.createLinearGradient(0,0,1,256),o=1/(t.length-1),i=0,r=t.length;i<r;++i)n.addColorStop(i*o,t[i]);e.fillStyle=n,e.fillRect(0,0,1,256),this.j=e.getImageData(0,0,1,256).data},tv.Yf=function(){var t=this.ri(),e=this.nh(),n=t+e+1,o=2*n,o=Te(o,o);o.shadowOffsetX=o.shadowOffsetY=this.T,o.shadowBlur=e,o.shadowColor="#000",o.beginPath(),e=n-this.T,o.arc(e,e,t,0,2*Math.PI,!0),o.fill(),this.Z=o.canvas.toDataURL(),this.I=Array(256),this.s()},tv.Nl=function(t){t=t.context;var e,n,o,i=t.canvas,i=t.getImageData(0,0,i.width,i.height),r=i.data;for(e=0,n=r.length;e<n;e+=4)(o=4*r[e+3])&&(r[e]=this.j[o],r[e+1]=this.j[o+1],r[e+2]=this.j[o+2]);t.putImageData(i,0,0)},tv.ej=function(t){this.set(K_,t)},tv.kj=function(t){this.set(B_,t)},tv.Zc=function(t){this.set(X_,t)};var K_="blur",B_="gradient",X_="radius";u(ld,Nc),ld.prototype.O=function(t,e,n){kc(this,"precompose",n,t,void 0);var o=this.Y();if(o){var i=e.extent,r=void 0!==i&&!k(i,t.extent)&&nt(i,t.extent);r&&Oc(n,t,i);var i=this.A(),a=n.globalAlpha;n.globalAlpha=e.opacity,n.drawImage(o,0,0,+o.width,+o.height,Math.round(i[4]),Math.round(i[5]),Math.round(o.width*i[0]),Math.round(o.height*i[3])),n.globalAlpha=a,r&&n.restore()}this.cf(n,t,e)},ld.prototype.Ba=function(t,e,n,o,i){var r=this.a;return r.ka().Ba(t,e.viewState.resolution,e.viewState.rotation,n,e.skippedFeatureUids,function(t){return o.call(i,t,r)})},ld.prototype.v=function(t,e,n,o){if(this.Y()){if(this.a.ka().Ba!==l)return Nc.prototype.v.apply(this,arguments);var i=lr(this.u,t.slice());if(qn(i,e.viewState.resolution/this.f),this.j||(this.j=Te(1,1)),this.j.clearRect(0,0,1,1),this.j.drawImage(this.Y(),i[0],i[1],1,1,0,0,1,1),i=this.j.getImageData(0,0,1,1).data,0<i[3])return n.call(o,this.a,i)}},u(cd,ld),cd.prototype.Y=function(){return this.N?this.N.Y():null},cd.prototype.A=function(){return this.c},cd.prototype.ud=function(t,e){var n=t.pixelRatio,o=t.size,i=t.viewState,r=i.center,a=i.resolution,s=this.a.ka(),p=t.viewHints,h=t.extent;if(void 0!==e.extent&&(h=J(h,e.extent)),p[0]||p[1]||ot(h)||(i=s.Y(h,a,n,i.projection))&&Cc(this,i)&&(this.N=i),this.N){var i=this.N,h=i.D(),u=i.resolution,p=i.a,l=n*u/(a*p),h=yr(this.c,n*o[0]/2,n*o[1]/2,l,l,0,p*(h[0]-r[0])/u,p*(r[1]-h[3])/u);yr(this.u,n*o[0]/2-h[4],n*o[1]/2-h[5],n/a,-n/a,0,-r[0],-r[1]),Ac(t.attributions,i.i),Ec(t,s),this.f=a*n/p}return!!this.N},u(bd,Yl),bd.prototype.ra=function(){1==this.state&&(re(this.de),this.de=null),Yl.prototype.ra.call(this)},bd.prototype.Y=function(){return this.f},bd.prototype.ce=function(){var t=this.Eb.V();2==t&&(this.f=yd(et(this.g)/this.c,Z(this.g)/this.c,this.l,this.Eb.resolution,0,this.c,this.g,this.j,[{extent:this.Eb.D(),image:this.Eb.Y()}],0)),this.state=t,this.s()},bd.prototype.load=function(){if(0==this.state){this.state=1,this.s();var t=this.Eb.V();2==t||3==t?this.ce():(this.de=ne(this.Eb,"change",function(){var t=this.Eb.V();2!=t&&3!=t||(re(this.de),this.de=null,this.ce())},this),this.Eb.load())}},u(xd,Vc),xd.prototype.Y=function(t,e,n,o){var i=this.c;if(i&&o&&!Mt(i,o)){if(this.a){if(this.ea==this.g&&Mt(this.a.u,o)&&this.a.resolution==e&&this.a.a==n&&X(this.a.D(),t))return this.a;pe(this.a),this.a=null}return this.a=new bd(i,o,t,e,n,function(t,e,n){return this.Lc(t,e,n,i)}.bind(this)),this.ea=this.g,this.a}return i&&(o=i),this.Lc(t,e,n,o)},xd.prototype.l=function(t){switch(t=t.target,t.V()){case 1:this.b(new Pd(U_,t));break;case 2:this.b(new Pd(Y_,t));break;case 3:this.b(new Pd(G_,t))}},u(Pd,he);var U_="imageloadstart",Y_="imageloadend",G_="imageloaderror";u(Sd,xd),Sd.prototype.Lc=function(t,e,n,o){e=_d(this,e);var i=this.I;return i&&this.T==this.g&&i.resolution==e&&i.a==n&&k(i.D(),t)?i:(t=t.slice(),it(t,this.na),(o=this.fa(t,e,n,[et(t)/e*n,Z(t)/e*n],o))&&(i=new Wl(t,e,n,this.j,o)),this.I=i,this.T=this.g,i)},u(Cd,Sd),tv=Cd.prototype,tv.pk=function(t,e,n,o,i){var r=new mc(.5*e/n,t,e,this.i.Ha,this.Ha);this.i.Xd(t,e,i);var a=!1;return this.i.bc(t,function(t){var o;if(!(o=a)){var i;if((o=t.Rc())?i=o.call(t,e):this.u&&(i=this.u(t,e)),i){var s,p=!1;for(Array.isArray(i)||(i=[i]),o=0,s=i.length;o<s;++o)p=jc(r,t,i[o],Fc(e,n),this.fo,this)||p;o=p}else o=!1}a=o},this),_c(r),a?null:(this.o[0]!=o[0]||this.o[1]!=o[1]?(this.f.canvas.width=o[0],this.f.canvas.height=o[1],this.o[0]=o[0],this.o[1]=o[1]):this.f.clearRect(0,0,o[0],o[1]),t=Md(this,V(t),e,n,o),r.i(this.f,n,t,0,{}),this.A=r,this.f.canvas)},tv.Ba=function(t,e,n,o,i,r){if(this.A){var a={};return this.A.Ba(t,e,0,o,i,function(t){var e=c(t).toString();if(!(e in a))return a[e]=!0,r(t)})}},tv.bo=function(){return this.i},tv.co=function(){return this.C},tv.eo=function(){return this.u},tv.fo=function(){this.s()},tv.ho=function(){Zc(this,this.i.V())},tv.Bi=function(t){this.C=void 0!==t?t:Xs,this.u=t?Bs(this.C):void 0,this.s()},u(Td,Yc),Td.prototype.Ba=function(t,e,n,o,i){var r=this.a;return r.ka().Ba(t,e.viewState.resolution,e.viewState.rotation,n,e.skippedFeatureUids,function(t){return o.call(i,t,r)})},Td.prototype.ig=function(t,e){var n=this.c.g,o=t.pixelRatio,i=t.viewState,r=i.center,a=i.resolution,s=i.rotation,p=this.N,h=this.Fb,u=this.a.ka(),l=t.viewHints,c=t.extent;return void 0!==e.extent&&(c=J(c,e.extent)),l[0]||l[1]||ot(c)||(i=u.Y(c,a,o,i.projection))&&Cc(this,i)&&(p=i,h=Ad(this,i),this.Fb&&t.postRenderFunctions.push(function(t,e){t.isContextLost()||t.deleteTexture(e)}.bind(null,n,this.Fb))),p&&(n=this.c.i.j,Ed(this,n.width,n.height,o,r,a,s,p.D()),this.l=null,o=this.u,sr(o),fr(o,1,-1),dr(o,0,-1),this.N=p,this.Fb=h,Ac(t.attributions,p.i),Ec(t,u)),!!p},Td.prototype.Te=function(t,e){return void 0!==this.Ba(t,e,0,Qn,this)},Td.prototype.gg=function(t,e,n,o){if(this.N&&this.N.Y())if(this.a.ka()instanceof Cd){var i=lr(e.pixelToCoordinateTransform,t.slice());if(this.Ba(i,e,0,Qn,this))return n.call(o,this.a,null)}else{if(i=[this.N.Y().width,this.N.Y().height],!this.l){var r=e.size;e=ar(),dr(e,-1,-1),fr(e,2/r[0],2/r[1]),dr(e,0,r[1]),fr(e,1,-1);var r=vr(this.O.slice()),a=ar();dr(a,0,i[1]),fr(a,1,-1),fr(a,i[0]/2,i[1]/2),dr(a,1,1),pr(a,r),pr(a,e),this.l=a}if(t=lr(this.l,t.slice()),!(0>t[0]||t[0]>i[0]||0>t[1]||t[1]>i[1])&&(this.i||(this.i=Te(1,1)),this.i.clearRect(0,0,1,1),this.i.drawImage(this.N.Y(),t[0],t[1],1,1,0,0,1,1),i=this.i.getImageData(0,0,1,1).data,0<i[3]))return n.call(o,this.a,i)}},u(Ld,or),Ld.prototype.Gd=function(t){var e=null,n=t.S();return"canvas"===n?e=new cd(this):"webgl"===n&&(e=new Td(t,this)),e},u(Id,ld),Id.prototype.ud=function(t,n){var o=t.pixelRatio,i=t.size,r=t.viewState,a=r.projection,s=r.resolution,r=r.center,p=this.a,h=p.ka(),u=h.g,l=h.Jb(a),c=l.Qc(s,this.T),f=l.La(c),d=Math.round(s/f)||1,y=t.extent;if(void 0!==n.extent&&(y=J(y,n.extent)),ot(y))return!1;var v,g=Kt(l,y,f);v=l.Uc(c);var m=l.La(c),b=A(l.eb(c),l.j);v=j(v[0]+g.da*b[0]*m,v[1]+g.ga*b[1]*m,v[0]+(g.ba+1)*b[0]*m,v[1]+(g.ja+1)*b[1]*m,void 0),m=h.pb(o),b={},b[c]={};var x,_,w,P=this.Jf(h,a,b),S=this.o,C=this.Ja,M=!1;for(_=g.da;_<=g.ba;++_)for(w=g.ga;w<=g.ja;++w)x=h.Pc(c,_,w,o,a),Nd(this,x)||(x=Hl(x)),Nd(this,x)?2==x.V()&&(b[c][x.Ga.toString()]=x,M||-1!=this.i.indexOf(x)||(M=!0)):Ft(l,x.Ga,P,C,S)||(x=jt(l,x.Ga,C,S))&&P(c+1,x);if(_=t.viewHints,!(this.f&&16<Date.now()-t.time&&(_[0]||_[1])||!M&&this.l&&k(this.l,y)&&this.kf==u)||d!=this.I){(_=this.c)&&(w=h.Vd(c,o,a),x=Math.round((g.ba-g.da+1)*w[0]/d),w=Math.round((g.ja-g.ga+1)*w[1]/d),M=_.canvas,M.width!=x||M.height!=w?(this.I=d,M.width=x,M.height=w):(_.clearRect(0,0,x,w),d=this.I)),this.i.length=0,M=Object.keys(b).map(Number),M.sort(e);var T,E,L,I,N,O,C=0;for(E=M.length;C<E;++C){_=M[C],P=h.Vd(_,o,a),x=l.La(_),T=x/f,L=m*h.Rf(a),I=b[_];for(var R in I)x=I[R],w=l.Ua(x.Ga,S),_=(w[0]-v[0])/f*m/d,w=(v[3]-w[3])/f*m/d,N=P[0]*T/d,O=P[1]*T/d,this.Kf(x,t,n,_,w,N,O,L),this.i.push(x)}this.kf=u,this.f=f*o/m*d,this.l=v}return R=this.f/s,R=yr(this.C,o*i[0]/2,o*i[1]/2,R,R,0,(this.l[0]-r[0])/this.f*o,(r[1]-this.l[3])/this.f*o),yr(this.u,o*i[0]/2-R[4],o*i[1]/2-R[5],o/s,-o/s,0,-r[0],-r[1]),Lc(t.usedTiles,h,c,g),Ic(t,h,l,o,a,y,c,p.Sd()),Tc(t,h),Ec(t,h),0<this.i.length},Id.prototype.Kf=function(t,e,n,o,i,r,a,s){this.a.ka().Uf(e.viewState.projection)||this.c.clearRect(o,i,r,a),(t=t.Y())&&this.c.drawImage(t,s,s,t.width-2*s,t.height-2*s,o,i,r,a)},Id.prototype.Y=function(){var t=this.c;return t?t.canvas:null},Id.prototype.A=function(){return this.C},u(Od,Fr);var W_=new Od;u(kd,jr);var z_=new kd;u(Dd,Yc),tv=Dd.prototype,tv.ra=function(){ea(this.c.i,this.G),Yc.prototype.ra.call(this)},tv.Jf=function(t,e,n){var o=this.c;return function(i,r){return Zd(t,e,i,r,function(t){var e=o.a.b.hasOwnProperty(t.hb());return e&&(n[i]||(n[i]={}),n[i][t.Ga.toString()]=t),e})}},tv.hg=function(){Yc.prototype.hg.call(this),this.i=null},tv.ig=function(t,n,o){var i=this.c,r=o.b,a=t.viewState,s=a.projection,p=this.a,h=p.ka(),u=h.Jb(s),l=u.Qc(a.resolution),c=u.La(l),f=h.Vd(l,t.pixelRatio,s),d=f[0]/A(u.eb(l),this.Z)[0],v=c/d,m=h.pb(d)*h.Rf(s),b=a.center,_=t.extent,w=Kt(u,_,c);if(this.l&&g(this.l,w)&&this.o==h.g)v=this.A;else{var P=[w.ba-w.da+1,w.ja-w.ga+1],S=x(Math.max(P[0]*f[0],P[1]*f[1])),P=v*S,C=u.Uc(l),M=C[0]+w.da*f[0]*v,v=C[1]+w.ga*f[1]*v,v=[M,v,M+P,v+P];Gc(this,t,S),r.viewport(0,0,S,S),r.clearColor(0,0,0,0),r.clear(16384),r.disable(3042),S=ia(o,this.I,this.fa),o.Vc(S),this.i||(this.i=new Rd(r,S)),ta(o,34962,this.G),r.enableVertexAttribArray(this.i.b),r.vertexAttribPointer(this.i.b,2,5126,!1,16,0),r.enableVertexAttribArray(this.i.a),r.vertexAttribPointer(this.i.a,2,5126,!1,16,8),r.uniform1i(this.i.g,0),o={},o[l]={};var T,E,L,I=this.Jf(h,s,o),N=p.Wd(),S=!0,M=F(),O=new y(0,0,0,0);for(E=w.da;E<=w.ba;++E)for(L=w.ga;L<=w.ja;++L)if(C=h.Pc(l,E,L,d,s),void 0===n.extent||(T=u.Ua(C.Ga,M),nt(T,n.extent))){if(T=C.V(),(T=2==T||4==T||3==T&&!N)||(C=Hl(C)),T=C.V(),2==T){if(i.a.b.hasOwnProperty(C.hb())){o[l][C.Ga.toString()]=C;continue}}else if(4==T||3==T&&!N)continue;S=!1,T=Ft(u,C.Ga,I,O,M),T||(C=jt(u,C.Ga,O,M))&&I(l+1,C)}n=Object.keys(o).map(Number),n.sort(e);for(var k,I=new Float32Array(4),N=0,O=n.length;N<O;++N)for(k in E=o[n[N]])C=E[k],T=u.Ua(C.Ga,M),I[0]=2*(T[2]-T[0])/P,I[1]=2*(T[3]-T[1])/P,I[2]=2*(T[0]-v[0])/P-1,I[3]=2*(T[1]-v[1])/P-1,r.uniform4fv(this.i.c,I),ls(i,C,f,m*d),r.drawArrays(5,0,4);S?(this.l=w,this.A=v,this.o=h.g):(this.A=this.l=null,this.o=-1,t.animate=!0)}Lc(t.usedTiles,h,l,w);var R=i.j;return Ic(t,h,u,d,s,_,l,p.Sd(),function(t){2!=t.V()||i.a.b.hasOwnProperty(t.hb())||t.hb()in R.a||R.i([t,Xt(u,t.Ga),u.La(t.Ga[0]),f,m*d])},this),Tc(t,h),Ec(t,h),r=this.u,sr(r),dr(r,(Math.round(b[0]/c)*c-v[0])/(v[2]-v[0]),(Math.round(b[1]/c)*c-v[1])/(v[3]-v[1])),a.rotation&&cr(r,a.rotation),fr(r,t.size[0]*a.resolution/(v[2]-v[0]),t.size[1]*a.resolution/(v[3]-v[1])),dr(r,-.5,-.5),!0},tv.gg=function(t,e,n,o){if(this.f){t=lr(this.u,[t[0]/e.size[0],(e.size[1]-t[1])/e.size[1]].slice()),t=[t[0]*this.j,t[1]*this.j],e=this.c.i.b,e.bindFramebuffer(e.FRAMEBUFFER,this.f);var i=new Uint8Array(4);if(e.readPixels(t[0],t[1],1,1,e.RGBA,e.UNSIGNED_BYTE,i),0<i[3])return n.call(o,this.a,i)}},u(Fd,or),tv=Fd.prototype,tv.Gd=function(t){var e=null,n=t.S();return"canvas"===n?e=new Id(this):"webgl"===n&&(e=new Dd(t,this)),e},tv.Sd=function(){return this.get("preload")},tv.si=function(t){this.set("preload",t)},tv.Wd=function(){return this.get("useInterimTilesOnError")},tv.ti=function(t){this.set("useInterimTilesOnError",t)},u(jd,Id);var H_={image:hg,hybrid:["Polygon","LineString"]},q_={hybrid:["Image","Text"],vector:hg};tv=jd.prototype,tv.ud=function(t,e){var n=this.a,o=n.g;return this.na!=o&&(this.i.length=0,n=n.u,this.c||"vector"==n||(this.c=Te()),this.c&&"vector"==n&&(this.c=null)),this.na=o,Id.prototype.ud.apply(this,arguments)},tv.Kf=function(t,e,n,o,i,r,a,s){var p=t;if(Kd(this,p,e),this.c){var h=p,u=e,l=this.a,p=h.g,c=l.g,f=H_[l.u];if(f&&p.Fg!==c){p.Fg=c;var d=h.Ga,y=h.Ga[0],c=u.pixelRatio,v=l.ka(),g=v.tileGrid,m=v.pb(),l=sr(this.Z);"tile-pixels"==h.j.Kb()?(d=c/m,fr(l,d,d)):(m=c/g.La(y),d=g.Ua(d,this.o),fr(l,m,-m),dr(l,-d[0],-d[3])),h.c||(h.c=Te()),h=h.c,u=v.Vd(y,c,u.viewState.projection),h.canvas.width=u[0],h.canvas.height=u[1],p.zd.i(h,c,l,0,{},f)}Id.prototype.Kf.apply(this,arguments)}},tv.Ba=function(t,e,n,o,i){var r=e.viewState.resolution;e=e.viewState.rotation,n=void 0==n?0:n;var a,s,p,h,u,l,f=this.a,d={},y=this.i,v=f.ka(),g=v.tileGrid;for(p=0,h=y.length;p<h;++p)l=y[p],s=l.Ga,u=v.tileGrid.Ua(s,this.o),O(L(u,n*r),t)&&("tile-pixels"===l.j.Kb()?(u=Q(u),r=v.pb(),s=g.La(s[0])/r,s=[(t[0]-u[0])/s,(u[1]-t[1])/s]):s=t,l=l.g.zd,a=a||l.Ba(s,r,e,n,{},function(t){var e=c(t).toString();if(!(e in d))return d[e]=!0,o.call(i,t,f)}));return a},tv.yi=function(){Mc(this)},tv.cf=function(t,e,n){var o=q_[this.a.u];if(o)for(var i=e.pixelRatio,r=e.viewState.rotation,a=e.size,s=Math.round(i*a[0]/2),a=Math.round(i*a[1]/2),p=this.i,h=[],u=[],l=p.length-1;0<=l;--l){var c,f=p[l],d=f;if(c=e,"tile-pixels"==d.j.Kb()){var y=this.a.ka(),v=y.tileGrid,g=d.Ga,y=v.La(g[0])/y.pb(),d=c.viewState,m=c.pixelRatio,b=d.resolution/m,g=v.Ua(g,this.o),v=d.center,g=Q(g);c=c.size,c=yr(this.Z,Math.round(m*c[0]/2),Math.round(m*c[1]/2),y/b,y/b,d.rotation,(g[0]-v[0])/y,(v[1]-g[1])/y)}else c=Rc(this,c,0);for(y=wc(f.g.zd,c),d=f.Ga[0],t.save(),t.globalAlpha=n.opacity,Sr(t,-r,s,a),m=0,b=h.length;m<b;++m)v=h[m],d<u[m]&&(t.beginPath(),t.moveTo(y[0],y[1]),t.lineTo(y[2],y[3]),t.lineTo(y[4],y[5]),t.lineTo(y[6],y[7]),t.moveTo(v[6],v[7]),t.lineTo(v[4],v[5]),t.lineTo(v[2],v[3]),t.lineTo(v[0],v[1]),t.clip());f.g.zd.i(t,i,c,r,{},o),t.restore(),h.push(y),u.push(d)}Id.prototype.cf.apply(this,arguments)},u(Bd,Hc),tv=Bd.prototype,tv.Gd=function(t){var e=null;return"canvas"===t.S()&&(e=new jd(this)),e},tv.Sd=function(){return this.get("preload")},tv.Wd=function(){return this.get("useInterimTilesOnError")},tv.ui=function(t){this.set("preload",t)},tv.vi=function(t){this.set("useInterimTilesOnError",t)},u(Ud,zl),Ud.prototype.ra=function(){1==this.state&&(this.Ad.forEach(re),this.Ad=null),zl.prototype.ra.call(this)},Ud.prototype.Y=function(){return this.v},Ud.prototype.ce=function(){var t=[];if(this.g.forEach(function(e){e&&2==e.V()&&t.push({extent:this.c.Ua(e.Ga),image:e.Y()})},this),this.g.length=0,t.length){var e=this.o[0],n=this.l.eb(e),o="number"==typeof n?n:n[0],n="number"==typeof n?n:n[1],e=this.l.La(e),i=this.c.La(this.f),r=this.l.Ua(this.o);this.v=yd(o,n,this.A,i,this.c.D(),e,r,this.u,t,this.O,this.C),this.state=2}else this.state=3;this.s()},Ud.prototype.load=function(){if(0==this.state){this.state=1,this.s();var t=0;this.Ad=[],this.g.forEach(function(e){var n=e.V();if(0==n||1==n){t++;var o;o=ne(e,"change",function(){var n=e.V();2!=n&&3!=n&&4!=n||(re(o),t--,t||(this.Ad.forEach(re),this.Ad=null,this.ce()))},this),this.Ad.push(o)}},this),this.g.forEach(function(t){0==t.V()&&t.load()}),t||setTimeout(this.ce.bind(this),0)}},u(qd,hs),qd.prototype.ld=function(t){for(var e,n;Vd(this);){e=this.a.cd,n=e.Ga[0].toString();var o;if((o=n in t)&&(e=e.Ga,o=v(t[n],e[1],e[2])),o)break;pe(this.pop())}},u($d,Vc),tv=$d.prototype,tv.Ei=function(){return Vd(this.a)},tv.ld=function(t,e){var n=this.Ud(t);n&&n.ld(e)},tv.Rf=function(){return 0},tv.Tb=function(t,e,n){return t+"/"+e+"/"+n},tv.Uf=function(){return this.na},tv.ab=function(){return this.tileGrid},tv.Jb=function(t){return this.tileGrid?this.tileGrid:Gt(t)},tv.Ud=function(t){var e=this.c;return e&&!Mt(e,t)?null:this.a},tv.pb=function(){return this.Va},tv.Vd=function(t,e,n){return n=this.Jb(n),e=this.pb(e),t=A(n.eb(t),this.l),1==e?t:T(t,e,this.l)},tv.va=function(){this.a.clear(),this.s()},tv.Mg=l,u(ty,he),u(ey,$d),tv=ey.prototype,tv.ob=function(){return this.tileLoadFunction},tv.qb=function(){return this.tileUrlFunction},tv.rb=function(){return this.urls},tv.Fi=function(t){switch(t=t.target,t.V()){case 1:this.b(new ty("tileloadstart",t));break;case 2:this.b(new ty("tileloadend",t));break;case 3:this.b(new ty("tileloaderror",t))}},tv.wb=function(t){this.a.clear(),this.tileLoadFunction=t,this.s()},tv.bb=function(t,e){this.tileUrlFunction=t,"undefined"!=typeof e?Jd(this,e):this.s()},tv.ib=function(t){var e=this.urls=Hd(t);this.bb(this.Hc?this.Hc.bind(this):Gd(e,this.tileGrid),t)},tv.cb=function(t){this.urls=t;var e=t.join("\n");this.bb(this.Hc?this.Hc.bind(this):Gd(t,this.tileGrid),e)},tv.Mg=function(t,e,n){t=this.Tb(t,e,n),this.a.b.hasOwnProperty(t)&&this.a.get(t)},u(ny,ey),tv=ny.prototype,tv.Ei=function(){if(Vd(this.a))return!0;for(var t in this.f)if(Vd(this.f[t]))return!0;return!1},tv.ld=function(t,e){var n=this.Ud(t);this.a.ld(this.a==n?e:{});for(var o in this.f){var i=this.f[o];i.ld(i==n?e:{})}},tv.Rf=function(t){return this.c&&t&&!Mt(this.c,t)?0:this.Sf()},tv.Sf=function(){return 0},tv.Uf=function(t){return!(this.c&&t&&!Mt(this.c,t))&&ey.prototype.Uf.call(this,t)},tv.Jb=function(t){var e=this.c;return!this.tileGrid||e&&!Mt(e,t)?(e=c(t).toString(),e in this.u||(this.u[e]=Gt(t)),this.u[e]):this.tileGrid},tv.Ud=function(t){var e=this.c;return!e||Mt(e,t)?this.a:(t=c(t).toString(),t in this.f||(this.f[t]=new qd(this.a.highWaterMark)),this.f[t])},tv.Pc=function(t,e,n,o,i){if(this.c&&i&&!Mt(this.c,i)){var r=this.Ud(i);n=[t,e,n];var a;if(t=this.Tb.apply(this,n),r.b.hasOwnProperty(t)&&(a=r.get(t)),e=this.wc,a&&a.key==e)return a;var s=this.c,p=this.Jb(s),h=this.Jb(i),u=Qd(this,n,i);return o=new Ud(s,p,i,h,n,u,this.pb(o),this.Sf(),function(t,e,n,o){return iy(this,t,e,n,o,s)}.bind(this),this.Ha,this.C),o.key=e,a?(o.a=a,r.replace(t,o)):r.set(t,o),o}return iy(this,t,e,n,o,i)},tv.Ob=function(t){if(this.C!=t){this.C=t;for(var e in this.f)this.f[e].clear();this.s()}},tv.Pb=function(t,e){var n=Ct(t);n&&(n=c(n).toString(),n in this.u||(this.u[n]=e))},u(ay,ny);var V_=new qt({html:'<a class="ol-attribution-bing-tos" href="http://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'});ay.prototype.T=function(){return this.i},ay.prototype.ea=function(){return this.o},ay.prototype.fa=function(t){if(200!=t.statusCode||"OK"!=t.statusDescription||"ValidCredentials"!=t.authenticationResultCode||1!=t.resourceSets.length||1!=t.resourceSets[0].resources.length)Zc(this,"error");else{var e=t.brandLogoUri;-1==e.indexOf("https")&&(e=e.replace("http","https"));var n=t.resourceSets[0].resources[0],o=-1==this.v?n.zoomMax:this.v;t=Ht(this.c);var i=Wt({extent:t,minZoom:n.zoomMin,maxZoom:o,tileSize:(n.imageWidth==n.imageHeight?n.imageWidth:[n.imageWidth,n.imageHeight])/this.pb()});this.tileGrid=i;var r=this.I,a=this.A;if(this.tileUrlFunction=Wd(n.imageUrlSubdomains.map(function(t){var e=[0,0,0],o=n.imageUrl.replace("{subdomain}",t).replace("{culture}",r);return function(t){if(t)return kt(t[0],t[1],-t[2]-1,e),t=o,a&&(t+="&dpi=d1&device=mobile"),t.replace("{quadkey}",Rt(e))}})),n.imageryProviders){var s=At(Ct("EPSG:4326"),this.c);t=n.imageryProviders.map(function(t){var e=t.attribution,n={};return t.coverageAreas.forEach(function(t){var e=t.zoomMin,r=Math.min(t.zoomMax,o);t=t.bbox,t=rt([t[1],t[0],t[3],t[2]],s);var a,p;for(a=e;a<=r;++a)p=a.toString(),e=Bt(i,t,a),p in n?n[p].push(e):n[p]=[e]}),new qt({html:e,tileRanges:n})}),t.push(V_),this.ua(t)}this.Z=e,Zc(this,"ready")}},u(sy,ny),u(py,sy),tv=py.prototype,tv.Gk=function(){return this.i},tv.iq=function(t){sv(this.i,t),hy(this)},tv.Np=function(t){this.i=t||{},hy(this)},tv.yl=function(t,e){var n=e.target;if(!n.status||200<=n.status&&300>n.status){var o;try{o=JSON.parse(n.responseText)}catch(t){return void Zc(this,"error")}uy(this,o),this.o[t]=o,Zc(this,"ready")}else Zc(this,"error")},tv.xl=function(){Zc(this,"error")},u(ly,Jc),tv=ly.prototype,tv.Qn=function(){return this.I},tv.Rn=function(){return this.v},tv.Xd=function(t,e,n){this.v.Xd(t,e,n),e!==this.C&&(this.clear(),this.C=e,cy(this),this.gd(this.A))},tv.Op=function(t){this.I=t,this.bj()},tv.bj=function(){this.clear(),cy(this),this.gd(this.A),this.s()},u(yy,xd),tv=yy.prototype,tv.Tn=function(){return this.u},tv.Lc=function(t,e,n,o){if(void 0===this.i)return null;e=_d(this,e),n=this.T?n:1;var i=this.N;if(i&&this.C==this.g&&i.resolution==e&&i.a==n&&k(i.D(),t))return i;i={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},sv(i,this.u),t=t.slice();var r=(t[0]+t[2])/2,a=(t[1]+t[3])/2;if(1!=this.A){var s=this.A*et(t)/2,p=this.A*Z(t)/2;t[0]=r-s,t[1]=a-p,t[2]=r+s,t[3]=a+p}var s=e/n,p=Math.ceil(et(t)/s),h=Math.ceil(Z(t)/s);return t[0]=r-s*p/2,t[2]=r+s*p/2,t[1]=a-s*h/2,t[3]=a+s*h/2,this.o[0]=p,this.o[1]=h,r=t,a=this.o,s=n,o=o.nb.split(":").pop(),i.SIZE=a[0]+","+a[1],i.BBOX=r.join(","),i.BBOXSR=o,i.IMAGESR=o,i.DPI=Math.round(90*s),o=this.i,r=o.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),r==o&&d(!1,50),i=dy(r,i),this.N=new Gl(t,e,n,this.j,i,this.I,this.f),this.C=this.g,ne(this.N,"change",this.l,this),this.N},tv.Sn=function(){return this.f},tv.Un=function(){return this.i},tv.Vn=function(t){this.N=null,this.f=t,this.s()},tv.Wn=function(t){t!=this.i&&(this.i=t,this.N=null,this.s())},tv.Xn=function(t){sv(this.u,t),this.N=null,this.s()},u(vy,xd),tv=vy.prototype,tv.Zn=function(){return this.f},tv.Lc=function(t,e,n){e=_d(this,e),n=this.T?n:1;var o=this.N;if(o&&this.A==this.g&&o.resolution==e&&o.a==n&&k(o.D(),t))return o;1!=this.u&&(t=t.slice(),it(t,this.u));var i=[et(t)/e*n,Z(t)/e*n];if(void 0!==this.C){var o=this.C,r=V(t),a=this.fa,s=et(t),p=Z(t),h=i[0],u=i[1],l=.0254/this.o,i={OPERATION:this.na?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.o,SETDISPLAYWIDTH:Math.round(i[0]),SETDISPLAYHEIGHT:Math.round(i[1]),SETVIEWSCALE:u*s>h*p?s*a/(h*l):p*a/(u*l),SETVIEWCENTERX:r[0],SETVIEWCENTERY:r[1]};sv(i,this.f),o=dy(o,i),o=new Gl(t,e,n,this.j,o,this.I,this.i),ne(o,"change",this.l,this)}else o=null;return this.N=o,this.A=this.g,o},tv.Yn=function(){return this.i},tv.ao=function(t){sv(this.f,t),this.s()},tv.$n=function(t){this.N=null,this.i=t,this.s()},u(gy,xd),gy.prototype.Lc=function(t){return nt(t,this.N.D())?this.N:null},gy.prototype.l=function(t){if(2==this.N.V()){var e,n,o=this.N.D(),i=this.N.Y();if(this.i?(e=this.i[0],n=this.i[1]):(e=i.width,n=i.height),o=Math.ceil(et(o)/(Z(o)/n)),o!=e){var o=Te(o,n),r=o.canvas;o.drawImage(i,0,0,e,n,0,0,r.width,r.height),this.N.Hg(r)}}xd.prototype.l.call(this,t)},u(my,xd);var $_=[101,101];tv=my.prototype,tv.io=function(t,e,n,o){if(void 0!==this.f){var i=$(t,e,0,$_),r={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.i.LAYERS};return sv(r,this.i,o),o=Math.floor((i[3]-t[1])/e),r[this.o?"I":"X"]=Math.floor((t[0]-i[0])/e),r[this.o?"J":"Y"]=o,by(this,i,$_,1,Ct(n),r)}},tv.ko=function(){return this.i},tv.Lc=function(t,e,n,o){if(void 0===this.f)return null;e=_d(this,e),1==n||this.na&&void 0!==this.T||(n=1);var i=e/n,r=V(t),a=$(r,i,0,[Math.ceil(et(t)/i),Math.ceil(Z(t)/i)]);return t=$(r,i,0,[Math.ceil(this.C*et(t)/i),Math.ceil(this.C*Z(t)/i)]),(r=this.N)&&this.I==this.g&&r.resolution==e&&r.a==n&&k(r.D(),a)?r:(a={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},sv(a,this.i),this.A[0]=Math.round(et(t)/i),this.A[1]=Math.round(Z(t)/i),o=by(this,t,this.A,n,o,a),this.N=new Gl(t,e,n,this.j,o,this.fa,this.u),this.I=this.g,ne(this.N,"change",this.l,this),this.N)},tv.jo=function(){return this.u},tv.lo=function(){return this.f},tv.mo=function(t){this.N=null,this.u=t,this.s()},tv.no=function(t){t!=this.f&&(this.f=t,this.N=null,this.s())},tv.oo=function(t){sv(this.i,t),xy(this),this.N=null,this.s()},u(_y,sy);var Z_=new qt({html:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'});!function(){var t={},e={ma:t};!function(n){if("object"==typeof t&&"undefined"!=typeof e)e.ma=n();else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,o.Cq=n()}}(function(){return function t(e,n,o){function i(a,s){if(!n[a]){if(!e[a]){var p="function"==typeof require&&require;if(!s&&p)return p(a,!0);if(r)return r(a,!0);throw p=Error("Cannot find module '"+a+"'"),p.code="MODULE_NOT_FOUND",p}p=n[a]={ma:{}},e[a][0].call(p.ma,function(t){var n=e[a][1][t];return i(n?n:t)},p,p.ma,t,e,n,o)}return n[a].ma}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(t,e,n){t=t("./processor"),n.Pj=t},{"./processor":2}],2:[function(t,e){function n(t){var e=!0;try{new ImageData(10,10)}catch(t){e=!1}return function(n){var o=n.buffers,i=n.meta,r=n.width,a=n.height,s=o.length,p=o[0].byteLength;if(n.imageOps){for(p=Array(s),n=0;n<s;++n){var h,u=p,l=n;h=new Uint8ClampedArray(o[n]);var c=r,f=a;h=e?new ImageData(h,c,f):{data:h,width:c,height:f},u[l]=h}r=t(p,i).data}else{for(r=new Uint8ClampedArray(p),a=Array(s),u=Array(s),n=0;n<s;++n)a[n]=new Uint8ClampedArray(o[n]),u[n]=[0,0,0,0];for(o=0;o<p;o+=4){for(n=0;n<s;++n)l=a[n],u[n][0]=l[o],u[n][1]=l[o+1],u[n][2]=l[o+2],u[n][3]=l[o+3];n=t(u,i),r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3]}}return r.buffer}}function o(t,e){var o=Object.keys(t.lib||{}).map(function(e){return"var "+e+" = "+t.lib[e].toString()+";"}).concat(["var __minion__ = ("+n.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),o=URL.createObjectURL(new Blob(o,{type:"text/javascript"})),o=new Worker(o);return o.addEventListener("message",e),o}function i(t,e){var o=n(t.operation);return{postMessage:function(t){setTimeout(function(){e({data:{buffer:o(t),meta:t.meta}})},0)}}}function r(t){this.Bf=!!t.Vl;var e;e=0===t.threads?0:this.Bf?1:t.threads||1;var n=[];if(e)for(var r=0;r<e;++r)n[r]=o(t,this.Yg.bind(this,r));else n[0]=i(t,this.Yg.bind(this,0));this.qe=n,this.Fd=[],this.bk=t.hp||1/0,this.oe=0,this.fd={},this.Cf=null}var a=t("./util").om;r.prototype.fp=function(t,e,n){this.$j({inputs:t,Jh:e,jd:n}),this.Vg()},r.prototype.$j=function(t){for(this.Fd.push(t);this.Fd.length>this.bk;)this.Fd.shift().jd(null,null)},r.prototype.Vg=function(){if(0===this.oe&&0<this.Fd.length){var t=this.Cf=this.Fd.shift(),e=t.inputs[0].width,n=t.inputs[0].height,o=t.inputs.map(function(t){return t.data.buffer}),i=this.qe.length;if(this.oe=i,1===i)this.qe[0].postMessage({buffers:o,meta:t.Jh,imageOps:this.Bf,width:e,height:n},o);else for(var r=4*Math.ceil(t.inputs[0].data.length/4/i),a=0;a<i;++a){for(var s=a*r,p=[],h=0,u=o.length;h<u;++h)p.push(o[a].slice(s,s+r));this.qe[a].postMessage({buffers:p,meta:t.Jh,imageOps:this.Bf,width:e,height:n},p)}}},r.prototype.Yg=function(t,e){this.Aq||(this.fd[t]=e.data,--this.oe,0===this.oe&&this.ck())},r.prototype.ck=function(){var t,e,n=this.Cf,o=this.qe.length;if(1===o)t=new Uint8ClampedArray(this.fd[0].buffer),e=this.fd[0].meta;else{var i=n.inputs[0].data.length;t=new Uint8ClampedArray(i),e=Array(i);for(var i=4*Math.ceil(i/4/o),r=0;r<o;++r){var s=r*i;t.set(new Uint8ClampedArray(this.fd[r].buffer),s),e[r]=this.fd[r].meta}}this.Cf=null,this.fd={},n.jd(null,a(t,n.inputs[0].width,n.inputs[0].height),e),this.Vg()},e.ma=r},{"./util":3}],3:[function(t,e,n){var o=!0;try{new ImageData(10,10)}catch(t){o=!1}var i=document.createElement("canvas").getContext("2d");n.om=function(t,e,n){return o?new ImageData(t,e,n):(e=i.createImageData(e,n),e.data.set(t),e)}},{}]},{},[1])(1)}),kg=e.ma}(),u(wy,xd),wy.prototype.u=function(t,e){this.A=new kg.Pj({operation:t,Vl:"image"===this.na,hp:1,lib:e,threads:this.Ha}),this.s()},wy.prototype.Y=function(t,e,n,o){n=!0;for(var i,r=0,a=this.f.length;r<a;++r)if(i=this.f[r].a.ka(),"ready"!==i.V()){n=!1;break}if(!n)return null;if(n=sv({},this.C),n.viewState=sv({},n.viewState),i=V(t),n.extent=t.slice(),n.focus=i,n.size[0]=Math.round(et(t)/e),n.size[1]=Math.round(Z(t)/e),r=n.viewState,r.center=i,r.projection=o,r.resolution=e,this.o=n,On(n.tileQueue,16,16),this.i&&(o=this.i.resolution,n=this.i.D(),e===o&&X(t,n)||(this.i=null)),!this.i||this.g!==this.I)t:{for(t=this.o,o=this.f.length,e=Array(o),n=0;n<o;++n){if(i=this.f[n],r=t,a=t.layerStatesArray[n],i.ud(r,a)){var s=r.size[0],p=r.size[1];if(J_){var h=J_.canvas;h.width!==s||h.height!==p?J_=Te(s,p):J_.clearRect(0,0,s,p)}else J_=Te(s,p);i.O(r,a,J_),i=J_.getImageData(0,0,s,p)}else i=null;if(!i)break t;e[n]=i}o={},this.b(new Cy(Q_,t,o)),this.A.fp(e,o,this.fa.bind(this,t))}return this.i},wy.prototype.fa=function(t,e,n,o){if(!e&&n){e=t.extent;var i=t.viewState.resolution;if(i===this.o.viewState.resolution&&X(e,this.o.extent)){var r;this.i?r=this.i.Y().getContext("2d"):(r=Te(Math.round(et(e)/i),Math.round(Z(e)/i)),this.i=new Wl(e,i,1,this.j,r.canvas)),
r.putImageData(n,0,0),this.s(),this.I=this.g,this.b(new Cy(tw,t,o))}}};var J_=null;u(Cy,he),wy.prototype.Lc=function(){return null};var Q_="beforeoperations",tw="afteroperations";u(My,sy);var ew=[new qt({html:'Map tiles by <a href="http://stamen.com/">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.'}),Z_],nw={terrain:{Ib:"jpg",opaque:!0},"terrain-background":{Ib:"jpg",opaque:!0},"terrain-labels":{Ib:"png",opaque:!1},"terrain-lines":{Ib:"png",opaque:!1},"toner-background":{Ib:"png",opaque:!0},toner:{Ib:"png",opaque:!0},"toner-hybrid":{Ib:"png",opaque:!1},"toner-labels":{Ib:"png",opaque:!1},"toner-lines":{Ib:"png",opaque:!1},"toner-lite":{Ib:"png",opaque:!0},watercolor:{Ib:"jpg",opaque:!0}},ow={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}};u(Ty,ny),Ty.prototype.v=function(){return this.i},Ty.prototype.pb=function(t){return t},Ty.prototype.Hc=function(t,e,n){var o=this.tileGrid;if(o||(o=this.Jb(n)),!(o.b.length<=t[0])){var i=o.Ua(t,this.o),r=A(o.eb(t[0]),this.l);1!=e&&(r=T(r,e,this.l)),o={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},sv(o,this.i);var a=this.urls;return a?(n=n.nb.split(":").pop(),o.SIZE=r[0]+","+r[1],o.BBOX=i.join(","),o.BBOXSR=n,o.IMAGESR=n,o.DPI=Math.round(o.DPI?o.DPI*e:90*e),t=(1==a.length?a[0]:a[S((t[1]<<t[0])+t[2],a.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),t=dy(t,o)):t=void 0,t}},Ty.prototype.A=function(t){sv(this.i,t),Jd(this,Ay(this))},u(Ey,$d),Ey.prototype.Pc=function(t,e,n){var o=this.Tb(t,e,n);if(this.a.b.hasOwnProperty(o))return this.a.get(o);var i=A(this.tileGrid.eb(t));return t=[t,e,n],e=(e=Qd(this,t))?Qd(this,e).toString():"",i=new Ly(t,i,e),this.a.set(o,i),i},u(Ly,zl),Ly.prototype.Y=function(){if(this.g)return this.g;var t=this.c,e=Te(t[0],t[1]);return e.strokeStyle="black",e.strokeRect(.5,.5,t[0]+.5,t[1]+.5),e.fillStyle="black",e.textAlign="center",e.textBaseline="middle",e.font="24px sans-serif",e.fillText(this.Fa,t[0]/2,t[1]/2),this.g=e.canvas},Ly.prototype.load=function(){},u(Iy,ny),tv=Iy.prototype,tv.qo=function(t){if(t=t.target,!t.status||200<=t.status&&300>t.status){var e;try{e=JSON.parse(t.responseText)}catch(t){return void this.Ue()}this.Ci(e)}else this.Ue()},tv.po=function(){this.Ue()},tv.kl=function(){return this.i},tv.Ci=function(t){var e,n=Ct("EPSG:4326"),o=this.c;if(t.bounds){var i=At(n,o);e=rt(t.bounds,i)}var r=t.minzoom||0,i=t.maxzoom||22;if(this.tileGrid=o=Wt({extent:Ht(o),maxZoom:i,minZoom:r}),this.tileUrlFunction=Gd(t.tiles,o),void 0!==t.attribution&&!this.j){n=void 0!==e?e:n.D(),e={};for(var a;r<=i;++r)a=r.toString(),e[a]=[Bt(o,n,r)];this.ua([new qt({html:t.attribution,tileRanges:e})])}this.i=t,Zc(this,"ready")},tv.Ue=function(){Zc(this,"error")},u(Ny,$d),tv=Ny.prototype,tv.uo=function(t){if(t=t.target,!t.status||200<=t.status&&300>t.status){var e;try{e=JSON.parse(t.responseText)}catch(t){return void this.Ve()}this.jg(e)}else this.Ve()},tv.to=function(){this.Ve()},tv.hl=function(){return this.f},tv.vk=function(t,e,n,o,i){this.tileGrid?(e=this.tileGrid.Ae(t,e),ky(this.Pc(e[0],e[1],e[2],1,this.c),t,n,o,i)):!0===i?setTimeout(function(){n.call(o,null)},0):n.call(o,null)},tv.Ve=function(){Zc(this,"error")},tv.jg=function(t){var e,n=Ct("EPSG:4326"),o=this.c;if(t.bounds){var i=At(n,o);e=rt(t.bounds,i)}var r=t.minzoom||0,i=t.maxzoom||22;this.tileGrid=o=Wt({extent:Ht(o),maxZoom:i,minZoom:r}),this.f=t.template;var a=t.grids;if(a){if(this.o=Gd(a,o),void 0!==t.attribution){for(n=void 0!==e?e:n.D(),e={};r<=i;++r)a=r.toString(),e[a]=[Bt(o,n,r)];this.ua([new qt({html:t.attribution,tileRanges:e})])}Zc(this,"ready")}else Zc(this,"error")},tv.Pc=function(t,e,n,o,i){var r=this.Tb(t,e,n);return this.a.b.hasOwnProperty(r)?this.a.get(r):(t=[t,e,n],e=Qd(this,t,i),o=this.o(e,o,i),o=new Oy(t,void 0!==o?0:4,void 0!==o?o:"",this.tileGrid.Ua(t),this.u,this.i),this.a.set(r,o),o)},tv.Mg=function(t,e,n){t=this.Tb(t,e,n),this.a.b.hasOwnProperty(t)&&this.a.get(t)},u(Oy,zl),tv=Oy.prototype,tv.Y=function(){return null},tv.getData=function(t){if(!this.f||!this.l)return null;var e=this.f[Math.floor((1-(t[1]-this.g[1])/(this.g[3]-this.g[1]))*this.f.length)];return"string"!=typeof e?null:(e=e.charCodeAt(Math.floor((t[0]-this.g[0])/(this.g[2]-this.g[0])*e.length)),93<=e&&e--,35<=e&&e--,e-=32,t=null,e in this.l&&(e=this.l[e],t=this.c&&e in this.c?this.c[e]:e),t)},tv.hb=function(){return this.o},tv.Ce=function(){this.state=3,this.s()},tv.Di=function(t){this.f=t.grid,this.l=t.keys,this.c=t.data,this.state=4,this.s()},tv.so=function(t){if(t=t.target,!t.status||200<=t.status&&300>t.status){var e;try{e=JSON.parse(t.responseText)}catch(t){return void this.Ce()}this.Di(e)}else this.Ce()},tv.ro=function(){this.Ce()},tv.load=function(){this.v&&Ry(this)},u(Dy,ny),tv=Dy.prototype,tv.vo=function(t,e,n,o){n=Ct(n);var i=this.tileGrid;if(i||(i=this.Jb(n)),e=i.Ae(t,e),!(i.b.length<=e[0])){var r=i.La(e[0]),a=i.Ua(e,this.ea),i=A(i.eb(e[0]),this.l),s=this.v;return s&&(i=M(i,s,this.l),a=L(a,r*s,a)),s={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.i.LAYERS},sv(s,this.i,o),o=Math.floor((a[3]-t[1])/r),s[this.o?"I":"X"]=Math.floor((t[0]-a[0])/r),s[this.o?"J":"Y"]=o,Fy(this,e,i,a,1,n,s)}},tv.Sf=function(){return this.v},tv.Tb=function(t,e,n){return this.I+ny.prototype.Tb.call(this,t,e,n)},tv.wo=function(){return this.i},tv.pb=function(t){return this.T&&void 0!==this.A?t:1},tv.Hc=function(t,e,n){var o=this.tileGrid;if(o||(o=this.Jb(n)),!(o.b.length<=t[0])){1==e||this.T&&void 0!==this.A||(e=1);var i=o.La(t[0]),r=o.Ua(t,this.ea),o=A(o.eb(t[0]),this.l),a=this.v;return a&&(o=M(o,a,this.l),r=L(r,i*a,r)),1!=e&&(o=T(o,e,this.l)),i={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},sv(i,this.i),Fy(this,t,o,r,e,n,i)}},tv.cb=function(t){ny.prototype.cb.call(this,t),jy(this)},tv.xo=function(t){sv(this.i,t),jy(this),By(this),Jd(this,Ky(this))},u(Xy,zl),tv=Xy.prototype,tv.Y=function(){return-1==this.g.Fg?null:this.c.canvas},tv.Gm=function(){return this.l},tv.hb=function(){return this.o},tv.load=function(){0==this.state&&(this.state=1,this.s(),this.v(this,this.o),this.u(null,NaN,null))},tv.Qo=function(t,e){this.dg(e),this.hj(t)},tv.Po=function(){this.state=3,this.s()},tv.hj=function(t){this.f=t,this.state=2,this.s()},tv.dg=function(t){this.j=t},tv.mj=function(t){this.u=t},u(Yy,ey),Yy.prototype.Pc=function(t,e,n,o,i){var r=this.Tb(t,e,n);return this.a.b.hasOwnProperty(r)?this.a.get(r):(t=[t,e,n],o=(e=Qd(this,t,i))?this.tileUrlFunction(e,o,i):void 0,o=new this.tileClass(t,void 0!==o?0:4,void 0!==o?o:"",this.i,this.tileLoadFunction),ne(o,"change",this.Fi,this),this.a.set(r,o),o)},Yy.prototype.pb=function(t){return void 0==t?ey.prototype.pb.call(this,t):t},Yy.prototype.Vd=function(t,e){var n=A(this.tileGrid.eb(t));return[Math.round(n[0]*e),Math.round(n[1]*e)]},u(Gy,Dt),Gy.prototype.o=function(){return this.l},u(zy,ny),tv=zy.prototype,tv.Ik=function(){return this.i},tv.yo=function(){return this.v},tv.zo=function(){return this.A},tv.Vk=function(){return this.o},tv.fl=function(){return this.T},tv.Ao=function(){return this.I},tv.ml=function(){return this.ea},tv.jq=function(t){sv(this.i,t),Jd(this,Hy(this))},u(qy,ny),u(Vy,ql),Vy.prototype.Y=function(){if(this.g)return this.g;var t=ql.prototype.Y.call(this);if(2==this.state){if(256==t.width&&256==t.height)return this.g=t;var e=Te(256,256);return e.drawImage(t,0,0),this.g=e.canvas}return t};var iw="default",rw="truncated";$y.prototype.get=function(t){return this.c[t]||null},$y.prototype.add=function(t,e,n,o,i){var r,a,s;for(a=0,s=this.a.length;a<s;++a)if(r=this.a[a],r.width>=e+this.b&&r.height>=n+this.b)return s={offsetX:r.x+this.b,offsetY:r.y+this.b,image:this.i},this.c[t]=s,o.call(i,this.g,r.x+this.b,r.y+this.b),t=a,e+=this.b,o=n+this.b,r.width-e>r.height-o?(n={x:r.x+e,y:r.y,width:r.width-e,height:r.height},e={x:r.x,y:r.y+o,width:e,height:r.height-o},Zy(this,t,n,e)):(n={x:r.x+e,y:r.y,width:r.width-e,height:o},e={x:r.x,y:r.y+o,width:r.width,height:r.height-o},Zy(this,t,n,e)),s;return null},Jy.prototype.add=function(t,e,n,o,i,r){return e+this.b>this.g||n+this.b>this.g?null:(o=Qy(this,!1,t,e,n,o,r))?(t=Qy(this,!0,t,e,n,i?i:l,r),{offsetX:o.offsetX,offsetY:o.offsetY,image:o.image,Ul:t.image}):null},f.prototype.code=f.prototype.code,t("ol.Attribution",qt),qt.prototype.getHTML=qt.prototype.g,t("ol.Collection",me),me.prototype.clear=me.prototype.clear,me.prototype.extend=me.prototype.ag,me.prototype.forEach=me.prototype.forEach,me.prototype.getArray=me.prototype.pm,me.prototype.item=me.prototype.item,me.prototype.getLength=me.prototype.fc,me.prototype.insertAt=me.prototype.Ge,me.prototype.pop=me.prototype.pop,me.prototype.push=me.prototype.push,me.prototype.remove=me.prototype.remove,me.prototype.removeAt=me.prototype.Bg,me.prototype.setAt=me.prototype.Mp,_e.prototype.element=_e.prototype.element,t("ol.color.asArray",we),t("ol.color.asString",Pe),t("ol.colorlike.asColorLike",Ce),t("ol.control.defaults",Xe),t("ol.coordinate.add",Un),t("ol.coordinate.createStringXY",function(t){return function(e){return Jn(e,t)}}),t("ol.coordinate.format",Wn),t("ol.coordinate.rotate",Hn),t("ol.coordinate.toStringHDMS",function(t,e){return t?Gn(t[1],"NS",e)+" "+Gn(t[0],"EW",e):""}),t("ol.coordinate.toStringXY",Jn),t("ol.DeviceOrientation",Os),Os.prototype.getAlpha=Os.prototype.Bk,Os.prototype.getBeta=Os.prototype.Ek,Os.prototype.getGamma=Os.prototype.Kk,Os.prototype.getHeading=Os.prototype.qm,Os.prototype.getTracking=Os.prototype.Mh,Os.prototype.setTracking=Os.prototype.bg,t("ol.easing.easeIn",ke),t("ol.easing.easeOut",Re),t("ol.easing.inAndOut",De),t("ol.easing.linear",Fe),t("ol.easing.upAndDown",function(t){return.5>t?De(2*t):1-De(2*(t-.5))}),t("ol.extent.boundingExtent",E),t("ol.extent.buffer",L),t("ol.extent.containsCoordinate",O),t("ol.extent.containsExtent",k),t("ol.extent.containsXY",R),t("ol.extent.createEmpty",F),t("ol.extent.equals",X),t("ol.extent.extend",U),t("ol.extent.getBottomLeft",H),t("ol.extent.getBottomRight",q),t("ol.extent.getCenter",V),t("ol.extent.getHeight",Z),t("ol.extent.getIntersection",J),t("ol.extent.getSize",function(t){return[t[2]-t[0],t[3]-t[1]]}),t("ol.extent.getTopLeft",Q),t("ol.extent.getTopRight",tt),t("ol.extent.getWidth",et),t("ol.extent.intersects",nt),t("ol.extent.isEmpty",ot),t("ol.extent.applyTransform",rt),t("ol.Feature",Gs),Gs.prototype.clone=Gs.prototype.clone,Gs.prototype.getGeometry=Gs.prototype.U,Gs.prototype.getId=Gs.prototype.sm,Gs.prototype.getGeometryName=Gs.prototype.Mk,Gs.prototype.getStyle=Gs.prototype.tm,Gs.prototype.getStyleFunction=Gs.prototype.Rc,Gs.prototype.setGeometry=Gs.prototype.Ta,Gs.prototype.setStyle=Gs.prototype.cg,Gs.prototype.setId=Gs.prototype.lc,Gs.prototype.setGeometryName=Gs.prototype.Yc,t("ol.featureloader.xhr",fp),t("ol.Geolocation",kl),kl.prototype.getAccuracy=kl.prototype.zk,kl.prototype.getAccuracyGeometry=kl.prototype.Ak,kl.prototype.getAltitude=kl.prototype.Ck,kl.prototype.getAltitudeAccuracy=kl.prototype.Dk,kl.prototype.getHeading=kl.prototype.um,kl.prototype.getPosition=kl.prototype.vm,kl.prototype.getProjection=kl.prototype.Nh,kl.prototype.getSpeed=kl.prototype.gl,kl.prototype.getTracking=kl.prototype.Oh,kl.prototype.getTrackingOptions=kl.prototype.zh,kl.prototype.setProjection=kl.prototype.Ph,kl.prototype.setTracking=kl.prototype.Je,kl.prototype.setTrackingOptions=kl.prototype.sj,t("ol.Graticule",Bl),Bl.prototype.getMap=Bl.prototype.ym,Bl.prototype.getMeridians=Bl.prototype.Wk,Bl.prototype.getParallels=Bl.prototype.cl,Bl.prototype.setMap=Bl.prototype.setMap,t("ol.has.DEVICE_PIXEL_RATIO",Kv),t("ol.has.CANVAS",Xv),t("ol.has.DEVICE_ORIENTATION",Uv),t("ol.has.GEOLOCATION",Yv),t("ol.has.TOUCH",Gv),t("ol.has.WEBGL",Iv),Gl.prototype.getImage=Gl.prototype.Y,Gl.prototype.load=Gl.prototype.load,ql.prototype.getImage=ql.prototype.Y,t("ol.inherits",u),t("ol.interaction.defaults",Qi),t("ol.Kinetic",ei),t("ol.loadingstrategy.all",qc),t("ol.loadingstrategy.bbox",function(t){return[t]}),t("ol.loadingstrategy.tile",function(t){return function(e,n){var o=t.Qc(n),i=Bt(t,e,o),r=[],o=[o,0,0];for(o[1]=i.da;o[1]<=i.ba;++o[1])for(o[2]=i.ga;o[2]<=i.ja;++o[2])r.push(t.Ua(o));return r}}),t("ol.Map",ds),ds.prototype.addControl=ds.prototype.gk,ds.prototype.addInteraction=ds.prototype.hk,ds.prototype.addLayer=ds.prototype.$g,ds.prototype.addOverlay=ds.prototype.ah,ds.prototype.forEachFeatureAtPixel=ds.prototype.we,ds.prototype.forEachLayerAtPixel=ds.prototype.Em,ds.prototype.hasFeatureAtPixel=ds.prototype.Tl,ds.prototype.getEventCoordinate=ds.prototype.Of,ds.prototype.getEventPixel=ds.prototype.xe,ds.prototype.getTarget=ds.prototype.Wf,ds.prototype.getTargetElement=ds.prototype.vc,ds.prototype.getCoordinateFromPixel=ds.prototype.Xa,ds.prototype.getControls=ds.prototype.Hk,ds.prototype.getOverlays=ds.prototype.al,ds.prototype.getOverlayById=ds.prototype.$k,ds.prototype.getInteractions=ds.prototype.Nk,ds.prototype.getLayerGroup=ds.prototype.Mc,ds.prototype.getLayers=ds.prototype.Qh,ds.prototype.getPixelFromCoordinate=ds.prototype.Ka,ds.prototype.getSize=ds.prototype.Nb,ds.prototype.getView=ds.prototype.$,ds.prototype.getViewport=ds.prototype.nl,ds.prototype.renderSync=ds.prototype.Jp,ds.prototype.render=ds.prototype.render,ds.prototype.removeControl=ds.prototype.Cp,ds.prototype.removeInteraction=ds.prototype.Dp,ds.prototype.removeLayer=ds.prototype.Fp,ds.prototype.removeOverlay=ds.prototype.Gp,ds.prototype.setLayerGroup=ds.prototype.lj,ds.prototype.setSize=ds.prototype.Ig,ds.prototype.setTarget=ds.prototype.Ke,ds.prototype.setView=ds.prototype.Yp,ds.prototype.updateSize=ds.prototype.Cd,$e.prototype.originalEvent=$e.prototype.originalEvent,$e.prototype.pixel=$e.prototype.pixel,$e.prototype.coordinate=$e.prototype.coordinate,$e.prototype.dragging=$e.prototype.dragging,Ve.prototype.map=Ve.prototype.map,Ve.prototype.frameState=Ve.prototype.frameState,t("ol.Object",de),de.prototype.get=de.prototype.get,de.prototype.getKeys=de.prototype.P,de.prototype.getProperties=de.prototype.M,de.prototype.set=de.prototype.set,de.prototype.setProperties=de.prototype.H,de.prototype.unset=de.prototype.R,ge.prototype.key=ge.prototype.key,ge.prototype.oldValue=ge.prototype.oldValue,t("ol.Observable",fe),t("ol.Observable.unByKey",function(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)re(t[e]);else re(t)}),fe.prototype.changed=fe.prototype.s,fe.prototype.dispatchEvent=fe.prototype.b,fe.prototype.getRevision=fe.prototype.L,fe.prototype.on=fe.prototype.J,fe.prototype.once=fe.prototype.once,fe.prototype.un=fe.prototype.K,t("ol.Overlay",vs),vs.prototype.getElement=vs.prototype.Rd,vs.prototype.getId=vs.prototype.Fm,vs.prototype.getMap=vs.prototype.Le,vs.prototype.getOffset=vs.prototype.wh,vs.prototype.getPosition=vs.prototype.Rh,vs.prototype.getPositioning=vs.prototype.xh,vs.prototype.setElement=vs.prototype.gj,vs.prototype.setMap=vs.prototype.setMap,vs.prototype.setOffset=vs.prototype.nj,vs.prototype.setPosition=vs.prototype.Me,vs.prototype.setPositioning=vs.prototype.qj,t("ol.proj.METERS_PER_UNIT",hv),t("ol.proj.setProj4",function(t){uv=t}),t("ol.proj.getPointResolution",gt),t("ol.proj.addEquivalentProjections",mt),t("ol.proj.addProjection",xt),t("ol.proj.addCoordinateTransforms",Pt),t("ol.proj.fromLonLat",function(t,e){return It(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}),t("ol.proj.toLonLat",function(t,e){return It(t,void 0!==e?e:"EPSG:3857","EPSG:4326")}),t("ol.proj.get",Ct),t("ol.proj.equivalent",Mt),t("ol.proj.getTransform",Tt),t("ol.proj.transform",It),t("ol.proj.transformExtent",Nt),t("ol.render.toContext",function(t,e){var n=t.canvas,o=e?e:{},i=o.pixelRatio||Kv;return(o=o.size)&&(n.width=o[0]*i,n.height=o[1]*i,n.style.width=o[0]+"px",n.style.height=o[1]+"px"),n=[0,0,n.width,n.height],o=fr(ar(),i,i),new Mr(t,i,n,o,0)}),t("ol.size.toSize",A),t("ol.Sphere",ht),ht.prototype.geodesicArea=ht.prototype.a,ht.prototype.haversineDistance=ht.prototype.b,zl.prototype.getTileCoord=zl.prototype.i,zl.prototype.load=zl.prototype.load,t("ol.tilegrid.createXYZ",Wt),Xy.prototype.getFormat=Xy.prototype.Gm,Xy.prototype.setFeatures=Xy.prototype.hj;Xy.prototype.setProjection=Xy.prototype.dg;Xy.prototype.setLoader=Xy.prototype.mj,t("ol.View",Yo),Yo.prototype.animate=Yo.prototype.animate,Yo.prototype.getAnimating=Yo.prototype.Kc,Yo.prototype.cancelAnimations=Yo.prototype.kd,Yo.prototype.constrainCenter=Yo.prototype.Gc,Yo.prototype.constrainResolution=Yo.prototype.constrainResolution,Yo.prototype.constrainRotation=Yo.prototype.constrainRotation,Yo.prototype.getCenter=Yo.prototype.za,Yo.prototype.calculateExtent=Yo.prototype.hd,Yo.prototype.getMaxResolution=Yo.prototype.Hm,Yo.prototype.getMinResolution=Yo.prototype.Jm,Yo.prototype.getMaxZoom=Yo.prototype.Im,Yo.prototype.setMaxZoom=Yo.prototype.Up,Yo.prototype.getMinZoom=Yo.prototype.Km,Yo.prototype.setMinZoom=Yo.prototype.Vp,Yo.prototype.getProjection=Yo.prototype.Lm,Yo.prototype.getResolution=Yo.prototype.Ra,Yo.prototype.getResolutions=Yo.prototype.Mm,Yo.prototype.getRotation=Yo.prototype.Sa,Yo.prototype.getZoom=Yo.prototype.Ah,Yo.prototype.getZoomForResolution=Yo.prototype.Be,Yo.prototype.fit=Yo.prototype.Mf,Yo.prototype.centerOn=Yo.prototype.qk,Yo.prototype.rotate=Yo.prototype.rotate,Yo.prototype.setCenter=Yo.prototype.lb,Yo.prototype.setResolution=Yo.prototype.$c,Yo.prototype.setRotation=Yo.prototype.Ne,Yo.prototype.setZoom=Yo.prototype.aq,t("ol.xml.getAllTextContent",Hs),t("ol.xml.parse",Zs),Qr.prototype.getGL=Qr.prototype.Mo,Qr.prototype.useProgram=Qr.prototype.Vc,t("ol.tilegrid.TileGrid",Dt),Dt.prototype.forEachTileCoord=Dt.prototype.mh,Dt.prototype.getMaxZoom=Dt.prototype.Ni,Dt.prototype.getMinZoom=Dt.prototype.Oi,Dt.prototype.getOrigin=Dt.prototype.Uc,Dt.prototype.getResolution=Dt.prototype.La,Dt.prototype.getResolutions=Dt.prototype.Pi,Dt.prototype.getTileCoordExtent=Dt.prototype.Ua,Dt.prototype.getTileCoordForCoordAndResolution=Dt.prototype.Ae,Dt.prototype.getTileCoordForCoordAndZ=Dt.prototype.Xf,Dt.prototype.getTileSize=Dt.prototype.eb,Dt.prototype.getZForResolution=Dt.prototype.Qc,t("ol.tilegrid.WMTS",Gy),Gy.prototype.getMatrixIds=Gy.prototype.o,t("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",Wy),t("ol.style.AtlasManager",Jy),t("ol.style.Circle",Fs),Fs.prototype.setRadius=Fs.prototype.Zc,t("ol.style.Fill",js),js.prototype.clone=js.prototype.clone,js.prototype.getColor=js.prototype.g,js.prototype.setColor=js.prototype.c,t("ol.style.Icon",Qh),Qh.prototype.clone=Qh.prototype.clone,Qh.prototype.getAnchor=Qh.prototype.Jc,Qh.prototype.getColor=Qh.prototype.Bo,Qh.prototype.getImage=Qh.prototype.Y,Qh.prototype.getOrigin=Qh.prototype.Tc,Qh.prototype.getSrc=Qh.prototype.Co,Qh.prototype.getSize=Qh.prototype.kc,Qh.prototype.load=Qh.prototype.load,t("ol.style.Image",ks),ks.prototype.getOpacity=ks.prototype.Ye,ks.prototype.getRotateWithView=ks.prototype.Ze,ks.prototype.getRotation=ks.prototype.$e,ks.prototype.getScale=ks.prototype.af,ks.prototype.getSnapToPixel=ks.prototype.ze,ks.prototype.setOpacity=ks.prototype.vd,ks.prototype.setRotation=ks.prototype.bf,ks.prototype.setScale=ks.prototype.wd,t("ol.style.RegularShape",Rs),Rs.prototype.clone=Rs.prototype.clone,Rs.prototype.getAnchor=Rs.prototype.Jc,Rs.prototype.getAngle=Rs.prototype.Ji,Rs.prototype.getFill=Rs.prototype.Ca,Rs.prototype.getImage=Rs.prototype.Y,Rs.prototype.getOrigin=Rs.prototype.Tc,Rs.prototype.getPoints=Rs.prototype.Ki,Rs.prototype.getRadius=Rs.prototype.Li,Rs.prototype.getRadius2=Rs.prototype.yh,Rs.prototype.getSize=Rs.prototype.kc,Rs.prototype.getStroke=Rs.prototype.Da,t("ol.style.Stroke",Ca),Ca.prototype.clone=Ca.prototype.clone,Ca.prototype.getColor=Ca.prototype.Do,Ca.prototype.getLineCap=Ca.prototype.Qk,Ca.prototype.getLineDash=Ca.prototype.Eo,Ca.prototype.getLineDashOffset=Ca.prototype.Rk,Ca.prototype.getLineJoin=Ca.prototype.Sk,Ca.prototype.getMiterLimit=Ca.prototype.Xk,Ca.prototype.getWidth=Ca.prototype.Fo,Ca.prototype.setColor=Ca.prototype.Go,Ca.prototype.setLineCap=Ca.prototype.Rp,Ca.prototype.setLineDash=Ca.prototype.setLineDash,Ca.prototype.setLineDashOffset=Ca.prototype.Sp,Ca.prototype.setLineJoin=Ca.prototype.Tp,Ca.prototype.setMiterLimit=Ca.prototype.Wp,Ca.prototype.setWidth=Ca.prototype.Zp,t("ol.style.Style",Ks),Ks.prototype.clone=Ks.prototype.clone,Ks.prototype.getGeometry=Ks.prototype.U,Ks.prototype.getGeometryFunction=Ks.prototype.Lk,Ks.prototype.getFill=Ks.prototype.Ca,Ks.prototype.setFill=Ks.prototype.mf,Ks.prototype.getImage=Ks.prototype.Y,Ks.prototype.setImage=Ks.prototype.Hg,Ks.prototype.getStroke=Ks.prototype.Da,Ks.prototype.setStroke=Ks.prototype.nf,Ks.prototype.getText=Ks.prototype.Oa,Ks.prototype.setText=Ks.prototype.pf,Ks.prototype.getZIndex=Ks.prototype.Aa,Ks.prototype.setGeometry=Ks.prototype.Ta,Ks.prototype.setZIndex=Ks.prototype.Xb,t("ol.style.Text",tu),tu.prototype.clone=tu.prototype.clone,tu.prototype.getFont=tu.prototype.Jk,tu.prototype.getOffsetX=tu.prototype.Yk,tu.prototype.getOffsetY=tu.prototype.Zk,tu.prototype.getFill=tu.prototype.Ca,tu.prototype.getRotateWithView=tu.prototype.Ho,tu.prototype.getRotation=tu.prototype.Io,tu.prototype.getScale=tu.prototype.Jo,tu.prototype.getStroke=tu.prototype.Da,tu.prototype.getText=tu.prototype.Oa,tu.prototype.getTextAlign=tu.prototype.il,tu.prototype.getTextBaseline=tu.prototype.jl,tu.prototype.setFont=tu.prototype.ij,tu.prototype.setOffsetX=tu.prototype.oj,tu.prototype.setOffsetY=tu.prototype.pj,tu.prototype.setFill=tu.prototype.mf,tu.prototype.setRotation=tu.prototype.Ko,tu.prototype.setScale=tu.prototype.Mi,tu.prototype.setStroke=tu.prototype.nf,tu.prototype.setText=tu.prototype.pf,tu.prototype.setTextAlign=tu.prototype.rj,tu.prototype.setTextBaseline=tu.prototype.Xp,t("ol.source.BingMaps",ay),t("ol.source.BingMaps.TOS_ATTRIBUTION",V_),ay.prototype.getApiKey=ay.prototype.T,ay.prototype.getImagerySet=ay.prototype.ea,t("ol.source.CartoDB",py),py.prototype.getConfig=py.prototype.Gk,py.prototype.updateConfig=py.prototype.iq,py.prototype.setConfig=py.prototype.Np,t("ol.source.Cluster",ly),ly.prototype.getDistance=ly.prototype.Qn,ly.prototype.getSource=ly.prototype.Rn,ly.prototype.setDistance=ly.prototype.Op,t("ol.source.Image",xd),Pd.prototype.image=Pd.prototype.image,t("ol.source.ImageArcGISRest",yy),yy.prototype.getParams=yy.prototype.Tn,yy.prototype.getImageLoadFunction=yy.prototype.Sn,yy.prototype.getUrl=yy.prototype.Un,yy.prototype.setImageLoadFunction=yy.prototype.Vn,yy.prototype.setUrl=yy.prototype.Wn,yy.prototype.updateParams=yy.prototype.Xn,t("ol.source.ImageCanvas",Sd),t("ol.source.ImageMapGuide",vy),vy.prototype.getParams=vy.prototype.Zn,vy.prototype.getImageLoadFunction=vy.prototype.Yn,vy.prototype.updateParams=vy.prototype.ao,vy.prototype.setImageLoadFunction=vy.prototype.$n,t("ol.source.ImageStatic",gy),t("ol.source.ImageVector",Cd),Cd.prototype.getSource=Cd.prototype.bo,Cd.prototype.getStyle=Cd.prototype.co,Cd.prototype.getStyleFunction=Cd.prototype.eo,Cd.prototype.setStyle=Cd.prototype.Bi,t("ol.source.ImageWMS",my),my.prototype.getGetFeatureInfoUrl=my.prototype.io,my.prototype.getParams=my.prototype.ko,my.prototype.getImageLoadFunction=my.prototype.jo,my.prototype.getUrl=my.prototype.lo,my.prototype.setImageLoadFunction=my.prototype.mo,my.prototype.setUrl=my.prototype.no,my.prototype.updateParams=my.prototype.oo,t("ol.source.OSM",_y),t("ol.source.OSM.ATTRIBUTION",Z_),t("ol.source.Raster",wy),wy.prototype.setOperation=wy.prototype.u,Cy.prototype.extent=Cy.prototype.extent,Cy.prototype.resolution=Cy.prototype.resolution,Cy.prototype.data=Cy.prototype.data,t("ol.source.Source",Vc),Vc.prototype.getAttributions=Vc.prototype.xa,Vc.prototype.getLogo=Vc.prototype.wa,Vc.prototype.getProjection=Vc.prototype.ya,Vc.prototype.getState=Vc.prototype.V,Vc.prototype.refresh=Vc.prototype.va,Vc.prototype.setAttributions=Vc.prototype.ua,t("ol.source.Stamen",My),t("ol.source.Tile",$d),$d.prototype.getTileGrid=$d.prototype.ab,ty.prototype.tile=ty.prototype.tile,t("ol.source.TileArcGISRest",Ty),Ty.prototype.getParams=Ty.prototype.v;Ty.prototype.updateParams=Ty.prototype.A;t("ol.source.TileDebug",Ey),t("ol.source.TileImage",ny),ny.prototype.setRenderReprojectionEdges=ny.prototype.Ob,ny.prototype.setTileGridForProjection=ny.prototype.Pb,t("ol.source.TileJSON",Iy),Iy.prototype.getTileJSON=Iy.prototype.kl,t("ol.source.TileUTFGrid",Ny),Ny.prototype.getTemplate=Ny.prototype.hl,Ny.prototype.forDataAtCoordinateAndResolution=Ny.prototype.vk,t("ol.source.TileWMS",Dy),Dy.prototype.getGetFeatureInfoUrl=Dy.prototype.vo,Dy.prototype.getParams=Dy.prototype.wo,Dy.prototype.updateParams=Dy.prototype.xo,ey.prototype.getTileLoadFunction=ey.prototype.ob,ey.prototype.getTileUrlFunction=ey.prototype.qb,ey.prototype.getUrls=ey.prototype.rb,ey.prototype.setTileLoadFunction=ey.prototype.wb,ey.prototype.setTileUrlFunction=ey.prototype.bb,ey.prototype.setUrl=ey.prototype.ib,ey.prototype.setUrls=ey.prototype.cb,t("ol.source.Vector",Jc),Jc.prototype.addFeature=Jc.prototype.zb,Jc.prototype.addFeatures=Jc.prototype.gd,Jc.prototype.clear=Jc.prototype.clear,Jc.prototype.forEachFeature=Jc.prototype.kh,Jc.prototype.forEachFeatureInExtent=Jc.prototype.bc,Jc.prototype.forEachFeatureIntersectingExtent=Jc.prototype.lh,Jc.prototype.getFeaturesCollection=Jc.prototype.th,Jc.prototype.getFeatures=Jc.prototype.We,Jc.prototype.getFeaturesAtCoordinate=Jc.prototype.sh,Jc.prototype.getFeaturesInExtent=Jc.prototype.Pf,Jc.prototype.getClosestFeatureToCoordinate=Jc.prototype.oh,Jc.prototype.getExtent=Jc.prototype.D,Jc.prototype.getFeatureById=Jc.prototype.rh,Jc.prototype.getFormat=Jc.prototype.Gi,Jc.prototype.getUrl=Jc.prototype.Hi,Jc.prototype.removeFeature=Jc.prototype.Db,af.prototype.feature=af.prototype.feature,t("ol.source.VectorTile",Yy),t("ol.source.WMTS",zy),zy.prototype.getDimensions=zy.prototype.Ik,zy.prototype.getFormat=zy.prototype.yo,zy.prototype.getLayer=zy.prototype.zo,zy.prototype.getMatrixSet=zy.prototype.Vk,zy.prototype.getRequestEncoding=zy.prototype.fl,zy.prototype.getStyle=zy.prototype.Ao,zy.prototype.getVersion=zy.prototype.ml,zy.prototype.updateDimensions=zy.prototype.jq,t("ol.source.WMTS.optionsFromCapabilities",function(t,e){var o=r(t.Contents.Layer,function(t){return t.Identifier==e.layer});if(null===o)return null;var i,a,s,h=t.Contents.TileMatrixSet;i=1<o.TileMatrixSetLink.length?"projection"in e?p(o.TileMatrixSetLink,function(t){var n=r(h,function(e){return e.Identifier==t.TileMatrixSet}).SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"),o=Ct(n),i=Ct(e.projection);return o&&i?Mt(o,i):n==e.projection}):p(o.TileMatrixSetLink,function(t){return t.TileMatrixSet==e.matrixSet}):0,0>i&&(i=0),a=o.TileMatrixSetLink[i].TileMatrixSet,s=o.TileMatrixSetLink[i].TileMatrixSetLimits;var u=o.Format[0];"format"in e&&(u=e.format),i=p(o.Style,function(t){return"style"in e?t.Title==e.style:t.isDefault}),0>i&&(i=0),i=o.Style[i].Identifier;var l={};"Dimension"in o&&o.Dimension.forEach(function(t){var e=t.Identifier,n=t.Default;void 0===n&&(n=t.Value[0]),l[e]=n});var c,f=r(t.Contents.TileMatrixSet,function(t){return t.Identifier==a});c=Ct("projection"in e?e.projection:f.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var d,y,v=o.WGS84BoundingBox;void 0!==v&&(y=Ct("EPSG:4326").D(),y=v[0]==y[0]&&v[2]==y[2],d=Nt(v,"EPSG:4326",c),(v=c.D())&&(k(v,d)||(d=void 0))),s=Wy(f,d,s);var g=[],f=e.requestEncoding,f=void 0!==f?f:"";if("OperationsMetadata"in t&&"GetTile"in t.OperationsMetadata){d=t.OperationsMetadata.GetTile.DCP.HTTP.Get;for(var v=0,m=d.length;v<m;++v){var b=r(d[v].Constraint,function(t){return"GetEncoding"==t.name}).AllowedValues.Value;if(""===f&&(f=b[0]),"KVP"!==f)break;n(b,"KVP")&&g.push(d[v].href)}}return g.length||(f="REST",o.ResourceURL.forEach(function(t){"tile"===t.resourceType&&(u=t.format,g.push(t.template))})),{urls:g,layer:e.layer,matrixSet:a,format:u,projection:c,requestEncoding:f,tileGrid:s,style:i,dimensions:l,wrapX:y,crossOrigin:e.crossOrigin}}),t("ol.source.XYZ",sy),t("ol.source.Zoomify",qy),Pr.prototype.vectorContext=Pr.prototype.vectorContext,Pr.prototype.frameState=Pr.prototype.frameState,Pr.prototype.context=Pr.prototype.context,Pr.prototype.glContext=Pr.prototype.glContext,Ru.prototype.get=Ru.prototype.get,Ru.prototype.getExtent=Ru.prototype.D,Ru.prototype.getGeometry=Ru.prototype.U,Ru.prototype.getProperties=Ru.prototype.Nn,Ru.prototype.getType=Ru.prototype.S,t("ol.render.VectorContext",Cr),ps.prototype.setStyle=ps.prototype.td,ps.prototype.drawGeometry=ps.prototype.oc,ps.prototype.drawFeature=ps.prototype.te,Mr.prototype.drawCircle=Mr.prototype.ac,Mr.prototype.setStyle=Mr.prototype.td,Mr.prototype.drawGeometry=Mr.prototype.oc,Mr.prototype.drawFeature=Mr.prototype.te,t("ol.proj.common.add",Ot),t("ol.proj.Projection",ut),ut.prototype.getCode=ut.prototype.Fk,ut.prototype.getExtent=ut.prototype.D,ut.prototype.getUnits=ut.prototype.Kb,ut.prototype.getMetersPerUnit=ut.prototype.uc,ut.prototype.getWorldExtent=ut.prototype.ol,ut.prototype.isGlobal=ut.prototype.Zl,ut.prototype.setGlobal=ut.prototype.Qp,ut.prototype.setExtent=ut.prototype.Mn,ut.prototype.setWorldExtent=ut.prototype.$p,ut.prototype.setGetPointResolution=ut.prototype.Pp,t("ol.proj.Units.METERS_PER_UNIT",hv),t("ol.layer.Base",tr),tr.prototype.getExtent=tr.prototype.D,tr.prototype.getMaxResolution=tr.prototype.hc,tr.prototype.getMinResolution=tr.prototype.ic,tr.prototype.getOpacity=tr.prototype.jc,tr.prototype.getVisible=tr.prototype.Lb,tr.prototype.getZIndex=tr.prototype.Aa,tr.prototype.setExtent=tr.prototype.xc,tr.prototype.setMaxResolution=tr.prototype.Cc,tr.prototype.setMinResolution=tr.prototype.Dc,tr.prototype.setOpacity=tr.prototype.yc,tr.prototype.setVisible=tr.prototype.zc,tr.prototype.setZIndex=tr.prototype.Xb,t("ol.layer.Group",nr),nr.prototype.getLayers=nr.prototype.sd,nr.prototype.setLayers=nr.prototype.pi,t("ol.layer.Heatmap",ud),ud.prototype.getBlur=ud.prototype.nh,ud.prototype.getGradient=ud.prototype.uh,ud.prototype.getRadius=ud.prototype.ri,ud.prototype.setBlur=ud.prototype.ej,ud.prototype.setGradient=ud.prototype.kj,ud.prototype.setRadius=ud.prototype.Zc,t("ol.layer.Image",Ld),Ld.prototype.getSource=Ld.prototype.ka,t("ol.layer.Layer",or),or.prototype.getSource=or.prototype.ka,or.prototype.setMap=or.prototype.setMap,or.prototype.setSource=or.prototype.ad,t("ol.layer.Tile",Fd),Fd.prototype.getPreload=Fd.prototype.Sd,Fd.prototype.getSource=Fd.prototype.ka,Fd.prototype.setPreload=Fd.prototype.si,Fd.prototype.getUseInterimTilesOnError=Fd.prototype.Wd,Fd.prototype.setUseInterimTilesOnError=Fd.prototype.ti,t("ol.layer.Vector",Hc),Hc.prototype.getSource=Hc.prototype.ka,Hc.prototype.getStyle=Hc.prototype.C,Hc.prototype.getStyleFunction=Hc.prototype.G,Hc.prototype.setStyle=Hc.prototype.f,t("ol.layer.VectorTile",Bd),Bd.prototype.getPreload=Bd.prototype.Sd,Bd.prototype.getUseInterimTilesOnError=Bd.prototype.Wd,Bd.prototype.setPreload=Bd.prototype.ui,Bd.prototype.setUseInterimTilesOnError=Bd.prototype.vi,t("ol.interaction.DoubleClickZoom",si),t("ol.interaction.DoubleClickZoom.handleEvent",pi),t("ol.interaction.DragAndDrop",$l),t("ol.interaction.DragAndDrop.handleEvent",Qn),Ql.prototype.features=Ql.prototype.features,Ql.prototype.file=Ql.prototype.file,Ql.prototype.projection=Ql.prototype.projection,t("ol.interaction.DragBox",Ni),Ni.prototype.getGeometry=Ni.prototype.U,Fi.prototype.coordinate=Fi.prototype.coordinate,Fi.prototype.mapBrowserEvent=Fi.prototype.mapBrowserEvent,t("ol.interaction.DragPan",_i),t("ol.interaction.DragRotate",Ci),t("ol.interaction.DragRotateAndZoom",tc),t("ol.interaction.DragZoom",ji),t("ol.interaction.Draw",sf),t("ol.interaction.Draw.handleEvent",hf),sf.prototype.removeLastPoint=sf.prototype.Ep,sf.prototype.finishDrawing=sf.prototype.Qd,sf.prototype.extend=sf.prototype.nn,t("ol.interaction.Draw.createRegularPolygon",function(t,e){return function(n,o){var i=n[0],r=n[1],a=Math.sqrt(Vn(i,r)),s=o?o:Xo(new Rl(i),t);return Uo(s,i,a,e?e:Math.atan((r[1]-i[1])/(r[0]-i[0]))),s}}),t("ol.interaction.Draw.createBox",function(){return function(t,e){var n=E(t),o=e||new Fo(null);return o.pa([[H(n),q(n),tt(n),Q(n),H(n)]]),o}}),bf.prototype.feature=bf.prototype.feature,t("ol.interaction.Extent",xf),
xf.prototype.getExtent=xf.prototype.D,xf.prototype.setExtent=xf.prototype.f,If.prototype.extent_=If.prototype.b,t("ol.interaction.Interaction",oi),oi.prototype.getActive=oi.prototype.c,oi.prototype.getMap=oi.prototype.i,oi.prototype.setActive=oi.prototype.Ia,t("ol.interaction.KeyboardPan",Ki),t("ol.interaction.KeyboardPan.handleEvent",Bi),t("ol.interaction.KeyboardZoom",Xi),t("ol.interaction.KeyboardZoom.handleEvent",Ui),t("ol.interaction.Modify",Nf),t("ol.interaction.Modify.handleEvent",Xf),Nf.prototype.removePoint=Nf.prototype.cj,Hf.prototype.features=Hf.prototype.features,Hf.prototype.mapBrowserEvent=Hf.prototype.mapBrowserEvent,t("ol.interaction.MouseWheelZoom",Yi),t("ol.interaction.MouseWheelZoom.handleEvent",Gi),Yi.prototype.setMouseAnchor=Yi.prototype.T,t("ol.interaction.PinchRotate",Wi),t("ol.interaction.PinchZoom",Vi),t("ol.interaction.Pointer",mi),t("ol.interaction.Pointer.handleEvent",xi),t("ol.interaction.Select",qf),qf.prototype.getFeatures=qf.prototype.zn,qf.prototype.getHitTolerance=qf.prototype.An,qf.prototype.getLayer=qf.prototype.Bn,t("ol.interaction.Select.handleEvent",Vf),qf.prototype.setHitTolerance=qf.prototype.Dn,qf.prototype.setMap=qf.prototype.setMap,Zf.prototype.selected=Zf.prototype.selected,Zf.prototype.deselected=Zf.prototype.deselected,Zf.prototype.mapBrowserEvent=Zf.prototype.mapBrowserEvent,t("ol.interaction.Snap",Jf),Jf.prototype.addFeature=Jf.prototype.zb,Jf.prototype.removeFeature=Jf.prototype.Db,t("ol.interaction.Translate",nd),nd.prototype.getHitTolerance=nd.prototype.I,nd.prototype.setHitTolerance=nd.prototype.Z,hd.prototype.features=hd.prototype.features,hd.prototype.coordinate=hd.prototype.coordinate,t("ol.geom.Circle",Rl),Rl.prototype.clone=Rl.prototype.clone,Rl.prototype.getCenter=Rl.prototype.za,Rl.prototype.getRadius=Rl.prototype.Yd,Rl.prototype.getType=Rl.prototype.S,Rl.prototype.intersectsExtent=Rl.prototype.Ya,Rl.prototype.setCenter=Rl.prototype.lb,Rl.prototype.setCenterAndRadius=Rl.prototype.Gg,Rl.prototype.setRadius=Rl.prototype.Zc;Rl.prototype.transform=Rl.prototype.tb;t("ol.geom.Geometry",eo),eo.prototype.getClosestPoint=eo.prototype.Ab,eo.prototype.intersectsCoordinate=eo.prototype.sb,eo.prototype.getExtent=eo.prototype.D,eo.prototype.rotate=eo.prototype.rotate,eo.prototype.scale=eo.prototype.scale,eo.prototype.simplify=eo.prototype.Qb,eo.prototype.transform=eo.prototype.tb,t("ol.geom.GeometryCollection",sh),sh.prototype.clone=sh.prototype.clone,sh.prototype.getGeometries=sh.prototype.Qf,sh.prototype.getType=sh.prototype.S,sh.prototype.intersectsExtent=sh.prototype.Ya,sh.prototype.setGeometries=sh.prototype.jj,sh.prototype.applyTransform=sh.prototype.Fc,sh.prototype.translate=sh.prototype.translate,t("ol.geom.LinearRing",Po),Po.prototype.clone=Po.prototype.clone,Po.prototype.getArea=Po.prototype.jn,Po.prototype.getCoordinates=Po.prototype.W,Po.prototype.getType=Po.prototype.S,Po.prototype.setCoordinates=Po.prototype.pa,t("ol.geom.LineString",Pp),Pp.prototype.appendCoordinate=Pp.prototype.ik,Pp.prototype.clone=Pp.prototype.clone,Pp.prototype.forEachSegment=Pp.prototype.yk,Pp.prototype.getCoordinateAtM=Pp.prototype.gn,Pp.prototype.getCoordinates=Pp.prototype.W,Pp.prototype.getCoordinateAt=Pp.prototype.ph,Pp.prototype.getLength=Pp.prototype.hn,Pp.prototype.getType=Pp.prototype.S,Pp.prototype.intersectsExtent=Pp.prototype.Ya,Pp.prototype.setCoordinates=Pp.prototype.pa,t("ol.geom.MultiLineString",Cp),Cp.prototype.appendLineString=Cp.prototype.jk,Cp.prototype.clone=Cp.prototype.clone,Cp.prototype.getCoordinateAtM=Cp.prototype.kn,Cp.prototype.getCoordinates=Cp.prototype.W,Cp.prototype.getLineString=Cp.prototype.Tk,Cp.prototype.getLineStrings=Cp.prototype.Nc,Cp.prototype.getType=Cp.prototype.S,Cp.prototype.intersectsExtent=Cp.prototype.Ya,Cp.prototype.setCoordinates=Cp.prototype.pa,t("ol.geom.MultiPoint",Ap),Ap.prototype.appendPoint=Ap.prototype.lk,Ap.prototype.clone=Ap.prototype.clone,Ap.prototype.getCoordinates=Ap.prototype.W,Ap.prototype.getPoint=Ap.prototype.dl,Ap.prototype.getPoints=Ap.prototype.Zd,Ap.prototype.getType=Ap.prototype.S,Ap.prototype.intersectsExtent=Ap.prototype.Ya,Ap.prototype.setCoordinates=Ap.prototype.pa,t("ol.geom.MultiPolygon",Ep),Ep.prototype.appendPolygon=Ep.prototype.mk,Ep.prototype.clone=Ep.prototype.clone,Ep.prototype.getArea=Ep.prototype.ln,Ep.prototype.getCoordinates=Ep.prototype.W,Ep.prototype.getInteriorPoints=Ep.prototype.Pk,Ep.prototype.getPolygon=Ep.prototype.el,Ep.prototype.getPolygons=Ep.prototype.md,Ep.prototype.getType=Ep.prototype.S,Ep.prototype.intersectsExtent=Ep.prototype.Ya,Ep.prototype.setCoordinates=Ep.prototype.pa,t("ol.geom.Point",Co),Co.prototype.clone=Co.prototype.clone,Co.prototype.getCoordinates=Co.prototype.W,Co.prototype.getType=Co.prototype.S,Co.prototype.intersectsExtent=Co.prototype.Ya,Co.prototype.setCoordinates=Co.prototype.pa,t("ol.geom.Polygon",Fo),Fo.prototype.appendLinearRing=Fo.prototype.kk,Fo.prototype.clone=Fo.prototype.clone,Fo.prototype.getArea=Fo.prototype.mn,Fo.prototype.getCoordinates=Fo.prototype.W,Fo.prototype.getInteriorPoint=Fo.prototype.Ok,Fo.prototype.getLinearRingCount=Fo.prototype.Uk,Fo.prototype.getLinearRing=Fo.prototype.vh,Fo.prototype.getLinearRings=Fo.prototype.Oc,Fo.prototype.getType=Fo.prototype.S,Fo.prototype.intersectsExtent=Fo.prototype.Ya,Fo.prototype.setCoordinates=Fo.prototype.pa,t("ol.geom.Polygon.circular",Ko),t("ol.geom.Polygon.fromExtent",Bo),t("ol.geom.Polygon.fromCircle",Xo),t("ol.geom.SimpleGeometry",io),io.prototype.getFirstCoordinate=io.prototype.cc,io.prototype.getLastCoordinate=io.prototype.dc,io.prototype.getLayout=io.prototype.ec,io.prototype.applyTransform=io.prototype.Fc,io.prototype.translate=io.prototype.translate,t("ol.format.EsriJSON",kp),kp.prototype.readFeature=kp.prototype.Vb,kp.prototype.readFeatures=kp.prototype.Pa,kp.prototype.readGeometry=kp.prototype.Xc,kp.prototype.readProjection=kp.prototype.jb,kp.prototype.writeGeometry=kp.prototype.ed,kp.prototype.writeGeometryObject=kp.prototype.ie,kp.prototype.writeFeature=kp.prototype.Dd,kp.prototype.writeFeatureObject=kp.prototype.dd,kp.prototype.writeFeatures=kp.prototype.Yb,kp.prototype.writeFeaturesObject=kp.prototype.ge,t("ol.format.Feature",dp),t("ol.format.filter.and",rh),t("ol.format.filter.or",function(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(oh,e))}),t("ol.format.filter.not",function(t){return new eh(t)}),t("ol.format.filter.bbox",ah),t("ol.format.filter.intersects",function(t,e,n){return new Vp(t,e,n)}),t("ol.format.filter.within",function(t,e,n){return new ih(t,e,n)}),t("ol.format.filter.equalTo",function(t,e,n){return new Wp(t,e,n)}),t("ol.format.filter.notEqualTo",function(t,e,n){return new nh(t,e,n)}),t("ol.format.filter.lessThan",function(t,e){return new Qp(t,e)}),t("ol.format.filter.lessThanOrEqualTo",function(t,e){return new th(t,e)}),t("ol.format.filter.greaterThan",function(t,e){return new zp(t,e)}),t("ol.format.filter.greaterThanOrEqualTo",function(t,e){return new Hp(t,e)}),t("ol.format.filter.isNull",function(t){return new Jp(t)}),t("ol.format.filter.between",function(t,e,n){return new $p(t,e,n)}),t("ol.format.filter.like",function(t,e,n,o,i,r){return new Zp(t,e,n,o,i,r)}),t("ol.format.GeoJSON",lh),lh.prototype.readFeature=lh.prototype.Vb,lh.prototype.readFeatures=lh.prototype.Pa,lh.prototype.readGeometry=lh.prototype.Xc,lh.prototype.readProjection=lh.prototype.jb,lh.prototype.writeFeature=lh.prototype.Dd,lh.prototype.writeFeatureObject=lh.prototype.dd,lh.prototype.writeFeatures=lh.prototype.Yb,lh.prototype.writeFeaturesObject=lh.prototype.ge,lh.prototype.writeGeometry=lh.prototype.ed,lh.prototype.writeGeometryObject=lh.prototype.ie,t("ol.format.GML",Lh),Lh.prototype.writeFeatures=Lh.prototype.Yb,Lh.prototype.writeFeaturesNode=Lh.prototype.Zb,t("ol.format.GML2",Nh),t("ol.format.GML3",Lh),Lh.prototype.writeGeometryNode=Lh.prototype.he,Lh.prototype.writeFeatures=Lh.prototype.Yb,Lh.prototype.writeFeaturesNode=Lh.prototype.Zb,gh.prototype.readFeatures=gh.prototype.Pa,t("ol.format.GPX",Dh),Dh.prototype.readFeature=Dh.prototype.Vb,Dh.prototype.readFeatures=Dh.prototype.Pa,Dh.prototype.readProjection=Dh.prototype.jb,Dh.prototype.writeFeatures=Dh.prototype.Yb,Dh.prototype.writeFeaturesNode=Dh.prototype.Zb,t("ol.format.IGC",$h),$h.prototype.readFeature=$h.prototype.Vb,$h.prototype.readFeatures=$h.prototype.Pa,$h.prototype.readProjection=$h.prototype.jb,t("ol.format.KML",eu),eu.prototype.readFeature=eu.prototype.Vb,eu.prototype.readFeatures=eu.prototype.Pa,eu.prototype.readName=eu.prototype.sp,eu.prototype.readNetworkLinks=eu.prototype.tp,eu.prototype.readRegion=eu.prototype.wp,eu.prototype.readRegionFromNode=eu.prototype.jf,eu.prototype.readProjection=eu.prototype.jb,eu.prototype.writeFeatures=eu.prototype.Yb,eu.prototype.writeFeaturesNode=eu.prototype.Zb,t("ol.format.MVT",Du),Du.prototype.readFeatures=Du.prototype.Pa,Du.prototype.readProjection=Du.prototype.jb,Du.prototype.setLayers=Du.prototype.fn,t("ol.format.OSMXML",ju),ju.prototype.readFeatures=ju.prototype.Pa,ju.prototype.readProjection=ju.prototype.jb,t("ol.format.Polyline",Gu),t("ol.format.Polyline.encodeDeltas",Wu),t("ol.format.Polyline.decodeDeltas",zu),t("ol.format.Polyline.encodeFloats",Hu),t("ol.format.Polyline.decodeFloats",qu),Gu.prototype.readFeature=Gu.prototype.Vb,Gu.prototype.readFeatures=Gu.prototype.Pa,Gu.prototype.readGeometry=Gu.prototype.Xc,Gu.prototype.readProjection=Gu.prototype.jb,Gu.prototype.writeGeometry=Gu.prototype.ed,t("ol.format.TopoJSON",Vu),Vu.prototype.readFeatures=Vu.prototype.Pa,Vu.prototype.readProjection=Vu.prototype.jb,t("ol.format.WFS",tl),tl.prototype.readFeatures=tl.prototype.Pa,tl.prototype.readTransactionResponse=tl.prototype.j,tl.prototype.readFeatureCollectionMetadata=tl.prototype.f,t("ol.format.WFS.writeFilter",function(t){var e=zs("http://www.opengis.net/ogc","Filter");return lp({node:e},Ux,rp(t.mc),[t],[]),e}),tl.prototype.writeGetFeature=tl.prototype.o,tl.prototype.writeTransaction=tl.prototype.u,tl.prototype.readProjection=tl.prototype.jb,t("ol.format.WKT",ul),ul.prototype.readFeature=ul.prototype.Vb,ul.prototype.readFeatures=ul.prototype.Pa,ul.prototype.readGeometry=ul.prototype.Xc,ul.prototype.writeFeature=ul.prototype.Dd,ul.prototype.writeFeatures=ul.prototype.Yb,ul.prototype.writeGeometry=ul.prototype.ed,t("ol.format.WMSCapabilities",Ml),Ml.prototype.read=Ml.prototype.read,t("ol.format.WMSGetFeatureInfo",Il),Il.prototype.readFeatures=Il.prototype.Pa,t("ol.format.WMTSCapabilities",Nl),Nl.prototype.read=Nl.prototype.read,t("ol.format.filter.And",Xp),t("ol.format.filter.Bbox",Up);t("ol.format.filter.Comparison",Yp);t("ol.format.filter.ComparisonBinary",Gp),t("ol.format.filter.EqualTo",Wp),t("ol.format.filter.Filter",Kp),t("ol.format.filter.GreaterThan",zp),t("ol.format.filter.GreaterThanOrEqualTo",Hp),t("ol.format.filter.Intersects",Vp),t("ol.format.filter.IsBetween",$p),t("ol.format.filter.IsLike",Zp),t("ol.format.filter.IsNull",Jp),t("ol.format.filter.LessThan",Qp),t("ol.format.filter.LessThanOrEqualTo",th),t("ol.format.filter.Not",eh),t("ol.format.filter.NotEqualTo",nh),t("ol.format.filter.Or",oh),t("ol.format.filter.Spatial",qp),t("ol.format.filter.Within",ih),t("ol.events.condition.altKeyOnly",function(t){return t=t.originalEvent,t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}),t("ol.events.condition.altShiftKeysOnly",hi),t("ol.events.condition.always",Qn),t("ol.events.condition.click",function(t){return"click"==t.type}),t("ol.events.condition.never",to),t("ol.events.condition.pointerMove",li),t("ol.events.condition.singleClick",ci),t("ol.events.condition.doubleClick",function(t){return"dblclick"==t.type}),t("ol.events.condition.noModifierKeys",fi),t("ol.events.condition.platformModifierKeyOnly",function(t){return t=t.originalEvent,!t.altKey&&(jv?t.metaKey:t.ctrlKey)&&!t.shiftKey}),t("ol.events.condition.shiftKeyOnly",di),t("ol.events.condition.targetNotEditable",yi),t("ol.events.condition.mouseOnly",vi),t("ol.events.condition.primaryAction",gi),he.prototype.type=he.prototype.type,he.prototype.target=he.prototype.target,he.prototype.preventDefault=he.prototype.preventDefault,he.prototype.stopPropagation=he.prototype.stopPropagation,t("ol.control.Attribution",Ie),t("ol.control.Attribution.render",Ne),Ie.prototype.getCollapsible=Ie.prototype.Om,Ie.prototype.setCollapsible=Ie.prototype.Rm,Ie.prototype.setCollapsed=Ie.prototype.Qm,Ie.prototype.getCollapsed=Ie.prototype.Nm,t("ol.control.Control",Le),Le.prototype.getMap=Le.prototype.f,Le.prototype.setMap=Le.prototype.setMap,Le.prototype.setTarget=Le.prototype.i,t("ol.control.FullScreen",Ue),t("ol.control.MousePosition",ze),t("ol.control.MousePosition.render",He),ze.prototype.getCoordinateFormat=ze.prototype.qh,ze.prototype.getProjection=ze.prototype.Sh,ze.prototype.setCoordinateFormat=ze.prototype.fj,ze.prototype.setProjection=ze.prototype.Th,t("ol.control.OverviewMap",xs),t("ol.control.OverviewMap.render",_s),xs.prototype.getCollapsible=xs.prototype.Um,xs.prototype.setCollapsible=xs.prototype.Xm,xs.prototype.setCollapsed=xs.prototype.Wm,xs.prototype.getCollapsed=xs.prototype.Tm,xs.prototype.getOverviewMap=xs.prototype.bl,t("ol.control.Rotate",je),t("ol.control.Rotate.render",Ke),t("ol.control.ScaleLine",Cs),Cs.prototype.getUnits=Cs.prototype.Kb,t("ol.control.ScaleLine.render",Ms),Cs.prototype.setUnits=Cs.prototype.G,t("ol.control.Zoom",Be),t("ol.control.ZoomSlider",As),t("ol.control.ZoomSlider.render",Es),t("ol.control.ZoomToExtent",Ns),de.prototype.changed=de.prototype.s,de.prototype.dispatchEvent=de.prototype.b,de.prototype.getRevision=de.prototype.L,de.prototype.on=de.prototype.J,de.prototype.once=de.prototype.once,de.prototype.un=de.prototype.K,me.prototype.get=me.prototype.get,me.prototype.getKeys=me.prototype.P,me.prototype.getProperties=me.prototype.M,me.prototype.set=me.prototype.set,me.prototype.setProperties=me.prototype.H,me.prototype.unset=me.prototype.R,me.prototype.changed=me.prototype.s,me.prototype.dispatchEvent=me.prototype.b,me.prototype.getRevision=me.prototype.L,me.prototype.on=me.prototype.J,me.prototype.once=me.prototype.once,me.prototype.un=me.prototype.K,_e.prototype.type=_e.prototype.type,_e.prototype.target=_e.prototype.target,_e.prototype.preventDefault=_e.prototype.preventDefault,_e.prototype.stopPropagation=_e.prototype.stopPropagation,Os.prototype.get=Os.prototype.get,Os.prototype.getKeys=Os.prototype.P,Os.prototype.getProperties=Os.prototype.M,Os.prototype.set=Os.prototype.set,Os.prototype.setProperties=Os.prototype.H,Os.prototype.unset=Os.prototype.R,Os.prototype.changed=Os.prototype.s,Os.prototype.dispatchEvent=Os.prototype.b,Os.prototype.getRevision=Os.prototype.L,Os.prototype.on=Os.prototype.J,Os.prototype.once=Os.prototype.once,Os.prototype.un=Os.prototype.K,Gs.prototype.get=Gs.prototype.get,Gs.prototype.getKeys=Gs.prototype.P,Gs.prototype.getProperties=Gs.prototype.M,Gs.prototype.set=Gs.prototype.set,Gs.prototype.setProperties=Gs.prototype.H,Gs.prototype.unset=Gs.prototype.R,Gs.prototype.changed=Gs.prototype.s,Gs.prototype.dispatchEvent=Gs.prototype.b,Gs.prototype.getRevision=Gs.prototype.L,Gs.prototype.on=Gs.prototype.J,Gs.prototype.once=Gs.prototype.once,Gs.prototype.un=Gs.prototype.K,kl.prototype.get=kl.prototype.get,kl.prototype.getKeys=kl.prototype.P,kl.prototype.getProperties=kl.prototype.M,kl.prototype.set=kl.prototype.set,kl.prototype.setProperties=kl.prototype.H,kl.prototype.unset=kl.prototype.R,kl.prototype.changed=kl.prototype.s,kl.prototype.dispatchEvent=kl.prototype.b,kl.prototype.getRevision=kl.prototype.L,kl.prototype.on=kl.prototype.J,kl.prototype.once=kl.prototype.once,kl.prototype.un=kl.prototype.K,ql.prototype.getTileCoord=ql.prototype.i,ql.prototype.load=ql.prototype.load,ds.prototype.get=ds.prototype.get,ds.prototype.getKeys=ds.prototype.P,ds.prototype.getProperties=ds.prototype.M,ds.prototype.set=ds.prototype.set,ds.prototype.setProperties=ds.prototype.H,ds.prototype.unset=ds.prototype.R,ds.prototype.changed=ds.prototype.s,ds.prototype.dispatchEvent=ds.prototype.b,ds.prototype.getRevision=ds.prototype.L,ds.prototype.on=ds.prototype.J,ds.prototype.once=ds.prototype.once,ds.prototype.un=ds.prototype.K,Ve.prototype.type=Ve.prototype.type,Ve.prototype.target=Ve.prototype.target,Ve.prototype.preventDefault=Ve.prototype.preventDefault,Ve.prototype.stopPropagation=Ve.prototype.stopPropagation,$e.prototype.map=$e.prototype.map,$e.prototype.frameState=$e.prototype.frameState,$e.prototype.type=$e.prototype.type,$e.prototype.target=$e.prototype.target,$e.prototype.preventDefault=$e.prototype.preventDefault,$e.prototype.stopPropagation=$e.prototype.stopPropagation,Ze.prototype.originalEvent=Ze.prototype.originalEvent,Ze.prototype.pixel=Ze.prototype.pixel,Ze.prototype.coordinate=Ze.prototype.coordinate,Ze.prototype.dragging=Ze.prototype.dragging,Ze.prototype.preventDefault=Ze.prototype.preventDefault,Ze.prototype.stopPropagation=Ze.prototype.stopPropagation,Ze.prototype.map=Ze.prototype.map,Ze.prototype.frameState=Ze.prototype.frameState,Ze.prototype.type=Ze.prototype.type,Ze.prototype.target=Ze.prototype.target,ge.prototype.type=ge.prototype.type,ge.prototype.target=ge.prototype.target,ge.prototype.preventDefault=ge.prototype.preventDefault,ge.prototype.stopPropagation=ge.prototype.stopPropagation,vs.prototype.get=vs.prototype.get,vs.prototype.getKeys=vs.prototype.P,vs.prototype.getProperties=vs.prototype.M,vs.prototype.set=vs.prototype.set,vs.prototype.setProperties=vs.prototype.H,vs.prototype.unset=vs.prototype.R,vs.prototype.changed=vs.prototype.s,vs.prototype.dispatchEvent=vs.prototype.b,vs.prototype.getRevision=vs.prototype.L,vs.prototype.on=vs.prototype.J,vs.prototype.once=vs.prototype.once,vs.prototype.un=vs.prototype.K,Xy.prototype.getTileCoord=Xy.prototype.i,Xy.prototype.load=Xy.prototype.load,Yo.prototype.get=Yo.prototype.get,Yo.prototype.getKeys=Yo.prototype.P,Yo.prototype.getProperties=Yo.prototype.M,Yo.prototype.set=Yo.prototype.set,Yo.prototype.setProperties=Yo.prototype.H,Yo.prototype.unset=Yo.prototype.R,Yo.prototype.changed=Yo.prototype.s,Yo.prototype.dispatchEvent=Yo.prototype.b,Yo.prototype.getRevision=Yo.prototype.L,Yo.prototype.on=Yo.prototype.J,Yo.prototype.once=Yo.prototype.once,Yo.prototype.un=Yo.prototype.K,Gy.prototype.forEachTileCoord=Gy.prototype.mh,Gy.prototype.getMaxZoom=Gy.prototype.Ni,Gy.prototype.getMinZoom=Gy.prototype.Oi,Gy.prototype.getOrigin=Gy.prototype.Uc,Gy.prototype.getResolution=Gy.prototype.La,Gy.prototype.getResolutions=Gy.prototype.Pi,Gy.prototype.getTileCoordExtent=Gy.prototype.Ua,Gy.prototype.getTileCoordForCoordAndResolution=Gy.prototype.Ae,Gy.prototype.getTileCoordForCoordAndZ=Gy.prototype.Xf,Gy.prototype.getTileSize=Gy.prototype.eb;Gy.prototype.getZForResolution=Gy.prototype.Qc;Rs.prototype.getOpacity=Rs.prototype.Ye,Rs.prototype.getRotateWithView=Rs.prototype.Ze,Rs.prototype.getRotation=Rs.prototype.$e,Rs.prototype.getScale=Rs.prototype.af,Rs.prototype.getSnapToPixel=Rs.prototype.ze,Rs.prototype.setOpacity=Rs.prototype.vd,Rs.prototype.setRotation=Rs.prototype.bf,Rs.prototype.setScale=Rs.prototype.wd,Fs.prototype.clone=Fs.prototype.clone,Fs.prototype.getAngle=Fs.prototype.Ji,Fs.prototype.getFill=Fs.prototype.Ca,Fs.prototype.getPoints=Fs.prototype.Ki,Fs.prototype.getRadius=Fs.prototype.Li,Fs.prototype.getRadius2=Fs.prototype.yh,Fs.prototype.getStroke=Fs.prototype.Da,Fs.prototype.getOpacity=Fs.prototype.Ye,Fs.prototype.getRotateWithView=Fs.prototype.Ze,Fs.prototype.getRotation=Fs.prototype.$e,Fs.prototype.getScale=Fs.prototype.af,Fs.prototype.getSnapToPixel=Fs.prototype.ze,Fs.prototype.setOpacity=Fs.prototype.vd,Fs.prototype.setRotation=Fs.prototype.bf,Fs.prototype.setScale=Fs.prototype.wd,Qh.prototype.getOpacity=Qh.prototype.Ye,Qh.prototype.getRotateWithView=Qh.prototype.Ze,Qh.prototype.getRotation=Qh.prototype.$e,Qh.prototype.getScale=Qh.prototype.af,Qh.prototype.getSnapToPixel=Qh.prototype.ze,Qh.prototype.setOpacity=Qh.prototype.vd,Qh.prototype.setRotation=Qh.prototype.bf,Qh.prototype.setScale=Qh.prototype.wd,Vc.prototype.get=Vc.prototype.get,Vc.prototype.getKeys=Vc.prototype.P,Vc.prototype.getProperties=Vc.prototype.M,Vc.prototype.set=Vc.prototype.set,Vc.prototype.setProperties=Vc.prototype.H,Vc.prototype.unset=Vc.prototype.R,Vc.prototype.changed=Vc.prototype.s,Vc.prototype.dispatchEvent=Vc.prototype.b,Vc.prototype.getRevision=Vc.prototype.L,Vc.prototype.on=Vc.prototype.J,Vc.prototype.once=Vc.prototype.once,Vc.prototype.un=Vc.prototype.K,$d.prototype.getAttributions=$d.prototype.xa,$d.prototype.getLogo=$d.prototype.wa,$d.prototype.getProjection=$d.prototype.ya,$d.prototype.getState=$d.prototype.V,$d.prototype.refresh=$d.prototype.va,$d.prototype.setAttributions=$d.prototype.ua,$d.prototype.get=$d.prototype.get,$d.prototype.getKeys=$d.prototype.P,$d.prototype.getProperties=$d.prototype.M,$d.prototype.set=$d.prototype.set,$d.prototype.setProperties=$d.prototype.H,$d.prototype.unset=$d.prototype.R,$d.prototype.changed=$d.prototype.s,$d.prototype.dispatchEvent=$d.prototype.b,$d.prototype.getRevision=$d.prototype.L,$d.prototype.on=$d.prototype.J,$d.prototype.once=$d.prototype.once,$d.prototype.un=$d.prototype.K,ey.prototype.getTileGrid=ey.prototype.ab,ey.prototype.refresh=ey.prototype.va,ey.prototype.getAttributions=ey.prototype.xa,ey.prototype.getLogo=ey.prototype.wa,ey.prototype.getProjection=ey.prototype.ya,ey.prototype.getState=ey.prototype.V,ey.prototype.setAttributions=ey.prototype.ua,ey.prototype.get=ey.prototype.get,ey.prototype.getKeys=ey.prototype.P,ey.prototype.getProperties=ey.prototype.M,ey.prototype.set=ey.prototype.set,ey.prototype.setProperties=ey.prototype.H,ey.prototype.unset=ey.prototype.R,ey.prototype.changed=ey.prototype.s,ey.prototype.dispatchEvent=ey.prototype.b,ey.prototype.getRevision=ey.prototype.L,ey.prototype.on=ey.prototype.J,ey.prototype.once=ey.prototype.once,ey.prototype.un=ey.prototype.K,ny.prototype.getTileLoadFunction=ny.prototype.ob,ny.prototype.getTileUrlFunction=ny.prototype.qb,ny.prototype.getUrls=ny.prototype.rb,ny.prototype.setTileLoadFunction=ny.prototype.wb,ny.prototype.setTileUrlFunction=ny.prototype.bb,ny.prototype.setUrl=ny.prototype.ib,ny.prototype.setUrls=ny.prototype.cb,ny.prototype.getTileGrid=ny.prototype.ab,ny.prototype.refresh=ny.prototype.va,ny.prototype.getAttributions=ny.prototype.xa,ny.prototype.getLogo=ny.prototype.wa,ny.prototype.getProjection=ny.prototype.ya,ny.prototype.getState=ny.prototype.V,ny.prototype.setAttributions=ny.prototype.ua,ny.prototype.get=ny.prototype.get,ny.prototype.getKeys=ny.prototype.P,ny.prototype.getProperties=ny.prototype.M,ny.prototype.set=ny.prototype.set,ny.prototype.setProperties=ny.prototype.H,ny.prototype.unset=ny.prototype.R,ny.prototype.changed=ny.prototype.s,ny.prototype.dispatchEvent=ny.prototype.b,ny.prototype.getRevision=ny.prototype.L,ny.prototype.on=ny.prototype.J,ny.prototype.once=ny.prototype.once,ny.prototype.un=ny.prototype.K,ay.prototype.setRenderReprojectionEdges=ay.prototype.Ob,ay.prototype.setTileGridForProjection=ay.prototype.Pb,ay.prototype.getTileLoadFunction=ay.prototype.ob,ay.prototype.getTileUrlFunction=ay.prototype.qb,ay.prototype.getUrls=ay.prototype.rb,ay.prototype.setTileLoadFunction=ay.prototype.wb,ay.prototype.setTileUrlFunction=ay.prototype.bb,ay.prototype.setUrl=ay.prototype.ib,ay.prototype.setUrls=ay.prototype.cb,ay.prototype.getTileGrid=ay.prototype.ab,ay.prototype.refresh=ay.prototype.va,ay.prototype.getAttributions=ay.prototype.xa,ay.prototype.getLogo=ay.prototype.wa,ay.prototype.getProjection=ay.prototype.ya,ay.prototype.getState=ay.prototype.V,ay.prototype.setAttributions=ay.prototype.ua,ay.prototype.get=ay.prototype.get,ay.prototype.getKeys=ay.prototype.P,ay.prototype.getProperties=ay.prototype.M,ay.prototype.set=ay.prototype.set,ay.prototype.setProperties=ay.prototype.H,ay.prototype.unset=ay.prototype.R,ay.prototype.changed=ay.prototype.s,ay.prototype.dispatchEvent=ay.prototype.b,ay.prototype.getRevision=ay.prototype.L,ay.prototype.on=ay.prototype.J,ay.prototype.once=ay.prototype.once,ay.prototype.un=ay.prototype.K,sy.prototype.setRenderReprojectionEdges=sy.prototype.Ob,sy.prototype.setTileGridForProjection=sy.prototype.Pb,sy.prototype.getTileLoadFunction=sy.prototype.ob,sy.prototype.getTileUrlFunction=sy.prototype.qb,sy.prototype.getUrls=sy.prototype.rb,sy.prototype.setTileLoadFunction=sy.prototype.wb,sy.prototype.setTileUrlFunction=sy.prototype.bb,sy.prototype.setUrl=sy.prototype.ib,sy.prototype.setUrls=sy.prototype.cb,sy.prototype.getTileGrid=sy.prototype.ab,sy.prototype.refresh=sy.prototype.va,sy.prototype.getAttributions=sy.prototype.xa,sy.prototype.getLogo=sy.prototype.wa,sy.prototype.getProjection=sy.prototype.ya,sy.prototype.getState=sy.prototype.V,sy.prototype.setAttributions=sy.prototype.ua,sy.prototype.get=sy.prototype.get,sy.prototype.getKeys=sy.prototype.P,sy.prototype.getProperties=sy.prototype.M,sy.prototype.set=sy.prototype.set,sy.prototype.setProperties=sy.prototype.H,sy.prototype.unset=sy.prototype.R,sy.prototype.changed=sy.prototype.s,sy.prototype.dispatchEvent=sy.prototype.b,sy.prototype.getRevision=sy.prototype.L,sy.prototype.on=sy.prototype.J,sy.prototype.once=sy.prototype.once,sy.prototype.un=sy.prototype.K,py.prototype.setRenderReprojectionEdges=py.prototype.Ob,py.prototype.setTileGridForProjection=py.prototype.Pb,py.prototype.getTileLoadFunction=py.prototype.ob,py.prototype.getTileUrlFunction=py.prototype.qb,py.prototype.getUrls=py.prototype.rb,py.prototype.setTileLoadFunction=py.prototype.wb,py.prototype.setTileUrlFunction=py.prototype.bb,py.prototype.setUrl=py.prototype.ib,py.prototype.setUrls=py.prototype.cb,py.prototype.getTileGrid=py.prototype.ab,py.prototype.refresh=py.prototype.va,py.prototype.getAttributions=py.prototype.xa,py.prototype.getLogo=py.prototype.wa,py.prototype.getProjection=py.prototype.ya,py.prototype.getState=py.prototype.V,py.prototype.setAttributions=py.prototype.ua,py.prototype.get=py.prototype.get,py.prototype.getKeys=py.prototype.P,py.prototype.getProperties=py.prototype.M,py.prototype.set=py.prototype.set,py.prototype.setProperties=py.prototype.H,py.prototype.unset=py.prototype.R,py.prototype.changed=py.prototype.s,py.prototype.dispatchEvent=py.prototype.b,py.prototype.getRevision=py.prototype.L,py.prototype.on=py.prototype.J,py.prototype.once=py.prototype.once,py.prototype.un=py.prototype.K,Jc.prototype.getAttributions=Jc.prototype.xa,Jc.prototype.getLogo=Jc.prototype.wa,Jc.prototype.getProjection=Jc.prototype.ya,Jc.prototype.getState=Jc.prototype.V,Jc.prototype.refresh=Jc.prototype.va,Jc.prototype.setAttributions=Jc.prototype.ua,Jc.prototype.get=Jc.prototype.get,Jc.prototype.getKeys=Jc.prototype.P,Jc.prototype.getProperties=Jc.prototype.M,Jc.prototype.set=Jc.prototype.set;Jc.prototype.setProperties=Jc.prototype.H;Jc.prototype.unset=Jc.prototype.R,Jc.prototype.changed=Jc.prototype.s,Jc.prototype.dispatchEvent=Jc.prototype.b,Jc.prototype.getRevision=Jc.prototype.L,Jc.prototype.on=Jc.prototype.J,Jc.prototype.once=Jc.prototype.once,Jc.prototype.un=Jc.prototype.K,ly.prototype.addFeature=ly.prototype.zb,ly.prototype.addFeatures=ly.prototype.gd,ly.prototype.clear=ly.prototype.clear,ly.prototype.forEachFeature=ly.prototype.kh,ly.prototype.forEachFeatureInExtent=ly.prototype.bc,ly.prototype.forEachFeatureIntersectingExtent=ly.prototype.lh,ly.prototype.getFeaturesCollection=ly.prototype.th,ly.prototype.getFeatures=ly.prototype.We,ly.prototype.getFeaturesAtCoordinate=ly.prototype.sh,ly.prototype.getFeaturesInExtent=ly.prototype.Pf,ly.prototype.getClosestFeatureToCoordinate=ly.prototype.oh,ly.prototype.getExtent=ly.prototype.D,ly.prototype.getFeatureById=ly.prototype.rh,ly.prototype.getFormat=ly.prototype.Gi,ly.prototype.getUrl=ly.prototype.Hi,ly.prototype.removeFeature=ly.prototype.Db,ly.prototype.getAttributions=ly.prototype.xa,ly.prototype.getLogo=ly.prototype.wa,ly.prototype.getProjection=ly.prototype.ya,ly.prototype.getState=ly.prototype.V,ly.prototype.refresh=ly.prototype.va,ly.prototype.setAttributions=ly.prototype.ua,ly.prototype.get=ly.prototype.get,ly.prototype.getKeys=ly.prototype.P,ly.prototype.getProperties=ly.prototype.M,ly.prototype.set=ly.prototype.set,ly.prototype.setProperties=ly.prototype.H,ly.prototype.unset=ly.prototype.R,ly.prototype.changed=ly.prototype.s,ly.prototype.dispatchEvent=ly.prototype.b,ly.prototype.getRevision=ly.prototype.L,ly.prototype.on=ly.prototype.J,ly.prototype.once=ly.prototype.once,ly.prototype.un=ly.prototype.K,xd.prototype.getAttributions=xd.prototype.xa,xd.prototype.getLogo=xd.prototype.wa,xd.prototype.getProjection=xd.prototype.ya,xd.prototype.getState=xd.prototype.V,xd.prototype.refresh=xd.prototype.va,xd.prototype.setAttributions=xd.prototype.ua,xd.prototype.get=xd.prototype.get,xd.prototype.getKeys=xd.prototype.P,xd.prototype.getProperties=xd.prototype.M,xd.prototype.set=xd.prototype.set,xd.prototype.setProperties=xd.prototype.H,xd.prototype.unset=xd.prototype.R,xd.prototype.changed=xd.prototype.s,xd.prototype.dispatchEvent=xd.prototype.b,xd.prototype.getRevision=xd.prototype.L,xd.prototype.on=xd.prototype.J,xd.prototype.once=xd.prototype.once,xd.prototype.un=xd.prototype.K,Pd.prototype.type=Pd.prototype.type,Pd.prototype.target=Pd.prototype.target,Pd.prototype.preventDefault=Pd.prototype.preventDefault,Pd.prototype.stopPropagation=Pd.prototype.stopPropagation,yy.prototype.getAttributions=yy.prototype.xa,yy.prototype.getLogo=yy.prototype.wa,yy.prototype.getProjection=yy.prototype.ya,yy.prototype.getState=yy.prototype.V,yy.prototype.refresh=yy.prototype.va,yy.prototype.setAttributions=yy.prototype.ua,yy.prototype.get=yy.prototype.get,yy.prototype.getKeys=yy.prototype.P,yy.prototype.getProperties=yy.prototype.M,yy.prototype.set=yy.prototype.set,yy.prototype.setProperties=yy.prototype.H,yy.prototype.unset=yy.prototype.R,yy.prototype.changed=yy.prototype.s,yy.prototype.dispatchEvent=yy.prototype.b,yy.prototype.getRevision=yy.prototype.L,yy.prototype.on=yy.prototype.J,yy.prototype.once=yy.prototype.once,yy.prototype.un=yy.prototype.K,Sd.prototype.getAttributions=Sd.prototype.xa,Sd.prototype.getLogo=Sd.prototype.wa,Sd.prototype.getProjection=Sd.prototype.ya,Sd.prototype.getState=Sd.prototype.V,Sd.prototype.refresh=Sd.prototype.va,Sd.prototype.setAttributions=Sd.prototype.ua,Sd.prototype.get=Sd.prototype.get,Sd.prototype.getKeys=Sd.prototype.P,Sd.prototype.getProperties=Sd.prototype.M,Sd.prototype.set=Sd.prototype.set,Sd.prototype.setProperties=Sd.prototype.H,Sd.prototype.unset=Sd.prototype.R,Sd.prototype.changed=Sd.prototype.s,Sd.prototype.dispatchEvent=Sd.prototype.b,Sd.prototype.getRevision=Sd.prototype.L,Sd.prototype.on=Sd.prototype.J,Sd.prototype.once=Sd.prototype.once,Sd.prototype.un=Sd.prototype.K,vy.prototype.getAttributions=vy.prototype.xa,vy.prototype.getLogo=vy.prototype.wa,vy.prototype.getProjection=vy.prototype.ya,vy.prototype.getState=vy.prototype.V,vy.prototype.refresh=vy.prototype.va,vy.prototype.setAttributions=vy.prototype.ua,vy.prototype.get=vy.prototype.get,vy.prototype.getKeys=vy.prototype.P,vy.prototype.getProperties=vy.prototype.M,vy.prototype.set=vy.prototype.set,vy.prototype.setProperties=vy.prototype.H,vy.prototype.unset=vy.prototype.R,vy.prototype.changed=vy.prototype.s,vy.prototype.dispatchEvent=vy.prototype.b,vy.prototype.getRevision=vy.prototype.L,vy.prototype.on=vy.prototype.J,vy.prototype.once=vy.prototype.once,vy.prototype.un=vy.prototype.K,gy.prototype.getAttributions=gy.prototype.xa,gy.prototype.getLogo=gy.prototype.wa,gy.prototype.getProjection=gy.prototype.ya,gy.prototype.getState=gy.prototype.V,gy.prototype.refresh=gy.prototype.va,gy.prototype.setAttributions=gy.prototype.ua,gy.prototype.get=gy.prototype.get,gy.prototype.getKeys=gy.prototype.P,gy.prototype.getProperties=gy.prototype.M,gy.prototype.set=gy.prototype.set,gy.prototype.setProperties=gy.prototype.H,gy.prototype.unset=gy.prototype.R,gy.prototype.changed=gy.prototype.s,gy.prototype.dispatchEvent=gy.prototype.b,gy.prototype.getRevision=gy.prototype.L,gy.prototype.on=gy.prototype.J,gy.prototype.once=gy.prototype.once,gy.prototype.un=gy.prototype.K,Cd.prototype.getAttributions=Cd.prototype.xa,Cd.prototype.getLogo=Cd.prototype.wa,Cd.prototype.getProjection=Cd.prototype.ya,
Cd.prototype.getState=Cd.prototype.V,Cd.prototype.refresh=Cd.prototype.va,Cd.prototype.setAttributions=Cd.prototype.ua,Cd.prototype.get=Cd.prototype.get,Cd.prototype.getKeys=Cd.prototype.P,Cd.prototype.getProperties=Cd.prototype.M,Cd.prototype.set=Cd.prototype.set,Cd.prototype.setProperties=Cd.prototype.H,Cd.prototype.unset=Cd.prototype.R,Cd.prototype.changed=Cd.prototype.s,Cd.prototype.dispatchEvent=Cd.prototype.b,Cd.prototype.getRevision=Cd.prototype.L,Cd.prototype.on=Cd.prototype.J,Cd.prototype.once=Cd.prototype.once,Cd.prototype.un=Cd.prototype.K,my.prototype.getAttributions=my.prototype.xa,my.prototype.getLogo=my.prototype.wa,my.prototype.getProjection=my.prototype.ya,my.prototype.getState=my.prototype.V,my.prototype.refresh=my.prototype.va,my.prototype.setAttributions=my.prototype.ua,my.prototype.get=my.prototype.get,my.prototype.getKeys=my.prototype.P,my.prototype.getProperties=my.prototype.M,my.prototype.set=my.prototype.set,my.prototype.setProperties=my.prototype.H,my.prototype.unset=my.prototype.R,my.prototype.changed=my.prototype.s,my.prototype.dispatchEvent=my.prototype.b,my.prototype.getRevision=my.prototype.L,my.prototype.on=my.prototype.J,my.prototype.once=my.prototype.once,my.prototype.un=my.prototype.K,_y.prototype.setRenderReprojectionEdges=_y.prototype.Ob,_y.prototype.setTileGridForProjection=_y.prototype.Pb,_y.prototype.getTileLoadFunction=_y.prototype.ob,_y.prototype.getTileUrlFunction=_y.prototype.qb,_y.prototype.getUrls=_y.prototype.rb,_y.prototype.setTileLoadFunction=_y.prototype.wb,_y.prototype.setTileUrlFunction=_y.prototype.bb,_y.prototype.setUrl=_y.prototype.ib,_y.prototype.setUrls=_y.prototype.cb,_y.prototype.getTileGrid=_y.prototype.ab,_y.prototype.refresh=_y.prototype.va,_y.prototype.getAttributions=_y.prototype.xa,_y.prototype.getLogo=_y.prototype.wa,_y.prototype.getProjection=_y.prototype.ya,_y.prototype.getState=_y.prototype.V,_y.prototype.setAttributions=_y.prototype.ua,_y.prototype.get=_y.prototype.get,_y.prototype.getKeys=_y.prototype.P,_y.prototype.getProperties=_y.prototype.M,_y.prototype.set=_y.prototype.set,_y.prototype.setProperties=_y.prototype.H,_y.prototype.unset=_y.prototype.R,_y.prototype.changed=_y.prototype.s,_y.prototype.dispatchEvent=_y.prototype.b,_y.prototype.getRevision=_y.prototype.L,_y.prototype.on=_y.prototype.J,_y.prototype.once=_y.prototype.once,_y.prototype.un=_y.prototype.K,wy.prototype.getAttributions=wy.prototype.xa;wy.prototype.getLogo=wy.prototype.wa;wy.prototype.getProjection=wy.prototype.ya,wy.prototype.getState=wy.prototype.V,wy.prototype.refresh=wy.prototype.va,wy.prototype.setAttributions=wy.prototype.ua,wy.prototype.get=wy.prototype.get,wy.prototype.getKeys=wy.prototype.P,wy.prototype.getProperties=wy.prototype.M,wy.prototype.set=wy.prototype.set,wy.prototype.setProperties=wy.prototype.H,wy.prototype.unset=wy.prototype.R,wy.prototype.changed=wy.prototype.s,wy.prototype.dispatchEvent=wy.prototype.b,wy.prototype.getRevision=wy.prototype.L,wy.prototype.on=wy.prototype.J,wy.prototype.once=wy.prototype.once,wy.prototype.un=wy.prototype.K,Cy.prototype.type=Cy.prototype.type,Cy.prototype.target=Cy.prototype.target,Cy.prototype.preventDefault=Cy.prototype.preventDefault,Cy.prototype.stopPropagation=Cy.prototype.stopPropagation,My.prototype.setRenderReprojectionEdges=My.prototype.Ob,My.prototype.setTileGridForProjection=My.prototype.Pb,My.prototype.getTileLoadFunction=My.prototype.ob,My.prototype.getTileUrlFunction=My.prototype.qb,My.prototype.getUrls=My.prototype.rb,My.prototype.setTileLoadFunction=My.prototype.wb,My.prototype.setTileUrlFunction=My.prototype.bb,My.prototype.setUrl=My.prototype.ib,My.prototype.setUrls=My.prototype.cb,My.prototype.getTileGrid=My.prototype.ab,My.prototype.refresh=My.prototype.va,My.prototype.getAttributions=My.prototype.xa,My.prototype.getLogo=My.prototype.wa,My.prototype.getProjection=My.prototype.ya,My.prototype.getState=My.prototype.V,My.prototype.setAttributions=My.prototype.ua,My.prototype.get=My.prototype.get,My.prototype.getKeys=My.prototype.P,My.prototype.getProperties=My.prototype.M,My.prototype.set=My.prototype.set,My.prototype.setProperties=My.prototype.H,My.prototype.unset=My.prototype.R,My.prototype.changed=My.prototype.s,My.prototype.dispatchEvent=My.prototype.b,My.prototype.getRevision=My.prototype.L,My.prototype.on=My.prototype.J,My.prototype.once=My.prototype.once,My.prototype.un=My.prototype.K,ty.prototype.type=ty.prototype.type,ty.prototype.target=ty.prototype.target,ty.prototype.preventDefault=ty.prototype.preventDefault,ty.prototype.stopPropagation=ty.prototype.stopPropagation,Ty.prototype.setRenderReprojectionEdges=Ty.prototype.Ob,Ty.prototype.setTileGridForProjection=Ty.prototype.Pb,Ty.prototype.getTileLoadFunction=Ty.prototype.ob,Ty.prototype.getTileUrlFunction=Ty.prototype.qb,Ty.prototype.getUrls=Ty.prototype.rb,Ty.prototype.setTileLoadFunction=Ty.prototype.wb,Ty.prototype.setTileUrlFunction=Ty.prototype.bb,Ty.prototype.setUrl=Ty.prototype.ib,Ty.prototype.setUrls=Ty.prototype.cb,Ty.prototype.getTileGrid=Ty.prototype.ab,Ty.prototype.refresh=Ty.prototype.va,Ty.prototype.getAttributions=Ty.prototype.xa,Ty.prototype.getLogo=Ty.prototype.wa,Ty.prototype.getProjection=Ty.prototype.ya,Ty.prototype.getState=Ty.prototype.V,Ty.prototype.setAttributions=Ty.prototype.ua,Ty.prototype.get=Ty.prototype.get,Ty.prototype.getKeys=Ty.prototype.P,Ty.prototype.getProperties=Ty.prototype.M,Ty.prototype.set=Ty.prototype.set,Ty.prototype.setProperties=Ty.prototype.H,Ty.prototype.unset=Ty.prototype.R,Ty.prototype.changed=Ty.prototype.s,Ty.prototype.dispatchEvent=Ty.prototype.b,Ty.prototype.getRevision=Ty.prototype.L,Ty.prototype.on=Ty.prototype.J,Ty.prototype.once=Ty.prototype.once,Ty.prototype.un=Ty.prototype.K,Ey.prototype.getTileGrid=Ey.prototype.ab,Ey.prototype.refresh=Ey.prototype.va,Ey.prototype.getAttributions=Ey.prototype.xa,Ey.prototype.getLogo=Ey.prototype.wa,Ey.prototype.getProjection=Ey.prototype.ya,Ey.prototype.getState=Ey.prototype.V,Ey.prototype.setAttributions=Ey.prototype.ua,Ey.prototype.get=Ey.prototype.get,Ey.prototype.getKeys=Ey.prototype.P,Ey.prototype.getProperties=Ey.prototype.M,Ey.prototype.set=Ey.prototype.set,Ey.prototype.setProperties=Ey.prototype.H,Ey.prototype.unset=Ey.prototype.R,Ey.prototype.changed=Ey.prototype.s,Ey.prototype.dispatchEvent=Ey.prototype.b,Ey.prototype.getRevision=Ey.prototype.L,Ey.prototype.on=Ey.prototype.J,Ey.prototype.once=Ey.prototype.once,Ey.prototype.un=Ey.prototype.K,Iy.prototype.setRenderReprojectionEdges=Iy.prototype.Ob,Iy.prototype.setTileGridForProjection=Iy.prototype.Pb,Iy.prototype.getTileLoadFunction=Iy.prototype.ob,Iy.prototype.getTileUrlFunction=Iy.prototype.qb,Iy.prototype.getUrls=Iy.prototype.rb,Iy.prototype.setTileLoadFunction=Iy.prototype.wb,Iy.prototype.setTileUrlFunction=Iy.prototype.bb,Iy.prototype.setUrl=Iy.prototype.ib,Iy.prototype.setUrls=Iy.prototype.cb,Iy.prototype.getTileGrid=Iy.prototype.ab,Iy.prototype.refresh=Iy.prototype.va,Iy.prototype.getAttributions=Iy.prototype.xa,Iy.prototype.getLogo=Iy.prototype.wa,Iy.prototype.getProjection=Iy.prototype.ya,Iy.prototype.getState=Iy.prototype.V,Iy.prototype.setAttributions=Iy.prototype.ua,Iy.prototype.get=Iy.prototype.get,Iy.prototype.getKeys=Iy.prototype.P,Iy.prototype.getProperties=Iy.prototype.M,Iy.prototype.set=Iy.prototype.set,Iy.prototype.setProperties=Iy.prototype.H,Iy.prototype.unset=Iy.prototype.R,Iy.prototype.changed=Iy.prototype.s,Iy.prototype.dispatchEvent=Iy.prototype.b,Iy.prototype.getRevision=Iy.prototype.L,Iy.prototype.on=Iy.prototype.J,Iy.prototype.once=Iy.prototype.once,Iy.prototype.un=Iy.prototype.K,Ny.prototype.getTileGrid=Ny.prototype.ab,Ny.prototype.refresh=Ny.prototype.va,Ny.prototype.getAttributions=Ny.prototype.xa,Ny.prototype.getLogo=Ny.prototype.wa,Ny.prototype.getProjection=Ny.prototype.ya,Ny.prototype.getState=Ny.prototype.V,Ny.prototype.setAttributions=Ny.prototype.ua,Ny.prototype.get=Ny.prototype.get,Ny.prototype.getKeys=Ny.prototype.P,Ny.prototype.getProperties=Ny.prototype.M,Ny.prototype.set=Ny.prototype.set,Ny.prototype.setProperties=Ny.prototype.H,Ny.prototype.unset=Ny.prototype.R,Ny.prototype.changed=Ny.prototype.s,Ny.prototype.dispatchEvent=Ny.prototype.b,Ny.prototype.getRevision=Ny.prototype.L,Ny.prototype.on=Ny.prototype.J,Ny.prototype.once=Ny.prototype.once,Ny.prototype.un=Ny.prototype.K,Dy.prototype.setRenderReprojectionEdges=Dy.prototype.Ob,Dy.prototype.setTileGridForProjection=Dy.prototype.Pb,Dy.prototype.getTileLoadFunction=Dy.prototype.ob,Dy.prototype.getTileUrlFunction=Dy.prototype.qb,Dy.prototype.getUrls=Dy.prototype.rb,Dy.prototype.setTileLoadFunction=Dy.prototype.wb,Dy.prototype.setTileUrlFunction=Dy.prototype.bb,Dy.prototype.setUrl=Dy.prototype.ib,Dy.prototype.setUrls=Dy.prototype.cb,Dy.prototype.getTileGrid=Dy.prototype.ab,Dy.prototype.refresh=Dy.prototype.va,Dy.prototype.getAttributions=Dy.prototype.xa,Dy.prototype.getLogo=Dy.prototype.wa,Dy.prototype.getProjection=Dy.prototype.ya,Dy.prototype.getState=Dy.prototype.V,Dy.prototype.setAttributions=Dy.prototype.ua,Dy.prototype.get=Dy.prototype.get,Dy.prototype.getKeys=Dy.prototype.P,Dy.prototype.getProperties=Dy.prototype.M,Dy.prototype.set=Dy.prototype.set,Dy.prototype.setProperties=Dy.prototype.H,Dy.prototype.unset=Dy.prototype.R,Dy.prototype.changed=Dy.prototype.s,Dy.prototype.dispatchEvent=Dy.prototype.b,Dy.prototype.getRevision=Dy.prototype.L,Dy.prototype.on=Dy.prototype.J,Dy.prototype.once=Dy.prototype.once,Dy.prototype.un=Dy.prototype.K,af.prototype.type=af.prototype.type,af.prototype.target=af.prototype.target,af.prototype.preventDefault=af.prototype.preventDefault,af.prototype.stopPropagation=af.prototype.stopPropagation,Yy.prototype.getTileLoadFunction=Yy.prototype.ob,Yy.prototype.getTileUrlFunction=Yy.prototype.qb,Yy.prototype.getUrls=Yy.prototype.rb,Yy.prototype.setTileLoadFunction=Yy.prototype.wb,Yy.prototype.setTileUrlFunction=Yy.prototype.bb,Yy.prototype.setUrl=Yy.prototype.ib,Yy.prototype.setUrls=Yy.prototype.cb,Yy.prototype.getTileGrid=Yy.prototype.ab,Yy.prototype.refresh=Yy.prototype.va,Yy.prototype.getAttributions=Yy.prototype.xa,Yy.prototype.getLogo=Yy.prototype.wa,Yy.prototype.getProjection=Yy.prototype.ya,Yy.prototype.getState=Yy.prototype.V,Yy.prototype.setAttributions=Yy.prototype.ua,Yy.prototype.get=Yy.prototype.get,Yy.prototype.getKeys=Yy.prototype.P,Yy.prototype.getProperties=Yy.prototype.M,Yy.prototype.set=Yy.prototype.set,Yy.prototype.setProperties=Yy.prototype.H,Yy.prototype.unset=Yy.prototype.R,Yy.prototype.changed=Yy.prototype.s,Yy.prototype.dispatchEvent=Yy.prototype.b;Yy.prototype.getRevision=Yy.prototype.L;return Yy.prototype.on=Yy.prototype.J,Yy.prototype.once=Yy.prototype.once,Yy.prototype.un=Yy.prototype.K,zy.prototype.setRenderReprojectionEdges=zy.prototype.Ob,zy.prototype.setTileGridForProjection=zy.prototype.Pb,zy.prototype.getTileLoadFunction=zy.prototype.ob,zy.prototype.getTileUrlFunction=zy.prototype.qb,zy.prototype.getUrls=zy.prototype.rb,zy.prototype.setTileLoadFunction=zy.prototype.wb,zy.prototype.setTileUrlFunction=zy.prototype.bb,zy.prototype.setUrl=zy.prototype.ib,zy.prototype.setUrls=zy.prototype.cb,zy.prototype.getTileGrid=zy.prototype.ab,zy.prototype.refresh=zy.prototype.va,zy.prototype.getAttributions=zy.prototype.xa,zy.prototype.getLogo=zy.prototype.wa,zy.prototype.getProjection=zy.prototype.ya,zy.prototype.getState=zy.prototype.V,zy.prototype.setAttributions=zy.prototype.ua,zy.prototype.get=zy.prototype.get,zy.prototype.getKeys=zy.prototype.P,zy.prototype.getProperties=zy.prototype.M,zy.prototype.set=zy.prototype.set,zy.prototype.setProperties=zy.prototype.H,zy.prototype.unset=zy.prototype.R,zy.prototype.changed=zy.prototype.s,zy.prototype.dispatchEvent=zy.prototype.b,zy.prototype.getRevision=zy.prototype.L,zy.prototype.on=zy.prototype.J,zy.prototype.once=zy.prototype.once,zy.prototype.un=zy.prototype.K,qy.prototype.setRenderReprojectionEdges=qy.prototype.Ob,qy.prototype.setTileGridForProjection=qy.prototype.Pb,qy.prototype.getTileLoadFunction=qy.prototype.ob,qy.prototype.getTileUrlFunction=qy.prototype.qb,qy.prototype.getUrls=qy.prototype.rb,qy.prototype.setTileLoadFunction=qy.prototype.wb,qy.prototype.setTileUrlFunction=qy.prototype.bb,qy.prototype.setUrl=qy.prototype.ib,qy.prototype.setUrls=qy.prototype.cb,qy.prototype.getTileGrid=qy.prototype.ab,qy.prototype.refresh=qy.prototype.va,qy.prototype.getAttributions=qy.prototype.xa,qy.prototype.getLogo=qy.prototype.wa,qy.prototype.getProjection=qy.prototype.ya,qy.prototype.getState=qy.prototype.V,qy.prototype.setAttributions=qy.prototype.ua,qy.prototype.get=qy.prototype.get,qy.prototype.getKeys=qy.prototype.P,qy.prototype.getProperties=qy.prototype.M,qy.prototype.set=qy.prototype.set,qy.prototype.setProperties=qy.prototype.H,qy.prototype.unset=qy.prototype.R,qy.prototype.changed=qy.prototype.s,qy.prototype.dispatchEvent=qy.prototype.b,qy.prototype.getRevision=qy.prototype.L,qy.prototype.on=qy.prototype.J,qy.prototype.once=qy.prototype.once,qy.prototype.un=qy.prototype.K,Ud.prototype.getTileCoord=Ud.prototype.i,Ud.prototype.load=Ud.prototype.load,Sc.prototype.changed=Sc.prototype.s,Sc.prototype.dispatchEvent=Sc.prototype.b,Sc.prototype.getRevision=Sc.prototype.L,Sc.prototype.on=Sc.prototype.J,Sc.prototype.once=Sc.prototype.once,Sc.prototype.un=Sc.prototype.K,Yc.prototype.changed=Yc.prototype.s,Yc.prototype.dispatchEvent=Yc.prototype.b,Yc.prototype.getRevision=Yc.prototype.L,Yc.prototype.on=Yc.prototype.J,Yc.prototype.once=Yc.prototype.once,Yc.prototype.un=Yc.prototype.K,Td.prototype.changed=Td.prototype.s,Td.prototype.dispatchEvent=Td.prototype.b,Td.prototype.getRevision=Td.prototype.L,Td.prototype.on=Td.prototype.J,Td.prototype.once=Td.prototype.once,Td.prototype.un=Td.prototype.K,Dd.prototype.changed=Dd.prototype.s,Dd.prototype.dispatchEvent=Dd.prototype.b,Dd.prototype.getRevision=Dd.prototype.L,Dd.prototype.on=Dd.prototype.J,Dd.prototype.once=Dd.prototype.once,Dd.prototype.un=Dd.prototype.K,zc.prototype.changed=zc.prototype.s,zc.prototype.dispatchEvent=zc.prototype.b,zc.prototype.getRevision=zc.prototype.L,zc.prototype.on=zc.prototype.J,zc.prototype.once=zc.prototype.once,zc.prototype.un=zc.prototype.K,Nc.prototype.changed=Nc.prototype.s,Nc.prototype.dispatchEvent=Nc.prototype.b,Nc.prototype.getRevision=Nc.prototype.L,Nc.prototype.on=Nc.prototype.J,Nc.prototype.once=Nc.prototype.once,Nc.prototype.un=Nc.prototype.K,ld.prototype.changed=ld.prototype.s,ld.prototype.dispatchEvent=ld.prototype.b,ld.prototype.getRevision=ld.prototype.L,ld.prototype.on=ld.prototype.J,ld.prototype.once=ld.prototype.once,ld.prototype.un=ld.prototype.K,cd.prototype.changed=cd.prototype.s,cd.prototype.dispatchEvent=cd.prototype.b,cd.prototype.getRevision=cd.prototype.L,cd.prototype.on=cd.prototype.J,cd.prototype.once=cd.prototype.once,cd.prototype.un=cd.prototype.K,Id.prototype.changed=Id.prototype.s,Id.prototype.dispatchEvent=Id.prototype.b,Id.prototype.getRevision=Id.prototype.L,Id.prototype.on=Id.prototype.J,Id.prototype.once=Id.prototype.once,Id.prototype.un=Id.prototype.K,Kc.prototype.changed=Kc.prototype.s,Kc.prototype.dispatchEvent=Kc.prototype.b,Kc.prototype.getRevision=Kc.prototype.L,Kc.prototype.on=Kc.prototype.J,Kc.prototype.once=Kc.prototype.once,Kc.prototype.un=Kc.prototype.K,jd.prototype.changed=jd.prototype.s,jd.prototype.dispatchEvent=jd.prototype.b,jd.prototype.getRevision=jd.prototype.L,jd.prototype.on=jd.prototype.J,jd.prototype.once=jd.prototype.once,jd.prototype.un=jd.prototype.K,Pr.prototype.type=Pr.prototype.type,Pr.prototype.target=Pr.prototype.target,Pr.prototype.preventDefault=Pr.prototype.preventDefault,Pr.prototype.stopPropagation=Pr.prototype.stopPropagation,sn.prototype.type=sn.prototype.type,sn.prototype.target=sn.prototype.target,sn.prototype.preventDefault=sn.prototype.preventDefault,sn.prototype.stopPropagation=sn.prototype.stopPropagation,tr.prototype.get=tr.prototype.get,tr.prototype.getKeys=tr.prototype.P,tr.prototype.getProperties=tr.prototype.M,tr.prototype.set=tr.prototype.set,tr.prototype.setProperties=tr.prototype.H,tr.prototype.unset=tr.prototype.R,tr.prototype.changed=tr.prototype.s,tr.prototype.dispatchEvent=tr.prototype.b,tr.prototype.getRevision=tr.prototype.L,tr.prototype.on=tr.prototype.J,tr.prototype.once=tr.prototype.once,tr.prototype.un=tr.prototype.K,nr.prototype.getExtent=nr.prototype.D,nr.prototype.getMaxResolution=nr.prototype.hc,nr.prototype.getMinResolution=nr.prototype.ic,nr.prototype.getOpacity=nr.prototype.jc,nr.prototype.getVisible=nr.prototype.Lb,nr.prototype.getZIndex=nr.prototype.Aa,nr.prototype.setExtent=nr.prototype.xc,nr.prototype.setMaxResolution=nr.prototype.Cc,nr.prototype.setMinResolution=nr.prototype.Dc,nr.prototype.setOpacity=nr.prototype.yc,nr.prototype.setVisible=nr.prototype.zc,nr.prototype.setZIndex=nr.prototype.Xb,nr.prototype.get=nr.prototype.get,nr.prototype.getKeys=nr.prototype.P,nr.prototype.getProperties=nr.prototype.M,nr.prototype.set=nr.prototype.set,nr.prototype.setProperties=nr.prototype.H,nr.prototype.unset=nr.prototype.R,nr.prototype.changed=nr.prototype.s,nr.prototype.dispatchEvent=nr.prototype.b,nr.prototype.getRevision=nr.prototype.L,nr.prototype.on=nr.prototype.J,nr.prototype.once=nr.prototype.once,nr.prototype.un=nr.prototype.K,or.prototype.getExtent=or.prototype.D,or.prototype.getMaxResolution=or.prototype.hc,or.prototype.getMinResolution=or.prototype.ic,or.prototype.getOpacity=or.prototype.jc,or.prototype.getVisible=or.prototype.Lb,or.prototype.getZIndex=or.prototype.Aa,or.prototype.setExtent=or.prototype.xc,or.prototype.setMaxResolution=or.prototype.Cc,or.prototype.setMinResolution=or.prototype.Dc,or.prototype.setOpacity=or.prototype.yc,or.prototype.setVisible=or.prototype.zc,or.prototype.setZIndex=or.prototype.Xb,or.prototype.get=or.prototype.get,or.prototype.getKeys=or.prototype.P,or.prototype.getProperties=or.prototype.M,or.prototype.set=or.prototype.set,or.prototype.setProperties=or.prototype.H,or.prototype.unset=or.prototype.R,or.prototype.changed=or.prototype.s,or.prototype.dispatchEvent=or.prototype.b,or.prototype.getRevision=or.prototype.L,or.prototype.on=or.prototype.J,or.prototype.once=or.prototype.once,or.prototype.un=or.prototype.K,Hc.prototype.setMap=Hc.prototype.setMap,Hc.prototype.setSource=Hc.prototype.ad,Hc.prototype.getExtent=Hc.prototype.D,Hc.prototype.getMaxResolution=Hc.prototype.hc,Hc.prototype.getMinResolution=Hc.prototype.ic,Hc.prototype.getOpacity=Hc.prototype.jc,Hc.prototype.getVisible=Hc.prototype.Lb,Hc.prototype.getZIndex=Hc.prototype.Aa,Hc.prototype.setExtent=Hc.prototype.xc,Hc.prototype.setMaxResolution=Hc.prototype.Cc,Hc.prototype.setMinResolution=Hc.prototype.Dc,Hc.prototype.setOpacity=Hc.prototype.yc,Hc.prototype.setVisible=Hc.prototype.zc,Hc.prototype.setZIndex=Hc.prototype.Xb,Hc.prototype.get=Hc.prototype.get,Hc.prototype.getKeys=Hc.prototype.P,Hc.prototype.getProperties=Hc.prototype.M,Hc.prototype.set=Hc.prototype.set,Hc.prototype.setProperties=Hc.prototype.H,Hc.prototype.unset=Hc.prototype.R,Hc.prototype.changed=Hc.prototype.s,Hc.prototype.dispatchEvent=Hc.prototype.b,Hc.prototype.getRevision=Hc.prototype.L,Hc.prototype.on=Hc.prototype.J,Hc.prototype.once=Hc.prototype.once,Hc.prototype.un=Hc.prototype.K,ud.prototype.getSource=ud.prototype.ka,ud.prototype.getStyle=ud.prototype.C,ud.prototype.getStyleFunction=ud.prototype.G,ud.prototype.setStyle=ud.prototype.f,ud.prototype.setMap=ud.prototype.setMap,ud.prototype.setSource=ud.prototype.ad,ud.prototype.getExtent=ud.prototype.D,ud.prototype.getMaxResolution=ud.prototype.hc,ud.prototype.getMinResolution=ud.prototype.ic,ud.prototype.getOpacity=ud.prototype.jc,ud.prototype.getVisible=ud.prototype.Lb,ud.prototype.getZIndex=ud.prototype.Aa,ud.prototype.setExtent=ud.prototype.xc,ud.prototype.setMaxResolution=ud.prototype.Cc,ud.prototype.setMinResolution=ud.prototype.Dc,ud.prototype.setOpacity=ud.prototype.yc,ud.prototype.setVisible=ud.prototype.zc,ud.prototype.setZIndex=ud.prototype.Xb,ud.prototype.get=ud.prototype.get,ud.prototype.getKeys=ud.prototype.P,ud.prototype.getProperties=ud.prototype.M,ud.prototype.set=ud.prototype.set,ud.prototype.setProperties=ud.prototype.H,ud.prototype.unset=ud.prototype.R,ud.prototype.changed=ud.prototype.s,ud.prototype.dispatchEvent=ud.prototype.b,ud.prototype.getRevision=ud.prototype.L,ud.prototype.on=ud.prototype.J,ud.prototype.once=ud.prototype.once,ud.prototype.un=ud.prototype.K,Ld.prototype.setMap=Ld.prototype.setMap,Ld.prototype.setSource=Ld.prototype.ad,Ld.prototype.getExtent=Ld.prototype.D,Ld.prototype.getMaxResolution=Ld.prototype.hc,Ld.prototype.getMinResolution=Ld.prototype.ic,Ld.prototype.getOpacity=Ld.prototype.jc,Ld.prototype.getVisible=Ld.prototype.Lb,Ld.prototype.getZIndex=Ld.prototype.Aa,Ld.prototype.setExtent=Ld.prototype.xc,Ld.prototype.setMaxResolution=Ld.prototype.Cc,Ld.prototype.setMinResolution=Ld.prototype.Dc,Ld.prototype.setOpacity=Ld.prototype.yc,Ld.prototype.setVisible=Ld.prototype.zc,Ld.prototype.setZIndex=Ld.prototype.Xb,Ld.prototype.get=Ld.prototype.get,Ld.prototype.getKeys=Ld.prototype.P,Ld.prototype.getProperties=Ld.prototype.M,Ld.prototype.set=Ld.prototype.set,Ld.prototype.setProperties=Ld.prototype.H,Ld.prototype.unset=Ld.prototype.R,Ld.prototype.changed=Ld.prototype.s,Ld.prototype.dispatchEvent=Ld.prototype.b,Ld.prototype.getRevision=Ld.prototype.L,Ld.prototype.on=Ld.prototype.J,Ld.prototype.once=Ld.prototype.once,Ld.prototype.un=Ld.prototype.K,Fd.prototype.setMap=Fd.prototype.setMap,Fd.prototype.setSource=Fd.prototype.ad,Fd.prototype.getExtent=Fd.prototype.D,Fd.prototype.getMaxResolution=Fd.prototype.hc,Fd.prototype.getMinResolution=Fd.prototype.ic,Fd.prototype.getOpacity=Fd.prototype.jc,Fd.prototype.getVisible=Fd.prototype.Lb,Fd.prototype.getZIndex=Fd.prototype.Aa,Fd.prototype.setExtent=Fd.prototype.xc,Fd.prototype.setMaxResolution=Fd.prototype.Cc,Fd.prototype.setMinResolution=Fd.prototype.Dc,Fd.prototype.setOpacity=Fd.prototype.yc,Fd.prototype.setVisible=Fd.prototype.zc,Fd.prototype.setZIndex=Fd.prototype.Xb,Fd.prototype.get=Fd.prototype.get,Fd.prototype.getKeys=Fd.prototype.P,Fd.prototype.getProperties=Fd.prototype.M,Fd.prototype.set=Fd.prototype.set,Fd.prototype.setProperties=Fd.prototype.H,Fd.prototype.unset=Fd.prototype.R,Fd.prototype.changed=Fd.prototype.s,Fd.prototype.dispatchEvent=Fd.prototype.b,Fd.prototype.getRevision=Fd.prototype.L,Fd.prototype.on=Fd.prototype.J,Fd.prototype.once=Fd.prototype.once,Fd.prototype.un=Fd.prototype.K,Bd.prototype.getSource=Bd.prototype.ka,Bd.prototype.getStyle=Bd.prototype.C,Bd.prototype.getStyleFunction=Bd.prototype.G,Bd.prototype.setStyle=Bd.prototype.f,Bd.prototype.setMap=Bd.prototype.setMap,Bd.prototype.setSource=Bd.prototype.ad,Bd.prototype.getExtent=Bd.prototype.D,Bd.prototype.getMaxResolution=Bd.prototype.hc,Bd.prototype.getMinResolution=Bd.prototype.ic,Bd.prototype.getOpacity=Bd.prototype.jc,Bd.prototype.getVisible=Bd.prototype.Lb,Bd.prototype.getZIndex=Bd.prototype.Aa,Bd.prototype.setExtent=Bd.prototype.xc,Bd.prototype.setMaxResolution=Bd.prototype.Cc,Bd.prototype.setMinResolution=Bd.prototype.Dc,Bd.prototype.setOpacity=Bd.prototype.yc,Bd.prototype.setVisible=Bd.prototype.zc,Bd.prototype.setZIndex=Bd.prototype.Xb,Bd.prototype.get=Bd.prototype.get,Bd.prototype.getKeys=Bd.prototype.P,Bd.prototype.getProperties=Bd.prototype.M,Bd.prototype.set=Bd.prototype.set,Bd.prototype.setProperties=Bd.prototype.H,Bd.prototype.unset=Bd.prototype.R,Bd.prototype.changed=Bd.prototype.s,Bd.prototype.dispatchEvent=Bd.prototype.b,Bd.prototype.getRevision=Bd.prototype.L,Bd.prototype.on=Bd.prototype.J,Bd.prototype.once=Bd.prototype.once,Bd.prototype.un=Bd.prototype.K,oi.prototype.get=oi.prototype.get,oi.prototype.getKeys=oi.prototype.P,oi.prototype.getProperties=oi.prototype.M,oi.prototype.set=oi.prototype.set,oi.prototype.setProperties=oi.prototype.H,oi.prototype.unset=oi.prototype.R,oi.prototype.changed=oi.prototype.s,oi.prototype.dispatchEvent=oi.prototype.b,oi.prototype.getRevision=oi.prototype.L,oi.prototype.on=oi.prototype.J,oi.prototype.once=oi.prototype.once,oi.prototype.un=oi.prototype.K,si.prototype.getActive=si.prototype.c,si.prototype.getMap=si.prototype.i,si.prototype.setActive=si.prototype.Ia,si.prototype.get=si.prototype.get,si.prototype.getKeys=si.prototype.P,si.prototype.getProperties=si.prototype.M,si.prototype.set=si.prototype.set,si.prototype.setProperties=si.prototype.H,si.prototype.unset=si.prototype.R,si.prototype.changed=si.prototype.s,si.prototype.dispatchEvent=si.prototype.b,si.prototype.getRevision=si.prototype.L,si.prototype.on=si.prototype.J,si.prototype.once=si.prototype.once,si.prototype.un=si.prototype.K,$l.prototype.getActive=$l.prototype.c,$l.prototype.getMap=$l.prototype.i,$l.prototype.setActive=$l.prototype.Ia,$l.prototype.get=$l.prototype.get,$l.prototype.getKeys=$l.prototype.P,$l.prototype.getProperties=$l.prototype.M,$l.prototype.set=$l.prototype.set,$l.prototype.setProperties=$l.prototype.H,$l.prototype.unset=$l.prototype.R,$l.prototype.changed=$l.prototype.s,$l.prototype.dispatchEvent=$l.prototype.b,$l.prototype.getRevision=$l.prototype.L,$l.prototype.on=$l.prototype.J,$l.prototype.once=$l.prototype.once,$l.prototype.un=$l.prototype.K,Ql.prototype.type=Ql.prototype.type,Ql.prototype.target=Ql.prototype.target,Ql.prototype.preventDefault=Ql.prototype.preventDefault,Ql.prototype.stopPropagation=Ql.prototype.stopPropagation,mi.prototype.getActive=mi.prototype.c,mi.prototype.getMap=mi.prototype.i,mi.prototype.setActive=mi.prototype.Ia,mi.prototype.get=mi.prototype.get,mi.prototype.getKeys=mi.prototype.P,mi.prototype.getProperties=mi.prototype.M,mi.prototype.set=mi.prototype.set,mi.prototype.setProperties=mi.prototype.H,mi.prototype.unset=mi.prototype.R,mi.prototype.changed=mi.prototype.s,mi.prototype.dispatchEvent=mi.prototype.b,mi.prototype.getRevision=mi.prototype.L,mi.prototype.on=mi.prototype.J,mi.prototype.once=mi.prototype.once,mi.prototype.un=mi.prototype.K,Ni.prototype.getActive=Ni.prototype.c,Ni.prototype.getMap=Ni.prototype.i,Ni.prototype.setActive=Ni.prototype.Ia,Ni.prototype.get=Ni.prototype.get,Ni.prototype.getKeys=Ni.prototype.P,Ni.prototype.getProperties=Ni.prototype.M,Ni.prototype.set=Ni.prototype.set,Ni.prototype.setProperties=Ni.prototype.H,Ni.prototype.unset=Ni.prototype.R,Ni.prototype.changed=Ni.prototype.s,Ni.prototype.dispatchEvent=Ni.prototype.b,Ni.prototype.getRevision=Ni.prototype.L,Ni.prototype.on=Ni.prototype.J,Ni.prototype.once=Ni.prototype.once,Ni.prototype.un=Ni.prototype.K,Fi.prototype.type=Fi.prototype.type,Fi.prototype.target=Fi.prototype.target,Fi.prototype.preventDefault=Fi.prototype.preventDefault,Fi.prototype.stopPropagation=Fi.prototype.stopPropagation,_i.prototype.getActive=_i.prototype.c,_i.prototype.getMap=_i.prototype.i,_i.prototype.setActive=_i.prototype.Ia,_i.prototype.get=_i.prototype.get,_i.prototype.getKeys=_i.prototype.P,_i.prototype.getProperties=_i.prototype.M,_i.prototype.set=_i.prototype.set,_i.prototype.setProperties=_i.prototype.H,_i.prototype.unset=_i.prototype.R,_i.prototype.changed=_i.prototype.s,_i.prototype.dispatchEvent=_i.prototype.b,_i.prototype.getRevision=_i.prototype.L,_i.prototype.on=_i.prototype.J,_i.prototype.once=_i.prototype.once,_i.prototype.un=_i.prototype.K,Ci.prototype.getActive=Ci.prototype.c,Ci.prototype.getMap=Ci.prototype.i,Ci.prototype.setActive=Ci.prototype.Ia,Ci.prototype.get=Ci.prototype.get,Ci.prototype.getKeys=Ci.prototype.P,Ci.prototype.getProperties=Ci.prototype.M,Ci.prototype.set=Ci.prototype.set,Ci.prototype.setProperties=Ci.prototype.H,Ci.prototype.unset=Ci.prototype.R,Ci.prototype.changed=Ci.prototype.s,Ci.prototype.dispatchEvent=Ci.prototype.b,Ci.prototype.getRevision=Ci.prototype.L,Ci.prototype.on=Ci.prototype.J,Ci.prototype.once=Ci.prototype.once,Ci.prototype.un=Ci.prototype.K,tc.prototype.getActive=tc.prototype.c,tc.prototype.getMap=tc.prototype.i,tc.prototype.setActive=tc.prototype.Ia,tc.prototype.get=tc.prototype.get,tc.prototype.getKeys=tc.prototype.P,tc.prototype.getProperties=tc.prototype.M,tc.prototype.set=tc.prototype.set,tc.prototype.setProperties=tc.prototype.H,tc.prototype.unset=tc.prototype.R,tc.prototype.changed=tc.prototype.s,tc.prototype.dispatchEvent=tc.prototype.b,tc.prototype.getRevision=tc.prototype.L,tc.prototype.on=tc.prototype.J,tc.prototype.once=tc.prototype.once,tc.prototype.un=tc.prototype.K,ji.prototype.getGeometry=ji.prototype.U,ji.prototype.getActive=ji.prototype.c,ji.prototype.getMap=ji.prototype.i,ji.prototype.setActive=ji.prototype.Ia,ji.prototype.get=ji.prototype.get,ji.prototype.getKeys=ji.prototype.P,ji.prototype.getProperties=ji.prototype.M,ji.prototype.set=ji.prototype.set,ji.prototype.setProperties=ji.prototype.H,ji.prototype.unset=ji.prototype.R,ji.prototype.changed=ji.prototype.s,ji.prototype.dispatchEvent=ji.prototype.b,ji.prototype.getRevision=ji.prototype.L,ji.prototype.on=ji.prototype.J,ji.prototype.once=ji.prototype.once,ji.prototype.un=ji.prototype.K,sf.prototype.getActive=sf.prototype.c,sf.prototype.getMap=sf.prototype.i,sf.prototype.setActive=sf.prototype.Ia,sf.prototype.get=sf.prototype.get,sf.prototype.getKeys=sf.prototype.P,sf.prototype.getProperties=sf.prototype.M,sf.prototype.set=sf.prototype.set,sf.prototype.setProperties=sf.prototype.H,sf.prototype.unset=sf.prototype.R,sf.prototype.changed=sf.prototype.s,sf.prototype.dispatchEvent=sf.prototype.b,sf.prototype.getRevision=sf.prototype.L,sf.prototype.on=sf.prototype.J,sf.prototype.once=sf.prototype.once,sf.prototype.un=sf.prototype.K,bf.prototype.type=bf.prototype.type,bf.prototype.target=bf.prototype.target,bf.prototype.preventDefault=bf.prototype.preventDefault,bf.prototype.stopPropagation=bf.prototype.stopPropagation,xf.prototype.getActive=xf.prototype.c,xf.prototype.getMap=xf.prototype.i,xf.prototype.setActive=xf.prototype.Ia,xf.prototype.get=xf.prototype.get,xf.prototype.getKeys=xf.prototype.P,xf.prototype.getProperties=xf.prototype.M,xf.prototype.set=xf.prototype.set,xf.prototype.setProperties=xf.prototype.H,xf.prototype.unset=xf.prototype.R,xf.prototype.changed=xf.prototype.s,xf.prototype.dispatchEvent=xf.prototype.b,xf.prototype.getRevision=xf.prototype.L,xf.prototype.on=xf.prototype.J,xf.prototype.once=xf.prototype.once,xf.prototype.un=xf.prototype.K,If.prototype.type=If.prototype.type,If.prototype.target=If.prototype.target,If.prototype.preventDefault=If.prototype.preventDefault,If.prototype.stopPropagation=If.prototype.stopPropagation,Ki.prototype.getActive=Ki.prototype.c,Ki.prototype.getMap=Ki.prototype.i,Ki.prototype.setActive=Ki.prototype.Ia,Ki.prototype.get=Ki.prototype.get,Ki.prototype.getKeys=Ki.prototype.P,Ki.prototype.getProperties=Ki.prototype.M,Ki.prototype.set=Ki.prototype.set,Ki.prototype.setProperties=Ki.prototype.H,Ki.prototype.unset=Ki.prototype.R,Ki.prototype.changed=Ki.prototype.s,Ki.prototype.dispatchEvent=Ki.prototype.b,Ki.prototype.getRevision=Ki.prototype.L,Ki.prototype.on=Ki.prototype.J,Ki.prototype.once=Ki.prototype.once,Ki.prototype.un=Ki.prototype.K,Xi.prototype.getActive=Xi.prototype.c,Xi.prototype.getMap=Xi.prototype.i,Xi.prototype.setActive=Xi.prototype.Ia,Xi.prototype.get=Xi.prototype.get,Xi.prototype.getKeys=Xi.prototype.P,Xi.prototype.getProperties=Xi.prototype.M,Xi.prototype.set=Xi.prototype.set,Xi.prototype.setProperties=Xi.prototype.H,Xi.prototype.unset=Xi.prototype.R,Xi.prototype.changed=Xi.prototype.s,Xi.prototype.dispatchEvent=Xi.prototype.b,Xi.prototype.getRevision=Xi.prototype.L,Xi.prototype.on=Xi.prototype.J,Xi.prototype.once=Xi.prototype.once,Xi.prototype.un=Xi.prototype.K,Nf.prototype.getActive=Nf.prototype.c,Nf.prototype.getMap=Nf.prototype.i,Nf.prototype.setActive=Nf.prototype.Ia,Nf.prototype.get=Nf.prototype.get,Nf.prototype.getKeys=Nf.prototype.P,Nf.prototype.getProperties=Nf.prototype.M,Nf.prototype.set=Nf.prototype.set,Nf.prototype.setProperties=Nf.prototype.H,Nf.prototype.unset=Nf.prototype.R,Nf.prototype.changed=Nf.prototype.s,Nf.prototype.dispatchEvent=Nf.prototype.b,Nf.prototype.getRevision=Nf.prototype.L,Nf.prototype.on=Nf.prototype.J,Nf.prototype.once=Nf.prototype.once,Nf.prototype.un=Nf.prototype.K,Hf.prototype.type=Hf.prototype.type,Hf.prototype.target=Hf.prototype.target,Hf.prototype.preventDefault=Hf.prototype.preventDefault,Hf.prototype.stopPropagation=Hf.prototype.stopPropagation,
Yi.prototype.getActive=Yi.prototype.c,Yi.prototype.getMap=Yi.prototype.i,Yi.prototype.setActive=Yi.prototype.Ia,Yi.prototype.get=Yi.prototype.get,Yi.prototype.getKeys=Yi.prototype.P,Yi.prototype.getProperties=Yi.prototype.M,Yi.prototype.set=Yi.prototype.set,Yi.prototype.setProperties=Yi.prototype.H,Yi.prototype.unset=Yi.prototype.R,Yi.prototype.changed=Yi.prototype.s,Yi.prototype.dispatchEvent=Yi.prototype.b,Yi.prototype.getRevision=Yi.prototype.L,Yi.prototype.on=Yi.prototype.J,Yi.prototype.once=Yi.prototype.once,Yi.prototype.un=Yi.prototype.K,Wi.prototype.getActive=Wi.prototype.c,Wi.prototype.getMap=Wi.prototype.i,Wi.prototype.setActive=Wi.prototype.Ia,Wi.prototype.get=Wi.prototype.get,Wi.prototype.getKeys=Wi.prototype.P,Wi.prototype.getProperties=Wi.prototype.M,Wi.prototype.set=Wi.prototype.set,Wi.prototype.setProperties=Wi.prototype.H,Wi.prototype.unset=Wi.prototype.R,Wi.prototype.changed=Wi.prototype.s,Wi.prototype.dispatchEvent=Wi.prototype.b,Wi.prototype.getRevision=Wi.prototype.L,Wi.prototype.on=Wi.prototype.J,Wi.prototype.once=Wi.prototype.once,Wi.prototype.un=Wi.prototype.K,Vi.prototype.getActive=Vi.prototype.c,Vi.prototype.getMap=Vi.prototype.i,Vi.prototype.setActive=Vi.prototype.Ia,Vi.prototype.get=Vi.prototype.get,Vi.prototype.getKeys=Vi.prototype.P,Vi.prototype.getProperties=Vi.prototype.M,Vi.prototype.set=Vi.prototype.set,Vi.prototype.setProperties=Vi.prototype.H,Vi.prototype.unset=Vi.prototype.R,Vi.prototype.changed=Vi.prototype.s,Vi.prototype.dispatchEvent=Vi.prototype.b,Vi.prototype.getRevision=Vi.prototype.L,Vi.prototype.on=Vi.prototype.J,Vi.prototype.once=Vi.prototype.once,Vi.prototype.un=Vi.prototype.K,qf.prototype.getActive=qf.prototype.c,qf.prototype.getMap=qf.prototype.i,qf.prototype.setActive=qf.prototype.Ia,qf.prototype.get=qf.prototype.get,qf.prototype.getKeys=qf.prototype.P,qf.prototype.getProperties=qf.prototype.M,qf.prototype.set=qf.prototype.set,qf.prototype.setProperties=qf.prototype.H,qf.prototype.unset=qf.prototype.R,qf.prototype.changed=qf.prototype.s,qf.prototype.dispatchEvent=qf.prototype.b,qf.prototype.getRevision=qf.prototype.L,qf.prototype.on=qf.prototype.J,qf.prototype.once=qf.prototype.once,qf.prototype.un=qf.prototype.K,Zf.prototype.type=Zf.prototype.type,Zf.prototype.target=Zf.prototype.target,Zf.prototype.preventDefault=Zf.prototype.preventDefault,Zf.prototype.stopPropagation=Zf.prototype.stopPropagation,Jf.prototype.getActive=Jf.prototype.c,Jf.prototype.getMap=Jf.prototype.i,Jf.prototype.setActive=Jf.prototype.Ia,Jf.prototype.get=Jf.prototype.get,Jf.prototype.getKeys=Jf.prototype.P,Jf.prototype.getProperties=Jf.prototype.M,Jf.prototype.set=Jf.prototype.set,Jf.prototype.setProperties=Jf.prototype.H,Jf.prototype.unset=Jf.prototype.R,Jf.prototype.changed=Jf.prototype.s,Jf.prototype.dispatchEvent=Jf.prototype.b,Jf.prototype.getRevision=Jf.prototype.L,Jf.prototype.on=Jf.prototype.J,Jf.prototype.once=Jf.prototype.once,Jf.prototype.un=Jf.prototype.K,nd.prototype.getActive=nd.prototype.c,nd.prototype.getMap=nd.prototype.i,nd.prototype.setActive=nd.prototype.Ia,nd.prototype.get=nd.prototype.get,nd.prototype.getKeys=nd.prototype.P,nd.prototype.getProperties=nd.prototype.M,nd.prototype.set=nd.prototype.set,nd.prototype.setProperties=nd.prototype.H,nd.prototype.unset=nd.prototype.R,nd.prototype.changed=nd.prototype.s,nd.prototype.dispatchEvent=nd.prototype.b,nd.prototype.getRevision=nd.prototype.L,nd.prototype.on=nd.prototype.J,nd.prototype.once=nd.prototype.once,nd.prototype.un=nd.prototype.K,hd.prototype.type=hd.prototype.type,hd.prototype.target=hd.prototype.target,hd.prototype.preventDefault=hd.prototype.preventDefault,hd.prototype.stopPropagation=hd.prototype.stopPropagation,eo.prototype.get=eo.prototype.get,eo.prototype.getKeys=eo.prototype.P,eo.prototype.getProperties=eo.prototype.M,eo.prototype.set=eo.prototype.set,eo.prototype.setProperties=eo.prototype.H,eo.prototype.unset=eo.prototype.R,eo.prototype.changed=eo.prototype.s,eo.prototype.dispatchEvent=eo.prototype.b,eo.prototype.getRevision=eo.prototype.L,eo.prototype.on=eo.prototype.J,eo.prototype.once=eo.prototype.once,eo.prototype.un=eo.prototype.K,io.prototype.getClosestPoint=io.prototype.Ab,io.prototype.intersectsCoordinate=io.prototype.sb,io.prototype.getExtent=io.prototype.D,io.prototype.rotate=io.prototype.rotate,io.prototype.scale=io.prototype.scale,io.prototype.simplify=io.prototype.Qb,io.prototype.transform=io.prototype.tb,io.prototype.get=io.prototype.get,io.prototype.getKeys=io.prototype.P,io.prototype.getProperties=io.prototype.M,io.prototype.set=io.prototype.set,io.prototype.setProperties=io.prototype.H,io.prototype.unset=io.prototype.R,io.prototype.changed=io.prototype.s,io.prototype.dispatchEvent=io.prototype.b,io.prototype.getRevision=io.prototype.L,io.prototype.on=io.prototype.J,io.prototype.once=io.prototype.once,io.prototype.un=io.prototype.K,Rl.prototype.getFirstCoordinate=Rl.prototype.cc,Rl.prototype.getLastCoordinate=Rl.prototype.dc,Rl.prototype.getLayout=Rl.prototype.ec,Rl.prototype.rotate=Rl.prototype.rotate,Rl.prototype.scale=Rl.prototype.scale,Rl.prototype.getClosestPoint=Rl.prototype.Ab,Rl.prototype.intersectsCoordinate=Rl.prototype.sb,Rl.prototype.getExtent=Rl.prototype.D,Rl.prototype.simplify=Rl.prototype.Qb,Rl.prototype.get=Rl.prototype.get,Rl.prototype.getKeys=Rl.prototype.P,Rl.prototype.getProperties=Rl.prototype.M,Rl.prototype.set=Rl.prototype.set,Rl.prototype.setProperties=Rl.prototype.H,Rl.prototype.unset=Rl.prototype.R,Rl.prototype.changed=Rl.prototype.s,Rl.prototype.dispatchEvent=Rl.prototype.b,Rl.prototype.getRevision=Rl.prototype.L,Rl.prototype.on=Rl.prototype.J,Rl.prototype.once=Rl.prototype.once,Rl.prototype.un=Rl.prototype.K,sh.prototype.getClosestPoint=sh.prototype.Ab,sh.prototype.intersectsCoordinate=sh.prototype.sb,sh.prototype.getExtent=sh.prototype.D,sh.prototype.rotate=sh.prototype.rotate,sh.prototype.scale=sh.prototype.scale,sh.prototype.simplify=sh.prototype.Qb,sh.prototype.transform=sh.prototype.tb,sh.prototype.get=sh.prototype.get,sh.prototype.getKeys=sh.prototype.P,sh.prototype.getProperties=sh.prototype.M,sh.prototype.set=sh.prototype.set,sh.prototype.setProperties=sh.prototype.H,sh.prototype.unset=sh.prototype.R,sh.prototype.changed=sh.prototype.s,sh.prototype.dispatchEvent=sh.prototype.b,sh.prototype.getRevision=sh.prototype.L,sh.prototype.on=sh.prototype.J,sh.prototype.once=sh.prototype.once,sh.prototype.un=sh.prototype.K,Po.prototype.getFirstCoordinate=Po.prototype.cc,Po.prototype.getLastCoordinate=Po.prototype.dc,Po.prototype.getLayout=Po.prototype.ec,Po.prototype.rotate=Po.prototype.rotate,Po.prototype.scale=Po.prototype.scale,Po.prototype.getClosestPoint=Po.prototype.Ab,Po.prototype.intersectsCoordinate=Po.prototype.sb,Po.prototype.getExtent=Po.prototype.D,Po.prototype.simplify=Po.prototype.Qb,Po.prototype.transform=Po.prototype.tb,Po.prototype.get=Po.prototype.get,Po.prototype.getKeys=Po.prototype.P,Po.prototype.getProperties=Po.prototype.M,Po.prototype.set=Po.prototype.set,Po.prototype.setProperties=Po.prototype.H,Po.prototype.unset=Po.prototype.R,Po.prototype.changed=Po.prototype.s,Po.prototype.dispatchEvent=Po.prototype.b,Po.prototype.getRevision=Po.prototype.L,Po.prototype.on=Po.prototype.J,Po.prototype.once=Po.prototype.once,Po.prototype.un=Po.prototype.K,Pp.prototype.getFirstCoordinate=Pp.prototype.cc,Pp.prototype.getLastCoordinate=Pp.prototype.dc,Pp.prototype.getLayout=Pp.prototype.ec,Pp.prototype.rotate=Pp.prototype.rotate,Pp.prototype.scale=Pp.prototype.scale,Pp.prototype.getClosestPoint=Pp.prototype.Ab,Pp.prototype.intersectsCoordinate=Pp.prototype.sb,Pp.prototype.getExtent=Pp.prototype.D,Pp.prototype.simplify=Pp.prototype.Qb,Pp.prototype.transform=Pp.prototype.tb,Pp.prototype.get=Pp.prototype.get,Pp.prototype.getKeys=Pp.prototype.P,Pp.prototype.getProperties=Pp.prototype.M,Pp.prototype.set=Pp.prototype.set,Pp.prototype.setProperties=Pp.prototype.H,Pp.prototype.unset=Pp.prototype.R,Pp.prototype.changed=Pp.prototype.s,Pp.prototype.dispatchEvent=Pp.prototype.b,Pp.prototype.getRevision=Pp.prototype.L,Pp.prototype.on=Pp.prototype.J,Pp.prototype.once=Pp.prototype.once,Pp.prototype.un=Pp.prototype.K,Cp.prototype.getFirstCoordinate=Cp.prototype.cc,Cp.prototype.getLastCoordinate=Cp.prototype.dc,Cp.prototype.getLayout=Cp.prototype.ec,Cp.prototype.rotate=Cp.prototype.rotate,Cp.prototype.scale=Cp.prototype.scale,Cp.prototype.getClosestPoint=Cp.prototype.Ab,Cp.prototype.intersectsCoordinate=Cp.prototype.sb,Cp.prototype.getExtent=Cp.prototype.D,Cp.prototype.simplify=Cp.prototype.Qb,Cp.prototype.transform=Cp.prototype.tb,Cp.prototype.get=Cp.prototype.get,Cp.prototype.getKeys=Cp.prototype.P,Cp.prototype.getProperties=Cp.prototype.M,Cp.prototype.set=Cp.prototype.set,Cp.prototype.setProperties=Cp.prototype.H,Cp.prototype.unset=Cp.prototype.R,Cp.prototype.changed=Cp.prototype.s,Cp.prototype.dispatchEvent=Cp.prototype.b,Cp.prototype.getRevision=Cp.prototype.L,Cp.prototype.on=Cp.prototype.J,Cp.prototype.once=Cp.prototype.once,Cp.prototype.un=Cp.prototype.K,Ap.prototype.getFirstCoordinate=Ap.prototype.cc,Ap.prototype.getLastCoordinate=Ap.prototype.dc,Ap.prototype.getLayout=Ap.prototype.ec,Ap.prototype.rotate=Ap.prototype.rotate,Ap.prototype.scale=Ap.prototype.scale,Ap.prototype.getClosestPoint=Ap.prototype.Ab,Ap.prototype.intersectsCoordinate=Ap.prototype.sb,Ap.prototype.getExtent=Ap.prototype.D,Ap.prototype.simplify=Ap.prototype.Qb,Ap.prototype.transform=Ap.prototype.tb,Ap.prototype.get=Ap.prototype.get,Ap.prototype.getKeys=Ap.prototype.P,Ap.prototype.getProperties=Ap.prototype.M,Ap.prototype.set=Ap.prototype.set,Ap.prototype.setProperties=Ap.prototype.H,Ap.prototype.unset=Ap.prototype.R,Ap.prototype.changed=Ap.prototype.s,Ap.prototype.dispatchEvent=Ap.prototype.b,Ap.prototype.getRevision=Ap.prototype.L,Ap.prototype.on=Ap.prototype.J,Ap.prototype.once=Ap.prototype.once,Ap.prototype.un=Ap.prototype.K,Ep.prototype.getFirstCoordinate=Ep.prototype.cc,Ep.prototype.getLastCoordinate=Ep.prototype.dc,Ep.prototype.getLayout=Ep.prototype.ec,Ep.prototype.rotate=Ep.prototype.rotate,Ep.prototype.scale=Ep.prototype.scale,Ep.prototype.getClosestPoint=Ep.prototype.Ab,Ep.prototype.intersectsCoordinate=Ep.prototype.sb,Ep.prototype.getExtent=Ep.prototype.D,Ep.prototype.simplify=Ep.prototype.Qb,Ep.prototype.transform=Ep.prototype.tb,Ep.prototype.get=Ep.prototype.get,Ep.prototype.getKeys=Ep.prototype.P,Ep.prototype.getProperties=Ep.prototype.M,Ep.prototype.set=Ep.prototype.set,Ep.prototype.setProperties=Ep.prototype.H,Ep.prototype.unset=Ep.prototype.R,Ep.prototype.changed=Ep.prototype.s,Ep.prototype.dispatchEvent=Ep.prototype.b,Ep.prototype.getRevision=Ep.prototype.L,Ep.prototype.on=Ep.prototype.J,Ep.prototype.once=Ep.prototype.once,Ep.prototype.un=Ep.prototype.K,Co.prototype.getFirstCoordinate=Co.prototype.cc,Co.prototype.getLastCoordinate=Co.prototype.dc,Co.prototype.getLayout=Co.prototype.ec,Co.prototype.rotate=Co.prototype.rotate,Co.prototype.scale=Co.prototype.scale,Co.prototype.getClosestPoint=Co.prototype.Ab,Co.prototype.intersectsCoordinate=Co.prototype.sb,Co.prototype.getExtent=Co.prototype.D,Co.prototype.simplify=Co.prototype.Qb,Co.prototype.transform=Co.prototype.tb,Co.prototype.get=Co.prototype.get,Co.prototype.getKeys=Co.prototype.P,Co.prototype.getProperties=Co.prototype.M,Co.prototype.set=Co.prototype.set,Co.prototype.setProperties=Co.prototype.H,Co.prototype.unset=Co.prototype.R,Co.prototype.changed=Co.prototype.s,Co.prototype.dispatchEvent=Co.prototype.b,Co.prototype.getRevision=Co.prototype.L,Co.prototype.on=Co.prototype.J,Co.prototype.once=Co.prototype.once,Co.prototype.un=Co.prototype.K,Fo.prototype.getFirstCoordinate=Fo.prototype.cc,Fo.prototype.getLastCoordinate=Fo.prototype.dc,Fo.prototype.getLayout=Fo.prototype.ec,Fo.prototype.rotate=Fo.prototype.rotate,Fo.prototype.scale=Fo.prototype.scale,Fo.prototype.getClosestPoint=Fo.prototype.Ab,Fo.prototype.intersectsCoordinate=Fo.prototype.sb,Fo.prototype.getExtent=Fo.prototype.D,Fo.prototype.simplify=Fo.prototype.Qb,Fo.prototype.transform=Fo.prototype.tb,Fo.prototype.get=Fo.prototype.get,Fo.prototype.getKeys=Fo.prototype.P,Fo.prototype.getProperties=Fo.prototype.M,Fo.prototype.set=Fo.prototype.set,Fo.prototype.setProperties=Fo.prototype.H,Fo.prototype.unset=Fo.prototype.R,Fo.prototype.changed=Fo.prototype.s,Fo.prototype.dispatchEvent=Fo.prototype.b,Fo.prototype.getRevision=Fo.prototype.L,Fo.prototype.on=Fo.prototype.J,Fo.prototype.once=Fo.prototype.once,Fo.prototype.un=Fo.prototype.K,Lh.prototype.readFeatures=Lh.prototype.Pa,Nh.prototype.readFeatures=Nh.prototype.Pa,Lh.prototype.readFeatures=Lh.prototype.Pa,Le.prototype.get=Le.prototype.get,Le.prototype.getKeys=Le.prototype.P,Le.prototype.getProperties=Le.prototype.M,Le.prototype.set=Le.prototype.set,Le.prototype.setProperties=Le.prototype.H,Le.prototype.unset=Le.prototype.R,Le.prototype.changed=Le.prototype.s,Le.prototype.dispatchEvent=Le.prototype.b,Le.prototype.getRevision=Le.prototype.L,Le.prototype.on=Le.prototype.J,Le.prototype.once=Le.prototype.once,Le.prototype.un=Le.prototype.K,Ie.prototype.getMap=Ie.prototype.f,Ie.prototype.setMap=Ie.prototype.setMap,Ie.prototype.setTarget=Ie.prototype.i,Ie.prototype.get=Ie.prototype.get,Ie.prototype.getKeys=Ie.prototype.P,Ie.prototype.getProperties=Ie.prototype.M,Ie.prototype.set=Ie.prototype.set,Ie.prototype.setProperties=Ie.prototype.H,Ie.prototype.unset=Ie.prototype.R,Ie.prototype.changed=Ie.prototype.s,Ie.prototype.dispatchEvent=Ie.prototype.b,Ie.prototype.getRevision=Ie.prototype.L,Ie.prototype.on=Ie.prototype.J,Ie.prototype.once=Ie.prototype.once,Ie.prototype.un=Ie.prototype.K,Ue.prototype.getMap=Ue.prototype.f,Ue.prototype.setMap=Ue.prototype.setMap,Ue.prototype.setTarget=Ue.prototype.i,Ue.prototype.get=Ue.prototype.get,Ue.prototype.getKeys=Ue.prototype.P,Ue.prototype.getProperties=Ue.prototype.M,Ue.prototype.set=Ue.prototype.set,Ue.prototype.setProperties=Ue.prototype.H,Ue.prototype.unset=Ue.prototype.R,Ue.prototype.changed=Ue.prototype.s,Ue.prototype.dispatchEvent=Ue.prototype.b,Ue.prototype.getRevision=Ue.prototype.L,Ue.prototype.on=Ue.prototype.J,Ue.prototype.once=Ue.prototype.once,Ue.prototype.un=Ue.prototype.K,ze.prototype.getMap=ze.prototype.f,ze.prototype.setMap=ze.prototype.setMap,ze.prototype.setTarget=ze.prototype.i,ze.prototype.get=ze.prototype.get,ze.prototype.getKeys=ze.prototype.P,ze.prototype.getProperties=ze.prototype.M,ze.prototype.set=ze.prototype.set,ze.prototype.setProperties=ze.prototype.H,ze.prototype.unset=ze.prototype.R,ze.prototype.changed=ze.prototype.s,ze.prototype.dispatchEvent=ze.prototype.b,ze.prototype.getRevision=ze.prototype.L,ze.prototype.on=ze.prototype.J,ze.prototype.once=ze.prototype.once,ze.prototype.un=ze.prototype.K,xs.prototype.getMap=xs.prototype.f,xs.prototype.setMap=xs.prototype.setMap,xs.prototype.setTarget=xs.prototype.i,xs.prototype.get=xs.prototype.get,xs.prototype.getKeys=xs.prototype.P,xs.prototype.getProperties=xs.prototype.M,xs.prototype.set=xs.prototype.set,xs.prototype.setProperties=xs.prototype.H,xs.prototype.unset=xs.prototype.R,xs.prototype.changed=xs.prototype.s,xs.prototype.dispatchEvent=xs.prototype.b,xs.prototype.getRevision=xs.prototype.L,xs.prototype.on=xs.prototype.J,xs.prototype.once=xs.prototype.once,xs.prototype.un=xs.prototype.K,je.prototype.getMap=je.prototype.f,je.prototype.setMap=je.prototype.setMap,je.prototype.setTarget=je.prototype.i,je.prototype.get=je.prototype.get,je.prototype.getKeys=je.prototype.P,je.prototype.getProperties=je.prototype.M,je.prototype.set=je.prototype.set,je.prototype.setProperties=je.prototype.H,je.prototype.unset=je.prototype.R,je.prototype.changed=je.prototype.s,je.prototype.dispatchEvent=je.prototype.b,je.prototype.getRevision=je.prototype.L,je.prototype.on=je.prototype.J,je.prototype.once=je.prototype.once,je.prototype.un=je.prototype.K,Cs.prototype.getMap=Cs.prototype.f,Cs.prototype.setMap=Cs.prototype.setMap,Cs.prototype.setTarget=Cs.prototype.i,Cs.prototype.get=Cs.prototype.get,Cs.prototype.getKeys=Cs.prototype.P,Cs.prototype.getProperties=Cs.prototype.M,Cs.prototype.set=Cs.prototype.set,Cs.prototype.setProperties=Cs.prototype.H,Cs.prototype.unset=Cs.prototype.R,Cs.prototype.changed=Cs.prototype.s,Cs.prototype.dispatchEvent=Cs.prototype.b,Cs.prototype.getRevision=Cs.prototype.L,Cs.prototype.on=Cs.prototype.J,Cs.prototype.once=Cs.prototype.once,Cs.prototype.un=Cs.prototype.K,Be.prototype.getMap=Be.prototype.f,Be.prototype.setMap=Be.prototype.setMap,Be.prototype.setTarget=Be.prototype.i,Be.prototype.get=Be.prototype.get,Be.prototype.getKeys=Be.prototype.P,Be.prototype.getProperties=Be.prototype.M,Be.prototype.set=Be.prototype.set,Be.prototype.setProperties=Be.prototype.H,Be.prototype.unset=Be.prototype.R,Be.prototype.changed=Be.prototype.s,Be.prototype.dispatchEvent=Be.prototype.b,Be.prototype.getRevision=Be.prototype.L,Be.prototype.on=Be.prototype.J,Be.prototype.once=Be.prototype.once,Be.prototype.un=Be.prototype.K,As.prototype.getMap=As.prototype.f,As.prototype.setMap=As.prototype.setMap,As.prototype.setTarget=As.prototype.i,As.prototype.get=As.prototype.get,As.prototype.getKeys=As.prototype.P,As.prototype.getProperties=As.prototype.M,As.prototype.set=As.prototype.set,As.prototype.setProperties=As.prototype.H,As.prototype.unset=As.prototype.R,As.prototype.changed=As.prototype.s,As.prototype.dispatchEvent=As.prototype.b,As.prototype.getRevision=As.prototype.L,As.prototype.on=As.prototype.J,As.prototype.once=As.prototype.once,As.prototype.un=As.prototype.K,Ns.prototype.getMap=Ns.prototype.f,Ns.prototype.setMap=Ns.prototype.setMap,Ns.prototype.setTarget=Ns.prototype.i,Ns.prototype.get=Ns.prototype.get,Ns.prototype.getKeys=Ns.prototype.P,Ns.prototype.getProperties=Ns.prototype.M,Ns.prototype.set=Ns.prototype.set,Ns.prototype.setProperties=Ns.prototype.H,Ns.prototype.unset=Ns.prototype.R,Ns.prototype.changed=Ns.prototype.s,Ns.prototype.dispatchEvent=Ns.prototype.b,Ns.prototype.getRevision=Ns.prototype.L,Ns.prototype.on=Ns.prototype.J,Ns.prototype.once=Ns.prototype.once,Ns.prototype.un=Ns.prototype.K,ov.ol})},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function r(t){if(l===clearTimeout)return clearTimeout(t);if((l===o||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function a(){y&&f&&(y=!1,f.length?d=f.concat(d):v=-1,d.length&&s())}function s(){if(!y){var t=i(a);y=!0;for(var e=d.length;e;){for(f=d,d=[];++v<e;)f&&f[v].run();v=-1,e=d.length}f=null,y=!1,r(t)}}function p(t,e){this.fun=t,this.array=e}function h(){}var u,l,c=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{l="function"==typeof clearTimeout?clearTimeout:o}catch(t){l=o}}();var f,d=[],y=!1,v=-1;c.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new p(t,e)),1!==d.length||y||i(s)},p.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=h,c.addListener=h,c.once=h,c.off=h,c.removeListener=h,c.removeAllListeners=h,c.emit=h,c.prependListener=h,c.prependOnceListener=h,c.listeners=function(t){return[]},c.binding=function(t){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(t){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){t.exports={default:n(117),__esModule:!0}},function(t,e,n){t.exports={default:n(118),__esModule:!0}},function(t,e,n){t.exports={default:n(119),__esModule:!0}},function(t,e,n){t.exports={default:n(122),__esModule:!0}},function(t,e,n){t.exports={default:n(124),__esModule:!0}},function(t,e,n){t.exports={default:n(125),__esModule:!0}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var i=n(112),r=o(i),a=n(111),s=o(a);e.default=function(){function t(t,e){var n=[],o=!0,i=!1,r=void 0;try{for(var a,p=(0,s.default)(t);!(o=(a=p.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){i=!0,r=t}finally{try{!o&&p.return&&p.return()}finally{if(i)throw r}}return n}return function(e,n){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(t,e,n){n(30),n(150),t.exports=n(2).Array.from},function(t,e,n){n(48),n(30),t.exports=n(148)},function(t,e,n){n(48),n(30),t.exports=n(149)},function(t,e,n){var o=n(2),i=o.JSON||(o.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},function(t,e,n){n(152),t.exports=n(2).Object.assign},function(t,e,n){n(153);var o=n(2).Object;t.exports=function(t,e,n){return o.defineProperty(t,e,n)}},function(t,e,n){n(154),t.exports=n(2).Object.keys},function(t,e,n){n(156),n(155),n(157),n(158),t.exports=n(2).Symbol},function(t,e,n){n(30),n(48),t.exports=n(47).f("iterator")},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){t.exports=function(){}},function(t,e,n){var o=n(12),i=n(65),r=n(147);t.exports=function(t){return function(e,n,a){var s,p=o(e),h=i(p.length),u=r(a,h);if(t&&n!=n){for(;h>u;)if(s=p[u++],s!=s)return!0}else for(;h>u;u++)if((t||u in p)&&p[u]===n)return t||u||0;return!t&&-1}}},function(t,e,n){"use strict";var o=n(9),i=n(21);t.exports=function(t,e,n){e in t?o.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var o=n(20),i=n(40),r=n(27);t.exports=function(t){var e=o(t),n=i.f;if(n)for(var a,s=n(t),p=r.f,h=0;s.length>h;)p.call(t,a=s[h++])&&e.push(a);return e}},function(t,e,n){t.exports=n(8).document&&document.documentElement},function(t,e,n){var o=n(19),i=n(4)("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||r[i]===t)}},function(t,e,n){var o=n(36);t.exports=Array.isArray||function(t){return"Array"==o(t)}},function(t,e,n){var o=n(15);t.exports=function(t,e,n,i){try{return i?e(o(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&o(r.call(t)),e}}},function(t,e,n){"use strict";var o=n(61),i=n(21),r=n(41),a={};n(18)(a,n(4)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=o(a,{next:i(1,n)}),r(t,e+" Iterator")}},function(t,e,n){var o=n(4)("iterator"),i=!1;try{var r=[7][o]();r.return=function(){i=!0},Array.from(r,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var r=[7],a=r[o]();a.next=function(){return{done:n=!0}},r[o]=function(){return a},t(r)}catch(t){}return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var o=n(20),i=n(12);t.exports=function(t,e){for(var n,r=i(t),a=o(r),s=a.length,p=0;s>p;)if(r[n=a[p++]]===e)return n}},function(t,e,n){var o=n(29)("meta"),i=n(26),r=n(11),a=n(9).f,s=0,p=Object.isExtensible||function(){return!0},h=!n(17)(function(){return p(Object.preventExtensions({}))}),u=function(t){a(t,o,{value:{i:"O"+ ++s,w:{}}})},l=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,o)){if(!p(t))return"F";if(!e)return"E";u(t)}return t[o].i},c=function(t,e){if(!r(t,o)){if(!p(t))return!0;if(!e)return!1;u(t)}return t[o].w},f=function(t){return h&&d.NEED&&p(t)&&!r(t,o)&&u(t),t},d=t.exports={KEY:o,NEED:!1,fastKey:l,getWeak:c,onFreeze:f}},function(t,e,n){"use strict";var o=n(20),i=n(40),r=n(27),a=n(28),s=n(59),p=Object.assign;t.exports=!p||n(17)(function(){var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(t){e[t]=t}),7!=p({},t)[n]||Object.keys(p({},e)).join("")!=o})?function(t,e){for(var n=a(t),p=arguments.length,h=1,u=i.f,l=r.f;p>h;)for(var c,f=s(arguments[h++]),d=u?o(f).concat(u(f)):o(f),y=d.length,v=0;y>v;)l.call(f,c=d[v++])&&(n[c]=f[c]);return n}:p},function(t,e,n){var o=n(9),i=n(15),r=n(20);t.exports=n(10)?Object.defineProperties:function(t,e){i(t);for(var n,a=r(e),s=a.length,p=0;s>p;)o.f(t,n=a[p++],e[n]);return t}},function(t,e,n){var o=n(27),i=n(21),r=n(12),a=n(45),s=n(11),p=n(58),h=Object.getOwnPropertyDescriptor;e.f=n(10)?h:function(t,e){if(t=r(t),e=a(e,!0),p)try{return h(t,e)}catch(t){}if(s(t,e))return i(!o.f.call(t,e),t[e])}},function(t,e,n){var o=n(12),i=n(62).f,r={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return i(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==r.call(t)?s(t):i(o(t))}},function(t,e,n){var o=n(11),i=n(28),r=n(42)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),o(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var o=n(16),i=n(2),r=n(17);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),o(o.S+o.F*r(function(){n(1)}),"Object",a)}},function(t,e,n){var o=n(44),i=n(37);t.exports=function(t){return function(e,n){var r,a,s=String(i(e)),p=o(n),h=s.length;return p<0||p>=h?t?"":void 0:(r=s.charCodeAt(p),r<55296||r>56319||p+1===h||(a=s.charCodeAt(p+1))<56320||a>57343?t?s.charAt(p):r:t?s.slice(p,p+2):(r-55296<<10)+(a-56320)+65536)}}},function(t,e,n){var o=n(44),i=Math.max,r=Math.min;t.exports=function(t,e){return t=o(t),t<0?i(t+e,0):r(t,e)}},function(t,e,n){var o=n(15),i=n(66);t.exports=n(2).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return o(e.call(t))}},function(t,e,n){var o=n(55),i=n(4)("iterator"),r=n(19);t.exports=n(2).isIterable=function(t){var e=Object(t);return void 0!==e[i]||"@@iterator"in e||r.hasOwnProperty(o(e))}},function(t,e,n){"use strict";var o=n(56),i=n(16),r=n(28),a=n(134),s=n(132),p=n(65),h=n(129),u=n(66);i(i.S+i.F*!n(136)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,l,c=r(t),f="function"==typeof this?this:Array,d=arguments.length,y=d>1?arguments[1]:void 0,v=void 0!==y,g=0,m=u(c);if(v&&(y=o(y,d>2?arguments[2]:void 0,2)),void 0==m||f==Array&&s(m))for(e=p(c.length),n=new f(e);e>g;g++)h(n,g,v?y(c[g],g):c[g]);else for(l=m.call(c),n=new f;!(i=l.next()).done;g++)h(n,g,v?a(l,y,[i.value,g],!0):i.value);return n.length=g,n}})},function(t,e,n){"use strict";var o=n(127),i=n(137),r=n(19),a=n(12);t.exports=n(60)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,n):"values"==e?i(0,t[n]):i(0,[n,t[n]])},"values"),r.Arguments=r.Array,o("keys"),o("values"),o("entries")},function(t,e,n){var o=n(16);o(o.S+o.F,"Object",{assign:n(140)})},function(t,e,n){var o=n(16);o(o.S+o.F*!n(10),"Object",{defineProperty:n(9).f})},function(t,e,n){var o=n(28),i=n(20);n(145)("keys",function(){return function(t){return i(o(t))}})},function(t,e){},function(t,e,n){"use strict";var o=n(8),i=n(11),r=n(10),a=n(16),s=n(64),p=n(139).KEY,h=n(17),u=n(43),l=n(41),c=n(29),f=n(4),d=n(47),y=n(46),v=n(138),g=n(130),m=n(133),b=n(15),x=n(12),_=n(45),w=n(21),P=n(61),S=n(143),C=n(142),M=n(9),T=n(20),A=C.f,E=M.f,L=S.f,I=o.Symbol,N=o.JSON,O=N&&N.stringify,k="prototype",R=f("_hidden"),D=f("toPrimitive"),F={}.propertyIsEnumerable,j=u("symbol-registry"),K=u("symbols"),B=u("op-symbols"),X=Object[k],U="function"==typeof I,Y=o.QObject,G=!Y||!Y[k]||!Y[k].findChild,W=r&&h(function(){return 7!=P(E({},"a",{get:function(){return E(this,"a",{value:7}).a}})).a})?function(t,e,n){var o=A(X,e);o&&delete X[e],E(t,e,n),o&&t!==X&&E(X,e,o)}:E,z=function(t){var e=K[t]=P(I[k]);return e._k=t,e},H=U&&"symbol"==typeof I.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof I},q=function(t,e,n){return t===X&&q(B,e,n),b(t),e=_(e,!0),b(n),i(K,e)?(n.enumerable?(i(t,R)&&t[R][e]&&(t[R][e]=!1),n=P(n,{enumerable:w(0,!1)})):(i(t,R)||E(t,R,w(1,{})),t[R][e]=!0),W(t,e,n)):E(t,e,n)},V=function(t,e){b(t);for(var n,o=g(e=x(e)),i=0,r=o.length;r>i;)q(t,n=o[i++],e[n]);return t},$=function(t,e){return void 0===e?P(t):V(P(t),e)},Z=function(t){var e=F.call(this,t=_(t,!0));return!(this===X&&i(K,t)&&!i(B,t))&&(!(e||!i(this,t)||!i(K,t)||i(this,R)&&this[R][t])||e)},J=function(t,e){if(t=x(t),e=_(e,!0),t!==X||!i(K,e)||i(B,e)){var n=A(t,e);return!n||!i(K,e)||i(t,R)&&t[R][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=L(x(t)),o=[],r=0;n.length>r;)i(K,e=n[r++])||e==R||e==p||o.push(e);return o},tt=function(t){for(var e,n=t===X,o=L(n?B:x(t)),r=[],a=0;o.length>a;)!i(K,e=o[a++])||n&&!i(X,e)||r.push(K[e]);return r};U||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=c(arguments.length>0?arguments[0]:void 0),e=function(n){this===X&&e.call(B,n),i(this,R)&&i(this[R],t)&&(this[R][t]=!1),W(this,t,w(1,n))};return r&&G&&W(X,t,{configurable:!0,set:e}),z(t)},s(I[k],"toString",function(){return this._k}),C.f=J,M.f=q,n(62).f=S.f=Q,n(27).f=Z,n(40).f=tt,r&&!n(39)&&s(X,"propertyIsEnumerable",Z,!0),d.f=function(t){return z(f(t))}),a(a.G+a.W+a.F*!U,{Symbol:I});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)f(et[nt++]);for(var et=T(f.store),nt=0;et.length>nt;)y(et[nt++]);a(a.S+a.F*!U,"Symbol",{for:function(t){return i(j,t+="")?j[t]:j[t]=I(t)},keyFor:function(t){if(H(t))return v(j,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){G=!0},useSimple:function(){G=!1}}),a(a.S+a.F*!U,"Object",{create:$,defineProperty:q,defineProperties:V,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:tt}),N&&a(a.S+a.F*(!U||h(function(){var t=I();return"[null]"!=O([t])||"{}"!=O({a:t})||"{}"!=O(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!H(t)){for(var e,n,o=[t],i=1;arguments.length>i;)o.push(arguments[i++]);return e=o[1],"function"==typeof e&&(n=e),!n&&m(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!H(e))return e}),o[1]=e,O.apply(N,o)}}}),I[k][D]||n(18)(I[k],D,I[k].valueOf),l(I,"Symbol"),l(Math,"Math",!0),l(o.JSON,"JSON",!0)},function(t,e,n){n(46)("asyncIterator")},function(t,e,n){n(46)("observable")},,,,,,,,,,,,,,,,function(t,e,n){function o(t,e,n,o){o?(e(o),n&&n(o)):(t(s),n&&n(void 0,s))}var i,r=n(184),a=n(180),s=null,p=[];window.$$mapsCB=function(){s=google.maps;for(var t=0,e=p.length;t<e;t++)o.apply(void 0,p[t])},t.exports=function(t,e,n){return i=t||i,"function"==typeof e&&(n=e,e=[]),function(){return new a(function(t,a){if(s)o(t,a,n);else if(p.push([t,a,n]),1==p.length){var h="";"string"==typeof i?h="&key="+i:"object"==typeof i&&(h="&"+Object.keys(i).map(function(t){return t+"="+encodeURIComponent(i[t])}).join("&"));var u="https://maps.googleapis.com/maps/api/js?v=3&callback=$$mapsCB"+h;Array.isArray(e)&&e.length>0&&(u+="&libraries="+e.join(",")),r(u)}})}}},function(t,e,n){var o,i;!function(r,a){o=[n(67),n(187)],i=function(t,e){return a(r,t,e)}.apply(e,o),!(void 0!==i&&(t.exports=i))}(window,function(t,e,n){function o(t,e){if(t=s(t),!t)throw"Bad element for Huebee: "+t;this.anchor=t,this.options={},this.option(o.defaults),this.option(e),this.create()}function i(){for(var t=document.querySelectorAll("[data-huebee]"),e=0;e<t.length;e++){var n,i=t[e],r=i.getAttribute("data-huebee");try{n=r&&JSON.parse(r)}catch(t){_&&_.error("Error parsing data-huebee on "+i.className+": "+t);continue}new o(i,n)}}function r(t){S.clearRect(0,0,1,1),S.fillStyle="#010203",S.fillStyle=t,S.fillRect(0,0,1,1);var e=S.getImageData(0,0,1,1).data;if(e=[e[0],e[1],e[2],e[3]],"1,2,3,255"!=e.join(",")){var n=u.apply(this,e);return{color:t.trim(),hue:n[0],sat:n[1],lum:n[2]}}}function a(t,e){for(var n in e)t[n]=e[n];return t}function s(t){return"string"==typeof t&&(t=document.querySelector(t)),t}function p(t,e,n){var o=h(t,e,n);return l(o)}function h(t,e,n){var o,i,r=(1-Math.abs(2*n-1))*e,a=t/60,s=r*(1-Math.abs(a%2-1));switch(Math.floor(a)){case 0:o=[r,s,0];
break;case 1:o=[s,r,0];break;case 2:o=[0,r,s];break;case 3:o=[0,s,r];break;case 4:o=[s,0,r];break;case 5:o=[r,0,s];break;default:o=[0,0,0]}return i=n-r/2,o=o.map(function(t){return t+i})}function u(t,e,n){t/=255,e/=255,n/=255;var o,i=Math.max(t,e,n),r=Math.min(t,e,n),a=i-r,s=.5*(i+r),p=0===a?0:a/(1-Math.abs(2*s-1));0===a?o=0:i===t?o=(e-n)/a%6:i===e?o=(n-t)/a+2:i===n&&(o=(t-e)/a+4);var h=60*o;return[h,parseFloat(p),parseFloat(s)]}function l(t){var e=t.map(function(t){t=Math.round(255*t);var e=t.toString(16).toUpperCase();return e=e.length<2?"0"+e:e});return"#"+e.join("")}function c(t){return"#"+t[1]+t[3]+t[5]}o.defaults={hues:12,hue0:0,shades:5,saturations:3,notation:"shortHex",setText:!0,setBGColor:!0};var f=o.prototype=Object.create(e.prototype);f.option=function(t){this.options=a(this.options,t)};var d=0,y={};f.create=function(){function t(t){t.target==o&&t.preventDefault()}var e=this.guid=++d;this.anchor.huebeeGUID=e,y[e]=this,this.setBGElems=this.getSetElems(this.options.setBGColor),this.setTextElems=this.getSetElems(this.options.setText),this.outsideCloseIt=this.outsideClose.bind(this),this.onDocKeydown=this.docKeydown.bind(this),this.closeIt=this.close.bind(this),this.openIt=this.open.bind(this),this.onElemTransitionend=this.elemTransitionend.bind(this),this.isInputAnchor="INPUT"==this.anchor.nodeName,this.options.staticOpen||(this.anchor.addEventListener("click",this.openIt),this.anchor.addEventListener("focus",this.openIt)),this.isInputAnchor&&this.anchor.addEventListener("input",this.inputInput.bind(this));var n=this.element=document.createElement("div");n.className="huebee ",n.className+=this.options.staticOpen?"is-static-open ":"is-hidden ",n.className+=this.options.className||"";var o=this.container=document.createElement("div");if(o.className="huebee__container",o.addEventListener("mousedown",t),o.addEventListener("touchstart",t),this.createCanvas(),this.cursor=document.createElement("div"),this.cursor.className="huebee__cursor is-hidden",o.appendChild(this.cursor),this.createCloseButton(),n.appendChild(o),!this.options.staticOpen){var i=getComputedStyle(this.anchor.parentNode);"relative"!=i.position&&"absolute"!=i.position&&(this.anchor.parentNode.style.position="relative")}var r=this.options.hues,a=this.options.customColors,s=a&&a.length;this.satY=s?Math.ceil(s/r)+1:0,this.updateColors(),this.setAnchorColor(),this.options.staticOpen&&this.open()},f.getSetElems=function(t){return t===!0?[this.anchor]:"string"==typeof t?document.querySelectorAll(t):void 0},f.createCanvas=function(){var t=this.canvas=document.createElement("canvas");t.className="huebee__canvas",this.ctx=t.getContext("2d");var e=this.canvasPointer=new n;e._bindStartEvent(t),e.on("pointerDown",this.canvasPointerDown.bind(this)),e.on("pointerMove",this.canvasPointerMove.bind(this)),this.container.appendChild(t)};var v="http://www.w3.org/2000/svg";f.createCloseButton=function(){if(!this.options.staticOpen){var t=document.createElementNS(v,"svg");t.setAttribute("class","huebee__close-button"),t.setAttribute("viewBox","0 0 24 24"),t.setAttribute("width","24"),t.setAttribute("height","24");var e=document.createElementNS(v,"path");e.setAttribute("d","M 7,7 L 17,17 M 17,7 L 7,17"),e.setAttribute("class","huebee__close-button__x"),t.appendChild(e),t.addEventListener("click",this.closeIt),this.container.appendChild(t)}},f.updateColors=function(){this.swatches={},this.colorGrid={},this.updateColorModer();var t=this.options.shades,e=this.options.saturations,n=this.options.hues,o=this.options.customColors;if(o&&o.length){var i=0;o.forEach(function(t){var e=i%n,o=Math.floor(i/n),a=r(t);a&&(this.addSwatch(a,e,o),i++)}.bind(this))}for(var a=0;a<e;a++){var s=1-a/e,p=t*a+this.satY;this.updateSaturationGrid(a,s,p)}for(a=0;a<t+2;a++){var h=1-a/(t+1),u=this.colorModer(0,0,h),l=r(u);this.addSwatch(l,n+1,a)}},f.updateSaturationGrid=function(t,e,n){for(var o=this.options.shades,i=this.options.hues,a=this.options.hue0,s=0;s<o;s++)for(var p=0;p<i;p++){var h=Math.round(360*p/i+a)%360,u=1-(s+1)/(o+1),l=this.colorModer(h,e,u),c=r(l),f=s+n;this.addSwatch(c,p,f)}},f.addSwatch=function(t,e,n){this.swatches[e+","+n]=t,this.colorGrid[t.color.toUpperCase()]={x:e,y:n}};var g={hsl:function(t,e,n){return e=Math.round(100*e),n=Math.round(100*n),"hsl("+t+", "+e+"%, "+n+"%)"},hex:p,shortHex:function(t,e,n){var o=p(t,e,n);return c(o)}};f.updateColorModer=function(){this.colorModer=g[this.options.notation]||g.shortHex},f.renderColors=function(){var t=2*this.gridSize;for(var e in this.swatches){var n=this.swatches[e],o=e.split(","),i=o[0],r=o[1];this.ctx.fillStyle=n.color,this.ctx.fillRect(i*t,r*t,t,t)}},f.setAnchorColor=function(){this.isInputAnchor&&this.setColor(this.anchor.value)};var m=document.documentElement;f.open=function(){if(!this.isOpen){var t=this.anchor,e=this.element;this.options.staticOpen||(e.style.left=t.offsetLeft+"px",e.style.top=t.offsetTop+t.offsetHeight+"px"),this.bindOpenEvents(!0),e.removeEventListener("transitionend",this.onElemTransitionend),t.parentNode.insertBefore(e,t.nextSibling);var n=getComputedStyle(e).transitionDuration;this.hasTransition=n&&"none"!=n&&parseFloat(n),this.isOpen=!0,this.updateSizes(),this.renderColors(),this.setAnchorColor();e.offsetHeight;e.classList.remove("is-hidden")}},f.bindOpenEvents=function(t){if(!this.options.staticOpen){var e=(t?"add":"remove")+"EventListener";m[e]("mousedown",this.outsideCloseIt),m[e]("touchstart",this.outsideCloseIt),document[e]("focusin",this.outsideCloseIt),document[e]("keydown",this.onDocKeydown),this.anchor[e]("blur",this.closeIt)}},f.updateSizes=function(){var t=this.options.hues,e=this.options.shades,n=this.options.saturations;this.cursorBorder=parseInt(getComputedStyle(this.cursor).borderTopWidth,10),this.gridSize=Math.round(this.cursor.offsetWidth-2*this.cursorBorder),this.canvasOffset={x:this.canvas.offsetLeft,y:this.canvas.offsetTop};var o=Math.max(e*n+this.satY,e+2),i=this.gridSize*(t+2);this.canvas.width=2*i,this.canvas.style.width=i+"px",this.canvas.height=this.gridSize*o*2},f.outsideClose=function(t){var e=this.anchor.contains(t.target),n=this.element.contains(t.target);e||n||this.close()};var b={13:!0,27:!0};f.docKeydown=function(t){b[t.keyCode]&&this.close()};var x="string"==typeof m.style.transform;f.close=function(){this.isOpen&&(x&&this.hasTransition?this.element.addEventListener("transitionend",this.onElemTransitionend):this.remove(),this.element.classList.add("is-hidden"),this.bindOpenEvents(!1),this.isOpen=!1)},f.remove=function(){var t=this.element.parentNode;t.contains(this.element)&&t.removeChild(this.element)},f.elemTransitionend=function(t){t.target==this.element&&(this.element.removeEventListener("transitionend",this.onElemTransitionend),this.remove())},f.inputInput=function(){this.setColor(this.anchor.value)},f.canvasPointerDown=function(t,e){t.preventDefault(),this.updateOffset(),this.canvasPointerChange(e)},f.updateOffset=function(){var e=this.canvas.getBoundingClientRect();this.offset={x:e.left+t.pageXOffset,y:e.top+t.pageYOffset}},f.canvasPointerMove=function(t,e){this.canvasPointerChange(e)},f.canvasPointerChange=function(t){var e=Math.round(t.pageX-this.offset.x),n=Math.round(t.pageY-this.offset.y),o=this.gridSize,i=Math.floor(e/o),r=Math.floor(n/o),a=this.swatches[i+","+r];this.setSwatch(a)},f.setColor=function(t){var e=r(t);this.setSwatch(e)},f.setSwatch=function(t){var e=t&&t.color;if(t){var n=e==this.color;this.color=e,this.hue=t.hue,this.sat=t.sat,this.lum=t.lum;var o=this.lum-.15*Math.cos((this.hue+70)/180*Math.PI);this.isLight=o>.5;var i=this.colorGrid[e.toUpperCase()];this.updateCursor(i),this.setTexts(),this.setBackgrounds(),n||this.emitEvent("change",[e,t.hue,t.sat,t.lum])}},f.setTexts=function(){if(this.setTextElems)for(var t=0;t<this.setTextElems.length;t++){var e=this.setTextElems[t],n="INPUT"==e.nodeName?"value":"textContent";e[n]=this.color}},f.setBackgrounds=function(){if(this.setBGElems)for(var t=this.isLight?"#222":"white",e=0;e<this.setBGElems.length;e++){var n=this.setBGElems[e];n.style.backgroundColor=this.color,n.style.color=t}},f.updateCursor=function(t){if(this.isOpen){var e=t?"remove":"add";if(this.cursor.classList[e]("is-hidden"),t){var n=this.gridSize,o=this.canvasOffset,i=this.cursorBorder;this.cursor.style.left=t.x*n+o.x-i+"px",this.cursor.style.top=t.y*n+o.y-i+"px"}}};var _=t.console,w=document.readyState;"complete"==w||"interactive"==w?i():document.addEventListener("DOMContentLoaded",i),o.data=function(t){t=s(t);var e=t&&t.huebeeGUID;return e&&y[e]};var P=document.createElement("canvas");P.width=P.height=1;var S=P.getContext("2d");return o})},function(t,e){"use strict";function n(t,e,n){ie.biginteger_used=1,null!=t&&("number"==typeof t&&"undefined"==typeof e?this.fromInt(t):"number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function o(){return new n(null)}function i(t,e,n,o,i,r){for(;--r>=0;){var a=e*this[t++]+n[o]+i;i=Math.floor(a/67108864),n[o++]=67108863&a}return i}function r(t,e,n,o,i,r){for(var a=32767&e,s=e>>15;--r>=0;){var p=32767&this[t],h=this[t++]>>15,u=s*p+h*a;p=a*p+((32767&u)<<15)+n[o]+(1073741823&i),i=(p>>>30)+(u>>>15)+s*h+(i>>>30),n[o++]=1073741823&p}return i}function a(t,e,n,o,i,r){for(var a=16383&e,s=e>>14;--r>=0;){var p=16383&this[t],h=this[t++]>>14,u=s*p+h*a;p=a*p+((16383&u)<<14)+n[o]+i,i=(p>>28)+(u>>14)+s*h,n[o++]=268435455&p}return i}function s(t){return ye.charAt(t)}function p(t,e){var n=ve[t.charCodeAt(e)];return null==n?-1:n}function h(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function u(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0}function l(t){var e=o();return e.fromInt(t),e}function c(t,e){var o;if(16==e)o=4;else if(8==e)o=3;else if(256==e)o=8;else if(2==e)o=1;else if(32==e)o=5;else{if(4!=e)return void this.fromRadix(t,e);o=2}this.t=0,this.s=0;for(var i=t.length,r=!1,a=0;--i>=0;){var s=8==o?255&t[i]:p(t,i);s<0?"-"==t.charAt(i)&&(r=!0):(r=!1,0==a?this[this.t++]=s:a+o>this.DB?(this[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this[this.t++]=s>>this.DB-a):this[this.t-1]|=s<<a,a+=o,a>=this.DB&&(a-=this.DB))}8==o&&0!=(128&t[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),r&&n.ZERO.subTo(this,this)}function f(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function d(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,o=(1<<e)-1,i=!1,r="",a=this.t,p=this.DB-a*this.DB%e;if(a-- >0)for(p<this.DB&&(n=this[a]>>p)>0&&(i=!0,r=s(n));a>=0;)p<e?(n=(this[a]&(1<<p)-1)<<e-p,n|=this[--a]>>(p+=this.DB-e)):(n=this[a]>>(p-=e)&o,p<=0&&(p+=this.DB,--a)),n>0&&(i=!0),i&&(r+=s(n));return i?r:"0"}function y(){var t=o();return n.ZERO.subTo(this,t),t}function v(){return this.s<0?this.negate():this}function g(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(e=n-t.t,0!=e)return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0}function m(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function b(){return this.t<=0?0:this.DB*(this.t-1)+m(this[this.t-1]^this.s&this.DM)}function x(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s}function _(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s}function w(t,e){var n,o=t%this.DB,i=this.DB-o,r=(1<<i)-1,a=Math.floor(t/this.DB),s=this.s<<o&this.DM;for(n=this.t-1;n>=0;--n)e[n+a+1]=this[n]>>i|s,s=(this[n]&r)<<o;for(n=a-1;n>=0;--n)e[n]=0;e[a]=s,e.t=this.t+a+1,e.s=this.s,e.clamp()}function P(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)return void(e.t=0);var o=t%this.DB,i=this.DB-o,r=(1<<o)-1;e[0]=this[n]>>o;for(var a=n+1;a<this.t;++a)e[a-n-1]|=(this[a]&r)<<i,e[a-n]=this[a]>>o;o>0&&(e[this.t-n-1]|=(this.s&r)<<i),e.t=this.t-n,e.clamp()}function S(t,e){for(var n=0,o=0,i=Math.min(t.t,this.t);n<i;)o+=this[n]-t[n],e[n++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o-=t.s;n<this.t;)o+=this[n],e[n++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;n<t.t;)o-=t[n],e[n++]=o&this.DM,o>>=this.DB;o-=t.s}e.s=o<0?-1:0,o<-1?e[n++]=this.DV+o:o>0&&(e[n++]=o),e.t=n,e.clamp()}function C(t,e){var o=this.abs(),i=t.abs(),r=o.t;for(e.t=r+i.t;--r>=0;)e[r]=0;for(r=0;r<i.t;++r)e[r+o.t]=o.am(0,i[r],e,r,0,o.t);e.s=0,e.clamp(),this.s!=t.s&&n.ZERO.subTo(e,e)}function M(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var o=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,o,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()}function T(t,e,i){var r=t.abs();if(!(r.t<=0)){var a=this.abs();if(a.t<r.t)return null!=e&&e.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=o());var s=o(),p=this.s,h=t.s,u=this.DB-m(r[r.t-1]);u>0?(r.lShiftTo(u,s),a.lShiftTo(u,i)):(r.copyTo(s),a.copyTo(i));var l=s.t,c=s[l-1];if(0!=c){var f=c*(1<<this.F1)+(l>1?s[l-2]>>this.F2:0),d=this.FV/f,y=(1<<this.F1)/f,v=1<<this.F2,g=i.t,b=g-l,x=null==e?o():e;for(s.dlShiftTo(b,x),i.compareTo(x)>=0&&(i[i.t++]=1,i.subTo(x,i)),n.ONE.dlShiftTo(l,x),x.subTo(s,s);s.t<l;)s[s.t++]=0;for(;--b>=0;){var _=i[--g]==c?this.DM:Math.floor(i[g]*d+(i[g-1]+v)*y);if((i[g]+=s.am(0,_,i,b,0,l))<_)for(s.dlShiftTo(b,x),i.subTo(x,i);i[g]<--_;)i.subTo(x,i)}null!=e&&(i.drShiftTo(l,e),p!=h&&n.ZERO.subTo(e,e)),i.t=l,i.clamp(),u>0&&i.rShiftTo(u,i),p<0&&n.ZERO.subTo(i,i)}}}function A(t){var e=o();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(n.ZERO)>0&&t.subTo(e,e),e}function E(t){this.m=t}function L(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function I(t){return t}function N(t){t.divRemTo(this.m,null,t)}function O(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function k(t,e){t.squareTo(e),this.reduce(e)}function R(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function D(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function F(t){var e=o();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(n.ZERO)>0&&this.m.subTo(e,e),e}function j(t){var e=o();return t.copyTo(e),this.reduce(e),e}function K(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],o=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(n=e+this.m.t,t[n]+=this.m.am(0,o,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function B(t,e){t.squareTo(e),this.reduce(e)}function X(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function U(){return 0==(this.t>0?1&this[0]:this.s)}function Y(t,e){if(t>4294967295||t<1)return n.ONE;var i=o(),r=o(),a=e.convert(this),s=m(t)-1;for(a.copyTo(i);--s>=0;)if(e.sqrTo(i,r),(t&1<<s)>0)e.mulTo(r,a,i);else{var p=i;i=r,r=p}return e.revert(i)}function G(t,e){var n;return n=t<256||e.isEven()?new E(e):new D(e),this.exp(t,n)}function W(){var t=o();return this.copyTo(t),t}function z(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function H(){return 0==this.t?this.s:this[0]<<24>>24}function q(){return 0==this.t?this.s:this[0]<<16>>16}function V(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function $(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function Z(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),i=l(n),r=o(),a=o(),s="";for(this.divRemTo(i,r,a);r.signum()>0;)s=(n+a.intValue()).toString(t).substr(1)+s,r.divRemTo(i,r,a);return a.intValue().toString(t)+s}function J(t,e){this.fromInt(0),null==e&&(e=10);for(var o=this.chunkSize(e),i=Math.pow(e,o),r=!1,a=0,s=0,h=0;h<t.length;++h){var u=p(t,h);u<0?"-"==t.charAt(h)&&0==this.signum()&&(r=!0):(s=e*s+u,++a>=o&&(this.dMultiply(i),this.dAddOffset(s,0),a=0,s=0))}a>0&&(this.dMultiply(Math.pow(e,a)),this.dAddOffset(s,0)),r&&n.ZERO.subTo(this,this)}function Q(t,e,o){if("number"==typeof e)if(t<2)this.fromInt(1);else for(this.fromNumber(t,o),this.testBit(t-1)||this.bitwiseTo(n.ONE.shiftLeft(t-1),st,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(n.ONE.shiftLeft(t-1),this);else{var i=new Array,r=7&t;i.length=(t>>3)+1,e.nextBytes(i),r>0?i[0]&=(1<<r)-1:i[0]=0,this.fromString(i,256)}}function tt(){var t=this.t,e=new Array;e[0]=this.s;var n,o=this.DB-t*this.DB%8,i=0;if(t-- >0)for(o<this.DB&&(n=this[t]>>o)!=(this.s&this.DM)>>o&&(e[i++]=n|this.s<<this.DB-o);t>=0;)o<8?(n=(this[t]&(1<<o)-1)<<8-o,n|=this[--t]>>(o+=this.DB-8)):(n=this[t]>>(o-=8)&255,o<=0&&(o+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}function et(t){return 0==this.compareTo(t)}function nt(t){return this.compareTo(t)<0?this:t}function ot(t){return this.compareTo(t)>0?this:t}function it(t,e,n){var o,i,r=Math.min(t.t,this.t);for(o=0;o<r;++o)n[o]=e(this[o],t[o]);if(t.t<this.t){for(i=t.s&this.DM,o=r;o<this.t;++o)n[o]=e(this[o],i);n.t=this.t}else{for(i=this.s&this.DM,o=r;o<t.t;++o)n[o]=e(i,t[o]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()}function rt(t,e){return t&e}function at(t){var e=o();return this.bitwiseTo(t,rt,e),e}function st(t,e){return t|e}function pt(t){var e=o();return this.bitwiseTo(t,st,e),e}function ht(t,e){return t^e}function ut(t){var e=o();return this.bitwiseTo(t,ht,e),e}function lt(t,e){return t&~e}function ct(t){var e=o();return this.bitwiseTo(t,lt,e),e}function ft(){for(var t=o(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t}function dt(t){var e=o();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function yt(t){var e=o();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function vt(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function gt(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+vt(this[t]);return this.s<0?this.t*this.DB:-1}function mt(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function bt(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=mt(this[n]^e);return t}function xt(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)}function _t(t,e){var o=n.ONE.shiftLeft(t);return this.bitwiseTo(o,e,o),o}function wt(t){return this.changeBit(t,st)}function Pt(t){return this.changeBit(t,lt)}function St(t){return this.changeBit(t,ht)}function Ct(t,e){for(var n=0,o=0,i=Math.min(t.t,this.t);n<i;)o+=this[n]+t[n],e[n++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o+=t.s;n<this.t;)o+=this[n],e[n++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;n<t.t;)o+=t[n],e[n++]=o&this.DM,o>>=this.DB;o+=t.s}e.s=o<0?-1:0,o>0?e[n++]=o:o<-1&&(e[n++]=this.DV+o),e.t=n,e.clamp()}function Mt(t){var e=o();return this.addTo(t,e),e}function Tt(t){var e=o();return this.subTo(t,e),e}function At(t){var e=o();return this.multiplyTo(t,e),e}function Et(){var t=o();return this.squareTo(t),t}function Lt(t){var e=o();return this.divRemTo(t,e,null),e}function It(t){var e=o();return this.divRemTo(t,null,e),e}function Nt(t){var e=o(),n=o();return this.divRemTo(t,e,n),new Array(e,n)}function Ot(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function kt(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}}function Rt(){}function Dt(t){return t}function Ft(t,e,n){t.multiplyTo(e,n)}function jt(t,e){t.squareTo(e)}function Kt(t){return this.exp(t,new Rt)}function Bt(t,e,n){var o=Math.min(this.t+t.t,e);for(n.s=0,n.t=o;o>0;)n[--o]=0;var i;for(i=n.t-this.t;o<i;++o)n[o+this.t]=this.am(0,t[o],n,o,0,this.t);for(i=Math.min(t.t,e);o<i;++o)this.am(0,t[o],n,o,0,e-o);n.clamp()}function Xt(t,e,n){--e;var o=n.t=this.t+t.t-e;for(n.s=0;--o>=0;)n[o]=0;for(o=Math.max(e-this.t,0);o<t.t;++o)n[this.t+o-e]=this.am(e-o,t[o],n,0,0,this.t+o-e);n.clamp(),n.drShiftTo(1,n)}function Ut(t){this.r2=o(),this.q3=o(),n.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function Yt(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=o();return t.copyTo(e),this.reduce(e),e}function Gt(t){return t}function Wt(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function zt(t,e){t.squareTo(e),this.reduce(e)}function Ht(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function qt(t,e){var n,i,r=t.bitLength(),a=l(1);if(r<=0)return a;n=r<18?1:r<48?3:r<144?4:r<768?5:6,i=r<8?new E(e):e.isEven()?new Ut(e):new D(e);var s=new Array,p=3,h=n-1,u=(1<<n)-1;if(s[1]=i.convert(this),n>1){var c=o();for(i.sqrTo(s[1],c);p<=u;)s[p]=o(),i.mulTo(c,s[p-2],s[p]),p+=2}var f,d,y=t.t-1,v=!0,g=o();for(r=m(t[y])-1;y>=0;){for(r>=h?f=t[y]>>r-h&u:(f=(t[y]&(1<<r+1)-1)<<h-r,y>0&&(f|=t[y-1]>>this.DB+r-h)),p=n;0==(1&f);)f>>=1,--p;if((r-=p)<0&&(r+=this.DB,--y),v)s[f].copyTo(a),v=!1;else{for(;p>1;)i.sqrTo(a,g),i.sqrTo(g,a),p-=2;p>0?i.sqrTo(a,g):(d=a,a=g,g=d),i.mulTo(g,s[f],a)}for(;y>=0&&0==(t[y]&1<<r);)i.sqrTo(a,g),d=a,a=g,g=d,--r<0&&(r=this.DB-1,--y)}return i.revert(a)}function Vt(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var o=e;e=n,n=o}var i=e.getLowestSetBit(),r=n.getLowestSetBit();if(r<0)return e;for(i<r&&(r=i),r>0&&(e.rShiftTo(r,e),n.rShiftTo(r,n));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return r>0&&n.lShiftTo(r,n),n}function $t(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var o=this.t-1;o>=0;--o)n=(e*n+this[o])%t;return n}function Zt(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return n.ZERO;for(var o=t.clone(),i=this.clone(),r=l(1),a=l(0),s=l(0),p=l(1);0!=o.signum();){for(;o.isEven();)o.rShiftTo(1,o),e?(r.isEven()&&a.isEven()||(r.addTo(this,r),a.subTo(t,a)),r.rShiftTo(1,r)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);for(;i.isEven();)i.rShiftTo(1,i),e?(s.isEven()&&p.isEven()||(s.addTo(this,s),p.subTo(t,p)),s.rShiftTo(1,s)):p.isEven()||p.subTo(t,p),p.rShiftTo(1,p);o.compareTo(i)>=0?(o.subTo(i,o),e&&r.subTo(s,r),a.subTo(p,a)):(i.subTo(o,i),e&&s.subTo(r,s),p.subTo(a,p))}return 0!=i.compareTo(n.ONE)?n.ZERO:p.compareTo(t)>=0?p.subtract(t):p.signum()<0?(p.addTo(t,p),p.signum()<0?p.add(t):p):p}function Jt(t){var e,n=this.abs();if(1==n.t&&n[0]<=ge[ge.length-1]){for(e=0;e<ge.length;++e)if(n[0]==ge[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<ge.length;){for(var o=ge[e],i=e+1;i<ge.length&&o<me;)o*=ge[i++];for(o=n.modInt(o);e<i;)if(o%ge[e++]==0)return!1}return n.millerRabin(t)}function Qt(t){var e=this.subtract(n.ONE),i=e.getLowestSetBit();if(i<=0)return!1;var r=e.shiftRight(i);t=t+1>>1,t>ge.length&&(t=ge.length);for(var a=o(),s=0;s<t;++s){a.fromInt(ge[Math.floor(Math.random()*ge.length)]);var p=a.modPow(r,this);if(0!=p.compareTo(n.ONE)&&0!=p.compareTo(e)){for(var h=1;h++<i&&0!=p.compareTo(e);)if(p=p.modPowInt(2,this),0==p.compareTo(n.ONE))return!1;if(0!=p.compareTo(e))return!1}}return!0}var te=!1,ee=!1,ne=!0,oe=!1,ie={},re=!1;"undefined"!=typeof t&&t.exports?(t.exports=ie,re=!0):"undefined"!=typeof document?window.ClipperLib=ie:self.ClipperLib=ie;var ae;if(re){var se="chrome";ae="Netscape"}else{var se=navigator.userAgent.toString().toLowerCase();ae=navigator.appName}var pe={};se.indexOf("chrome")!=-1&&se.indexOf("chromium")==-1?pe.chrome=1:pe.chrome=0,se.indexOf("chromium")!=-1?pe.chromium=1:pe.chromium=0,se.indexOf("safari")!=-1&&se.indexOf("chrome")==-1&&se.indexOf("chromium")==-1?pe.safari=1:pe.safari=0,se.indexOf("firefox")!=-1?pe.firefox=1:pe.firefox=0,se.indexOf("firefox/17")!=-1?pe.firefox17=1:pe.firefox17=0,se.indexOf("firefox/15")!=-1?pe.firefox15=1:pe.firefox15=0,se.indexOf("firefox/3")!=-1?pe.firefox3=1:pe.firefox3=0,se.indexOf("opera")!=-1?pe.opera=1:pe.opera=0,se.indexOf("msie 10")!=-1?pe.msie10=1:pe.msie10=0,se.indexOf("msie 9")!=-1?pe.msie9=1:pe.msie9=0,se.indexOf("msie 8")!=-1?pe.msie8=1:pe.msie8=0,se.indexOf("msie 7")!=-1?pe.msie7=1:pe.msie7=0,se.indexOf("msie ")!=-1?pe.msie=1:pe.msie=0,ie.biginteger_used=null;var he,ue=0xdeadbeefcafe,le=15715070==(16777215&ue);le&&"Microsoft Internet Explorer"==ae?(n.prototype.am=r,he=30):le&&"Netscape"!=ae?(n.prototype.am=i,he=26):(n.prototype.am=a,he=28),n.prototype.DB=he,n.prototype.DM=(1<<he)-1,n.prototype.DV=1<<he;var ce=52;n.prototype.FV=Math.pow(2,ce),n.prototype.F1=ce-he,n.prototype.F2=2*he-ce;var fe,de,ye="0123456789abcdefghijklmnopqrstuvwxyz",ve=new Array;for(fe="0".charCodeAt(0),de=0;de<=9;++de)ve[fe++]=de;for(fe="a".charCodeAt(0),de=10;de<36;++de)ve[fe++]=de;for(fe="A".charCodeAt(0),de=10;de<36;++de)ve[fe++]=de;E.prototype.convert=L,E.prototype.revert=I,E.prototype.reduce=N,E.prototype.mulTo=O,E.prototype.sqrTo=k,D.prototype.convert=F,D.prototype.revert=j,D.prototype.reduce=K,D.prototype.mulTo=X,D.prototype.sqrTo=B,n.prototype.copyTo=h,n.prototype.fromInt=u,n.prototype.fromString=c,n.prototype.clamp=f,n.prototype.dlShiftTo=x,n.prototype.drShiftTo=_,n.prototype.lShiftTo=w,n.prototype.rShiftTo=P,n.prototype.subTo=S,n.prototype.multiplyTo=C,n.prototype.squareTo=M,n.prototype.divRemTo=T,n.prototype.invDigit=R,n.prototype.isEven=U,n.prototype.exp=Y,n.prototype.toString=d,n.prototype.negate=y,n.prototype.abs=v,n.prototype.compareTo=g,n.prototype.bitLength=b,n.prototype.mod=A,n.prototype.modPowInt=G,n.ZERO=l(0),n.ONE=l(1),Rt.prototype.convert=Dt,Rt.prototype.revert=Dt,Rt.prototype.mulTo=Ft,Rt.prototype.sqrTo=jt,Ut.prototype.convert=Yt,Ut.prototype.revert=Gt,Ut.prototype.reduce=Wt,Ut.prototype.mulTo=Ht,Ut.prototype.sqrTo=zt;var ge=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],me=(1<<26)/ge[ge.length-1];n.prototype.chunkSize=V,n.prototype.toRadix=Z,n.prototype.fromRadix=J,n.prototype.fromNumber=Q,n.prototype.bitwiseTo=it,n.prototype.changeBit=_t,n.prototype.addTo=Ct,n.prototype.dMultiply=Ot,n.prototype.dAddOffset=kt,n.prototype.multiplyLowerTo=Bt,n.prototype.multiplyUpperTo=Xt,n.prototype.modInt=$t,n.prototype.millerRabin=Qt,n.prototype.clone=W,n.prototype.intValue=z,n.prototype.byteValue=H,n.prototype.shortValue=q,n.prototype.signum=$,n.prototype.toByteArray=tt,n.prototype.equals=et,n.prototype.min=nt,n.prototype.max=ot,n.prototype.and=at,n.prototype.or=pt,n.prototype.xor=ut,n.prototype.andNot=ct,n.prototype.not=ft,n.prototype.shiftLeft=dt,n.prototype.shiftRight=yt,n.prototype.getLowestSetBit=gt,n.prototype.bitCount=bt,n.prototype.testBit=xt,n.prototype.setBit=wt,n.prototype.clearBit=Pt,n.prototype.flipBit=St,n.prototype.add=Mt,n.prototype.subtract=Tt,n.prototype.multiply=At,n.prototype.divide=Lt,n.prototype.remainder=It,n.prototype.divideAndRemainder=Nt,n.prototype.modPow=qt,n.prototype.modInverse=Zt,n.prototype.pow=Kt,n.prototype.gcd=Vt,n.prototype.isProbablePrime=Jt,n.prototype.square=Et;var be=n;if(be.prototype.IsNegative=function(){return this.compareTo(be.ZERO)==-1},be.op_Equality=function(t,e){return 0==t.compareTo(e)},be.op_Inequality=function(t,e){return 0!=t.compareTo(e)},be.op_GreaterThan=function(t,e){return t.compareTo(e)>0},be.op_LessThan=function(t,e){return t.compareTo(e)<0},be.op_Addition=function(t,e){return new be(t).add(new be(e))},be.op_Subtraction=function(t,e){return new be(t).subtract(new be(e))},be.Int128Mul=function(t,e){return new be(t).multiply(new be(e))},be.op_Division=function(t,e){return t.divide(e)},be.prototype.ToDouble=function(){return parseFloat(this.toString())},"undefined"==typeof xe)var xe=function(t,e){var n;if("undefined"==typeof Object.getOwnPropertyNames){for(n in e.prototype)"undefined"!=typeof t.prototype[n]&&t.prototype[n]!=Object.prototype[n]||(t.prototype[n]=e.prototype[n]);for(n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);t.$baseCtor=e}else{for(var o=Object.getOwnPropertyNames(e.prototype),i=0;i<o.length;i++)"undefined"==typeof Object.getOwnPropertyDescriptor(t.prototype,o[i])&&Object.defineProperty(t.prototype,o[i],Object.getOwnPropertyDescriptor(e.prototype,o[i]));for(n in e)"undefined"==typeof t[n]&&(t[n]=e[n]);t.$baseCtor=e}};ie.Path=function(){return[]},ie.Paths=function(){return[]},ie.DoublePoint=function(){var t=arguments;this.X=0,this.Y=0,1==t.length?(this.X=t[0].X,this.Y=t[0].Y):2==t.length&&(this.X=t[0],this.Y=t[1])},ie.DoublePoint0=function(){this.X=0,this.Y=0},ie.DoublePoint1=function(t){this.X=t.X,this.Y=t.Y},ie.DoublePoint2=function(t,e){this.X=t,this.Y=e},ie.PolyNode=function(){this.m_Parent=null,this.m_polygon=new ie.Path,this.m_Index=0,this.m_jointype=0,this.m_endtype=0,this.m_Childs=[],this.IsOpen=!1},ie.PolyNode.prototype.IsHoleNode=function(){for(var t=!0,e=this.m_Parent;null!==e;)t=!t,e=e.m_Parent;return t},ie.PolyNode.prototype.ChildCount=function(){return this.m_Childs.length},ie.PolyNode.prototype.Contour=function(){return this.m_polygon},ie.PolyNode.prototype.AddChild=function(t){var e=this.m_Childs.length;this.m_Childs.push(t),t.m_Parent=this,t.m_Index=e},ie.PolyNode.prototype.GetNext=function(){return this.m_Childs.length>0?this.m_Childs[0]:this.GetNextSiblingUp()},ie.PolyNode.prototype.GetNextSiblingUp=function(){return null===this.m_Parent?null:this.m_Index==this.m_Parent.m_Childs.length-1?this.m_Parent.GetNextSiblingUp():this.m_Parent.m_Childs[this.m_Index+1]},ie.PolyNode.prototype.Childs=function(){return this.m_Childs},ie.PolyNode.prototype.Parent=function(){return this.m_Parent},ie.PolyNode.prototype.IsHole=function(){return this.IsHoleNode()},ie.PolyTree=function(){this.m_AllPolys=[],ie.PolyNode.call(this)},ie.PolyTree.prototype.Clear=function(){for(var t=0,e=this.m_AllPolys.length;t<e;t++)this.m_AllPolys[t]=null;this.m_AllPolys.length=0,this.m_Childs.length=0},ie.PolyTree.prototype.GetFirst=function(){return this.m_Childs.length>0?this.m_Childs[0]:null},ie.PolyTree.prototype.Total=function(){return this.m_AllPolys.length},xe(ie.PolyTree,ie.PolyNode),ie.Math_Abs_Int64=ie.Math_Abs_Int32=ie.Math_Abs_Double=function(t){return Math.abs(t)},ie.Math_Max_Int32_Int32=function(t,e){return Math.max(t,e)},pe.msie||pe.opera||pe.safari?ie.Cast_Int32=function(t){return 0|t}:ie.Cast_Int32=function(t){return~~t},pe.chrome?ie.Cast_Int64=function(t){return t<-2147483648||t>2147483647?t<0?Math.ceil(t):Math.floor(t):~~t}:pe.firefox&&"function"==typeof Number.toInteger?ie.Cast_Int64=function(t){return Number.toInteger(t)}:pe.msie7||pe.msie8?ie.Cast_Int64=function(t){return parseInt(t,10)}:pe.msie?ie.Cast_Int64=function(t){return t<-2147483648||t>2147483647?t<0?Math.ceil(t):Math.floor(t):0|t}:ie.Cast_Int64=function(t){return t<0?Math.ceil(t):Math.floor(t)},ie.Clear=function(t){t.length=0},ie.PI=3.141592653589793,ie.PI2=6.283185307179586,ie.IntPoint=function(){var t=arguments,e=t.length;if(this.X=0,this.Y=0,ee)if(this.Z=0,3==e)this.X=t[0],this.Y=t[1],this.Z=t[2];else if(2==e)this.X=t[0],this.Y=t[1],this.Z=0;else if(1==e)if(t[0]instanceof ie.DoublePoint){var n=t[0];this.X=ie.Clipper.Round(n.X),this.Y=ie.Clipper.Round(n.Y),this.Z=0}else{var o=t[0];"undefined"==typeof o.Z&&(o.Z=0),
this.X=o.X,this.Y=o.Y,this.Z=o.Z}else this.X=0,this.Y=0,this.Z=0;else if(2==e)this.X=t[0],this.Y=t[1];else if(1==e)if(t[0]instanceof ie.DoublePoint){var n=t[0];this.X=ie.Clipper.Round(n.X),this.Y=ie.Clipper.Round(n.Y)}else{var o=t[0];this.X=o.X,this.Y=o.Y}else this.X=0,this.Y=0},ie.IntPoint.op_Equality=function(t,e){return t.X==e.X&&t.Y==e.Y},ie.IntPoint.op_Inequality=function(t,e){return t.X!=e.X||t.Y!=e.Y},ee?(ie.IntPoint0=function(){this.X=0,this.Y=0,this.Z=0},ie.IntPoint1=function(t){this.X=t.X,this.Y=t.Y,this.Z=t.Z},ie.IntPoint1dp=function(t){this.X=ie.Clipper.Round(t.X),this.Y=ie.Clipper.Round(t.Y),this.Z=0},ie.IntPoint2=function(t,e){this.X=t,this.Y=e,this.Z=0},ie.IntPoint3=function(t,e,n){this.X=t,this.Y=e,this.Z=n}):(ie.IntPoint0=function(){this.X=0,this.Y=0},ie.IntPoint1=function(t){this.X=t.X,this.Y=t.Y},ie.IntPoint1dp=function(t){this.X=ie.Clipper.Round(t.X),this.Y=ie.Clipper.Round(t.Y)},ie.IntPoint2=function(t,e){this.X=t,this.Y=e}),ie.IntRect=function(){var t=arguments,e=t.length;4==e?(this.left=t[0],this.top=t[1],this.right=t[2],this.bottom=t[3]):1==e?(this.left=ir.left,this.top=ir.top,this.right=ir.right,this.bottom=ir.bottom):(this.left=0,this.top=0,this.right=0,this.bottom=0)},ie.IntRect0=function(){this.left=0,this.top=0,this.right=0,this.bottom=0},ie.IntRect1=function(t){this.left=t.left,this.top=t.top,this.right=t.right,this.bottom=t.bottom},ie.IntRect4=function(t,e,n,o){this.left=t,this.top=e,this.right=n,this.bottom=o},ie.ClipType={ctIntersection:0,ctUnion:1,ctDifference:2,ctXor:3},ie.PolyType={ptSubject:0,ptClip:1},ie.PolyFillType={pftEvenOdd:0,pftNonZero:1,pftPositive:2,pftNegative:3},ie.JoinType={jtSquare:0,jtRound:1,jtMiter:2},ie.EndType={etOpenSquare:0,etOpenRound:1,etOpenButt:2,etClosedLine:3,etClosedPolygon:4},oe&&(ie.EndType_={etSquare:0,etRound:1,etButt:2,etClosed:3}),ie.EdgeSide={esLeft:0,esRight:1},ie.Direction={dRightToLeft:0,dLeftToRight:1},ie.TEdge=function(){this.Bot=new ie.IntPoint,this.Curr=new ie.IntPoint,this.Top=new ie.IntPoint,this.Delta=new ie.IntPoint,this.Dx=0,this.PolyTyp=ie.PolyType.ptSubject,this.Side=ie.EdgeSide.esLeft,this.WindDelta=0,this.WindCnt=0,this.WindCnt2=0,this.OutIdx=0,this.Next=null,this.Prev=null,this.NextInLML=null,this.NextInAEL=null,this.PrevInAEL=null,this.NextInSEL=null,this.PrevInSEL=null},ie.IntersectNode=function(){this.Edge1=null,this.Edge2=null,this.Pt=new ie.IntPoint},ie.MyIntersectNodeSort=function(){},ie.MyIntersectNodeSort.Compare=function(t,e){return e.Pt.Y-t.Pt.Y},ie.LocalMinima=function(){this.Y=0,this.LeftBound=null,this.RightBound=null,this.Next=null},ie.Scanbeam=function(){this.Y=0,this.Next=null},ie.OutRec=function(){this.Idx=0,this.IsHole=!1,this.IsOpen=!1,this.FirstLeft=null,this.Pts=null,this.BottomPt=null,this.PolyNode=null},ie.OutPt=function(){this.Idx=0,this.Pt=new ie.IntPoint,this.Next=null,this.Prev=null},ie.Join=function(){this.OutPt1=null,this.OutPt2=null,this.OffPt=new ie.IntPoint},ie.ClipperBase=function(){this.m_MinimaList=null,this.m_CurrentLM=null,this.m_edges=new Array,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1,this.PreserveCollinear=!1,this.m_MinimaList=null,this.m_CurrentLM=null,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},ie.ClipperBase.horizontal=-9007199254740992,ie.ClipperBase.Skip=-2,ie.ClipperBase.Unassigned=-1,ie.ClipperBase.tolerance=1e-20,te?(ie.ClipperBase.loRange=46340,ie.ClipperBase.hiRange=46340):(ie.ClipperBase.loRange=47453132,ie.ClipperBase.hiRange=0xfffffffffffff),ie.ClipperBase.near_zero=function(t){return t>-ie.ClipperBase.tolerance&&t<ie.ClipperBase.tolerance},ie.ClipperBase.IsHorizontal=function(t){return 0===t.Delta.Y},ie.ClipperBase.prototype.PointIsVertex=function(t,e){var n=e;do{if(ie.IntPoint.op_Equality(n.Pt,t))return!0;n=n.Next}while(n!=e);return!1},ie.ClipperBase.prototype.PointOnLineSegment=function(t,e,n,o){return o?t.X==e.X&&t.Y==e.Y||t.X==n.X&&t.Y==n.Y||t.X>e.X==t.X<n.X&&t.Y>e.Y==t.Y<n.Y&&be.op_Equality(be.Int128Mul(t.X-e.X,n.Y-e.Y),be.Int128Mul(n.X-e.X,t.Y-e.Y)):t.X==e.X&&t.Y==e.Y||t.X==n.X&&t.Y==n.Y||t.X>e.X==t.X<n.X&&t.Y>e.Y==t.Y<n.Y&&(t.X-e.X)*(n.Y-e.Y)==(n.X-e.X)*(t.Y-e.Y)},ie.ClipperBase.prototype.PointOnPolygon=function(t,e,n){for(var o=e;;){if(this.PointOnLineSegment(t,o.Pt,o.Next.Pt,n))return!0;if(o=o.Next,o==e)break}return!1},ie.ClipperBase.prototype.SlopesEqual=ie.ClipperBase.SlopesEqual=function(){var t,e,n,o,i,r,a,s=arguments,p=s.length;return 3==p?(t=s[0],e=s[1],a=s[2],a?be.op_Equality(be.Int128Mul(t.Delta.Y,e.Delta.X),be.Int128Mul(t.Delta.X,e.Delta.Y)):ie.Cast_Int64(t.Delta.Y*e.Delta.X)==ie.Cast_Int64(t.Delta.X*e.Delta.Y)):4==p?(n=s[0],o=s[1],i=s[2],a=s[3],a?be.op_Equality(be.Int128Mul(n.Y-o.Y,o.X-i.X),be.Int128Mul(n.X-o.X,o.Y-i.Y)):ie.Cast_Int64((n.Y-o.Y)*(o.X-i.X))-ie.Cast_Int64((n.X-o.X)*(o.Y-i.Y))===0):(n=s[0],o=s[1],i=s[2],r=s[3],a=s[4],a?be.op_Equality(be.Int128Mul(n.Y-o.Y,i.X-r.X),be.Int128Mul(n.X-o.X,i.Y-r.Y)):ie.Cast_Int64((n.Y-o.Y)*(i.X-r.X))-ie.Cast_Int64((n.X-o.X)*(i.Y-r.Y))===0)},ie.ClipperBase.SlopesEqual3=function(t,e,n){return n?be.op_Equality(be.Int128Mul(t.Delta.Y,e.Delta.X),be.Int128Mul(t.Delta.X,e.Delta.Y)):ie.Cast_Int64(t.Delta.Y*e.Delta.X)==ie.Cast_Int64(t.Delta.X*e.Delta.Y)},ie.ClipperBase.SlopesEqual4=function(t,e,n,o){return o?be.op_Equality(be.Int128Mul(t.Y-e.Y,e.X-n.X),be.Int128Mul(t.X-e.X,e.Y-n.Y)):ie.Cast_Int64((t.Y-e.Y)*(e.X-n.X))-ie.Cast_Int64((t.X-e.X)*(e.Y-n.Y))===0},ie.ClipperBase.SlopesEqual5=function(t,e,n,o,i){return i?be.op_Equality(be.Int128Mul(t.Y-e.Y,n.X-o.X),be.Int128Mul(t.X-e.X,n.Y-o.Y)):ie.Cast_Int64((t.Y-e.Y)*(n.X-o.X))-ie.Cast_Int64((t.X-e.X)*(n.Y-o.Y))===0},ie.ClipperBase.prototype.Clear=function(){this.DisposeLocalMinimaList();for(var t=0,e=this.m_edges.length;t<e;++t){for(var n=0,o=this.m_edges[t].length;n<o;++n)this.m_edges[t][n]=null;ie.Clear(this.m_edges[t])}ie.Clear(this.m_edges),this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},ie.ClipperBase.prototype.DisposeLocalMinimaList=function(){for(;null!==this.m_MinimaList;){var t=this.m_MinimaList.Next;this.m_MinimaList=null,this.m_MinimaList=t}this.m_CurrentLM=null},ie.ClipperBase.prototype.RangeTest=function(t,e){e.Value?(t.X>ie.ClipperBase.hiRange||t.Y>ie.ClipperBase.hiRange||-t.X>ie.ClipperBase.hiRange||-t.Y>ie.ClipperBase.hiRange)&&ie.Error("Coordinate outside allowed range in RangeTest()."):(t.X>ie.ClipperBase.loRange||t.Y>ie.ClipperBase.loRange||-t.X>ie.ClipperBase.loRange||-t.Y>ie.ClipperBase.loRange)&&(e.Value=!0,this.RangeTest(t,e))},ie.ClipperBase.prototype.InitEdge=function(t,e,n,o){t.Next=e,t.Prev=n,t.Curr.X=o.X,t.Curr.Y=o.Y,t.OutIdx=-1},ie.ClipperBase.prototype.InitEdge2=function(t,e){t.Curr.Y>=t.Next.Curr.Y?(t.Bot.X=t.Curr.X,t.Bot.Y=t.Curr.Y,t.Top.X=t.Next.Curr.X,t.Top.Y=t.Next.Curr.Y):(t.Top.X=t.Curr.X,t.Top.Y=t.Curr.Y,t.Bot.X=t.Next.Curr.X,t.Bot.Y=t.Next.Curr.Y),this.SetDx(t),t.PolyTyp=e},ie.ClipperBase.prototype.FindNextLocMin=function(t){for(var e;;){for(;ie.IntPoint.op_Inequality(t.Bot,t.Prev.Bot)||ie.IntPoint.op_Equality(t.Curr,t.Top);)t=t.Next;if(t.Dx!=ie.ClipperBase.horizontal&&t.Prev.Dx!=ie.ClipperBase.horizontal)break;for(;t.Prev.Dx==ie.ClipperBase.horizontal;)t=t.Prev;for(e=t;t.Dx==ie.ClipperBase.horizontal;)t=t.Next;if(t.Top.Y!=t.Prev.Bot.Y){e.Prev.Bot.X<t.Bot.X&&(t=e);break}}return t},ie.ClipperBase.prototype.ProcessBound=function(t,e){var n,o,i=t,r=t;if(t.Dx==ie.ClipperBase.horizontal&&(o=e?t.Prev.Bot.X:t.Next.Bot.X,t.Bot.X!=o&&this.ReverseHorizontal(t)),r.OutIdx!=ie.ClipperBase.Skip)if(e){for(;r.Top.Y==r.Next.Bot.Y&&r.Next.OutIdx!=ie.ClipperBase.Skip;)r=r.Next;if(r.Dx==ie.ClipperBase.horizontal&&r.Next.OutIdx!=ie.ClipperBase.Skip){for(n=r;n.Prev.Dx==ie.ClipperBase.horizontal;)n=n.Prev;n.Prev.Top.X==r.Next.Top.X?e||(r=n.Prev):n.Prev.Top.X>r.Next.Top.X&&(r=n.Prev)}for(;t!=r;)t.NextInLML=t.Next,t.Dx==ie.ClipperBase.horizontal&&t!=i&&t.Bot.X!=t.Prev.Top.X&&this.ReverseHorizontal(t),t=t.Next;t.Dx==ie.ClipperBase.horizontal&&t!=i&&t.Bot.X!=t.Prev.Top.X&&this.ReverseHorizontal(t),r=r.Next}else{for(;r.Top.Y==r.Prev.Bot.Y&&r.Prev.OutIdx!=ie.ClipperBase.Skip;)r=r.Prev;if(r.Dx==ie.ClipperBase.horizontal&&r.Prev.OutIdx!=ie.ClipperBase.Skip){for(n=r;n.Next.Dx==ie.ClipperBase.horizontal;)n=n.Next;n.Next.Top.X==r.Prev.Top.X?e||(r=n.Next):n.Next.Top.X>r.Prev.Top.X&&(r=n.Next)}for(;t!=r;)t.NextInLML=t.Prev,t.Dx==ie.ClipperBase.horizontal&&t!=i&&t.Bot.X!=t.Next.Top.X&&this.ReverseHorizontal(t),t=t.Prev;t.Dx==ie.ClipperBase.horizontal&&t!=i&&t.Bot.X!=t.Next.Top.X&&this.ReverseHorizontal(t),r=r.Prev}if(r.OutIdx==ie.ClipperBase.Skip){if(t=r,e){for(;t.Top.Y==t.Next.Bot.Y;)t=t.Next;for(;t!=r&&t.Dx==ie.ClipperBase.horizontal;)t=t.Prev}else{for(;t.Top.Y==t.Prev.Bot.Y;)t=t.Prev;for(;t!=r&&t.Dx==ie.ClipperBase.horizontal;)t=t.Next}if(t==r)r=e?t.Next:t.Prev;else{t=e?r.Next:r.Prev;var a=new ie.LocalMinima;a.Next=null,a.Y=t.Bot.Y,a.LeftBound=null,a.RightBound=t,a.RightBound.WindDelta=0,r=this.ProcessBound(a.RightBound,e),this.InsertLocalMinima(a)}}return r},ie.ClipperBase.prototype.AddPath=function(t,e,n){ne?n||e!=ie.PolyType.ptClip||ie.Error("AddPath: Open paths must be subject."):n||ie.Error("AddPath: Open paths have been disabled.");var o=t.length-1;if(n)for(;o>0&&ie.IntPoint.op_Equality(t[o],t[0]);)--o;for(;o>0&&ie.IntPoint.op_Equality(t[o],t[o-1]);)--o;if(n&&o<2||!n&&o<1)return!1;for(var i=new Array,r=0;r<=o;r++)i.push(new ie.TEdge);var a=!0;i[1].Curr.X=t[1].X,i[1].Curr.Y=t[1].Y;var s={Value:this.m_UseFullRange};this.RangeTest(t[0],s),this.m_UseFullRange=s.Value,s.Value=this.m_UseFullRange,this.RangeTest(t[o],s),this.m_UseFullRange=s.Value,this.InitEdge(i[0],i[1],i[o],t[0]),this.InitEdge(i[o],i[0],i[o-1],t[o]);for(var r=o-1;r>=1;--r)s.Value=this.m_UseFullRange,this.RangeTest(t[r],s),this.m_UseFullRange=s.Value,this.InitEdge(i[r],i[r+1],i[r-1],t[r]);for(var p=i[0],h=p,u=p;;)if(ie.IntPoint.op_Equality(h.Curr,h.Next.Curr)){if(h==h.Next)break;h==p&&(p=h.Next),h=this.RemoveEdge(h),u=h}else{if(h.Prev==h.Next)break;if(!n||!ie.ClipperBase.SlopesEqual(h.Prev.Curr,h.Curr,h.Next.Curr,this.m_UseFullRange)||this.PreserveCollinear&&this.Pt2IsBetweenPt1AndPt3(h.Prev.Curr,h.Curr,h.Next.Curr)){if(h=h.Next,h==u)break}else h==p&&(p=h.Next),h=this.RemoveEdge(h),h=h.Prev,u=h}if(!n&&h==h.Next||n&&h.Prev==h.Next)return!1;n||(this.m_HasOpenPaths=!0,p.Prev.OutIdx=ie.ClipperBase.Skip);h=p;do this.InitEdge2(h,e),h=h.Next,a&&h.Curr.Y!=p.Curr.Y&&(a=!1);while(h!=p);if(a){if(n)return!1;h.Prev.OutIdx=ie.ClipperBase.Skip,h.Prev.Bot.X<h.Prev.Top.X&&this.ReverseHorizontal(h.Prev);var l=new ie.LocalMinima;for(l.Next=null,l.Y=h.Bot.Y,l.LeftBound=null,l.RightBound=h,l.RightBound.Side=ie.EdgeSide.esRight,l.RightBound.WindDelta=0;h.Next.OutIdx!=ie.ClipperBase.Skip;)h.NextInLML=h.Next,h.Bot.X!=h.Prev.Top.X&&this.ReverseHorizontal(h),h=h.Next;return this.InsertLocalMinima(l),this.m_edges.push(i),!0}this.m_edges.push(i);for(var c,f=null;h=this.FindNextLocMin(h),h!=f;){null==f&&(f=h);var l=new ie.LocalMinima;l.Next=null,l.Y=h.Bot.Y,h.Dx<h.Prev.Dx?(l.LeftBound=h.Prev,l.RightBound=h,c=!1):(l.LeftBound=h,l.RightBound=h.Prev,c=!0),l.LeftBound.Side=ie.EdgeSide.esLeft,l.RightBound.Side=ie.EdgeSide.esRight,n?l.LeftBound.Next==l.RightBound?l.LeftBound.WindDelta=-1:l.LeftBound.WindDelta=1:l.LeftBound.WindDelta=0,l.RightBound.WindDelta=-l.LeftBound.WindDelta,h=this.ProcessBound(l.LeftBound,c);var d=this.ProcessBound(l.RightBound,!c);l.LeftBound.OutIdx==ie.ClipperBase.Skip?l.LeftBound=null:l.RightBound.OutIdx==ie.ClipperBase.Skip&&(l.RightBound=null),this.InsertLocalMinima(l),c||(h=d)}return!0},ie.ClipperBase.prototype.AddPaths=function(t,e,n){for(var o=!1,i=0,r=t.length;i<r;++i)this.AddPath(t[i],e,n)&&(o=!0);return o},ie.ClipperBase.prototype.Pt2IsBetweenPt1AndPt3=function(t,e,n){return!(ie.IntPoint.op_Equality(t,n)||ie.IntPoint.op_Equality(t,e)||ie.IntPoint.op_Equality(n,e))&&(t.X!=n.X?e.X>t.X==e.X<n.X:e.Y>t.Y==e.Y<n.Y)},ie.ClipperBase.prototype.RemoveEdge=function(t){t.Prev.Next=t.Next,t.Next.Prev=t.Prev;var e=t.Next;return t.Prev=null,e},ie.ClipperBase.prototype.SetDx=function(t){t.Delta.X=t.Top.X-t.Bot.X,t.Delta.Y=t.Top.Y-t.Bot.Y,0===t.Delta.Y?t.Dx=ie.ClipperBase.horizontal:t.Dx=t.Delta.X/t.Delta.Y},ie.ClipperBase.prototype.InsertLocalMinima=function(t){if(null===this.m_MinimaList)this.m_MinimaList=t;else if(t.Y>=this.m_MinimaList.Y)t.Next=this.m_MinimaList,this.m_MinimaList=t;else{for(var e=this.m_MinimaList;null!==e.Next&&t.Y<e.Next.Y;)e=e.Next;t.Next=e.Next,e.Next=t}},ie.ClipperBase.prototype.PopLocalMinima=function(){null!==this.m_CurrentLM&&(this.m_CurrentLM=this.m_CurrentLM.Next)},ie.ClipperBase.prototype.ReverseHorizontal=function(t){var e=t.Top.X;t.Top.X=t.Bot.X,t.Bot.X=e,ee&&(e=t.Top.Z,t.Top.Z=t.Bot.Z,t.Bot.Z=e)},ie.ClipperBase.prototype.Reset=function(){if(this.m_CurrentLM=this.m_MinimaList,null!=this.m_CurrentLM)for(var t=this.m_MinimaList;null!=t;){var e=t.LeftBound;null!=e&&(e.Curr.X=e.Bot.X,e.Curr.Y=e.Bot.Y,e.Side=ie.EdgeSide.esLeft,e.OutIdx=ie.ClipperBase.Unassigned),e=t.RightBound,null!=e&&(e.Curr.X=e.Bot.X,e.Curr.Y=e.Bot.Y,e.Side=ie.EdgeSide.esRight,e.OutIdx=ie.ClipperBase.Unassigned),t=t.Next}},ie.Clipper=function(t){"undefined"==typeof t&&(t=0),this.m_PolyOuts=null,this.m_ClipType=ie.ClipType.ctIntersection,this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=null,this.m_IntersectNodeComparer=null,this.m_ExecuteLocked=!1,this.m_ClipFillType=ie.PolyFillType.pftEvenOdd,this.m_SubjFillType=ie.PolyFillType.pftEvenOdd,this.m_Joins=null,this.m_GhostJoins=null,this.m_UsingPolyTree=!1,this.ReverseSolution=!1,this.StrictlySimple=!1,ie.ClipperBase.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=new Array,this.m_IntersectNodeComparer=ie.MyIntersectNodeSort.Compare,this.m_ExecuteLocked=!1,this.m_UsingPolyTree=!1,this.m_PolyOuts=new Array,this.m_Joins=new Array,this.m_GhostJoins=new Array,this.ReverseSolution=0!==(1&t),this.StrictlySimple=0!==(2&t),this.PreserveCollinear=0!==(4&t),ee&&(this.ZFillFunction=null)},ie.Clipper.ioReverseSolution=1,ie.Clipper.ioStrictlySimple=2,ie.Clipper.ioPreserveCollinear=4,ie.Clipper.prototype.Clear=function(){0!==this.m_edges.length&&(this.DisposeAllPolyPts(),ie.ClipperBase.prototype.Clear.call(this))},ie.Clipper.prototype.DisposeScanbeamList=function(){for(;null!==this.m_Scanbeam;){var t=this.m_Scanbeam.Next;this.m_Scanbeam=null,this.m_Scanbeam=t}},ie.Clipper.prototype.Reset=function(){ie.ClipperBase.prototype.Reset.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null;for(var t=this.m_MinimaList;null!==t;)this.InsertScanbeam(t.Y),t=t.Next},ie.Clipper.prototype.InsertScanbeam=function(t){if(null===this.m_Scanbeam)this.m_Scanbeam=new ie.Scanbeam,this.m_Scanbeam.Next=null,this.m_Scanbeam.Y=t;else if(t>this.m_Scanbeam.Y){var e=new ie.Scanbeam;e.Y=t,e.Next=this.m_Scanbeam,this.m_Scanbeam=e}else{for(var n=this.m_Scanbeam;null!==n.Next&&t<=n.Next.Y;)n=n.Next;if(t==n.Y)return;var e=new ie.Scanbeam;e.Y=t,e.Next=n.Next,n.Next=e}},ie.Clipper.prototype.Execute=function(){var t=arguments,e=t.length,n=t[1]instanceof ie.PolyTree;if(4==e&&!n){var o=t[0],i=t[1],r=t[2],a=t[3];if(this.m_ExecuteLocked)return!1;this.m_HasOpenPaths&&ie.Error("Error: PolyTree struct is need for open path clipping."),this.m_ExecuteLocked=!0,ie.Clear(i),this.m_SubjFillType=r,this.m_ClipFillType=a,this.m_ClipType=o,this.m_UsingPolyTree=!1;try{var s=this.ExecuteInternal();s&&this.BuildResult(i)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return s}if(4==e&&n){var o=t[0],p=t[1],r=t[2],a=t[3];if(this.m_ExecuteLocked)return!1;this.m_ExecuteLocked=!0,this.m_SubjFillType=r,this.m_ClipFillType=a,this.m_ClipType=o,this.m_UsingPolyTree=!0;try{var s=this.ExecuteInternal();s&&this.BuildResult2(p)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return s}if(2==e&&!n){var o=t[0],i=t[1];return this.Execute(o,i,ie.PolyFillType.pftEvenOdd,ie.PolyFillType.pftEvenOdd)}if(2==e&&n){var o=t[0],p=t[1];return this.Execute(o,p,ie.PolyFillType.pftEvenOdd,ie.PolyFillType.pftEvenOdd)}},ie.Clipper.prototype.FixHoleLinkage=function(t){if(null!==t.FirstLeft&&(t.IsHole==t.FirstLeft.IsHole||null===t.FirstLeft.Pts)){for(var e=t.FirstLeft;null!==e&&(e.IsHole==t.IsHole||null===e.Pts);)e=e.FirstLeft;t.FirstLeft=e}},ie.Clipper.prototype.ExecuteInternal=function(){try{if(this.Reset(),null===this.m_CurrentLM)return!1;var t=this.PopScanbeam();do{if(this.InsertLocalMinimaIntoAEL(t),ie.Clear(this.m_GhostJoins),this.ProcessHorizontals(!1),null===this.m_Scanbeam)break;var e=this.PopScanbeam();if(!this.ProcessIntersections(t,e))return!1;this.ProcessEdgesAtTopOfScanbeam(e),t=e}while(null!==this.m_Scanbeam||null!==this.m_CurrentLM);for(var n=0,o=this.m_PolyOuts.length;n<o;n++){var i=this.m_PolyOuts[n];null===i.Pts||i.IsOpen||(i.IsHole^this.ReverseSolution)==this.Area(i)>0&&this.ReversePolyPtLinks(i.Pts)}this.JoinCommonEdges();for(var n=0,o=this.m_PolyOuts.length;n<o;n++){var i=this.m_PolyOuts[n];null===i.Pts||i.IsOpen||this.FixupOutPolygon(i)}return this.StrictlySimple&&this.DoSimplePolygons(),!0}finally{ie.Clear(this.m_Joins),ie.Clear(this.m_GhostJoins)}},ie.Clipper.prototype.PopScanbeam=function(){var t=this.m_Scanbeam.Y,e=this.m_Scanbeam;return this.m_Scanbeam=this.m_Scanbeam.Next,e=null,t},ie.Clipper.prototype.DisposeAllPolyPts=function(){for(var t=0,e=this.m_PolyOuts.length;t<e;++t)this.DisposeOutRec(t);ie.Clear(this.m_PolyOuts)},ie.Clipper.prototype.DisposeOutRec=function(t){var e=this.m_PolyOuts[t];null!==e.Pts&&this.DisposeOutPts(e.Pts),e=null,this.m_PolyOuts[t]=null},ie.Clipper.prototype.DisposeOutPts=function(t){if(null!==t){var e=null;for(t.Prev.Next=null;null!==t;)e=t,t=t.Next,e=null}},ie.Clipper.prototype.AddJoin=function(t,e,n){var o=new ie.Join;o.OutPt1=t,o.OutPt2=e,o.OffPt.X=n.X,o.OffPt.Y=n.Y,this.m_Joins.push(o)},ie.Clipper.prototype.AddGhostJoin=function(t,e){var n=new ie.Join;n.OutPt1=t,n.OffPt.X=e.X,n.OffPt.Y=e.Y,this.m_GhostJoins.push(n)},ee&&(ie.Clipper.prototype.SetZ=function(t,e){t.Z=0,null!==this.ZFillFunction&&(e.OutIdx<0?this.ZFillFunction(e.Bot,e.Top,t):this.ZFillFunction(e.Top,e.Bot,t))}),ie.Clipper.prototype.InsertLocalMinimaIntoAEL=function(t){for(;null!==this.m_CurrentLM&&this.m_CurrentLM.Y==t;){var e=this.m_CurrentLM.LeftBound,n=this.m_CurrentLM.RightBound;this.PopLocalMinima();var o=null;if(null===e?(this.InsertEdgeIntoAEL(n,null),this.SetWindingCount(n),this.IsContributing(n)&&(o=this.AddOutPt(n,n.Bot))):null==n?(this.InsertEdgeIntoAEL(e,null),this.SetWindingCount(e),this.IsContributing(e)&&(o=this.AddOutPt(e,e.Bot)),this.InsertScanbeam(e.Top.Y)):(this.InsertEdgeIntoAEL(e,null),this.InsertEdgeIntoAEL(n,e),this.SetWindingCount(e),n.WindCnt=e.WindCnt,n.WindCnt2=e.WindCnt2,this.IsContributing(e)&&(o=this.AddLocalMinPoly(e,n,e.Bot)),this.InsertScanbeam(e.Top.Y)),null!=n&&(ie.ClipperBase.IsHorizontal(n)?this.AddEdgeToSEL(n):this.InsertScanbeam(n.Top.Y)),null!=e&&null!=n){if(null!==o&&ie.ClipperBase.IsHorizontal(n)&&this.m_GhostJoins.length>0&&0!==n.WindDelta)for(var i=0,r=this.m_GhostJoins.length;i<r;i++){var a=this.m_GhostJoins[i];this.HorzSegmentsOverlap(a.OutPt1.Pt,a.OffPt,n.Bot,n.Top)&&this.AddJoin(a.OutPt1,o,a.OffPt)}if(e.OutIdx>=0&&null!==e.PrevInAEL&&e.PrevInAEL.Curr.X==e.Bot.X&&e.PrevInAEL.OutIdx>=0&&ie.ClipperBase.SlopesEqual(e.PrevInAEL,e,this.m_UseFullRange)&&0!==e.WindDelta&&0!==e.PrevInAEL.WindDelta){var s=this.AddOutPt(e.PrevInAEL,e.Bot);this.AddJoin(o,s,e.Top)}if(e.NextInAEL!=n){if(n.OutIdx>=0&&n.PrevInAEL.OutIdx>=0&&ie.ClipperBase.SlopesEqual(n.PrevInAEL,n,this.m_UseFullRange)&&0!==n.WindDelta&&0!==n.PrevInAEL.WindDelta){var s=this.AddOutPt(n.PrevInAEL,n.Bot);this.AddJoin(o,s,n.Top)}var p=e.NextInAEL;if(null!==p)for(;p!=n;)this.IntersectEdges(n,p,e.Curr,!1),p=p.NextInAEL}}}},ie.Clipper.prototype.InsertEdgeIntoAEL=function(t,e){if(null===this.m_ActiveEdges)t.PrevInAEL=null,t.NextInAEL=null,this.m_ActiveEdges=t;else if(null===e&&this.E2InsertsBeforeE1(this.m_ActiveEdges,t))t.PrevInAEL=null,t.NextInAEL=this.m_ActiveEdges,this.m_ActiveEdges.PrevInAEL=t,this.m_ActiveEdges=t;else{for(null===e&&(e=this.m_ActiveEdges);null!==e.NextInAEL&&!this.E2InsertsBeforeE1(e.NextInAEL,t);)e=e.NextInAEL;t.NextInAEL=e.NextInAEL,null!==e.NextInAEL&&(e.NextInAEL.PrevInAEL=t),t.PrevInAEL=e,e.NextInAEL=t}},ie.Clipper.prototype.E2InsertsBeforeE1=function(t,e){return e.Curr.X==t.Curr.X?e.Top.Y>t.Top.Y?e.Top.X<ie.Clipper.TopX(t,e.Top.Y):t.Top.X>ie.Clipper.TopX(e,t.Top.Y):e.Curr.X<t.Curr.X},ie.Clipper.prototype.IsEvenOddFillType=function(t){return t.PolyTyp==ie.PolyType.ptSubject?this.m_SubjFillType==ie.PolyFillType.pftEvenOdd:this.m_ClipFillType==ie.PolyFillType.pftEvenOdd},ie.Clipper.prototype.IsEvenOddAltFillType=function(t){return t.PolyTyp==ie.PolyType.ptSubject?this.m_ClipFillType==ie.PolyFillType.pftEvenOdd:this.m_SubjFillType==ie.PolyFillType.pftEvenOdd},ie.Clipper.prototype.IsContributing=function(t){var e,n;switch(t.PolyTyp==ie.PolyType.ptSubject?(e=this.m_SubjFillType,n=this.m_ClipFillType):(e=this.m_ClipFillType,n=this.m_SubjFillType),e){case ie.PolyFillType.pftEvenOdd:if(0===t.WindDelta&&1!=t.WindCnt)return!1;break;case ie.PolyFillType.pftNonZero:if(1!=Math.abs(t.WindCnt))return!1;break;case ie.PolyFillType.pftPositive:if(1!=t.WindCnt)return!1;break;default:if(t.WindCnt!=-1)return!1}switch(this.m_ClipType){case ie.ClipType.ctIntersection:switch(n){case ie.PolyFillType.pftEvenOdd:case ie.PolyFillType.pftNonZero:return 0!==t.WindCnt2;case ie.PolyFillType.pftPositive:return t.WindCnt2>0;default:return t.WindCnt2<0}case ie.ClipType.ctUnion:switch(n){case ie.PolyFillType.pftEvenOdd:case ie.PolyFillType.pftNonZero:return 0===t.WindCnt2;case ie.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}case ie.ClipType.ctDifference:if(t.PolyTyp==ie.PolyType.ptSubject)switch(n){case ie.PolyFillType.pftEvenOdd:case ie.PolyFillType.pftNonZero:return 0===t.WindCnt2;case ie.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}else switch(n){case ie.PolyFillType.pftEvenOdd:case ie.PolyFillType.pftNonZero:return 0!==t.WindCnt2;case ie.PolyFillType.pftPositive:return t.WindCnt2>0;default:return t.WindCnt2<0}case ie.ClipType.ctXor:if(0!==t.WindDelta)return!0;switch(n){case ie.PolyFillType.pftEvenOdd:case ie.PolyFillType.pftNonZero:return 0===t.WindCnt2;case ie.PolyFillType.pftPositive:return t.WindCnt2<=0;default:return t.WindCnt2>=0}}return!0},ie.Clipper.prototype.SetWindingCount=function(t){for(var e=t.PrevInAEL;null!==e&&(e.PolyTyp!=t.PolyTyp||0===e.WindDelta);)e=e.PrevInAEL;if(null===e)t.WindCnt=0===t.WindDelta?1:t.WindDelta,t.WindCnt2=0,e=this.m_ActiveEdges;else if(0===t.WindDelta&&this.m_ClipType!=ie.ClipType.ctUnion)t.WindCnt=1,t.WindCnt2=e.WindCnt2,e=e.NextInAEL;else if(this.IsEvenOddFillType(t)){if(0===t.WindDelta){for(var n=!0,o=e.PrevInAEL;null!==o;)o.PolyTyp==e.PolyTyp&&0!==o.WindDelta&&(n=!n),o=o.PrevInAEL;t.WindCnt=n?0:1}else t.WindCnt=t.WindDelta;t.WindCnt2=e.WindCnt2,e=e.NextInAEL}else e.WindCnt*e.WindDelta<0?Math.abs(e.WindCnt)>1?e.WindDelta*t.WindDelta<0?t.WindCnt=e.WindCnt:t.WindCnt=e.WindCnt+t.WindDelta:t.WindCnt=0===t.WindDelta?1:t.WindDelta:0===t.WindDelta?t.WindCnt=e.WindCnt<0?e.WindCnt-1:e.WindCnt+1:e.WindDelta*t.WindDelta<0?t.WindCnt=e.WindCnt:t.WindCnt=e.WindCnt+t.WindDelta,t.WindCnt2=e.WindCnt2,e=e.NextInAEL;if(this.IsEvenOddAltFillType(t))for(;e!=t;)0!==e.WindDelta&&(t.WindCnt2=0===t.WindCnt2?1:0),e=e.NextInAEL;else for(;e!=t;)t.WindCnt2+=e.WindDelta,e=e.NextInAEL},ie.Clipper.prototype.AddEdgeToSEL=function(t){null===this.m_SortedEdges?(this.m_SortedEdges=t,t.PrevInSEL=null,t.NextInSEL=null):(t.NextInSEL=this.m_SortedEdges,t.PrevInSEL=null,this.m_SortedEdges.PrevInSEL=t,this.m_SortedEdges=t)},ie.Clipper.prototype.CopyAELToSEL=function(){var t=this.m_ActiveEdges;for(this.m_SortedEdges=t;null!==t;)t.PrevInSEL=t.PrevInAEL,t.NextInSEL=t.NextInAEL,t=t.NextInAEL},ie.Clipper.prototype.SwapPositionsInAEL=function(t,e){if(t.NextInAEL!=t.PrevInAEL&&e.NextInAEL!=e.PrevInAEL){if(t.NextInAEL==e){var n=e.NextInAEL;null!==n&&(n.PrevInAEL=t);var o=t.PrevInAEL;null!==o&&(o.NextInAEL=e),e.PrevInAEL=o,e.NextInAEL=t,t.PrevInAEL=e,t.NextInAEL=n}else if(e.NextInAEL==t){var n=t.NextInAEL;null!==n&&(n.PrevInAEL=e);var o=e.PrevInAEL;null!==o&&(o.NextInAEL=t),t.PrevInAEL=o,t.NextInAEL=e,e.PrevInAEL=t,e.NextInAEL=n}else{var n=t.NextInAEL,o=t.PrevInAEL;t.NextInAEL=e.NextInAEL,null!==t.NextInAEL&&(t.NextInAEL.PrevInAEL=t),t.PrevInAEL=e.PrevInAEL,null!==t.PrevInAEL&&(t.PrevInAEL.NextInAEL=t),e.NextInAEL=n,null!==e.NextInAEL&&(e.NextInAEL.PrevInAEL=e),e.PrevInAEL=o,null!==e.PrevInAEL&&(e.PrevInAEL.NextInAEL=e)}null===t.PrevInAEL?this.m_ActiveEdges=t:null===e.PrevInAEL&&(this.m_ActiveEdges=e)}},ie.Clipper.prototype.SwapPositionsInSEL=function(t,e){if(!(null===t.NextInSEL&&null===t.PrevInSEL||null===e.NextInSEL&&null===e.PrevInSEL)){if(t.NextInSEL==e){var n=e.NextInSEL;null!==n&&(n.PrevInSEL=t);var o=t.PrevInSEL;null!==o&&(o.NextInSEL=e),e.PrevInSEL=o,e.NextInSEL=t,t.PrevInSEL=e,t.NextInSEL=n}else if(e.NextInSEL==t){var n=t.NextInSEL;null!==n&&(n.PrevInSEL=e);var o=e.PrevInSEL;null!==o&&(o.NextInSEL=t),t.PrevInSEL=o,t.NextInSEL=e,e.PrevInSEL=t,e.NextInSEL=n}else{var n=t.NextInSEL,o=t.PrevInSEL;t.NextInSEL=e.NextInSEL,null!==t.NextInSEL&&(t.NextInSEL.PrevInSEL=t),t.PrevInSEL=e.PrevInSEL,null!==t.PrevInSEL&&(t.PrevInSEL.NextInSEL=t),e.NextInSEL=n,null!==e.NextInSEL&&(e.NextInSEL.PrevInSEL=e),e.PrevInSEL=o,null!==e.PrevInSEL&&(e.PrevInSEL.NextInSEL=e)}null===t.PrevInSEL?this.m_SortedEdges=t:null===e.PrevInSEL&&(this.m_SortedEdges=e)}},ie.Clipper.prototype.AddLocalMaxPoly=function(t,e,n){this.AddOutPt(t,n),0==e.WindDelta&&this.AddOutPt(e,n),t.OutIdx==e.OutIdx?(t.OutIdx=-1,e.OutIdx=-1):t.OutIdx<e.OutIdx?this.AppendPolygon(t,e):this.AppendPolygon(e,t)},ie.Clipper.prototype.AddLocalMinPoly=function(t,e,n){var o,i,r;if(ie.ClipperBase.IsHorizontal(e)||t.Dx>e.Dx?(o=this.AddOutPt(t,n),e.OutIdx=t.OutIdx,t.Side=ie.EdgeSide.esLeft,e.Side=ie.EdgeSide.esRight,i=t,r=i.PrevInAEL==e?e.PrevInAEL:i.PrevInAEL):(o=this.AddOutPt(e,n),t.OutIdx=e.OutIdx,t.Side=ie.EdgeSide.esRight,e.Side=ie.EdgeSide.esLeft,i=e,r=i.PrevInAEL==t?t.PrevInAEL:i.PrevInAEL),null!==r&&r.OutIdx>=0&&ie.Clipper.TopX(r,n.Y)==ie.Clipper.TopX(i,n.Y)&&ie.ClipperBase.SlopesEqual(i,r,this.m_UseFullRange)&&0!==i.WindDelta&&0!==r.WindDelta){var a=this.AddOutPt(r,n);this.AddJoin(o,a,i.Top)}return o},ie.Clipper.prototype.CreateOutRec=function(){var t=new ie.OutRec;return t.Idx=-1,t.IsHole=!1,t.IsOpen=!1,t.FirstLeft=null,t.Pts=null,t.BottomPt=null,t.PolyNode=null,this.m_PolyOuts.push(t),t.Idx=this.m_PolyOuts.length-1,t},ie.Clipper.prototype.AddOutPt=function(t,e){var n=t.Side==ie.EdgeSide.esLeft;if(t.OutIdx<0){var o=this.CreateOutRec();o.IsOpen=0===t.WindDelta;var i=new ie.OutPt;return o.Pts=i,i.Idx=o.Idx,i.Pt.X=e.X,i.Pt.Y=e.Y,i.Next=i,i.Prev=i,o.IsOpen||this.SetHoleState(t,o),ee&&(ie.IntPoint.op_Equality(e,t.Bot)?(i.Pt.X=t.Bot.X,i.Pt.Y=t.Bot.Y,i.Pt.Z=t.Bot.Z):ie.IntPoint.op_Equality(e,t.Top)?(i.Pt.X=t.Top.X,i.Pt.Y=t.Top.Y,i.Pt.Z=t.Top.Z):this.SetZ(i.Pt,t)),t.OutIdx=o.Idx,i}var o=this.m_PolyOuts[t.OutIdx],r=o.Pts;if(n&&ie.IntPoint.op_Equality(e,r.Pt))return r;if(!n&&ie.IntPoint.op_Equality(e,r.Prev.Pt))return r.Prev;var i=new ie.OutPt;return i.Idx=o.Idx,i.Pt.X=e.X,i.Pt.Y=e.Y,i.Next=r,i.Prev=r.Prev,i.Prev.Next=i,r.Prev=i,n&&(o.Pts=i),ee&&(ie.IntPoint.op_Equality(e,t.Bot)?(i.Pt.X=t.Bot.X,i.Pt.Y=t.Bot.Y,i.Pt.Z=t.Bot.Z):ie.IntPoint.op_Equality(e,t.Top)?(i.Pt.X=t.Top.X,i.Pt.Y=t.Top.Y,i.Pt.Z=t.Top.Z):this.SetZ(i.Pt,t)),i},ie.Clipper.prototype.SwapPoints=function(t,e){var n=new ie.IntPoint(t.Value);t.Value.X=e.Value.X,t.Value.Y=e.Value.Y,e.Value.X=n.X,e.Value.Y=n.Y},ie.Clipper.prototype.HorzSegmentsOverlap=function(t,e,n,o){return t.X>n.X==t.X<o.X||(e.X>n.X==e.X<o.X||(n.X>t.X==n.X<e.X||(o.X>t.X==o.X<e.X||(t.X==n.X&&e.X==o.X||t.X==o.X&&e.X==n.X))))},ie.Clipper.prototype.InsertPolyPtBetween=function(t,e,n){var o=new ie.OutPt;return o.Pt.X=n.X,o.Pt.Y=n.Y,e==t.Next?(t.Next=o,e.Prev=o,o.Next=e,o.Prev=t):(e.Next=o,t.Prev=o,o.Next=t,o.Prev=e),o},ie.Clipper.prototype.SetHoleState=function(t,e){for(var n=!1,o=t.PrevInAEL;null!==o;)o.OutIdx>=0&&0!=o.WindDelta&&(n=!n,null===e.FirstLeft&&(e.FirstLeft=this.m_PolyOuts[o.OutIdx])),o=o.PrevInAEL;n&&(e.IsHole=!0)},ie.Clipper.prototype.GetDx=function(t,e){return t.Y==e.Y?ie.ClipperBase.horizontal:(e.X-t.X)/(e.Y-t.Y)},ie.Clipper.prototype.FirstIsBottomPt=function(t,e){for(var n=t.Prev;ie.IntPoint.op_Equality(n.Pt,t.Pt)&&n!=t;)n=n.Prev;var o=Math.abs(this.GetDx(t.Pt,n.Pt));for(n=t.Next;ie.IntPoint.op_Equality(n.Pt,t.Pt)&&n!=t;)n=n.Next;var i=Math.abs(this.GetDx(t.Pt,n.Pt));for(n=e.Prev;ie.IntPoint.op_Equality(n.Pt,e.Pt)&&n!=e;)n=n.Prev;var r=Math.abs(this.GetDx(e.Pt,n.Pt));for(n=e.Next;ie.IntPoint.op_Equality(n.Pt,e.Pt)&&n!=e;)n=n.Next;var a=Math.abs(this.GetDx(e.Pt,n.Pt));return o>=r&&o>=a||i>=r&&i>=a},ie.Clipper.prototype.GetBottomPt=function(t){for(var e=null,n=t.Next;n!=t;)n.Pt.Y>t.Pt.Y?(t=n,e=null):n.Pt.Y==t.Pt.Y&&n.Pt.X<=t.Pt.X&&(n.Pt.X<t.Pt.X?(e=null,t=n):n.Next!=t&&n.Prev!=t&&(e=n)),n=n.Next;if(null!==e)for(;e!=n;)for(this.FirstIsBottomPt(n,e)||(t=e),e=e.Next;ie.IntPoint.op_Inequality(e.Pt,t.Pt);)e=e.Next;return t},ie.Clipper.prototype.GetLowermostRec=function(t,e){null===t.BottomPt&&(t.BottomPt=this.GetBottomPt(t.Pts)),null===e.BottomPt&&(e.BottomPt=this.GetBottomPt(e.Pts));var n=t.BottomPt,o=e.BottomPt;return n.Pt.Y>o.Pt.Y?t:n.Pt.Y<o.Pt.Y?e:n.Pt.X<o.Pt.X?t:n.Pt.X>o.Pt.X?e:n.Next==n?e:o.Next==o?t:this.FirstIsBottomPt(n,o)?t:e},ie.Clipper.prototype.Param1RightOfParam2=function(t,e){do if(t=t.FirstLeft,t==e)return!0;while(null!==t);return!1},ie.Clipper.prototype.GetOutRec=function(t){for(var e=this.m_PolyOuts[t];e!=this.m_PolyOuts[e.Idx];)e=this.m_PolyOuts[e.Idx];return e},ie.Clipper.prototype.AppendPolygon=function(t,e){var n,o=this.m_PolyOuts[t.OutIdx],i=this.m_PolyOuts[e.OutIdx];n=this.Param1RightOfParam2(o,i)?i:this.Param1RightOfParam2(i,o)?o:this.GetLowermostRec(o,i);var r,a=o.Pts,s=a.Prev,p=i.Pts,h=p.Prev;t.Side==ie.EdgeSide.esLeft?(e.Side==ie.EdgeSide.esLeft?(this.ReversePolyPtLinks(p),p.Next=a,a.Prev=p,s.Next=h,h.Prev=s,o.Pts=h):(h.Next=a,a.Prev=h,p.Prev=s,s.Next=p,o.Pts=p),r=ie.EdgeSide.esLeft):(e.Side==ie.EdgeSide.esRight?(this.ReversePolyPtLinks(p),s.Next=h,h.Prev=s,p.Next=a,a.Prev=p):(s.Next=p,p.Prev=s,a.Prev=h,h.Next=a),r=ie.EdgeSide.esRight),o.BottomPt=null,n==i&&(i.FirstLeft!=o&&(o.FirstLeft=i.FirstLeft),o.IsHole=i.IsHole),i.Pts=null,i.BottomPt=null,i.FirstLeft=o;var u=t.OutIdx,l=e.OutIdx;t.OutIdx=-1,e.OutIdx=-1;for(var c=this.m_ActiveEdges;null!==c;){if(c.OutIdx==l){c.OutIdx=u,c.Side=r;break}c=c.NextInAEL}i.Idx=o.Idx},ie.Clipper.prototype.ReversePolyPtLinks=function(t){if(null!==t){var e,n;e=t;do n=e.Next,e.Next=e.Prev,e.Prev=n,e=n;while(e!=t)}},ie.Clipper.SwapSides=function(t,e){var n=t.Side;t.Side=e.Side,e.Side=n},ie.Clipper.SwapPolyIndexes=function(t,e){var n=t.OutIdx;t.OutIdx=e.OutIdx,e.OutIdx=n},ie.Clipper.prototype.IntersectEdges=function(t,e,n,o){var i=!o&&null===t.NextInLML&&t.Top.X==n.X&&t.Top.Y==n.Y,r=!o&&null===e.NextInLML&&e.Top.X==n.X&&e.Top.Y==n.Y,a=t.OutIdx>=0,s=e.OutIdx>=0;if(ne&&(0===t.WindDelta||0===e.WindDelta))return 0===t.WindDelta&&0===e.WindDelta?(i||r)&&a&&s&&this.AddLocalMaxPoly(t,e,n):t.PolyTyp==e.PolyTyp&&t.WindDelta!=e.WindDelta&&this.m_ClipType==ie.ClipType.ctUnion?0===t.WindDelta?s&&(this.AddOutPt(t,n),a&&(t.OutIdx=-1)):a&&(this.AddOutPt(e,n),s&&(e.OutIdx=-1)):t.PolyTyp!=e.PolyTyp&&(0!==t.WindDelta||1!=Math.abs(e.WindCnt)||this.m_ClipType==ie.ClipType.ctUnion&&0!==e.WindCnt2?0!==e.WindDelta||1!=Math.abs(t.WindCnt)||this.m_ClipType==ie.ClipType.ctUnion&&0!==t.WindCnt2||(this.AddOutPt(e,n),s&&(e.OutIdx=-1)):(this.AddOutPt(t,n),a&&(t.OutIdx=-1))),i&&(t.OutIdx<0?this.DeleteFromAEL(t):ie.Error("Error intersecting polylines")),void(r&&(e.OutIdx<0?this.DeleteFromAEL(e):ie.Error("Error intersecting polylines")));if(t.PolyTyp==e.PolyTyp)if(this.IsEvenOddFillType(t)){var p=t.WindCnt;t.WindCnt=e.WindCnt,e.WindCnt=p}else t.WindCnt+e.WindDelta===0?t.WindCnt=-t.WindCnt:t.WindCnt+=e.WindDelta,e.WindCnt-t.WindDelta===0?e.WindCnt=-e.WindCnt:e.WindCnt-=t.WindDelta;else this.IsEvenOddFillType(e)?t.WindCnt2=0===t.WindCnt2?1:0:t.WindCnt2+=e.WindDelta,this.IsEvenOddFillType(t)?e.WindCnt2=0===e.WindCnt2?1:0:e.WindCnt2-=t.WindDelta;
var h,u,l,c;t.PolyTyp==ie.PolyType.ptSubject?(h=this.m_SubjFillType,l=this.m_ClipFillType):(h=this.m_ClipFillType,l=this.m_SubjFillType),e.PolyTyp==ie.PolyType.ptSubject?(u=this.m_SubjFillType,c=this.m_ClipFillType):(u=this.m_ClipFillType,c=this.m_SubjFillType);var f,d;switch(h){case ie.PolyFillType.pftPositive:f=t.WindCnt;break;case ie.PolyFillType.pftNegative:f=-t.WindCnt;break;default:f=Math.abs(t.WindCnt)}switch(u){case ie.PolyFillType.pftPositive:d=e.WindCnt;break;case ie.PolyFillType.pftNegative:d=-e.WindCnt;break;default:d=Math.abs(e.WindCnt)}if(a&&s)i||r||0!==f&&1!=f||0!==d&&1!=d||t.PolyTyp!=e.PolyTyp&&this.m_ClipType!=ie.ClipType.ctXor?this.AddLocalMaxPoly(t,e,n):(this.AddOutPt(t,n),this.AddOutPt(e,n),ie.Clipper.SwapSides(t,e),ie.Clipper.SwapPolyIndexes(t,e));else if(a)0!==d&&1!=d||(this.AddOutPt(t,n),ie.Clipper.SwapSides(t,e),ie.Clipper.SwapPolyIndexes(t,e));else if(s)0!==f&&1!=f||(this.AddOutPt(e,n),ie.Clipper.SwapSides(t,e),ie.Clipper.SwapPolyIndexes(t,e));else if(!(0!==f&&1!=f||0!==d&&1!=d||i||r)){var y,v;switch(l){case ie.PolyFillType.pftPositive:y=t.WindCnt2;break;case ie.PolyFillType.pftNegative:y=-t.WindCnt2;break;default:y=Math.abs(t.WindCnt2)}switch(c){case ie.PolyFillType.pftPositive:v=e.WindCnt2;break;case ie.PolyFillType.pftNegative:v=-e.WindCnt2;break;default:v=Math.abs(e.WindCnt2)}if(t.PolyTyp!=e.PolyTyp)this.AddLocalMinPoly(t,e,n);else if(1==f&&1==d)switch(this.m_ClipType){case ie.ClipType.ctIntersection:y>0&&v>0&&this.AddLocalMinPoly(t,e,n);break;case ie.ClipType.ctUnion:y<=0&&v<=0&&this.AddLocalMinPoly(t,e,n);break;case ie.ClipType.ctDifference:(t.PolyTyp==ie.PolyType.ptClip&&y>0&&v>0||t.PolyTyp==ie.PolyType.ptSubject&&y<=0&&v<=0)&&this.AddLocalMinPoly(t,e,n);break;case ie.ClipType.ctXor:this.AddLocalMinPoly(t,e,n)}else ie.Clipper.SwapSides(t,e)}i!=r&&(i&&t.OutIdx>=0||r&&e.OutIdx>=0)&&(ie.Clipper.SwapSides(t,e),ie.Clipper.SwapPolyIndexes(t,e)),i&&this.DeleteFromAEL(t),r&&this.DeleteFromAEL(e)},ie.Clipper.prototype.DeleteFromAEL=function(t){var e=t.PrevInAEL,n=t.NextInAEL;null===e&&null===n&&t!=this.m_ActiveEdges||(null!==e?e.NextInAEL=n:this.m_ActiveEdges=n,null!==n&&(n.PrevInAEL=e),t.NextInAEL=null,t.PrevInAEL=null)},ie.Clipper.prototype.DeleteFromSEL=function(t){var e=t.PrevInSEL,n=t.NextInSEL;null===e&&null===n&&t!=this.m_SortedEdges||(null!==e?e.NextInSEL=n:this.m_SortedEdges=n,null!==n&&(n.PrevInSEL=e),t.NextInSEL=null,t.PrevInSEL=null)},ie.Clipper.prototype.UpdateEdgeIntoAEL=function(t){null===t.NextInLML&&ie.Error("UpdateEdgeIntoAEL: invalid call");var e=t.PrevInAEL,n=t.NextInAEL;return t.NextInLML.OutIdx=t.OutIdx,null!==e?e.NextInAEL=t.NextInLML:this.m_ActiveEdges=t.NextInLML,null!==n&&(n.PrevInAEL=t.NextInLML),t.NextInLML.Side=t.Side,t.NextInLML.WindDelta=t.WindDelta,t.NextInLML.WindCnt=t.WindCnt,t.NextInLML.WindCnt2=t.WindCnt2,t=t.NextInLML,t.Curr.X=t.Bot.X,t.Curr.Y=t.Bot.Y,t.PrevInAEL=e,t.NextInAEL=n,ie.ClipperBase.IsHorizontal(t)||this.InsertScanbeam(t.Top.Y),t},ie.Clipper.prototype.ProcessHorizontals=function(t){for(var e=this.m_SortedEdges;null!==e;)this.DeleteFromSEL(e),this.ProcessHorizontal(e,t),e=this.m_SortedEdges},ie.Clipper.prototype.GetHorzDirection=function(t,e){t.Bot.X<t.Top.X?(e.Left=t.Bot.X,e.Right=t.Top.X,e.Dir=ie.Direction.dLeftToRight):(e.Left=t.Top.X,e.Right=t.Bot.X,e.Dir=ie.Direction.dRightToLeft)},ie.Clipper.prototype.PrepareHorzJoins=function(t,e){var n=this.m_PolyOuts[t.OutIdx].Pts;t.Side!=ie.EdgeSide.esLeft&&(n=n.Prev),e&&(ie.IntPoint.op_Equality(n.Pt,t.Top)?this.AddGhostJoin(n,t.Bot):this.AddGhostJoin(n,t.Top))},ie.Clipper.prototype.ProcessHorizontal=function(t,e){var n={Dir:null,Left:null,Right:null};this.GetHorzDirection(t,n);for(var o=n.Dir,i=n.Left,r=n.Right,a=t,s=null;null!==a.NextInLML&&ie.ClipperBase.IsHorizontal(a.NextInLML);)a=a.NextInLML;for(null===a.NextInLML&&(s=this.GetMaximaPair(a));;){for(var p=t==a,h=this.GetNextInAEL(t,o);null!==h&&!(h.Curr.X==t.Top.X&&null!==t.NextInLML&&h.Dx<t.NextInLML.Dx);){var u=this.GetNextInAEL(h,o);if(o==ie.Direction.dLeftToRight&&h.Curr.X<=r||o==ie.Direction.dRightToLeft&&h.Curr.X>=i){if(t.OutIdx>=0&&0!=t.WindDelta&&this.PrepareHorzJoins(t,e),h==s&&p)return o==ie.Direction.dLeftToRight?this.IntersectEdges(t,h,h.Top,!1):this.IntersectEdges(h,t,h.Top,!1),void(s.OutIdx>=0&&ie.Error("ProcessHorizontal error"));if(o==ie.Direction.dLeftToRight){var l=new ie.IntPoint(h.Curr.X,t.Curr.Y);this.IntersectEdges(t,h,l,!0)}else{var l=new ie.IntPoint(h.Curr.X,t.Curr.Y);this.IntersectEdges(h,t,l,!0)}this.SwapPositionsInAEL(t,h)}else if(o==ie.Direction.dLeftToRight&&h.Curr.X>=r||o==ie.Direction.dRightToLeft&&h.Curr.X<=i)break;h=u}if(t.OutIdx>=0&&0!==t.WindDelta&&this.PrepareHorzJoins(t,e),null===t.NextInLML||!ie.ClipperBase.IsHorizontal(t.NextInLML))break;t=this.UpdateEdgeIntoAEL(t),t.OutIdx>=0&&this.AddOutPt(t,t.Bot);var n={Dir:o,Left:i,Right:r};this.GetHorzDirection(t,n),o=n.Dir,i=n.Left,r=n.Right}if(null!==t.NextInLML)if(t.OutIdx>=0){var c=this.AddOutPt(t,t.Top);if(t=this.UpdateEdgeIntoAEL(t),0===t.WindDelta)return;var f=t.PrevInAEL,u=t.NextInAEL;if(null!==f&&f.Curr.X==t.Bot.X&&f.Curr.Y==t.Bot.Y&&0!==f.WindDelta&&f.OutIdx>=0&&f.Curr.Y>f.Top.Y&&ie.ClipperBase.SlopesEqual(t,f,this.m_UseFullRange)){var d=this.AddOutPt(f,t.Bot);this.AddJoin(c,d,t.Top)}else if(null!==u&&u.Curr.X==t.Bot.X&&u.Curr.Y==t.Bot.Y&&0!==u.WindDelta&&u.OutIdx>=0&&u.Curr.Y>u.Top.Y&&ie.ClipperBase.SlopesEqual(t,u,this.m_UseFullRange)){var d=this.AddOutPt(u,t.Bot);this.AddJoin(c,d,t.Top)}}else t=this.UpdateEdgeIntoAEL(t);else null!==s?s.OutIdx>=0?(o==ie.Direction.dLeftToRight?this.IntersectEdges(t,s,t.Top,!1):this.IntersectEdges(s,t,t.Top,!1),s.OutIdx>=0&&ie.Error("ProcessHorizontal error")):(this.DeleteFromAEL(t),this.DeleteFromAEL(s)):(t.OutIdx>=0&&this.AddOutPt(t,t.Top),this.DeleteFromAEL(t))},ie.Clipper.prototype.GetNextInAEL=function(t,e){return e==ie.Direction.dLeftToRight?t.NextInAEL:t.PrevInAEL},ie.Clipper.prototype.IsMinima=function(t){return null!==t&&t.Prev.NextInLML!=t&&t.Next.NextInLML!=t},ie.Clipper.prototype.IsMaxima=function(t,e){return null!==t&&t.Top.Y==e&&null===t.NextInLML},ie.Clipper.prototype.IsIntermediate=function(t,e){return t.Top.Y==e&&null!==t.NextInLML},ie.Clipper.prototype.GetMaximaPair=function(t){var e=null;return ie.IntPoint.op_Equality(t.Next.Top,t.Top)&&null===t.Next.NextInLML?e=t.Next:ie.IntPoint.op_Equality(t.Prev.Top,t.Top)&&null===t.Prev.NextInLML&&(e=t.Prev),null===e||e.OutIdx!=-2&&(e.NextInAEL!=e.PrevInAEL||ie.ClipperBase.IsHorizontal(e))?e:null},ie.Clipper.prototype.ProcessIntersections=function(t,e){if(null==this.m_ActiveEdges)return!0;try{if(this.BuildIntersectList(t,e),0==this.m_IntersectList.length)return!0;if(1!=this.m_IntersectList.length&&!this.FixupIntersectionOrder())return!1;this.ProcessIntersectList()}catch(t){this.m_SortedEdges=null,this.m_IntersectList.length=0,ie.Error("ProcessIntersections error")}return this.m_SortedEdges=null,!0},ie.Clipper.prototype.BuildIntersectList=function(t,e){if(null!==this.m_ActiveEdges){var n=this.m_ActiveEdges;for(this.m_SortedEdges=n;null!==n;)n.PrevInSEL=n.PrevInAEL,n.NextInSEL=n.NextInAEL,n.Curr.X=ie.Clipper.TopX(n,e),n=n.NextInAEL;for(var o=!0;o&&null!==this.m_SortedEdges;){for(o=!1,n=this.m_SortedEdges;null!==n.NextInSEL;){var i=n.NextInSEL,r=new ie.IntPoint;if(n.Curr.X>i.Curr.X){!this.IntersectPoint(n,i,r)&&n.Curr.X>i.Curr.X+1&&ie.Error("Intersection error"),r.Y>t&&(r.Y=t,Math.abs(n.Dx)>Math.abs(i.Dx)?r.X=ie.Clipper.TopX(i,t):r.X=ie.Clipper.TopX(n,t));var a=new ie.IntersectNode;a.Edge1=n,a.Edge2=i,a.Pt.X=r.X,a.Pt.Y=r.Y,this.m_IntersectList.push(a),this.SwapPositionsInSEL(n,i),o=!0}else n=i}if(null===n.PrevInSEL)break;n.PrevInSEL.NextInSEL=null}this.m_SortedEdges=null}},ie.Clipper.prototype.EdgesAdjacent=function(t){return t.Edge1.NextInSEL==t.Edge2||t.Edge1.PrevInSEL==t.Edge2},ie.Clipper.IntersectNodeSort=function(t,e){return e.Pt.Y-t.Pt.Y},ie.Clipper.prototype.FixupIntersectionOrder=function(){this.m_IntersectList.sort(this.m_IntersectNodeComparer),this.CopyAELToSEL();for(var t=this.m_IntersectList.length,e=0;e<t;e++){if(!this.EdgesAdjacent(this.m_IntersectList[e])){for(var n=e+1;n<t&&!this.EdgesAdjacent(this.m_IntersectList[n]);)n++;if(n==t)return!1;var o=this.m_IntersectList[e];this.m_IntersectList[e]=this.m_IntersectList[n],this.m_IntersectList[n]=o}this.SwapPositionsInSEL(this.m_IntersectList[e].Edge1,this.m_IntersectList[e].Edge2)}return!0},ie.Clipper.prototype.ProcessIntersectList=function(){for(var t=0,e=this.m_IntersectList.length;t<e;t++){var n=this.m_IntersectList[t];this.IntersectEdges(n.Edge1,n.Edge2,n.Pt,!0),this.SwapPositionsInAEL(n.Edge1,n.Edge2)}this.m_IntersectList.length=0};var _e=function(t){return t<0?Math.ceil(t-.5):Math.round(t)},we=function(t){return t<0?Math.ceil(t-.5):Math.floor(t+.5)},Pe=function(t){return t<0?-Math.round(Math.abs(t)):Math.round(t)},Se=function(t){return t<0?(t-=.5,t<-2147483648?Math.ceil(t):0|t):(t+=.5,t>2147483647?Math.floor(t):0|t)};pe.msie?ie.Clipper.Round=_e:pe.chromium?ie.Clipper.Round=Pe:pe.safari?ie.Clipper.Round=Se:ie.Clipper.Round=we,ie.Clipper.TopX=function(t,e){return e==t.Top.Y?t.Top.X:t.Bot.X+ie.Clipper.Round(t.Dx*(e-t.Bot.Y))},ie.Clipper.prototype.IntersectPoint=function(t,e,n){n.X=0,n.Y=0;var o,i;if(ie.ClipperBase.SlopesEqual(t,e,this.m_UseFullRange)||t.Dx==e.Dx)return e.Bot.Y>t.Bot.Y?(n.X=e.Bot.X,n.Y=e.Bot.Y):(n.X=t.Bot.X,n.Y=t.Bot.Y),!1;if(0===t.Delta.X)n.X=t.Bot.X,ie.ClipperBase.IsHorizontal(e)?n.Y=e.Bot.Y:(i=e.Bot.Y-e.Bot.X/e.Dx,n.Y=ie.Clipper.Round(n.X/e.Dx+i));else if(0===e.Delta.X)n.X=e.Bot.X,ie.ClipperBase.IsHorizontal(t)?n.Y=t.Bot.Y:(o=t.Bot.Y-t.Bot.X/t.Dx,n.Y=ie.Clipper.Round(n.X/t.Dx+o));else{o=t.Bot.X-t.Bot.Y*t.Dx,i=e.Bot.X-e.Bot.Y*e.Dx;var r=(i-o)/(t.Dx-e.Dx);n.Y=ie.Clipper.Round(r),Math.abs(t.Dx)<Math.abs(e.Dx)?n.X=ie.Clipper.Round(t.Dx*r+o):n.X=ie.Clipper.Round(e.Dx*r+i)}if(n.Y<t.Top.Y||n.Y<e.Top.Y){if(t.Top.Y>e.Top.Y)return n.Y=t.Top.Y,n.X=ie.Clipper.TopX(e,t.Top.Y),n.X<t.Top.X;n.Y=e.Top.Y,Math.abs(t.Dx)<Math.abs(e.Dx)?n.X=ie.Clipper.TopX(t,n.Y):n.X=ie.Clipper.TopX(e,n.Y)}return!0},ie.Clipper.prototype.ProcessEdgesAtTopOfScanbeam=function(t){for(var e=this.m_ActiveEdges;null!==e;){var n=this.IsMaxima(e,t);if(n){var o=this.GetMaximaPair(e);n=null===o||!ie.ClipperBase.IsHorizontal(o)}if(n){var i=e.PrevInAEL;this.DoMaxima(e),e=null===i?this.m_ActiveEdges:i.NextInAEL}else{if(this.IsIntermediate(e,t)&&ie.ClipperBase.IsHorizontal(e.NextInLML)?(e=this.UpdateEdgeIntoAEL(e),e.OutIdx>=0&&this.AddOutPt(e,e.Bot),this.AddEdgeToSEL(e)):(e.Curr.X=ie.Clipper.TopX(e,t),e.Curr.Y=t),this.StrictlySimple){var i=e.PrevInAEL;if(e.OutIdx>=0&&0!==e.WindDelta&&null!==i&&i.OutIdx>=0&&i.Curr.X==e.Curr.X&&0!==i.WindDelta){var r=this.AddOutPt(i,e.Curr),a=this.AddOutPt(e,e.Curr);this.AddJoin(r,a,e.Curr)}}e=e.NextInAEL}}for(this.ProcessHorizontals(!0),e=this.m_ActiveEdges;null!==e;){if(this.IsIntermediate(e,t)){var r=null;e.OutIdx>=0&&(r=this.AddOutPt(e,e.Top)),e=this.UpdateEdgeIntoAEL(e);var i=e.PrevInAEL,s=e.NextInAEL;if(null!==i&&i.Curr.X==e.Bot.X&&i.Curr.Y==e.Bot.Y&&null!==r&&i.OutIdx>=0&&i.Curr.Y>i.Top.Y&&ie.ClipperBase.SlopesEqual(e,i,this.m_UseFullRange)&&0!==e.WindDelta&&0!==i.WindDelta){var a=this.AddOutPt(i,e.Bot);this.AddJoin(r,a,e.Top)}else if(null!==s&&s.Curr.X==e.Bot.X&&s.Curr.Y==e.Bot.Y&&null!==r&&s.OutIdx>=0&&s.Curr.Y>s.Top.Y&&ie.ClipperBase.SlopesEqual(e,s,this.m_UseFullRange)&&0!==e.WindDelta&&0!==s.WindDelta){var a=this.AddOutPt(s,e.Bot);this.AddJoin(r,a,e.Top)}}e=e.NextInAEL}},ie.Clipper.prototype.DoMaxima=function(t){var e=this.GetMaximaPair(t);if(null===e)return t.OutIdx>=0&&this.AddOutPt(t,t.Top),void this.DeleteFromAEL(t);for(var n=t.NextInAEL,o=!0;null!==n&&n!=e;)this.IntersectEdges(t,n,t.Top,!0),this.SwapPositionsInAEL(t,n),n=t.NextInAEL;t.OutIdx==-1&&e.OutIdx==-1?(this.DeleteFromAEL(t),this.DeleteFromAEL(e)):t.OutIdx>=0&&e.OutIdx>=0?this.IntersectEdges(t,e,t.Top,!1):o&&0===t.WindDelta?(t.OutIdx>=0&&(this.AddOutPt(t,t.Top),t.OutIdx=-1),this.DeleteFromAEL(t),e.OutIdx>=0&&(this.AddOutPt(e,t.Top),e.OutIdx=-1),this.DeleteFromAEL(e)):ie.Error("DoMaxima error")},ie.Clipper.ReversePaths=function(t){for(var e=0,n=t.length;e<n;e++)t[e].reverse()},ie.Clipper.Orientation=function(t){return ie.Clipper.Area(t)>=0},ie.Clipper.prototype.PointCount=function(t){if(null===t)return 0;var e=0,n=t;do e++,n=n.Next;while(n!=t);return e},ie.Clipper.prototype.BuildResult=function(t){ie.Clear(t);for(var e=0,n=this.m_PolyOuts.length;e<n;e++){var o=this.m_PolyOuts[e];if(null!==o.Pts){var i=o.Pts.Prev,r=this.PointCount(i);if(!(r<2)){for(var a=new Array(r),s=0;s<r;s++)a[s]=i.Pt,i=i.Prev;t.push(a)}}}},ie.Clipper.prototype.BuildResult2=function(t){t.Clear();for(var e=0,n=this.m_PolyOuts.length;e<n;e++){var o=this.m_PolyOuts[e],i=this.PointCount(o.Pts);if(!(o.IsOpen&&i<2||!o.IsOpen&&i<3)){this.FixHoleLinkage(o);var r=new ie.PolyNode;t.m_AllPolys.push(r),o.PolyNode=r,r.m_polygon.length=i;for(var a=o.Pts.Prev,s=0;s<i;s++)r.m_polygon[s]=a.Pt,a=a.Prev}}for(var e=0,n=this.m_PolyOuts.length;e<n;e++){var o=this.m_PolyOuts[e];null!==o.PolyNode&&(o.IsOpen?(o.PolyNode.IsOpen=!0,t.AddChild(o.PolyNode)):null!==o.FirstLeft&&null!=o.FirstLeft.PolyNode?o.FirstLeft.PolyNode.AddChild(o.PolyNode):t.AddChild(o.PolyNode))}},ie.Clipper.prototype.FixupOutPolygon=function(t){var e=null;t.BottomPt=null;for(var n=t.Pts;;){if(n.Prev==n||n.Prev==n.Next)return this.DisposeOutPts(n),void(t.Pts=null);if(ie.IntPoint.op_Equality(n.Pt,n.Next.Pt)||ie.IntPoint.op_Equality(n.Pt,n.Prev.Pt)||ie.ClipperBase.SlopesEqual(n.Prev.Pt,n.Pt,n.Next.Pt,this.m_UseFullRange)&&(!this.PreserveCollinear||!this.Pt2IsBetweenPt1AndPt3(n.Prev.Pt,n.Pt,n.Next.Pt))){e=null;var o=n;n.Prev.Next=n.Next,n.Next.Prev=n.Prev,n=n.Prev,o=null}else{if(n==e)break;null===e&&(e=n),n=n.Next}}t.Pts=n},ie.Clipper.prototype.DupOutPt=function(t,e){var n=new ie.OutPt;return n.Pt.X=t.Pt.X,n.Pt.Y=t.Pt.Y,n.Idx=t.Idx,e?(n.Next=t.Next,n.Prev=t,t.Next.Prev=n,t.Next=n):(n.Prev=t.Prev,n.Next=t,t.Prev.Next=n,t.Prev=n),n},ie.Clipper.prototype.GetOverlap=function(t,e,n,o,i){return t<e?n<o?(i.Left=Math.max(t,n),i.Right=Math.min(e,o)):(i.Left=Math.max(t,o),i.Right=Math.min(e,n)):n<o?(i.Left=Math.max(e,n),i.Right=Math.min(t,o)):(i.Left=Math.max(e,o),i.Right=Math.min(t,n)),i.Left<i.Right},ie.Clipper.prototype.JoinHorz=function(t,e,n,o,i,r){var a=t.Pt.X>e.Pt.X?ie.Direction.dRightToLeft:ie.Direction.dLeftToRight,s=n.Pt.X>o.Pt.X?ie.Direction.dRightToLeft:ie.Direction.dLeftToRight;if(a==s)return!1;if(a==ie.Direction.dLeftToRight){for(;t.Next.Pt.X<=i.X&&t.Next.Pt.X>=t.Pt.X&&t.Next.Pt.Y==i.Y;)t=t.Next;r&&t.Pt.X!=i.X&&(t=t.Next),e=this.DupOutPt(t,!r),ie.IntPoint.op_Inequality(e.Pt,i)&&(t=e,t.Pt.X=i.X,t.Pt.Y=i.Y,e=this.DupOutPt(t,!r))}else{for(;t.Next.Pt.X>=i.X&&t.Next.Pt.X<=t.Pt.X&&t.Next.Pt.Y==i.Y;)t=t.Next;r||t.Pt.X==i.X||(t=t.Next),e=this.DupOutPt(t,r),ie.IntPoint.op_Inequality(e.Pt,i)&&(t=e,t.Pt.X=i.X,t.Pt.Y=i.Y,e=this.DupOutPt(t,r))}if(s==ie.Direction.dLeftToRight){for(;n.Next.Pt.X<=i.X&&n.Next.Pt.X>=n.Pt.X&&n.Next.Pt.Y==i.Y;)n=n.Next;r&&n.Pt.X!=i.X&&(n=n.Next),o=this.DupOutPt(n,!r),ie.IntPoint.op_Inequality(o.Pt,i)&&(n=o,n.Pt.X=i.X,n.Pt.Y=i.Y,o=this.DupOutPt(n,!r))}else{for(;n.Next.Pt.X>=i.X&&n.Next.Pt.X<=n.Pt.X&&n.Next.Pt.Y==i.Y;)n=n.Next;r||n.Pt.X==i.X||(n=n.Next),o=this.DupOutPt(n,r),ie.IntPoint.op_Inequality(o.Pt,i)&&(n=o,n.Pt.X=i.X,n.Pt.Y=i.Y,o=this.DupOutPt(n,r))}return a==ie.Direction.dLeftToRight==r?(t.Prev=n,n.Next=t,e.Next=o,o.Prev=e):(t.Next=n,n.Prev=t,e.Prev=o,o.Next=e),!0},ie.Clipper.prototype.JoinPoints=function(t,e,n){var o=t.OutPt1,i=new ie.OutPt,r=t.OutPt2,a=new ie.OutPt,s=t.OutPt1.Pt.Y==t.OffPt.Y;if(s&&ie.IntPoint.op_Equality(t.OffPt,t.OutPt1.Pt)&&ie.IntPoint.op_Equality(t.OffPt,t.OutPt2.Pt)){for(i=t.OutPt1.Next;i!=o&&ie.IntPoint.op_Equality(i.Pt,t.OffPt);)i=i.Next;var p=i.Pt.Y>t.OffPt.Y;for(a=t.OutPt2.Next;a!=r&&ie.IntPoint.op_Equality(a.Pt,t.OffPt);)a=a.Next;var h=a.Pt.Y>t.OffPt.Y;return p!=h&&(p?(i=this.DupOutPt(o,!1),a=this.DupOutPt(r,!0),o.Prev=r,r.Next=o,i.Next=a,a.Prev=i,t.OutPt1=o,t.OutPt2=i,!0):(i=this.DupOutPt(o,!0),a=this.DupOutPt(r,!1),o.Next=r,r.Prev=o,i.Prev=a,a.Next=i,t.OutPt1=o,t.OutPt2=i,!0))}if(s){for(i=o;o.Prev.Pt.Y==o.Pt.Y&&o.Prev!=i&&o.Prev!=r;)o=o.Prev;for(;i.Next.Pt.Y==i.Pt.Y&&i.Next!=o&&i.Next!=r;)i=i.Next;if(i.Next==o||i.Next==r)return!1;for(a=r;r.Prev.Pt.Y==r.Pt.Y&&r.Prev!=a&&r.Prev!=i;)r=r.Prev;for(;a.Next.Pt.Y==a.Pt.Y&&a.Next!=r&&a.Next!=o;)a=a.Next;if(a.Next==r||a.Next==o)return!1;var u={Left:null,Right:null};if(!this.GetOverlap(o.Pt.X,i.Pt.X,r.Pt.X,a.Pt.X,u))return!1;var l,c=u.Left,f=u.Right,d=new ie.IntPoint;return o.Pt.X>=c&&o.Pt.X<=f?(d.X=o.Pt.X,d.Y=o.Pt.Y,l=o.Pt.X>i.Pt.X):r.Pt.X>=c&&r.Pt.X<=f?(d.X=r.Pt.X,d.Y=r.Pt.Y,l=r.Pt.X>a.Pt.X):i.Pt.X>=c&&i.Pt.X<=f?(d.X=i.Pt.X,d.Y=i.Pt.Y,l=i.Pt.X>o.Pt.X):(d.X=a.Pt.X,d.Y=a.Pt.Y,l=a.Pt.X>r.Pt.X),t.OutPt1=o,t.OutPt2=r,this.JoinHorz(o,i,r,a,d,l)}for(i=o.Next;ie.IntPoint.op_Equality(i.Pt,o.Pt)&&i!=o;)i=i.Next;var y=i.Pt.Y>o.Pt.Y||!ie.ClipperBase.SlopesEqual(o.Pt,i.Pt,t.OffPt,this.m_UseFullRange);if(y){for(i=o.Prev;ie.IntPoint.op_Equality(i.Pt,o.Pt)&&i!=o;)i=i.Prev;if(i.Pt.Y>o.Pt.Y||!ie.ClipperBase.SlopesEqual(o.Pt,i.Pt,t.OffPt,this.m_UseFullRange))return!1}for(a=r.Next;ie.IntPoint.op_Equality(a.Pt,r.Pt)&&a!=r;)a=a.Next;var v=a.Pt.Y>r.Pt.Y||!ie.ClipperBase.SlopesEqual(r.Pt,a.Pt,t.OffPt,this.m_UseFullRange);if(v){for(a=r.Prev;ie.IntPoint.op_Equality(a.Pt,r.Pt)&&a!=r;)a=a.Prev;if(a.Pt.Y>r.Pt.Y||!ie.ClipperBase.SlopesEqual(r.Pt,a.Pt,t.OffPt,this.m_UseFullRange))return!1}return i!=o&&a!=r&&i!=a&&(e!=n||y!=v)&&(y?(i=this.DupOutPt(o,!1),a=this.DupOutPt(r,!0),o.Prev=r,r.Next=o,i.Next=a,a.Prev=i,t.OutPt1=o,t.OutPt2=i,!0):(i=this.DupOutPt(o,!0),a=this.DupOutPt(r,!1),o.Next=r,r.Prev=o,i.Prev=a,a.Next=i,t.OutPt1=o,t.OutPt2=i,!0))},ie.Clipper.GetBounds=function(t){for(var e=0,n=t.length;e<n&&0==t[e].length;)e++;if(e==n)return new ie.IntRect(0,0,0,0);var o=new ie.IntRect;for(o.left=t[e][0].X,o.right=o.left,o.top=t[e][0].Y,o.bottom=o.top;e<n;e++)for(var i=0,r=t[e].length;i<r;i++)t[e][i].X<o.left?o.left=t[e][i].X:t[e][i].X>o.right&&(o.right=t[e][i].X),t[e][i].Y<o.top?o.top=t[e][i].Y:t[e][i].Y>o.bottom&&(o.bottom=t[e][i].Y);return o},ie.Clipper.prototype.GetBounds2=function(t){var e=t,n=new ie.IntRect;for(n.left=t.Pt.X,n.right=t.Pt.X,n.top=t.Pt.Y,n.bottom=t.Pt.Y,t=t.Next;t!=e;)t.Pt.X<n.left&&(n.left=t.Pt.X),t.Pt.X>n.right&&(n.right=t.Pt.X),t.Pt.Y<n.top&&(n.top=t.Pt.Y),t.Pt.Y>n.bottom&&(n.bottom=t.Pt.Y),t=t.Next;return n},ie.Clipper.PointInPolygon=function(t,e){var n=0,o=e.length;if(o<3)return 0;for(var i=e[0],r=1;r<=o;++r){var a=r==o?e[0]:e[r];if(a.Y==t.Y&&(a.X==t.X||i.Y==t.Y&&a.X>t.X==i.X<t.X))return-1;if(i.Y<t.Y!=a.Y<t.Y)if(i.X>=t.X)if(a.X>t.X)n=1-n;else{var s=(i.X-t.X)*(a.Y-t.Y)-(a.X-t.X)*(i.Y-t.Y);if(0==s)return-1;s>0==a.Y>i.Y&&(n=1-n)}else if(a.X>t.X){var s=(i.X-t.X)*(a.Y-t.Y)-(a.X-t.X)*(i.Y-t.Y);if(0==s)return-1;s>0==a.Y>i.Y&&(n=1-n)}i=a}return n},ie.Clipper.prototype.PointInPolygon=function(t,e){for(var n=0,o=e;;){var i=e.Pt.X,r=e.Pt.Y,a=e.Next.Pt.X,s=e.Next.Pt.Y;if(s==t.Y&&(a==t.X||r==t.Y&&a>t.X==i<t.X))return-1;if(r<t.Y!=s<t.Y)if(i>=t.X)if(a>t.X)n=1-n;else{var p=(i-t.X)*(s-t.Y)-(a-t.X)*(r-t.Y);if(0==p)return-1;p>0==s>r&&(n=1-n)}else if(a>t.X){var p=(i-t.X)*(s-t.Y)-(a-t.X)*(r-t.Y);if(0==p)return-1;p>0==s>r&&(n=1-n)}if(e=e.Next,o==e)break}return n},ie.Clipper.prototype.Poly2ContainsPoly1=function(t,e){var n=t;do{var o=this.PointInPolygon(n.Pt,e);if(o>=0)return 0!=o;n=n.Next}while(n!=t);return!0},ie.Clipper.prototype.FixupFirstLefts1=function(t,e){for(var n=0,o=this.m_PolyOuts.length;n<o;n++){var i=this.m_PolyOuts[n];null!==i.Pts&&i.FirstLeft==t&&this.Poly2ContainsPoly1(i.Pts,e.Pts)&&(i.FirstLeft=e)}},ie.Clipper.prototype.FixupFirstLefts2=function(t,e){for(var n=0,o=this.m_PolyOuts,i=o.length,r=o[n];n<i;n++,r=o[n])r.FirstLeft==t&&(r.FirstLeft=e)},ie.Clipper.ParseFirstLeft=function(t){for(;null!=t&&null==t.Pts;)t=t.FirstLeft;return t},ie.Clipper.prototype.JoinCommonEdges=function(){for(var t=0,e=this.m_Joins.length;t<e;t++){var n=this.m_Joins[t],o=this.GetOutRec(n.OutPt1.Idx),i=this.GetOutRec(n.OutPt2.Idx);if(null!=o.Pts&&null!=i.Pts){var r;if(r=o==i?o:this.Param1RightOfParam2(o,i)?i:this.Param1RightOfParam2(i,o)?o:this.GetLowermostRec(o,i),this.JoinPoints(n,o,i))if(o==i){if(o.Pts=n.OutPt1,o.BottomPt=null,i=this.CreateOutRec(),i.Pts=n.OutPt2,this.UpdateOutPtIdxs(i),this.m_UsingPolyTree)for(var a=0,s=this.m_PolyOuts.length;a<s-1;a++){var p=this.m_PolyOuts[a];null!=p.Pts&&ie.Clipper.ParseFirstLeft(p.FirstLeft)==o&&p.IsHole!=o.IsHole&&this.Poly2ContainsPoly1(p.Pts,n.OutPt2)&&(p.FirstLeft=i)}this.Poly2ContainsPoly1(i.Pts,o.Pts)?(i.IsHole=!o.IsHole,i.FirstLeft=o,this.m_UsingPolyTree&&this.FixupFirstLefts2(i,o),(i.IsHole^this.ReverseSolution)==this.Area(i)>0&&this.ReversePolyPtLinks(i.Pts)):this.Poly2ContainsPoly1(o.Pts,i.Pts)?(i.IsHole=o.IsHole,o.IsHole=!i.IsHole,i.FirstLeft=o.FirstLeft,o.FirstLeft=i,this.m_UsingPolyTree&&this.FixupFirstLefts2(o,i),(o.IsHole^this.ReverseSolution)==this.Area(o)>0&&this.ReversePolyPtLinks(o.Pts)):(i.IsHole=o.IsHole,i.FirstLeft=o.FirstLeft,this.m_UsingPolyTree&&this.FixupFirstLefts1(o,i))}else i.Pts=null,i.BottomPt=null,i.Idx=o.Idx,o.IsHole=r.IsHole,r==i&&(o.FirstLeft=i.FirstLeft),i.FirstLeft=o,this.m_UsingPolyTree&&this.FixupFirstLefts2(i,o)}}},ie.Clipper.prototype.UpdateOutPtIdxs=function(t){var e=t.Pts;do e.Idx=t.Idx,e=e.Prev;while(e!=t.Pts)},ie.Clipper.prototype.DoSimplePolygons=function(){for(var t=0;t<this.m_PolyOuts.length;){var e=this.m_PolyOuts[t++],n=e.Pts;if(null!==n)do{for(var o=n.Next;o!=e.Pts;){if(ie.IntPoint.op_Equality(n.Pt,o.Pt)&&o.Next!=n&&o.Prev!=n){var i=n.Prev,r=o.Prev;n.Prev=r,r.Next=n,o.Prev=i,i.Next=o,e.Pts=n;var a=this.CreateOutRec();a.Pts=o,this.UpdateOutPtIdxs(a),this.Poly2ContainsPoly1(a.Pts,e.Pts)?(a.IsHole=!e.IsHole,a.FirstLeft=e):this.Poly2ContainsPoly1(e.Pts,a.Pts)?(a.IsHole=e.IsHole,e.IsHole=!a.IsHole,a.FirstLeft=e.FirstLeft,e.FirstLeft=a):(a.IsHole=e.IsHole,a.FirstLeft=e.FirstLeft),o=n}o=o.Next}n=n.Next}while(n!=e.Pts)}},ie.Clipper.Area=function(t){var e=t.length;if(e<3)return 0;for(var n=0,o=0,i=e-1;o<e;++o)n+=(t[i].X+t[o].X)*(t[i].Y-t[o].Y),i=o;return.5*-n},ie.Clipper.prototype.Area=function(t){var e=t.Pts;if(null==e)return 0;var n=0;do n+=(e.Prev.Pt.X+e.Pt.X)*(e.Prev.Pt.Y-e.Pt.Y),e=e.Next;while(e!=t.Pts);return.5*n},oe&&(ie.Clipper.OffsetPaths=function(t,e,n,o,i){var r=new ie.Paths,a=new ie.ClipperOffset(i,i);return a.AddPaths(t,n,o),a.Execute(r,e),r}),ie.Clipper.SimplifyPolygon=function(t,e){var n=new Array,o=new ie.Clipper(0);return o.StrictlySimple=!0,o.AddPath(t,ie.PolyType.ptSubject,!0),o.Execute(ie.ClipType.ctUnion,n,e,e),n},ie.Clipper.SimplifyPolygons=function(t,e){"undefined"==typeof e&&(e=ie.PolyFillType.pftEvenOdd);var n=new Array,o=new ie.Clipper(0);return o.StrictlySimple=!0,o.AddPaths(t,ie.PolyType.ptSubject,!0),o.Execute(ie.ClipType.ctUnion,n,e,e),n},ie.Clipper.DistanceSqrd=function(t,e){var n=t.X-e.X,o=t.Y-e.Y;return n*n+o*o},ie.Clipper.DistanceFromLineSqrd=function(t,e,n){var o=e.Y-n.Y,i=n.X-e.X,r=o*e.X+i*e.Y;return r=o*t.X+i*t.Y-r,r*r/(o*o+i*i)},ie.Clipper.SlopesNearCollinear=function(t,e,n,o){return ie.Clipper.DistanceFromLineSqrd(e,t,n)<o},ie.Clipper.PointsAreClose=function(t,e,n){var o=t.X-e.X,i=t.Y-e.Y;return o*o+i*i<=n},ie.Clipper.ExcludeOp=function(t){var e=t.Prev;return e.Next=t.Next,t.Next.Prev=e,e.Idx=0,e},ie.Clipper.CleanPolygon=function(t,e){"undefined"==typeof e&&(e=1.415);var n=t.length;if(0==n)return new Array;for(var o=new Array(n),i=0;i<n;++i)o[i]=new ie.OutPt;for(var i=0;i<n;++i)o[i].Pt=t[i],o[i].Next=o[(i+1)%n],o[i].Next.Prev=o[i],o[i].Idx=0;for(var r=e*e,a=o[0];0==a.Idx&&a.Next!=a.Prev;)ie.Clipper.PointsAreClose(a.Pt,a.Prev.Pt,r)?(a=ie.Clipper.ExcludeOp(a),n--):ie.Clipper.PointsAreClose(a.Prev.Pt,a.Next.Pt,r)?(ie.Clipper.ExcludeOp(a.Next),a=ie.Clipper.ExcludeOp(a),n-=2):ie.Clipper.SlopesNearCollinear(a.Prev.Pt,a.Pt,a.Next.Pt,r)?(a=ie.Clipper.ExcludeOp(a),n--):(a.Idx=1,a=a.Next);n<3&&(n=0);for(var s=new Array(n),i=0;i<n;++i)s[i]=new ie.IntPoint(a.Pt),a=a.Next;return o=null,s},ie.Clipper.CleanPolygons=function(t,e){for(var n=new Array(t.length),o=0,i=t.length;o<i;o++)n[o]=ie.Clipper.CleanPolygon(t[o],e);return n},ie.Clipper.Minkowski=function(t,e,n,o){var i=o?1:0,r=t.length,a=e.length,s=new Array;if(n)for(var p=0;p<a;p++){for(var h=new Array(r),u=0,l=t.length,c=t[u];u<l;u++,c=t[u])h[u]=new ie.IntPoint(e[p].X+c.X,e[p].Y+c.Y);s.push(h)}else for(var p=0;p<a;p++){for(var h=new Array(r),u=0,l=t.length,c=t[u];u<l;u++,c=t[u])h[u]=new ie.IntPoint(e[p].X-c.X,e[p].Y-c.Y);s.push(h)}for(var f=new Array,p=0;p<a-1+i;p++)for(var u=0;u<r;u++){var d=new Array;d.push(s[p%a][u%r]),d.push(s[(p+1)%a][u%r]),d.push(s[(p+1)%a][(u+1)%r]),d.push(s[p%a][(u+1)%r]),ie.Clipper.Orientation(d)||d.reverse(),f.push(d)}var y=new ie.Clipper(0);return y.AddPaths(f,ie.PolyType.ptSubject,!0),y.Execute(ie.ClipType.ctUnion,s,ie.PolyFillType.pftNonZero,ie.PolyFillType.pftNonZero),s},ie.Clipper.MinkowskiSum=function(){var t=arguments,e=t.length;if(3==e){var n=t[0],o=t[1],i=t[2];return ie.Clipper.Minkowski(n,o,!0,i)}if(4==e){for(var r,n=t[0],a=t[1],s=t[2],i=t[3],p=new ie.Clipper,h=0,u=a.length;h<u;++h){var r=ie.Clipper.Minkowski(n,a[h],!0,i);p.AddPaths(r,ie.PolyType.ptSubject,!0)}i&&p.AddPaths(a,ie.PolyType.ptClip,!0);var l=new ie.Paths;return p.Execute(ie.ClipType.ctUnion,l,s,s),l}},ie.Clipper.MinkowskiDiff=function(t,e,n){return ie.Clipper.Minkowski(t,e,!1,n)},ie.Clipper.PolyTreeToPaths=function(t){var e=new Array;return ie.Clipper.AddPolyNodeToPaths(t,ie.Clipper.NodeType.ntAny,e),e},ie.Clipper.AddPolyNodeToPaths=function(t,e,n){var o=!0;switch(e){case ie.Clipper.NodeType.ntOpen:return;case ie.Clipper.NodeType.ntClosed:o=!t.IsOpen}t.m_polygon.length>0&&o&&n.push(t.m_polygon);for(var i=0,r=t.Childs(),a=r.length,s=r[i];i<a;i++,s=r[i])ie.Clipper.AddPolyNodeToPaths(s,e,n)},ie.Clipper.OpenPathsFromPolyTree=function(t){for(var e=new ie.Paths,n=0,o=t.ChildCount();n<o;n++)t.Childs()[n].IsOpen&&e.push(t.Childs()[n].m_polygon);return e},ie.Clipper.ClosedPathsFromPolyTree=function(t){var e=new ie.Paths;return ie.Clipper.AddPolyNodeToPaths(t,ie.Clipper.NodeType.ntClosed,e),e},xe(ie.Clipper,ie.ClipperBase),ie.Clipper.NodeType={ntAny:0,ntOpen:1,ntClosed:2},ie.ClipperOffset=function(t,e){"undefined"==typeof t&&(t=2),"undefined"==typeof e&&(e=ie.ClipperOffset.def_arc_tolerance),this.m_destPolys=new ie.Paths,this.m_srcPoly=new ie.Path,this.m_destPoly=new ie.Path,this.m_normals=new Array,this.m_delta=0,this.m_sinA=0,this.m_sin=0,this.m_cos=0,this.m_miterLim=0,this.m_StepsPerRad=0,this.m_lowest=new ie.IntPoint,this.m_polyNodes=new ie.PolyNode,this.MiterLimit=t,this.ArcTolerance=e,this.m_lowest.X=-1},ie.ClipperOffset.two_pi=6.28318530717959,ie.ClipperOffset.def_arc_tolerance=.25,ie.ClipperOffset.prototype.Clear=function(){ie.Clear(this.m_polyNodes.Childs()),this.m_lowest.X=-1},ie.ClipperOffset.Round=ie.Clipper.Round,ie.ClipperOffset.prototype.AddPath=function(t,e,n){var o=t.length-1;if(!(o<0)){var i=new ie.PolyNode;if(i.m_jointype=e,i.m_endtype=n,n==ie.EndType.etClosedLine||n==ie.EndType.etClosedPolygon)for(;o>0&&ie.IntPoint.op_Equality(t[0],t[o]);)o--;i.m_polygon.push(t[0]);for(var r=0,a=0,s=1;s<=o;s++)ie.IntPoint.op_Inequality(i.m_polygon[r],t[s])&&(r++,i.m_polygon.push(t[s]),(t[s].Y>i.m_polygon[a].Y||t[s].Y==i.m_polygon[a].Y&&t[s].X<i.m_polygon[a].X)&&(a=r));if(!(n==ie.EndType.etClosedPolygon&&r<2||n!=ie.EndType.etClosedPolygon&&r<0)&&(this.m_polyNodes.AddChild(i),n==ie.EndType.etClosedPolygon))if(this.m_lowest.X<0)this.m_lowest=new ie.IntPoint(0,a);else{var p=this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon[this.m_lowest.Y];(i.m_polygon[a].Y>p.Y||i.m_polygon[a].Y==p.Y&&i.m_polygon[a].X<p.X)&&(this.m_lowest=new ie.IntPoint(this.m_polyNodes.ChildCount()-1,a))}}},ie.ClipperOffset.prototype.AddPaths=function(t,e,n){for(var o=0,i=t.length;o<i;o++)this.AddPath(t[o],e,n)},ie.ClipperOffset.prototype.FixOrientations=function(){if(this.m_lowest.X>=0&&!ie.Clipper.Orientation(this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon))for(var t=0;t<this.m_polyNodes.ChildCount();t++){var e=this.m_polyNodes.Childs()[t];(e.m_endtype==ie.EndType.etClosedPolygon||e.m_endtype==ie.EndType.etClosedLine&&ie.Clipper.Orientation(e.m_polygon))&&e.m_polygon.reverse()}else for(var t=0;t<this.m_polyNodes.ChildCount();t++){var e=this.m_polyNodes.Childs()[t];e.m_endtype!=ie.EndType.etClosedLine||ie.Clipper.Orientation(e.m_polygon)||e.m_polygon.reverse()}},ie.ClipperOffset.GetUnitNormal=function(t,e){var n=e.X-t.X,o=e.Y-t.Y;if(0==n&&0==o)return new ie.DoublePoint(0,0);var i=1/Math.sqrt(n*n+o*o);return n*=i,o*=i,new ie.DoublePoint(o,-n)},ie.ClipperOffset.prototype.DoOffset=function(t){if(this.m_destPolys=new Array,this.m_delta=t,ie.ClipperBase.near_zero(t))for(var e=0;e<this.m_polyNodes.ChildCount();e++){var n=this.m_polyNodes.Childs()[e];n.m_endtype==ie.EndType.etClosedPolygon&&this.m_destPolys.push(n.m_polygon)}else{this.MiterLimit>2?this.m_miterLim=2/(this.MiterLimit*this.MiterLimit):this.m_miterLim=.5;var o;o=this.ArcTolerance<=0?ie.ClipperOffset.def_arc_tolerance:this.ArcTolerance>Math.abs(t)*ie.ClipperOffset.def_arc_tolerance?Math.abs(t)*ie.ClipperOffset.def_arc_tolerance:this.ArcTolerance;var i=3.14159265358979/Math.acos(1-o/Math.abs(t));this.m_sin=Math.sin(ie.ClipperOffset.two_pi/i),this.m_cos=Math.cos(ie.ClipperOffset.two_pi/i),this.m_StepsPerRad=i/ie.ClipperOffset.two_pi,t<0&&(this.m_sin=-this.m_sin);for(var e=0;e<this.m_polyNodes.ChildCount();e++){var n=this.m_polyNodes.Childs()[e];this.m_srcPoly=n.m_polygon;var r=this.m_srcPoly.length;if(!(0==r||t<=0&&(r<3||n.m_endtype!=ie.EndType.etClosedPolygon)))if(this.m_destPoly=new Array,1!=r){this.m_normals.length=0;for(var a=0;a<r-1;a++)this.m_normals.push(ie.ClipperOffset.GetUnitNormal(this.m_srcPoly[a],this.m_srcPoly[a+1]));if(n.m_endtype==ie.EndType.etClosedLine||n.m_endtype==ie.EndType.etClosedPolygon?this.m_normals.push(ie.ClipperOffset.GetUnitNormal(this.m_srcPoly[r-1],this.m_srcPoly[0])):this.m_normals.push(new ie.DoublePoint(this.m_normals[r-2])),n.m_endtype==ie.EndType.etClosedPolygon){for(var s=r-1,a=0;a<r;a++)s=this.OffsetPoint(a,s,n.m_jointype);this.m_destPolys.push(this.m_destPoly)}else if(n.m_endtype==ie.EndType.etClosedLine){for(var s=r-1,a=0;a<r;a++)s=this.OffsetPoint(a,s,n.m_jointype);this.m_destPolys.push(this.m_destPoly),this.m_destPoly=new Array;for(var p=this.m_normals[r-1],a=r-1;a>0;a--)this.m_normals[a]=new ie.DoublePoint(-this.m_normals[a-1].X,-this.m_normals[a-1].Y);this.m_normals[0]=new ie.DoublePoint(-p.X,-p.Y),s=0;for(var a=r-1;a>=0;a--)s=this.OffsetPoint(a,s,n.m_jointype);this.m_destPolys.push(this.m_destPoly)}else{for(var s=0,a=1;a<r-1;++a)s=this.OffsetPoint(a,s,n.m_jointype);var h;if(n.m_endtype==ie.EndType.etOpenButt){var a=r-1;h=new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[a].X+this.m_normals[a].X*t),ie.ClipperOffset.Round(this.m_srcPoly[a].Y+this.m_normals[a].Y*t)),this.m_destPoly.push(h),h=new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[a].X-this.m_normals[a].X*t),ie.ClipperOffset.Round(this.m_srcPoly[a].Y-this.m_normals[a].Y*t)),this.m_destPoly.push(h)}else{var a=r-1;s=r-2,this.m_sinA=0,this.m_normals[a]=new ie.DoublePoint(-this.m_normals[a].X,-this.m_normals[a].Y),n.m_endtype==ie.EndType.etOpenSquare?this.DoSquare(a,s):this.DoRound(a,s)}for(var a=r-1;a>0;a--)this.m_normals[a]=new ie.DoublePoint(-this.m_normals[a-1].X,-this.m_normals[a-1].Y);this.m_normals[0]=new ie.DoublePoint(-this.m_normals[1].X,-this.m_normals[1].Y),s=r-1;for(var a=s-1;a>0;--a)s=this.OffsetPoint(a,s,n.m_jointype);n.m_endtype==ie.EndType.etOpenButt?(h=new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[0].X-this.m_normals[0].X*t),ie.ClipperOffset.Round(this.m_srcPoly[0].Y-this.m_normals[0].Y*t)),this.m_destPoly.push(h),h=new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[0].X+this.m_normals[0].X*t),ie.ClipperOffset.Round(this.m_srcPoly[0].Y+this.m_normals[0].Y*t)),this.m_destPoly.push(h)):(s=1,this.m_sinA=0,n.m_endtype==ie.EndType.etOpenSquare?this.DoSquare(0,1):this.DoRound(0,1)),this.m_destPolys.push(this.m_destPoly)}}else{if(n.m_jointype==ie.JoinType.jtRound)for(var u=1,l=0,a=1;a<=i;a++){this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[0].X+u*t),ie.ClipperOffset.Round(this.m_srcPoly[0].Y+l*t)));
var c=u;u=u*this.m_cos-this.m_sin*l,l=c*this.m_sin+l*this.m_cos}else for(var u=-1,l=-1,a=0;a<4;++a)this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[0].X+u*t),ie.ClipperOffset.Round(this.m_srcPoly[0].Y+l*t))),u<0?u=1:l<0?l=1:u=-1;this.m_destPolys.push(this.m_destPoly)}}}},ie.ClipperOffset.prototype.Execute=function(){var t=arguments,e=t[0]instanceof ie.PolyTree;if(e){var n=t[0],o=t[1];n.Clear(),this.FixOrientations(),this.DoOffset(o);var i=new ie.Clipper(0);if(i.AddPaths(this.m_destPolys,ie.PolyType.ptSubject,!0),o>0)i.Execute(ie.ClipType.ctUnion,n,ie.PolyFillType.pftPositive,ie.PolyFillType.pftPositive);else{var r=ie.Clipper.GetBounds(this.m_destPolys),a=new ie.Path;if(a.push(new ie.IntPoint(r.left-10,r.bottom+10)),a.push(new ie.IntPoint(r.right+10,r.bottom+10)),a.push(new ie.IntPoint(r.right+10,r.top-10)),a.push(new ie.IntPoint(r.left-10,r.top-10)),i.AddPath(a,ie.PolyType.ptSubject,!0),i.ReverseSolution=!0,i.Execute(ie.ClipType.ctUnion,n,ie.PolyFillType.pftNegative,ie.PolyFillType.pftNegative),1==n.ChildCount()&&n.Childs()[0].ChildCount()>0){var s=n.Childs()[0];n.Childs()[0]=s.Childs()[0];for(var p=1;p<s.ChildCount();p++)n.AddChild(s.Childs()[p])}else n.Clear()}}else{var n=t[0],o=t[1];ie.Clear(n),this.FixOrientations(),this.DoOffset(o);var i=new ie.Clipper(0);if(i.AddPaths(this.m_destPolys,ie.PolyType.ptSubject,!0),o>0)i.Execute(ie.ClipType.ctUnion,n,ie.PolyFillType.pftPositive,ie.PolyFillType.pftPositive);else{var r=ie.Clipper.GetBounds(this.m_destPolys),a=new ie.Path;a.push(new ie.IntPoint(r.left-10,r.bottom+10)),a.push(new ie.IntPoint(r.right+10,r.bottom+10)),a.push(new ie.IntPoint(r.right+10,r.top-10)),a.push(new ie.IntPoint(r.left-10,r.top-10)),i.AddPath(a,ie.PolyType.ptSubject,!0),i.ReverseSolution=!0,i.Execute(ie.ClipType.ctUnion,n,ie.PolyFillType.pftNegative,ie.PolyFillType.pftNegative),n.length>0&&n.splice(0,1)}}},ie.ClipperOffset.prototype.OffsetPoint=function(t,e,n){if(this.m_sinA=this.m_normals[e].X*this.m_normals[t].Y-this.m_normals[t].X*this.m_normals[e].Y,this.m_sinA<5e-5&&this.m_sinA>-5e-5)return e;if(this.m_sinA>1?this.m_sinA=1:this.m_sinA<-1&&(this.m_sinA=-1),this.m_sinA*this.m_delta<0)this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[e].X*this.m_delta),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[e].Y*this.m_delta))),this.m_destPoly.push(new ie.IntPoint(this.m_srcPoly[t])),this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[t].X*this.m_delta),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[t].Y*this.m_delta)));else switch(n){case ie.JoinType.jtMiter:var o=1+(this.m_normals[t].X*this.m_normals[e].X+this.m_normals[t].Y*this.m_normals[e].Y);o>=this.m_miterLim?this.DoMiter(t,e,o):this.DoSquare(t,e);break;case ie.JoinType.jtSquare:this.DoSquare(t,e);break;case ie.JoinType.jtRound:this.DoRound(t,e)}return e=t},ie.ClipperOffset.prototype.DoSquare=function(t,e){var n=Math.tan(Math.atan2(this.m_sinA,this.m_normals[e].X*this.m_normals[t].X+this.m_normals[e].Y*this.m_normals[t].Y)/4);this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_delta*(this.m_normals[e].X-this.m_normals[e].Y*n)),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_delta*(this.m_normals[e].Y+this.m_normals[e].X*n)))),this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_delta*(this.m_normals[t].X+this.m_normals[t].Y*n)),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_delta*(this.m_normals[t].Y-this.m_normals[t].X*n))))},ie.ClipperOffset.prototype.DoMiter=function(t,e,n){var o=this.m_delta/n;this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+(this.m_normals[e].X+this.m_normals[t].X)*o),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+(this.m_normals[e].Y+this.m_normals[t].Y)*o)))},ie.ClipperOffset.prototype.DoRound=function(t,e){for(var n,o=Math.atan2(this.m_sinA,this.m_normals[e].X*this.m_normals[t].X+this.m_normals[e].Y*this.m_normals[t].Y),i=ie.Cast_Int32(ie.ClipperOffset.Round(this.m_StepsPerRad*Math.abs(o))),r=this.m_normals[e].X,a=this.m_normals[e].Y,s=0;s<i;++s)this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+r*this.m_delta),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+a*this.m_delta))),n=r,r=r*this.m_cos-this.m_sin*a,a=n*this.m_sin+a*this.m_cos;this.m_destPoly.push(new ie.IntPoint(ie.ClipperOffset.Round(this.m_srcPoly[t].X+this.m_normals[t].X*this.m_delta),ie.ClipperOffset.Round(this.m_srcPoly[t].Y+this.m_normals[t].Y*this.m_delta)))},ie.Error=function(t){try{throw new Error(t)}catch(t){alert(t.message)}},ie.JS={},ie.JS.AreaOfPolygon=function(t,e){return e||(e=1),ie.Clipper.Area(t)/(e*e)},ie.JS.AreaOfPolygons=function(t,e){e||(e=1);for(var n=0,o=0;o<t.length;o++)n+=ie.Clipper.Area(t[o]);return n/(e*e)},ie.JS.BoundsOfPath=function(t,e){return ie.JS.BoundsOfPaths([t],e)},ie.JS.BoundsOfPaths=function(t,e){e||(e=1);var n=ie.Clipper.GetBounds(t);return n.left/=e,n.bottom/=e,n.right/=e,n.top/=e,n},ie.JS.Clean=function(t,e){if(!(t instanceof Array))return[];var n=t[0]instanceof Array,t=ie.JS.Clone(t);if("number"!=typeof e||null===e)return ie.Error("Delta is not a number in Clean()."),t;if(0===t.length||1==t.length&&0===t[0].length||e<0)return t;n||(t=[t]);for(var o,i,r,a,s,p,h,u=t.length,l=[],c=0;c<u;c++)if(i=t[c],o=i.length,0!==o)if(o<3)r=i,l.push(r);else{for(r=i,a=e*e,s=i[0],p=1,h=1;h<o;h++)(i[h].X-s.X)*(i[h].X-s.X)+(i[h].Y-s.Y)*(i[h].Y-s.Y)<=a||(r[p]=i[h],s=i[h],p++);s=i[p-1],(i[0].X-s.X)*(i[0].X-s.X)+(i[0].Y-s.Y)*(i[0].Y-s.Y)<=a&&p--,p<o&&r.splice(p,o-p),r.length&&l.push(r)}return!n&&l.length?l=l[0]:n||0!==l.length?n&&0===l.length&&(l=[[]]):l=[],l},ie.JS.Clone=function(t){if(!(t instanceof Array))return[];if(0===t.length)return[];if(1==t.length&&0===t[0].length)return[[]];var e=t[0]instanceof Array;e||(t=[t]);var n,o,i,r,a=t.length,s=new Array(a);for(o=0;o<a;o++){for(n=t[o].length,r=new Array(n),i=0;i<n;i++)r[i]={X:t[o][i].X,Y:t[o][i].Y};s[o]=r}return e||(s=s[0]),s},ie.JS.Lighten=function(t,e){if(!(t instanceof Array))return[];if("number"!=typeof e||null===e)return ie.Error("Tolerance is not a number in Lighten()."),ie.JS.Clone(t);if(0===t.length||1==t.length&&0===t[0].length||e<0)return ie.JS.Clone(t);t[0]instanceof Array||(t=[t]);var n,o,i,r,a,s,p,h,u,l,c,f,d,y,v,g,m,b=t.length,x=e*e,_=[];for(n=0;n<b;n++)if(i=t[n],s=i.length,0!=s){for(r=0;r<1e6;r++){for(a=[],s=i.length,i[s-1].X!=i[0].X||i[s-1].Y!=i[0].Y?(f=1,i.push({X:i[0].X,Y:i[0].Y}),s=i.length):f=0,c=[],o=0;o<s-2;o++)p=i[o],u=i[o+1],h=i[o+2],g=p.X,m=p.Y,d=h.X-g,y=h.Y-m,0===d&&0===y||(v=((u.X-g)*d+(u.Y-m)*y)/(d*d+y*y),v>1?(g=h.X,m=h.Y):v>0&&(g+=d*v,m+=y*v)),d=u.X-g,y=u.Y-m,l=d*d+y*y,l<=x&&(c[o+1]=1,o++);for(a.push({X:i[0].X,Y:i[0].Y}),o=1;o<s-1;o++)c[o]||a.push({X:i[o].X,Y:i[o].Y});if(a.push({X:i[s-1].X,Y:i[s-1].Y}),f&&i.pop(),!c.length)break;i=a}s=a.length,a[s-1].X==a[0].X&&a[s-1].Y==a[0].Y&&a.pop(),a.length>2&&_.push(a)}return!t[0]instanceof Array&&(_=_[0]),"undefined"==typeof _&&(_=[[]]),_},ie.JS.PerimeterOfPath=function(t,e,n){if("undefined"==typeof t)return 0;var o,i,r=Math.sqrt,a=0,s=0,p=0,h=0,u=0,l=t.length;if(l<2)return 0;for(e&&(t[l]=t[0],l++);--l;)o=t[l],s=o.X,p=o.Y,i=t[l-1],h=i.X,u=i.Y,a+=r((s-h)*(s-h)+(p-u)*(p-u));return e&&t.pop(),a/n},ie.JS.PerimeterOfPaths=function(t,e,n){n||(n=1);for(var o=0,i=0;i<t.length;i++)o+=ie.JS.PerimeterOfPath(t[i],e,n);return o},ie.JS.ScaleDownPath=function(t,e){var n,o;for(e||(e=1),n=t.length;n--;)o=t[n],o.X=o.X/e,o.Y=o.Y/e},ie.JS.ScaleDownPaths=function(t,e){var n,o,i;Math.round;for(e||(e=1),n=t.length;n--;)for(o=t[n].length;o--;)i=t[n][o],i.X=i.X/e,i.Y=i.Y/e},ie.JS.ScaleUpPath=function(t,e){var n,o,i=Math.round;for(e||(e=1),n=t.length;n--;)o=t[n],o.X=i(o.X*e),o.Y=i(o.Y*e)},ie.JS.ScaleUpPaths=function(t,e){var n,o,i,r=Math.round;for(e||(e=1),n=t.length;n--;)for(o=t[n].length;o--;)i=t[n][o],i.X=r(i.X*e),i.Y=r(i.Y*e)},ie.ExPolygons=function(){return[]},ie.ExPolygon=function(){this.outer=null,this.holes=null},ie.JS.AddOuterPolyNodeToExPolygons=function(t,e){var n=new ie.ExPolygon;n.outer=t.Contour();var o=t.Childs(),i=o.length;n.holes=new Array(i);var r,a,s,p,h,u;for(s=0;s<i;s++)for(r=o[s],n.holes[s]=r.Contour(),p=0,h=r.Childs(),u=h.length;p<u;p++)a=h[p],ie.JS.AddOuterPolyNodeToExPolygons(a,e);e.push(n)},ie.JS.ExPolygonsToPaths=function(t){var e,n,o,i,r=new ie.Paths;for(e=0,o=t.length;e<o;e++)for(r.push(t[e].outer),n=0,i=t[e].holes.length;n<i;n++)r.push(t[e].holes[n]);return r},ie.JS.PolyTreeToExPolygons=function(t){var e,n,o,i,r=new ie.ExPolygons;for(n=0,o=t.Childs(),i=o.length;n<i;n++)e=o[n],ie.JS.AddOuterPolyNodeToExPolygons(e,r);return r},t.exports=ie},function(t,e,n){(function(o){/*
	 * Konva JavaScript Framework v1.6.3
	 * http://konvajs.github.io/
	 * Licensed under the MIT or GPL Version 2 licenses.
	 * Date: Wed May 24 2017
	 *
	 * Original work Copyright (C) 2011 - 2013 by Eric Rowell (KineticJS)
	 * Modified work Copyright (C) 2014 - 2017 by Anton Lavrenov (Konva)
	 *
	 * @license
	 * Permission is hereby granted, free of charge, to any person obtaining a copy
	 * of this software and associated documentation files (the "Software"), to deal
	 * in the Software without restriction, including without limitation the rights
	 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 * copies of the Software, and to permit persons to whom the Software is
	 * furnished to do so, subject to the following conditions:
	 *
	 * The above copyright notice and this permission notice shall be included in
	 * all copies or substantial portions of the Software.
	 *
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
	 * THE SOFTWARE.
	 */
!function(e){"use strict";var o=Math.PI/180,i={version:"1.6.3",stages:[],idCounter:0,ids:{},names:{},shapes:{},listenClickTap:!1,inDblClickWindow:!1,enableTrace:!1,traceArrMax:100,dblClickWindow:400,pixelRatio:void 0,dragDistance:0,angleDeg:!0,showWarnings:!0,Filters:{},isDragging:function(){var t=i.DD;return!!t&&t.isDragging},isDragReady:function(){var t=i.DD;return!!t&&!!t.node},_addId:function(t,e){void 0!==e&&(this.ids[e]=t)},_removeId:function(t){void 0!==t&&delete this.ids[t]},_addName:function(t,e){e&&(this.names[e]||(this.names[e]=[]),this.names[e].push(t))},_removeName:function(t,e){if(t){var n=this.names[t];if(n){for(var o=0;o<n.length;o++){var i=n[o];i._id===e&&n.splice(o,1)}0===n.length&&delete this.names[t]}}},getAngle:function(t){return this.angleDeg?t*o:t},_detectIE:function(t){var e=t.indexOf("msie ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);var n=t.indexOf("trident/");if(n>0){var o=t.indexOf("rv:");return parseInt(t.substring(o+3,t.indexOf(".",o)),10)}var i=t.indexOf("edge/");return i>0&&parseInt(t.substring(i+5,t.indexOf(".",i)),10)},_parseUA:function(t){var e=t.toLowerCase(),n=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],o=!!t.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),r=!!t.match(/IEMobile/i);return{browser:n[1]||"",version:n[2]||"0",isIE:i._detectIE(e),mobile:o,ieMobile:r}},UA:void 0},r="undefined"!=typeof e?e:"undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope?self:{};if(i.UA=i._parseUA(r.navigator&&r.navigator.userAgent||""),r.Konva&&console.error("Konva instance is already exist in current eviroment. Please use only one instance."),r.Konva=i,i.global=r,r.window&&r.window.document)i.document=r.window.document,i.window=r.window;else{var a=n(212),s=n(213).jsdom;i.window=s("<!DOCTYPE html><html><head></head><body></body></html>").defaultView,i.document=i.window.document,i.window.Image=a.Image,i._nodeCanvas=a}return void(t.exports=i)}("undefined"!=typeof o?o:window),function(){"use strict";Konva.Collection=function(){var t=[].slice.call(arguments),e=t.length,n=0;for(this.length=e;n<e;n++)this[n]=t[n];return this},Konva.Collection.prototype=[],Konva.Collection.prototype.each=function(t){for(var e=0;e<this.length;e++)t(this[e],e)},Konva.Collection.prototype.toArray=function(){var t,e=[],n=this.length;for(t=0;t<n;t++)e.push(this[t]);return e},Konva.Collection.toCollection=function(t){var e,n=new Konva.Collection,o=t.length;for(e=0;e<o;e++)n.push(t[e]);return n},Konva.Collection._mapMethod=function(t){Konva.Collection.prototype[t]=function(){var e,n=this.length,o=[].slice.call(arguments);for(e=0;e<n;e++)this[e][t].apply(this[e],o);return this}},Konva.Collection.mapMethods=function(t){var e=t.prototype;for(var n in e)Konva.Collection._mapMethod(n)},Konva.Transform=function(t){this.m=t&&t.slice()||[1,0,0,1,0,0]},Konva.Transform.prototype={copy:function(){return new Konva.Transform(this.m)},point:function(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},translate:function(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this},scale:function(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this},rotate:function(t){var e=Math.cos(t),n=Math.sin(t),o=this.m[0]*e+this.m[2]*n,i=this.m[1]*e+this.m[3]*n,r=this.m[0]*-n+this.m[2]*e,a=this.m[1]*-n+this.m[3]*e;return this.m[0]=o,this.m[1]=i,this.m[2]=r,this.m[3]=a,this},getTranslation:function(){return{x:this.m[4],y:this.m[5]}},skew:function(t,e){var n=this.m[0]+this.m[2]*e,o=this.m[1]+this.m[3]*e,i=this.m[2]+this.m[0]*t,r=this.m[3]+this.m[1]*t;return this.m[0]=n,this.m[1]=o,this.m[2]=i,this.m[3]=r,this},multiply:function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],n=this.m[1]*t.m[0]+this.m[3]*t.m[1],o=this.m[0]*t.m[2]+this.m[2]*t.m[3],i=this.m[1]*t.m[2]+this.m[3]*t.m[3],r=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],a=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=n,this.m[2]=o,this.m[3]=i,this.m[4]=r,this.m[5]=a,this},invert:function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,n=-this.m[1]*t,o=-this.m[2]*t,i=this.m[0]*t,r=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=n,this.m[2]=o,this.m[3]=i,this.m[4]=r,this.m[5]=a,this},getMatrix:function(){return this.m},setAbsolutePosition:function(t,e){var n=this.m[0],o=this.m[1],i=this.m[2],r=this.m[3],a=this.m[4],s=this.m[5],p=(n*(e-s)-o*(t-a))/(n*r-o*i),h=(t-a-i*p)/n;return this.translate(h,p)}};var t="2d",n="[object Array]",o="[object Number]",i="[object String]",r=Math.PI/180,a=180/Math.PI,s="#",p="",h="0",u="Konva warning: ",l="Konva error: ",c="rgb(",f={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},d=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;Konva.Util={_isElement:function(t){return!(!t||1!=t.nodeType)},_isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isObject:function(t){return!!t&&t.constructor===Object},_isArray:function(t){return Object.prototype.toString.call(t)===n},_isNumber:function(t){return Object.prototype.toString.call(t)===o},_isString:function(t){return Object.prototype.toString.call(t)===i},_throttle:function(t,e,n){var o,i,r,a=null,s=0,p=n||{},h=function(){s=p.leading===!1?0:(new Date).getTime(),a=null,r=t.apply(o,i),o=i=null};return function(){var n=(new Date).getTime();s||p.leading!==!1||(s=n);var u=e-(n-s);return o=this,i=arguments,u<=0?(clearTimeout(a),a=null,s=n,r=t.apply(o,i),o=i=null):a||p.trailing===!1||(a=setTimeout(h,u)),r}},_hasMethods:function(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&this._isFunction(t[e])&&n.push(e);return n.length>0},isValidSelector:function(t){if("string"!=typeof t)return!1;var e=t[0];return"#"===e||"."===e||e===e.toUpperCase()},createCanvasElement:function(){var t=Konva.document.createElement("canvas");try{t.style=t.style||{}}catch(t){}return t},isBrowser:function(){return"object"!=typeof e},_isInDocument:function(t){for(;t=t.parentNode;)if(t==Konva.document)return!0;return!1},_simplifyArray:function(t){var e,n,o=[],i=t.length,r=Konva.Util;for(e=0;e<i;e++)n=t[e],r._isNumber(n)?n=Math.round(1e3*n)/1e3:r._isString(n)||(n=n.toString()),o.push(n);return o},_getImage:function(e,n){var o,i;if(e)if(this._isElement(e))n(e);else if(this._isString(e))o=new Konva.window.Image,o.onload=function(){n(o)},o.src=e;else if(e.data){i=Konva.Util.createCanvasElement(),i.width=e.width,i.height=e.height;var r=i.getContext(t);r.putImageData(e,0,0),this._getImage(i.toDataURL(),n)}else n(null);else n(null)},_getRGBAString:function(t){var e=t.red||0,n=t.green||0,o=t.blue||0,i=t.alpha||1;return["rgba(",e,",",n,",",o,",",i,")"].join(p)},_rgbToHex:function(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb:function(t){t=t.replace(s,p);var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor:function(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t=h+t;return s+t},get:function(t,e){return void 0===t?e:t},getRGB:function(t){var e;return t in f?(e=f[t],{r:e[0],g:e[1],b:e[2]}):t[0]===s?this._hexToRgb(t.substring(1)):t.substr(0,4)===c?(e=d.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:function(t){return t=t||"black",Konva.Util._namedColorToRBA(t)||Konva.Util._hex3ColorToRGBA(t)||Konva.Util._hex6ColorToRGBA(t)||Konva.Util._rgbColorToRGBA(t)||Konva.Util._rgbaColorToRGBA(t)},_namedColorToRBA:function(t){var e=f[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA:function(t){if(0===t.indexOf("rgb(")){t=t.match(/rgb\(([^)]+)\)/)[1];var e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA:function(t){if(0===t.indexOf("rgba(")){t=t.match(/rgba\(([^)]+)\)/)[1];var e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA:function(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex3ColorToRGBA:function(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_merge:function(t,e){var n=this._clone(e);for(var o in t)this._isObject(t[o])?n[o]=this._merge(t[o],n[o]):n[o]=t[o];return n},cloneObject:function(t){var e={};for(var n in t)this._isObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray:function(t){return t.slice(0)},_degToRad:function(t){return t*r},_radToDeg:function(t){return t*a},_capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw:function(t){throw new Error(l+t)},error:function(t){console.error(l+t)},warn:function(t){Konva.global.console&&console.warn&&Konva.showWarnings&&console.warn(u+t)},extend:function(t,e){function n(){this.constructor=t}n.prototype=e.prototype;var o=t.prototype;t.prototype=new n;for(var i in o)o.hasOwnProperty(i)&&(t.prototype[i]=o[i]);t.__super__=e.prototype,t.super=e},addMethods:function(t,e){var n;for(n in e)t.prototype[n]=e[n]},_getControlPoints:function(t,e,n,o,i,r,a){var s=Math.sqrt(Math.pow(n-t,2)+Math.pow(o-e,2)),p=Math.sqrt(Math.pow(i-n,2)+Math.pow(r-o,2)),h=a*s/(s+p),u=a*p/(s+p),l=n-h*(i-t),c=o-h*(r-e),f=n+u*(i-t),d=o+u*(r-e);return[l,c,f,d]},_expandPoints:function(t,e){var n,o,i=t.length,r=[];for(n=2;n<i-2;n+=2)o=Konva.Util._getControlPoints(t[n-2],t[n-1],t[n],t[n+1],t[n+2],t[n+3],e),r.push(o[0]),r.push(o[1]),r.push(t[n]),r.push(t[n+1]),r.push(o[2]),r.push(o[3]);return r},_removeLastLetter:function(t){return t.substring(0,t.length-1)},each:function(t,e){for(var n in t)e(n,t[n])},_getProjectionToSegment:function(t,e,n,o,i,r){var a,s,p,h=(t-n)*(t-n)+(e-o)*(e-o);if(0==h)a=t,s=e,p=(i-n)*(i-n)+(r-o)*(r-o);else{var u=((i-t)*(n-t)+(r-e)*(o-e))/h;u<0?(a=t,s=e,p=(t-i)*(t-i)+(e-r)*(e-r)):u>1?(a=n,s=o,p=(n-i)*(n-i)+(o-r)*(o-r)):(a=t+u*(n-t),s=e+u*(o-e),p=(a-i)*(a-i)+(s-r)*(s-r))}return[a,s,p]},_getProjectionToLine:function(t,e,n){var o=Konva.Util.cloneObject(t),i=Number.MAX_VALUE;return e.forEach(function(r,a){if(n||a!==e.length-1){var s=e[(a+1)%e.length],p=Konva.Util._getProjectionToSegment(r.x,r.y,s.x,s.y,t.x,t.y),h=p[0],u=p[1],l=p[2];l<i&&(o.x=h,o.y=u,i=l)}}),o},_prepareArrayForTween:function(t,e,n){var o,i=[],r=[];if(t.length>e.length){var a=e;e=t,t=a}for(o=0;o<t.length;o+=2)i.push({x:t[o],y:t[o+1]});for(o=0;o<e.length;o+=2)r.push({x:e[o],y:e[o+1]});var s=[];return r.forEach(function(t){var e=Konva.Util._getProjectionToLine(t,i,n);s.push(e.x),s.push(e.y)}),s},_prepareToStringify:function(t){var e;t.visitedByCircularReferenceRemoval=!0;for(var n in t)if(t.hasOwnProperty(n)&&t[n]&&"object"==typeof t[n])if(e=Object.getOwnPropertyDescriptor(t,n),t[n].visitedByCircularReferenceRemoval||Konva.Util._isElement(t[n])){if(!e.configurable)return null;delete t[n]}else if(null===Konva.Util._prepareToStringify(t[n])){if(!e.configurable)return null;delete t[n]}return delete t.visitedByCircularReferenceRemoval,t}}}(),function(){"use strict";var t=Konva.Util.createCanvasElement(),e=t.getContext("2d"),n=function(){var t=Konva.window.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/n}();Konva.Canvas=function(t){this.init(t)},Konva.Canvas.prototype={init:function(t){var e=t||{},o=e.pixelRatio||Konva.pixelRatio||n;this.pixelRatio=o,this._canvas=Konva.Util.createCanvasElement(),this._canvas.style.padding=0,this._canvas.style.margin=0,this._canvas.style.border=0,this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top=0,this._canvas.style.left=0},getContext:function(){return this.context},getPixelRatio:function(){return this.pixelRatio},setPixelRatio:function(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)},setWidth:function(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var e=this.pixelRatio,n=this.getContext()._context;n.scale(e,e)},setHeight:function(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var e=this.pixelRatio,n=this.getContext()._context;n.scale(e,e)},getWidth:function(){return this.width},getHeight:function(){return this.height},setSize:function(t,e){this.setWidth(t),this.setHeight(e)},toDataURL:function(t,e){try{return this._canvas.toDataURL(t,e)}catch(t){try{return this._canvas.toDataURL()}catch(t){return Konva.Util.warn("Unable to get data URL. "+t.message),""}}}},Konva.SceneCanvas=function(t){var e=t||{},n=e.width||0,o=e.height||0;Konva.Canvas.call(this,e),this.context=new Konva.SceneContext(this),this.setSize(n,o)},Konva.Util.extend(Konva.SceneCanvas,Konva.Canvas),Konva.HitCanvas=function(t){var e=t||{},n=e.width||0,o=e.height||0;Konva.Canvas.call(this,e),this.context=new Konva.HitContext(this),this.setSize(n,o),this.hitCanvas=!0},Konva.Util.extend(Konva.HitCanvas,Konva.Canvas)}(),function(){"use strict";var t=",",e="(",n=")",o="([",i="])",r=";",a="()",s="=",p=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],h=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation"];Konva.Context=function(t){this.init(t)},Konva.Context.prototype={init:function(t){this.canvas=t,this._context=t._canvas.getContext("2d"),Konva.enableTrace&&(this.traceArr=[],this._enableTrace())},fillShape:function(t){t.getFillEnabled()&&this._fill(t)},strokeShape:function(t){t.getStrokeEnabled()&&this._stroke(t)},fillStrokeShape:function(t){var e=t.getFillEnabled();e&&this._fill(t),t.getStrokeEnabled()&&this._stroke(t)},getTrace:function(p){var h,u,l,c,f=this.traceArr,d=f.length,y="";for(h=0;h<d;h++)u=f[h],l=u.method,l?(c=u.args,y+=l,y+=p?a:Konva.Util._isArray(c[0])?o+c.join(t)+i:e+c.join(t)+n):(y+=u.property,p||(y+=s+u.val)),y+=r;return y},clearTrace:function(){this.traceArr=[]},_trace:function(t){var e,n=this.traceArr;n.push(t),e=n.length,e>=Konva.traceArrMax&&n.shift()},reset:function(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)},getCanvas:function(){return this.canvas},clear:function(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)},_applyLineCap:function(t){var e=t.getLineCap();e&&this.setAttr("lineCap",e)},_applyOpacity:function(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)},_applyLineJoin:function(t){var e=t.getLineJoin();e&&this.setAttr("lineJoin",e)},setAttr:function(t,e){this._context[t]=e},arc:function(){var t=arguments;this._context.arc(t[0],t[1],t[2],t[3],t[4],t[5])},beginPath:function(){this._context.beginPath()},bezierCurveTo:function(){var t=arguments;this._context.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5])},clearRect:function(){var t=arguments;this._context.clearRect(t[0],t[1],t[2],t[3])},clip:function(){this._context.clip()},closePath:function(){this._context.closePath()},createImageData:function(){var t=arguments;return 2===t.length?this._context.createImageData(t[0],t[1]):1===t.length?this._context.createImageData(t[0]):void 0},createLinearGradient:function(){var t=arguments;return this._context.createLinearGradient(t[0],t[1],t[2],t[3])},createPattern:function(){var t=arguments;return this._context.createPattern(t[0],t[1])},createRadialGradient:function(){var t=arguments;return this._context.createRadialGradient(t[0],t[1],t[2],t[3],t[4],t[5])},drawImage:function(){var t=arguments,e=this._context;3===t.length?e.drawImage(t[0],t[1],t[2]):5===t.length?e.drawImage(t[0],t[1],t[2],t[3],t[4]):9===t.length&&e.drawImage(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},isPointInPath:function(t,e){return this._context.isPointInPath(t,e)},fill:function(){this._context.fill()},fillRect:function(t,e,n,o){this._context.fillRect(t,e,n,o)},strokeRect:function(t,e,n,o){this._context.strokeRect(t,e,n,o)},fillText:function(){var t=arguments;this._context.fillText(t[0],t[1],t[2])},measureText:function(t){return this._context.measureText(t)},getImageData:function(){var t=arguments;return this._context.getImageData(t[0],t[1],t[2],t[3])},lineTo:function(){var t=arguments;this._context.lineTo(t[0],t[1])},moveTo:function(){var t=arguments;this._context.moveTo(t[0],t[1])},rect:function(){var t=arguments;this._context.rect(t[0],t[1],t[2],t[3])},putImageData:function(){var t=arguments;this._context.putImageData(t[0],t[1],t[2])},quadraticCurveTo:function(){var t=arguments;this._context.quadraticCurveTo(t[0],t[1],t[2],t[3])},restore:function(){this._context.restore()},rotate:function(){var t=arguments;this._context.rotate(t[0])},save:function(){this._context.save()},scale:function(){var t=arguments;this._context.scale(t[0],t[1])},setLineDash:function(){var t=arguments,e=this._context;this._context.setLineDash?e.setLineDash(t[0]):"mozDash"in e?e.mozDash=t[0]:"webkitLineDash"in e&&(e.webkitLineDash=t[0])},getLineDash:function(){return this._context.getLineDash()},setTransform:function(){var t=arguments;this._context.setTransform(t[0],t[1],t[2],t[3],t[4],t[5])},stroke:function(){this._context.stroke()},strokeText:function(){var t=arguments;this._context.strokeText(t[0],t[1],t[2])},transform:function(){var t=arguments;this._context.transform(t[0],t[1],t[2],t[3],t[4],t[5])},translate:function(){var t=arguments;this._context.translate(t[0],t[1])},_enableTrace:function(){var t,e,n=this,o=p.length,i=Konva.Util._simplifyArray,r=this.setAttr,a=function(t){var o,r=n[t];n[t]=function(){return e=i(Array.prototype.slice.call(arguments,0)),o=r.apply(n,arguments),n._trace({method:t,args:e}),o}};for(t=0;t<o;t++)a(p[t]);n.setAttr=function(){r.apply(n,arguments);var t=arguments[0],e=arguments[1];"shadowOffsetX"!==t&&"shadowOffsetY"!==t&&"shadowBlur"!==t||(e/=this.canvas.getPixelRatio()),n._trace({property:t,val:e})}}},h.forEach(function(t){Object.defineProperty(Konva.Context.prototype,t,{get:function(){return this._context[t]},set:function(e){this._context[t]=e}})}),Konva.SceneContext=function(t){Konva.Context.call(this,t)},Konva.SceneContext.prototype={_fillColor:function(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)},_fillPattern:function(t){var e=t.getFillPatternX(),n=t.getFillPatternY(),o=t.getFillPatternScale(),i=Konva.getAngle(t.getFillPatternRotation()),r=t.getFillPatternOffset();(e||n)&&this.translate(e||0,n||0),i&&this.rotate(i),o&&this.scale(o.x,o.y),r&&this.translate(-1*r.x,-1*r.y),this.setAttr("fillStyle",this.createPattern(t.getFillPatternImage(),t.getFillPatternRepeat()||"repeat")),this.fill()},_fillLinearGradient:function(t){var e=t.getFillLinearGradientStartPoint(),n=t.getFillLinearGradientEndPoint(),o=t.getFillLinearGradientColorStops(),i=this.createLinearGradient(e.x,e.y,n.x,n.y);if(o){for(var r=0;r<o.length;r+=2)i.addColorStop(o[r],o[r+1]);this.setAttr("fillStyle",i),t._fillFunc(this)}},_fillRadialGradient:function(t){for(var e=t.getFillRadialGradientStartPoint(),n=t.getFillRadialGradientEndPoint(),o=t.getFillRadialGradientStartRadius(),i=t.getFillRadialGradientEndRadius(),r=t.getFillRadialGradientColorStops(),a=this.createRadialGradient(e.x,e.y,o,n.x,n.y,i),s=0;s<r.length;s+=2)a.addColorStop(r[s],r[s+1]);this.setAttr("fillStyle",a),this.fill()},_fill:function(t){var e=t.fill(),n=t.getFillPatternImage(),o=t.getFillLinearGradientColorStops(),i=t.getFillRadialGradientColorStops(),r=t.getFillPriority();e&&"color"===r?this._fillColor(t):n&&"pattern"===r?this._fillPattern(t):o&&"linear-gradient"===r?this._fillLinearGradient(t):i&&"radial-gradient"===r?this._fillRadialGradient(t):e?this._fillColor(t):n?this._fillPattern(t):o?this._fillLinearGradient(t):i&&this._fillRadialGradient(t)},_stroke:function(t){var e=t.dash(),n=t.getStrokeScaleEnabled()||t instanceof Konva.Text;t.hasStroke()&&(n||(this.save(),this.setTransform(1,0,0,1,0,0)),this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),this.setAttr("strokeStyle",t.stroke()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t._strokeFunc(this),n||this.restore())},_applyShadow:function(t){var e=Konva.Util,n=e.get(t.getShadowRGBA(),"black"),o=e.get(t.getShadowBlur(),5),i=e.get(t.getShadowOffset(),{x:0,y:0}),r=t.getAbsoluteScale(),a=this.canvas.getPixelRatio(),s=r.x*a,p=r.y*a;this.setAttr("shadowColor",n),this.setAttr("shadowBlur",o*a*Math.min(Math.abs(s),Math.abs(p))),this.setAttr("shadowOffsetX",i.x*s),this.setAttr("shadowOffsetY",i.y*p)},_applyGlobalCompositeOperation:function(t){var e=t.getGlobalCompositeOperation();"source-over"!==e&&this.setAttr("globalCompositeOperation",e)}},Konva.Util.extend(Konva.SceneContext,Konva.Context),Konva.HitContext=function(t){Konva.Context.call(this,t)},Konva.HitContext.prototype={_fill:function(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()},_stroke:function(t){if(t.hasStroke()&&t.strokeHitEnabled()){var e=t.getStrokeScaleEnabled()||t instanceof Konva.Text;e||(this.save(),this.setTransform(1,0,0,1,0,0)),this._applyLineCap(t),this.setAttr("lineWidth",t.strokeWidth()),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),e||this.restore()}}},Konva.Util.extend(Konva.HitContext,Konva.Context)}(),function(){"use strict";var t="get",e="set";Konva.Factory={addGetterSetter:function(t,e,n,o,i){this.addGetter(t,e,n),this.addSetter(t,e,o,i),this.addOverloadedGetterSetter(t,e)},addGetter:function(e,n,o){var i=t+Konva.Util._capitalize(n);e.prototype[i]=function(){var t=this.attrs[n];return void 0===t?o:t}},addSetter:function(t,n,o,i){var r=e+Konva.Util._capitalize(n);t.prototype[r]=function(t){return o&&(t=o.call(this,t)),this._setAttr(n,t),i&&i.call(this),this}},addComponentsGetterSetter:function(n,o,i,r,a){var s,p,h=i.length,u=Konva.Util._capitalize,l=t+u(o),c=e+u(o);n.prototype[l]=function(){var t={};for(s=0;s<h;s++)p=i[s],t[p]=this.getAttr(o+u(p));return t},n.prototype[c]=function(t){var e,n=this.attrs[o];r&&(t=r.call(this,t));for(e in t)t.hasOwnProperty(e)&&this._setAttr(o+u(e),t[e]);return this._fireChangeEvent(o,n,t),a&&a.call(this),this},this.addOverloadedGetterSetter(n,o)},addOverloadedGetterSetter:function(n,o){var i=Konva.Util._capitalize(o),r=e+i,a=t+i;n.prototype[o]=function(){return arguments.length?(this[r](arguments[0]),this):this[a]()}},addDeprecatedGetterSetter:function(e,n,o,i){var r=t+Konva.Util._capitalize(n),a=n+" property is deprecated and will be removed soon. Look at Konva change log for more information.";e.prototype[r]=function(){Konva.Util.error(a);var t=this.attrs[n];return void 0===t?o:t},this.addSetter(e,n,i,function(){Konva.Util.error(a)}),this.addOverloadedGetterSetter(e,n)},backCompat:function(t,e){Konva.Util.each(e,function(e,n){var o=t.prototype[n];t.prototype[e]=function(){o.apply(this,arguments),Konva.Util.error(e+" method is deprecated and will be removed soon. Use "+n+" instead")}})},afterSetFilter:function(){this._filterUpToDate=!1}},Konva.Validators={RGBComponent:function(t){return t>255?255:t<0?0:Math.round(t)},alphaComponent:function(t){return t>1?1:t<1e-4?1e-4:t}}}(),function(t){"use strict";var e="absoluteOpacity",n="absoluteTransform",o="absoluteScale",i="Change",r="children",a=".",s="",p="get",h="id",u="konva",l="listening",c="mouseenter",f="mouseleave",d="name",y="set",v="Shape",g=" ",m="stage",b="transform",x="Stage",_="visible",w=["id"],P=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(g),S=["scaleXChange.konva","scaleYChange.konva"].join(g);t.Node=function(t){this._init(t)},t.Util.addMethods(t.Node,{_init:function(i){var r=this;this._id=t.idCounter++,this.eventListeners={},this.attrs={},this._cache={},this._filterUpToDate=!1,this._isUnderCache=!1,this.setAttrs(i),this.on(P,function(){this._clearCache(b),r._clearSelfAndDescendantCache(n)}),this.on(S,function(){r._clearSelfAndDescendantCache(o)}),this.on("visibleChange.konva",function(){r._clearSelfAndDescendantCache(_)}),this.on("listeningChange.konva",function(){r._clearSelfAndDescendantCache(l)}),this.on("opacityChange.konva",function(){r._clearSelfAndDescendantCache(e)})},_clearCache:function(t){t?delete this._cache[t]:this._cache={}},_getCache:function(t,e){var n=this._cache[t];return void 0===n&&(this._cache[t]=e.call(this)),this._cache[t]},_clearSelfAndDescendantCache:function(t){this._clearCache(t),this.children&&this.getChildren().each(function(e){e._clearSelfAndDescendantCache(t)})},clearCache:function(){return delete this._cache.canvas,this._filterUpToDate=!1,this},cache:function(n){var i=n||{},r=this.getClientRect(!0),a=i.width||r.width,s=i.height||r.height,p=i.pixelRatio,h=i.x||r.x,u=i.y||r.y,l=i.offset||0,c=i.drawBorder||!1;if(!a||!s)throw new Error("Width or height of caching configuration equals 0.");a+=2*l,s+=2*l,h-=l,u-=l;var f=new t.SceneCanvas({pixelRatio:p,width:a,height:s}),d=new t.SceneCanvas({pixelRatio:p,width:a,height:s}),y=new t.HitCanvas({pixelRatio:1,width:a,height:s}),v=f.getContext(),g=y.getContext();return y.isCache=!0,this.clearCache(),v.save(),g.save(),v.translate(-h,-u),g.translate(-h,-u),this._isUnderCache=!0,this._clearSelfAndDescendantCache(e),this._clearSelfAndDescendantCache(o),this.drawScene(f,this,!0),this.drawHit(y,this,!0),this._isUnderCache=!1,v.restore(),g.restore(),c&&(v.save(),v.beginPath(),v.rect(0,0,a,s),v.closePath(),v.setAttr("strokeStyle","red"),v.setAttr("lineWidth",5),v.stroke(),v.restore()),this._cache.canvas={scene:f,filter:d,hit:y,x:h,y:u},this},getClientRect:function(){throw new Error('abstract "getClientRect" method call')},_transformedRect:function(t){var e,n,o,i,r=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],a=this.getTransform();return r.forEach(function(t){var r=a.point(t);void 0===e&&(e=o=r.x,n=i=r.y),e=Math.min(e,r.x),n=Math.min(n,r.y),o=Math.max(o,r.x),i=Math.max(i,r.y)}),{x:e,y:n,width:o-e,height:i-n}},_drawCachedSceneCanvas:function(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this),t.translate(this._cache.canvas.x,this._cache.canvas.y);var e=this._getCachedSceneCanvas(),n=e.pixelRatio;t.drawImage(e._canvas,0,0,e.width/n,e.height/n),t.restore()},_drawCachedHitCanvas:function(t){var e=this._cache.canvas,n=e.hit;t.save(),t.translate(this._cache.canvas.x,this._cache.canvas.y),t.drawImage(n._canvas,0,0),t.restore()},_getCachedSceneCanvas:function(){var e,n,o,i,r=this.filters(),a=this._cache.canvas,s=a.scene,p=a.filter,h=p.getContext();if(r){if(!this._filterUpToDate){var u=s.pixelRatio;try{for(e=r.length,h.clear(),h.drawImage(s._canvas,0,0,s.getWidth()/u,s.getHeight()/u),n=h.getImageData(0,0,p.getWidth(),p.getHeight()),o=0;o<e;o++)i=r[o],"function"==typeof i?(i.call(this,n),h.putImageData(n,0,0)):t.Util.error("Filter should be type of function, but got "+typeof i+" insted. Please check correct filters")}catch(e){t.Util.error("Unable to apply filter. "+e.message)}this._filterUpToDate=!0}return p}return s},on:function(t,e){if(3===arguments.length)return this._delegate.apply(this,arguments);var n,o,i,r,p,h=t.split(g),u=h.length;for(n=0;n<u;n++)o=h[n],i=o.split(a),r=i[0],p=i[1]||s,this.eventListeners[r]||(this.eventListeners[r]=[]),this.eventListeners[r].push({name:p,handler:e});return this},off:function(t){var e,n,o,i,r,s,p=(t||"").split(g),h=p.length;if(!t)for(n in this.eventListeners)this._off(n);for(e=0;e<h;e++)if(o=p[e],i=o.split(a),r=i[0],s=i[1],r)this.eventListeners[r]&&this._off(r,s);else for(n in this.eventListeners)this._off(n,s);return this},dispatchEvent:function(t){var e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this},addEventListener:function(t,e){return this.on(t,function(t){e.call(this,t.evt)}),this},removeEventListener:function(t){return this.off(t),this},_delegate:function(e,n,o){var i=this;this.on(e,function(e){for(var r=e.target.findAncestors(n,!0,i),a=0;a<r.length;a++)e=t.Util.cloneObject(e),e.currentTarget=r[a],
o.call(r[a],e)})},remove:function(){var t=this.getParent();return t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),delete this.parent),this._clearSelfAndDescendantCache(m),this._clearSelfAndDescendantCache(n),this._clearSelfAndDescendantCache(_),this._clearSelfAndDescendantCache(l),this._clearSelfAndDescendantCache(e),this},destroy:function(){t._removeId(this.getId());for(var e=(this.getName()||"").split(/\s/g),n=0;n<e.length;n++){var o=e[n];t._removeName(o,this._id)}return this.remove(),this},getAttr:function(e){var n=p+t.Util._capitalize(e);return t.Util._isFunction(this[n])?this[n]():this.attrs[e]},getAncestors:function(){for(var e=this.getParent(),n=new t.Collection;e;)n.push(e),e=e.getParent();return n},getAttrs:function(){return this.attrs||{}},setAttrs:function(e){var n,o;if(!e)return this;for(n in e)n!==r&&(o=y+t.Util._capitalize(n),t.Util._isFunction(this[o])?this[o](e[n]):this._setAttr(n,e[n]));return this},isListening:function(){return this._getCache(l,this._isListening)},_isListening:function(){var t=this.getListening(),e=this.getParent();return"inherit"===t?!e||e.isListening():t},isVisible:function(){return this._getCache(_,this._isVisible)},_isVisible:function(){var t=this.getVisible(),e=this.getParent();return"inherit"===t?!e||e.isVisible():t},shouldDrawHit:function(t){var e=this.getLayer();return t&&t.isCache||e&&e.hitGraphEnabled()&&this.isListening()&&this.isVisible()},show:function(){return this.setVisible(!0),this},hide:function(){return this.setVisible(!1),this},getZIndex:function(){return this.index||0},getAbsoluteZIndex:function(){function t(p){for(e=[],n=p.length,o=0;o<n;o++)i=p[o],s++,i.nodeType!==v&&(e=e.concat(i.getChildren().toArray())),i._id===a._id&&(o=n);e.length>0&&e[0].getDepth()<=r&&t(e)}var e,n,o,i,r=this.getDepth(),a=this,s=0;return a.nodeType!==x&&t(a.getStage().getChildren()),s},getDepth:function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},setPosition:function(t){return this.setX(t.x),this.setY(t.y),this},getPosition:function(){return{x:this.getX(),y:this.getY()}},getAbsolutePosition:function(e){var n=this.getAbsoluteTransform(e).getMatrix(),o=new t.Transform,i=this.offset();return o.m=n.slice(),o.translate(i.x,i.y),o.getTranslation()},setAbsolutePosition:function(t){var e,n=this._clearTransform();return this.attrs.x=n.x,this.attrs.y=n.y,delete n.x,delete n.y,e=this.getAbsoluteTransform(),e.invert(),e.translate(t.x,t.y),t={x:this.attrs.x+e.getTranslation().x,y:this.attrs.y+e.getTranslation().y},this.setPosition({x:t.x,y:t.y}),this._setTransform(n),this},_setTransform:function(t){var e;for(e in t)this.attrs[e]=t[e];this._clearCache(b),this._clearSelfAndDescendantCache(n)},_clearTransform:function(){var t={x:this.getX(),y:this.getY(),rotation:this.getRotation(),scaleX:this.getScaleX(),scaleY:this.getScaleY(),offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),skewX:this.getSkewX(),skewY:this.getSkewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,this._clearCache(b),this._clearSelfAndDescendantCache(n),t},move:function(t){var e=t.x,n=t.y,o=this.getX(),i=this.getY();return void 0!==e&&(o+=e),void 0!==n&&(i+=n),this.setPosition({x:o,y:i}),this},_eachAncestorReverse:function(t,e){var n,o,i=[],r=this.getParent();if(e&&e._id===this._id)return t(this),!0;for(i.unshift(this);r&&(!e||r._id!==e._id);)i.unshift(r),r=r.parent;for(n=i.length,o=0;o<n;o++)t(i[o])},rotate:function(t){return this.setRotation(this.getRotation()+t),this},moveToTop:function(){if(!this.parent)return t.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var e=this.index;return this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0},moveUp:function(){if(!this.parent)return t.Util.warn("Node has no parent. moveUp function is ignored."),!1;var e=this.index,n=this.parent.getChildren().length;return e<n-1&&(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0)},moveDown:function(){if(!this.parent)return t.Util.warn("Node has no parent. moveDown function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0)},moveToBottom:function(){if(!this.parent)return t.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var e=this.index;return e>0&&(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)},setZIndex:function(e){if(!this.parent)return t.Util.warn("Node has no parent. zIndex parameter is ignored."),!1;var n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this},getAbsoluteOpacity:function(){return this._getCache(e,this._getAbsoluteOpacity)},_getAbsoluteOpacity:function(){var t=this.getOpacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=this.getParent().getAbsoluteOpacity()),t},moveTo:function(t){return this.getParent()!==t&&((this.__originalRemove||this.remove).call(this),t.add(this)),this},toObject:function(){var e,n,o,i,r={},a=this.getAttrs();r.attrs={};for(e in a)n=a[e],o=this[e],delete a[e],i=o?o.call(this):null,a[e]=n,i!==n&&(r.attrs[e]=n);return r.className=this.getClassName(),t.Util._prepareToStringify(r)},toJSON:function(){return JSON.stringify(this.toObject())},getParent:function(){return this.parent},findAncestors:function(t,e,n){var o=[];e&&this._isMatch(t)&&o.push(this);for(var i=this.parent;i;){if(i===n)return o;i._isMatch(t)&&o.push(i),i=i.parent}return o},findAncestor:function(t,e,n){return this.findAncestors(t,e,n)[0]},_isMatch:function(e){if(!e)return!1;var n,o,i=e.replace(/ /g,"").split(","),r=i.length;for(n=0;n<r;n++)if(o=i[n],t.Util.isValidSelector(o)||(t.Util.warn('Selector "'+o+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),t.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),t.Util.warn("Konva is awesome, right?")),"#"===o.charAt(0)){if(this.id()===o.slice(1))return!0}else if("."===o.charAt(0)){if(this.hasName(o.slice(1)))return!0}else if(0!==this._get(o).length)return!0;return!1},getLayer:function(){var t=this.getParent();return t?t.getLayer():null},getStage:function(){return this._getCache(m,this._getStage)},_getStage:function(){var t=this.getParent();return t?t.getStage():void 0},fire:function(t,e,n){return e=e||{},e.target=e.target||this,n?this._fireAndBubble(t,e):this._fire(t,e),this},getAbsoluteTransform:function(t){return t?this._getAbsoluteTransform(t):this._getCache(n,this._getAbsoluteTransform)},_getAbsoluteTransform:function(e){var n,o,i=new t.Transform;return this._eachAncestorReverse(function(t){n=t.transformsEnabled(),o=t.getTransform(),"all"===n?i.multiply(o):"position"===n&&i.translate(t.x(),t.y())},e),i},getAbsoluteScale:function(t){return t?this._getAbsoluteTransform(t):this._getCache(o,this._getAbsoluteScale)},_getAbsoluteScale:function(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();var n=1,o=1;return this._eachAncestorReverse(function(t){n*=t.scaleX(),o*=t.scaleY()},t),{x:n,y:o}},getTransform:function(){return this._getCache(b,this._getTransform)},_getTransform:function(){var e=new t.Transform,n=this.getX(),o=this.getY(),i=t.getAngle(this.getRotation()),r=this.getScaleX(),a=this.getScaleY(),s=this.getSkewX(),p=this.getSkewY(),h=this.getOffsetX(),u=this.getOffsetY();return 0===n&&0===o||e.translate(n,o),0!==i&&e.rotate(i),0===s&&0===p||e.skew(s,p),1===r&&1===a||e.scale(r,a),0===h&&0===u||e.translate(-1*h,-1*u),e},clone:function(e){var n,o,i,r,a,s=t.Util.cloneObject(this.attrs);for(var p in w){var h=w[p];delete s[h]}for(n in e)s[n]=e[n];var l=new this.constructor(s);for(n in this.eventListeners)for(o=this.eventListeners[n],i=o.length,r=0;r<i;r++)a=o[r],a.name.indexOf(u)<0&&(l.eventListeners[n]||(l.eventListeners[n]=[]),l.eventListeners[n].push(a));return l},_toKonvaCanvas:function(e){e=e||{};var n=this.getStage(),o=e.x||0,i=e.y||0,r=e.pixelRatio||1,a=new t.SceneCanvas({width:e.width||this.getWidth()||(n?n.getWidth():0),height:e.height||this.getHeight()||(n?n.getHeight():0),pixelRatio:r}),s=a.getContext();return s.save(),(o||i)&&s.translate(-1*o,-1*i),this.drawScene(a),s.restore(),a},toCanvas:function(t){return this._toKonvaCanvas(t)._canvas},toDataURL:function(t){t=t||{};var e=t.mimeType||null,n=t.quality||null;return this._toKonvaCanvas(t).toDataURL(e,n)},toImage:function(e){if(!e||!e.callback)throw"callback required for toImage method config argument";t.Util._getImage(this.toDataURL(e),function(t){e.callback(t)})},setSize:function(t){return this.setWidth(t.width),this.setHeight(t.height),this},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getWidth:function(){return this.attrs.width||0},getHeight:function(){return this.attrs.height||0},getClassName:function(){return this.className||this.nodeType},getType:function(){return this.nodeType},getDragDistance:function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():t.dragDistance},_get:function(t){return this.className===t||this.nodeType===t?[this]:[]},_off:function(t,e){var n,o,i=this.eventListeners[t];for(n=0;n<i.length;n++)if(o=i[n].name,!("konva"===o&&"konva"!==e||e&&o!==e)){if(i.splice(n,1),0===i.length){delete this.eventListeners[t];break}n--}},_fireChangeEvent:function(t,e,n){this._fire(t+i,{oldVal:e,newVal:n})},setId:function(e){var n=this.getId();return t._removeId(n),t._addId(this,e),this._setAttr(h,e),this},setName:function(e){var n,o,i=(this.getName()||"").split(/\s/g),r=(e||"").split(/\s/g);for(o=0;o<i.length;o++)n=i[o],r.indexOf(n)===-1&&n&&t._removeName(n,this._id);for(o=0;o<r.length;o++)n=r[o],i.indexOf(n)===-1&&n&&t._addName(this,n);return this._setAttr(d,e),this},addName:function(t){if(!this.hasName(t)){var e=this.name(),n=e?e+" "+t:t;this.setName(n)}return this},hasName:function(t){var e=(this.name()||"").split(/\s/g);return e.indexOf(t)!==-1},removeName:function(t){var e=(this.name()||"").split(/\s/g),n=e.indexOf(t);return n!==-1&&(e.splice(n,1),this.setName(e.join(" "))),this},setAttr:function(e,n){var o=y+t.Util._capitalize(e),i=this[o];return t.Util._isFunction(i)?i.call(this,n):this._setAttr(e,n),this},_setAttr:function(t,e){var n;n=this.attrs[t],n!==e&&(void 0===e||null===e?delete this.attrs[t]:this.attrs[t]=e,this._fireChangeEvent(t,n,e))},_setComponentAttr:function(t,e,n){var o;void 0!==n&&(o=this.attrs[t],o||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=n,this._fireChangeEvent(t,o,n))},_fireAndBubble:function(t,e,n){var o=!0;if(e&&this.nodeType===v&&(e.target=this),t===c&&n&&(this._id===n._id||this.isAncestorOf&&this.isAncestorOf(n))?o=!1:t===f&&n&&(this._id===n._id||this.isAncestorOf&&this.isAncestorOf(n))&&(o=!1),o){this._fire(t,e);var i=(t===c||t===f)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!i&&(n&&n.parent?this._fireAndBubble.call(this.parent,t,e,n.parent):this._fireAndBubble.call(this.parent,t,e))}},_fire:function(t,e){var n,o=this.eventListeners[t];if(e=e||{},e.currentTarget=this,e.type=t,o)for(n=0;n<o.length;n++)o[n].handler.call(this,e)},draw:function(){return this.drawScene(),this.drawHit(),this}}),t.Node.create=function(e,n){return t.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)},t.Node._createNode=function(e,n){var o,i,r,a=t.Node.prototype.getClassName.call(e),s=e.children;if(n&&(e.attrs.container=n),o=new t[a](e.attrs),s)for(i=s.length,r=0;r<i;r++)o.add(this._createNode(s[r]));return o},t.Factory.addOverloadedGetterSetter(t.Node,"position"),t.Factory.addGetterSetter(t.Node,"x",0),t.Factory.addGetterSetter(t.Node,"y",0),t.Factory.addGetterSetter(t.Node,"globalCompositeOperation","source-over"),t.Factory.addGetterSetter(t.Node,"opacity",1),t.Factory.addGetter(t.Node,"name"),t.Factory.addOverloadedGetterSetter(t.Node,"name"),t.Factory.addGetter(t.Node,"id"),t.Factory.addOverloadedGetterSetter(t.Node,"id"),t.Factory.addGetterSetter(t.Node,"rotation",0),t.Factory.addComponentsGetterSetter(t.Node,"scale",["x","y"]),t.Factory.addGetterSetter(t.Node,"scaleX",1),t.Factory.addGetterSetter(t.Node,"scaleY",1),t.Factory.addComponentsGetterSetter(t.Node,"skew",["x","y"]),t.Factory.addGetterSetter(t.Node,"skewX",0),t.Factory.addGetterSetter(t.Node,"skewY",0),t.Factory.addComponentsGetterSetter(t.Node,"offset",["x","y"]),t.Factory.addGetterSetter(t.Node,"offsetX",0),t.Factory.addGetterSetter(t.Node,"offsetY",0),t.Factory.addSetter(t.Node,"dragDistance"),t.Factory.addOverloadedGetterSetter(t.Node,"dragDistance"),t.Factory.addSetter(t.Node,"width",0),t.Factory.addOverloadedGetterSetter(t.Node,"width"),t.Factory.addSetter(t.Node,"height",0),t.Factory.addOverloadedGetterSetter(t.Node,"height"),t.Factory.addGetterSetter(t.Node,"listening","inherit"),t.Factory.addGetterSetter(t.Node,"preventDefault",!0),t.Factory.addGetterSetter(t.Node,"filters",void 0,function(t){return this._filterUpToDate=!1,t}),t.Factory.addGetterSetter(t.Node,"visible","inherit"),t.Factory.addGetterSetter(t.Node,"transformsEnabled","all"),t.Factory.addOverloadedGetterSetter(t.Node,"size"),t.Factory.backCompat(t.Node,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),t.Collection.mapMethods(t.Node)}(Konva),function(){"use strict";Konva.Filters.Grayscale=function(t){var e,n,o=t.data,i=o.length;for(e=0;e<i;e+=4)n=.34*o[e]+.5*o[e+1]+.16*o[e+2],o[e]=n,o[e+1]=n,o[e+2]=n}}(),function(){"use strict";Konva.Filters.Brighten=function(t){var e,n=255*this.brightness(),o=t.data,i=o.length;for(e=0;e<i;e+=4)o[e]+=n,o[e+1]+=n,o[e+2]+=n},Konva.Factory.addGetterSetter(Konva.Node,"brightness",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Invert=function(t){var e,n=t.data,o=n.length;for(e=0;e<o;e+=4)n[e]=255-n[e],n[e+1]=255-n[e+1],n[e+2]=255-n[e+2]}}(),function(){"use strict";function t(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}function e(e,i){var r,a,s,p,h,u,l,c,f,d,y,v,g,m,b,x,_,w,P,S,C,M,T,A,E=e.data,L=e.width,I=e.height,N=i+i+1,O=L-1,k=I-1,R=i+1,D=R*(R+1)/2,F=new t,j=null,K=F,B=null,X=null,U=n[i],Y=o[i];for(s=1;s<N;s++)K=K.next=new t,s===R&&(j=K);for(K.next=F,l=u=0,a=0;a<I;a++){for(x=_=w=P=c=f=d=y=0,v=R*(S=E[u]),g=R*(C=E[u+1]),m=R*(M=E[u+2]),b=R*(T=E[u+3]),c+=D*S,f+=D*C,d+=D*M,y+=D*T,K=F,s=0;s<R;s++)K.r=S,K.g=C,K.b=M,K.a=T,K=K.next;for(s=1;s<R;s++)p=u+((O<s?O:s)<<2),c+=(K.r=S=E[p])*(A=R-s),f+=(K.g=C=E[p+1])*A,d+=(K.b=M=E[p+2])*A,y+=(K.a=T=E[p+3])*A,x+=S,_+=C,w+=M,P+=T,K=K.next;for(B=F,X=j,r=0;r<L;r++)E[u+3]=T=y*U>>Y,0!==T?(T=255/T,E[u]=(c*U>>Y)*T,E[u+1]=(f*U>>Y)*T,E[u+2]=(d*U>>Y)*T):E[u]=E[u+1]=E[u+2]=0,c-=v,f-=g,d-=m,y-=b,v-=B.r,g-=B.g,m-=B.b,b-=B.a,p=l+((p=r+i+1)<O?p:O)<<2,x+=B.r=E[p],_+=B.g=E[p+1],w+=B.b=E[p+2],P+=B.a=E[p+3],c+=x,f+=_,d+=w,y+=P,B=B.next,v+=S=X.r,g+=C=X.g,m+=M=X.b,b+=T=X.a,x-=S,_-=C,w-=M,P-=T,X=X.next,u+=4;l+=L}for(r=0;r<L;r++){for(_=w=P=x=f=d=y=c=0,u=r<<2,v=R*(S=E[u]),g=R*(C=E[u+1]),m=R*(M=E[u+2]),b=R*(T=E[u+3]),c+=D*S,f+=D*C,d+=D*M,y+=D*T,K=F,s=0;s<R;s++)K.r=S,K.g=C,K.b=M,K.a=T,K=K.next;for(h=L,s=1;s<=i;s++)u=h+r<<2,c+=(K.r=S=E[u])*(A=R-s),f+=(K.g=C=E[u+1])*A,d+=(K.b=M=E[u+2])*A,y+=(K.a=T=E[u+3])*A,x+=S,_+=C,w+=M,P+=T,K=K.next,s<k&&(h+=L);for(u=r,B=F,X=j,a=0;a<I;a++)p=u<<2,E[p+3]=T=y*U>>Y,T>0?(T=255/T,E[p]=(c*U>>Y)*T,E[p+1]=(f*U>>Y)*T,E[p+2]=(d*U>>Y)*T):E[p]=E[p+1]=E[p+2]=0,c-=v,f-=g,d-=m,y-=b,v-=B.r,g-=B.g,m-=B.b,b-=B.a,p=r+((p=a+R)<k?p:k)*L<<2,c+=x+=B.r=E[p],f+=_+=B.g=E[p+1],d+=w+=B.b=E[p+2],y+=P+=B.a=E[p+3],B=B.next,v+=S=X.r,g+=C=X.g,m+=M=X.b,b+=T=X.a,x-=S,_-=C,w-=M,P-=T,X=X.next,u+=L}}var n=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],o=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];Konva.Filters.Blur=function(t){var n=Math.round(this.blurRadius());n>0&&e(t,n)},Konva.Factory.addGetterSetter(Konva.Node,"blurRadius",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";function t(t,e,n){var o=4*(n*t.width+e),i=[];return i.push(t.data[o++],t.data[o++],t.data[o++],t.data[o++]),i}function e(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function n(t){for(var e=[0,0,0],n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function o(o,i){var r=t(o,0,0),a=t(o,o.width-1,0),s=t(o,0,o.height-1),p=t(o,o.width-1,o.height-1),h=i||10;if(e(r,a)<h&&e(a,p)<h&&e(p,s)<h&&e(s,r)<h){for(var u=n([a,r,p,s]),l=[],c=0;c<o.width*o.height;c++){var f=e(u,[o.data[4*c],o.data[4*c+1],o.data[4*c+2]]);l[c]=f<h?0:255}return l}}function i(t,e){for(var n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function r(t,e,n){for(var o=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(o.length)),r=Math.floor(i/2),a=[],s=0;s<n;s++)for(var p=0;p<e;p++){for(var h=s*e+p,u=0,l=0;l<i;l++)for(var c=0;c<i;c++){var f=s+l-r,d=p+c-r;if(f>=0&&f<n&&d>=0&&d<e){var y=f*e+d,v=o[l*i+c];u+=t[y]*v}}a[h]=2040===u?255:0}return a}function a(t,e,n){for(var o=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(o.length)),r=Math.floor(i/2),a=[],s=0;s<n;s++)for(var p=0;p<e;p++){for(var h=s*e+p,u=0,l=0;l<i;l++)for(var c=0;c<i;c++){var f=s+l-r,d=p+c-r;if(f>=0&&f<n&&d>=0&&d<e){var y=f*e+d,v=o[l*i+c];u+=t[y]*v}}a[h]=u>=1020?255:0}return a}function s(t,e,n){for(var o=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],i=Math.round(Math.sqrt(o.length)),r=Math.floor(i/2),a=[],s=0;s<n;s++)for(var p=0;p<e;p++){for(var h=s*e+p,u=0,l=0;l<i;l++)for(var c=0;c<i;c++){var f=s+l-r,d=p+c-r;if(f>=0&&f<n&&d>=0&&d<e){var y=f*e+d,v=o[l*i+c];u+=t[y]*v}}a[h]=u}return a}Konva.Filters.Mask=function(t){var e=this.threshold(),n=o(t,e);return n&&(n=r(n,t.width,t.height),n=a(n,t.width,t.height),n=s(n,t.width,t.height),i(t,n)),t},Konva.Factory.addGetterSetter(Konva.Node,"threshold",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.RGB=function(t){var e,n,o=t.data,i=o.length,r=this.red(),a=this.green(),s=this.blue();for(e=0;e<i;e+=4)n=(.34*o[e]+.5*o[e+1]+.16*o[e+2])/255,o[e]=n*r,o[e+1]=n*a,o[e+2]=n*s,o[e+3]=o[e+3]},Konva.Factory.addGetterSetter(Konva.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),Konva.Factory.addGetterSetter(Konva.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),Konva.Factory.addGetterSetter(Konva.Node,"blue",0,Konva.Validators.RGBComponent,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.RGBA=function(t){var e,n,o=t.data,i=o.length,r=this.red(),a=this.green(),s=this.blue(),p=this.alpha();for(e=0;e<i;e+=4)n=1-p,o[e]=r*p+o[e]*n,o[e+1]=a*p+o[e+1]*n,o[e+2]=s*p+o[e+2]*n},Konva.Factory.addGetterSetter(Konva.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),Konva.Factory.addGetterSetter(Konva.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)}),Konva.Factory.addGetterSetter(Konva.Node,"blue",0,Konva.Validators.RGBComponent,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t})}(),function(){"use strict";Konva.Filters.HSV=function(t){var e,n,o,i,r,a=t.data,s=a.length,p=Math.pow(2,this.value()),h=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,l=p*h*Math.cos(u*Math.PI/180),c=p*h*Math.sin(u*Math.PI/180),f=.299*p+.701*l+.167*c,d=.587*p-.587*l+.33*c,y=.114*p-.114*l-.497*c,v=.299*p-.299*l-.328*c,g=.587*p+.413*l+.035*c,m=.114*p-.114*l+.293*c,b=.299*p-.3*l+1.25*c,x=.587*p-.586*l-1.05*c,_=.114*p+.886*l-.2*c;for(e=0;e<s;e+=4)n=a[e+0],o=a[e+1],i=a[e+2],r=a[e+3],a[e+0]=f*n+d*o+y*i,a[e+1]=v*n+g*o+m*i,a[e+2]=b*n+x*o+_*i,a[e+3]=r},Konva.Factory.addGetterSetter(Konva.Node,"hue",0,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"saturation",0,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"value",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Factory.addGetterSetter(Konva.Node,"hue",0,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"saturation",0,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"luminance",0,null,Konva.Factory.afterSetFilter),Konva.Filters.HSL=function(t){var e,n,o,i,r,a=t.data,s=a.length,p=1,h=Math.pow(2,this.saturation()),u=Math.abs(this.hue()+360)%360,l=127*this.luminance(),c=p*h*Math.cos(u*Math.PI/180),f=p*h*Math.sin(u*Math.PI/180),d=.299*p+.701*c+.167*f,y=.587*p-.587*c+.33*f,v=.114*p-.114*c-.497*f,g=.299*p-.299*c-.328*f,m=.587*p+.413*c+.035*f,b=.114*p-.114*c+.293*f,x=.299*p-.3*c+1.25*f,_=.587*p-.586*c-1.05*f,w=.114*p+.886*c-.2*f;for(e=0;e<s;e+=4)n=a[e+0],o=a[e+1],i=a[e+2],r=a[e+3],a[e+0]=d*n+y*o+v*i+l,a[e+1]=g*n+m*o+b*i+l,a[e+2]=x*n+_*o+w*i+l,a[e+3]=r}}(),function(){"use strict";Konva.Filters.Emboss=function(t){var e=10*this.embossStrength(),n=255*this.embossWhiteLevel(),o=this.embossDirection(),i=this.embossBlend(),r=0,a=0,s=t.data,p=t.width,h=t.height,u=4*p,l=h;switch(o){case"top-left":r=-1,a=-1;break;case"top":r=-1,a=0;break;case"top-right":r=-1,a=1;break;case"right":r=0,a=1;break;case"bottom-right":r=1,a=1;break;case"bottom":r=1,a=0;break;case"bottom-left":r=1,a=-1;break;case"left":r=0,a=-1;break;default:Konva.Util.error("Unknown emboss direction: "+o)}do{var c=(l-1)*u,f=r;l+f<1&&(f=0),l+f>h&&(f=0);var d=(l-1+f)*p*4,y=p;do{var v=c+4*(y-1),g=a;y+g<1&&(g=0),y+g>p&&(g=0);var m=d+4*(y-1+g),b=s[v]-s[m],x=s[v+1]-s[m+1],_=s[v+2]-s[m+2],w=b,P=w>0?w:-w,S=x>0?x:-x,C=_>0?_:-_;if(S>P&&(w=x),C>P&&(w=_),w*=e,i){var M=s[v]+w,T=s[v+1]+w,A=s[v+2]+w;s[v]=M>255?255:M<0?0:M,s[v+1]=T>255?255:T<0?0:T,s[v+2]=A>255?255:A<0?0:A}else{var E=n-w;E<0?E=0:E>255&&(E=255),s[v]=s[v+1]=s[v+2]=E}}while(--y)}while(--l)},Konva.Factory.addGetterSetter(Konva.Node,"embossStrength",.5,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"embossWhiteLevel",.5,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"embossDirection","top-left",null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"embossBlend",!1,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";function t(t,e,n,o,i){var r,a=n-e,s=i-o;return 0===a?o+s/2:0===s?o:(r=(t-e)/a,r=s*r+o)}Konva.Filters.Enhance=function(e){var n,o,i,r,a=e.data,s=a.length,p=a[0],h=p,u=a[1],l=u,c=a[2],f=c,d=this.enhance();if(0!==d){for(r=0;r<s;r+=4)n=a[r+0],n<p?p=n:n>h&&(h=n),o=a[r+1],o<u?u=o:o>l&&(l=o),i=a[r+2],i<c?c=i:i>f&&(f=i);h===p&&(h=255,p=0),l===u&&(l=255,u=0),f===c&&(f=255,c=0);var y,v,g,m,b,x,_,w,P;for(d>0?(v=h+d*(255-h),g=p-d*(p-0),b=l+d*(255-l),x=u-d*(u-0),w=f+d*(255-f),P=c-d*(c-0)):(y=.5*(h+p),v=h+d*(h-y),g=p+d*(p-y),m=.5*(l+u),b=l+d*(l-m),x=u+d*(u-m),_=.5*(f+c),w=f+d*(f-_),P=c+d*(c-_)),r=0;r<s;r+=4)a[r+0]=t(a[r+0],p,h,g,v),a[r+1]=t(a[r+1],u,l,x,b),a[r+2]=t(a[r+2],c,f,P,w)}},Konva.Factory.addGetterSetter(Konva.Node,"enhance",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Posterize=function(t){var e,n=Math.round(254*this.levels())+1,o=t.data,i=o.length,r=255/n;for(e=0;e<i;e+=1)o[e]=Math.floor(o[e]/r)*r},Konva.Factory.addGetterSetter(Konva.Node,"levels",.5,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Noise=function(t){var e,n=255*this.noise(),o=t.data,i=o.length,r=n/2;for(e=0;e<i;e+=4)o[e+0]+=r-2*r*Math.random(),o[e+1]+=r-2*r*Math.random(),o[e+2]+=r-2*r*Math.random()},Konva.Factory.addGetterSetter(Konva.Node,"noise",.2,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Pixelate=function(t){var e,n,o,i,r,a,s,p,h,u,l,c,f,d,y=Math.ceil(this.pixelSize()),v=t.width,g=t.height,m=Math.ceil(v/y),b=Math.ceil(g/y);if(t=t.data,y<=0)return void Konva.Util.error("pixelSize value can not be <= 0");for(c=0;c<m;c+=1)for(f=0;f<b;f+=1){for(i=0,r=0,a=0,s=0,p=c*y,h=p+y,u=f*y,l=u+y,d=0,e=p;e<h;e+=1)if(!(e>=v))for(n=u;n<l;n+=1)n>=g||(o=4*(v*n+e),i+=t[o+0],r+=t[o+1],a+=t[o+2],s+=t[o+3],d+=1);for(i/=d,r/=d,a/=d,e=p;e<h;e+=1)if(!(e>=v))for(n=u;n<l;n+=1)n>=g||(o=4*(v*n+e),t[o+0]=i,t[o+1]=r,t[o+2]=a,t[o+3]=s)}},Konva.Factory.addGetterSetter(Konva.Node,"pixelSize",8,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Filters.Threshold=function(t){var e,n=255*this.threshold(),o=t.data,i=o.length;for(e=0;e<i;e+=1)o[e]=o[e]<n?0:255},Konva.Factory.addGetterSetter(Konva.Node,"threshold",.5,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";/**
	     * Sepia Filter
	     * Based on: Pixastic Lib - Sepia filter - v0.1.0
	     * Copyright (c) 2008 Jacob Seidelin, jseidelin@nihilogic.dk, http://blog.nihilogic.dk/
	     * @function
	     * @name Sepia
	     * @memberof Konva.Filters
	     * @param {Object} imageData
	     * @author Jacob Seidelin <jseidelin@nihilogic.dk>
	     * @license MPL v1.1 [http://www.pixastic.com/lib/license.txt]
	     * @example
	     * node.cache();
	     * node.filters([Konva.Filters.Sepia]);
	     */
Konva.Filters.Sepia=function(t){var e,n,o,i,r,a,s,p,h,u=t.data,l=t.width,c=t.height,f=4*l;do{e=(c-1)*f,n=l;do o=e+4*(n-1),i=u[o],r=u[o+1],a=u[o+2],s=.393*i+.769*r+.189*a,p=.349*i+.686*r+.168*a,h=.272*i+.534*r+.131*a,u[o]=s>255?255:s,u[o+1]=p>255?255:p,u[o+2]=h>255?255:h,u[o+3]=u[o+3];while(--n)}while(--c)}}(),function(){"use strict";Konva.Filters.Solarize=function(t){var e=t.data,n=t.width,o=t.height,i=4*n,r=o;do{var a=(r-1)*i,s=n;do{var p=a+4*(s-1),h=e[p],u=e[p+1],l=e[p+2];h>127&&(h=255-h),u>127&&(u=255-u),l>127&&(l=255-l),e[p]=h,e[p+1]=u,e[p+2]=l}while(--s)}while(--r)}}(),function(){"use strict";var t=function(t,e,n){var o,i,r,a,s=t.data,p=e.data,h=t.width,u=t.height,l=n.polarCenterX||h/2,c=n.polarCenterY||u/2,f=0,d=0,y=0,v=0,g=Math.sqrt(l*l+c*c);i=h-l,r=u-c,a=Math.sqrt(i*i+r*r),g=a>g?a:g;var m,b,x,_,w=u,P=h,S=360/P*Math.PI/180;for(b=0;b<P;b+=1)for(x=Math.sin(b*S),_=Math.cos(b*S),m=0;m<w;m+=1)i=Math.floor(l+g*m/w*_),r=Math.floor(c+g*m/w*x),o=4*(r*h+i),f=s[o+0],d=s[o+1],y=s[o+2],v=s[o+3],o=4*(b+m*h),p[o+0]=f,p[o+1]=d,p[o+2]=y,p[o+3]=v},e=function(t,e,n){var o,i,r,a,s,p,h=t.data,u=e.data,l=t.width,c=t.height,f=n.polarCenterX||l/2,d=n.polarCenterY||c/2,y=0,v=0,g=0,m=0,b=Math.sqrt(f*f+d*d);i=l-f,r=c-d,p=Math.sqrt(i*i+r*r),b=p>b?p:b;var x,_,w,P,S=c,C=l,M=n.polarRotation||0;for(i=0;i<l;i+=1)for(r=0;r<c;r+=1)a=i-f,s=r-d,x=Math.sqrt(a*a+s*s)*S/b,_=(180*Math.atan2(s,a)/Math.PI+360+M)%360,_=_*C/360,w=Math.floor(_),P=Math.floor(x),o=4*(P*l+w),y=h[o+0],v=h[o+1],g=h[o+2],m=h[o+3],o=4*(r*l+i),u[o+0]=y,u[o+1]=v,u[o+2]=g,u[o+3]=m},n=Konva.Util.createCanvasElement();Konva.Filters.Kaleidoscope=function(o){var i,r,a,s,p,h,u,l,c,f,d=o.width,y=o.height,v=Math.round(this.kaleidoscopePower()),g=Math.round(this.kaleidoscopeAngle()),m=Math.floor(d*(g%360)/360);if(!(v<1)){n.width=d,n.height=y;var b=n.getContext("2d").getImageData(0,0,d,y);t(o,b,{polarCenterX:d/2,polarCenterY:y/2});for(var x=d/Math.pow(2,v);x<=8;)x*=2,v-=1;x=Math.ceil(x);var _=x,w=0,P=_,S=1;for(m+x>d&&(w=_,P=0,S=-1),r=0;r<y;r+=1)for(i=w;i!==P;i+=S)a=Math.round(i+m)%d,c=4*(d*r+a),p=b.data[c+0],h=b.data[c+1],u=b.data[c+2],l=b.data[c+3],f=4*(d*r+i),b.data[f+0]=p,b.data[f+1]=h,b.data[f+2]=u,b.data[f+3]=l;for(r=0;r<y;r+=1)for(_=Math.floor(x),s=0;s<v;s+=1){for(i=0;i<_+1;i+=1)c=4*(d*r+i),p=b.data[c+0],h=b.data[c+1],u=b.data[c+2],l=b.data[c+3],f=4*(d*r+2*_-i-1),b.data[f+0]=p,b.data[f+1]=h,b.data[f+2]=u,b.data[f+3]=l;_*=2}e(b,o,{polarRotation:0})}},Konva.Factory.addGetterSetter(Konva.Node,"kaleidoscopePower",2,null,Konva.Factory.afterSetFilter),Konva.Factory.addGetterSetter(Konva.Node,"kaleidoscopeAngle",0,null,Konva.Factory.afterSetFilter)}(),function(){"use strict";Konva.Container=function(t){this.__init(t)},Konva.Util.addMethods(Konva.Container,{__init:function(t){this.children=new Konva.Collection,Konva.Node.call(this,t)},getChildren:function(t){if(!t)return this.children;var e=new Konva.Collection;return this.children.each(function(n){t(n)&&e.push(n)}),e},hasChildren:function(){return this.getChildren().length>0},removeChildren:function(){for(var t,e=Konva.Collection.toCollection(this.children),n=0;n<e.length;n++)t=e[n],delete t.parent,t.index=0,t.remove();return e=null,this.children=new Konva.Collection,this},destroyChildren:function(){for(var t,e=Konva.Collection.toCollection(this.children),n=0;n<e.length;n++)t=e[n],delete t.parent,t.index=0,t.destroy();return e=null,this.children=new Konva.Collection,this},add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}if(t.getParent())return t.moveTo(this),this;var n=this.children;return this._validateAdd(t),t.index=n.length,t.parent=this,n.push(t),this._fire("add",{child:t}),Konva.DD&&t.isDragging()&&Konva.DD.anim.setLayers(t.getLayer()),this},destroy:function(){return this.hasChildren()&&this.destroyChildren(),Konva.Node.prototype.destroy.call(this),this},find:function(t){var e,n,o,i,r,a,s,p=[],h=t.replace(/ /g,"").split(","),u=h.length;for(e=0;e<u;e++)if(o=h[e],Konva.Util.isValidSelector(o)||(Konva.Util.warn('Selector "'+o+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),Konva.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),Konva.Util.warn("Konva is awesome, right?")),"#"===o.charAt(0))r=this._getNodeById(o.slice(1)),r&&p.push(r);else if("."===o.charAt(0))i=this._getNodesByName(o.slice(1)),p=p.concat(i);else for(a=this.getChildren(),s=a.length,n=0;n<s;n++)p=p.concat(a[n]._get(o));return Konva.Collection.toCollection(p)},findOne:function(t){return this.find(t)[0]},_getNodeById:function(t){var e=Konva.ids[t];return void 0!==e&&this.isAncestorOf(e)?e:null},_getNodesByName:function(t){var e=Konva.names[t]||[];return this._getDescendants(e)},_get:function(t){for(var e=Konva.Node.prototype._get.call(this,t),n=this.getChildren(),o=n.length,i=0;i<o;i++)e=e.concat(n[i]._get(t));return e},toObject:function(){var t=Konva.Node.prototype.toObject.call(this);t.children=[];for(var e=this.getChildren(),n=e.length,o=0;o<n;o++){var i=e[o];t.children.push(i.toObject())}return t},_getDescendants:function(t){for(var e=[],n=t.length,o=0;o<n;o++){var i=t[o];this.isAncestorOf(i)&&e.push(i)}return e},isAncestorOf:function(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1},clone:function(t){var e=Konva.Node.prototype.clone.call(this,t);return this.getChildren().each(function(t){e.add(t.clone())}),e},getAllIntersections:function(t){var e=[];return this.find("Shape").each(function(n){n.isVisible()&&n.intersects(t)&&e.push(n)}),e},_setChildrenIndices:function(){this.children.each(function(t,e){t.index=e})},drawScene:function(t,e,n){var o=this.getLayer(),i=t||o&&o.getCanvas(),r=i&&i.getContext(),a=this._cache.canvas,s=a&&a.scene;return this.isVisible()&&(!n&&s?(r.save(),o._applyTransform(this,r,e),this._drawCachedSceneCanvas(r),r.restore()):this._drawChildren(i,"drawScene",e,!1,n)),this},drawHit:function(t,e,n){var o=this.getLayer(),i=t||o&&o.hitCanvas,r=i&&i.getContext(),a=this._cache.canvas,s=a&&a.hit;return this.shouldDrawHit(i)&&(o&&o.clearHitCache(),!n&&s?(r.save(),o._applyTransform(this,r,e),this._drawCachedHitCanvas(r),r.restore()):this._drawChildren(i,"drawHit",e)),this},_drawChildren:function(t,e,n,o,i){var r,a,s=this.getLayer(),p=t&&t.getContext(),h=this.getClipWidth(),u=this.getClipHeight(),l=this.getClipFunc(),c=h&&u||l;if(c&&s){p.save();var f=this.getAbsoluteTransform(n),d=f.getMatrix();p.transform(d[0],d[1],d[2],d[3],d[4],d[5]),p.beginPath(),l?l.call(this,p,this):(r=this.getClipX(),a=this.getClipY(),p.rect(r,a,h,u)),p.clip(),d=f.copy().invert().getMatrix(),p.transform(d[0],d[1],d[2],d[3],d[4],d[5])}this.children.each(function(r){r[e](t,n,o,i)}),c&&p.restore()},shouldDrawHit:function(t){var e=this.getLayer(),n=Konva.DD,o=n&&Konva.isDragging()&&Konva.DD.anim.getLayers().indexOf(e)!==-1;return t&&t.isCache||e&&e.hitGraphEnabled()&&this.isVisible()&&!o},getClientRect:function(t){var e,n,o,i,r={x:0,y:0,width:0,height:0};return this.children.each(function(t){var r=t.getClientRect();void 0===e?(e=r.x,n=r.y,o=r.x+r.width,i=r.y+r.height):(e=Math.min(e,r.x),n=Math.min(n,r.y),o=Math.max(o,r.x+r.width),i=Math.max(i,r.y+r.height))}),0!==this.children.length&&(r={x:e,y:n,width:o-e,height:i-n}),t?r:this._transformedRect(r)}}),Konva.Util.extend(Konva.Container,Konva.Node),Konva.Container.prototype.get=Konva.Container.prototype.find,Konva.Factory.addComponentsGetterSetter(Konva.Container,"clip",["x","y","width","height"]),Konva.Factory.addGetterSetter(Konva.Container,"clipX"),Konva.Factory.addGetterSetter(Konva.Container,"clipY"),Konva.Factory.addGetterSetter(Konva.Container,"clipWidth"),Konva.Factory.addGetterSetter(Konva.Container,"clipHeight"),Konva.Factory.addGetterSetter(Konva.Container,"clipFunc"),Konva.Collection.mapMethods(Konva.Container)}(),function(t){"use strict";function e(t){t.fill()}function n(t){t.stroke()}function o(t){t.fill()}function i(t){t.stroke()}function r(){this._clearCache(s)}function a(){this._clearCache(p)}var s="hasShadow",p="shadowRGBA";t.Shape=function(t){this.__init(t)},t.Util.addMethods(t.Shape,{__init:function(s){this.nodeType="Shape",this._fillFunc=e,this._strokeFunc=n,this._fillFuncHit=o,this._strokeFuncHit=i;for(var p,h=t.shapes;;)if(p=t.Util.getRandomColor(),p&&!(p in h))break;this.colorKey=p,h[p]=this,t.Node.call(this,s),this.on("shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",r),this.on("shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",a)},hasChildren:function(){return!1},getChildren:function(){return[]},getContext:function(){return this.getLayer().getContext()},getCanvas:function(){return this.getLayer().getCanvas()},hasShadow:function(){return this._getCache(s,this._hasShadow)},_hasShadow:function(){return this.getShadowEnabled()&&0!==this.getShadowOpacity()&&!!(this.getShadowColor()||this.getShadowBlur()||this.getShadowOffsetX()||this.getShadowOffsetY())},getShadowRGBA:function(){return this._getCache(p,this._getShadowRGBA)},_getShadowRGBA:function(){if(this.hasShadow()){var e=t.Util.colorToRGBA(this.shadowColor());return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.getShadowOpacity()||1)+")"}},hasFill:function(){return!!(this.getFill()||this.getFillPatternImage()||this.getFillLinearGradientColorStops()||this.getFillRadialGradientColorStops())},hasStroke:function(){return this.strokeEnabled()&&!!this.stroke()},intersects:function(t){var e,n=this.getStage(),o=n.bufferHitCanvas;return o.getContext().clear(),this.drawHit(o),e=o.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data,e[3]>0},destroy:function(){return t.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],this},_useBufferCanvas:function(t){return!t&&this.perfectDrawEnabled()&&1!==this.getAbsoluteOpacity()&&this.hasFill()&&this.hasStroke()&&this.getStage()||this.perfectDrawEnabled()&&this.hasShadow()&&1!==this.getAbsoluteOpacity()&&this.hasFill()&&this.hasStroke()&&this.getStage()},getSelfRect:function(){var t=this.getSize();return{x:this._centroid?Math.round(-t.width/2):0,y:this._centroid?Math.round(-t.height/2):0,width:t.width,height:t.height}},getClientRect:function(t){var e=this.getSelfRect(),n=this.hasStroke()&&this.strokeWidth()||0,o=e.width+n,i=e.height+n,r=this.hasShadow()?this.shadowOffsetX():0,a=this.hasShadow()?this.shadowOffsetY():0,s=o+Math.abs(r),p=i+Math.abs(a),h=this.hasShadow()&&this.shadowBlur()||0,u=s+2*h,l=p+2*h,c=0;Math.round(n/2)!==n/2&&(c=1);var f={width:u+c,height:l+c,x:-Math.round(n/2+h)+Math.min(r,0)+e.x,y:-Math.round(n/2+h)+Math.min(a,0)+e.y};return t?f:this._transformedRect(f)},drawScene:function(t,e,n,o){var i,r,a,s=this.getLayer(),p=t||s.getCanvas(),h=p.getContext(),u=this._cache.canvas,l=this.sceneFunc(),c=this.hasShadow(),f=this.hasStroke();if(!this.isVisible())return this;if(u)return h.save(),s._applyTransform(this,h,e),this._drawCachedSceneCanvas(h),h.restore(),this;if(!l)return this;if(h.save(),this._useBufferCanvas(n)&&!o){if(i=this.getStage(),r=i.bufferCanvas,a=r.getContext(),a.clear(),a.save(),a._applyLineJoin(this),!n)if(s)s._applyTransform(this,a,e);else{var d=this.getAbsoluteTransform(e).getMatrix();h.transform(d[0],d[1],d[2],d[3],d[4],d[5])}l.call(this,a),a.restore();var y=r.pixelRatio;c&&!p.hitCanvas?(h.save(),h._applyShadow(this),h._applyOpacity(this),h._applyGlobalCompositeOperation(this),h.drawImage(r._canvas,0,0,r.width/y,r.height/y),h.restore()):(h._applyOpacity(this),h._applyGlobalCompositeOperation(this),h.drawImage(r._canvas,0,0,r.width/y,r.height/y))}else{if(h._applyLineJoin(this),!n)if(s)s._applyTransform(this,h,e);else{var v=this.getAbsoluteTransform(e).getMatrix();h.transform(v[0],v[1],v[2],v[3],v[4],v[5])}c&&f&&!p.hitCanvas?(h.save(),n||(h._applyOpacity(this),h._applyGlobalCompositeOperation(this)),h._applyShadow(this),l.call(this,h),h.restore(),this.hasFill()&&this.getShadowForStrokeEnabled()&&l.call(this,h)):c&&!p.hitCanvas?(h.save(),n||(h._applyOpacity(this),h._applyGlobalCompositeOperation(this)),h._applyShadow(this),l.call(this,h),h.restore()):(n||(h._applyOpacity(this),h._applyGlobalCompositeOperation(this)),l.call(this,h))}return h.restore(),this},drawHit:function(t,e,n){var o=this.getLayer(),i=t||o.hitCanvas,r=i.getContext(),a=this.hitFunc()||this.sceneFunc(),s=this._cache.canvas,p=s&&s.hit;if(!this.shouldDrawHit(i))return this;if(o&&o.clearHitCache(),p)return r.save(),o._applyTransform(this,r,e),this._drawCachedHitCanvas(r),r.restore(),this;if(!a)return this;if(r.save(),r._applyLineJoin(this),!n)if(o)o._applyTransform(this,r,e);else{var h=this.getAbsoluteTransform(e).getMatrix();r.transform(h[0],h[1],h[2],h[3],h[4],h[5])}return a.call(this,r),r.restore(),this},drawHitFromCache:function(e){var n,o,i,r,a,s,p=e||0,h=this._cache.canvas,u=this._getCachedSceneCanvas(),l=h.hit,c=l.getContext(),f=l.getWidth(),d=l.getHeight();c.clear(),c.drawImage(u._canvas,0,0,f,d);try{for(n=c.getImageData(0,0,f,d),o=n.data,i=o.length,r=t.Util._hexToRgb(this.colorKey),a=0;a<i;a+=4)s=o[a+3],s>p?(o[a]=r.r,o[a+1]=r.g,o[a+2]=r.b,o[a+3]=255):o[a+3]=0;c.putImageData(n,0,0)}catch(e){t.Util.error("Unable to draw hit graph from cached scene canvas. "+e.message)}return this}}),t.Util.extend(t.Shape,t.Node),t.Factory.addGetterSetter(t.Shape,"stroke"),t.Factory.addDeprecatedGetterSetter(t.Shape,"strokeRed",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"strokeGreen",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"strokeBlue",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"strokeAlpha",1,t.Validators.alphaComponent),t.Factory.addGetterSetter(t.Shape,"strokeWidth",2),t.Factory.addGetterSetter(t.Shape,"strokeHitEnabled",!0),t.Factory.addGetterSetter(t.Shape,"perfectDrawEnabled",!0),t.Factory.addGetterSetter(t.Shape,"shadowForStrokeEnabled",!0),t.Factory.addGetterSetter(t.Shape,"lineJoin"),t.Factory.addGetterSetter(t.Shape,"lineCap"),t.Factory.addGetterSetter(t.Shape,"sceneFunc"),t.Factory.addGetterSetter(t.Shape,"hitFunc"),t.Factory.addGetterSetter(t.Shape,"dash"),t.Factory.addGetterSetter(t.Shape,"dashOffset",0),t.Factory.addGetterSetter(t.Shape,"shadowColor"),t.Factory.addDeprecatedGetterSetter(t.Shape,"shadowRed",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"shadowGreen",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"shadowBlue",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"shadowAlpha",1,t.Validators.alphaComponent),t.Factory.addGetterSetter(t.Shape,"shadowBlur"),t.Factory.addGetterSetter(t.Shape,"shadowOpacity"),t.Factory.addComponentsGetterSetter(t.Shape,"shadowOffset",["x","y"]),t.Factory.addGetterSetter(t.Shape,"shadowOffsetX",0),t.Factory.addGetterSetter(t.Shape,"shadowOffsetY",0),t.Factory.addGetterSetter(t.Shape,"fillPatternImage"),t.Factory.addGetterSetter(t.Shape,"fill"),t.Factory.addDeprecatedGetterSetter(t.Shape,"fillRed",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"fillGreen",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"fillBlue",0,t.Validators.RGBComponent),t.Factory.addDeprecatedGetterSetter(t.Shape,"fillAlpha",1,t.Validators.alphaComponent),t.Factory.addGetterSetter(t.Shape,"fillPatternX",0),t.Factory.addGetterSetter(t.Shape,"fillPatternY",0),t.Factory.addGetterSetter(t.Shape,"fillLinearGradientColorStops"),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientStartRadius",0),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientEndRadius",0),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientColorStops"),t.Factory.addGetterSetter(t.Shape,"fillPatternRepeat","repeat"),t.Factory.addGetterSetter(t.Shape,"fillEnabled",!0),t.Factory.addGetterSetter(t.Shape,"strokeEnabled",!0),t.Factory.addGetterSetter(t.Shape,"shadowEnabled",!0),t.Factory.addGetterSetter(t.Shape,"dashEnabled",!0),t.Factory.addGetterSetter(t.Shape,"strokeScaleEnabled",!0),t.Factory.addGetterSetter(t.Shape,"fillPriority","color"),t.Factory.addComponentsGetterSetter(t.Shape,"fillPatternOffset",["x","y"]),t.Factory.addGetterSetter(t.Shape,"fillPatternOffsetX",0),t.Factory.addGetterSetter(t.Shape,"fillPatternOffsetY",0),t.Factory.addComponentsGetterSetter(t.Shape,"fillPatternScale",["x","y"]),t.Factory.addGetterSetter(t.Shape,"fillPatternScaleX",1),t.Factory.addGetterSetter(t.Shape,"fillPatternScaleY",1),t.Factory.addComponentsGetterSetter(t.Shape,"fillLinearGradientStartPoint",["x","y"]),t.Factory.addGetterSetter(t.Shape,"fillLinearGradientStartPointX",0),t.Factory.addGetterSetter(t.Shape,"fillLinearGradientStartPointY",0),t.Factory.addComponentsGetterSetter(t.Shape,"fillLinearGradientEndPoint",["x","y"]),t.Factory.addGetterSetter(t.Shape,"fillLinearGradientEndPointX",0),t.Factory.addGetterSetter(t.Shape,"fillLinearGradientEndPointY",0),t.Factory.addComponentsGetterSetter(t.Shape,"fillRadialGradientStartPoint",["x","y"]),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientStartPointX",0),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientStartPointY",0),t.Factory.addComponentsGetterSetter(t.Shape,"fillRadialGradientEndPoint",["x","y"]),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientEndPointX",0),t.Factory.addGetterSetter(t.Shape,"fillRadialGradientEndPointY",0),t.Factory.addGetterSetter(t.Shape,"fillPatternRotation",0),t.Factory.backCompat(t.Shape,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),t.Collection.mapMethods(t.Shape)}(Konva),function(){"use strict";function t(t,e){t.content.addEventListener(e,function(n){t[B+e](n)},!1)}var e="Stage",n="string",o="px",i="mouseout",r="mouseleave",a="mouseover",s="mouseenter",p="mousemove",h="mousedown",u="mouseup",l="contextmenu",c="click",f="dblclick",d="touchstart",y="touchend",v="tap",g="dbltap",m="touchmove",b="DOMMouseScroll",x="mousewheel",_="wheel",w="contentMouseout",P="contentMouseover",S="contentMousemove",C="contentMousedown",M="contentMouseup",T="contentContextmenu",A="contentClick",E="contentDblclick",L="contentTouchstart",I="contentTouchend",N="contentDbltap",O="contentTap",k="contentTouchmove",R="contentWheel",D="div",F="relative",j="konvajs-content",K=" ",B="_",X="container",U="",Y=[h,p,u,i,d,m,y,a,b,x,_,l],G=Y.length;Konva.Stage=function(t){this.___init(t)},Konva.Util.addMethods(Konva.Stage,{___init:function(t){this.nodeType=e,Konva.Container.call(this,t),this._id=Konva.idCounter++,this._buildDOM(),this._bindContentEvents(),this._enableNestedTransforms=!1,Konva.stages.push(this)},_validateAdd:function(t){"Layer"!==t.getType()&&Konva.Util.throw("You may only add layers to the stage.")},setContainer:function(t){if(typeof t===n){if("."===t.charAt(0)){var e=t.slice(1);t=Konva.document.getElementsByClassName(e)[0]}else{var o;o="#"!==t.charAt(0)?t:t.slice(1),t=Konva.document.getElementById(o)}if(!t)throw"Can not find container in document with id "+o}return this._setAttr(X,t),this},shouldDrawHit:function(){return!0},draw:function(){return Konva.Node.prototype.draw.call(this),this},setHeight:function(t){return Konva.Node.prototype.setHeight.call(this,t),this._resizeDOM(),this},setWidth:function(t){return Konva.Node.prototype.setWidth.call(this,t),this._resizeDOM(),this},clear:function(){var t,e=this.children,n=e.length;for(t=0;t<n;t++)e[t].clear();return this},clone:function(t){return t||(t={}),t.container=Konva.document.createElement(D),Konva.Container.prototype.clone.call(this,t)},destroy:function(){var t=this.content;Konva.Container.prototype.destroy.call(this),t&&Konva.Util._isInDocument(t)&&this.getContainer().removeChild(t);var e=Konva.stages.indexOf(this);return e>-1&&Konva.stages.splice(e,1),this},getPointerPosition:function(){return this.pointerPos},getStage:function(){return this},getContent:function(){return this.content},toDataURL:function(t){t=t||{};var e=t.mimeType||null,n=t.quality||null,o=t.x||0,i=t.y||0,r=new Konva.SceneCanvas({width:t.width||this.getWidth(),height:t.height||this.getHeight(),pixelRatio:t.pixelRatio}),a=r.getContext()._context,s=this.children;(o||i)&&a.translate(-1*o,-1*i),s.each(function(t){var e=t.getCanvas().getWidth(),n=t.getCanvas().getHeight(),o=t.getCanvas().getPixelRatio();a.drawImage(t.getCanvas()._canvas,0,0,e/o,n/o)});var p=r.toDataURL(e,n);return t.callback&&t.callback(p),p},toImage:function(t){var e=t.callback;t.callback=function(t){Konva.Util._getImage(t,function(t){e(t)})},this.toDataURL(t)},getIntersection:function(t,e){var n,o,i=this.getChildren(),r=i.length,a=r-1;for(n=a;n>=0;n--)if(o=i[n].getIntersection(t,e))return o;return null},_resizeDOM:function(){if(this.content){var t,e,n=this.getWidth(),i=this.getHeight(),r=this.getChildren(),a=r.length;for(this.content.style.width=n+o,this.content.style.height=i+o,this.bufferCanvas.setSize(n,i),this.bufferHitCanvas.setSize(n,i),t=0;t<a;t++)e=r[t],e.setSize(n,i),e.batchDraw()}},add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return Konva.Container.prototype.add.call(this,t),t._setCanvasSize(this.width(),this.height()),t.draw(),this.content.appendChild(t.canvas._canvas),this},getParent:function(){return null},getLayer:function(){return null},getLayers:function(){return this.getChildren()},_bindContentEvents:function(){for(var e=0;e<G;e++)t(this,Y[e])},_mouseover:function(t){Konva.UA.mobile||(this._setPointerPosition(t),this._fire(P,{evt:t}))},_mouseout:function(t){if(!Konva.UA.mobile){this._setPointerPosition(t);var e=this.targetShape;e&&!Konva.isDragging()&&(e._fireAndBubble(i,{evt:t}),e._fireAndBubble(r,{evt:t}),this.targetShape=null),this.pointerPos=void 0,this._fire(w,{evt:t})}},_mousemove:function(t){if(Konva.UA.ieMobile)return this._touchmove(t);if(("undefined"!=typeof t.movementX||"undefined"!=typeof t.movementY)&&0===t.movementY&&0===t.movementX)return null;if(Konva.UA.mobile)return null;this._setPointerPosition(t);var e;Konva.isDragging()||(e=this.getIntersection(this.getPointerPosition()),e&&e.isListening()?Konva.isDragging()||this.targetShape&&this.targetShape._id===e._id?e._fireAndBubble(p,{evt:t}):(this.targetShape&&(this.targetShape._fireAndBubble(i,{evt:t},e),this.targetShape._fireAndBubble(r,{evt:t},e)),e._fireAndBubble(a,{evt:t},this.targetShape),e._fireAndBubble(s,{evt:t},this.targetShape),this.targetShape=e):this.targetShape&&!Konva.isDragging()&&(this.targetShape._fireAndBubble(i,{evt:t}),this.targetShape._fireAndBubble(r,{evt:t}),this.targetShape=null),this._fire(S,{evt:t})),t.preventDefault&&t.preventDefault()},_mousedown:function(t){if(Konva.UA.ieMobile)return this._touchstart(t);if(!Konva.UA.mobile){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition());Konva.listenClickTap=!0,e&&e.isListening()&&(this.clickStartShape=e,e._fireAndBubble(h,{evt:t})),this._fire(C,{evt:t})}t.preventDefault&&t.preventDefault()},_mouseup:function(t){if(Konva.UA.ieMobile)return this._touchend(t);if(!Konva.UA.mobile){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition()),n=this.clickStartShape,o=!1,i=Konva.DD;Konva.inDblClickWindow?(o=!0,Konva.inDblClickWindow=!1):i&&i.justDragged?i&&(i.justDragged=!1):Konva.inDblClickWindow=!0,setTimeout(function(){Konva.inDblClickWindow=!1},Konva.dblClickWindow),e&&e.isListening()&&(e._fireAndBubble(u,{evt:t}),Konva.listenClickTap&&n&&n._id===e._id&&(e._fireAndBubble(c,{evt:t}),o&&e._fireAndBubble(f,{evt:t}))),this._fire(M,{evt:t}),Konva.listenClickTap&&(this._fire(A,{evt:t}),o&&this._fire(E,{evt:t})),Konva.listenClickTap=!1}t.preventDefault&&t.preventDefault()},_contextmenu:function(t){this._fire(T,{evt:t})},_touchstart:function(t){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition());Konva.listenClickTap=!0,e&&e.isListening()&&(this.tapStartShape=e,e._fireAndBubble(d,{evt:t}),e.isListening()&&e.preventDefault()&&t.preventDefault&&t.preventDefault()),this._fire(L,{evt:t})},_touchend:function(t){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition()),n=!1;Konva.inDblClickWindow?(n=!0,Konva.inDblClickWindow=!1):Konva.inDblClickWindow=!0,setTimeout(function(){Konva.inDblClickWindow=!1},Konva.dblClickWindow),e&&e.isListening()&&(e._fireAndBubble(y,{evt:t}),Konva.listenClickTap&&this.tapStartShape&&e._id===this.tapStartShape._id&&(e._fireAndBubble(v,{evt:t}),n&&e._fireAndBubble(g,{evt:t})),e.isListening()&&e.preventDefault()&&t.preventDefault&&t.preventDefault()),this._fire(I,{evt:t}),Konva.listenClickTap&&(this._fire(O,{evt:t}),n&&this._fire(N,{evt:t})),Konva.listenClickTap=!1},_touchmove:function(t){this._setPointerPosition(t);var e,n=Konva.DD;Konva.isDragging()||(e=this.getIntersection(this.getPointerPosition()),e&&e.isListening()&&(e._fireAndBubble(m,{evt:t}),e.isListening()&&e.preventDefault()&&t.preventDefault&&t.preventDefault()),this._fire(k,{evt:t})),n&&Konva.isDragging()&&Konva.DD.node.preventDefault()&&t.preventDefault()},_DOMMouseScroll:function(t){this._mousewheel(t)},_mousewheel:function(t){this._setPointerPosition(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()&&e._fireAndBubble(_,{evt:t}),this._fire(R,{evt:t})},_wheel:function(t){this._mousewheel(t)},_setPointerPosition:function(t){var e=this._getContentPosition(),n=null,o=null;if(t=t?t:window.event,void 0!==t.touches){if(t.touches.length>0){var i=t.touches[0];n=i.clientX-e.left,o=i.clientY-e.top}}else n=t.clientX-e.left,o=t.clientY-e.top;null!==n&&null!==o&&(this.pointerPos={x:n,y:o})},_getContentPosition:function(){var t=this.content.getBoundingClientRect?this.content.getBoundingClientRect():{top:0,left:0};return{top:t.top,left:t.left}},_buildDOM:function(){var t=this.getContainer();if(!t){if(Konva.Util.isBrowser())throw"Stage has no container. A container is required.";t=Konva.document.createElement(D)}t.innerHTML=U,this.content=Konva.document.createElement(D),this.content.style.position=F,this.content.className=j,this.content.setAttribute("role","presentation"),t.appendChild(this.content),this.bufferCanvas=new Konva.SceneCanvas,this.bufferHitCanvas=new Konva.HitCanvas({pixelRatio:1}),this._resizeDOM()},_onContent:function(t,e){var n,o,i=t.split(K),r=i.length;for(n=0;n<r;n++)o=i[n],this.content.addEventListener(o,e,!1)},cache:function(){Konva.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes.")},clearCache:function(){}}),Konva.Util.extend(Konva.Stage,Konva.Container),Konva.Factory.addGetter(Konva.Stage,"container"),Konva.Factory.addOverloadedGetterSetter(Konva.Stage,"container")}(),function(){"use strict";Konva.BaseLayer=function(t){this.___init(t)},Konva.Util.addMethods(Konva.BaseLayer,{___init:function(t){this.nodeType="Layer",Konva.Container.call(this,t)},createPNGStream:function(){return this.canvas._canvas.createPNGStream()},getCanvas:function(){return this.canvas},getHitCanvas:function(){return this.hitCanvas},getContext:function(){return this.getCanvas().getContext()},clear:function(t){return this.getContext().clear(t),this},clearHitCache:function(){this._hitImageData=void 0},setZIndex:function(t){Konva.Node.prototype.setZIndex.call(this,t);var e=this.getStage();return e&&(e.content.removeChild(this.getCanvas()._canvas),t<e.getChildren().length-1?e.content.insertBefore(this.getCanvas()._canvas,e.getChildren()[t+1].getCanvas()._canvas):e.content.appendChild(this.getCanvas()._canvas)),this},moveToTop:function(){Konva.Node.prototype.moveToTop.call(this);var t=this.getStage();return t&&(t.content.removeChild(this.getCanvas()._canvas),t.content.appendChild(this.getCanvas()._canvas)),this},moveUp:function(){var t=Konva.Node.prototype.moveUp.call(this);if(!t)return this;var e=this.getStage();return e?(e.content.removeChild(this.getCanvas()._canvas),this.index<e.getChildren().length-1?e.content.insertBefore(this.getCanvas()._canvas,e.getChildren()[this.index+1].getCanvas()._canvas):e.content.appendChild(this.getCanvas()._canvas),this):this},moveDown:function(){if(Konva.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[this.index+1].getCanvas()._canvas)}}return this},moveToBottom:function(){if(Konva.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.getChildren();t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[1].getCanvas()._canvas)}}return this},getLayer:function(){return this},remove:function(){var t=this.getCanvas()._canvas;return Konva.Node.prototype.remove.call(this),t&&t.parentNode&&Konva.Util._isInDocument(t)&&t.parentNode.removeChild(t),this},getStage:function(){return this.parent},setSize:function(t,e){return this.canvas.setSize(t,e),this},getWidth:function(){if(this.parent)return this.parent.getWidth()},setWidth:function(){Konva.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')},getHeight:function(){if(this.parent)return this.parent.getHeight()},setHeight:function(){Konva.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')},_applyTransform:function(t,e,n){var o=t.getAbsoluteTransform(n).getMatrix();e.transform(o[0],o[1],o[2],o[3],o[4],o[5])}}),Konva.Util.extend(Konva.BaseLayer,Konva.Container),Konva.Factory.addGetterSetter(Konva.BaseLayer,"clearBeforeDraw",!0),Konva.Collection.mapMethods(Konva.BaseLayer)}(),function(){"use strict";var t="#",e="beforeDraw",n="draw",o=[{x:0,y:0},{x:-1,y:0},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:-1,y:1}],i=o.length;Konva.Layer=function(t){this.____init(t)},Konva.Util.addMethods(Konva.Layer,{____init:function(t){this.nodeType="Layer",this.canvas=new Konva.SceneCanvas,this.hitCanvas=new Konva.HitCanvas({pixelRatio:1}),Konva.BaseLayer.call(this,t)},_setCanvasSize:function(t,e){this.canvas.setSize(t,e),this.hitCanvas.setSize(t,e)},_validateAdd:function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&Konva.Util.throw("You may only add groups and shapes to a layer.")},getIntersection:function(t,e){var n,r,a,s;if(!this.hitGraphEnabled()||!this.isVisible())return null;for(var p=1,h=!1;;){for(r=0;r<i;r++){if(a=o[r],n=this._getIntersection({x:t.x+a.x*p,y:t.y+a.y*p}),s=n.shape,s&&e)return s.findAncestor(e,!0);if(s)return s;if(h=!!n.antialiased,!n.antialiased)break}if(!h)return null;p+=1}},_getImageData:function(t,e){var n=this.hitCanvas.width||1,o=this.hitCanvas.height||1,i=Math.round(e)*n+Math.round(t);return this._hitImageData||(this._hitImageData=this.hitCanvas.context.getImageData(0,0,n,o)),[this._hitImageData.data[4*i+0],this._hitImageData.data[4*i+1],this._hitImageData.data[4*i+2],this._hitImageData.data[4*i+3]]},_getIntersection:function(e){var n,o,i=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*i),Math.round(e.y*i),1,1).data,a=r[3];return 255===a?(n=Konva.Util._rgbToHex(r[0],r[1],r[2]),o=Konva.shapes[t+n],o?{shape:o}:{antialiased:!0}):a>0?{antialiased:!0}:{}},drawScene:function(t,o){var i=this.getLayer(),r=t||i&&i.getCanvas();return this._fire(e,{node:this}),this.getClearBeforeDraw()&&r.getContext().clear(),Konva.Container.prototype.drawScene.call(this,r,o),this._fire(n,{node:this}),this},drawHit:function(t,e){var n=this.getLayer(),o=t||n&&n.hitCanvas;return n&&n.getClearBeforeDraw()&&n.getHitCanvas().getContext().clear(),Konva.Container.prototype.drawHit.call(this,o,e),this.imageData=null,this},clear:function(t){return Konva.BaseLayer.prototype.clear.call(this,t),this.getHitCanvas().getContext().clear(t),this.imageData=null,this},setVisible:function(t){return Konva.Node.prototype.setVisible.call(this,t),t?(this.getCanvas()._canvas.style.display="block",this.hitCanvas._canvas.style.display="block"):(this.getCanvas()._canvas.style.display="none",this.hitCanvas._canvas.style.display="none"),this},enableHitGraph:function(){return this.setHitGraphEnabled(!0),this},disableHitGraph:function(){
return this.setHitGraphEnabled(!1),this},setSize:function(t,e){return Konva.BaseLayer.prototype.setSize.call(this,t,e),this.hitCanvas.setSize(t,e),this}}),Konva.Util.extend(Konva.Layer,Konva.BaseLayer),Konva.Factory.addGetterSetter(Konva.Layer,"hitGraphEnabled",!0),Konva.Collection.mapMethods(Konva.Layer)}(),function(){"use strict";Konva.FastLayer=function(t){this.____init(t)},Konva.Util.addMethods(Konva.FastLayer,{____init:function(t){this.nodeType="Layer",this.canvas=new Konva.SceneCanvas,Konva.BaseLayer.call(this,t)},_validateAdd:function(t){var e=t.getType();"Shape"!==e&&Konva.Util.throw("You may only add shapes to a fast layer.")},_setCanvasSize:function(t,e){this.canvas.setSize(t,e)},hitGraphEnabled:function(){return!1},getIntersection:function(){return null},drawScene:function(t){var e=this.getLayer(),n=t||e&&e.getCanvas();return this.getClearBeforeDraw()&&n.getContext().clear(),Konva.Container.prototype.drawScene.call(this,n),this},draw:function(){return this.drawScene(),this},setVisible:function(t){return Konva.Node.prototype.setVisible.call(this,t),t?this.getCanvas()._canvas.style.display="block":this.getCanvas()._canvas.style.display="none",this}}),Konva.Util.extend(Konva.FastLayer,Konva.BaseLayer),Konva.Collection.mapMethods(Konva.FastLayer)}(),function(){"use strict";Konva.Group=function(t){this.___init(t)},Konva.Util.addMethods(Konva.Group,{___init:function(t){this.nodeType="Group",Konva.Container.call(this,t)},_validateAdd:function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&Konva.Util.throw("You may only add groups and shapes to groups.")}}),Konva.Util.extend(Konva.Group,Konva.Container),Konva.Collection.mapMethods(Konva.Group)}(),function(t){"use strict";function e(t){setTimeout(t,1e3/60)}function n(){return i.apply(t.global,arguments)}var o=function(){return t.global.performance&&t.global.performance.now?function(){return t.global.performance.now()}:function(){return(new Date).getTime()}}(),i=function(){return t.global.requestAnimationFrame||t.global.webkitRequestAnimationFrame||t.global.mozRequestAnimationFrame||t.global.oRequestAnimationFrame||t.global.msRequestAnimationFrame||e}();t.Animation=function(e,n){var i=t.Animation;this.func=e,this.setLayers(n),this.id=i.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:o()}},t.Animation.prototype={setLayers:function(t){var e=[];return e=t?t.length>0?t:[t]:[],this.layers=e,this},getLayers:function(){return this.layers},addLayer:function(t){var e,n=this.layers,o=n.length;for(e=0;e<o;e++)if(n[e]._id===t._id)return!1;return this.layers.push(t),!0},isRunning:function(){var e,n=t.Animation,o=n.animations,i=o.length;for(e=0;e<i;e++)if(o[e].id===this.id)return!0;return!1},start:function(){var e=t.Animation;return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=o(),e._addAnimation(this),this},stop:function(){return t.Animation._removeAnimation(this),this},_updateFrameObject:function(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}},t.Animation.animations=[],t.Animation.animIdCounter=0,t.Animation.animRunning=!1,t.Animation._addAnimation=function(t){this.animations.push(t),this._handleAnimation()},t.Animation._removeAnimation=function(t){var e,n=t.id,o=this.animations,i=o.length;for(e=0;e<i;e++)if(o[e].id===n){this.animations.splice(e,1);break}},t.Animation._runFrames=function(){var t,e,n,i,r,a,s,p,h,u={},l=this.animations;for(i=0;i<l.length;i++)if(t=l[i],e=t.layers,n=t.func,t._updateFrameObject(o()),a=e.length,h=!n||n.call(t,t.frame)!==!1)for(r=0;r<a;r++)s=e[r],void 0!==s._id&&(u[s._id]=s);for(p in u)u.hasOwnProperty(p)&&u[p].draw()},t.Animation._animationLoop=function(){var e=t.Animation;e.animations.length?(e._runFrames(),n(e._animationLoop)):e.animRunning=!1},t.Animation._handleAnimation=function(){this.animRunning||(this.animRunning=!0,n(this._animationLoop))},t.BaseLayer.prototype.batchDraw=function(){var e=this,n=t.Animation;return this.batchAnim||(this.batchAnim=new n(function(){e.batchAnim.stop()},this)),this.batchAnim.isRunning()||this.batchAnim.start(),this},t.Stage.prototype.batchDraw=function(){return this.getChildren().each(function(t){t.batchDraw()}),this}}(Konva),function(){"use strict";var t={node:1,duration:1,easing:1,onFinish:1,yoyo:1},e=1,n=2,o=3,i=0,r=["fill","stroke","shadowColor"],a=function(t,e,n,o,i,r,a){this.prop=t,this.propFunc=e,this.begin=o,this._pos=o,this.duration=r,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=i-this.begin,this.pause()};a.prototype={fire:function(t){var e=this[t];e&&e()},setTime:function(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())},getTime:function(){return this._time},setPosition:function(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t},getPosition:function(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)},play:function(){this.state=n,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},reverse:function(){this.state=o,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},seek:function(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")},reset:function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},finish:function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},update:function(){this.setPosition(this.getPosition(this._time))},onEnterFrame:function(){var t=this.getTimer()-this._startTime;this.state===n?this.setTime(t):this.state===o&&this.setTime(this.duration-t)},pause:function(){this.state=e,this.fire("onPause")},getTimer:function(){return(new Date).getTime()}},Konva.Tween=function(e){var n,o,r=this,s=e.node,p=s._id,h=e.easing||Konva.Easings.Linear,u=!!e.yoyo;n="undefined"==typeof e.duration?1:0===e.duration?.001:e.duration,this.node=s,this._id=i++;var l=s.getLayer()||(s instanceof Konva.Stage?s.getLayers():null);l||Konva.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Konva.Animation(function(){r.tween.onEnterFrame()},l),this.tween=new a(o,function(t){r._tweenFunc(t)},h,0,1,1e3*n,u),this._addListeners(),Konva.Tween.attrs[p]||(Konva.Tween.attrs[p]={}),Konva.Tween.attrs[p][this._id]||(Konva.Tween.attrs[p][this._id]={}),Konva.Tween.tweens[p]||(Konva.Tween.tweens[p]={});for(o in e)void 0===t[o]&&this._addAttr(o,e[o]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset},Konva.Tween.attrs={},Konva.Tween.tweens={},Konva.Tween.prototype={_addAttr:function(t,e){var n,o,i,a,s,p,h,u=this.node,l=u._id;if(i=Konva.Tween.tweens[l][t],i&&delete Konva.Tween.attrs[l][i][t],n=u.getAttr(t),Konva.Util._isArray(e))for(o=[],s=Math.max(e.length,n.length),"points"===t&&e.length!==n.length&&(e.length>n.length?(h=n,n=Konva.Util._prepareArrayForTween(n,e,u.closed())):(p=e,e=Konva.Util._prepareArrayForTween(e,n,u.closed()))),a=0;a<s;a++)o.push(e[a]-n[a]);else if(r.indexOf(t)!==-1){n=Konva.Util.colorToRGBA(n);var c=Konva.Util.colorToRGBA(e);o={r:c.r-n.r,g:c.g-n.g,b:c.b-n.b,a:c.a-n.a}}else o=e-n;Konva.Tween.attrs[l][this._id][t]={start:n,diff:o,end:e,trueEnd:p,trueStart:h},Konva.Tween.tweens[l][t]=this._id},_tweenFunc:function(t){var e,n,o,i,a,s,p,h,u=this.node,l=Konva.Tween.attrs[u._id][this._id];for(e in l){if(n=l[e],o=n.start,i=n.diff,h=n.end,Konva.Util._isArray(o))for(a=[],p=Math.max(o.length,h.length),s=0;s<p;s++)a.push((o[s]||0)+i[s]*t);else a=r.indexOf(e)!==-1?"rgba("+Math.round(o.r+i.r*t)+","+Math.round(o.g+i.g*t)+","+Math.round(o.b+i.b*t)+","+(o.a+i.a*t)+")":o+i*t;u.setAttr(e,a)}},_addListeners:function(){var t=this;this.tween.onPlay=function(){t.anim.start()},this.tween.onReverse=function(){t.anim.start()},this.tween.onPause=function(){t.anim.stop()},this.tween.onFinish=function(){var e=t.node,n=Konva.Tween.attrs[e._id][t._id];n.points&&n.points.trueEnd&&e.points(n.points.trueEnd),t.onFinish&&t.onFinish.call(t)},this.tween.onReset=function(){var e=t.node,n=Konva.Tween.attrs[e._id][t._id];n.points&&n.points.trueStart&&e.points(n.points.trueStart),t.onReset&&t.onReset()}},play:function(){return this.tween.play(),this},reverse:function(){return this.tween.reverse(),this},reset:function(){return this.tween.reset(),this},seek:function(t){return this.tween.seek(1e3*t),this},pause:function(){return this.tween.pause(),this},finish:function(){return this.tween.finish(),this},destroy:function(){var t,e=this.node._id,n=this._id,o=Konva.Tween.tweens[e];this.pause();for(t in o)delete Konva.Tween.tweens[e][t];delete Konva.Tween.attrs[e][n]}},Konva.Node.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()};var n=new Konva.Tween(t);n.play()},Konva.Easings={BackEaseIn:function(t,e,n,o){var i=1.70158;return n*(t/=o)*t*((i+1)*t-i)+e},BackEaseOut:function(t,e,n,o){var i=1.70158;return n*((t=t/o-1)*t*((i+1)*t+i)+1)+e},BackEaseInOut:function(t,e,n,o){var i=1.70158;return(t/=o/2)<1?n/2*(t*t*(((i*=1.525)+1)*t-i))+e:n/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},ElasticEaseIn:function(t,e,n,o,i,r){var a=0;return 0===t?e:1===(t/=o)?e+n:(r||(r=.3*o),!i||i<Math.abs(n)?(i=n,a=r/4):a=r/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*o-a)*(2*Math.PI)/r))+e)},ElasticEaseOut:function(t,e,n,o,i,r){var a=0;return 0===t?e:1===(t/=o)?e+n:(r||(r=.3*o),!i||i<Math.abs(n)?(i=n,a=r/4):a=r/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*o-a)*(2*Math.PI)/r)+n+e)},ElasticEaseInOut:function(t,e,n,o,i,r){var a=0;return 0===t?e:2===(t/=o/2)?e+n:(r||(r=o*(.3*1.5)),!i||i<Math.abs(n)?(i=n,a=r/4):a=r/(2*Math.PI)*Math.asin(n/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*o-a)*(2*Math.PI)/r))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*o-a)*(2*Math.PI)/r)*.5+n+e)},BounceEaseOut:function(t,e,n,o){return(t/=o)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn:function(t,e,n,o){return n-Konva.Easings.BounceEaseOut(o-t,0,n,o)+e},BounceEaseInOut:function(t,e,n,o){return t<o/2?.5*Konva.Easings.BounceEaseIn(2*t,0,n,o)+e:.5*Konva.Easings.BounceEaseOut(2*t-o,0,n,o)+.5*n+e},EaseIn:function(t,e,n,o){return n*(t/=o)*t+e},EaseOut:function(t,e,n,o){return-n*(t/=o)*(t-2)+e},EaseInOut:function(t,e,n,o){return(t/=o/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn:function(t,e,n,o){return n*(t/=o)*t*t*t*t+e},StrongEaseOut:function(t,e,n,o){return n*((t=t/o-1)*t*t*t*t+1)+e},StrongEaseInOut:function(t,e,n,o){return(t/=o/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear:function(t,e,n,o){return n*t/o+e}}}(),function(){"use strict";Konva.DD={anim:new Konva.Animation(function(){var t=this.dirty;return this.dirty=!1,t}),isDragging:!1,justDragged:!1,offset:{x:0,y:0},node:null,_drag:function(t){var e=Konva.DD,n=e.node;if(n){if(!e.isDragging){var o=n.getStage().getPointerPosition(),i=n.dragDistance(),r=Math.max(Math.abs(o.x-e.startPointerPos.x),Math.abs(o.y-e.startPointerPos.y));if(r<i)return}n.getStage()._setPointerPosition(t),n._setDragPosition(t),e.isDragging||(e.isDragging=!0,n.fire("dragstart",{type:"dragstart",target:n,evt:t},!0)),n.fire("dragmove",{type:"dragmove",target:n,evt:t},!0)}},_endDragBefore:function(t){var e,n=Konva.DD,o=n.node;o&&(e=o.getLayer(),n.anim.stop(),n.isDragging&&(n.isDragging=!1,n.justDragged=!0,Konva.listenClickTap=!1,t&&(t.dragEndNode=o)),delete n.node,(o.getLayer()||e||o instanceof Konva.Stage)&&(e||o).draw())},_endDragAfter:function(t){t=t||{};var e=t.dragEndNode;t&&e&&e.fire("dragend",{type:"dragend",target:e,evt:t},!0)}},Konva.Node.prototype.startDrag=function(){var t=Konva.DD,e=this.getStage(),n=this.getLayer(),o=e.getPointerPosition(),i=this.getAbsolutePosition();o&&(t.node&&t.node.stopDrag(),t.node=this,t.startPointerPos=o,t.offset.x=o.x-i.x,t.offset.y=o.y-i.y,t.anim.setLayers(n||this.getLayers()),t.anim.start(),this._setDragPosition())},Konva.Node.prototype._setDragPosition=function(t){var e=Konva.DD,n=this.getStage().getPointerPosition(),o=this.getDragBoundFunc();if(n){var i={x:n.x-e.offset.x,y:n.y-e.offset.y};void 0!==o&&(i=o.call(this,i,t)),this.setAbsolutePosition(i),this._lastPos&&this._lastPos.x===i.x&&this._lastPos.y===i.y||(e.anim.dirty=!0),this._lastPos=i}},Konva.Node.prototype.stopDrag=function(){var t=Konva.DD,e={};t._endDragBefore(e),t._endDragAfter(e)},Konva.Node.prototype.setDraggable=function(t){this._setAttr("draggable",t),this._dragChange()};var t=Konva.Node.prototype.remove;Konva.Node.prototype.__originalRemove=t,Konva.Node.prototype.remove=function(){var e=Konva.DD;e.node&&e.node._id===this._id&&this.stopDrag(),t.call(this)},Konva.Node.prototype.isDragging=function(){var t=Konva.DD;return!(!t.node||t.node._id!==this._id||!t.isDragging)},Konva.Node.prototype._listenDrag=function(){var t=this;this._dragCleanup(),"Stage"===this.getClassName()?this.on("contentMousedown.konva contentTouchstart.konva",function(e){Konva.DD.node||t.startDrag(e)}):this.on("mousedown.konva touchstart.konva",function(e){1!==e.evt.button&&2!==e.evt.button&&(Konva.DD.node||t.startDrag(e))})},Konva.Node.prototype._dragChange=function(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var t=this.getStage(),e=Konva.DD;t&&e.node&&e.node._id===this._id&&e.node.stopDrag()}},Konva.Node.prototype._dragCleanup=function(){"Stage"===this.getClassName()?(this.off("contentMousedown.konva"),this.off("contentTouchstart.konva")):(this.off("mousedown.konva"),this.off("touchstart.konva"))},Konva.Factory.addGetterSetter(Konva.Node,"dragBoundFunc"),Konva.Factory.addGetter(Konva.Node,"draggable",!1),Konva.Factory.addOverloadedGetterSetter(Konva.Node,"draggable");var e=Konva.document.documentElement;e.addEventListener("mouseup",Konva.DD._endDragBefore,!0),e.addEventListener("touchend",Konva.DD._endDragBefore,!0),e.addEventListener("mousemove",Konva.DD._drag),e.addEventListener("touchmove",Konva.DD._drag),e.addEventListener("mouseup",Konva.DD._endDragAfter,!1),e.addEventListener("touchend",Konva.DD._endDragAfter,!1)}(),function(){"use strict";Konva.Rect=function(t){this.___init(t)},Konva.Rect.prototype={___init:function(t){Konva.Shape.call(this,t),this.className="Rect",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.getCornerRadius(),n=this.getWidth(),o=this.getHeight();t.beginPath(),e?(e=Math.min(e,n/2,o/2),t.moveTo(e,0),t.lineTo(n-e,0),t.arc(n-e,e,e,3*Math.PI/2,0,!1),t.lineTo(n,o-e),t.arc(n-e,o-e,e,0,Math.PI/2,!1),t.lineTo(e,o),t.arc(e,o-e,e,Math.PI/2,Math.PI,!1),t.lineTo(0,e),t.arc(e,e,e,Math.PI,3*Math.PI/2,!1)):t.rect(0,0,n,o),t.closePath(),t.fillStrokeShape(this)}},Konva.Util.extend(Konva.Rect,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Rect,"cornerRadius",0),Konva.Collection.mapMethods(Konva.Rect)}(),function(){"use strict";var t=2*Math.PI-1e-4,e="Circle";Konva.Circle=function(t){this.___init(t)},Konva.Circle.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className=e,this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){e.beginPath(),e.arc(0,0,this.getRadius(),0,t,!1),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)}},Konva.Util.extend(Konva.Circle,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Circle,"radius",0),Konva.Factory.addOverloadedGetterSetter(Konva.Circle,"radius"),Konva.Collection.mapMethods(Konva.Circle)}(),function(){"use strict";var t=2*Math.PI-1e-4,e="Ellipse";Konva.Ellipse=function(t){this.___init(t)},Konva.Ellipse.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className=e,this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){var n=this.getRadiusX(),o=this.getRadiusY();e.beginPath(),e.save(),n!==o&&e.scale(1,o/n),e.arc(0,0,n,0,t,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadiusX()},getHeight:function(){return 2*this.getRadiusY()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.setRadius({x:t/2})},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.setRadius({y:t/2})}},Konva.Util.extend(Konva.Ellipse,Konva.Shape),Konva.Factory.addComponentsGetterSetter(Konva.Ellipse,"radius",["x","y"]),Konva.Factory.addGetterSetter(Konva.Ellipse,"radiusX",0),Konva.Factory.addGetterSetter(Konva.Ellipse,"radiusY",0),Konva.Collection.mapMethods(Konva.Ellipse)}(),function(){"use strict";var t=2*Math.PI-1e-4;Konva.Ring=function(t){this.___init(t)},Konva.Ring.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className="Ring",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(e){e.beginPath(),e.arc(0,0,this.getInnerRadius(),0,t,!1),e.moveTo(this.getOuterRadius(),0),e.arc(0,0,this.getOuterRadius(),t,0,!0),e.closePath(),e.fillStrokeShape(this)},getWidth:function(){return 2*this.getOuterRadius()},getHeight:function(){return 2*this.getOuterRadius()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.outerRadius()!==t/2&&this.setOuterRadius(t/2)},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.outerRadius()!==t/2&&this.setOuterRadius(t/2)},setOuterRadius:function(t){this._setAttr("outerRadius",t),this.setWidth(2*t),this.setHeight(2*t)}},Konva.Util.extend(Konva.Ring,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Ring,"innerRadius",0),Konva.Factory.addGetter(Konva.Ring,"outerRadius",0),Konva.Factory.addOverloadedGetterSetter(Konva.Ring,"outerRadius"),Konva.Collection.mapMethods(Konva.Ring)}(),function(){"use strict";Konva.Wedge=function(t){this.___init(t)},Konva.Wedge.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className="Wedge",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){t.beginPath(),t.arc(0,0,this.getRadius(),0,Konva.getAngle(this.getAngle()),this.getClockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)}},Konva.Util.extend(Konva.Wedge,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Wedge,"radius",0),Konva.Factory.addGetterSetter(Konva.Wedge,"angle",0),Konva.Factory.addGetterSetter(Konva.Wedge,"clockwise",!1),Konva.Factory.backCompat(Konva.Wedge,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),Konva.Collection.mapMethods(Konva.Wedge)}(),function(){"use strict";Konva.Arc=function(t){this.___init(t)},Konva.Arc.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className="Arc",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=Konva.getAngle(this.angle()),n=this.clockwise();t.beginPath(),t.arc(0,0,this.getOuterRadius(),0,e,n),t.arc(0,0,this.getInnerRadius(),e,0,!n),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return 2*this.getOuterRadius()},getHeight:function(){return 2*this.getOuterRadius()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.getOuterRadius()!==t/2&&this.setOuterRadius(t/2)},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.getOuterRadius()!==t/2&&this.setOuterRadius(t/2)}},Konva.Util.extend(Konva.Arc,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Arc,"innerRadius",0),Konva.Factory.addGetterSetter(Konva.Arc,"outerRadius",0),Konva.Factory.addGetterSetter(Konva.Arc,"angle",0),Konva.Factory.addGetterSetter(Konva.Arc,"clockwise",!1),Konva.Collection.mapMethods(Konva.Arc)}(),function(){"use strict";var t="Image";Konva.Image=function(t){this.___init(t)},Konva.Image.prototype={___init:function(e){Konva.Shape.call(this,e),this.className=t,this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()&&this.getStage()},_sceneFunc:function(t){var e,n,o,i=this.getWidth(),r=this.getHeight(),a=this.getImage();a&&(e=this.getCropWidth(),n=this.getCropHeight(),o=e&&n?[a,this.getCropX(),this.getCropY(),e,n,0,0,i,r]:[a,0,0,i,r]),(this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,i,r),t.closePath(),t.fillStrokeShape(this)),a&&t.drawImage.apply(t,o)},_hitFunc:function(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},getWidth:function(){var t=this.getImage();return this.attrs.width||(t?t.width:0)},getHeight:function(){var t=this.getImage();return this.attrs.height||(t?t.height:0)}},Konva.Util.extend(Konva.Image,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Image,"image"),Konva.Factory.addComponentsGetterSetter(Konva.Image,"crop",["x","y","width","height"]),Konva.Factory.addGetterSetter(Konva.Image,"cropX",0),Konva.Factory.addGetterSetter(Konva.Image,"cropY",0),Konva.Factory.addGetterSetter(Konva.Image,"cropWidth",0),Konva.Factory.addGetterSetter(Konva.Image,"cropHeight",0),Konva.Collection.mapMethods(Konva.Image),Konva.Image.fromURL=function(t,e){var n=new Image;n.onload=function(){var t=new Konva.Image({image:n});e(t)},n.src=t}}(),function(){"use strict";function t(t){t.fillText(this.partialText,0,0)}function e(t){t.strokeText(this.partialText,0,0)}var n="auto",o="center",i="justify",r="Change.konva",a="2d",s="-",p="",h="left",u="text",l="Text",c="middle",f="normal",d="px ",y=" ",v="right",g="word",m="char",b="none",x=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","lineHeight","text","width","height","wrap","letterSpacing"],_=x.length,w=Konva.Util.createCanvasElement().getContext(a);Konva.Text=function(t){this.___init(t)},Konva.Text.prototype={___init:function(n){n=n||{},n.fillLinearGradientColorStops||n.fillRadialGradientColorStops||(n.fill=n.fill||"black"),Konva.Shape.call(this,n),this._fillFunc=t,this._strokeFunc=e,this.className=l;for(var o=0;o<_;o++)this.on(x[o]+r,this._setTextData);this._setTextData(),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(t){var e,n=this.getPadding(),r=this.getTextHeight(),a=this.getLineHeight()*r,s=this.textArr,p=s.length,u=this.getAlign(),l=this.getWidth(),f=this.getLetterSpacing(),d=this.textDecoration(),y=this.fill(),g=this.fontSize();for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",c),t.setAttr("textAlign",h),t.save(),n?(t.translate(n,0),t.translate(0,n+r/2)):t.translate(0,r/2),e=0;e<p;e++){var m=s[e],b=m.text,x=m.width;if(t.save(),u===v?t.translate(l-x-2*n,0):u===o&&t.translate((l-x-2*n)/2,0),d.indexOf("underline")!==-1&&(t.save(),t.beginPath(),t.moveTo(0,Math.round(a/2)),t.lineTo(Math.round(x),Math.round(a/2)),t.lineWidth=g/15,t.strokeStyle=y,t.stroke(),t.restore()),d.indexOf("line-through")!==-1&&(t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(Math.round(x),0),t.lineWidth=g/15,t.strokeStyle=y,t.stroke(),t.restore()),0!==f||u===i)for(var _=b.split(" ").length-1,w=0;w<b.length;w++){var P=b[w];" "===P&&e!==p-1&&u===i&&t.translate(Math.floor((l-x)/_),0),this.partialText=P,t.fillStrokeShape(this),t.translate(Math.round(this._getTextSize(P).width)+f,0)}else this.partialText=b,t.fillStrokeShape(this);t.restore(),t.translate(0,a)}t.restore()},_hitFunc:function(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},setText:function(t){var e=Konva.Util._isString(t)?t:(t||"").toString();return this._setAttr(u,e),this},getWidth:function(){var t=this.attrs.width===n||void 0===this.attrs.width;return t?this.getTextWidth()+2*this.getPadding():this.attrs.width},getHeight:function(){var t=this.attrs.height===n||void 0===this.attrs.height;return t?this.getTextHeight()*this.textArr.length*this.getLineHeight()+2*this.getPadding():this.attrs.height},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},_getTextSize:function(t){var e,n=w,o=this.getFontSize();return n.save(),n.font=this._getContextFont(),e=n.measureText(t),n.restore(),{width:e.width,height:parseInt(o,10)}},_getContextFont:function(){return Konva.UA.isIE?this.getFontStyle()+y+this.getFontSize()+d+this.getFontFamily():this.getFontStyle()+y+this.getFontVariant()+y+this.getFontSize()+d+this.getFontFamily()},_addTextLine:function(t){this.align()===i&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e})},_getTextWidth:function(t){var e=this.getLetterSpacing(),n=t.length;return w.measureText(t).width+(n?e*(n-1):0)},_setTextData:function(){var t=this.getText().split("\n"),e=+this.getFontSize(),o=0,i=this.getLineHeight()*e,r=this.attrs.width,a=this.attrs.height,p=r!==n,h=a!==n,u=this.getPadding(),l=r-2*u,c=a-2*u,f=0,d=this.getWrap(),v=d!==b,g=d!==m&&v;this.textArr=[],w.save(),w.font=this._getContextFont();for(var x=0,_=t.length;x<_;++x){var P=t[x],S=this._getTextWidth(P);if(p&&S>l)for(;P.length>0;){for(var C=0,M=P.length,T="",A=0;C<M;){var E=C+M>>>1,L=P.slice(0,E+1),I=this._getTextWidth(L);I<=l?(C=E+1,T=L,A=I):M=E}if(!T)break;if(g){var N=Math.max(T.lastIndexOf(y),T.lastIndexOf(s))+1;N>0&&(C=N,T=T.slice(0,C),A=this._getTextWidth(T))}if(this._addTextLine(T),o=Math.max(o,A),f+=i,!v||h&&f+i>c)break;if(P=P.slice(C),P.length>0&&(S=this._getTextWidth(P),S<=l)){this._addTextLine(P),f+=i,o=Math.max(o,S);break}}else this._addTextLine(P),f+=i,o=Math.max(o,S);if(h&&f+i>c)break}w.restore(),this.textHeight=e,this.textWidth=o}},Konva.Util.extend(Konva.Text,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Text,"fontFamily","Arial"),Konva.Factory.addGetterSetter(Konva.Text,"fontSize",12),Konva.Factory.addGetterSetter(Konva.Text,"fontStyle",f),Konva.Factory.addGetterSetter(Konva.Text,"fontVariant",f),Konva.Factory.addGetterSetter(Konva.Text,"padding",0),Konva.Factory.addGetterSetter(Konva.Text,"align",h),Konva.Factory.addGetterSetter(Konva.Text,"lineHeight",1),Konva.Factory.addGetterSetter(Konva.Text,"wrap",g),Konva.Factory.addGetterSetter(Konva.Text,"letterSpacing",0),Konva.Factory.addGetter(Konva.Text,"text",p),Konva.Factory.addOverloadedGetterSetter(Konva.Text,"text"),Konva.Factory.addGetterSetter(Konva.Text,"textDecoration",p),Konva.Collection.mapMethods(Konva.Text)}(),function(){"use strict";Konva.Line=function(t){this.___init(t)},Konva.Line.prototype={___init:function(t){Konva.Shape.call(this,t),this.className="Line",this.on("pointsChange.konva tensionChange.konva closedChange.konva",function(){this._clearCache("tensionPoints")}),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e,n,o,i=this.getPoints(),r=i.length,a=this.getTension(),s=this.getClosed();if(r){if(t.beginPath(),t.moveTo(i[0],i[1]),0!==a&&r>4){for(e=this.getTensionPoints(),n=e.length,o=s?0:4,s||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);o<n-2;)t.bezierCurveTo(e[o++],e[o++],e[o++],e[o++],e[o++],e[o++]);s||t.quadraticCurveTo(e[n-2],e[n-1],i[r-2],i[r-1])}else for(o=2;o<r;o+=2)t.lineTo(i[o],i[o+1]);s?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}},getTensionPoints:function(){return this._getCache("tensionPoints",this._getTensionPoints)},_getTensionPoints:function(){return this.getClosed()?this._getTensionPointsClosed():Konva.Util._expandPoints(this.getPoints(),this.getTension())},_getTensionPointsClosed:function(){var t=this.getPoints(),e=t.length,n=this.getTension(),o=Konva.Util,i=o._getControlPoints(t[e-2],t[e-1],t[0],t[1],t[2],t[3],n),r=o._getControlPoints(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],n),a=Konva.Util._expandPoints(t,n),s=[i[2],i[3]].concat(a).concat([r[0],r[1],t[e-2],t[e-1],r[2],r[3],i[0],i[1],t[0],t[1]]);return s},getWidth:function(){return this.getSelfRect().width},getHeight:function(){return this.getSelfRect().height},getSelfRect:function(){var t;t=0!==this.getTension()?this._getTensionPoints():this.getPoints();for(var e,n,o=t[0],i=t[0],r=t[1],a=t[1],s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],o=Math.min(o,e),i=Math.max(i,e),r=Math.min(r,n),a=Math.max(a,n);return{x:Math.round(o),y:Math.round(r),width:Math.round(i-o),height:Math.round(a-r)}}},Konva.Util.extend(Konva.Line,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Line,"closed",!1),Konva.Factory.addGetterSetter(Konva.Line,"tension",0),Konva.Factory.addGetterSetter(Konva.Line,"points",[]),Konva.Collection.mapMethods(Konva.Line)}(),function(){"use strict";Konva.Sprite=function(t){this.___init(t)},Konva.Sprite.prototype={___init:function(t){Konva.Shape.call(this,t),this.className="Sprite",this._updated=!0;var e=this;this.anim=new Konva.Animation(function(){var t=e._updated;return e._updated=!1,t}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())}),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(t){var e=this.getAnimation(),n=this.frameIndex(),o=4*n,i=this.getAnimations()[e],r=this.frameOffsets(),a=i[o+0],s=i[o+1],p=i[o+2],h=i[o+3],u=this.getImage();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,p,h),t.closePath(),t.fillStrokeShape(this)),u)if(r){var l=r[e],c=2*n;t.drawImage(u,a,s,p,h,l[c+0],l[c+1],p,h)}else t.drawImage(u,a,s,p,h,0,0,p,h)},_hitFunc:function(t){var e=this.getAnimation(),n=this.frameIndex(),o=4*n,i=this.getAnimations()[e],r=this.frameOffsets(),a=i[o+2],s=i[o+3];if(t.beginPath(),r){var p=r[e],h=2*n;t.rect(p[h+0],p[h+1],a,s)}else t.rect(0,0,a,s);t.closePath(),t.fillShape(this)},_useBufferCanvas:function(){return(this.hasShadow()||1!==this.getAbsoluteOpacity())&&this.hasStroke()},_setInterval:function(){var t=this;this.interval=setInterval(function(){t._updateIndex()},1e3/this.getFrameRate())},start:function(){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()},stop:function(){this.anim.stop(),clearInterval(this.interval)},isRunning:function(){return this.anim.isRunning()},_updateIndex:function(){var t=this.frameIndex(),e=this.getAnimation(),n=this.getAnimations(),o=n[e],i=o.length/4;t<i-1?this.frameIndex(t+1):this.frameIndex(0)}},Konva.Util.extend(Konva.Sprite,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Sprite,"animation"),Konva.Factory.addGetterSetter(Konva.Sprite,"animations"),Konva.Factory.addGetterSetter(Konva.Sprite,"frameOffsets"),Konva.Factory.addGetterSetter(Konva.Sprite,"image"),Konva.Factory.addGetterSetter(Konva.Sprite,"frameIndex",0),Konva.Factory.addGetterSetter(Konva.Sprite,"frameRate",17),Konva.Factory.backCompat(Konva.Sprite,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),Konva.Collection.mapMethods(Konva.Sprite)}(),function(){"use strict";Konva.Path=function(t){this.___init(t)},Konva.Path.prototype={___init:function(t){this.dataArray=[];var e=this;Konva.Shape.call(this,t),this.className="Path",this.dataArray=Konva.Path.parsePathData(this.getData()),this.on("dataChange.konva",function(){e.dataArray=Konva.Path.parsePathData(this.getData())}),this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.dataArray;t.beginPath();for(var n=0;n<e.length;n++){var o=e[n].command,i=e[n].points;switch(o){case"L":t.lineTo(i[0],i[1]);break;case"M":t.moveTo(i[0],i[1]);break;case"C":t.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]);break;case"Q":t.quadraticCurveTo(i[0],i[1],i[2],i[3]);break;case"A":var r=i[0],a=i[1],s=i[2],p=i[3],h=i[4],u=i[5],l=i[6],c=i[7],f=s>p?s:p,d=s>p?1:s/p,y=s>p?p/s:1;t.translate(r,a),t.rotate(l),t.scale(d,y),t.arc(0,0,f,h,h+u,1-c),t.scale(1/d,1/y),t.rotate(-l),t.translate(-r,-a);break;case"z":t.closePath()}}t.fillStrokeShape(this)},getSelfRect:function(){var t=[];this.dataArray.forEach(function(e){t=t.concat(e.points)});for(var e,n,o=t[0],i=t[0],r=t[1],a=t[1],s=0;s<t.length/2;s++)e=t[2*s],
n=t[2*s+1],o=Math.min(o,e),i=Math.max(i,e),r=Math.min(r,n),a=Math.max(a,n);return{x:Math.round(o),y:Math.round(r),width:Math.round(i-o),height:Math.round(a-r)}}},Konva.Util.extend(Konva.Path,Konva.Shape),Konva.Path.getLineLength=function(t,e,n,o){return Math.sqrt((n-t)*(n-t)+(o-e)*(o-e))},Konva.Path.getPointOnLine=function(t,e,n,o,i,r,a){void 0===r&&(r=e),void 0===a&&(a=n);var s=(i-n)/(o-e+1e-8),p=Math.sqrt(t*t/(1+s*s));o<e&&(p*=-1);var h,u=s*p;if(o===e)h={x:r,y:a+u};else if((a-n)/(r-e+1e-8)===s)h={x:r+p,y:a+u};else{var l,c,f=this.getLineLength(e,n,o,i);if(f<1e-8)return;var d=(r-e)*(o-e)+(a-n)*(i-n);d/=f*f,l=e+d*(o-e),c=n+d*(i-n);var y=this.getLineLength(r,a,l,c),v=Math.sqrt(t*t-y*y);p=Math.sqrt(v*v/(1+s*s)),o<e&&(p*=-1),u=s*p,h={x:l+p,y:c+u}}return h},Konva.Path.getPointOnCubicBezier=function(t,e,n,o,i,r,a,s,p){function h(t){return t*t*t}function u(t){return 3*t*t*(1-t)}function l(t){return 3*t*(1-t)*(1-t)}function c(t){return(1-t)*(1-t)*(1-t)}var f=s*h(t)+r*u(t)+o*l(t)+e*c(t),d=p*h(t)+a*u(t)+i*l(t)+n*c(t);return{x:f,y:d}},Konva.Path.getPointOnQuadraticBezier=function(t,e,n,o,i,r,a){function s(t){return t*t}function p(t){return 2*t*(1-t)}function h(t){return(1-t)*(1-t)}var u=r*s(t)+o*p(t)+e*h(t),l=a*s(t)+i*p(t)+n*h(t);return{x:u,y:l}},Konva.Path.getPointOnEllipticalArc=function(t,e,n,o,i,r){var a=Math.cos(r),s=Math.sin(r),p={x:n*Math.cos(i),y:o*Math.sin(i)};return{x:t+(p.x*a-p.y*s),y:e+(p.x*s+p.y*a)}},Konva.Path.parsePathData=function(t){if(!t)return[];var e=t,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var o=0;o<n.length;o++)e=e.replace(new RegExp(n[o],"g"),"|"+n[o]);var i=e.split("|"),r=[],a=0,s=0;for(o=1;o<i.length;o++){var p=i[o],h=p.charAt(0);p=p.slice(1),p=p.replace(new RegExp(",-","g"),"-"),p=p.replace(new RegExp("-","g"),",-"),p=p.replace(new RegExp("e,-","g"),"e-");var u=p.split(",");u.length>0&&""===u[0]&&u.shift();for(var l=0;l<u.length;l++)u[l]=parseFloat(u[l]);for(;u.length>0&&!isNaN(u[0]);){var c,f,d,y,v,g,m,b,x,_,w=null,P=[],S=a,C=s;switch(h){case"l":a+=u.shift(),s+=u.shift(),w="L",P.push(a,s);break;case"L":a=u.shift(),s=u.shift(),P.push(a,s);break;case"m":var M=u.shift(),T=u.shift();if(a+=M,s+=T,w="M",r.length>2&&"z"===r[r.length-1].command)for(var A=r.length-2;A>=0;A--)if("M"===r[A].command){a=r[A].points[0]+M,s=r[A].points[1]+T;break}P.push(a,s),h="l";break;case"M":a=u.shift(),s=u.shift(),w="M",P.push(a,s),h="L";break;case"h":a+=u.shift(),w="L",P.push(a,s);break;case"H":a=u.shift(),w="L",P.push(a,s);break;case"v":s+=u.shift(),w="L",P.push(a,s);break;case"V":s=u.shift(),w="L",P.push(a,s);break;case"C":P.push(u.shift(),u.shift(),u.shift(),u.shift()),a=u.shift(),s=u.shift(),P.push(a,s);break;case"c":P.push(a+u.shift(),s+u.shift(),a+u.shift(),s+u.shift()),a+=u.shift(),s+=u.shift(),w="C",P.push(a,s);break;case"S":f=a,d=s,c=r[r.length-1],"C"===c.command&&(f=a+(a-c.points[2]),d=s+(s-c.points[3])),P.push(f,d,u.shift(),u.shift()),a=u.shift(),s=u.shift(),w="C",P.push(a,s);break;case"s":f=a,d=s,c=r[r.length-1],"C"===c.command&&(f=a+(a-c.points[2]),d=s+(s-c.points[3])),P.push(f,d,a+u.shift(),s+u.shift()),a+=u.shift(),s+=u.shift(),w="C",P.push(a,s);break;case"Q":P.push(u.shift(),u.shift()),a=u.shift(),s=u.shift(),P.push(a,s);break;case"q":P.push(a+u.shift(),s+u.shift()),a+=u.shift(),s+=u.shift(),w="Q",P.push(a,s);break;case"T":f=a,d=s,c=r[r.length-1],"Q"===c.command&&(f=a+(a-c.points[0]),d=s+(s-c.points[1])),a=u.shift(),s=u.shift(),w="Q",P.push(f,d,a,s);break;case"t":f=a,d=s,c=r[r.length-1],"Q"===c.command&&(f=a+(a-c.points[0]),d=s+(s-c.points[1])),a+=u.shift(),s+=u.shift(),w="Q",P.push(f,d,a,s);break;case"A":y=u.shift(),v=u.shift(),g=u.shift(),m=u.shift(),b=u.shift(),x=a,_=s,a=u.shift(),s=u.shift(),w="A",P=this.convertEndpointToCenterParameterization(x,_,a,s,m,b,y,v,g);break;case"a":y=u.shift(),v=u.shift(),g=u.shift(),m=u.shift(),b=u.shift(),x=a,_=s,a+=u.shift(),s+=u.shift(),w="A",P=this.convertEndpointToCenterParameterization(x,_,a,s,m,b,y,v,g)}r.push({command:w||h,points:P,start:{x:S,y:C},pathLength:this.calcLength(S,C,w||h,P)})}"z"!==h&&"Z"!==h||r.push({command:"z",points:[],start:void 0,pathLength:0})}return r},Konva.Path.calcLength=function(t,e,n,o){var i,r,a,s,p=Konva.Path;switch(n){case"L":return p.getLineLength(t,e,o[0],o[1]);case"C":for(i=0,r=p.getPointOnCubicBezier(0,t,e,o[0],o[1],o[2],o[3],o[4],o[5]),s=.01;s<=1;s+=.01)a=p.getPointOnCubicBezier(s,t,e,o[0],o[1],o[2],o[3],o[4],o[5]),i+=p.getLineLength(r.x,r.y,a.x,a.y),r=a;return i;case"Q":for(i=0,r=p.getPointOnQuadraticBezier(0,t,e,o[0],o[1],o[2],o[3]),s=.01;s<=1;s+=.01)a=p.getPointOnQuadraticBezier(s,t,e,o[0],o[1],o[2],o[3]),i+=p.getLineLength(r.x,r.y,a.x,a.y),r=a;return i;case"A":i=0;var h=o[4],u=o[5],l=o[4]+u,c=Math.PI/180;if(Math.abs(h-l)<c&&(c=Math.abs(h-l)),r=p.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],h,0),u<0)for(s=h-c;s>l;s-=c)a=p.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],s,0),i+=p.getLineLength(r.x,r.y,a.x,a.y),r=a;else for(s=h+c;s<l;s+=c)a=p.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],s,0),i+=p.getLineLength(r.x,r.y,a.x,a.y),r=a;return a=p.getPointOnEllipticalArc(o[0],o[1],o[2],o[3],l,0),i+=p.getLineLength(r.x,r.y,a.x,a.y)}return 0},Konva.Path.convertEndpointToCenterParameterization=function(t,e,n,o,i,r,a,s,p){var h=p*(Math.PI/180),u=Math.cos(h)*(t-n)/2+Math.sin(h)*(e-o)/2,l=-1*Math.sin(h)*(t-n)/2+Math.cos(h)*(e-o)/2,c=u*u/(a*a)+l*l/(s*s);c>1&&(a*=Math.sqrt(c),s*=Math.sqrt(c));var f=Math.sqrt((a*a*(s*s)-a*a*(l*l)-s*s*(u*u))/(a*a*(l*l)+s*s*(u*u)));i===r&&(f*=-1),isNaN(f)&&(f=0);var d=f*a*l/s,y=f*-s*u/a,v=(t+n)/2+Math.cos(h)*d-Math.sin(h)*y,g=(e+o)/2+Math.sin(h)*d+Math.cos(h)*y,m=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},b=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(m(t)*m(e))},x=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(b(t,e))},_=x([1,0],[(u-d)/a,(l-y)/s]),w=[(u-d)/a,(l-y)/s],P=[(-1*u-d)/a,(-1*l-y)/s],S=x(w,P);return b(w,P)<=-1&&(S=Math.PI),b(w,P)>=1&&(S=0),0===r&&S>0&&(S-=2*Math.PI),1===r&&S<0&&(S+=2*Math.PI),[v,g,a,s,_,S,h,r]},Konva.Factory.addGetterSetter(Konva.Path,"data"),Konva.Collection.mapMethods(Konva.Path)}(),function(){"use strict";function t(t){t.fillText(this.partialText,0,0)}function e(t){t.strokeText(this.partialText,0,0)}var n="",o="normal";Konva.TextPath=function(t){this.___init(t)},Konva.TextPath.prototype={___init:function(n){var o=this;this.dummyCanvas=Konva.Util.createCanvasElement(),this.dataArray=[],Konva.Shape.call(this,n),this._fillFunc=t,this._strokeFunc=e,this._fillFuncHit=t,this._strokeFuncHit=e,this.className="TextPath",this.dataArray=Konva.Path.parsePathData(this.attrs.data),this.on("dataChange.konva",function(){o.dataArray=Konva.Path.parsePathData(this.attrs.data),o._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva",o._setTextData),o._setTextData(),this.sceneFunc(this._sceneFunc),this.hitFunc(this._hitFunc)},_sceneFunc:function(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.getTextBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),n=this.fill(),o=this.fontSize(),i=this.glyphInfo;"underline"===e&&t.beginPath();for(var r=0;r<i.length;r++){t.save();var a=i[r].p0;t.translate(a.x,a.y),t.rotate(i[r].rotation),this.partialText=i[r].text,t.fillStrokeShape(this),"underline"===e&&(0===r&&t.moveTo(0,o/2+1),t.lineTo(o,o/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=n,t.lineWidth=o/20,t.stroke()),t.restore()},_hitFunc:function(t){t.beginPath();var e=this.glyphInfo;if(e.length>=1){var n=e[0].p0;t.moveTo(n.x,n.y)}for(var o=0;o<e.length;o++){var i=e[o].p1;t.lineTo(i.x,i.y)}t.setAttr("lineWidth",this.getFontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()},getTextWidth:function(){return this.textWidth},getTextHeight:function(){return this.textHeight},setText:function(t){Konva.Text.prototype.setText.call(this,t)},_getTextSize:function(t){var e=this.dummyCanvas,n=e.getContext("2d");n.save(),n.font=this._getContextFont();var o=n.measureText(t);return n.restore(),{width:o.width,height:parseInt(this.attrs.fontSize,10)}},_setTextData:function(){var t=this,e=this._getTextSize(this.attrs.text),n=this.getLetterSpacing(),o=this.align();this.textWidth=e.width,this.textHeight=e.height;var i=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);this.glyphInfo=[];for(var r=0,a=0;a<t.dataArray.length;a++)t.dataArray[a].pathLength>0&&(r+=t.dataArray[a].pathLength);var s=0;"center"===o&&(s=Math.max(0,r/2-i/2)),"right"===o&&(s=Math.max(0,r-i));for(var p,h,u,l=this.getText().split(""),c=this.getText().split(" ").length-1,f=-1,d=0,y=function(){d=0;for(var e=t.dataArray,n=f+1;n<e.length;n++){if(e[n].pathLength>0)return f=n,e[n];"M"===e[n].command&&(p={x:e[n].points[0],y:e[n].points[1]})}return{}},v=function(e){var a=t._getTextSize(e).width+n;" "===e&&"justify"===o&&(a+=(r-i)/c);var s=0,l=0;for(h=void 0;Math.abs(a-s)/a>.01&&l<25;){l++;for(var f=s;void 0===u;)u=y(),u&&f+u.pathLength<a&&(f+=u.pathLength,u=void 0);if(u==={}||void 0===p)return;var v=!1;switch(u.command){case"L":Konva.Path.getLineLength(p.x,p.y,u.points[0],u.points[1])>a?h=Konva.Path.getPointOnLine(a,p.x,p.y,u.points[0],u.points[1],p.x,p.y):u=void 0;break;case"A":var g=u.points[4],m=u.points[5],b=u.points[4]+m;0===d?d=g+1e-8:a>s?d+=Math.PI/180*m/Math.abs(m):d-=Math.PI/360*m/Math.abs(m),(m<0&&d<b||m>=0&&d>b)&&(d=b,v=!0),h=Konva.Path.getPointOnEllipticalArc(u.points[0],u.points[1],u.points[2],u.points[3],d,u.points[6]);break;case"C":0===d?d=a>u.pathLength?1e-8:a/u.pathLength:a>s?d+=(a-s)/u.pathLength:d-=(s-a)/u.pathLength,d>1&&(d=1,v=!0),h=Konva.Path.getPointOnCubicBezier(d,u.start.x,u.start.y,u.points[0],u.points[1],u.points[2],u.points[3],u.points[4],u.points[5]);break;case"Q":0===d?d=a/u.pathLength:a>s?d+=(a-s)/u.pathLength:d-=(s-a)/u.pathLength,d>1&&(d=1,v=!0),h=Konva.Path.getPointOnQuadraticBezier(d,u.start.x,u.start.y,u.points[0],u.points[1],u.points[2],u.points[3])}void 0!==h&&(s=Konva.Path.getLineLength(p.x,p.y,h.x,h.y)),v&&(v=!1,u=void 0)}},g="C",m=t._getTextSize(g).width+n,b=0;b<s/m&&(v(g),void 0!==p&&void 0!==h);b++)p=h;for(var x=0;x<l.length&&(v(l[x]),void 0!==p&&void 0!==h);x++){var _=Konva.Path.getLineLength(p.x,p.y,h.x,h.y),w=0,P=Konva.Path.getPointOnLine(w+_/2,p.x,p.y,h.x,h.y),S=Math.atan2(h.y-p.y,h.x-p.x);this.glyphInfo.push({transposeX:P.x,transposeY:P.y,text:l[x],rotation:S,p0:p,p1:h}),p=h}},getSelfRect:function(){var t=[];this.glyphInfo.forEach(function(e){t.push(e.p0.x),t.push(e.p0.y),t.push(e.p1.x),t.push(e.p1.y)});for(var e,n,o=t[0],i=t[0],r=t[0],a=t[0],s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],o=Math.min(o,e),i=Math.max(i,e),r=Math.min(r,n),a=Math.max(a,n);var p=this.fontSize();return{x:Math.round(o)-p/2,y:Math.round(r)-p/2,width:Math.round(i-o)+p,height:Math.round(a-r)+p}}},Konva.TextPath.prototype._getContextFont=Konva.Text.prototype._getContextFont,Konva.Util.extend(Konva.TextPath,Konva.Shape),Konva.Factory.addGetterSetter(Konva.TextPath,"fontFamily","Arial"),Konva.Factory.addGetterSetter(Konva.TextPath,"fontSize",12),Konva.Factory.addGetterSetter(Konva.TextPath,"fontStyle",o),Konva.Factory.addGetterSetter(Konva.TextPath,"align","left"),Konva.Factory.addGetterSetter(Konva.TextPath,"letterSpacing",0),Konva.Factory.addGetterSetter(Konva.TextPath,"textBaseline","middle"),Konva.Factory.addGetterSetter(Konva.TextPath,"fontVariant",o),Konva.Factory.addGetter(Konva.TextPath,"text",n),Konva.Factory.addGetterSetter(Konva.TextPath,"textDecoration",null),Konva.Collection.mapMethods(Konva.TextPath)}(),function(){"use strict";Konva.RegularPolygon=function(t){this.___init(t)},Konva.RegularPolygon.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className="RegularPolygon",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e,n,o,i=this.attrs.sides,r=this.attrs.radius;for(t.beginPath(),t.moveTo(0,0-r),e=1;e<i;e++)n=r*Math.sin(2*e*Math.PI/i),o=-1*r*Math.cos(2*e*Math.PI/i),t.lineTo(n,o);t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return 2*this.getRadius()},getHeight:function(){return 2*this.getRadius()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.radius()!==t/2&&this.setRadius(t/2)}},Konva.Util.extend(Konva.RegularPolygon,Konva.Shape),Konva.Factory.addGetterSetter(Konva.RegularPolygon,"radius",0),Konva.Factory.addGetterSetter(Konva.RegularPolygon,"sides",0),Konva.Collection.mapMethods(Konva.RegularPolygon)}(),function(){"use strict";Konva.Star=function(t){this.___init(t)},Konva.Star.prototype={_centroid:!0,___init:function(t){Konva.Shape.call(this,t),this.className="Star",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.innerRadius(),n=this.outerRadius(),o=this.numPoints();t.beginPath(),t.moveTo(0,0-n);for(var i=1;i<2*o;i++){var r=i%2===0?n:e,a=r*Math.sin(i*Math.PI/o),s=-1*r*Math.cos(i*Math.PI/o);t.lineTo(a,s)}t.closePath(),t.fillStrokeShape(this)},getWidth:function(){return 2*this.getOuterRadius()},getHeight:function(){return 2*this.getOuterRadius()},setWidth:function(t){Konva.Node.prototype.setWidth.call(this,t),this.outerRadius()!==t/2&&this.setOuterRadius(t/2)},setHeight:function(t){Konva.Node.prototype.setHeight.call(this,t),this.outerRadius()!==t/2&&this.setOuterRadius(t/2)}},Konva.Util.extend(Konva.Star,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Star,"numPoints",5),Konva.Factory.addGetterSetter(Konva.Star,"innerRadius",0),Konva.Factory.addGetterSetter(Konva.Star,"outerRadius",0),Konva.Collection.mapMethods(Konva.Star)}(),function(){"use strict";var t=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width"],e="Change.konva",n="none",o="up",i="right",r="down",a="left",s="Label",p=t.length;Konva.Label=function(t){this.____init(t)},Konva.Label.prototype={____init:function(t){var e=this;Konva.Group.call(this,t),this.className=s,this.on("add.konva",function(t){e._addListeners(t.child),e._sync()})},getText:function(){return this.find("Text")[0]},getTag:function(){return this.find("Tag")[0]},_addListeners:function(n){var o,i=this,r=function(){i._sync()};for(o=0;o<p;o++)n.on(t[o]+e,r)},getWidth:function(){return this.getText().getWidth()},getHeight:function(){return this.getText().getHeight()},_sync:function(){var t,e,n,s,p,h,u,l=this.getText(),c=this.getTag();if(l&&c){switch(t=l.getWidth(),e=l.getHeight(),n=c.getPointerDirection(),s=c.getPointerWidth(),u=c.getPointerHeight(),p=0,h=0,n){case o:p=t/2,h=-1*u;break;case i:p=t+s,h=e/2;break;case r:p=t/2,h=e+u;break;case a:p=-1*s,h=e/2}c.setAttrs({x:-1*p,y:-1*h,width:t,height:e}),l.setAttrs({x:-1*p,y:-1*h})}}},Konva.Util.extend(Konva.Label,Konva.Group),Konva.Collection.mapMethods(Konva.Label),Konva.Tag=function(t){this.___init(t)},Konva.Tag.prototype={___init:function(t){Konva.Shape.call(this,t),this.className="Tag",this.sceneFunc(this._sceneFunc)},_sceneFunc:function(t){var e=this.getWidth(),n=this.getHeight(),s=this.getPointerDirection(),p=this.getPointerWidth(),h=this.getPointerHeight(),u=Math.min(this.getCornerRadius(),e/2,n/2);t.beginPath(),u?t.moveTo(u,0):t.moveTo(0,0),s===o&&(t.lineTo((e-p)/2,0),t.lineTo(e/2,-1*h),t.lineTo((e+p)/2,0)),u?(t.lineTo(e-u,0),t.arc(e-u,u,u,3*Math.PI/2,0,!1)):t.lineTo(e,0),s===i&&(t.lineTo(e,(n-h)/2),t.lineTo(e+p,n/2),t.lineTo(e,(n+h)/2)),u?(t.lineTo(e,n-u),t.arc(e-u,n-u,u,0,Math.PI/2,!1)):t.lineTo(e,n),s===r&&(t.lineTo((e+p)/2,n),t.lineTo(e/2,n+h),t.lineTo((e-p)/2,n)),u?(t.lineTo(u,n),t.arc(u,n-u,u,Math.PI/2,Math.PI,!1)):t.lineTo(0,n),s===a&&(t.lineTo(0,(n+h)/2),t.lineTo(-1*p,n/2),t.lineTo(0,(n-h)/2)),u&&(t.lineTo(0,u),t.arc(u,u,u,Math.PI,3*Math.PI/2,!1)),t.closePath(),t.fillStrokeShape(this)},getSelfRect:function(){var t=0,e=0,n=this.getPointerWidth(),s=this.getPointerHeight(),p=this.pointerDirection(),h=this.getWidth(),u=this.getHeight();return p===o?(e-=s,u+=s):p===r?u+=s:p===a?(t-=1.5*n,h+=n):p===i&&(h+=1.5*n),{x:t,y:e,width:h,height:u}}},Konva.Util.extend(Konva.Tag,Konva.Shape),Konva.Factory.addGetterSetter(Konva.Tag,"pointerDirection",n),Konva.Factory.addGetterSetter(Konva.Tag,"pointerWidth",0),Konva.Factory.addGetterSetter(Konva.Tag,"pointerHeight",0),Konva.Factory.addGetterSetter(Konva.Tag,"cornerRadius",0),Konva.Collection.mapMethods(Konva.Tag)}(),function(){"use strict";Konva.Arrow=function(t){this.____init(t)},Konva.Arrow.prototype={____init:function(t){Konva.Line.call(this,t),this.className="Arrow"},_sceneFunc:function(t){Konva.Line.prototype._sceneFunc.apply(this,arguments);var e=2*Math.PI,n=this.points(),o=n.length,i=n[o-2]-n[o-4],r=n[o-1]-n[o-3],a=(Math.atan2(r,i)+e)%e,s=this.pointerLength(),p=this.pointerWidth();t.save(),t.beginPath(),t.translate(n[o-2],n[o-1]),t.rotate(a),t.moveTo(0,0),t.lineTo(-s,p/2),t.lineTo(-s,-p/2),t.closePath(),t.restore(),this.pointerAtBeginning()&&(t.save(),t.translate(n[0],n[1]),i=n[2]-n[0],r=n[3]-n[1],t.rotate((Math.atan2(-r,-i)+e)%e),t.moveTo(0,0),t.lineTo(-s,p/2),t.lineTo(-s,-p/2),t.closePath(),t.restore()),t.fillStrokeShape(this)}},Konva.Util.extend(Konva.Arrow,Konva.Line),Konva.Factory.addGetterSetter(Konva.Arrow,"pointerLength",10),Konva.Factory.addGetterSetter(Konva.Arrow,"pointerWidth",10),Konva.Factory.addGetterSetter(Konva.Arrow,"pointerAtBeginning",!1),Konva.Collection.mapMethods(Konva.Arrow)}()}).call(e,function(){return this}())},function(t,e,n){function o(t,e){this._id=t,this._clearFn=e}var i=Function.prototype.apply;e.setTimeout=function(){return new o(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(185),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,n){"use strict";function o(t,e,n){e=e||1;for(var o,a,p,u,l=0;l<t[0].length;l++){var c=t[0][l];(!l||c[0]<o)&&(o=c[0]),(!l||c[1]<a)&&(a=c[1]),(!l||c[0]>p)&&(p=c[0]),(!l||c[1]>u)&&(u=c[1])}var f=p-o,d=u-a,y=Math.min(f,d),v=y/2,g=new h(null,i);if(0===y)return[o,a];for(var m=o;m<p;m+=y)for(var b=a;b<u;b+=y)g.push(new r(m+v,b+v,v,t));var x=s(t),_=new r(o+f/2,a+d/2,0,t);_.d>x.d&&(x=_);for(var w=g.length;g.length;){var P=g.pop();P.d>x.d&&(x=P,n&&console.log("found best %d after %d probes",Math.round(1e4*P.d)/1e4,w)),P.max-x.d<=e||(v=P.h/2,g.push(new r(P.x-v,P.y-v,v,t)),g.push(new r(P.x+v,P.y-v,v,t)),g.push(new r(P.x-v,P.y+v,v,t)),g.push(new r(P.x+v,P.y+v,v,t)),w+=4)}return n&&(console.log("num probes: "+w),console.log("best distance: "+x.d)),[x.x,x.y]}function i(t,e){return e.max-t.max}function r(t,e,n,o){this.x=t,this.y=e,this.h=n,this.d=a(t,e,o),this.max=this.d+this.h*Math.SQRT2}function a(t,e,n){for(var o=!1,i=1/0,r=0;r<n.length;r++)for(var a=n[r],s=0,h=a.length,u=h-1;s<h;u=s++){var l=a[s],c=a[u];l[1]>e!=c[1]>e&&t<(c[0]-l[0])*(e-l[1])/(c[1]-l[1])+l[0]&&(o=!o),i=Math.min(i,p(t,e,l,c))}return(o?1:-1)*Math.sqrt(i)}function s(t){for(var e=0,n=0,o=0,i=t[0],a=0,s=i.length,p=s-1;a<s;p=a++){var h=i[a],u=i[p],l=h[0]*u[1]-u[0]*h[1];n+=(h[0]+u[0])*l,o+=(h[1]+u[1])*l,e+=3*l}return 0===e?new r(i[0][0],i[0][1],0,t):new r(n/e,o/e,0,t)}function p(t,e,n,o){var i=n[0],r=n[1],a=o[0]-i,s=o[1]-r;if(0!==a||0!==s){var p=((t-i)*a+(e-r)*s)/(a*a+s*s);p>1?(i=o[0],r=o[1]):p>0&&(i+=a*p,r+=s*p)}return a=t-i,s=e-r,a*a+s*s}var h=n(186);t.exports=o,t.exports.default=o},function(t,e,n){"use strict";t.exports=n(31),n(181),n(182),n(183)},function(t,e,n){"use strict";var o=n(31),i=n(23);t.exports=o,o.prototype.done=function(t,e){var n=arguments.length?this.then.apply(this,arguments):this;n.then(null,function(t){i(function(){throw t})})}},function(t,e,n){"use strict";function o(t){this.then=function(e){return"function"!=typeof e?this:new i(function(n,o){r(function(){try{n(e(t))}catch(t){o(t)}})})}}var i=n(31),r=n(23);t.exports=i,o.prototype=i.prototype;var a=new o(!0),s=new o(!1),p=new o(null),h=new o(void 0),u=new o(0),l=new o("");i.resolve=function(t){if(t instanceof i)return t;if(null===t)return p;if(void 0===t)return h;if(t===!0)return a;if(t===!1)return s;if(0===t)return u;if(""===t)return l;if("object"==typeof t||"function"==typeof t)try{var e=t.then;if("function"==typeof e)return new i(e.bind(t))}catch(t){return new i(function(e,n){n(t)})}return new o(t)},i.all=function(t){var e=Array.prototype.slice.call(t);return new i(function(t,n){function o(r,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){o(r,t)},n)}e[r]=a,0===--i&&t(e)}catch(t){n(t)}}if(0===e.length)return t([]);for(var i=e.length,r=0;r<e.length;r++)o(r,e[r])})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){t.forEach(function(t){i.resolve(t).then(e,n)})})},i.prototype.catch=function(t){return this.then(null,t)}},function(t,e,n){"use strict";var o=n(31),i=n(23);t.exports=o,o.denodeify=function(t,e){return e=e||1/0,function(){var n=this,i=Array.prototype.slice.call(arguments);return new o(function(o,r){for(;i.length&&i.length>e;)i.pop();i.push(function(t,e){t?r(t):o(e)});var a=t.apply(n,i);!a||"object"!=typeof a&&"function"!=typeof a||"function"!=typeof a.then||o(a)})}},o.nodeify=function(t){return function(){var e=Array.prototype.slice.call(arguments),n="function"==typeof e[e.length-1]?e.pop():null,r=this;try{return t.apply(this,arguments).nodeify(n,r)}catch(t){if(null===n||"undefined"==typeof n)return new o(function(e,n){n(t)});i(function(){n.call(r,t)})}}},o.prototype.nodeify=function(t,e){return"function"!=typeof t?this:void this.then(function(n){i(function(){t.call(e,null,n)})},function(n){i(function(){t.call(e,n)})})}},function(t,e,n){var o,i;/*!
	  * $script.js JS loader & dependency manager
	  * https://github.com/ded/script.js
	  * (c) Dustin Diaz 2014 | License MIT
	  */
!function(r,a){"undefined"!=typeof t&&t.exports?t.exports=a():(o=a,i="function"==typeof o?o.call(e,n,e,t):o,!(void 0!==i&&(t.exports=i)))}("$script",function(){function t(t,e){for(var n=0,o=t.length;n<o;++n)if(!e(t[n]))return p;return 1}function e(e,n){t(e,function(t){return!n(t)})}function n(r,a,s){function p(t){return t.call?t():c[t]}function u(){if(!--m){c[g]=1,v&&v();for(var n in d)t(n.split("|"),p)&&!e(d[n],p)&&(d[n]=[])}}r=r[h]?r:[r];var l=a&&a.call,v=l?a:s,g=l?r.join(""):a,m=r.length;return setTimeout(function(){e(r,function t(e,n){return null===e?u():(n||/^https?:\/\//.test(e)||!i||(e=e.indexOf(".js")===-1?i+e+".js":i+e),y[e]?(g&&(f[g]=1),2==y[e]?u():setTimeout(function(){t(e,!0)},0)):(y[e]=1,g&&(f[g]=1),void o(e,u)))})},0),n}function o(t,e){var n,o=a.createElement("script");o.onload=o.onerror=o[l]=function(){o[u]&&!/^c|loade/.test(o[u])||n||(o.onload=o[l]=null,n=1,y[t]=2,e())},o.async=1,o.src=r?t+(t.indexOf("?")===-1?"?":"&")+r:t,s.insertBefore(o,s.lastChild)}var i,r,a=document,s=a.getElementsByTagName("head")[0],p=!1,h="push",u="readyState",l="onreadystatechange",c={},f={},d={},y={};return n.get=o,n.order=function(t,e,o){!function i(r){r=t.shift(),t.length?n(r,i):n(r,e,o)}()},n.path=function(t){i=t},n.urlArgs=function(t){r=t},n.ready=function(o,i,r){o=o[h]?o:[o];var a=[];return!e(o,function(t){c[t]||a[h](t)})&&t(o,function(t){return c[t]})?i():!function(t){d[t]=d[t]||[],d[t][h](i),r&&r(a)}(o.join("|")),n},n.done=function(t){n([null],t)},n})},function(t,e,n){(function(t,e){!function(t,n){"use strict";function o(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return y[d]=o,f(d),d++}function i(t){delete y[t]}function r(t){var e=t.callback,o=t.args;switch(o.length){case 0:e();break;case 1:e(o[0]);break;case 2:e(o[0],o[1]);break;case 3:e(o[0],o[1],o[2]);break;default:e.apply(n,o)}}function a(t){if(v)setTimeout(a,0,t);else{var e=y[t];if(e){v=!0;try{r(e)}finally{i(t),v=!1}}}}function s(){f=function(t){e.nextTick(function(){a(t)})}}function p(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}function h(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&a(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),f=function(n){t.postMessage(e+n,"*")}}function u(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;a(e)},f=function(e){t.port2.postMessage(e)}}function l(){var t=g.documentElement;f=function(e){var n=g.createElement("script");n.onreadystatechange=function(){a(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}function c(){f=function(t){setTimeout(a,0,t)}}if(!t.setImmediate){var f,d=1,y={},v=!1,g=t.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(t);m=m&&m.setTimeout?m:t,"[object process]"==={}.toString.call(t.process)?s():p()?h():t.MessageChannel?u():g&&"onreadystatechange"in g.createElement("script")?l():c(),m.setImmediate=o,m.clearImmediate=i}}("undefined"==typeof self?"undefined"==typeof t?this:t:self)}).call(e,function(){return this}(),n(69))},function(t,e){"use strict";function n(t,e){if(!(this instanceof n))return new n(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||o,this.length>0)for(var i=this.length>>1;i>=0;i--)this._down(i)}function o(t,e){return t<e?-1:t>e?1:0}t.exports=n,n.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,o=e[t];t>0;){var i=t-1>>1,r=e[i];if(n(o,r)>=0)break;e[t]=r,t=i}e[t]=o},_down:function(t){for(var e=this.data,n=this.compare,o=this.length,i=o>>1,r=e[t];t<i;){var a=(t<<1)+1,s=a+1,p=e[a];if(s<o&&n(e[s],p)<0&&(a=s,p=e[s]),n(p,r)>=0)break;e[t]=p,t=a}e[t]=r}}},function(t,e,n){var o,i;/*!
	 * Unipointer v2.2.0
	 * base class for doing one thing with pointer event
	 * MIT license
	 */
!function(r,a){o=[n(67)],i=function(t){return a(r,t)}.apply(e,o),!(void 0!==i&&(t.exports=i))}(window,function(t,e){"use strict";function n(){}function o(){}var i=o.prototype=Object.create(e.prototype);i.bindStartEvent=function(t){this._bindStartEvent(t,!0)},i.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},i._bindStartEvent=function(e,n){n=void 0===n||!!n;var o=n?"addEventListener":"removeEventListener";t.PointerEvent?e[o]("pointerdown",this):(e[o]("mousedown",this),e[o]("touchstart",this))},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.getTouch=function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.identifier==this.pointerIdentifier)return n}},i.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},i.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},i.onpointerdown=function(t){this._pointerDown(t,t)},i._pointerDown=function(t,e){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},i.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var r={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"]};return i._bindPostStartEvents=function(e){if(e){var n=r[e.type];n.forEach(function(e){t.addEventListener(e,this)},this),this._boundPointerEvents=n}},i._unbindPostStartEvents=function(){this._boundPointerEvents&&(this._boundPointerEvents.forEach(function(e){t.removeEventListener(e,this)},this),delete this._boundPointerEvents)},i.onmousemove=function(t){this._pointerMove(t,t)},i.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},i.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},i._pointerMove=function(t,e){this.pointerMove(t,e)},i.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},i.onmouseup=function(t){this._pointerUp(t,t)},i.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},i.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},i._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},i.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},i._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},i.pointerDone=n,i.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},i.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},i._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},i.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},o.getPointerPoint=function(t){return{x:t.pageX,y:t.pageY}},o})},,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(o[r]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){function o(t,e){for(var n=0;n<t.length;n++){var o=t[n],i=l[o.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](o.parts[r]);for(;r<o.parts.length;r++)i.parts.push(p(o.parts[r],e))}else{for(var a=[],r=0;r<o.parts.length;r++)a.push(p(o.parts[r],e));l[o.id]={id:o.id,refs:1,parts:a}}}}function i(t){for(var e=[],n={},o=0;o<t.length;o++){var i=t[o],r=i[0],a=i[1],s=i[2],p=i[3],h={css:a,media:s,sourceMap:p};n[r]?n[r].parts.push(h):e.push(n[r]={id:r,parts:[h]})}return e}function r(t,e){var n=d(),o=g[g.length-1];if("top"===t.insertAt)o?o.nextSibling?n.insertBefore(e,o.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),g.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=g.indexOf(t);e>=0&&g.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",r(t,e),e}function p(t,e){var n,o,i;if(e.singleton){var r=v++;n=y||(y=s(e)),o=h.bind(null,n,r,!1),i=h.bind(null,n,r,!0)}else n=s(e),o=u.bind(null,n),i=function(){a(n)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else i()}}function h(t,e,n,o){var i=n?"":o.css;if(t.styleSheet)t.styleSheet.cssText=m(e,i);else{var r=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function u(t,e){var n=e.css,o=e.media,i=e.sourceMap;if(o&&t.setAttribute("media",o),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}var l={},c=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},f=c(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),d=c(function(){return document.head||document.getElementsByTagName("head")[0]}),y=null,v=0,g=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=f()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=i(t);return o(n,e),function(t){for(var r=[],a=0;a<n.length;a++){var s=n[a],p=l[s.id];p.refs--,r.push(p)}if(t){var h=i(t);o(h,e)}for(var a=0;a<r.length;a++){var p=r[a];if(0===p.refs){for(var u=0;u<p.parts.length;u++)p.parts[u]();delete l[p.id]}}}};var m=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()}]);
//# sourceMappingURL=vendor.3d8538161b40d854e620.js.map</script>
	<script>webpackJsonp([2,0],[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=i(49),a=n(r),s=i(83),o=n(s),c=i(188),d=n(c);window.application=new a.default({store:o.default,el:"#app",template:"<App/>",components:{App:d.default}}),window.eventBus=window.application.$children[0]},,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(14),a=n(r),s=i(35),o=n(s),c=i(96),d=n(c),u={displayNameForKey:function(e,t){return this.map[e].keymap[t]?this.map[e].keymap[t].private?null:this.map[e].keymap[t].displayName:t},valueForKey:function(e,t,i,n){return this.map[i].keymap[n]&&this.map[i].keymap[n].get?this.map[i].keymap[n].get(e,t):e[n]},setValueForKey:function(e,t,i,n,r){var a={success:!0};if(this.map[i].keymap[n]&&this.map[i].keymap[n].validator){var s=this.map[i].keymap[n].validator(e,t,r);if(a.success=s.success,!s.success)return a.error=s.error,a}return"stories"===i?t.dispatch("models/updateStoryWithData",(0,o.default)({story:e},n,r)):"spaces"===i?t.dispatch("models/updateSpaceWithData",(0,o.default)({space:e},n,r)):"shading"===i?t.dispatch("models/updateShadingWithData",(0,o.default)({shading:e},n,r)):"images"===i?t.dispatch("models/updateImageWithData",(0,o.default)({image:e},n,r)):t.dispatch("models/updateObjectWithData",(0,o.default)({object:e},n,r)),a},defaultKeysForType:function(e){return this.map[e]?(0,a.default)(this.map[e].keymap):[]},keyIsPrivate:function(e,t){return!!this.map[e].keymap[t]&&this.map[e].keymap[t].private},keyIsReadonly:function(e,t){return!!this.map[e].keymap[t]&&this.map[e].keymap[t].readonly},inputTypeForKey:function(e,t){return this.map[e].keymap[t]&&!this.map[e].keymap[t].readonly?this.map[e].keymap[t].input_type:null},selectOptionsForKey:function(e,t,i,n){return this.map[i].keymap[n]&&!this.map[i].keymap[n].readonly&&"select"===this.map[i].keymap[n].input_type?this.map[i].keymap[n].select_data(e,t):[]},map:d.default,libraryObjectWithId:function(e,t){var i;for(var n in e.library)e.library.hasOwnProperty(n)&&!i&&e.library[n].find(function(e){return e.id===t})&&(i=e.library[n].find(function(e){return e.id===t}),i.type=n);if(!i&&e.stories.find(function(e){return e.id===t})&&(i=e.stories.find(function(e){return e.id===t}),i.type="story"),!i)for(var r=0;r<e.stories.length;r++){var a=e.stories[r];!i&&a.spaces.find(function(e){return e.id===t})&&(i=a.spaces.find(function(e){return e.id===t}),i.type="space"),!i&&a.shading.find(function(e){return e.id===t})&&(i=a.shading.find(function(e){return e.id===t}),i.type="shading"),!i&&a.images.find(function(e){return e.id===t})&&(i=a.images.find(function(e){return e.id===t}),i.type="image")}return i},modelForFace:function(e,t){for(var i=0;i<e.stories.length;i++){var n=e.stories[i],r=n.shading.find(function(e){return e.face_id===t}),a=n.spaces.find(function(e){return e.face_id===t});if(r)return r.type="shading",r;if(a)return a.type="space",a}},generateName:function(e,t,i){var n=this.modelsForType(e,t),r=d.default[t].displayName+" ";if(i){var a=e.stories.findIndex(function(e){return e.id===i.id})+1;r=r.concat(a+" - ")}for(var s="",o=1;!s;)s=r+o,n.find(function(e){return e.name===s})&&(s=""),o+=1;return s},modelsForType:function(e,t){switch(t){case"stories":return e.stories;case"shading":case"spaces":case"images":return e.stories.reduce(function(e,i){return e.concat(i[t])},[]);default:return e.library[t]}}};t.default=u},,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(176),a=n(r),s={clipScale:100,offset:.01,setOperation:function(e,t,i){var n=t.map(function(e){return{X:e.x,Y:e.y}}),r=i.map(function(e){return{X:e.x,Y:e.y}}),s=new a.default.ClipperOffset,o=new a.default.Paths,c=new a.default.Paths;s.AddPaths([n],a.default.JoinType.jtMiter,a.default.EndType.etClosedPolygon),s.Execute(o,this.offset),s.Clear(),s.AddPaths([r],a.default.JoinType.jtMiter,a.default.EndType.etClosedPolygon),s.Execute(c,this.offset),s.Clear(),a.default.JS.ScaleUpPaths(o,this.clipScale),a.default.JS.ScaleUpPaths(c,this.clipScale);var d=new a.default.Clipper,u=new a.default.Paths;d.AddPaths(o,a.default.PolyType.ptSubject,!0),d.AddPaths(c,a.default.PolyType.ptClip,!0);var l;"union"===e?l=a.default.ClipType.ctUnion:"intersection"===e?l=a.default.ClipType.ctIntersection:"difference"===e&&(l=a.default.ClipType.ctDifference),d.Execute(l,u,a.default.PolyFillType.pftEvenOdd,a.default.PolyFillType.pftEvenOdd),a.default.JS.ScaleDownPaths(u,this.clipScale);var f=new a.default.Paths;return s.AddPaths(u,a.default.JoinType.jtMiter,a.default.EndType.etClosedPolygon),s.Execute(f,-this.offset),1===f.length?f[0].map(function(e){return{x:e.X,y:e.Y}}):0===f.length?[]:!(f.length>1)&&void 0},areaOfSelection:function(e){var t=e.map(function(e){return{X:e.x,Y:e.y}});return a.default.JS.AreaOfPolygon(t)},splittingVerticesForEdgeId:function(e,t){var i=this,n=t.edges.find(function(t){return t.id===e}),r=this.vertexForId(n.v1,t),a=this.vertexForId(n.v2,t);return t.vertices.filter(function(e){if(!(n.v1===e.id||n.v2===e.id||r.x===e.x&&r.y===e.y||a.x===e.x&&a.y===e.y)){var t=i.projectionOfPointToLine(e,{p1:r,p2:a});return i.distanceBetweenPoints(e,t)<=1/i.clipScale}})},projectionOfPointToLine:function(e,t){var i=t.p1,n=i.x,r=i.y,a=t.p2,s=a.x,o=a.y,c=e.x-n,d=e.y-r,u=s-n,l=o-r,f=c*u+d*l,p=u*u+l*l||2,h=f/p;return h<=0?t.p1:h>1?t.p2:{x:n+h*u,y:r+h*l}},distanceBetweenPoints:function(e,t){var i=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return Math.sqrt(i*i+n*n)},intersectionOfLines:function(e,t,i,n){var r=1e-7,a=function(e,t,i){return e-r<=t&&t<=i+r},s=((e.x*t.y-e.y*t.x)*(i.x-n.x)-(e.x-t.x)*(i.x*n.y-i.y*n.x))/((e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x)),o=((e.x*t.y-e.y*t.x)*(i.y-n.y)-(e.y-t.y)*(i.x*n.y-i.y*n.x))/((e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x));if(isNaN(s)||isNaN(o)||this.distanceBetweenPoints({x:s,y:o},e)<r||this.distanceBetweenPoints({x:s,y:o},t)<r||this.distanceBetweenPoints({x:s,y:o},i)<r||this.distanceBetweenPoints({x:s,y:o},n)<r)return!1;if(e.x>=t.x){if(!a(t.x,s,e.x))return!1}else if(!a(e.x,s,t.x))return!1;if(e.y>=t.y){if(!a(t.y,o,e.y))return!1}else if(!a(e.y,o,t.y))return!1;if(i.x>=n.x){if(!a(n.x,s,i.x))return!1}else if(!a(i.x,s,n.x))return!1;if(i.y>=n.y){if(!a(n.y,o,i.y))return!1}else if(!a(i.y,o,n.y))return!1;return{x:s,y:o}},vertexForId:function(e,t){return t.vertices.find(function(t){return t.id===e})},vertexForCoordinates:function(e,t,i){var n=this,r=(e.x,e.y,t);return i.vertices.find(function(t){return n.distanceBetweenPoints(e,t)<r})},verticesForFaceId:function(e,t){var i=this;return t.faces.find(function(t){return t.id===e}).edgeRefs.map(function(e){var n=i.edgeForId(e.edge_id,t),r=e.reverse?n.v2:n.v1;return i.vertexForId(r,t)})},edgeForId:function(e,t){return t.edges.find(function(t){return t.id===e})},edgesForVertexId:function(e,t){return t.edges.filter(function(t){return t.v1===e||t.v2===e})},edgesForFaceId:function(e,t){var i=this;return t.faces.find(function(t){return t.id===e}).edgeRefs.map(function(e){return i.edgeForId(e.edge_id,t)})},faceForId:function(e,t){return t.faces.find(function(t){return t.id===e})},facesForVertexId:function(e,t){var i=this;return t.faces.filter(function(n){return n.edgeRefs.find(function(n){var r=i.edgeForId(n.edge_id,t);return r.v1===e||r.v2===e})})},facesForEdgeId:function(e,t){return t.faces.filter(function(t){return t.edgeRefs.find(function(t){return t.edge_id===e})})}};t.default=s},,,,,,,,,,,,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ResizeGroup=t.Resize=t.ResizeEvents=void 0;var r=i(32),a=n(r),s=i(197),o=n(s),c=i(198),d=n(c);t.ResizeEvents=a.default,t.Resize=o.default,t.ResizeGroup=d.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=1;t.default={setId:function(e){i=e},generate:function(){return function(){return String(i++)}}()}},,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(49),a=n(r);t.default=new a.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={modes:{stories:"Story",images:"Image",spaces:"Space",shading:"Shading",building_units:"Building Unit",thermal_zones:"Thermal Zone",space_types:"Space Type"},palette:{shading:"#bbc3c7",neutral:"#bbc3c7",colors:["#002626","#007373","#000000","#004749","#009196","#8BC600","#b9ff14","#001516","#557a00","#E54C00","#ff7633","#993300","#EF9300","#ffb43d","#a36400"]}};t.default=i},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(33),a=n(r),s={displayNameForMode:function(e){return a.default.modes[e]},config:a.default};t.default=s},,,,,,,,,,,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(25),a=n(r),s=i(7);n(s);t.default={Vertex:function(e,t){return{id:a.default.generate(),x:e,y:t}},Edge:function(e,t){return{id:a.default.generate(),v1:e,v2:t}},Face:function(e){return{id:a.default.generate(),edgeRefs:e}},Geometry:function(){return{id:a.default.generate(),vertices:[],edges:[],faces:[]}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(25),a=n(r),s=i(105),o=n(s),c=i(33),d=n(c);t.default={Story:function(e){return{id:a.default.generate(),name:e,handle:null,geometry_id:null,below_floor_plenum_height:0,floor_to_ceiling_height:0,multiplier:0,spaces:[],windows:[],shading:[],images:[]}},Space:function(e){return{id:a.default.generate(),name:e,color:(0,o.default)("space"),handle:null,face_id:null,daylighting_controls:[],building_unit_id:null,thermal_zone_id:null,space_type_id:null,construction_set_id:null}},Shading:function(e){return{id:a.default.generate(),name:e,color:d.default.palette.shading,handle:null,face_id:null}},Image:function(e,t){return{id:a.default.generate(),src:t,name:e,visible:!0,height:0,width:0,x:0,y:0,z:0,r:0,opacity:1}},BuildingUnit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:a.default.generate(),color:(0,o.default)("building_unit"),name:e.name}},ThermalZone:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:a.default.generate(),color:(0,o.default)("thermal_zone"),name:e.name}},SpaceType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:a.default.generate(),color:(0,o.default)("space_type"),name:e.name}},ConstructionSet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:a.default.generate(),name:e.name}},Window:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:a.default.generate(),name:e.name}},DaylightingControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:a.default.generate(),name:e.name}}}},,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),s=i(6),o=i(196),c=n(o),d=i(192),u=n(d),l=i(189),f=n(l),p=i(199),h=n(p),m=i(193),y=n(m),g=i(194),v=n(g),_=i(24);t.default={name:"app",data:function(){return{error:null,success:null}},beforeCreate:function(){this.$store.dispatch("models/initStory")},mounted:function(){var e=this;this.$on("error",function(t){e.error=t,setTimeout(function(){e.error=null},5e3)}),this.$on("success",function(t){e.success=t,setTimeout(function(){e.success=null},5e3)})},computed:(0,a.default)({},(0,s.mapState)({tool:function(e){return e.application.currentSelections.tool}})),components:{"grid-view":u.default,"canvas-view":f.default,"inspector-view":y.default,library:v.default,navigation:c.default,toolbar:h.default,resize:_.Resize,"resize-group":_.ResizeGroup}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),s=i(191),o=n(s),c=i(190),d=n(c),u=i(6);t.default={name:"app",data:function(){return{}},computed:(0,a.default)({},(0,u.mapState)({mapEnabled:function(e){return e.project.map.enabled},mapVisible:function(e){return e.project.map.visible},northAxis:function(e){return e.project.config.north_axis}})),components:{"map-view":o.default,"images-view":d.default}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(14),a=n(r),s=i(1),o=n(s),c=i(13),d=n(c),u=i(6),l=i(34),f=n(l),p=i(5),h=(n(p),i(24)),m=i(177),y=(i(68),i(22));t.default={name:"images",data:function(){return{stage:null,imageCache:[]}},mounted:function(){h.ResizeEvents.$on("resize-resize",this.renderImages),window.addEventListener("resize",this.renderImages),this.renderImages()},beforeDestroy:function(){h.ResizeEvents.$on("resize-resize",this.renderImages),window.removeEventListener("resize",this.renderImages)},methods:{renderImages:function(){this.imageCache=JSON.parse((0,d.default)(this.images));var e=new m.Stage({container:"images",width:document.getElementById("canvas").clientWidth,height:document.getElementById("canvas").clientHeight}),t=new m.Layer;e.add(t),this.stage=e,this.images.forEach(this.renderImage.bind(this,t)),this.resetStage()},renderImage:function(e,t){var i=this,n=t.width,r=t.height,a=t.x,s=t.y;s*=-1;var o=new Image,c=new m.Group({x:this.scaleX.invert(a+n/2),y:this.scaleY.invert(s+r/2),offset:{x:this.scaleX.invert(n/2),y:this.scaleY.invert(r/2)},draggable:!0}),d=new m.Image({x:0,y:0,width:this.scaleX.invert(n),height:this.scaleY.invert(r),stroke:"#6AAC15",strokeWidth:3,strokeEnabled:this.currentImage&&this.currentImage.id===t.id,opacity:t.opacity,name:"image"}),u=new m.Circle({x:this.scaleX.invert(n/2),y:this.scaleY.invert(r/2),name:"center",draggable:!1});c.imageId=t.id,e.add(c),c.add(d).add(u).setZIndex(t.z).rotation(t.r),o.onload=function(){d.image(o),e.draw()},o.src=t.src,this.initRotation(c),this.initResize(c),c.on("click",function(e){i.currentImage=t}),c.on("dragend",function(n){i.currentImage=t;var r=d.size(),a=r.width,s=r.height,o=c.rotation(),l=u.getAbsolutePosition(e),f=l.x,p=l.y;i.$store.dispatch("models/updateImageWithData",{image:t,x:i.scaleX(f-a/2),y:i.scaleY(p-s/2),r:o,width:i.scaleX(a),height:i.scaleY(s)}),i.renderImages()})},initRotation:function(e){var t=e.get(".center")[0],i=e.getLayer(),n=new m.Circle({radius:6,draggable:!1,name:"rotateAnchorCircle",stroke:f.default.config.palette.neutral,strokeWidth:2}),r=new m.Line({stroke:f.default.config.palette.neutral,strokeWidth:2,name:"rotateAnchorLine"}),a=n.clone({name:"rotateAnchor",draggable:!0,strokeEnabled:!1});e.add(n).add(r).add(a),r.setZIndex(-10),a.on("dragmove",function(){var i=a.position(),n=i.x,r=i.y,s=t.position(),o=s.x,c=s.y,d=e.rotation(),u=270+180/Math.PI*Math.atan((r-c)/(n-o))+d;n<o&&(u-=180),u%=360,e.rotation(u%360)}),a.on("dragend",function(){n.setRadius(6),a.position(n.position()),i.draw()}),a.on("dragstart mouseover mousedown",function(){document.body.style.cursor="pointer",n.setRadius(10),i.draw()}),a.on("mouseout",function(){document.body.style.cursor="default",n.setRadius(6),i.draw()})},initResize:function(e){function t(e,t,n,r){var a=this,s=new m.Circle({x:t,y:n,fill:f.default.config.palette.neutral,radius:3,name:r,draggable:!0});s.on("dragmove",function(){var t,n=e.get(".topLeft")[0],r=e.get(".topRight")[0],o=e.get(".bottomRight")[0],c=e.get(".bottomLeft")[0],d=s.position(),u=d.x,l=(d.y,e.get(".image")[0]),f=a.images.find(function(t){return t.id===e.imageId}),p=f.width/f.height,h=r.getX()-n.getX(),m=h/p;switch(s.getName()){case"topLeft":n.position({x:u,y:o.getY()-m}),r.setY(o.getY()-m),c.setX(u),t={x:o.getX()-h,y:o.getY()-m};break;case"topRight":n.setY(o.getY()-m),r.setY(o.getY()-m),o.setX(u),t={x:c.getX(),y:c.getY()-m};break;case"bottomRight":r.setX(u),o.position({x:u,y:m}),c.setY(m),t=l.position();break;case"bottomLeft":n.setX(u),o.setY(m),c.position({x:u,y:m}),t={x:r.getX()-h,y:r.getY()}}l.size({width:h,height:m}).position(t),i()}),s.on("mouseover",function(){document.body.style.cursor="pointer",s.setRadius(6).draw()}),s.on("mouseout",function(){document.body.style.cursor="default",s.setRadius(3).draw()}),e.add(s)}function i(){var t=e.get(".center")[0],i=e.get(".rotateAnchor")[0],r=e.get(".rotateAnchorCircle")[0],a=e.get(".rotateAnchorLine")[0],s=(e.get(".topLeft")[0],e.get(".topRight")[0],e.get(".bottomRight")[0],e.get(".bottomLeft")[0],n.position()),o=n.size(),c=o.width,d=o.height;t.position({x:s.x+c/2,y:s.y+d/2}),r.position({x:s.x+c/2,y:s.y+1.25*d}),i.position({x:s.x+c/2,y:s.y+1.25*d}),a.points([r.getX(),r.getY(),t.getX(),t.getY()]),e.draw()}var n=e.get(".image")[0],r=n.size(),a=r.width,s=r.height;t.call(this,e,0,0,"topLeft"),t.call(this,e,a,0,"topRight"),t.call(this,e,a,s,"bottomRight"),t.call(this,e,0,s,"bottomLeft"),i()},resetStage:function(){if(this.scaleX){var e=(this.scaleX.range()[1]-this.scaleX.range()[0])/(this.scaleX.domain()[1]-this.scaleX.domain()[0]),t=(this.view.max_x-this.view.min_x)/this.$refs.images.clientWidth,i=e/t;if(this.stage){var n=this.rwuToPx(0,"x"),r=this.rwuToPx(0,"y");this.stage.scale({x:i,y:i}).position({x:n,y:r}).draw()}}},rwuToPx:function(e,t){var i=this.$refs.images,n=i.clientWidth,r=i.clientHeight;return"x"===t?y.scaleLinear().domain([0,n]).range([this.view.min_x,this.view.max_x]).invert(e):"y"===t?y.scaleLinear().domain([r,0]).range([this.view.min_y,this.view.max_y]).invert(e):void 0}},computed:(0,o.default)({},(0,u.mapState)({currentTool:function(e){return e.application.currentSelections.tool},images:function(e){return e.application.currentSelections.story.images},scaleX:function(e){return e.application.scale.x},scaleY:function(e){return e.application.scale.y},view:function(e){return e.project.view}}),{currentImage:{get:function(){return this.$store.state.application.currentSelections.image},set:function(e){this.$store.dispatch("application/setCurrentImage",{image:e})}}}),watch:{images:{handler:function(e){var t=this;e.length!==this.imageCache.length&&this.renderImages();for(var i=["height","width","x","y","r"],n=function(){var n=e[r],s=t.imageCache[r];(0,a.default)(n).forEach(function(e){n[e]===s[e]||~i.indexOf(e)||t.renderImages()})},r=0;r<e.length;r++)n()},deep:!0},currentImage:function(){this.renderImages()},view:{handler:function(e){this.resetStage()},deep:!0}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),s=i(6),o=i(24),c=i(195),d=n(c),u=i(174)("AIzaSyDIja3lnhq63SxukBm9_mA-jn5R0Bj9RN8",["places"]),l=i(68),f=i(22);t.default={name:"map",data:function(){return{view:null,map:null,autocomplete:null,mapModalVisible:!0,showGrid:!1}},mounted:function(){this.showGrid=this.gridVisible,this.initAutoComplete(),this.loadMap(),o.ResizeEvents.$on("resize-resize",this.map.updateSize)},beforeDestroy:function(){o.ResizeEvents.$off("resize-resize",this.map.updateSize)},methods:{initAutoComplete:function(){var e=this;u().then(function(t){var i=new t.places.Autocomplete(e.$refs.addressSearch);i.addListener("place_changed",function(){var t=i.getPlace();t.geometry&&(e.latitude=t.geometry.location.lat(),e.longitude=t.geometry.location.lng())})})},loadMap:function(){this.$refs.map.innerHTML="",this.view=new l.View,this.map=new l.Map({layers:[new l.layer.Tile({source:new l.source.OSM})],target:"map",view:this.view}),this.updateMapView()},updateMapView:function(){var e=(this.min_x+this.max_x)/2,t=(this.min_y+this.max_y)/2,i=(this.max_x-this.min_x)/this.$refs.map.clientWidth;if("ft"===this.units){var n=l.proj.METERS_PER_UNIT["us-ft"];i*=n,e*=n,t*=n}var r=l.proj.fromLonLat([this.longitude,this.latitude]),a=e*Math.cos(this.rotation)-t*Math.sin(this.rotation),s=t*Math.cos(this.rotation)+e*Math.sin(this.rotation);if(this.view.getCenter()){var o=1/l.proj.getPointResolution(this.view.getProjection(),1,this.view.getCenter());i*=o,a*=o,s*=o}r[0]+=a,r[1]+=s,this.view.setResolution(i),this.view.setCenter(r),this.view.setRotation(this.rotation)},finishSetup:function(){var e=l.proj.transform(this.view.getCenter(),"EPSG:3857","EPSG:4326");this.longitude=e[0],this.latitude=e[1],this.rotation=this.view.getRotation(),this.$store.dispatch("project/setMapInitialized",{initialized:!0}),this.tool="Rectangle",f.select("#reticle").remove(),this.gridVisible=this.showGrid},showReticle:function(){if("Map"===this.tool){this.gridVisible=!1;var e=100,t=this.$refs.map.clientWidth/2,i=this.$refs.map.clientHeight/2;f.select("#reticle").selectAll("#reticle path").data([[{x:t,y:i-e},{x:t,y:i+e}],[{x:t-e,y:i},{x:t+e,y:i}]]).enter().append("path").attr("stroke-width","1").attr("stroke","gray").attr("d",f.line().x(function(e){return e.x}).y(function(e){return e.y}))}}},computed:(0,a.default)({},(0,s.mapState)({projectView:function(e){return e.project.view},min_x:function(e){return e.project.view.min_x},max_x:function(e){return e.project.view.max_x},min_y:function(e){return e.project.view.min_y},max_y:function(e){return e.project.view.max_y},units:function(e){return e.project.config.units},mapInitialized:function(e){return e.project.map.initialized}}),{gridVisible:{get:function(){return this.$store.state.project.grid.visible},set:function(e){this.$store.dispatch("project/setGridVisible",{visible:e})}},tool:{get:function(){return this.$store.state.application.currentSelections.tool},set:function(e){this.$store.dispatch("application/setApplicationTool",{tool:e})}},latitude:{get:function(){return this.$store.state.project.map.latitude},set:function(e){this.$store.dispatch("project/setMapLatitude",{latitude:e})}},longitude:{get:function(){return this.$store.state.project.map.longitude},set:function(e){this.$store.dispatch("project/setMapLongitude",{longitude:e})}},rotation:{get:function(){return this.$store.state.project.map.rotation},set:function(e){this.$store.dispatch("project/setMapRotation",{rotation:e})}}}),watch:{latitude:function(){this.updateMapView()},longitude:function(){this.updateMapView()},rotation:function(){this.updateMapView()},projectView:{handler:function(){this.updateMapView()},deep:!0}},components:{MapModal:d.default}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),s=i(6),o=i(109),c=i(82),d=n(c),u=i(7),l=n(u),f=i(5),p=n(f),h=i(34),m=n(h),y=i(24),g=i(22);t.default={name:"grid",data:function(){return{points:[],original_bounds:{min_x:null,min_y:null,max_x:null,max_y:null,pxWidth:null,pxHeight:null},axis:{x:null,y:null},axis_generator:{x:null,y:null},transform:{x:0,y:0,k:1,kAbs:1},handleMouseMove:null,forceGridHide:!1}},mounted:function(){this.handleMouseMove=(0,o.throttle)(this.highlightSnapTarget,100),this.renderGrid=(0,o.debounce)(this.renderGrid,5),this.$refs.grid.addEventListener("reloadGrid",this.renderGrid),this.$refs.grid.addEventListener("click",this.gridClicked),this.$refs.grid.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("keyup",this.escapeAction),window.addEventListener("resize",this.renderGrid),y.ResizeEvents.$on("resize-resize",this.renderGrid),this.renderGrid()},beforeDestroy:function(){this.$refs.grid.removeEventListener("reloadGrid",this.renderGrid),this.$refs.grid.removeEventListener("click",this.gridClicked),this.$refs.grid.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("keyup",this.escapeAction),window.removeEventListener("resize",this.renderGrid),y.ResizeEvents.$off("resize-resize",this.renderGrid)},computed:(0,a.default)({},(0,s.mapState)({currentMode:function(e){return e.application.currentSelections.mode},currentTool:function(e){return e.application.currentSelections.tool},currentSpace:function(e){return e.application.currentSelections.space},currentShading:function(e){return e.application.currentSelections.shading},currentStory:function(e){return e.application.currentSelections.story},previousStoryVisible:function(e){return e.project.previous_story.visible},gridVisible:function(e){return e.project.grid.visible},units:function(e){return e.project.config.units},spacing:function(e){return e.project.grid.spacing},scaleX:function(e){return e.application.scale.x},scaleY:function(e){return e.application.scale.y}}),(0,s.mapGetters)({currentStoryGeometry:"application/currentStoryGeometry"}),{min_x:{get:function(){return this.$store.state.project.view.min_x},set:function(e){this.$store.dispatch("project/setViewMinX",{min_x:e})}},min_y:{get:function(){return this.$store.state.project.view.min_y},set:function(e){this.$store.dispatch("project/setViewMinY",{min_y:e})}},max_x:{get:function(){return this.$store.state.project.view.max_x},set:function(e){this.$store.dispatch("project/setViewMaxX",{max_x:e})}},max_y:{get:function(){return this.$store.state.project.view.max_y},set:function(e){this.$store.dispatch("project/setViewMaxY",{max_y:e})}},previousStory:function(){var e=this,t=this.$store.state.models.stories.findIndex(function(t){return t.id===e.$store.state.application.currentSelections.story.id});return 0===t?null:this.$store.state.models.stories[t-1]},previousStoryGeometry:function(){var e=this;return this.previousStory?this.$store.state.geometry.find(function(t){return t.id===e.previousStory.geometry_id}):null},previousStoryPolygons:function(){var e=this;return this.previousStoryVisible&&this.previousStoryGeometry?this.previousStoryGeometry.faces.map(function(t){var i=p.default.modelForFace(e.$store.state.models,t.id),n={face_id:t.id,previous_story:!0,color:i.color,points:t.edgeRefs.map(function(t){var i=l.default.edgeForId(t.edge_id,e.previousStoryGeometry),n=t.reverse?i.v2:i.v1;return l.default.vertexForId(n,e.previousStoryGeometry)})};if("space"===i.type)if("thermal_zones"===e.currentMode){var r=p.default.libraryObjectWithId(e.$store.state.models,i.thermal_zone_id);n.color=r?r.color:m.default.config.palette.neutral}else if("space_types"===e.currentMode){var a=p.default.libraryObjectWithId(e.$store.state.models,i.space_type_id);n.color=a?a.color:m.default.config.palette.neutral}else if("building_units"===e.currentMode){var s=p.default.libraryObjectWithId(e.$store.state.models,i.building_unit_id);n.color=s?s.color:m.default.config.palette.neutral}return n}):[]},polygons:function(){var e=this,t=this.currentStoryGeometry.faces.map(function(t){var i=p.default.modelForFace(e.$store.state.models,t.id),n={face_id:t.id,name:i.name,color:i.color,points:t.edgeRefs.map(function(t){var i=l.default.edgeForId(t.edge_id,e.currentStoryGeometry),n=t.reverse?i.v2:i.v1;return l.default.vertexForId(n,e.currentStoryGeometry)})};if("space"===i.type)if("thermal_zones"===e.currentMode){var r=p.default.libraryObjectWithId(e.$store.state.models,i.thermal_zone_id);n.color=r?r.color:m.default.config.palette.neutral}else if("space_types"===e.currentMode){var a=p.default.libraryObjectWithId(e.$store.state.models,i.space_type_id);n.color=a?a.color:m.default.config.palette.neutral}else if("building_units"===e.currentMode){var s=p.default.libraryObjectWithId(e.$store.state.models,i.building_unit_id);n.color=s?s.color:m.default.config.palette.neutral}return n});return this.previousStoryPolygons?this.previousStoryPolygons.concat(t):t}}),watch:{gridVisible:function(){this.updateGrid()},spacing:function(){this.updateGrid()},forceGridHide:function(){this.updateGrid()},currentMode:function(){this.drawPolygons()},polygons:function(){this.drawPolygons()},currentTool:function(){this.points=[],this.drawPolygons()},currentSpace:function(){this.points=[],this.drawPolygons()},currentShading:function(){this.points=[],this.drawPolygons()},points:function(){0===this.points.length&&this.eraseGuidelines(),this.drawPoints()},transform:function(e,t){this.forceGridHide=e.kAbs<.1,e.kAbs<.5?g.select("#svg-grid").selectAll(".polygon-text").style("display","none"):g.select("#svg-grid").selectAll(".polgyon-text").style("display","initial"),this.points.length&&(e.kAbs!==t.kAbs||Math.abs(t.y-e.y)>3||Math.abs(t.x-e.x)>3)&&(this.points=[])}},methods:d.default}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),s=i(6),o=i(7),c=n(o),d=i(5);n(d);t.default={name:"inspector",data:function(){return{geometryInspector:!0,storyInspector:!1}},methods:{startpoint:function(e){var t=this.edgeForId(e.edge_id);if(e.reverse){var i=this.vertexForId(t.v2);return"v2 "+i.id+" ("+i.x+","+i.y+")"}var n=this.vertexForId(t.v1);return"v1 "+n.id+" ("+n.x+","+n.y+")"},endpoint:function(e){var t=this.edgeForId(e.edge_id);if(e.reverse){var i=this.vertexForId(t.v1);return i.id+" (v1)  ("+i.x+","+i.y+")"}var n=this.vertexForId(t.v2);return n.id+" (v2)  ("+n.x+","+n.y+")"},edgeForId:function(e){return c.default.edgeForId(e,this.currentStoryGeometry)},vertexForId:function(e){var t=c.default.vertexForId(e,this.currentStoryGeometry);return t}},computed:(0,a.default)({currentSelectionsFace:function(){return this.$store.getters["application/currentSelectionsFace"]},currentStoryGeometry:function(){return this.$store.getters["application/currentStoryGeometry"]}},(0,s.mapState)({currentStory:function(e){return e.application.currentSelections.story},currentSpace:function(e){return e.application.currentSelections.space},currentShading:function(e){return e.application.currentSelections.shading}}))}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(14),a=n(r),s=i(13),o=n(s),c=i(1),d=n(c),u=i(6),l=i(5),f=n(l),p=i(175);t.default={name:"library",data:function(){return{search:"",sortKey:"id",sortDescending:!0,type:null,validationErrors:[],huebs:{}}},mounted:function(){this.type=this.mode,this.configurePickers()},computed:(0,d.default)({},(0,u.mapState)({mode:function(e){return e.application.currentSelections.mode},stories:function(e){return e.models.stories}}),{currentStory:{get:function(){return this.$store.state.application.currentSelections.story},set:function(e){this.$store.dispatch("application/setCurrentStory",{story:e})}},currentSpace:{get:function(){return this.$store.state.application.currentSelections.space},set:function(e){this.$store.dispatch("application/setCurrentSpace",{space:e})}},currentShading:{get:function(){return this.$store.state.application.currentSelections.shading},set:function(e){this.$store.dispatch("application/setCurrentShading",{shading:e})}},currentImage:{get:function(){return this.$store.state.application.currentSelections.image},set:function(e){this.$store.dispatch("application/setCurrentImage",{image:e})}},currentThermalZone:{get:function(){return this.$store.state.application.currentSelections.thermal_zone},set:function(e){this.$store.dispatch("application/setCurrentThermalZone",{thermal_zone:e})}},currentBuildingUnit:{get:function(){return this.$store.state.application.currentSelections.building_unit},set:function(e){this.$store.dispatch("application/setCurrentBuildingUnit",{building_unit:e})}},currentSpaceType:{get:function(){return this.$store.state.application.currentSelections.space_type},set:function(e){this.$store.dispatch("application/setCurrentSpaceType",{space_type:e})}},selectedObject:{get:function(){return"story"===this.type?this.currentStory:this.currentImage||this.currentSpace||this.currentShading||this.currentBuildingUnit||this.currentThermalZone||this.currentSpaceType},set:function(e){switch(this.type){case"stories":this.currentStory=e;break;case"building_units":this.currentBuildingUnit=e;break;case"thermal_zones":this.currentThermalZone=e;break;case"space_types":this.currentSpaceType=e;break;case"spaces":this.currentStory=this.stories.find(function(t){return t.spaces.find(function(t){return t.id===e.id})}),this.currentSpace=e;break;case"shading":this.currentStory=this.stories.find(function(t){return t.spaces.find(function(t){return t.id===e.id})}),this.currentShading=e;break;case"images":
this.currentStory=this.stories.find(function(e){return e.images.find(function(e){return e.id===e.id})}),this.currentImage=e}}},extendedLibrary:function(){for(var e=[],t=[],i=[],n=0;n<this.$store.state.models.stories.length;n++)e=e.concat(this.$store.state.models.stories[n].spaces),t=t.concat(this.$store.state.models.stories[n].shading),i=i.concat(this.$store.state.models.stories[n].images);return JSON.parse((0,o.default)((0,d.default)({},this.$store.state.models.library,{stories:this.$store.state.models.stories,spaces:e,shading:t,images:i})))},displayObjects:function(){var e=this;return(this.extendedLibrary[this.type]||[]).filter(function(t){return(0,a.default)(t).some(function(i){var n=String(e.valueForKey(t,i)).toLowerCase();return n.includes(e.search.toLowerCase())})}).sort(function(t,i){return t[e.sortKey]===i[e.sortKey]?0:e.sortDescending?t[e.sortKey]>i[e.sortKey]?-1:1:t[e.sortKey]<i[e.sortKey]?-1:1})},columns:function e(){var t=this,e=[];this.displayObjects.forEach(function(i){(0,a.default)(i).forEach(function(i){e.indexOf(i)!==-1||t.keyIsPrivate(t.type,i)||e.push(i)})});var i=f.default.defaultKeysForType(this.type);return i.forEach(function(i){e.indexOf(i)!==-1||t.keyIsPrivate(t.type,i)||e.push(i)}),e}}),methods:{createItem:function(){switch(this.type){case"stories":return void this.$store.dispatch("models/initStory");case"spaces":this.$store.dispatch("models/initSpace",{story:this.$store.state.application.currentSelections.story});break;case"shading":this.$store.dispatch("models/initShading",{story:this.$store.state.application.currentSelections.story});break;case"building_units":case"thermal_zones":case"space_types":case"construction_sets":case"windows":case"daylighting_controls":this.$store.dispatch("models/createObjectWithType",{type:this.type})}this.selectedObject=this.displayObjects[this.displayObjects.length-1]},displayTypeForType:function(e){return f.default.map[e].displayName},displayNameForKey:function(e){return f.default.displayNameForKey(this.type,e)},keyIsReadonly:function(e,t){return f.default.keyIsReadonly(this.type,t)},keyIsPrivate:function(e,t){return f.default.keyIsPrivate(this.type,t)},valueForKey:function(e,t){return this.errorForObjectAndKey(e,t)?this.errorForObjectAndKey(e,t).value:f.default.valueForKey(e,this.$store.state,this.type,t)},setValueForKey:function(e,t,i){var n=f.default.setValueForKey(e,this.$store,this.type,t,i);this.validationErrors=this.validationErrors.filter(function(t){return t.object_id!==e.id}),n.success||this.validationErrors.push({object_id:e.id,key:t,value:i,message:n.error,visible:!1})},errorForObjectAndKey:function(e,t){return t?this.validationErrors.find(function(i){return i.object_id===e.id&&i.key===t}):this.validationErrors.find(function(t){return t.object_id===e.id})},toggleError:function(e,t,i){var n=this.errorForObjectAndKey(e,t);n&&(n.visible=i)},destroyObject:function(e){if("stories"===this.type)this.$store.dispatch("models/destroyStory",{story:e});else if("spaces"===this.type){var t=this.$store.state.models.stories.find(function(t){return t.spaces.find(function(t){return t.id===e.id})});this.$store.dispatch("models/destroySpace",{space:e,story:t})}else if("images"===this.type){var i=this.$store.state.models.stories.find(function(t){return t.images.find(function(t){return t.id===e.id})});this.$store.dispatch("models/destroyImage",{image:e,story:i})}else if("shading"===this.type){var n=this.$store.state.models.stories.find(function(t){return t.shading.find(function(t){return t.id===e.id})});this.$store.dispatch("models/destroyShading",{shading:e,story:n})}else this.$store.dispatch("models/destroyObject",{object:e})},sortBy:function(e){this.sortDescending=this.sortKey!==e||!this.sortDescending,this.sortKey=e},inputTypeForKey:function(e){return f.default.inputTypeForKey(this.type,e)},selectOptionsForObjectAndKey:function(e,t){return f.default.selectOptionsForKey(e,this.$store.state,this.type,t)},configurePickers:function(){for(var e=this,t=document.querySelectorAll(".input-color > input"),i=function(i){var n=t[i].getAttribute("object-id");e.huebs[n]=new p(t[i],{saturations:1}),e.huebs[n].handler=function(t,i,r,a){var s=f.default.libraryObjectWithId(e.$store.state.models,n);e.setValueForKey(s,"color",t)},e.huebs[n].on("change",e.huebs[n].handler)},n=0;n<t.length;n++)i(n)}},watch:{displayObjects:function(){this.$nextTick(this.configurePickers)},type:function(){this.search="",this.sortKey="id",this.sortDescending=!0}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"MapModal",data:function(){return{address:""}},computed:{mapEnabled:{get:function(){return this.$store.state.project.map.enabled},set:function(e){this.$store.dispatch("project/setMapEnabled",{enabled:e})}},tool:{get:function(){return this.$store.state.application.currentSelections.tool},set:function(e){this.$store.dispatch("application/setApplicationTool",{tool:e})}}},methods:{importModelAsFile:function(e){var t=this,i=e.target.files[0],n=new FileReader;n.addEventListener("load",function(){t.importModel(n.result)},!1),i&&n.readAsText(i)},importModel:function(e){this.$store.dispatch("importModel",{clientWidth:document.getElementById("svg-grid").clientWidth,clientHeight:document.getElementById("svg-grid").clientHeight,data:JSON.parse(e)}),this.$emit("close")}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),s=i(6),o=i(34),c=n(o),d=i(5),u=n(d);t.default={name:"navigation",data:function(){return{}},computed:(0,a.default)({},(0,s.mapState)({modes:function(e){return e.application.modes},stories:function(e){return e.models.stories},building_units:function(e){return e.models.library.building_units},space_types:function(e){return e.models.library.space_types},thermal_zones:function(e){return e.models.library.thermal_zones},spaces:function(e){return e.application.currentSelections.story.spaces},shading:function(e){return e.application.currentSelections.story.shading},images:function(e){return e.application.currentSelections.story.images},max_x:function(e){return e.project.view.max_x},max_y:function(e){return e.project.view.max_y},min_x:function(e){return e.project.view.min_x},min_y:function(e){return e.project.view.min_y},scaleX:function(e){return e.application.scale.x},scaleY:function(e){return e.application.scale.y}}),{items:function(){return this[this.mode]},mode:{get:function(){return this.$store.state.application.currentSelections.mode},set:function(e){this.$store.dispatch("application/setApplicationMode",{mode:e})}},currentStory:{get:function(){return this.$store.state.application.currentSelections.story},set:function(e){this.$store.dispatch("application/setCurrentStory",{story:e})}},currentSpace:{get:function(){return this.$store.state.application.currentSelections.space},set:function(e){this.$store.dispatch("application/setCurrentSpace",{space:e})}},currentShading:{get:function(){return this.$store.state.application.currentSelections.shading},set:function(e){this.$store.dispatch("application/setCurrentShading",{shading:e})}},currentImage:{get:function(){return this.$store.state.application.currentSelections.image},set:function(e){this.$store.dispatch("application/setCurrentImage",{image:e})}},currentThermalZone:{get:function(){return this.$store.state.application.currentSelections.thermal_zone},set:function(e){this.$store.dispatch("application/setCurrentThermalZone",{thermal_zone:e})}},currentBuildingUnit:{get:function(){return this.$store.state.application.currentSelections.building_unit},set:function(e){this.$store.dispatch("application/setCurrentBuildingUnit",{building_unit:e})}},currentSpaceType:{get:function(){return this.$store.state.application.currentSelections.space_type},set:function(e){this.$store.dispatch("application/setCurrentSpaceType",{space_type:e})}},currentSubSelection:function(){return this.currentImage||this.currentSpace||this.currentShading||this.currentBuildingUnit||this.currentThermalZone||this.currentSpaceType}}),methods:{uploadImage:function(e){for(var t=e.target.files,i=this,n=function(e){var n=t[e],r=new FileReader;r.addEventListener("load",function(){var e=new Image;e.onload=function(){var t=document.getElementById("grid").clientWidth/(i.max_x-i.min_x),n=e.height/t/4,r=e.width/t/4;i.$store.dispatch("models/createImageForStory",{story_id:i.currentStory.id,src:e.src,name:u.default.generateName(i.$store.state.models,"images",i.currentStory),height:n,width:r,x:i.min_x,y:i.max_y})},e.src=r.result},!1),n&&r.readAsDataURL(n)},r=0;r<t.length;r++)n(r)},createItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mode;switch(e){case"stories":return void this.$store.dispatch("models/initStory");case"spaces":this.$store.dispatch("models/initSpace",{story:this.currentStory});break;case"shading":this.$store.dispatch("models/initShading",{story:this.currentStory});break;case"building_units":case"thermal_zones":case"space_types":this.$store.dispatch("models/createObjectWithType",{type:e})}this.selectItem(this.items[this.items.length-1],e)},destroyItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mode;if(!(this[t].length<=1)||"stories"!==t&&"spaces"!==t)switch(t){case"stories":this.$store.dispatch("models/destroyStory",{story:e});break;case"spaces":this.$store.dispatch("models/destroySpace",{space:e,story:this.currentStory});break;case"shading":this.$store.dispatch("models/destroyShading",{shading:e,story:this.currentStory});break;case"images":this.$store.dispatch("models/destroyImage",{image:e,story:this.currentStory});break;case"building_units":case"thermal_zones":case"space_types":this.$store.dispatch("models/destroyObject",{object:e})}},selectItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mode;switch(t){case"stories":this.currentStory=e;break;case"spaces":this.currentSpace=e;break;case"shading":this.currentShading=e;break;case"images":this.currentImage=e;break;case"building_units":this.currentBuildingUnit=e;break;case"thermal_zones":this.currentThermalZone=e;break;case"space_types":this.currentSpaceType=e}},clearSubSelections:function(){this.currentShading="shading"===this.mode?this.shading[0]:null,this.currentImage="images"===this.mode?this.images[0]:null,this.currentSpace="spaces"===this.mode?this.spaces[0]:null,this.currentBuildingUnit="building_units"===this.mode?this.building_units[0]:null,this.currentThermalZone="thermal_zones"===this.mode?this.thermal_zones[0]:null,this.currentSpaceType="space_types"===this.mode?this.space_types[0]:null},displayNameForMode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.mode;return c.default.displayNameForMode(e)}},watch:{mode:function(){this.clearSubSelections()},currentStory:function(){this.clearSubSelections()},currentSubSelection:function(){var e=this;!this.currentSubSelection&&this[this.mode][0]&&this.$nextTick(function(){e.selectItem(e[e.mode][0])})}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(32),a=n(r);t.default={name:"resize",data:function(){return{}},props:["resize-top","resize-right","resize-right-min","resize-top-min"],mounted:function(){this.$el.classList.add("resize"),this.resizeTop&&this.$refs.topbar.addEventListener("mousedown",this.initTop),this.resizeRight&&this.$refs.rightbar.addEventListener("mousedown",this.initRight)},methods:{initTop:function(){function e(e){e.preventDefault();var t=window.innerHeight,a=t-e.clientY;i.style.top=(a<r?t-r:e.clientY)+"px",n()}function t(i){window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t)}var i=this.$el,n=this.notify,r=this.resizeTopMin||0;window.addEventListener("mousemove",e),window.addEventListener("mouseup",t)},initRight:function(){function e(e){e.preventDefault(),i.style.width=(e.clientX<r?r:e.clientX)+"px",n()}function t(i){window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t)}var i=this.$el,n=this.notify,r=this.resizeRightMin||0;window.addEventListener("mousemove",e),window.addEventListener("mouseup",t)},notify:function(){a.default.$emit("resize-resize",{top:this.resizeTop&&this.$el.style.top,right:this.resizeRight&&this.$el.style.width})}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(32),a=n(r);t.default={name:"resizegroup",props:["vertical","horizontal"],data:function(){return{}},mounted:function(){a.default.$on("resize-resize",this.handleResize)},beforeDestroy:function(){a.default.$off("resize-resize",this.handleResize)},methods:{handleResize:function(e){if(this.vertical){for(var t,i=this.$el.children.length;i--;){var n=this.$el.children[i];if(~n.className.indexOf("resize")){t=n.style.top.match(/\d+/),t=t&&t[0];break}}if(t)for(var r=this.$el.children.length;r--;){var a=this.$el.children[r];~a.className.indexOf("resize")||(a.style.bottom=window.innerHeight-t+"px")}}if(this.horizontal){for(var s,o=this.$el.children.length;o--;){var c=this.$el.children[o];if(~c.className.indexOf("resize")){s=c.style.width.match(/\d+/),s=s&&s[0];break}}if(s)for(var d=this.$el.children.length;d--;){var u=this.$el.children[d];~u.className.indexOf("resize")||(u.style.left=s+"px")}}}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),a=n(r),s=i(13),o=n(s),c=i(6);t.default={name:"toolbar",data:function(){return{}},methods:{exportData:function(){var e=this.$store.getters.exportData;console.log(e);var t=document.createElement("a");return t.setAttribute("href","data:text/json;charset=utf-8,"+encodeURIComponent((0,o.default)(e))),t.setAttribute("download","floorplan.json"),t.click(),e},importModelAsFile:function(e){var t=this,i=e.target.files[0],n=new FileReader;n.addEventListener("load",function(){t.importModel(n.result)},!1),i&&n.readAsText(i)},importLibraryAsFile:function(e){var t=this,i=e.target.files[0],n=new FileReader;n.addEventListener("load",function(){var e=n.result;try{t.$store.dispatch("importLibrary",{data:JSON.parse(e)})}catch(e){window.eventBus.$emit("error","Invalid JSON")}},!1),i&&n.readAsText(i)},importModel:function(e){try{this.$store.dispatch("importModel",{clientWidth:document.getElementById("svg-grid").clientWidth,clientHeight:document.getElementById("svg-grid").clientHeight,data:JSON.parse(e)})}catch(e){window.eventBus.$emit("error","Invalid JSON")}},checkTool:function(){"Drag"===this.tool&&"images"!==this.currentMode&&(this.tool="Rectangle")}},computed:(0,a.default)({},(0,c.mapState)({currentMode:function(e){return e.application.currentSelections.mode},mapEnabled:function(e){return e.project.map.enabled}}),{availableTools:function(){var e=this;return this.$store.state.application.tools.filter(function(t){return"Rectangle"===t||"Polygon"===t||"Eraser"===t||"Select"===t?"spaces"===e.currentMode||"shading"===e.currentMode:"Drag"===t?"images"===e.currentMode:"Fill"!==t||e.previousStoryVisible&&("spaces"===e.currentMode||"shading"===e.currentMode)}).filter(function(e){return"Map"!==e})},northAxis:{get:function(){return this.$store.state.project.config.north_axis+"°"},set:function(e){this.$store.dispatch("project/setNorthAxis",{north_axis:e})}},gridVisible:{get:function(){return this.$store.state.project.grid.visible},set:function(e){this.$store.dispatch("project/setGridVisible",{visible:e})}},mapVisible:{get:function(){return this.$store.state.project.map.visible},set:function(e){this.$store.dispatch("project/setMapVisible",{visible:e})}},previousStoryVisible:{get:function(){return this.$store.state.project.previous_story.visible},set:function(e){this.$store.dispatch("project/setPreviousStoryVisible",{visible:e})}},tool:{get:function(){return this.$store.state.application.currentSelections.tool},set:function(e){this.$store.dispatch("application/setApplicationTool",{tool:e})}},spacing:{get:function(){return this.$store.state.project.grid.spacing+" "+this.$store.state.project.config.units},set:function(e){this.$store.dispatch("project/setSpacing",{spacing:e})}}}),watch:{tool:function(){this.checkTool()},currentMode:function(){this.checkTool()}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(116),a=n(r),s=i(13),o=n(s),c=i(1),d=n(c),u=i(53),l=n(u),f=i(7),p=n(f),h=i(5),m=n(h),y=i(22),g=i(179);t.default={gridClicked:function(e){"Eraser"!==this.currentTool&&("Rectangle"!==this.currentTool&&"Polygon"!==this.currentTool||!this.currentSpace&&!this.currentShading)||this.addPoint(e)},addPoint:function(e){var t={x:this.pxToGrid(e.offsetX,"x"),y:this.pxToGrid(e.offsetY,"y")},i=this.findSnapTarget(t);if("vertex"===i.type&&i.origin&&"Polygon"===this.currentTool)return void this.savePolygonFace();var n="edge"===i.type?i.projection:i;this.points.push(n),"Eraser"===this.currentTool&&2===this.points.length&&this.eraseRectangularSelection(),"Rectangle"===this.currentTool&&2===this.points.length&&this.saveRectuangularFace()},highlightSnapTarget:function(e){if("Eraser"===this.currentTool||("Rectangle"===this.currentTool||"Polygon"===this.currentTool)&&(this.currentSpace||this.currentShading)){y.selectAll("#grid .highlight, #grid .gridpoint").remove();var t={x:this.pxToGrid(e.offsetX,"x"),y:this.pxToGrid(e.offsetY,"y")},i=this.findSnapTarget(t),n="edge"===i.type?i.projection:i;this.drawGuideLines(e,n),"edge"===i.type||"vertex"===i.type?y.select("#grid svg").append("ellipse").attr("cx",n.x,"x").attr("cy",n.y,"y").attr("rx",this.scaleX(5)).attr("ry",this.scaleY(5)).classed("highlight",!0).attr("vector-effect","non-scaling-stroke"):y.select("#grid svg").append("ellipse").attr("cx",n.x).attr("cy",n.y).attr("rx",this.scaleX(2)).attr("ry",this.scaleY(2)).classed("gridpoint",!0).attr("vector-effect","non-scaling-stroke"),"edge"===i.type&&"Eraser"!==this.currentTool&&y.select("#grid svg").append("line").attr("x1",i.v1GridCoords.x).attr("y1",i.v1GridCoords.y).attr("x2",i.v2GridCoords.x).attr("y2",i.v2GridCoords.y).attr("stroke-width",1).classed("highlight",!0).attr("vector-effect","non-scaling-stroke")}},drawGuideLines:function(e,t){var i=this;if(this.points.length){this.eraseGuidelines();var n,r;"Polygon"===this.currentTool?(n=[t,this.points[this.points.length-1]],r=[n]):"Rectangle"!==this.currentTool&&"Eraser"!==this.currentTool||(n=[this.points[0],{x:t.x,y:this.points[0].y},t,{x:this.points[0].x,y:t.y},this.points[0]],r=[[n[0],n[1]],[n[1],n[2]]]);var a="Polygon"===this.currentTool?[].concat((0,l.default)(this.points),[t,this.points[0]]):n,s=[a,this.points],o=y.select("#grid svg");if(o.selectAll(".guideline-line").append("path").datum(n).attr("fill","none").classed("guideline guideline-line",!0).attr("vector-effect","non-scaling-stroke").attr("d",y.line().x(function(e){return e.x}).y(function(e){return e.y})).lower(),o.selectAll(".guideline-area").data(s).enter().append("polygon").attr("points",function(e){return e.map(function(e){return[e.x,e.y].join(",")}).join(" ")}).classed("guideline guideline-area guideLine",!0).attr("vector-effect","non-scaling-stroke").attr("fill",function(){return"Eraser"===i.currentTool?"none":i.currentSpace?i.currentSpace.color:i.currentShading?i.currentShading.color:void 0}),"Eraser"!==this.currentTool){if(o.selectAll(".guideline-text").data(r).enter().append("text").attr("x",function(e){return e[0].x+(e[1].x-e[0].x)/2}).attr("y",function(e){return e[0].y+(e[1].y-e[0].y)/2}).attr("dx",-1.25*(this.transform.k>1?1:this.transform.k)+"em").text(function(e){var t=i.transform.k,n=i.distanceBetweenPoints({x:e[0].x/t,y:e[0].y/t},{x:e[1].x/t,y:e[1].y/t});return n?n.toFixed(2):""}).classed("guideline guideline-text",!0).attr("font-family","sans-serif").attr("fill","red").style("font-size","1em"),a.length>3){var c=a.map(function(e){var t=i.gridToRWU(e.x,"x"),n=i.gridToRWU(e.y,"y");return{x:t,y:n,X:t,Y:n}}),d=this.polygonLabelPosition(c),u=d.x,f=d.y,p=d.area,h=p?p.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,"):"";if(h+=" "+this.units+"²",null===u||null===f)return;o.append("text").attr("x",u).attr("y",f).text(h).classed("guideline guideline-text guideLine",!0).attr("text-anchor","middle").attr("font-family","sans-serif").attr("fill","red").style("font-size","1em").raise()}y.selectAll(".vertical, .horizontal").lower()}}},eraseGuidelines:function(){y.selectAll("#grid .guideline").remove()},escapeAction:function(e){"Escape"!==e.code&&27!==e.which||(this.points=[])},savePolygonFace:function(){var e=this,t={points:this.points.map(function(t){return{x:e.gridToRWU(t.x,"x"),y:e.gridToRWU(t.y,"y")}})};this.currentSpace?t.model_id=this.currentSpace.id:this.currentShading&&(t.model_id=this.currentShading.id),this.$store.dispatch("geometry/createFaceFromPoints",t),this.points=[]},saveRectuangularFace:function(){var e=this,t={};t.points=[this.points[0],{x:this.points[1].x,y:this.points[0].y},this.points[1],{x:this.points[0].x,y:this.points[1].y}].map(function(t){return{x:e.gridToRWU(t.x,"x"),y:e.gridToRWU(t.y,"y")}}),this.currentSpace?t.model_id=this.currentSpace.id:this.currentShading&&(t.model_id=this.currentShading.id),this.$store.dispatch("geometry/createFaceFromPoints",t),this.points=[]},eraseRectangularSelection:function(){var e=this,t={points:[this.points[0],{x:this.points[1].x,y:this.points[0].y},this.points[1],{x:this.points[0].x,y:this.points[1].y}]};t.points=t.points.map(function(t){return{x:e.gridToRWU(t.x,"x"),y:e.gridToRWU(t.y,"y")}}),this.$store.dispatch("geometry/eraseSelection",t),this.points=[]},drawPoints:function(){y.selectAll("#grid ellipse, #grid path").remove(),y.select("#grid svg").selectAll("ellipse").data(this.points).enter().append("ellipse").attr("cx",function(e){return e.x}).attr("cy",function(e){return e.y}).attr("rx",this.scaleX(2)).attr("ry",this.scaleY(2)).attr("vector-effect","non-scaling-stroke"),y.select("#grid svg").select("ellipse").attr("rx",this.scaleX(7)).attr("ry",this.scaleY(7)).classed("origin",!0).attr("vector-effect","non-scaling-stroke").attr("fill","none"),y.select("#grid svg").append("path").datum(this.points).attr("fill","none").attr("vector-effect","non-scaling-stroke").attr("d",y.line().x(function(e){return e.x}).y(function(e){return e.y})).lower(),y.selectAll(".vertical, .horizontal").lower()},registerDrag:function(){var e=this,t=y.select("#grid svg").selectAll("polygon"),i=0,n=0,r=this,a=y.drag().on("start",function(t){if(y.select("#text-"+t.face_id).remove(),"Select"!==e.currentTool||t.previous_story)"Fill"===e.currentTool&&(e.currentSpace||e.currentShading)&&(e.points=t.points.map(function(t){return{x:e.rwuToGrid(t.x,"x"),y:e.rwuToGrid(t.y,"y")}}),e.savePolygonFace());else{var i=m.default.modelForFace(e.$store.state.models,t.face_id);"space"===i.type?e.$store.dispatch("application/setCurrentSpace",{space:i}):"shading"===i.type&&e.$store.dispatch("application/setCurrentShading",{shading:i})}}).on("drag",function(e){"Select"!==r.currentTool||e.previous_story||(i+=y.event.dx,n+=y.event.dy,y.select("#face-"+e.face_id).attr("transform",function(){return"translate("+[i,n]+")"}),y.select("#text-"+e.face_id).attr("transform",function(){return"translate("+[i,n]+")"}))}).on("end",function(t){"Select"!==e.currentTool||t.previous_story||e.$store.dispatch("geometry/moveFaceByOffset",{face_id:t.face_id,dx:e.gridToRWU(i,"x")-e.min_x,dy:e.gridToRWU(n,"y")-e.max_y})});"Select"===this.currentTool&&t.call(a)},drawPolygons:function(){var e=this,t=this;y.select("#grid svg").selectAll("polygon, .polygon-text").remove(),y.select("#grid svg").selectAll("polygon").data(this.polygons).enter().append("polygon").attr("id",function(e){return"face-"+e.face_id}).attr("points",function(t){return t.points.map(function(t){return[e.rwuToGrid(t.x,"x"),e.rwuToGrid(t.y,"y")].join(",")}).join(" ")}).attr("class",function(t){return e.currentSpace&&t.face_id===e.currentSpace.face_id||e.currentShading&&t.face_id===e.currentShading.face_id?"current":t.previous_story?"previousStory":null}).attr("fill",function(e){return e.color}).attr("vector-effect","non-scaling-stroke").select(function(e){var i=this,n=t.polygonLabelPosition(e.points),r=n.x,a=n.y;y.select("#grid svg").append("text").attr("id","text-"+e.face_id).attr("x",r).attr("y",a).text(e.name).attr("text-anchor","middle").style("font-size",t.scaleY(12)+" px").style("font-weight","bold").attr("font-family","sans-serif").attr("fill","red").attr("class",function(){return i.getAttribute("class")}).classed("polygon-text",!0)}),this.registerDrag(),y.select(".current").raise(),y.select("text.current").raise()},findSnapTarget:function(e){var t=this,i={x:this.gridToRWU(e.x,"x"),y:this.gridToRWU(e.y,"y")},n=this.snappingVertexData(i);if(n)return n;var r=this.snappingEdgeData(i);if(r)return r;if(this.gridVisible){var a=+this.axis.x.select(".tick").attr("transform").replace("translate(","").replace(")","").split(",")[0],s=+this.axis.y.select(".tick").attr("transform").replace("translate(","").replace(")","").split(",")[1],o=this.rwuToGrid(this.spacing+this.min_x,"x"),c=this.rwuToGrid(this.max_y-this.spacing,"y"),u={type:"gridpoint",x:this.round(e.x,this.rwuToGrid(this.spacing+this.min_x,"x"))+a-.5,y:this.round(e.y,this.rwuToGrid(this.max_y-this.spacing,"y"))+s-.5};return u.x=Math.abs(e.x-(u.x-o))>Math.abs(e.x-u.x)?u.x:u.x-o,u.y=Math.abs(e.y-(u.y-c))>Math.abs(e.y-u.y)?u.y:u.y-c,u}if(this.points.length){var l,f=[-180,-90,0,90,180],p=this.points[this.points.length-1],h=Math.atan2(p.y-e.y,p.x-e.x)*(180/Math.PI);if(f.some(function(i){if(Math.abs(h-i)<t.$store.getters["project/angleTolerance"]){if(i===-180||0===i||180===i)return{x:e.x,y:t.rotatePoint(p,e,i-h).y};if(i===-90||90===i)return{x:t.rotatePoint(p,e,i-h).x,y:e.y}}}),l)return(0,d.default)({type:"gridpoint"},l)}return(0,d.default)({type:"gridpoint"},e)},snappingVertexData:function(e){var t=this,i=[].concat((0,l.default)(this.currentStoryGeometry.vertices));if(this.previousStoryGeometry&&(i=i.concat(JSON.parse((0,o.default)(this.previousStoryGeometry.vertices)))),this.points.length>=3&&"Polygon"===this.currentTool&&i.push({x:this.gridToRWU(this.points[0].x,"x"),y:this.gridToRWU(this.points[0].y,"y"),origin:!0}),i.length){var n=i.reduce(function(i,n){var r=t.distanceBetweenPoints(i,e),a=t.distanceBetweenPoints(n,e);return r<a?i:n});return this.distanceBetweenPoints(n,e)<this.$store.getters["project/snapTolerance"]?{x:this.rwuToGrid(n.x,"x"),y:this.rwuToGrid(n.y,"y"),origin:n.origin,type:"vertex"}:void 0}},snappingEdgeData:function(e){var t=this,i=[].concat((0,l.default)(this.currentStoryGeometry.edges));if(this.previousStoryGeometry&&(i=i.concat(JSON.parse((0,o.default)(this.previousStoryGeometry.edges.map(function(e){return(0,d.default)({},e,{previous_story:!0})}))))),i.length){var n=i.reduce(function(i,n){var r=i.previous_story?t.previousStoryGeometry:t.currentStoryGeometry,a=n.previous_story?t.previousStoryGeometry:t.currentStoryGeometry,s=p.default.vertexForId(i.v1,r),o=p.default.vertexForId(i.v2,r),c=p.default.vertexForId(n.v1,a),d=p.default.vertexForId(n.v2,a),u=p.default.projectionOfPointToLine(e,{p1:s,p2:o}),l=p.default.projectionOfPointToLine(e,{p1:c,p2:d}),f=p.default.distanceBetweenPoints(u,e),h=p.default.distanceBetweenPoints(l,e);return f<h?i:n}),r=n.previous_story?this.previousStoryGeometry:this.currentStoryGeometry,a=p.default.vertexForId(n.v1,r),s=p.default.vertexForId(n.v2,r),c=p.default.projectionOfPointToLine(e,{p1:a,p2:s}),u=this.distanceBetweenPoints(c,e),f=[-180,-90,0,90,180],h=Math.atan2(e.y-c.y,e.x-c.x)*(180/Math.PI);return f.some(function(i){if(Math.abs(h-i)<t.$store.getters["project/angleTolerance"]){var n,r;180===i||0===i||i===-180?(n={x:e.x-2*u,y:e.y},r={x:e.x+2*u,y:e.y}):90!==i&&i!==-90||(n={x:e.x,y:e.y-2*u},r={x:e.x,y:e.y+2*u}),c=p.default.intersectionOfLines(n,r,a,s)}}),u<this.$store.getters["project/snapTolerance"]?{snappingEdge:n,dist:n.dist,type:"edge",projection:{x:this.rwuToGrid(c.x,"x"),y:this.rwuToGrid(c.y,"y")},v1GridCoords:{x:this.rwuToGrid(a.x,"x"),y:this.rwuToGrid(a.y,"y")},v2GridCoords:{x:this.rwuToGrid(s.x,"x"),y:this.rwuToGrid(s.y,"y")}}:void 0}},distanceBetweenPoints:function(e,t){var i=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y);return Math.sqrt(i*i+n*n)},round:function(e,t){var i,n=e<0?-1:1;return e=Math.abs(e),i=e%t<t/2?e-e%t:e+t-e%t,i*=n},rotatePoint:function(e,t,i){var n=i*Math.PI/180,r=Math.cos(n),a=Math.sin(n),s=t.x-e.x,o=t.y-e.y;return{x:r*s-a*o+e.x,y:a*s+r*o+e.y}},renderGrid:function(){var e=this.$refs.grid.clientWidth,t=this.$refs.grid.clientHeight;this.original_bounds&&(this.max_x-=this.min_x,this.min_x=0,this.max_y-=this.min_y,this.min_y=0),this.original_bounds={min_x:this.min_x,min_y:this.min_y,max_x:this.max_x,max_y:this.max_y,pxWidth:e,pxHeight:t},this.max_y=t/e*this.max_x,this.$refs.grid.setAttribute("viewBox","0 0 "+(this.max_x-this.min_x)+" "+(this.max_y-this.min_y)),this.$store.dispatch("application/setScaleX",{scaleX:y.scaleLinear().domain([0,e]).range([this.min_x,this.max_x])}),this.$store.dispatch("application/setScaleY",{scaleY:y.scaleLinear().domain([0,t]).range([this.min_y,this.max_y])}),this.calcGrid(),this.centerGrid(),this.drawPolygons()},calcGrid:function(){var e=this,t=y.select("#grid svg"),i=this.max_y-this.min_y,n=this.max_x-this.min_x,r=y.scaleLinear().domain([this.min_x,this.max_x]).range([this.min_x,this.max_x]),s=y.scaleLinear().domain([this.max_y,this.min_y]).range([this.min_y,this.max_y]),o=this.scaleY(1),c=this.scaleY(12)+"px";t.selectAll("*").remove(),this.axis_generator.x=y.axisBottom(r).ticks(n/this.spacing).tickSize(i).tickPadding(this.scaleY(-20)).tickFormat(this.formatTickX.bind(this,Math.floor(10*this.$refs.grid.clientWidth/this.$refs.grid.clientHeight))),this.axis_generator.y=y.axisRight(s).ticks(i/this.spacing).tickSize(n).tickFormat(this.formatTickY.bind(this,10)),this.axis.x=t.append("g").attr("class","axis axis--x").attr("stroke-width",o).style("font-size",c).style("display",this.gridVisible?"inline":"none").call(this.axis_generator.x),this.axis.y=t.append("g").attr("class","axis axis--y").attr("stroke-width",o).style("font-size",c).style("display",this.gridVisible?"inline":"none").call(this.axis_generator.y),this.zoomBehavior=y.zoom().scaleExtent([.02,1/0]).on("zoom",function(){var t=y.event.transform,i=t.k/e.scaleX(1);e.transform=(0,d.default)({},t,{kAbs:i});var n=t.rescaleX(r),o=t.rescaleY(s),c=n.domain(),u=(0,a.default)(c,2);e.min_x=u[0],e.max_x=u[1];var l=o.domain(),f=(0,a.default)(l,2);e.max_y=f[0],e.min_y=f[1];var p=e.max_y-e.min_y,h=e.max_x-e.min_x;e.axis.y.call(e.axis_generator.y.ticks(p/e.spacing)),e.axis.x.call(e.axis_generator.x.ticks(h/e.spacing)),e.axis.x.call(e.axis_generator.x.scale(n)),e.axis.y.call(e.axis_generator.y.scale(o)),e.padTickY(-12),e.drawPolygons()}),t.call(this.zoomBehavior)},centerGrid:function(){var e=this.min_x+(this.max_x-this.min_x)/2,t=this.min_y-(this.max_y-this.min_y)/2;y.select("#grid svg").call(this.zoomBehavior.transform,y.zoomIdentity.translate(e,t))},updateGrid:function(){this.axis.x.style("display",this.gridVisible&&!this.forceGridHide?"inline":"none"),this.axis.y.style("display",this.gridVisible&&!this.forceGridHide?"inline":"none");var e=this.max_y-this.min_y,t=this.max_x-this.min_x;this.axis.y.call(this.axis_generator.y.ticks(e/this.spacing)),this.axis.x.call(this.axis_generator.x.ticks(t/this.spacing))},pxToRWU:function(e,t){if("x"===t){var i=y.scaleLinear().domain([0,this.$refs.grid.clientWidth]).range([this.min_x,this.max_x]);return i(e)}if("y"===t){var n=y.scaleLinear().domain([this.$refs.grid.clientHeight,0]).range([this.min_y,this.max_y]);return n(e)}},pxToGrid:function(e,t){return"x"===t?this.scaleX&&this.scaleX(e):"y"===t?this.scaleY&&this.scaleY(e):void 0},rwuToGrid:function(e,t){if("x"===t){var i=y.scaleLinear().domain([0,this.$refs.grid.clientWidth]).range([this.min_x,this.max_x]),n=i.invert(e);return this.pxToGrid(n,t)}if("y"===t){var r=y.scaleLinear().domain([this.$refs.grid.clientHeight,0]).range([this.min_y,this.max_y]),a=r.invert(e);return this.pxToGrid(a,t);
}},gridToRWU:function(e,t){if(this.scaleX&&this.scaleY){var i;if("x"===t){var n=y.scaleLinear().domain([0,this.$refs.grid.clientWidth]).range([this.min_x,this.max_x]),r=this.scaleX.invert(e);i=n(r)}else if("y"===t){var a=y.scaleLinear().domain([this.$refs.grid.clientHeight,0]).range([this.min_y,this.max_y]),s=this.scaleY.invert(e);i=a(s)}return Math.round(1e11*i)/1e11}},polygonLabelPosition:function(e){var t=this,i=[e.map(function(e){return[t.rwuToGrid(e.x,"x"),t.rwuToGrid(e.y,"y")]})],n=Math.abs(Math.round(p.default.areaOfSelection(e))),r=n?g(i,1):[null,null],s=(0,a.default)(r,2),o=s[0],c=s[1];return{x:o,y:c,area:n}},formatTickX:function(e,t){var i=this.max_x-this.min_x,n=this.spacing,r=Math.ceil(i/e/n)*n;return 0===r||t%r===0?t:""},formatTickY:function(e,t){var i=this.max_y-this.min_y,n=this.spacing,r=Math.ceil(i/e/n)*n;return 0===r||t%r===0?t:""},padTickY:function(e){var t=Math.abs(this.min_y),i=Math.abs(this.max_y),n=(t<i?i:t).toFixed(0).length,r=this.scaleX(e*n);this.axis.y.call(this.axis_generator.y.tickPadding(r))}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(49),a=n(r),s=i(6),o=n(s),c=i(86),d=n(c),u=i(101),l=n(u),f=i(91),p=n(f),h=i(95),m=n(h),y=i(104),g=n(y),v=i(107),_=n(v),x=i(106),b=n(x),S=i(103),w=n(S);a.default.use(o.default),t.default=new o.default.Store({strict:!1,modules:{application:d.default,project:l.default,geometry:p.default,models:m.default},getters:{exportData:g.default},actions:{importModel:_.default,importLibrary:b.default},mutations:w.default})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={clearSubSelections:function(e,t){e.commit("setCurrentShading",{shading:null}),e.commit("setCurrentSpace",{space:null}),e.commit("setCurrentBuildingUnit",{building_unit:null}),e.commit("setCurrentThermalZone",{thermal_zone:null}),e.commit("setCurrentSpaceType",{space_type:null})},setCurrentStory:function(e,t){var i=e.rootState.models.stories.find(function(e){return e.id===t.story.id});~e.rootState.models.stories.map(function(e){return e.id}).indexOf(t.story.id)&&(e.commit("setCurrentStory",{story:i}),e.dispatch("clearSubSelections"))},setCurrentSpace:function(e,t){var i=t.space?e.rootGetters["models/allSpaces"].find(function(e){return e.id===t.space.id}):null;e.dispatch("clearSubSelections"),e.commit("setCurrentSpace",{space:i})},setCurrentShading:function(e,t){var i=t.shading?e.state.currentSelections.story.shading.find(function(e){return e.id===t.shading.id}):null;e.dispatch("clearSubSelections"),e.commit("setCurrentShading",{shading:i})},setCurrentImage:function(e,t){var i=t.image?e.state.currentSelections.story.images.find(function(e){return e.id===t.image.id}):null;e.dispatch("clearSubSelections"),e.commit("setCurrentImage",{image:i})},setCurrentBuildingUnit:function(e,t){var i=t.building_unit?e.rootState.models.library.building_units.find(function(e){return e.id===t.building_unit.id}):null;e.dispatch("clearSubSelections"),e.commit("setCurrentBuildingUnit",{building_unit:i})},setCurrentThermalZone:function(e,t){var i=t.thermal_zone?e.rootState.models.library.thermal_zones.find(function(e){return e.id===t.thermal_zone.id}):null;e.dispatch("clearSubSelections"),e.commit("setCurrentThermalZone",{thermal_zone:i})},setCurrentSpaceType:function(e,t){var i=t.space_type?e.rootState.models.library.space_types.find(function(e){return e.id===t.space_type.id}):null;e.dispatch("clearSubSelections"),e.commit("setCurrentSpaceType",{space_type:i})},setApplicationTool:function(e,t){~e.state.tools.indexOf(t.tool)&&e.commit("setApplicationTool",{tool:t.tool})},setApplicationMode:function(e,t){~e.state.modes.indexOf(t.mode)&&e.commit("setApplicationMode",{mode:t.mode})},setScaleX:function(e,t){e.commit("setScaleX",{scaleX:t.scaleX})},setScaleY:function(e,t){e.commit("setScaleY",{scaleY:t.scaleY})}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r);t.default={currentStoryGeometry:function(e,t,i,n){return i.geometry.find(function(t){return t.id===e.currentSelections.story.geometry_id})},currentSelectionsFace:function(e,t,i,n){return e.currentSelections.space&&e.currentSelections.space.face_id?a.default.faceForId(e.currentSelections.space.face_id,t.currentStoryGeometry):e.currentSelections.shading&&e.currentSelections.shading.face_id?a.default.faceForId(e.currentSelections.shading.face_id,t.currentStoryGeometry):void 0}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(84),a=n(r),s=i(87),o=n(s),c=i(85),d=n(c);t.default={namespaced:!0,state:{currentSelections:{story:null,space:null,shading:null,image:null,building_unit:null,thermal_zone:null,space_type:null,tool:"Rectangle",mode:"spaces"},modes:["spaces","shading","building_units","thermal_zones","space_types","images"],tools:["Drag","Rectangle","Polygon","Eraser","Select","Map","Fill"],scale:{x:null,y:null}},actions:a.default,mutations:o.default,getters:d.default}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={setCurrentStory:function(e,t){e.currentSelections.story=t.story},setCurrentSpace:function(e,t){e.currentSelections.space=t.space},setCurrentShading:function(e,t){e.currentSelections.shading=t.shading},setCurrentImage:function(e,t){e.currentSelections.image=t.image},setCurrentBuildingUnit:function(e,t){e.currentSelections.building_unit=t.building_unit},setCurrentThermalZone:function(e,t){e.currentSelections.thermal_zone=t.thermal_zone},setCurrentSpaceType:function(e,t){e.currentSelections.space_type=t.space_type},setApplicationTool:function(e,t){e.currentSelections.tool=t.tool},setApplicationMode:function(e,t){e.currentSelections.mode=t.mode},setScaleX:function(e,t){e.scale.x=t.scaleX},setScaleY:function(e,t){e.scale.y=t.scaleY}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(35),a=n(r),s=i(50),o=n(s),c=i(7),d=n(c),u=i(5),l=n(u),f=i(89),p=n(f);t.default={initGeometry:function(e,t){var i=t.story_id,n=new o.default.Geometry;e.commit("initGeometry",{geometry:n}),e.dispatch("models/updateStoryWithData",{story:e.rootState.models.stories.find(function(e){return e.id===i}),geometry_id:n.id},{root:!0})},eraseSelection:function(e,t){var i=t.points,n=(0,f.eraseSelection)(i,e);n||window.eventBus.$emit("error","Operation cancelled - no split faces")},moveFaceByOffset:function(e,t){var i,n=t.face_id,r=t.dx,s=t.dy,o=e.rootGetters["application/currentStoryGeometry"],c=d.default.faceForId(n,o),u=d.default.verticesForFaceId(c.id,o).map(function(e){return{x:e.x+r,y:e.y+s}}),f=l.default.modelForFace(e.rootState.models,c.id);e.dispatch("space"===f.type?"models/updateSpaceWithData":"models/updateShadingWithData",(i={},(0,a.default)(i,f.type,f),(0,a.default)(i,"face_id",null),i),{root:!0}),e.dispatch("destroyFaceAndDescendents",{geometry_id:o.id,face:c}),e.dispatch("createFaceFromPoints",{model_id:f.id,points:u})},createFaceFromPoints:p.default,splitEdge:function(e,t){var i=t.edge,n=t.vertex,r=e.rootGetters["application/currentStoryGeometry"],a=new o.default.Edge;a.v1=i.v1,a.v2=n.id,e.commit("createEdge",{geometry_id:r.id,edge:a});var s=new o.default.Edge;s.v1=n.id,s.v2=i.v2,e.commit("createEdge",{geometry_id:r.id,edge:s}),d.default.facesForEdgeId(i.id,r).forEach(function(t){e.commit("createEdgeRef",{geometry_id:r.id,face_id:t.id,edgeRef:{edge_id:a.id,reverse:!1}}),e.commit("createEdgeRef",{geometry_id:r.id,face_id:t.id,edgeRef:{edge_id:s.id,reverse:!1}}),e.commit("destroyEdgeRef",{geometry_id:r.id,edge_id:i.id,face_id:t.id})}),e.commit("destroyGeometry",{id:i.id})},destroyFaceAndDescendents:function(e,t){var i=t.geometry_id,n=t.face,r=e.state.find(function(e){return e.id===i}),a=(!!r.faces.find(function(e){return e.id===n.id}),n.edgeRefs.map(function(e){var t=d.default.edgeForId(e.edge_id,r),i=e.reverse?t.v2:t.v1;return d.default.vertexForId(i,r)}).filter(function(e){return d.default.facesForVertexId(e.id,r).length<2})),s=n.edgeRefs.filter(function(e){return d.default.facesForEdgeId(e.edge_id,r).length<2});e.commit("destroyGeometry",{id:n.id}),s.forEach(function(t){return e.commit("destroyGeometry",{id:t.edge_id})}),a.forEach(function(t){return e.commit("destroyGeometry",{id:t.id})})}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=t.model_id,n=t.points;if(!(n.length<3)){var r,u=e.rootGetters["application/currentStoryGeometry"],l=_.default.libraryObjectWithId(e.rootState.models,i),f=l.face_id?g.default.faceForId(l.face_id,u):null;if(f){var p=g.default.verticesForFaceId(f.id,u);if(r=g.default.setOperation("union",p,n),!r)return void window.eventBus.$emit("error","Operation cancelled - no split faces")}else r=n;var h=o(r,e);if(!h.success)return window.eventBus.$emit("error",h.error),console.error(h.error),void!h.error;if(!a(r,e)&&!f)return void window.eventBus.$emit("error","Operation cancelled - no split faces");s(h,l,e),c(e),d(e)}}function a(e,t){var i=t.rootGetters["application/currentStoryGeometry"];if(!(e.length<3)&&g.default.areaOfSelection(e)){var n=i.faces.filter(function(t){var n=g.default.verticesForFaceId(t.id,i),r=g.default.setOperation("intersection",n,e);return r.length}),r=!0;return n.forEach(function(t){var n=g.default.verticesForFaceId(t.id,i);g.default.setOperation("difference",n,e)||(r=!1)}),!!r&&(n.forEach(function(n){var r,a=g.default.verticesForFaceId(n.id,i),s=_.default.modelForFace(t.rootState.models,n.id),o=g.default.setOperation("difference",a,e);t.dispatch("space"===s.type?"models/updateSpaceWithData":"models/updateShadingWithData",(r={},(0,p.default)(r,s.type,s),(0,p.default)(r,"face_id",null),r),{root:!0}),t.dispatch("destroyFaceAndDescendents",{geometry_id:i.id,face:n}),t.dispatch("createFaceFromPoints",{model_id:s.id,points:o})}),!0)}}function s(e,t,i){var n,r=i.rootGetters["application/currentStoryGeometry"];e.vertices.forEach(function(e){g.default.vertexForId(e.id,r)||i.commit("createVertex",{vertex:e,geometry_id:r.id})});var a=e.edges.map(function(e){var t={edge_id:e.id,reverse:!!e.reverse};return delete e.reverse,t}),s=new m.default.Face(a);e.edges.forEach(function(e){g.default.edgeForId(e.id,r)||i.commit("createEdge",{edge:e,geometry_id:r.id})}),i.dispatch("space"===t.type?"models/updateSpaceWithData":"models/updateShadingWithData",(n={},(0,p.default)(n,t.type,t),(0,p.default)(n,"face_id",s.id),n),{root:!0}),i.commit("createFace",{face:s,geometry_id:r.id})}function o(e,t){var i=t.rootGetters["application/currentStoryGeometry"],n=!1,r=e.map(function(e){e.id&&g.default.vertexForId(e.id,i);return g.default.vertexForCoordinates(e,t.rootGetters["project/snapTolerance"],i)||new m.default.Vertex(e.x,e.y)}),a=r.map(function(e,t){var n=t+1<r.length?r[t+1]:r[0],a=i.edges.find(function(t){return t.v1===e.id&&t.v2===n.id||t.v2===e.id&&t.v1===n.id});return a?(0,l.default)({},a,{reverse:a.v1!==e.id}):new m.default.Edge(e.id,n.id)});return r.some(function(e){if(r.filter(function(t){return t.x===e.x&&t.y===e.y}).length>=2)return n="Duplicate vertex at ("+e.x+", "+e.y+")",!0}),a.some(function(e){var t=r.find(function(t){return t.id===e.v1}),i=r.find(function(t){return t.id===e.v2}),s=r.filter(function(e){if(!(t.id===e.id||i.id===e.id||t.x===e.x&&t.y===e.y||i.x===e.x&&i.y===e.y)){var n=g.default.projectionOfPointToLine(e,{p1:t,p2:i});return g.default.distanceBetweenPoints(e,n)<=1/g.default.clipScale}});return s.length&&(n="An edge is being touched by a vertex on the same face at ("+s[0].x+", "+s[0].y+")",z),a.some(function(e){var a=r.find(function(t){return t.id===e.v1}),s=r.find(function(t){return t.id===e.v2}),o=g.default.intersectionOfLines(t,i,a,s);if(o)return n="Self intersection at "+o.x+", "+o.y,!0})}),n?{success:!1,error:n}:{success:!0,vertices:r,edges:a}}function c(e){var t=e.rootGetters["application/currentStoryGeometry"];t.edges.forEach(function(i){var n=g.default.splittingVerticesForEdgeId(i.id,t);if(n.length){var r=g.default.vertexForId(i.v1,t),a=g.default.vertexForId(i.v2,t);n.sort(function(e,t){var i=Math.sqrt(Math.pow(Math.abs(e.x-r.x),2)+Math.pow(Math.abs(e.y-r.y),2)),n=Math.sqrt(Math.pow(Math.abs(t.x-r.x),2)+Math.pow(Math.abs(t.y-r.y),2));return i>n}),n.unshift(r),n.push(a);for(var s=[],o=0;o<n.length-1;o++){var c=n[o],d=n[o+1],u=new m.default.Edge(c.id,d.id);e.commit("createEdge",{edge:u,geometry_id:t.id}),s.push(u)}var l=g.default.facesForEdgeId(i.id,t);l.forEach(function(n){e.commit("destroyEdgeRef",{geometry_id:t.id,edge_id:i.id,face_id:n.id}),s.forEach(function(i){e.commit("createEdgeRef",{geometry_id:t.id,face_id:n.id,edgeRef:{edge_id:i.id,reverse:!1}})})}),e.commit("destroyGeometry",{id:i.id})}})}function d(e){var t=e.rootGetters["application/currentStoryGeometry"];t.faces.forEach(function(i){for(var n=g.default.edgesForFaceId(i.id,t),r=[],a=!1,s=n[0],o=s.v2;r.length<n.length&&(r.push({edge_id:s.id,reverse:a}),a=!1,s=n.find(function(e){if(e.id!==s.id)return(e.v2!==o&&e.v1!==o||e===n[0]||!~r.map(function(e){return e.edge_id}).indexOf(e.id))&&(e.v2===o?(a=!0,o=e.v1,!0):e.v1===o?(o=e.v2,!0):void 0)}),s!==n[0]););e.commit("setEdgeRefsForFace",{geometry_id:t.id,face_id:i.id,edgeRefs:r})})}Object.defineProperty(t,"__esModule",{value:!0});var u=i(1),l=n(u),f=i(35),p=n(f);t.default=r,t.eraseSelection=a;var h=i(50),m=n(h),y=i(7),g=n(y),v=i(5),_=n(v)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(7),a=n(r);t.default={exportData:function(e,t,i,n){return e.map(function(e){return{id:e.id,vertices:e.vertices.map(function(t){return{id:t.id,x:Number(t.x),y:Number(t.y),edge_ids:a.default.edgesForVertexId(t.id,e).map(function(e){return e.id})}}),edges:e.edges.map(function(t){return{id:t.id,vertex_ids:[t.v1,t.v2],face_ids:a.default.facesForEdgeId(t.id,e).map(function(e){return e.id})}}),faces:e.faces.map(function(e){return{id:e.id,edge_ids:e.edgeRefs.map(function(e){return e.edge_id}),edge_order:e.edgeRefs.map(function(e){return e.reverse?0:1})}})}})}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(88),a=n(r),s=i(92),o=n(s),c=i(90),d=n(c);t.default={namespaced:!0,state:[],actions:a.default,mutations:o.default,getters:d.default}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={initGeometry:function(e,t){var i=t.geometry;e.push(i)},createVertex:function(e,t){var i=t.geometry_id,n=t.vertex;e.find(function(e){return e.id===i}).vertices.push(n)},createEdge:function(e,t){var i=t.geometry_id,n=t.edge;e.find(function(e){return e.id===i}).edges.push(n)},createFace:function(e,t){var i=t.geometry_id,n=t.face;e.find(function(e){return e.id===i}).faces.push(n)},destroyGeometry:function(e,t){for(var i=t.id,n=0;n<e.length;n++){var r=e[n];if(r.id===i){e.splice(e.findIndex(function(e){return e.id===i}),1);break}if(~r.faces.map(function(e){return e.id}).indexOf(i)){r.faces.splice(r.faces.findIndex(function(e){return e.id===i}),1);break}if(~r.edges.map(function(e){return e.id}).indexOf(i)){r.edges.splice(r.edges.findIndex(function(e){return e.id===i}),1);break}if(~r.vertices.map(function(e){return e.id}).indexOf(i)){r.vertices.splice(r.vertices.findIndex(function(e){return e.id===i}),1);break}}},createEdgeRef:function(e,t){var i=t.geometry_id,n=t.face_id,r=t.edgeRef,a=e.find(function(e){return e.id===i}),s=a.faces.find(function(e){return e.id===n}),o=a.edges.find(function(e){return e.id===r.edge_id});o&&s.edgeRefs.push(r)},setEdgeRefsForFace:function(e,t){var i=t.geometry_id,n=t.face_id,r=t.edgeRefs,a=e.find(function(e){return e.id===i}),s=a.faces.find(function(e){return e.id===n});s.edgeRefs=r.filter(function(e){return a.edges.find(function(t){return t.id===e.edge_id})})},destroyEdgeRef:function(e,t){var i=t.geometry_id,n=t.face_id,r=t.edge_id,a=e.find(function(e){return e.id===i}),s=a.faces.find(function(e){return e.id===n});s.edgeRefs.splice(s.edgeRefs.findIndex(function(e){return e.edge_id===r}),1)}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(14),a=n(r),s=i(51),o=n(s),c=i(5),d=n(c);t.default={initStory:function(e){var t=d.default.generateName(e.state,"stories"),i=new o.default.Story(t);e.commit("initStory",{story:i}),e.dispatch("geometry/initGeometry",{story_id:i.id},{root:!0}),e.dispatch("initSpace",{story:i}),e.dispatch("selectStoryAndSpace",{story:i})},initSpace:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story.id}),n=d.default.generateName(e.state,"spaces",i),r=new o.default.Space(n);e.commit("initSpace",{story:i,space:r})},initShading:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story.id}),n=d.default.generateName(e.state,"shading",i),r=new o.default.Shading(n);e.commit("initShading",{story:i,shading:r})},destroyStory:function(e,t){var i=e.state.stories,n=i.findIndex(function(e){return e.id===t.story.id}),r=i[n];e.commit("destroyStory",{story:r}),0===i.length?e.dispatch("initStory"):e.dispatch("selectStoryAndSpace",{story:i[n-1]})},destroySpace:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story.id}),n=i.spaces.find(function(e){return e.id===t.space.id});e.commit("destroySpace",{space:n,story:i});var r=e.rootGetters["application/currentStoryGeometry"].faces.find(function(e){return e.id===n.face_id});r&&e.dispatch("geometry/destroyFaceAndDescendents",{face:r,geometry_id:e.rootGetters["application/currentStoryGeometry"].id},{root:!0})},destroyShading:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story.id}),n=i.shading.find(function(e){return e.id===t.shading.id});e.commit("destroyShading",{shading:n,story:i});var r=e.rootGetters["application/currentStoryGeometry"].faces.find(function(e){return e.id===n.face_id});r&&e.dispatch("geometry/destroyFaceAndDescendents",{face:r,geometry_id:e.rootGetters["application/currentStoryGeometry"].id},{root:!0})},destroyImage:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story.id}),n=i.images.find(function(e){return e.id===t.image.id});e.commit("destroyImage",{image:n,story:i})},destroyObject:function(e,t){e.commit("destroyObject",{object:t.object})},updateStoryWithData:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story.id}),n=(0,a.default)(i),r={};for(var s in t)t.hasOwnProperty(s)&&~n.indexOf(s)&&(r[s]=t[s]);r.story=i,e.commit("updateStoryWithData",r)},updateSpaceWithData:function(e,t){var i=e.getters.allSpaces.find(function(e){return e.id===t.space.id}),n=(0,a.default)(i),r={};for(var s in t)t.hasOwnProperty(s)&&~n.indexOf(s)&&(r[s]=t[s]);r.space=i,e.commit("updateSpaceWithData",r)},updateShadingWithData:function(e,t){var i=e.getters.allShading.find(function(e){return e.id===t.shading.id}),n=(0,a.default)(i),r={};for(var s in t)t.hasOwnProperty(s)&&~n.indexOf(s)&&(r[s]=t[s]);r.shading=i,e.commit("updateShadingWithData",r)},updateImageWithData:function(e,t){var i=e.getters.allImages.find(function(e){return e.id===t.image.id}),n=(0,a.default)(i),r={};for(var s in t)t.hasOwnProperty(s)&&~n.indexOf(s)&&(r[s]=t[s]);r.image=i,e.commit("updateImageWithData",r)},updateObjectWithData:function(e,t){var i=d.default.libraryObjectWithId(e.state,t.object.id);t.object=i,e.commit("updateObjectWithData",t)},createImageForStory:function(e,t){var i=e.state.stories.find(function(e){return e.id===t.story_id}),n=d.default.generateName(e.state,"images",i),r=new Image;r.onload=function(){var r=new o.default.Image(n,t.src);r.height=t.height,r.width=t.width,r.x=t.x,r.y=t.y,e.commit("createImageForStory",{story_id:i.id,image:r})},r.src=t.src},createObjectWithType:function(e,t){var i=t.type,n=d.default.generateName(e.state,i),r=new d.default.map[i].init({name:n});e.commit("initObject",{type:i,object:r})},selectStoryAndSpace:function(e,t){var i=t.story,n=i.spaces[i.spaces.length-1];e.dispatch("application/setCurrentStory",{story:i},{root:!0}),e.dispatch("application/setCurrentSpace",{space:n},{root:!0}),e.dispatch("application/setApplicationMode",{mode:"spaces"},{root:!0})}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(53),a=n(r),s=i(14),o=n(s),c=i(1),d=n(c);t.default={allSpaces:function(e,t,i,n){return i.models.stories.reduce(function(e,t){return e.concat(t.spaces)},[])},allShading:function(e,t,i,n){return i.models.stories.reduce(function(e,t){return e.concat(t.shading)},[])},allImages:function(e,t,i,n){return i.models.stories.reduce(function(e,t){return e.concat(t.images)},[])},all:function(e,t,i,n){var r=(0,d.default)({},i.models.library,{stories:i.models.stories,spaces:t.allSpaces,shading:t.allShading,images:t.allImages});return(0,o.default)(r).reduce(function(e,t){return e.push.apply(e,(0,a.default)(r[t])),e},[])}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(93),a=n(r),s=i(97),o=n(s),c=i(94),d=n(c);t.default={namespaced:!0,state:{stories:[],library:{building_units:[],thermal_zones:[],space_types:[],construction_sets:[],windows:[],daylighting_controls:[]}},actions:a.default,mutations:o.default,getters:d.default}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(51),a=n(r),s=i(98),o=n(s),c={building_units:{displayName:"Building Unit",keymap:{id:{displayName:"ID",readonly:!0,private:!1},name:{displayName:"Name",readonly:!1,input_type:"text",private:!1,validator:o.default.name},color:{displayName:"Color",readonly:!1,input_type:"color",private:!1,validator:o.default.color}},init:a.default.BuildingUnit},thermal_zones:{displayName:"Thermal Zone",keymap:{id:{displayName:"ID",readonly:!0,private:!1},name:{displayName:"Name",readonly:!1,input_type:"text",private:!1,validator:o.default.name},color:{displayName:"Color",readonly:!1,input_type:"color",private:!1,validator:o.default.color}},init:a.default.ThermalZone},space_types:{displayName:"Space Type",keymap:{id:{displayName:"ID",readonly:!0,private:!1},name:{displayName:"Name",readonly:!1,input_type:"text",private:!1,validator:o.default.name},color:{displayName:"Color",readonly:!1,input_type:"color",private:!1,validator:o.default.color}},init:a.default.SpaceType},construction_sets:{displayName:"Construction Set",keymap:{id:{displayName:"ID",readonly:!0,private:!1},name:{displayName:"Name",readonly:!1,input_type:"text",private:!1,validator:o.default.name}},init:a.default.ConstructionSet},windows:{displayName:"Window",keymap:{id:{displayName:"ID",readonly:!0,private:!1},name:{displayName:"Name",readonly:!1,input_type:"text",private:!1,validator:o.default.name},story:{displayName:"Story",readonly:!0,private:!1,get:function(e,t){var i=t.models.stories.find(function(t){return~t.windows.map(function(e){return e.id}).indexOf(e.id)});return i.name}}},init:a.default.Window},daylighting_controls:{displayName:"Daylighting Control",keymap:{id:{displayName:"ID",readonly:!0,private:!1},name:{displayName:"Name",readonly:!1,input_type:"text",private:!1,validator:o.default.name}},init:a.default.DaylightingControl},stories:{displayName:"Story",keymap:{id:{displayName:"ID",readonly:!0,private:!1},name:{displayName:"Name",readonly:!1,input_type:"text",private:!1,validator:o.default.name},handle:{readonly:!0,private:!0},geometry_id:{readonly:!0,private:!0},below_floor_plenum_height:{displayName:"Below Floor Plenum Height",readonly:!1,input_type:"text",private:!1,validator:o.default.number},floor_to_ceiling_height:{displayName:"Floor To Ceiling Height",readonly:!1,input_type:"text",private:!1,validator:o.default.number},multiplier:{displayName:"Multiplier",readonly:!1,input_type:"text",private:!1,validator:o.default.number},spaces:{displayName:"Spaces",readonly:!0,private:!1,get:function(e,t){return e.spaces.map(function(e){return e.name}).join(", ")}},windows:{displayName:"Windows",readonly:!0,private:!1,get:function(e,t){return e.windows.map(function(e){return e.name}).join(", ")}},shading:{displayName:"Shading",readonly:!0,private:!1,get:function(e,t){return e.shading.map(function(e){return e.name}).join(", ")}},images:{readonly:!0,private:!0}}},spaces:{displayName:"Space",keymap:{id:{displayName:"ID",readonly:!0,private:!1},name:{displayName:"Name",readonly:!1,input_type:"text",private:!1,validator:o.default.name},handle:{readonly:!0,private:!0},face_id:{readonly:!0,private:!0},daylighting_controls:{displayName:"Daylighting Controls",readonly:!0,private:!1,get:function(e,t){return e.daylighting_controls.map(function(e){return e.name}).join(", ")}},story:{displayName:"Story",readonly:!0,private:!1,get:function(e,t){var i=t.models.stories.find(function(t){return~t.spaces.map(function(e){return e.id}).indexOf(e.id)});return i.name}},building_unit_id:{displayName:"Building Unit",readonly:!1,input_type:"select",select_data:function(e,t){var i={};return t.models.library.building_units.forEach(function(e){return i[e.name]=e.id}),i},private:!1,get:function(e,t){var i=t.models.library.building_units.find(function(t){return t.id===e.building_unit_id});return i?i.name:null}},thermal_zone_id:{displayName:"Thermal Zone",readonly:!1,input_type:"select",select_data:function(e,t){var i={};return t.models.library.thermal_zones.forEach(function(e){return i[e.name]=e.id}),i},private:!1,get:function(e,t){var i=t.models.library.thermal_zones.find(function(t){return t.id===e.thermal_zone_id});return i?i.name:null}},space_type_id:{displayName:"Space Type",readonly:!1,input_type:"select",select_data:function(e,t){var i={};return t.models.library.space_types.forEach(function(e){return i[e.name]=e.id}),i},private:!1,get:function(e,t){var i=t.models.library.space_types.find(function(t){return t.id===e.space_type_id});return i?i.name:null}},construction_set_id:{displayName:"Construction Set",readonly:!1,input_type:"select",select_data:function(e,t){var i={};return t.models.library.construction_sets.forEach(function(e){return i[e.name]=e.id}),i},private:!1,get:function(e,t){var i=t.models.library.construction_sets.find(function(t){return t.id===e.construction_set_id});return i?i.name:null}},color:{displayName:"Color",readonly:!1,input_type:"color",private:!1,validator:o.default.color}}},shading:{displayName:"Shading",keymap:{id:{displayName:"ID",readonly:!0,private:!1},name:{displayName:"Name",readonly:!1,input_type:"text",private:!1,validator:o.default.name},handle:{readonly:!0,private:!0},face_id:{readonly:!0,private:!0},color:{readonly:!0,private:!0}}},images:{displayName:"Image",keymap:{id:{displayName:"ID",readonly:!0,private:!1},name:{displayName:"Name",readonly:!1,input_type:"text",private:!1,validator:o.default.name},height:{displayName:"Height",readonly:!1,input_type:"text",private:!1,validator:o.default.number},z:{displayName:"z",readonly:!1,input_type:"text",private:!1,validator:o.default.number},opacity:{displayName:"opacity",readonly:!1,input_type:"text",private:!1,validator:o.default.number},x:{displayName:"x",readonly:!1,input_type:"text",private:!1,validator:o.default.number},y:{displayName:"y",readonly:!1,input_type:"text",private:!1,validator:o.default.number},src:{readonly:!0,private:!0}}}};t.default=c},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(52),a=n(r),s=i(5);n(s);t.default={initStory:function(e,t){e.stories.push(t.story)},initSpace:function(e,t){t.story.spaces.push(t.space)},initShading:function(e,t){t.story.shading.push(t.shading)},initObject:function(e,t){e.library[t.type].push(t.object)},destroySpace:function(e,t){t.story.spaces.splice(t.story.spaces.findIndex(function(e){return e.id===t.space.id}),1)},destroyShading:function(e,t){t.story.shading.splice(t.story.shading.findIndex(function(e){return e.id===t.shading.id}),1)},destroyImage:function(e,t){t.story.images.splice(t.story.images.findIndex(function(e){return e.id===t.image.id}),1)},destroyStory:function(e,t){e.stories.splice(e.stories.findIndex(function(e){return e.id===t.story.id}),1)},destroyObject:function(e,t){for(var i in e.library)e.library.hasOwnProperty(i)&&e.library[i].splice(e.library[i].findIndex(function(e){return e.id===t.object.id}),1)},updateStoryWithData:function(e,t){var i=t.story;delete t.story,(0,a.default)(i,t)},createImageForStory:function(e,t){var i=e.stories.find(function(e){return e.id===t.story_id});i.images.push(t.image)},updateSpaceWithData:function(e,t){var i=t.space;(0,a.default)(i,t),delete i.space},updateShadingWithData:function(e,t){var i=t.shading;(0,a.default)(i,t),delete i.shading},updateImageWithData:function(e,t){var i=t.image;(0,a.default)(i,t),delete i.image},updateObjectWithData:function(e,t){var i=t.object;(0,a.default)(i,t),delete i.object}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:function(e,t,i){var n=t.getters["models/all"],r=n.find(function(e){return e.name===i});return r&&r.id!==e.id?{success:!1,error:"Names must be unique."}:i.length<5?{success:!1,error:"Names must be at least 5 characters long."}:{success:!0}},number:function(e,t,i){return isNaN(i)?{success:!1,error:"Value must be numeric"}:{success:!0}}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(108),a=n(r);t.default={setUnits:function(e,t){"m"!==t.units&&"ft"!==t.units||e.commit("setUnits",t)},setLanguage:function(e,t){"EN-US"===t.language&&e.commit("setLanguage",t)},setNorthAxis:function(e,t){var i=t.north_axis;i>360||i<0||e.commit("setConfigNorthAxis",{north_axis:i})},setMapVisible:function(e,t){"boolean"==typeof t.visible&&e.commit("setMapVisible",t)},setMapEnabled:function(e,t){"boolean"==typeof t.enabled&&e.commit("setMapEnabled",t)},setMapInitialized:function(e,t){"boolean"==typeof t.initialized&&e.commit("setMapInitialized",t)},setGridVisible:function(e,t){"boolean"==typeof t.visible&&e.commit("setGridVisible",t)},setSpacing:function(e,t){e.commit("setSpacing",t)},setViewMinX:function(e,t){e.commit("setViewMinX",t)},setViewMinY:function(e,t){e.commit("setViewMinY",t)},setViewMaxX:function(e,t){var i=new a.default(t);i.validateInt("max_x"),i.validateMin("max_x",e.state.view.min_x),e.commit("setViewMaxX",i.validatedPayload)},setViewMaxY:function(e,t){var i=new a.default(t);i.validateInt("max_y"),i.validateMin("max_y",e.state.view.min_y),e.commit("setViewMaxY",i.validatedPayload)},setZoom:function(e,t){e.commit("setMapZoom",t)},setMapLatitude:function(e,t){var i=new a.default(t);i.validateFloat("latitude"),i.validateMax("latitude",180),i.validateMin("latitude",-180),e.commit("setMapLatitude",i.validatedPayload)},setMapLongitude:function(e,t){var i=new a.default(t);i.validateFloat("longitude"),i.validateMax("longitude",180),i.validateMin("longitude",-180),e.commit("setMapLongitude",i.validatedPayload)},setMapZoom:function(e,t){var i=new a.default(t);i.validateFloat("zoom"),e.commit("setMapZoom",{zoom:t.zoom})},setMapRotation:function(e,t){e.dispatch("setNorthAxis",{north_axis:t.rotation/(2*Math.PI)*360}),e.commit("setMapRotation",{rotation:t.rotation})},setPreviousStoryVisible:function(e,t){e.commit("setPreviousStoryVisible",{visible:t.visible})}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={snapTolerance:function(e,t,i,n){var r=.025*Math.abs(e.view.max_x-e.view.min_x);return r<e.grid.spacing?.5*e.grid.spacing:r},angleTolerance:function(){return 20}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(99),a=n(r),s=i(102),o=n(s),c=i(100),d=n(c);t.default={namespaced:!0,state:{config:{units:"ft",language:"EN-US",north_axis:0},grid:{visible:!0,spacing:50},view:{min_x:0,min_y:0,
max_x:1e3,max_y:1e3},map:{initialized:!1,enabled:!0,visible:!0,latitude:39.7653,longitude:-104.9863,zoom:4.5,rotation:0,elevation:0},previous_story:{visible:!0}},actions:a.default,mutations:o.default,getters:d.default}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={setUnits:function(e,t){"units"in t&&(e.config.units=t.units)},setLanguage:function(e,t){"language"in t&&(e.config.language=t.language)},setConfigNorthAxis:function(e,t){"north_axis"in t&&(e.config.north_axis=t.north_axis)},setGridVisible:function(e,t){"visible"in t&&(e.grid.visible=t.visible)},setSpacing:function(e,t){e.grid.spacing=t.spacing},setViewMinX:function(e,t){"min_x"in t&&(e.view.min_x=t.min_x)},setViewMinY:function(e,t){"min_y"in t&&(e.view.min_y=t.min_y)},setViewMaxX:function(e,t){"max_x"in t&&(e.view.max_x=t.max_x)},setViewMaxY:function(e,t){"max_y"in t&&(e.view.max_y=t.max_y)},setMapEnabled:function(e,t){"enabled"in t&&(e.map.enabled=t.enabled)},setMapInitialized:function(e,t){"initialized"in t&&(e.map.initialized=t.initialized)},setMapVisible:function(e,t){"visible"in t&&(e.map.visible=t.visible)},setMapLatitude:function(e,t){"latitude"in t&&(e.map.latitude=t.latitude)},setMapLongitude:function(e,t){"longitude"in t&&(e.map.longitude=t.longitude)},setMapZoom:function(e,t){"zoom"in t&&(e.map.zoom=t.zoom)},setMapRotation:function(e,t){"rotation"in t&&(e.map.rotation=t.rotation)},setPreviousStoryVisible:function(e,t){"visible"in t&&(e.previous_story.visible=t.visible)}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={importState:function(e,t){e.project=t.project,e.application=t.application,e.models=t.models,e.geometry=t.geometry},importLibrary:function(e,t){e.models.library=t}}},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=(0,l.default)({application:e.application,project:e.project,stories:e.models.stories},e.models.library),n=t["geometry/exportData"];return i=JSON.parse((0,d.default)(i)),i.stories.forEach(function(e){e.geometry=n.find(function(t){return t.id===e.geometry_id}),delete e.geometry_id}),a(i),i}function a(e){for(var t in e)"id"!==t&&!~t.indexOf("_id")||"number"!=typeof e[t]||(e[t]=String(e[t])),~t.indexOf("_ids")&&"object"===(0,o.default)(e[t])&&(e[t]=e[t].map(function(e){return String(e)})),null!==e[t]&&"object"===(0,o.default)(e[t])&&a(e[t])}Object.defineProperty(t,"__esModule",{value:!0});var s=i(54),o=n(s),c=i(13),d=n(c),u=i(1),l=n(u);t.default=r},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(33),a=n(r);t.default=function(){var e={space:0,building_unit:0,thermal_zone:0,space_type:0};return function(t){return e[t]++,a.default.palette.colors[e[t]%a.default.palette.colors.length]}}()},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var i=0,n=(0,s.default)(t.data);n.forEach(function(n){if("project"!==n){var r=e.state.models.library[n].map(function(e){return/_\d+[\w\s]?$/.test(e.name)?e.name.split("_").slice(0,-1).join("_"):e.name});t.data[n]=t.data[n].map(function(e){var t=e;t.id=c.default.generate();var n=r.filter(function(t){return t===e.name}).length;return n&&(t.name+="_"+n),i+=1,t})}}),window.eventBus.$emit("success","Imported "+i+" object"+(1!==i?"s":"")),e.commit("importLibrary",{building_units:e.state.models.library.building_units.concat(t.data.building_units||[]),thermal_zones:e.state.models.library.thermal_zones.concat(t.data.thermal_zones||[]),space_types:e.state.models.library.space_types.concat(t.data.space_types||[]),construction_sets:e.state.models.library.construction_sets.concat(t.data.construction_sets||[]),windows:e.state.models.library.windows.concat(t.data.windows||[]),daylighting_controls:e.state.models.library.daylighting_controls.concat(t.data.daylighting_controls||[])})}Object.defineProperty(t,"__esModule",{value:!0});var a=i(14),s=n(a);t.default=r;var o=i(25),c=n(o)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var i=JSON.parse((0,c.default)(t.data.stories.map(function(e){return e.geometry}))),n=0;n<i.length;n++)i[n].faces=i[n].faces.map(function(e){return{id:e.id,edgeRefs:e.edge_ids.map(function(t,i){return{edge_id:t,reverse:!e.edge_order[i]}})}}),i[n].edges=i[n].edges.map(function(e){return{id:e.id,v1:e.vertex_ids[0],v2:e.vertex_ids[1]}}),i[n].vertices=i[n].vertices.map(function(e){return{id:e.id,x:e.x,y:e.y,X:e.x,Y:e.y}});t.data.stories.forEach(function(e){e.geometry_id=e.geometry.id,delete e.geometry}),t.data.application.scale.x=e.state.application.scale.x,t.data.application.scale.y=e.state.application.scale.y;var r=t.data.application.currentSelections,a=t.data.stories.find(function(e){return e.id===r.story.id});r.story=a,r.space=r.space?a.spaces.find(function(e){return e.id===r.space.id}):null,r.shading=r.shading?a.shading.find(function(e){return e.id===r.shading.id}):null,r.building_unit=r.building_unit?t.data.library.building_units.find(function(e){return e.id===r.building_unit.id}):null,r.thermal_zone=r.thermal_zone?t.data.library.thermal_zones.find(function(e){return e.id===r.thermal_zone.id}):null,r.space_type=r.space_type?t.data.library.space_types.find(function(e){return e.id===r.space_type.id}):null;var o=0;!function e(t){for(var i in t)t.hasOwnProperty(i)&&(o="id"===i&&Number(t[i])>o?Number(t[i]):o,null!==t[i]&&"object"===(0,s.default)(t[i])&&e(t[i]))}(t),u.default.setId(o),e.commit("importState",{project:t.data.project,application:t.data.application,models:{stories:t.data.stories,library:{building_units:t.data.building_units,thermal_zones:t.data.thermal_zones,space_types:t.data.space_types,construction_sets:t.data.construction_sets,windows:t.data.windows,daylighting_controls:t.data.daylighting_controls}},geometry:i}),document.getElementById("svg-grid").dispatchEvent(new Event("reloadGrid"))}Object.defineProperty(t,"__esModule",{value:!0});var a=i(54),s=n(a),o=i(13),c=n(o);t.default=r;var d=i(25),u=n(d);i(22)},function(e,t){"use strict";function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[];return{invalidKeys:i,validatedPayload:t,validateLength:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n in e&&i.indexOf(n)===-1&&(n in e&&e[n].length>=r?t[n]=e[n]:(delete t[n],i.push(n)))},validateMin:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n in e&&i.indexOf(n)===-1&&(e[n]>r?t[n]=e[n]:(delete t[n],i.push(n)))},validateMax:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n in e&&i.indexOf(n)===-1&&(n in e&&e[n]<r?t[n]=e[n]:(delete t[n],i.push(n)))},validateFloat:function(n){n in e&&i.indexOf(n)===-1&&(n in e&&!isNaN(parseFloat(e[n]))?t[n]=parseFloat(e[n]):(delete t[n],i.push(n)))},validateInt:function(n){n in e&&i.indexOf(n)===-1&&(n in e&&!isNaN(parseInt(e[n]))?t[n]=parseInt(e[n]):(delete t[n],i.push(n)))},validateBoolean:function(n){n in e&&i.indexOf(n)===-1&&(n in e?t[n]=!!e[n]:(delete t[n],i.push(n)))}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t){"use strict";function i(e,t){var i=Date.now();return function(){var n=Date.now();if(i+t<n){i=n;for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];e.apply(this,a)}}}function n(e,t){var i;return function(){for(var n=this,r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];clearTimeout(i),i=setTimeout(function(){i=null,e.apply(n,a)},t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=i,t.debounce=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,,,,,function(e,t,i){i(169),i(170);var n=i(3)(i(70),i(208),"data-v-782d1b60",null);e.exports=n.exports},function(e,t,i){i(172);var n=i(3)(i(71),i(210),"data-v-d8d46712",null);e.exports=n.exports},function(e,t,i){i(163);var n=i(3)(i(72),i(203),"data-v-312b6cd2",null);e.exports=n.exports},function(e,t,i){i(162);var n=i(3)(i(73),i(202),"data-v-2a0d4266",null);e.exports=n.exports},function(e,t,i){i(168);var n=i(3)(i(74),i(207),"data-v-6c2e0a12",null);e.exports=n.exports},function(e,t,i){i(164);var n=i(3)(i(75),i(204),"data-v-37303d42",null);e.exports=n.exports},function(e,t,i){i(173);var n=i(3)(i(76),i(211),"data-v-e5aa45ba",null);e.exports=n.exports},function(e,t,i){i(167);var n=i(3)(i(77),i(206),"data-v-64853c42",null);e.exports=n.exports},function(e,t,i){i(171);var n=i(3)(i(78),i(209),"data-v-7b01355c",null);e.exports=n.exports},function(e,t,i){i(160),i(161);var n=i(3)(i(79),i(201),"data-v-1ee3ccf7",null);e.exports=n.exports},function(e,t,i){i(165),i(166);var n=i(3)(i(80),i(205),"data-v-386bfa78",null);e.exports=n.exports},function(e,t,i){i(159);var n=i(3)(i(81),i(200),"data-v-1dbce3e3",null);e.exports=n.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("nav",{attrs:{id:"toolbar"}},[i("section",{staticClass:"settings"},[i("div",{staticClass:"input-checkbox"},[i("label",[e._v("Story Below")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.previousStoryVisible,expression:"previousStoryVisible"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.previousStoryVisible)?e._i(e.previousStoryVisible,null)>-1:e.previousStoryVisible},on:{__c:function(t){var i=e.previousStoryVisible,n=t.target,r=!!n.checked;if(Array.isArray(i)){var a=null,s=e._i(i,a);r?s<0&&(e.previousStoryVisible=i.concat(a)):s>-1&&(e.previousStoryVisible=i.slice(0,s).concat(i.slice(s+1)))}else e.previousStoryVisible=r}}})]),e._v(" "),e.mapEnabled?i("div",{staticClass:"input-checkbox"},[i("label",[e._v("map")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.mapVisible,expression:"mapVisible"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.mapVisible)?e._i(e.mapVisible,null)>-1:e.mapVisible},on:{__c:function(t){var i=e.mapVisible,n=t.target,r=!!n.checked;if(Array.isArray(i)){var a=null,s=e._i(i,a);r?s<0&&(e.mapVisible=i.concat(a)):s>-1&&(e.mapVisible=i.slice(0,s).concat(i.slice(s+1)))}else e.mapVisible=r}}})]):e._e(),e._v(" "),i("div",{staticClass:"input-checkbox"},[i("label",[e._v("grid")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.gridVisible,expression:"gridVisible"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.gridVisible)?e._i(e.gridVisible,null)>-1:e.gridVisible},on:{__c:function(t){var i=e.gridVisible,n=t.target,r=!!n.checked;if(Array.isArray(i)){var a=null,s=e._i(i,a);r?s<0&&(e.gridVisible=i.concat(a)):s>-1&&(e.gridVisible=i.slice(0,s).concat(i.slice(s+1)))}else e.gridVisible=r}}})]),e._v(" "),i("div",{staticClass:"input-number"},[i("label",[e._v("spacing")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number.lazy",value:e.spacing,expression:"spacing",modifiers:{number:!0,lazy:!0}}],domProps:{value:e.spacing},on:{change:function(t){e.spacing=e._n(t.target.value)},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),i("div",{staticClass:"input-number"},[i("label",[e._v("north axis")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model.number.lazy",value:e.northAxis,expression:"northAxis",modifiers:{number:!0,lazy:!0}}],attrs:{disabled:e.mapEnabled},domProps:{value:e.northAxis},on:{change:function(t){e.northAxis=e._n(t.target.value)},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),i("div",{attrs:{id:"import-export"}},[i("input",{ref:"importLibrary",attrs:{type:"file"},on:{change:e.importLibraryAsFile}}),e._v(" "),i("button",{on:{click:function(t){e.$refs.importLibrary.click()}}},[e._v("Import Library")]),e._v(" "),i("input",{ref:"importInput",attrs:{type:"file"},on:{change:e.importModelAsFile}}),e._v(" "),i("button",{attrs:{id:"import"},on:{click:function(t){e.$refs.importInput.click()}}},[e._v("Open Floorplan")]),e._v(" "),i("button",{attrs:{id:"export"},on:{click:e.exportData}},[e._v("Save Floorplan")])])]),e._v(" "),i("section",{staticClass:"tools"},e._l(e.availableTools,function(t){return i("button",{class:{active:e.tool===t},on:{click:function(i){e.tool=t}}},[e._v(e._s(t))])}))])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{attrs:{id:"resize"}},[e.resizeTop?i("div",{ref:"topbar",staticClass:"resize-bar",attrs:{id:"top-bar"}}):e._e(),e._v(" "),e.resizeRight?i("div",{ref:"rightbar",staticClass:"resize-bar",attrs:{id:"right-bar"}}):e._e(),e._v(" "),e._t("default")],2)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"map-container"}},[i("div",{ref:"map",style:{"pointer-events":"Map"===e.tool?"all":"none"},attrs:{id:"map"}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"Map"===e.tool,expression:"tool === 'Map'"}],attrs:{id:"autocomplete"}},[i("span",{staticClass:"input-text"},[i("input",{ref:"addressSearch",attrs:{type:"text",placeholder:"Search for a location"}})]),e._v(" "),i("button",{on:{click:e.finishSetup}},[e._v("Done")])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"Map"===e.tool,expression:"tool === 'Map'"}],attrs:{id:"help-text"}},[i("p",[e._v("Drag the map and/or search to set desired location.  Use alt+shift to rotate the north axis. Click 'Done' when finished.")])]),e._v(" "),e.mapModalVisible&&!e.mapInitialized?i("map-modal",{on:{close:function(t){e.mapModalVisible=!1,e.showReticle()}}}):e._e(),e._v(" "),i("svg",{attrs:{id:"reticle"}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"images",style:{"pointer-events":"Drag"===e.currentTool?"all":"none"},attrs:{id:"images"}})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{attrs:{id:"inspector"}},[i("section",{staticClass:"list",attrs:{id:"geometry-list"}},[e._l(e.currentStoryGeometry.faces,function(t){return e.currentSpace||e.currentShading?e._e():[i("header",[i("h3",[e._v("Face "+e._s(t.id))])]),e._v(" "),e._l(t.edgeRefs,function(t){return i("div",{staticClass:"list-item"},[e._v("\n                edge "+e._s(t.edge_id)+" "+e._s(t.reverse?"reversed ":"")+"\n                "),i("br"),e._v("startpoint "+e._s(e.startpoint(t))+"\n                "),i("br"),e._v("endpoint "+e._s(e.endpoint(t))+"\n            ")])})]}),e._v(" "),e.currentSelectionsFace?[i("header",[i("h3",[e._v("Face "+e._s(e.currentSelectionsFace.id)+" on "+e._s(e.currentSpace?e.currentSpace.name:e.currentShading.name))])]),e._v(" "),e._l(e.currentSelectionsFace.edgeRefs,function(t){return i("div",{staticClass:"list-item"},[e._v("\n                edge "+e._s(t.edge_id)+" "+e._s(t.reverse?"reversed ":"")+"\n                "),i("br"),e._v("startpoint "+e._s(e.startpoint(t))+"\n                "),i("br"),e._v("endpoint "+e._s(e.endpoint(t))+"\n            ")])})]:e._e()],2)])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._t("default")],2)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("aside",[i("div",{staticClass:"overlay",on:{click:function(t){e.$emit("close")}}}),e._v(" "),i("div",{staticClass:"modal"},[e._m(0),e._v(" "),i("div",{staticClass:"content"},[i("p",[e._v("Choose to either open an existing floorplan, start a new floorplan without a map, or start a new floorplan with a geolocated map.")]),e._v(" "),i("button",{attrs:{id:"import"},on:{click:function(t){e.$refs.importInput.click()}}},[e._v("Open Floorplan")]),e._v(" "),i("button",{on:{click:function(t){e.mapEnabled=!1,e.mapVisible=!1,e.$emit("close")}}},[e._v("New Floorplan")]),e._v(" "),i("button",{on:{click:function(t){e.mapEnabled=!0,e.tool="Map",e.$emit("close")}}},[e._v("New Floorplan w/ Map")]),e._v(" "),i("input",{ref:"importInput",attrs:{type:"file"},on:{change:e.importModelAsFile}})])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("header",[i("h2",[e._v("Quick Start")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:{"pointer-events":"Drag"===e.currentTool||"Map"===e.currentTool?"none":"all"},attrs:{id:"grid"}},[i("svg",{ref:"grid",attrs:{preserveAspectRatio:"none",id:"svg-grid"}})])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:"tool_"+e.tool.toLowerCase(),attrs:{id:"app"}},[i("toolbar",{class:{"disabled-component":"Map"===e.tool}}),e._v(" "),i("resize-group",{attrs:{vertical:!0}},[i("resize-group",{attrs:{horizontal:!0,id:"layout-main"}},[i("resize",{attrs:{id:"layout-navigation","resize-right":!0,"resize-right-min":200}},[i("navigation",{class:{"disabled-component":"Map"===e.tool}})],1),e._v(" "),i("main",[i("div",{directives:[{name:"show",rawName:"v-show",value:e.error||e.success,expression:"error || success"}],class:{error:e.error,success:e.success},attrs:{id:"alert-text"}},[i("p",[e._v(e._s(e.error||e.success))])]),e._v(" "),i("canvas-view"),e._v(" "),i("grid-view")],1)],1),e._v(" "),i("resize",{attrs:{id:"layout-library","resize-top":!0,"resize-top-min":100}},[i("library",{class:{"disabled-component":"Map"===e.tool}})],1)],1)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("nav",{attrs:{id:"navigation"}},[i("section",{attrs:{id:"selections"}},[i("div",{staticClass:"input-select"},[i("select",{directives:[{name:"model",rawName:"v-model",value:e.mode,expression:"mode"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.mode=t.target.multiple?i:i[0]}}},e._l(e.modes,function(t){return i("option",{domProps:{value:t}},[e._v(e._s(e.displayNameForMode(t)))])})),e._v(" "),i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 14",height:"10px"}},[i("path",{attrs:{d:"M.5 0v14l11-7-11-7z",transform:"translate(13) rotate(90)"}})])]),e._v(" "),"images"==e.mode?[i("input",{ref:"fileInput",attrs:{type:"file"},on:{change:e.uploadImage}}),e._v(" "),i("button",{on:{click:function(t){e.$refs.fileInput.click()}}},[i("svg",{attrs:{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M208 122h-74V48c0-3.534-2.466-6.4-6-6.4s-6 2.866-6 6.4v74H48c-3.534 0-6.4 2.466-6.4 6s2.866 6 6.4 6h74v74c0 3.534 2.466 6.4 6 6.4s6-2.866 6-6.4v-74h74c3.534 0 6.4-2.466 6.4-6s-2.866-6-6.4-6z"}})]),e._v("\n                "+e._s(e.displayNameForMode(e.mode))+"\n            ")])]:i("button",{on:{click:function(t){e.createItem()}}},[i("svg",{attrs:{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M208 122h-74V48c0-3.534-2.466-6.4-6-6.4s-6 2.866-6 6.4v74H48c-3.534 0-6.4 2.466-6.4 6s2.866 6 6.4 6h74v74c0 3.534 2.466 6.4 6 6.4s6-2.866 6-6.4v-74h74c3.534 0 6.4-2.466 6.4-6s-2.866-6-6.4-6z"}})]),e._v("\n            "+e._s(e.displayNameForMode(e.mode))+"\n        ")])],2),e._v(" "),i("section",{attrs:{id:"breadcrumbs"}},[i("button",{on:{click:function(t){e.createItem("stories")}}},[i("svg",{attrs:{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M208 122h-74V48c0-3.534-2.466-6.4-6-6.4s-6 2.866-6 6.4v74H48c-3.534 0-6.4 2.466-6.4 6s2.866 6 6.4 6h74v74c0 3.534 2.466 6.4 6 6.4s6-2.866 6-6.4v-74h74c3.534 0 6.4-2.466 6.4-6s-2.866-6-6.4-6z"}})]),e._v("\n            "+e._s(e.displayNameForMode("stories"))+"\n        ")]),e._v(" "),i("span",[e._v("\n            "+e._s(e.currentStory.name)+"\n            "),e.currentSubSelection?[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 14"}},[i("path",{attrs:{d:"M.5 0v14l11-7-11-7z"}})]),e._v("\n                "+e._s(e.currentSubSelection.name)+"\n            ")]:e._e()],2)]),e._v(" "),i("div",{attrs:{id:"list"}},[i("section",{attrs:{id:"story-list"}},e._l(e.stories,function(t){return i("div",{key:t.id,class:{active:e.currentStory&&e.currentStory.id===t.id},style:{"background-color":t&&t.color},on:{click:function(i){e.selectItem(t,"stories")}}},[e._v("\n                "+e._s(t.name)+"\n                "),i("svg",{attrs:{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(i){e.destroyItem(t,"stories")}}},[i("path",{attrs:{d:"M137.05 128l75.476-75.475c2.5-2.5 2.5-6.55 0-9.05s-6.55-2.5-9.05 0L128 118.948 52.525 43.474c-2.5-2.5-6.55-2.5-9.05 0s-2.5 6.55 0 9.05L118.948 128l-75.476 75.475c-2.5 2.5-2.5 6.55 0 9.05 1.25 1.25 2.888 1.876 4.525 1.876s3.274-.624 4.524-1.874L128 137.05l75.475 75.476c1.25 1.25 2.888 1.875 4.525 1.875s3.275-.624 4.525-1.874c2.5-2.5 2.5-6.55 0-9.05L137.05 128z"}})])])})),e._v(" "),i("section",{attrs:{id:"subselection-list"}},e._l(e.items,function(t){return i("div",{key:t.id,class:{active:e.currentSubSelection&&e.currentSubSelection.id===t.id},style:{"background-color":t&&e.currentSubSelection&&e.currentSubSelection.id===t.id?t.color:""},on:{click:function(i){e.selectItem(t)}}},[i("span",{style:{"background-color":t&&t.color}}),e._v("\n                "+e._s(t.name)+"\n                "),i("svg",{attrs:{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(i){e.destroyItem(t)}}},[i("path",{attrs:{d:"M137.05 128l75.476-75.475c2.5-2.5 2.5-6.55 0-9.05s-6.55-2.5-9.05 0L128 118.948 52.525 43.474c-2.5-2.5-6.55-2.5-9.05 0s-2.5 6.55 0 9.05L118.948 128l-75.476 75.475c-2.5 2.5-2.5 6.55 0 9.05 1.25 1.25 2.888 1.876 4.525 1.876s3.274-.624 4.524-1.874L128 137.05l75.475 75.476c1.25 1.25 2.888 1.875 4.525 1.875s3.275-.624 4.525-1.874c2.5-2.5 2.5-6.55 0-9.05L137.05 128z"}})])])}))])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"canvas",attrs:{id:"canvas"}},[i("svg",{attrs:{id:"north_axis",height:"1792",viewBox:"0 0 1792 1792",width:"1792",xmlns:"http://www.w3.org/2000/svg",transform:"rotate("+e.northAxis+")"}},[i("path",{attrs:{d:"M1277 493q-9 19-29 19h-224v1248q0 14-9 23t-23 9H800q-14 0-23-9t-9-23V512H544q-21 0-29-19t5-35L870 74q10-10 23-10 14 0 24 10l355 384q13 16 5 35z"}})]),e._v(" "),e.mapEnabled?i("map-view",{directives:[{name:"show",rawName:"v-show",value:e.mapVisible,expression:"mapVisible"}]}):e._e(),e._v(" "),i("images-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{attrs:{id:"library"}},[i("header",[i("div",{staticClass:"input-text"},[i("label",[e._v("Search")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}})]),e._v(" "),i("div",{staticClass:"input-select"},[i("label",[e._v("Type")]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.type,expression:"type"}],on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.type=t.target.multiple?i:i[0]}}},e._l(e.extendedLibrary,function(t,n){return i("option",{domProps:{value:n}},[e._v(e._s(e.displayTypeForType(n)))])})),e._v(" "),i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 14",height:"10px"}},[i("path",{attrs:{d:"M.5 0v14l11-7-11-7z",transform:"translate(13) rotate(90)"}})])]),e._v(" "),i("button",{on:{click:e.createItem}},[e._v("New")])]),e._v(" "),i("table",{staticClass:"table"},[i("thead",[i("tr",[e._l(e.columns,function(t){return i("th",{on:{click:function(i){e.sortBy(t)}}},[i("span",[i("span",[e._v(e._s(e.displayNameForKey(t)))]),e._v(" "),i("svg",{directives:[{name:"show",rawName:"v-show",value:t===e.sortKey&&e.sortDescending,expression:"column === sortKey && sortDescending"}],attrs:{viewBox:"0 0 10 3",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M0 .5l5 5 5-5H0z"}})]),e._v(" "),i("svg",{directives:[{name:"show",rawName:"v-show",value:t===e.sortKey&&!e.sortDescending,expression:"column === sortKey && !sortDescending"}],attrs:{viewBox:"0 0 10 3",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M0 5.5l5-5 5 5H0z"}})])])])}),e._v(" "),i("th",{staticClass:"destroy"})],2)]),e._v(" "),i("tbody",e._l(e.displayObjects,function(t){return i("tr",{key:t.id,style:{"background-color":e.selectedObject&&e.selectedObject.id===t.id?"#008500":""},on:{click:function(i){e.selectedObject=t}}},[e._l(e.columns,function(n){return i("td",{on:{mouseover:function(i){e.toggleError(t,n,!0)},mouseout:function(i){e.toggleError(t,n,!1)}}},[e.errorForObjectAndKey(t,n)&&e.errorForObjectAndKey(t,n).visible?i("div",{staticClass:"tooltip-error"},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 14"}},[i("path",{attrs:{d:"M.5 0v14l11-7-11-7z"}})]),e._v(" "),i("span",[e._v(e._s(e.errorForObjectAndKey(t,n).message))])]):e._e(),e._v(" "),e.inputTypeForKey(n)?e._e():i("input",{attrs:{readonly:""},domProps:{value:e.valueForKey(t,n)},on:{change:function(i){e.setValueForKey(t,n,i.target.value)}}}),e._v(" "),"text"===e.inputTypeForKey(n)?i("input",{domProps:{value:e.valueForKey(t,n)},on:{change:function(i){e.setValueForKey(t,n,i.target.value)}}}):e._e(),e._v(" "),"color"===e.inputTypeForKey(n)?i("div",{staticClass:"input-color"},["color"===e.inputTypeForKey(n)?i("input",{attrs:{"object-id":t.id},domProps:{value:e.valueForKey(t,n)},on:{change:function(i){e.setValueForKey(t,n,i.target.value)}}}):e._e()]):e._e(),e._v(" "),"select"===e.inputTypeForKey(n)?i("div",{staticClass:"input-select"},[i("select",{on:{change:function(i){e.setValueForKey(t,n,i.target.value)}}},[i("option",{attrs:{value:"null"},domProps:{selected:!e.valueForKey(t,n)}},[e._v("None")]),e._v(" "),e._l(e.selectOptionsForObjectAndKey(t,n),function(r,a){return i("option",{domProps:{value:r,selected:e.valueForKey(t,n)===a}},[e._v(e._s(a))])})],2),e._v(" "),i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 13 14",height:"10px"}},[i("path",{attrs:{d:"M.5 0v14l11-7-11-7z",transform:"translate(13) rotate(90)"}})])]):e._e()])}),e._v(" "),i("td",{staticClass:"destroy"},[i("svg",{attrs:{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(i){e.destroyObject(t)}}},[i("path",{attrs:{d:"M137.05 128l75.476-75.475c2.5-2.5 2.5-6.55 0-9.05s-6.55-2.5-9.05 0L128 118.948 52.525 43.474c-2.5-2.5-6.55-2.5-9.05 0s-2.5 6.55 0 9.05L118.948 128l-75.476 75.475c-2.5 2.5-2.5 6.55 0 9.05 1.25 1.25 2.888 1.876 4.525 1.876s3.274-.624 4.524-1.874L128 137.05l75.475 75.476c1.25 1.25 2.888 1.875 4.525 1.875s3.275-.624 4.525-1.874c2.5-2.5 2.5-6.55 0-9.05L137.05 128z"}})])])],2)}))])])},staticRenderFns:[]}},function(e,t){},function(e,t){}]);
//# sourceMappingURL=app.d79f6868d2450b23fa7c.js.map</script>
    </body>
</html>